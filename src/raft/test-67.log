=== RUN   TestSnapshotInstall2D
Test (2D): install snapshots (disconnect) ...
term 1 server 0 vote for server 1
term 1 server 1 get vote from server 0
term 1 server 1 become leader
------------------------------------------------------
term 1 server 2 vote for server 1
term 1 server 1 get outdate rpc reply from server 2
flag 83980 term 1 leader 1 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 21569 term 1 leader 1 nextIndex[2]: 1  matchIndex[2]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=1
update matchIndex[2]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=1
update matchIndex[0]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
client write log 3947488450979864788 (index 1) to leader 1
flag 35389 term 1 leader 1 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 42120 term 1 leader 1 nextIndex[2]: 1  matchIndex[2]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3947488450979864788 1 1}]
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3947488450979864788 1 1}]
------------------------------------------------------
flag 82061 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 45946 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3947488450979864788 1 1}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3947488450979864788 1 1}]
------------------------------------------------------
flag 91913 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 47800 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3947488450979864788 1 1}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3947488450979864788 1 1}]
------------------------------------------------------
flag 83220 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 71719 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3947488450979864788 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3947488450979864788 1 1}]
------------------------------------------------------
flag 24673 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 25870 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3947488450979864788 1 1}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3947488450979864788 1 1}]
------------------------------------------------------
flag 56700 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 41561 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3947488450979864788 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3947488450979864788 1 1}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 6650672403405912227 (index 2) to leader 1
flag 4951 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 70874 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=3
update matchIndex[0]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {3947488450979864788 1 1} {6650672403405912227 1 2}]
------------------------------------------------------
flag 87508 term 1 leader 1 nextIndex[0]: 3  matchIndex[0]: 2
term 1 leader 1 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 97210 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=3
update matchIndex[0]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {3947488450979864788 1 1} {6650672403405912227 1 2}]
------------------------------------------------------
client write log 2348694368824021660 (index 3) to leader 1
client write log 9153756750941461476 (index 4) to leader 1
client write log 3864801471844359807 (index 5) to leader 1
client write log 666364434001956076 (index 6) to leader 1
client write log 5028608843015308043 (index 7) to leader 1
client write log 2396963554273797821 (index 8) to leader 1
client write log 2810284807558678947 (index 9) to leader 1
client write log 374734639664378933 (index 10) to leader 1
client write log 7543471095156943073 (index 11) to leader 1
client write log 1004850462815485777 (index 12) to leader 1
flag 66847 term 1 leader 1 nextIndex[0]: 3  matchIndex[0]: 2
term 1 leader 1 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 84423 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{<nil> 0 0} {3947488450979864788 1 1} {6650672403405912227 1 2} {2348694368824021660 1 3} {9153756750941461476 1 4} {3864801471844359807 1 5} {666364434001956076 1 6} {5028608843015308043 1 7} {2396963554273797821 1 8} {2810284807558678947 1 9} {374734639664378933 1 10} {7543471095156943073 1 11} {1004850462815485777 1 12}]
------------------------------------------------------
term 1 Server1 start snapshot! index=9
term 1 server1 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=12
-------------------------------------------------------------
flag 45630 term 1 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 1 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {374734639664378933 1 10} {7543471095156943073 1 11} {1004850462815485777 1 12}]
------------------------------------------------------
term 1 Server0 start snapshot! index=9
term 1 server0 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=12
-------------------------------------------------------------
!!!!!!connect server 2
client write log 7266345811095504599 (index 13) to leader 1
term 1 server 1 not vote for server 2, 日志不够新
term 1 server 0 not vote for server 2, 日志不够新
term 3 server 2 vote for server 1
term 3 server 0 vote for server 1
term 3 server 1 get vote from server 2
term 3 server 1 become leader
------------------------------------------------------
term 3 server 1 get outdate rpc reply from server 0
flag 95093 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 0
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 79586 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 0
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 14->13
------------------------------------------------------
term 3 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 14->13
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13708 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 0
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 leader 1 nextIndex[2]: 2  matchIndex[2]: 0
term 3 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 3 server 2 InstallSnapshot success
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
term 3 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 10 matchIndex[2] 9 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {374734639664378933 1 10} {7543471095156943073 1 11} {1004850462815485777 1 12} {7266345811095504599 1 13}]
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 9 rf.lastIncludedTerm 1 rf.commitIndex 9 rf.lastApplied 9
flag 90004 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 49794 term 3 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {374734639664378933 1 10} {7543471095156943073 1 11} {1004850462815485777 1 12} {7266345811095504599 1 13}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {374734639664378933 1 10} {7543471095156943073 1 11} {1004850462815485777 1 12} {7266345811095504599 1 13}]
------------------------------------------------------
flag 53337 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 76780 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {374734639664378933 1 10} {7543471095156943073 1 11} {1004850462815485777 1 12} {7266345811095504599 1 13}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {374734639664378933 1 10} {7543471095156943073 1 11} {1004850462815485777 1 12} {7266345811095504599 1 13}]
------------------------------------------------------
flag 45570 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 36571 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {374734639664378933 1 10} {7543471095156943073 1 11} {1004850462815485777 1 12} {7266345811095504599 1 13}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {374734639664378933 1 10} {7543471095156943073 1 11} {1004850462815485777 1 12} {7266345811095504599 1 13}]
------------------------------------------------------
flag 94372 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 95902 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {374734639664378933 1 10} {7543471095156943073 1 11} {1004850462815485777 1 12} {7266345811095504599 1 13}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {374734639664378933 1 10} {7543471095156943073 1 11} {1004850462815485777 1 12} {7266345811095504599 1 13}]
------------------------------------------------------
flag 28635 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 28356 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {374734639664378933 1 10} {7543471095156943073 1 11} {1004850462815485777 1 12} {7266345811095504599 1 13}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {374734639664378933 1 10} {7543471095156943073 1 11} {1004850462815485777 1 12} {7266345811095504599 1 13}]
------------------------------------------------------
flag 74455 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 33495 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {374734639664378933 1 10} {7543471095156943073 1 11} {1004850462815485777 1 12} {7266345811095504599 1 13}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {374734639664378933 1 10} {7543471095156943073 1 11} {1004850462815485777 1 12} {7266345811095504599 1 13}]
------------------------------------------------------
flag 81306 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 90861 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {374734639664378933 1 10} {7543471095156943073 1 11} {1004850462815485777 1 12} {7266345811095504599 1 13}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {374734639664378933 1 10} {7543471095156943073 1 11} {1004850462815485777 1 12} {7266345811095504599 1 13}]
------------------------------------------------------
flag 89559 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 81351 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {374734639664378933 1 10} {7543471095156943073 1 11} {1004850462815485777 1 12} {7266345811095504599 1 13}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {374734639664378933 1 10} {7543471095156943073 1 11} {1004850462815485777 1 12} {7266345811095504599 1 13}]
------------------------------------------------------
flag 41203 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 437 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {374734639664378933 1 10} {7543471095156943073 1 11} {1004850462815485777 1 12} {7266345811095504599 1 13}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {374734639664378933 1 10} {7543471095156943073 1 11} {1004850462815485777 1 12} {7266345811095504599 1 13}]
------------------------------------------------------
flag 44055 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 60193 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {374734639664378933 1 10} {7543471095156943073 1 11} {1004850462815485777 1 12} {7266345811095504599 1 13}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {374734639664378933 1 10} {7543471095156943073 1 11} {1004850462815485777 1 12} {7266345811095504599 1 13}]
------------------------------------------------------
flag 42122 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 1715 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {374734639664378933 1 10} {7543471095156943073 1 11} {1004850462815485777 1 12} {7266345811095504599 1 13}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {374734639664378933 1 10} {7543471095156943073 1 11} {1004850462815485777 1 12} {7266345811095504599 1 13}]
------------------------------------------------------
flag 37183 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 72387 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {374734639664378933 1 10} {7543471095156943073 1 11} {1004850462815485777 1 12} {7266345811095504599 1 13}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {374734639664378933 1 10} {7543471095156943073 1 11} {1004850462815485777 1 12} {7266345811095504599 1 13}]
------------------------------------------------------
flag 4859 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 42295 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {374734639664378933 1 10} {7543471095156943073 1 11} {1004850462815485777 1 12} {7266345811095504599 1 13}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {374734639664378933 1 10} {7543471095156943073 1 11} {1004850462815485777 1 12} {7266345811095504599 1 13}]
------------------------------------------------------
flag 85836 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 17525 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {374734639664378933 1 10} {7543471095156943073 1 11} {1004850462815485777 1 12} {7266345811095504599 1 13}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {374734639664378933 1 10} {7543471095156943073 1 11} {1004850462815485777 1 12} {7266345811095504599 1 13}]
------------------------------------------------------
flag 40305 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 68627 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {374734639664378933 1 10} {7543471095156943073 1 11} {1004850462815485777 1 12} {7266345811095504599 1 13}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {374734639664378933 1 10} {7543471095156943073 1 11} {1004850462815485777 1 12} {7266345811095504599 1 13}]
------------------------------------------------------
flag 67488 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 81080 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {374734639664378933 1 10} {7543471095156943073 1 11} {1004850462815485777 1 12} {7266345811095504599 1 13}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {374734639664378933 1 10} {7543471095156943073 1 11} {1004850462815485777 1 12} {7266345811095504599 1 13}]
------------------------------------------------------
flag 4230 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 37962 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {374734639664378933 1 10} {7543471095156943073 1 11} {1004850462815485777 1 12} {7266345811095504599 1 13}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {374734639664378933 1 10} {7543471095156943073 1 11} {1004850462815485777 1 12} {7266345811095504599 1 13}]
------------------------------------------------------
client write log 7266345811095504599 (index 14) to leader 1
flag 84655 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 71875 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {374734639664378933 1 10} {7543471095156943073 1 11} {1004850462815485777 1 12} {7266345811095504599 1 13} {7266345811095504599 3 14}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {374734639664378933 1 10} {7543471095156943073 1 11} {1004850462815485777 1 12} {7266345811095504599 1 13} {7266345811095504599 3 14}]
------------------------------------------------------
flag 90527 term 3 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 75453 term 3 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {374734639664378933 1 10} {7543471095156943073 1 11} {1004850462815485777 1 12} {7266345811095504599 1 13} {7266345811095504599 3 14}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {374734639664378933 1 10} {7543471095156943073 1 11} {1004850462815485777 1 12} {7266345811095504599 1 13} {7266345811095504599 3 14}]
------------------------------------------------------
flag 82825 term 3 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 43156 term 3 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {374734639664378933 1 10} {7543471095156943073 1 11} {1004850462815485777 1 12} {7266345811095504599 1 13} {7266345811095504599 3 14}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {374734639664378933 1 10} {7543471095156943073 1 11} {1004850462815485777 1 12} {7266345811095504599 1 13} {7266345811095504599 3 14}]
------------------------------------------------------
flag 32092 term 3 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 5462 term 3 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {374734639664378933 1 10} {7543471095156943073 1 11} {1004850462815485777 1 12} {7266345811095504599 1 13} {7266345811095504599 3 14}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {374734639664378933 1 10} {7543471095156943073 1 11} {1004850462815485777 1 12} {7266345811095504599 1 13} {7266345811095504599 3 14}]
------------------------------------------------------
flag 18809 term 3 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 40762 term 3 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {374734639664378933 1 10} {7543471095156943073 1 11} {1004850462815485777 1 12} {7266345811095504599 1 13} {7266345811095504599 3 14}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {374734639664378933 1 10} {7543471095156943073 1 11} {1004850462815485777 1 12} {7266345811095504599 1 13} {7266345811095504599 3 14}]
------------------------------------------------------
flag 71041 term 3 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 23550 term 3 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {374734639664378933 1 10} {7543471095156943073 1 11} {1004850462815485777 1 12} {7266345811095504599 1 13} {7266345811095504599 3 14}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {374734639664378933 1 10} {7543471095156943073 1 11} {1004850462815485777 1 12} {7266345811095504599 1 13} {7266345811095504599 3 14}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 37469 term 3 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 42564 term 3 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 54406 term 3 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 36336 term 3 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 38874 term 3 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 60868 term 3 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 65442 term 3 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 74615 term 3 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
term 4 server 0 vote for server 2
term 4 server 2 get vote from server 0
term 4 server 2 become leader
------------------------------------------------------
flag 67630 term 4 leader 2 nextIndex[0]: 15  matchIndex[0]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 1279 term 4 leader 2 nextIndex[1]: 15  matchIndex[1]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {374734639664378933 1 10} {7543471095156943073 1 11} {1004850462815485777 1 12} {7266345811095504599 1 13} {7266345811095504599 3 14}]
------------------------------------------------------
client write log 3341025144966805492 (index 15) to leader 2
flag 28117 term 3 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 11808 term 3 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 98619 term 4 leader 2 nextIndex[0]: 15  matchIndex[0]: 14
term 4 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 22989 term 4 leader 2 nextIndex[1]: 15  matchIndex[1]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {374734639664378933 1 10} {7543471095156943073 1 11} {1004850462815485777 1 12} {7266345811095504599 1 13} {7266345811095504599 3 14} {3341025144966805492 4 15}]
------------------------------------------------------
flag 20922 term 3 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 5623 term 3 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 96087 term 4 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 4 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
flag 37871 term 4 leader 2 nextIndex[1]: 15  matchIndex[1]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {374734639664378933 1 10} {7543471095156943073 1 11} {1004850462815485777 1 12} {7266345811095504599 1 13} {7266345811095504599 3 14} {3341025144966805492 4 15}]
------------------------------------------------------
client write log 4919105947535922061 (index 16) to leader 2
client write log 9035453535769589099 (index 17) to leader 2
client write log 5178792598996719612 (index 18) to leader 2
client write log 4744876933025978246 (index 19) to leader 2
client write log 3376982146315774450 (index 20) to leader 2
client write log 1867114298561446050 (index 21) to leader 2
flag 22076 term 3 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 73021 term 3 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 15->14
------------------------------------------------------
flag 87443 term 4 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 4 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
flag 31502 term 4 leader 2 nextIndex[1]: 15  matchIndex[1]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=22
update matchIndex[0]=21
update leader CommitIndex=21
leader log:
[{snapshot 1 9} {374734639664378933 1 10} {7543471095156943073 1 11} {1004850462815485777 1 12} {7266345811095504599 1 13} {7266345811095504599 3 14} {3341025144966805492 4 15} {4919105947535922061 4 16} {9035453535769589099 4 17} {5178792598996719612 4 18} {4744876933025978246 4 19} {3376982146315774450 4 20} {1867114298561446050 4 21}]
------------------------------------------------------
term 4 Server2 start snapshot! index=19
term 4 server2 snapshot success
lastIncludedIndex=19 lastApplied=20 lastIndex=21
-------------------------------------------------------------
flag 65851 term 3 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
term 3 leader 1 nextIndex[2]: 0  matchIndex[2]: 14
term 3 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 38240 term 4 leader 2 nextIndex[0]: 22  matchIndex[0]: 21
term 4 leader 2 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 leader 2 nextIndex[1]: 15  matchIndex[1]: 0
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=22
update matchIndex[0]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {3376982146315774450 4 20} {1867114298561446050 4 21}]
------------------------------------------------------
term 4 Server0 start snapshot! index=19
term 4 server0 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=21
-------------------------------------------------------------
!!!!!!connect server 1
client write log 173986486572576401 (index 15) to leader 1
flag 87546 term 3 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
term 3 leader 1 nextIndex[2]: 0  matchIndex[2]: 14
term 3 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 4 server 0 AppendEntries false 领导者任期过期 args.Term 3
------------------------------------------------------
term 4 server 2 InstallSnapshot false 领导者任期过期
leader 1 sendAppendEntries -> server 0 false 任期过期
------------------------------------------------------
------------------------------------------------------
term 4 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16130 term 4 leader 2 nextIndex[0]: 22  matchIndex[0]: 21
term 4 leader 2 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 leader 2 nextIndex[1]: 15  matchIndex[1]: 0
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 1 InstallSnapshot success
------------------------------------------------------
term 4 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 20 matchIndex[1] 19 
------------------------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=22
update matchIndex[0]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {3376982146315774450 4 20} {1867114298561446050 4 21}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 19 rf.lastIncludedTerm 4 rf.commitIndex 19 rf.lastApplied 19
flag 35443 term 4 leader 2 nextIndex[0]: 22  matchIndex[0]: 21
term 4 leader 2 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 16636 term 4 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=22
update matchIndex[0]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {3376982146315774450 4 20} {1867114298561446050 4 21}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {3376982146315774450 4 20} {1867114298561446050 4 21}]
------------------------------------------------------
flag 80748 term 4 leader 2 nextIndex[0]: 22  matchIndex[0]: 21
term 4 leader 2 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 14077 term 4 leader 2 nextIndex[1]: 22  matchIndex[1]: 21
term 4 leader 2 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:21 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {3376982146315774450 4 20} {1867114298561446050 4 21}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=22
update matchIndex[0]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {3376982146315774450 4 20} {1867114298561446050 4 21}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33991 term 4 leader 2 nextIndex[0]: 22  matchIndex[0]: 21
term 4 leader 2 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 18065 term 4 leader 2 nextIndex[1]: 22  matchIndex[1]: 21
term 4 leader 2 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=22
update matchIndex[0]=21
term 4 server 1 AppendEntries true commitIndex:21 
------------------------------------------------------
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {3376982146315774450 4 20} {1867114298561446050 4 21}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {3376982146315774450 4 20} {1867114298561446050 4 21}]
------------------------------------------------------
flag 16881 term 4 leader 2 nextIndex[0]: 22  matchIndex[0]: 21
term 4 leader 2 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 46505 term 4 leader 2 nextIndex[1]: 22  matchIndex[1]: 21
term 4 leader 2 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {3376982146315774450 4 20} {1867114298561446050 4 21}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=22
update matchIndex[0]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {3376982146315774450 4 20} {1867114298561446050 4 21}]
------------------------------------------------------
flag 15752 term 4 leader 2 nextIndex[0]: 22  matchIndex[0]: 21
term 4 leader 2 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 22583 term 4 leader 2 nextIndex[1]: 22  matchIndex[1]: 21
term 4 leader 2 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:21 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {3376982146315774450 4 20} {1867114298561446050 4 21}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=22
update matchIndex[0]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {3376982146315774450 4 20} {1867114298561446050 4 21}]
------------------------------------------------------
flag 50274 term 4 leader 2 nextIndex[0]: 22  matchIndex[0]: 21
term 4 leader 2 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 96387 term 4 leader 2 nextIndex[1]: 22  matchIndex[1]: 21
term 4 leader 2 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:21 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=22
update matchIndex[0]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {3376982146315774450 4 20} {1867114298561446050 4 21}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {3376982146315774450 4 20} {1867114298561446050 4 21}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27918 term 4 leader 2 nextIndex[0]: 22  matchIndex[0]: 21
term 4 leader 2 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 6893 term 4 leader 2 nextIndex[1]: 22  matchIndex[1]: 21
term 4 leader 2 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=22
update matchIndex[1]=21
term 4 server 0 AppendEntries true commitIndex:21 
------------------------------------------------------
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {3376982146315774450 4 20} {1867114298561446050 4 21}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=22
update matchIndex[0]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {3376982146315774450 4 20} {1867114298561446050 4 21}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 22->21
------------------------------------------------------
flag 90610 term 4 leader 2 nextIndex[0]: 22  matchIndex[0]: 21
term 4 leader 2 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 leader 2 nextIndex[1]: 0  matchIndex[1]: 21
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 1 InstallSnapshot fail
rf.commitIndex 21 args.LastIncludedIndex 19
------------------------------------------------------
term 4 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 20 matchIndex[1] 19 
------------------------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=22
update matchIndex[0]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {3376982146315774450 4 20} {1867114298561446050 4 21}]
------------------------------------------------------
flag 19377 term 4 leader 2 nextIndex[0]: 22  matchIndex[0]: 21
term 4 leader 2 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 86010 term 4 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:21 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {3376982146315774450 4 20} {1867114298561446050 4 21}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=22
update matchIndex[0]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {3376982146315774450 4 20} {1867114298561446050 4 21}]
------------------------------------------------------
flag 83314 term 4 leader 2 nextIndex[0]: 22  matchIndex[0]: 21
term 4 leader 2 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 22054 term 4 leader 2 nextIndex[1]: 22  matchIndex[1]: 21
term 4 leader 2 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {3376982146315774450 4 20} {1867114298561446050 4 21}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=22
update matchIndex[0]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {3376982146315774450 4 20} {1867114298561446050 4 21}]
------------------------------------------------------
term 4 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 20 matchIndex[1] 19 
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31804 term 4 leader 2 nextIndex[0]: 22  matchIndex[0]: 21
term 4 leader 2 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 66074 term 4 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {3376982146315774450 4 20} {1867114298561446050 4 21}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=22
update matchIndex[0]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {3376982146315774450 4 20} {1867114298561446050 4 21}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22100 term 4 leader 2 nextIndex[0]: 22  matchIndex[0]: 21
term 4 leader 2 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 35780 term 4 leader 2 nextIndex[1]: 22  matchIndex[1]: 21
term 4 leader 2 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:21 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {3376982146315774450 4 20} {1867114298561446050 4 21}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=22
update matchIndex[0]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {3376982146315774450 4 20} {1867114298561446050 4 21}]
------------------------------------------------------
flag 94638 term 4 leader 2 nextIndex[0]: 22  matchIndex[0]: 21
term 4 leader 2 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 61020 term 4 leader 2 nextIndex[1]: 22  matchIndex[1]: 21
term 4 leader 2 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {3376982146315774450 4 20} {1867114298561446050 4 21}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=22
update matchIndex[0]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {3376982146315774450 4 20} {1867114298561446050 4 21}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99136 term 4 leader 2 nextIndex[0]: 22  matchIndex[0]: 21
term 4 leader 2 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 97155 term 4 leader 2 nextIndex[1]: 22  matchIndex[1]: 21
term 4 leader 2 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=22
update matchIndex[0]=21
update leader CommitIndex=21
leader log:
term 4 server 1 AppendEntries true commitIndex:21 
------------------------------------------------------
[{snapshot 4 19} {3376982146315774450 4 20} {1867114298561446050 4 21}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {3376982146315774450 4 20} {1867114298561446050 4 21}]
------------------------------------------------------
flag 11565 term 4 leader 2 nextIndex[0]: 22  matchIndex[0]: 21
term 4 leader 2 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 17999 term 4 leader 2 nextIndex[1]: 22  matchIndex[1]: 21
term 4 leader 2 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:21 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=22
update matchIndex[0]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {3376982146315774450 4 20} {1867114298561446050 4 21}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {3376982146315774450 4 20} {1867114298561446050 4 21}]
------------------------------------------------------
flag 80231 term 4 leader 2 nextIndex[0]: 22  matchIndex[0]: 21
term 4 leader 2 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 38875 term 4 leader 2 nextIndex[1]: 22  matchIndex[1]: 21
term 4 leader 2 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {3376982146315774450 4 20} {1867114298561446050 4 21}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=22
update matchIndex[0]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {3376982146315774450 4 20} {1867114298561446050 4 21}]
------------------------------------------------------
flag 88319 term 4 leader 2 nextIndex[0]: 22  matchIndex[0]: 21
term 4 leader 2 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 21239 term 4 leader 2 nextIndex[1]: 22  matchIndex[1]: 21
term 4 leader 2 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:21 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=22
update matchIndex[0]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {3376982146315774450 4 20} {1867114298561446050 4 21}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {3376982146315774450 4 20} {1867114298561446050 4 21}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49629 term 4 leader 2 nextIndex[0]: 22  matchIndex[0]: 21
term 4 leader 2 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 38143 term 4 leader 2 nextIndex[1]: 22  matchIndex[1]: 21
term 4 leader 2 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {3376982146315774450 4 20} {1867114298561446050 4 21}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=22
update matchIndex[0]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {3376982146315774450 4 20} {1867114298561446050 4 21}]
------------------------------------------------------
flag 11662 term 4 leader 2 nextIndex[0]: 22  matchIndex[0]: 21
term 4 leader 2 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 26217 term 4 leader 2 nextIndex[1]: 22  matchIndex[1]: 21
term 4 leader 2 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=22
update matchIndex[0]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {3376982146315774450 4 20} {1867114298561446050 4 21}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {3376982146315774450 4 20} {1867114298561446050 4 21}]
------------------------------------------------------
client write log 173986486572576401 (index 22) to leader 2
flag 61122 term 4 leader 2 nextIndex[0]: 22  matchIndex[0]: 21
term 4 leader 2 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 74018 term 4 leader 2 nextIndex[1]: 22  matchIndex[1]: 21
term 4 leader 2 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:21 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=23
update matchIndex[0]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {3376982146315774450 4 20} {1867114298561446050 4 21} {173986486572576401 4 22}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=23
update matchIndex[1]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {3376982146315774450 4 20} {1867114298561446050 4 21} {173986486572576401 4 22}]
------------------------------------------------------
term 4 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 88138 term 4 leader 2 nextIndex[0]: 23  matchIndex[0]: 22
term 4 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 22795 term 4 leader 2 nextIndex[1]: 23  matchIndex[1]: 22
term 4 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=23
update matchIndex[0]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {3376982146315774450 4 20} {1867114298561446050 4 21} {173986486572576401 4 22}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=23
update matchIndex[1]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {3376982146315774450 4 20} {1867114298561446050 4 21} {173986486572576401 4 22}]
------------------------------------------------------
flag 51628 term 4 leader 2 nextIndex[0]: 23  matchIndex[0]: 22
term 4 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 77434 term 4 leader 2 nextIndex[1]: 23  matchIndex[1]: 22
term 4 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=23
update matchIndex[1]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {3376982146315774450 4 20} {1867114298561446050 4 21} {173986486572576401 4 22}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=23
update matchIndex[0]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {3376982146315774450 4 20} {1867114298561446050 4 21} {173986486572576401 4 22}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94548 term 4 leader 2 nextIndex[0]: 23  matchIndex[0]: 22
term 4 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 98371 term 4 leader 2 nextIndex[1]: 23  matchIndex[1]: 22
term 4 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=23
update matchIndex[1]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {3376982146315774450 4 20} {1867114298561446050 4 21} {173986486572576401 4 22}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=23
update matchIndex[0]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {3376982146315774450 4 20} {1867114298561446050 4 21} {173986486572576401 4 22}]
------------------------------------------------------
flag 81055 term 4 leader 2 nextIndex[0]: 23  matchIndex[0]: 22
term 4 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 20303 term 4 leader 2 nextIndex[1]: 23  matchIndex[1]: 22
term 4 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=23
update matchIndex[0]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {3376982146315774450 4 20} {1867114298561446050 4 21} {173986486572576401 4 22}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=23
update matchIndex[1]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {3376982146315774450 4 20} {1867114298561446050 4 21} {173986486572576401 4 22}]
------------------------------------------------------
flag 36538 term 4 leader 2 nextIndex[0]: 23  matchIndex[0]: 22
term 4 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 64388 term 4 leader 2 nextIndex[1]: 23  matchIndex[1]: 22
term 4 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=23
update matchIndex[1]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {3376982146315774450 4 20} {1867114298561446050 4 21} {173986486572576401 4 22}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=23
update matchIndex[0]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {3376982146315774450 4 20} {1867114298561446050 4 21} {173986486572576401 4 22}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 23->22
------------------------------------------------------
flag 42389 term 4 leader 2 nextIndex[0]: 23  matchIndex[0]: 22
term 4 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 4 leader 2 nextIndex[1]: 0  matchIndex[1]: 22
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 1 InstallSnapshot fail
rf.commitIndex 22 args.LastIncludedIndex 19
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
term 4 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 20 matchIndex[1] 19 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=23
update matchIndex[0]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {3376982146315774450 4 20} {1867114298561446050 4 21} {173986486572576401 4 22}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 7514720302219549365 (index 23) to leader 2
flag 42431 term 4 leader 2 nextIndex[0]: 23  matchIndex[0]: 22
term 4 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 58743 term 4 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {3376982146315774450 4 20} {1867114298561446050 4 21} {173986486572576401 4 22} {7514720302219549365 4 23}]
------------------------------------------------------
flag 97800 term 4 leader 2 nextIndex[0]: 23  matchIndex[0]: 22
term 4 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 46092 term 4 leader 2 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {3376982146315774450 4 20} {1867114298561446050 4 21} {173986486572576401 4 22} {7514720302219549365 4 23}]
------------------------------------------------------
client write log 8286565443186568020 (index 24) to leader 2
client write log 6723570872502702860 (index 25) to leader 2
client write log 8859315475957706885 (index 26) to leader 2
client write log 5591619184774226753 (index 27) to leader 2
client write log 729584626658582068 (index 28) to leader 2
client write log 5991506191600559849 (index 29) to leader 2
client write log 1428184901605006259 (index 30) to leader 2
client write log 5306156691751546796 (index 31) to leader 2
client write log 7413672991206668365 (index 32) to leader 2
client write log 1939561207274698804 (index 33) to leader 2
flag 74644 term 4 leader 2 nextIndex[0]: 23  matchIndex[0]: 22
term 4 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 31997 term 4 leader 2 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 19} {3376982146315774450 4 20} {1867114298561446050 4 21} {173986486572576401 4 22} {7514720302219549365 4 23} {8286565443186568020 4 24} {6723570872502702860 4 25} {8859315475957706885 4 26} {5591619184774226753 4 27} {729584626658582068 4 28} {5991506191600559849 4 29} {1428184901605006259 4 30} {5306156691751546796 4 31} {7413672991206668365 4 32} {1939561207274698804 4 33}]
------------------------------------------------------
term 4 Server2 start snapshot! index=29
term 4 server2 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=33
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 4 leader 2 nextIndex[0]: 23  matchIndex[0]: 22
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
flag 83499 term 4 leader 2 nextIndex[1]: 34  matchIndex[1]: 33
term 4 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {1428184901605006259 4 30} {5306156691751546796 4 31} {7413672991206668365 4 32} {1939561207274698804 4 33}]
------------------------------------------------------
term 4 Server1 start snapshot! index=29
term 4 server1 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=33
-------------------------------------------------------------
!!!!!!connect server 0
client write log 4881640176295004237 (index 34) to leader 2
term 4 server 2 not vote for server 0, 日志不够新
term 4 server 1 not vote for server 0, 日志不够新
term 6 server 1 vote for server 2
term 6 server 0 vote for server 2
term 6 server 2 get vote from server 1
term 6 server 2 become leader
------------------------------------------------------
term 6 server 2 get outdate rpc reply from server 0
flag 78886 term 6 leader 2 nextIndex[0]: 35  matchIndex[0]: 0
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 22275 term 6 leader 2 nextIndex[1]: 35  matchIndex[1]: 0
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 6 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 35->34
------------------------------------------------------
term 6 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 35->34
------------------------------------------------------
term 6 leader 2 nextIndex[0]: 23  matchIndex[0]: 0
term 6 leader 2 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
flag 64509 term 6 leader 2 nextIndex[1]: 34  matchIndex[1]: 0
term 6 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
term 6 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {1428184901605006259 4 30} {5306156691751546796 4 31} {7413672991206668365 4 32} {1939561207274698804 4 33} {4881640176295004237 4 34}]
------------------------------------------------------
term 6 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 30 matchIndex[0] 29 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 29 rf.lastIncludedTerm 4 rf.commitIndex 29 rf.lastApplied 29
flag 66502 term 6 leader 2 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 2 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 64046 term 6 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {1428184901605006259 4 30} {5306156691751546796 4 31} {7413672991206668365 4 32} {1939561207274698804 4 33} {4881640176295004237 4 34}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {1428184901605006259 4 30} {5306156691751546796 4 31} {7413672991206668365 4 32} {1939561207274698804 4 33} {4881640176295004237 4 34}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77379 term 6 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 93697 term 6 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {1428184901605006259 4 30} {5306156691751546796 4 31} {7413672991206668365 4 32} {1939561207274698804 4 33} {4881640176295004237 4 34}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {1428184901605006259 4 30} {5306156691751546796 4 31} {7413672991206668365 4 32} {1939561207274698804 4 33} {4881640176295004237 4 34}]
------------------------------------------------------
flag 94466 term 6 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 82789 term 6 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {1428184901605006259 4 30} {5306156691751546796 4 31} {7413672991206668365 4 32} {1939561207274698804 4 33} {4881640176295004237 4 34}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {1428184901605006259 4 30} {5306156691751546796 4 31} {7413672991206668365 4 32} {1939561207274698804 4 33} {4881640176295004237 4 34}]
------------------------------------------------------
flag 63340 term 6 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 99242 term 6 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {1428184901605006259 4 30} {5306156691751546796 4 31} {7413672991206668365 4 32} {1939561207274698804 4 33} {4881640176295004237 4 34}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {1428184901605006259 4 30} {5306156691751546796 4 31} {7413672991206668365 4 32} {1939561207274698804 4 33} {4881640176295004237 4 34}]
------------------------------------------------------
flag 59031 term 6 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 50043 term 6 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {1428184901605006259 4 30} {5306156691751546796 4 31} {7413672991206668365 4 32} {1939561207274698804 4 33} {4881640176295004237 4 34}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {1428184901605006259 4 30} {5306156691751546796 4 31} {7413672991206668365 4 32} {1939561207274698804 4 33} {4881640176295004237 4 34}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59320 term 6 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 9274 term 6 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {1428184901605006259 4 30} {5306156691751546796 4 31} {7413672991206668365 4 32} {1939561207274698804 4 33} {4881640176295004237 4 34}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {1428184901605006259 4 30} {5306156691751546796 4 31} {7413672991206668365 4 32} {1939561207274698804 4 33} {4881640176295004237 4 34}]
------------------------------------------------------
flag 36981 term 6 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 14959 term 6 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {1428184901605006259 4 30} {5306156691751546796 4 31} {7413672991206668365 4 32} {1939561207274698804 4 33} {4881640176295004237 4 34}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {1428184901605006259 4 30} {5306156691751546796 4 31} {7413672991206668365 4 32} {1939561207274698804 4 33} {4881640176295004237 4 34}]
------------------------------------------------------
flag 82096 term 6 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 92067 term 6 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {1428184901605006259 4 30} {5306156691751546796 4 31} {7413672991206668365 4 32} {1939561207274698804 4 33} {4881640176295004237 4 34}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {1428184901605006259 4 30} {5306156691751546796 4 31} {7413672991206668365 4 32} {1939561207274698804 4 33} {4881640176295004237 4 34}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19536 term 6 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 31999 term 6 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {1428184901605006259 4 30} {5306156691751546796 4 31} {7413672991206668365 4 32} {1939561207274698804 4 33} {4881640176295004237 4 34}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {1428184901605006259 4 30} {5306156691751546796 4 31} {7413672991206668365 4 32} {1939561207274698804 4 33} {4881640176295004237 4 34}]
------------------------------------------------------
flag 97373 term 6 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 36948 term 6 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {1428184901605006259 4 30} {5306156691751546796 4 31} {7413672991206668365 4 32} {1939561207274698804 4 33} {4881640176295004237 4 34}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {1428184901605006259 4 30} {5306156691751546796 4 31} {7413672991206668365 4 32} {1939561207274698804 4 33} {4881640176295004237 4 34}]
------------------------------------------------------
flag 44739 term 6 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 75409 term 6 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {1428184901605006259 4 30} {5306156691751546796 4 31} {7413672991206668365 4 32} {1939561207274698804 4 33} {4881640176295004237 4 34}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {1428184901605006259 4 30} {5306156691751546796 4 31} {7413672991206668365 4 32} {1939561207274698804 4 33} {4881640176295004237 4 34}]
------------------------------------------------------
flag 73992 term 6 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 83945 term 6 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {1428184901605006259 4 30} {5306156691751546796 4 31} {7413672991206668365 4 32} {1939561207274698804 4 33} {4881640176295004237 4 34}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {1428184901605006259 4 30} {5306156691751546796 4 31} {7413672991206668365 4 32} {1939561207274698804 4 33} {4881640176295004237 4 34}]
------------------------------------------------------
flag 16579 term 6 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 17643 term 6 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {1428184901605006259 4 30} {5306156691751546796 4 31} {7413672991206668365 4 32} {1939561207274698804 4 33} {4881640176295004237 4 34}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {1428184901605006259 4 30} {5306156691751546796 4 31} {7413672991206668365 4 32} {1939561207274698804 4 33} {4881640176295004237 4 34}]
------------------------------------------------------
term 6 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 84225 term 6 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 98537 term 6 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {1428184901605006259 4 30} {5306156691751546796 4 31} {7413672991206668365 4 32} {1939561207274698804 4 33} {4881640176295004237 4 34}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {1428184901605006259 4 30} {5306156691751546796 4 31} {7413672991206668365 4 32} {1939561207274698804 4 33} {4881640176295004237 4 34}]
------------------------------------------------------
flag 98060 term 6 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 49753 term 6 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {1428184901605006259 4 30} {5306156691751546796 4 31} {7413672991206668365 4 32} {1939561207274698804 4 33} {4881640176295004237 4 34}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {1428184901605006259 4 30} {5306156691751546796 4 31} {7413672991206668365 4 32} {1939561207274698804 4 33} {4881640176295004237 4 34}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78226 term 6 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 7103 term 6 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {1428184901605006259 4 30} {5306156691751546796 4 31} {7413672991206668365 4 32} {1939561207274698804 4 33} {4881640176295004237 4 34}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {1428184901605006259 4 30} {5306156691751546796 4 31} {7413672991206668365 4 32} {1939561207274698804 4 33} {4881640176295004237 4 34}]
------------------------------------------------------
flag 65372 term 6 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 83376 term 6 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {1428184901605006259 4 30} {5306156691751546796 4 31} {7413672991206668365 4 32} {1939561207274698804 4 33} {4881640176295004237 4 34}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {1428184901605006259 4 30} {5306156691751546796 4 31} {7413672991206668365 4 32} {1939561207274698804 4 33} {4881640176295004237 4 34}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1573 term 6 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 1606 term 6 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {1428184901605006259 4 30} {5306156691751546796 4 31} {7413672991206668365 4 32} {1939561207274698804 4 33} {4881640176295004237 4 34}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {1428184901605006259 4 30} {5306156691751546796 4 31} {7413672991206668365 4 32} {1939561207274698804 4 33} {4881640176295004237 4 34}]
------------------------------------------------------
client write log 4881640176295004237 (index 35) to leader 2
flag 74288 term 6 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 19875 term 6 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {1428184901605006259 4 30} {5306156691751546796 4 31} {7413672991206668365 4 32} {1939561207274698804 4 33} {4881640176295004237 4 34} {4881640176295004237 6 35}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=36
update matchIndex[0]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {1428184901605006259 4 30} {5306156691751546796 4 31} {7413672991206668365 4 32} {1939561207274698804 4 33} {4881640176295004237 4 34} {4881640176295004237 6 35}]
------------------------------------------------------
flag 25041 term 6 leader 2 nextIndex[0]: 36  matchIndex[0]: 35
term 6 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
flag 53243 term 6 leader 2 nextIndex[1]: 36  matchIndex[1]: 35
term 6 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {1428184901605006259 4 30} {5306156691751546796 4 31} {7413672991206668365 4 32} {1939561207274698804 4 33} {4881640176295004237 4 34} {4881640176295004237 6 35}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=36
update matchIndex[0]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {1428184901605006259 4 30} {5306156691751546796 4 31} {7413672991206668365 4 32} {1939561207274698804 4 33} {4881640176295004237 4 34} {4881640176295004237 6 35}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8901 term 6 leader 2 nextIndex[0]: 36  matchIndex[0]: 35
term 6 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
flag 54296 term 6 leader 2 nextIndex[1]: 36  matchIndex[1]: 35
term 6 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {1428184901605006259 4 30} {5306156691751546796 4 31} {7413672991206668365 4 32} {1939561207274698804 4 33} {4881640176295004237 4 34} {4881640176295004237 6 35}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=36
update matchIndex[0]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {1428184901605006259 4 30} {5306156691751546796 4 31} {7413672991206668365 4 32} {1939561207274698804 4 33} {4881640176295004237 4 34} {4881640176295004237 6 35}]
------------------------------------------------------
term 6 server 1 not vote for server 2, 任期不够新
term 6 server 2 get outdate rpc reply from server 1
flag 83055 term 6 leader 2 nextIndex[0]: 36  matchIndex[0]: 35
term 6 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
flag 73447 term 6 leader 2 nextIndex[1]: 36  matchIndex[1]: 35
term 6 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {1428184901605006259 4 30} {5306156691751546796 4 31} {7413672991206668365 4 32} {1939561207274698804 4 33} {4881640176295004237 4 34} {4881640176295004237 6 35}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=36
update matchIndex[0]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {1428184901605006259 4 30} {5306156691751546796 4 31} {7413672991206668365 4 32} {1939561207274698804 4 33} {4881640176295004237 4 34} {4881640176295004237 6 35}]
------------------------------------------------------
flag 43159 term 6 leader 2 nextIndex[0]: 36  matchIndex[0]: 35
term 6 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
flag 92122 term 6 leader 2 nextIndex[1]: 36  matchIndex[1]: 35
term 6 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {1428184901605006259 4 30} {5306156691751546796 4 31} {7413672991206668365 4 32} {1939561207274698804 4 33} {4881640176295004237 4 34} {4881640176295004237 6 35}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=36
update matchIndex[0]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {1428184901605006259 4 30} {5306156691751546796 4 31} {7413672991206668365 4 32} {1939561207274698804 4 33} {4881640176295004237 4 34} {4881640176295004237 6 35}]
------------------------------------------------------
flag 38214 term 6 leader 2 nextIndex[0]: 36  matchIndex[0]: 35
term 6 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
flag 87341 term 6 leader 2 nextIndex[1]: 36  matchIndex[1]: 35
term 6 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {1428184901605006259 4 30} {5306156691751546796 4 31} {7413672991206668365 4 32} {1939561207274698804 4 33} {4881640176295004237 4 34} {4881640176295004237 6 35}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=36
update matchIndex[0]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {1428184901605006259 4 30} {5306156691751546796 4 31} {7413672991206668365 4 32} {1939561207274698804 4 33} {4881640176295004237 4 34} {4881640176295004237 6 35}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 1751654450539688926 (index 36) to leader 2
term 6 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 99383 term 6 leader 2 nextIndex[0]: 36  matchIndex[0]: 35
term 6 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
flag 57258 term 6 leader 2 nextIndex[1]: 36  matchIndex[1]: 35
term 6 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {1428184901605006259 4 30} {5306156691751546796 4 31} {7413672991206668365 4 32} {1939561207274698804 4 33} {4881640176295004237 4 34} {4881640176295004237 6 35} {1751654450539688926 6 36}]
------------------------------------------------------
flag 50214 term 6 leader 2 nextIndex[0]: 36  matchIndex[0]: 35
term 6 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
flag 3476 term 6 leader 2 nextIndex[1]: 37  matchIndex[1]: 36
term 6 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {1428184901605006259 4 30} {5306156691751546796 4 31} {7413672991206668365 4 32} {1939561207274698804 4 33} {4881640176295004237 4 34} {4881640176295004237 6 35} {1751654450539688926 6 36}]
------------------------------------------------------
client write log 7080982721443794200 (index 37) to leader 2
client write log 8986304792200580014 (index 38) to leader 2
client write log 2016760906681041224 (index 39) to leader 2
client write log 2509453240526561618 (index 40) to leader 2
client write log 3723604958613522801 (index 41) to leader 2
client write log 5702679192022361257 (index 42) to leader 2
client write log 3745865946980197686 (index 43) to leader 2
client write log 739394185000195871 (index 44) to leader 2
client write log 3179630716073382642 (index 45) to leader 2
client write log 488520029736386791 (index 46) to leader 2
client write log 2534855464049225046 (index 47) to leader 2
client write log 816650171697574309 (index 48) to leader 2
client write log 2329171655253767818 (index 49) to leader 2
client write log 7566463240793119385 (index 50) to leader 2
client write log 2839719065646891927 (index 51) to leader 2
flag 13903 term 6 leader 2 nextIndex[0]: 36  matchIndex[0]: 35
term 6 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
flag 68200 term 6 leader 2 nextIndex[1]: 37  matchIndex[1]: 36
term 6 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=51
leader log:
[{snapshot 4 29} {1428184901605006259 4 30} {5306156691751546796 4 31} {7413672991206668365 4 32} {1939561207274698804 4 33} {4881640176295004237 4 34} {4881640176295004237 6 35} {1751654450539688926 6 36} {7080982721443794200 6 37} {8986304792200580014 6 38} {2016760906681041224 6 39} {2509453240526561618 6 40} {3723604958613522801 6 41} {5702679192022361257 6 42} {3745865946980197686 6 43} {739394185000195871 6 44} {3179630716073382642 6 45} {488520029736386791 6 46} {2534855464049225046 6 47} {816650171697574309 6 48} {2329171655253767818 6 49} {7566463240793119385 6 50} {2839719065646891927 6 51}]
------------------------------------------------------
term 6 Server2 start snapshot! index=39
term 6 server2 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=51
-------------------------------------------------------------
term 6 Server2 start snapshot! index=49
term 6 server2 snapshot success
lastIncludedIndex=49 lastApplied=50 lastIndex=51
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 6 leader 2 nextIndex[0]: 36  matchIndex[0]: 35
term 6 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 6
------------------------------------------------------
flag 21137 term 6 leader 2 nextIndex[1]: 52  matchIndex[1]: 51
term 6 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 6 leaderCommit: 51 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=51
leader log:
[{snapshot 6 49} {7566463240793119385 6 50} {2839719065646891927 6 51}]
------------------------------------------------------
term 6 Server1 start snapshot! index=39
term 6 server1 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=51
-------------------------------------------------------------
term 6 Server1 start snapshot! index=49
term 6 server1 snapshot success
lastIncludedIndex=49 lastApplied=50 lastIndex=51
-------------------------------------------------------------
!!!!!!connect server 0
client write log 1227883124424521237 (index 52) to leader 2
term 6 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 50 matchIndex[0] 49 
------------------------------------------------------------------------
flag 43972 term 6 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 6 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 51 
------------------------------------------------------
flag 63806 term 6 leader 2 nextIndex[1]: 52  matchIndex[1]: 51
term 6 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 6 leaderCommit: 51 
------------------------------------------------------
term 7 server 0 AppendEntries false 领导者任期过期 args.Term 6
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false 任期过期
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 7 server 2 not vote for server 0, 日志不够新
term 6 server 1 not vote for server 0, 日志不够新
term 9 server 2 vote for server 1
term 9 server 1 get vote from server 2
term 9 server 0 vote for server 1
term 9 server 1 become leader
------------------------------------------------------
term 9 server 1 get outdate rpc reply from server 0
flag 34653 term 9 leader 1 nextIndex[0]: 53  matchIndex[0]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 6 leaderCommit: 51 
------------------------------------------------------
flag 9886 term 9 leader 1 nextIndex[2]: 53  matchIndex[2]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 6 leaderCommit: 51 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=51
leader log:
[{snapshot 6 49} {7566463240793119385 6 50} {2839719065646891927 6 51} {1227883124424521237 6 52}]
------------------------------------------------------
term 9 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 53->52
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 9 leader 1 nextIndex[0]: 36  matchIndex[0]: 0
term 9 leader 1 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 6
------------------------------------------------------
flag 96487 term 9 leader 1 nextIndex[2]: 53  matchIndex[2]: 52
term 9 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 6 leaderCommit: 51 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:51 
------------------------------------------------------
term 9 server 0 InstallSnapshot success
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=51
leader log:
[{snapshot 6 49} {7566463240793119385 6 50} {2839719065646891927 6 51} {1227883124424521237 6 52}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
term 9 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 50 matchIndex[0] 49 
------------------------------------------------------------------------
rf.lastIncludedIndex 49 rf.lastIncludedTerm 6 rf.commitIndex 49 rf.lastApplied 49
flag 21750 term 9 leader 1 nextIndex[0]: 50  matchIndex[0]: 49
term 9 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 51 
------------------------------------------------------
flag 30883 term 9 leader 1 nextIndex[2]: 53  matchIndex[2]: 52
term 9 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 6 leaderCommit: 51 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:51 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=51
leader log:
[{snapshot 6 49} {7566463240793119385 6 50} {2839719065646891927 6 51} {1227883124424521237 6 52}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=51
leader log:
[{snapshot 6 49} {7566463240793119385 6 50} {2839719065646891927 6 51} {1227883124424521237 6 52}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44263 term 9 leader 1 nextIndex[0]: 53  matchIndex[0]: 52
term 9 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 6 leaderCommit: 51 
------------------------------------------------------
flag 59550 term 9 leader 1 nextIndex[2]: 53  matchIndex[2]: 52
term 9 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 6 leaderCommit: 51 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=51
leader log:
[{snapshot 6 49} {7566463240793119385 6 50} {2839719065646891927 6 51} {1227883124424521237 6 52}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=51
leader log:
[{snapshot 6 49} {7566463240793119385 6 50} {2839719065646891927 6 51} {1227883124424521237 6 52}]
------------------------------------------------------
flag 54480 term 9 leader 1 nextIndex[0]: 53  matchIndex[0]: 52
term 9 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 6 leaderCommit: 51 
------------------------------------------------------
flag 89969 term 9 leader 1 nextIndex[2]: 53  matchIndex[2]: 52
term 9 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 6 leaderCommit: 51 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=51
leader log:
[{snapshot 6 49} {7566463240793119385 6 50} {2839719065646891927 6 51} {1227883124424521237 6 52}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=51
leader log:
[{snapshot 6 49} {7566463240793119385 6 50} {2839719065646891927 6 51} {1227883124424521237 6 52}]
------------------------------------------------------
flag 75778 term 9 leader 1 nextIndex[0]: 53  matchIndex[0]: 52
term 9 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 6 leaderCommit: 51 
------------------------------------------------------
flag 94727 term 9 leader 1 nextIndex[2]: 53  matchIndex[2]: 52
term 9 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 6 leaderCommit: 51 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=51
leader log:
[{snapshot 6 49} {7566463240793119385 6 50} {2839719065646891927 6 51} {1227883124424521237 6 52}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=51
leader log:
[{snapshot 6 49} {7566463240793119385 6 50} {2839719065646891927 6 51} {1227883124424521237 6 52}]
------------------------------------------------------
flag 4478 term 9 leader 1 nextIndex[0]: 53  matchIndex[0]: 52
term 9 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 6 leaderCommit: 51 
------------------------------------------------------
flag 16186 term 9 leader 1 nextIndex[2]: 53  matchIndex[2]: 52
term 9 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 6 leaderCommit: 51 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=51
leader log:
[{snapshot 6 49} {7566463240793119385 6 50} {2839719065646891927 6 51} {1227883124424521237 6 52}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=51
leader log:
[{snapshot 6 49} {7566463240793119385 6 50} {2839719065646891927 6 51} {1227883124424521237 6 52}]
------------------------------------------------------
flag 88668 term 9 leader 1 nextIndex[0]: 53  matchIndex[0]: 52
term 9 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 6 leaderCommit: 51 
------------------------------------------------------
flag 36644 term 9 leader 1 nextIndex[2]: 53  matchIndex[2]: 52
term 9 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 6 leaderCommit: 51 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=51
leader log:
[{snapshot 6 49} {7566463240793119385 6 50} {2839719065646891927 6 51} {1227883124424521237 6 52}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=51
leader log:
[{snapshot 6 49} {7566463240793119385 6 50} {2839719065646891927 6 51} {1227883124424521237 6 52}]
------------------------------------------------------
term 9 server 2 not vote for server 0, 任期不够新
term 9 server 0 get outdate rpc reply from server 2
flag 63642 term 9 leader 1 nextIndex[0]: 53  matchIndex[0]: 52
term 9 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 6 leaderCommit: 51 
------------------------------------------------------
flag 83994 term 9 leader 1 nextIndex[2]: 53  matchIndex[2]: 52
term 9 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 6 leaderCommit: 51 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:51 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=51
leader log:
[{snapshot 6 49} {7566463240793119385 6 50} {2839719065646891927 6 51} {1227883124424521237 6 52}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=51
leader log:
[{snapshot 6 49} {7566463240793119385 6 50} {2839719065646891927 6 51} {1227883124424521237 6 52}]
------------------------------------------------------
flag 10256 term 9 leader 1 nextIndex[0]: 53  matchIndex[0]: 52
term 9 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 6 leaderCommit: 51 
------------------------------------------------------
flag 58816 term 9 leader 1 nextIndex[2]: 53  matchIndex[2]: 52
term 9 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 6 leaderCommit: 51 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=51
leader log:
[{snapshot 6 49} {7566463240793119385 6 50} {2839719065646891927 6 51} {1227883124424521237 6 52}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=51
leader log:
[{snapshot 6 49} {7566463240793119385 6 50} {2839719065646891927 6 51} {1227883124424521237 6 52}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80485 term 9 leader 1 nextIndex[0]: 53  matchIndex[0]: 52
term 9 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 6 leaderCommit: 51 
------------------------------------------------------
flag 63791 term 9 leader 1 nextIndex[2]: 53  matchIndex[2]: 52
term 9 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 6 leaderCommit: 51 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=51
leader log:
[{snapshot 6 49} {7566463240793119385 6 50} {2839719065646891927 6 51} {1227883124424521237 6 52}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=51
leader log:
[{snapshot 6 49} {7566463240793119385 6 50} {2839719065646891927 6 51} {1227883124424521237 6 52}]
------------------------------------------------------
flag 66069 term 9 leader 1 nextIndex[0]: 53  matchIndex[0]: 52
term 9 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 6 leaderCommit: 51 
------------------------------------------------------
flag 27825 term 9 leader 1 nextIndex[2]: 53  matchIndex[2]: 52
term 9 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 6 leaderCommit: 51 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:51 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=51
leader log:
[{snapshot 6 49} {7566463240793119385 6 50} {2839719065646891927 6 51} {1227883124424521237 6 52}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=51
leader log:
[{snapshot 6 49} {7566463240793119385 6 50} {2839719065646891927 6 51} {1227883124424521237 6 52}]
------------------------------------------------------
flag 76253 term 9 leader 1 nextIndex[0]: 53  matchIndex[0]: 52
term 9 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 6 leaderCommit: 51 
------------------------------------------------------
flag 24217 term 9 leader 1 nextIndex[2]: 53  matchIndex[2]: 52
term 9 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 6 leaderCommit: 51 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=51
leader log:
[{snapshot 6 49} {7566463240793119385 6 50} {2839719065646891927 6 51} {1227883124424521237 6 52}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=51
leader log:
[{snapshot 6 49} {7566463240793119385 6 50} {2839719065646891927 6 51} {1227883124424521237 6 52}]
------------------------------------------------------
flag 51039 term 9 leader 1 nextIndex[0]: 53  matchIndex[0]: 52
term 9 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 6 leaderCommit: 51 
------------------------------------------------------
flag 92655 term 9 leader 1 nextIndex[2]: 53  matchIndex[2]: 52
term 9 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 6 leaderCommit: 51 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=51
leader log:
[{snapshot 6 49} {7566463240793119385 6 50} {2839719065646891927 6 51} {1227883124424521237 6 52}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=51
leader log:
[{snapshot 6 49} {7566463240793119385 6 50} {2839719065646891927 6 51} {1227883124424521237 6 52}]
------------------------------------------------------
flag 13671 term 9 leader 1 nextIndex[0]: 53  matchIndex[0]: 52
term 9 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 6 leaderCommit: 51 
------------------------------------------------------
flag 5285 term 9 leader 1 nextIndex[2]: 53  matchIndex[2]: 52
term 9 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 6 leaderCommit: 51 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=51
leader log:
[{snapshot 6 49} {7566463240793119385 6 50} {2839719065646891927 6 51} {1227883124424521237 6 52}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=51
leader log:
[{snapshot 6 49} {7566463240793119385 6 50} {2839719065646891927 6 51} {1227883124424521237 6 52}]
------------------------------------------------------
client write log 1227883124424521237 (index 53) to leader 1
flag 69555 term 9 leader 1 nextIndex[0]: 53  matchIndex[0]: 52
term 9 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 6 leaderCommit: 51 
------------------------------------------------------
flag 35616 term 9 leader 1 nextIndex[2]: 53  matchIndex[2]: 52
term 9 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 6 leaderCommit: 51 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {7566463240793119385 6 50} {2839719065646891927 6 51} {1227883124424521237 6 52} {1227883124424521237 9 53}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {7566463240793119385 6 50} {2839719065646891927 6 51} {1227883124424521237 6 52} {1227883124424521237 9 53}]
------------------------------------------------------
flag 47359 term 9 leader 1 nextIndex[0]: 54  matchIndex[0]: 53
term 9 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 75170 term 9 leader 1 nextIndex[2]: 54  matchIndex[2]: 53
term 9 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {7566463240793119385 6 50} {2839719065646891927 6 51} {1227883124424521237 6 52} {1227883124424521237 9 53}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {7566463240793119385 6 50} {2839719065646891927 6 51} {1227883124424521237 6 52} {1227883124424521237 9 53}]
------------------------------------------------------
flag 46447 term 9 leader 1 nextIndex[0]: 54  matchIndex[0]: 53
term 9 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 39662 term 9 leader 1 nextIndex[2]: 54  matchIndex[2]: 53
term 9 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {7566463240793119385 6 50} {2839719065646891927 6 51} {1227883124424521237 6 52} {1227883124424521237 9 53}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {7566463240793119385 6 50} {2839719065646891927 6 51} {1227883124424521237 6 52} {1227883124424521237 9 53}]
------------------------------------------------------
flag 50418 term 9 leader 1 nextIndex[0]: 54  matchIndex[0]: 53
term 9 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 91242 term 9 leader 1 nextIndex[2]: 54  matchIndex[2]: 53
term 9 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {7566463240793119385 6 50} {2839719065646891927 6 51} {1227883124424521237 6 52} {1227883124424521237 9 53}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {7566463240793119385 6 50} {2839719065646891927 6 51} {1227883124424521237 6 52} {1227883124424521237 9 53}]
------------------------------------------------------
flag 34735 term 9 leader 1 nextIndex[0]: 54  matchIndex[0]: 53
term 9 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 52288 term 9 leader 1 nextIndex[2]: 54  matchIndex[2]: 53
term 9 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {7566463240793119385 6 50} {2839719065646891927 6 51} {1227883124424521237 6 52} {1227883124424521237 9 53}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {7566463240793119385 6 50} {2839719065646891927 6 51} {1227883124424521237 6 52} {1227883124424521237 9 53}]
------------------------------------------------------
flag 31321 term 9 leader 1 nextIndex[0]: 54  matchIndex[0]: 53
term 9 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 40128 term 9 leader 1 nextIndex[2]: 54  matchIndex[2]: 53
term 9 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {7566463240793119385 6 50} {2839719065646891927 6 51} {1227883124424521237 6 52} {1227883124424521237 9 53}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {7566463240793119385 6 50} {2839719065646891927 6 51} {1227883124424521237 6 52} {1227883124424521237 9 53}]
------------------------------------------------------
flag 77581 term 9 leader 1 nextIndex[0]: 54  matchIndex[0]: 53
term 9 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 88056 term 9 leader 1 nextIndex[2]: 54  matchIndex[2]: 53
term 9 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {7566463240793119385 6 50} {2839719065646891927 6 51} {1227883124424521237 6 52} {1227883124424521237 9 53}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {7566463240793119385 6 50} {2839719065646891927 6 51} {1227883124424521237 6 52} {1227883124424521237 9 53}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 1536 term 9 leader 1 nextIndex[0]: 54  matchIndex[0]: 53
term 9 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 56553 term 9 leader 1 nextIndex[2]: 54  matchIndex[2]: 53
term 9 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 59570 term 9 leader 1 nextIndex[0]: 54  matchIndex[0]: 53
term 9 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 61016 term 9 leader 1 nextIndex[2]: 54  matchIndex[2]: 53
term 9 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 98015 term 9 leader 1 nextIndex[0]: 54  matchIndex[0]: 53
term 9 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 41197 term 9 leader 1 nextIndex[2]: 54  matchIndex[2]: 53
term 9 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 12762 term 9 leader 1 nextIndex[0]: 54  matchIndex[0]: 53
term 9 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 94908 term 9 leader 1 nextIndex[2]: 54  matchIndex[2]: 53
term 9 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 10 server 0 vote for server 2
term 10 server 2 get vote from server 0
term 10 server 2 become leader
------------------------------------------------------
client write log 119355868107929108 (index 54) to leader 2
flag 29916 term 10 leader 2 nextIndex[0]: 54  matchIndex[0]: 0
term 10 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 50676 term 10 leader 2 nextIndex[1]: 54  matchIndex[1]: 0
term 10 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {7566463240793119385 6 50} {2839719065646891927 6 51} {1227883124424521237 6 52} {1227883124424521237 9 53} {119355868107929108 10 54}]
------------------------------------------------------
flag 64155 term 9 leader 1 nextIndex[0]: 54  matchIndex[0]: 53
term 9 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 76284 term 9 leader 1 nextIndex[2]: 54  matchIndex[2]: 53
term 9 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96150 term 10 leader 2 nextIndex[0]: 55  matchIndex[0]: 54
term 10 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 10 leaderCommit: 54 
------------------------------------------------------
flag 3402 term 10 leader 2 nextIndex[1]: 54  matchIndex[1]: 0
term 10 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {7566463240793119385 6 50} {2839719065646891927 6 51} {1227883124424521237 6 52} {1227883124424521237 9 53} {119355868107929108 10 54}]
------------------------------------------------------
client write log 8893232565542435292 (index 55) to leader 2
client write log 383469629648366584 (index 56) to leader 2
client write log 2727372205326436051 (index 57) to leader 2
client write log 4755773914221661102 (index 58) to leader 2
client write log 6956205700501515744 (index 59) to leader 2
client write log 3696240609867716507 (index 60) to leader 2
client write log 4750816171056732702 (index 61) to leader 2
flag 63836 term 9 leader 1 nextIndex[0]: 54  matchIndex[0]: 53
term 9 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 97439 term 9 leader 1 nextIndex[2]: 54  matchIndex[2]: 53
term 9 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 1761 term 10 leader 2 nextIndex[0]: 55  matchIndex[0]: 54
term 10 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 10 leaderCommit: 54 
------------------------------------------------------
flag 53729 term 10 leader 2 nextIndex[1]: 54  matchIndex[1]: 0
term 10 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 6 49} {7566463240793119385 6 50} {2839719065646891927 6 51} {1227883124424521237 6 52} {1227883124424521237 9 53} {119355868107929108 10 54} {8893232565542435292 10 55} {383469629648366584 10 56} {2727372205326436051 10 57} {4755773914221661102 10 58} {6956205700501515744 10 59} {3696240609867716507 10 60} {4750816171056732702 10 61}]
------------------------------------------------------
term 10 Server2 start snapshot! index=59
term 10 server2 snapshot success
lastIncludedIndex=59 lastApplied=60 lastIndex=61
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99661 term 9 leader 1 nextIndex[0]: 54  matchIndex[0]: 53
term 9 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 74589 term 9 leader 1 nextIndex[2]: 54  matchIndex[2]: 53
term 9 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 80476 term 10 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 10 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 10 leaderCommit: 61 
------------------------------------------------------
term 10 leader 2 nextIndex[1]: 54  matchIndex[1]: 0
term 10 leader 2 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 10
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 10 59} {3696240609867716507 10 60} {4750816171056732702 10 61}]
------------------------------------------------------
term 10 Server0 start snapshot! index=59
term 10 server0 snapshot success
lastIncludedIndex=59 lastApplied=60 lastIndex=61
-------------------------------------------------------------
!!!!!!connect server 1
client write log 4529154131641060803 (index 54) to leader 1
flag 19350 term 9 leader 1 nextIndex[0]: 54  matchIndex[0]: 53
term 9 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 93926 term 9 leader 1 nextIndex[2]: 54  matchIndex[2]: 53
term 9 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 10 server 2 AppendEntries false 领导者任期过期 args.Term 9
------------------------------------------------------
term 10 server 0 AppendEntries false 领导者任期过期 args.Term 9
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14024 term 10 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 10 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 10 leaderCommit: 61 
------------------------------------------------------
term 10 leader 2 nextIndex[1]: 54  matchIndex[1]: 0
term 10 leader 2 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 10
------------------------------------------------------
term 10 server 1 InstallSnapshot success
------------------------------------------------------
term 10 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 60 matchIndex[1] 59 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 59 rf.lastIncludedTerm 10 rf.commitIndex 59 rf.lastApplied 59
term 10 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 10 59} {3696240609867716507 10 60} {4750816171056732702 10 61}]
------------------------------------------------------
flag 26614 term 10 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 10 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 10 leaderCommit: 61 
------------------------------------------------------
flag 10023 term 10 leader 2 nextIndex[1]: 60  matchIndex[1]: 59
term 10 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 61 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 10 59} {3696240609867716507 10 60} {4750816171056732702 10 61}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 10 59} {3696240609867716507 10 60} {4750816171056732702 10 61}]
------------------------------------------------------
flag 3039 term 10 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 10 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 10 leaderCommit: 61 
------------------------------------------------------
flag 25523 term 10 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 10 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 10 leaderCommit: 61 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 10 59} {3696240609867716507 10 60} {4750816171056732702 10 61}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 10 59} {3696240609867716507 10 60} {4750816171056732702 10 61}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11798 term 10 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 10 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 10 leaderCommit: 61 
------------------------------------------------------
flag 59283 term 10 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 10 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 10 leaderCommit: 61 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 10 59} {3696240609867716507 10 60} {4750816171056732702 10 61}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 10 59} {3696240609867716507 10 60} {4750816171056732702 10 61}]
------------------------------------------------------
flag 77901 term 10 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 10 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 10 leaderCommit: 61 
------------------------------------------------------
flag 17230 term 10 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 10 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 10 leaderCommit: 61 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 10 59} {3696240609867716507 10 60} {4750816171056732702 10 61}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 10 59} {3696240609867716507 10 60} {4750816171056732702 10 61}]
------------------------------------------------------
flag 35032 term 10 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 10 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 10 leaderCommit: 61 
------------------------------------------------------
flag 80769 term 10 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 10 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 10 leaderCommit: 61 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 10 59} {3696240609867716507 10 60} {4750816171056732702 10 61}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 10 59} {3696240609867716507 10 60} {4750816171056732702 10 61}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87377 term 10 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 10 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 10 leaderCommit: 61 
------------------------------------------------------
flag 86742 term 10 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 10 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 10 leaderCommit: 61 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 10 59} {3696240609867716507 10 60} {4750816171056732702 10 61}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 10 59} {3696240609867716507 10 60} {4750816171056732702 10 61}]
------------------------------------------------------
flag 98076 term 10 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 10 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 10 leaderCommit: 61 
------------------------------------------------------
flag 68542 term 10 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 10 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 10 leaderCommit: 61 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 10 59} {3696240609867716507 10 60} {4750816171056732702 10 61}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 10 59} {3696240609867716507 10 60} {4750816171056732702 10 61}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35914 term 10 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 10 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 10 leaderCommit: 61 
------------------------------------------------------
flag 36869 term 10 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 10 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 10 leaderCommit: 61 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 10 59} {3696240609867716507 10 60} {4750816171056732702 10 61}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 10 59} {3696240609867716507 10 60} {4750816171056732702 10 61}]
------------------------------------------------------
flag 27304 term 10 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 10 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 10 leaderCommit: 61 
------------------------------------------------------
flag 13546 term 10 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 10 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 10 leaderCommit: 61 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 10 59} {3696240609867716507 10 60} {4750816171056732702 10 61}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 10 59} {3696240609867716507 10 60} {4750816171056732702 10 61}]
------------------------------------------------------
flag 12861 term 10 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 10 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 10 leaderCommit: 61 
------------------------------------------------------
flag 26894 term 10 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 10 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 10 leaderCommit: 61 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 10 59} {3696240609867716507 10 60} {4750816171056732702 10 61}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 10 59} {3696240609867716507 10 60} {4750816171056732702 10 61}]
------------------------------------------------------
term 10 server 1 not vote for server 0, 任期不够新
term 10 server 0 get outdate rpc reply from server 1
flag 72515 term 10 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 10 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 10 leaderCommit: 61 
------------------------------------------------------
flag 99601 term 10 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 10 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 10 leaderCommit: 61 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueterm 10 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
update nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 10 59} {3696240609867716507 10 60} {4750816171056732702 10 61}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 10 59} {3696240609867716507 10 60} {4750816171056732702 10 61}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59532 term 10 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 10 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 10 leaderCommit: 61 
------------------------------------------------------
flag 97965 term 10 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 10 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 10 leaderCommit: 61 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 10 59} {3696240609867716507 10 60} {4750816171056732702 10 61}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 10 59} {3696240609867716507 10 60} {4750816171056732702 10 61}]
------------------------------------------------------
flag 54931 term 10 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 10 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 10 leaderCommit: 61 
------------------------------------------------------
flag 81079 term 10 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 10 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 10 leaderCommit: 61 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 10 59} {3696240609867716507 10 60} {4750816171056732702 10 61}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 10 59} {3696240609867716507 10 60} {4750816171056732702 10 61}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42777 term 10 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 10 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 10 leaderCommit: 61 
------------------------------------------------------
flag 18395 term 10 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 10 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 10 leaderCommit: 61 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 10 59} {3696240609867716507 10 60} {4750816171056732702 10 61}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 10 59} {3696240609867716507 10 60} {4750816171056732702 10 61}]
------------------------------------------------------
flag 18343 term 10 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 10 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 10 leaderCommit: 61 
------------------------------------------------------
flag 80069 term 10 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 10 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 10 leaderCommit: 61 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 10 59} {3696240609867716507 10 60} {4750816171056732702 10 61}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 10 59} {3696240609867716507 10 60} {4750816171056732702 10 61}]
------------------------------------------------------
flag 67163 term 10 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 10 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 10 leaderCommit: 61 
------------------------------------------------------
flag 54958 term 10 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 10 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 10 leaderCommit: 61 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 10 59} {3696240609867716507 10 60} {4750816171056732702 10 61}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 10 59} {3696240609867716507 10 60} {4750816171056732702 10 61}]
------------------------------------------------------
flag 58970 term 10 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 10 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 10 leaderCommit: 61 
------------------------------------------------------
flag 97640 term 10 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 10 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 10 leaderCommit: 61 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 10 59} {3696240609867716507 10 60} {4750816171056732702 10 61}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 10 59} {3696240609867716507 10 60} {4750816171056732702 10 61}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92842 term 10 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 10 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 10 leaderCommit: 61 
------------------------------------------------------
flag 25350 term 10 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 10 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 10 leaderCommit: 61 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 10 59} {3696240609867716507 10 60} {4750816171056732702 10 61}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 10 59} {3696240609867716507 10 60} {4750816171056732702 10 61}]
------------------------------------------------------
flag 90991 term 10 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 10 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 10 leaderCommit: 61 
------------------------------------------------------
flag 77037 term 10 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 10 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 10 leaderCommit: 61 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 10 59} {3696240609867716507 10 60} {4750816171056732702 10 61}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 10 59} {3696240609867716507 10 60} {4750816171056732702 10 61}]
------------------------------------------------------
client write log 4529154131641060803 (index 62) to leader 2
flag 27095 term 10 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 10 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 10 leaderCommit: 61 
------------------------------------------------------
flag 6841 term 10 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 10 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 10 leaderCommit: 61 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=62
leader log:
[{snapshot 10 59} {3696240609867716507 10 60} {4750816171056732702 10 61} {4529154131641060803 10 62}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=62
leader log:
[{snapshot 10 59} {3696240609867716507 10 60} {4750816171056732702 10 61} {4529154131641060803 10 62}]
------------------------------------------------------
flag 37785 term 10 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 10 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 10 leaderCommit: 62 
------------------------------------------------------
flag 19913 term 10 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 10 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 10 leaderCommit: 62 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:62 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=62
leader log:
[{snapshot 10 59} {3696240609867716507 10 60} {4750816171056732702 10 61} {4529154131641060803 10 62}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=62
leader log:
[{snapshot 10 59} {3696240609867716507 10 60} {4750816171056732702 10 61} {4529154131641060803 10 62}]
------------------------------------------------------
flag 19957 term 10 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 10 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 10 leaderCommit: 62 
------------------------------------------------------
flag 8212 term 10 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 10 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 10 leaderCommit: 62 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=62
leader log:
[{snapshot 10 59} {3696240609867716507 10 60} {4750816171056732702 10 61} {4529154131641060803 10 62}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=62
leader log:
[{snapshot 10 59} {3696240609867716507 10 60} {4750816171056732702 10 61} {4529154131641060803 10 62}]
------------------------------------------------------
flag 50202 term 10 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 10 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 10 leaderCommit: 62 
------------------------------------------------------
flag 74124 term 10 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 10 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 10 leaderCommit: 62 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=62
leader log:
[{snapshot 10 59} {3696240609867716507 10 60} {4750816171056732702 10 61} {4529154131641060803 10 62}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=62
leader log:
[{snapshot 10 59} {3696240609867716507 10 60} {4750816171056732702 10 61} {4529154131641060803 10 62}]
------------------------------------------------------
flag 39193 term 10 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 10 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 10 leaderCommit: 62 
------------------------------------------------------
flag 92124 term 10 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 10 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 10 leaderCommit: 62 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:62 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=62
leader log:
[{snapshot 10 59} {3696240609867716507 10 60} {4750816171056732702 10 61} {4529154131641060803 10 62}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=62
leader log:
[{snapshot 10 59} {3696240609867716507 10 60} {4750816171056732702 10 61} {4529154131641060803 10 62}]
------------------------------------------------------
flag 51557 term 10 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 10 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 10 leaderCommit: 62 
------------------------------------------------------
flag 96780 term 10 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 10 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 10 leaderCommit: 62 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=62
leader log:
[{snapshot 10 59} {3696240609867716507 10 60} {4750816171056732702 10 61} {4529154131641060803 10 62}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=62
leader log:
[{snapshot 10 59} {3696240609867716507 10 60} {4750816171056732702 10 61} {4529154131641060803 10 62}]
------------------------------------------------------
flag 24122 term 10 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 10 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 10 leaderCommit: 62 
------------------------------------------------------
flag 46647 term 10 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 10 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 10 leaderCommit: 62 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=62
leader log:
[{snapshot 10 59} {3696240609867716507 10 60} {4750816171056732702 10 61} {4529154131641060803 10 62}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=62
leader log:
[{snapshot 10 59} {3696240609867716507 10 60} {4750816171056732702 10 61} {4529154131641060803 10 62}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 7498980375873335869 (index 63) to leader 2
flag 71018 term 10 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 10 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 10 leaderCommit: 62 
------------------------------------------------------
flag 61007 term 10 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 10 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 10 leaderCommit: 62 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=63
leader log:
[{snapshot 10 59} {3696240609867716507 10 60} {4750816171056732702 10 61} {4529154131641060803 10 62} {7498980375873335869 10 63}]
------------------------------------------------------
flag 52258 term 10 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 10 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 10 leaderCommit: 63 
------------------------------------------------------
flag 3369 term 10 leader 2 nextIndex[1]: 64  matchIndex[1]: 63
term 10 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 10 leaderCommit: 63 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=63
leader log:
[{snapshot 10 59} {3696240609867716507 10 60} {4750816171056732702 10 61} {4529154131641060803 10 62} {7498980375873335869 10 63}]
------------------------------------------------------
client write log 6257166612089959428 (index 64) to leader 2
client write log 8678960727792243177 (index 65) to leader 2
client write log 2254723852900685461 (index 66) to leader 2
client write log 8516998374339052056 (index 67) to leader 2
client write log 4088344990629020287 (index 68) to leader 2
client write log 4967133605239074852 (index 69) to leader 2
client write log 5124593758832515632 (index 70) to leader 2
client write log 8818330907881263426 (index 71) to leader 2
client write log 4696404034421778405 (index 72) to leader 2
client write log 3834157508827975415 (index 73) to leader 2
client write log 4875515284516452216 (index 74) to leader 2
client write log 3753695457666009134 (index 75) to leader 2
client write log 5825934145038907046 (index 76) to leader 2
flag 38309 term 10 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 10 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 10 leaderCommit: 63 
------------------------------------------------------
flag 98455 term 10 leader 2 nextIndex[1]: 64  matchIndex[1]: 63
term 10 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 10 leaderCommit: 63 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 10 59} {3696240609867716507 10 60} {4750816171056732702 10 61} {4529154131641060803 10 62} {7498980375873335869 10 63} {6257166612089959428 10 64} {8678960727792243177 10 65} {2254723852900685461 10 66} {8516998374339052056 10 67} {4088344990629020287 10 68} {4967133605239074852 10 69} {5124593758832515632 10 70} {8818330907881263426 10 71} {4696404034421778405 10 72} {3834157508827975415 10 73} {4875515284516452216 10 74} {3753695457666009134 10 75} {5825934145038907046 10 76}]
------------------------------------------------------
term 10 Server2 start snapshot! index=69
term 10 server2 snapshot success
lastIncludedIndex=69 lastApplied=70 lastIndex=76
-------------------------------------------------------------
term 10 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 10 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 10
------------------------------------------------------
flag 39922 term 10 leader 2 nextIndex[1]: 77  matchIndex[1]: 76
term 10 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 10 leaderCommit: 76 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 10 69} {5124593758832515632 10 70} {8818330907881263426 10 71} {4696404034421778405 10 72} {3834157508827975415 10 73} {4875515284516452216 10 74} {3753695457666009134 10 75} {5825934145038907046 10 76}]
------------------------------------------------------
term 10 Server1 start snapshot! index=69
term 10 server1 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=76
-------------------------------------------------------------
!!!!!!connect server 0
client write log 3530652036793217977 (index 77) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 10 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 10 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 10
------------------------------------------------------
flag 55680 term 10 leader 2 nextIndex[1]: 77  matchIndex[1]: 76
term 10 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 10 leaderCommit: 76 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 10 69} {5124593758832515632 10 70} {8818330907881263426 10 71} {4696404034421778405 10 72} {3834157508827975415 10 73} {4875515284516452216 10 74} {3753695457666009134 10 75} {5825934145038907046 10 76} {3530652036793217977 10 77}]
------------------------------------------------------
term 11 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 10 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 12 server 1 vote for server 2
term 12 server 0 vote for server 2
term 12 server 2 get vote from server 0
term 12 server 2 become leader
------------------------------------------------------
term 12 server 2 get outdate rpc reply from server 1
flag 28350 term 12 leader 2 nextIndex[0]: 78  matchIndex[0]: 0
term 12 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 10 leaderCommit: 77 
------------------------------------------------------
flag 37686 term 12 leader 2 nextIndex[1]: 78  matchIndex[1]: 0
term 12 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 10 leaderCommit: 77 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 10 69} {5124593758832515632 10 70} {8818330907881263426 10 71} {4696404034421778405 10 72} {3834157508827975415 10 73} {4875515284516452216 10 74} {3753695457666009134 10 75} {5825934145038907046 10 76} {3530652036793217977 10 77}]
------------------------------------------------------
term 12 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 78->77
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 12 leader 2 nextIndex[0]: 63  matchIndex[0]: 0
term 12 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 10
------------------------------------------------------
flag 7517 term 12 leader 2 nextIndex[1]: 78  matchIndex[1]: 77
term 12 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 10 leaderCommit: 77 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 10 69} {5124593758832515632 10 70} {8818330907881263426 10 71} {4696404034421778405 10 72} {3834157508827975415 10 73} {4875515284516452216 10 74} {3753695457666009134 10 75} {5825934145038907046 10 76} {3530652036793217977 10 77}]
------------------------------------------------------
term 12 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 69 rf.lastIncludedTerm 10 rf.commitIndex 69 rf.lastApplied 69
term 12 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 70 matchIndex[0] 69 
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67420 term 12 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 12 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 10 leaderCommit: 77 
------------------------------------------------------
flag 99516 term 12 leader 2 nextIndex[1]: 78  matchIndex[1]: 77
term 12 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 10 leaderCommit: 77 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
term 12 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
update leader CommitIndex=77
leader log:
[{snapshot 10 69} {5124593758832515632 10 70} {8818330907881263426 10 71} {4696404034421778405 10 72} {3834157508827975415 10 73} {4875515284516452216 10 74} {3753695457666009134 10 75} {5825934145038907046 10 76} {3530652036793217977 10 77}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=77
leader log:
[{snapshot 10 69} {5124593758832515632 10 70} {8818330907881263426 10 71} {4696404034421778405 10 72} {3834157508827975415 10 73} {4875515284516452216 10 74} {3753695457666009134 10 75} {5825934145038907046 10 76} {3530652036793217977 10 77}]
------------------------------------------------------
flag 95142 term 12 leader 2 nextIndex[0]: 78  matchIndex[0]: 77
term 12 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 10 leaderCommit: 77 
------------------------------------------------------
flag 10457 term 12 leader 2 nextIndex[1]: 78  matchIndex[1]: 77
term 12 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 10 leaderCommit: 77 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 10 69} {5124593758832515632 10 70} {8818330907881263426 10 71} {4696404034421778405 10 72} {3834157508827975415 10 73} {4875515284516452216 10 74} {3753695457666009134 10 75} {5825934145038907046 10 76} {3530652036793217977 10 77}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=77
leader log:
[{snapshot 10 69} {5124593758832515632 10 70} {8818330907881263426 10 71} {4696404034421778405 10 72} {3834157508827975415 10 73} {4875515284516452216 10 74} {3753695457666009134 10 75} {5825934145038907046 10 76} {3530652036793217977 10 77}]
------------------------------------------------------
flag 48031 term 12 leader 2 nextIndex[0]: 78  matchIndex[0]: 77
term 12 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 10 leaderCommit: 77 
------------------------------------------------------
flag 97245 term 12 leader 2 nextIndex[1]: 78  matchIndex[1]: 77
term 12 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 10 leaderCommit: 77 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 10 69} {5124593758832515632 10 70} {8818330907881263426 10 71} {4696404034421778405 10 72} {3834157508827975415 10 73} {4875515284516452216 10 74} {3753695457666009134 10 75} {5825934145038907046 10 76} {3530652036793217977 10 77}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=77
leader log:
[{snapshot 10 69} {5124593758832515632 10 70} {8818330907881263426 10 71} {4696404034421778405 10 72} {3834157508827975415 10 73} {4875515284516452216 10 74} {3753695457666009134 10 75} {5825934145038907046 10 76} {3530652036793217977 10 77}]
------------------------------------------------------
flag 93224 term 12 leader 2 nextIndex[0]: 78  matchIndex[0]: 77
term 12 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 10 leaderCommit: 77 
------------------------------------------------------
flag 51235 term 12 leader 2 nextIndex[1]: 78  matchIndex[1]: 77
term 12 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 10 leaderCommit: 77 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 10 69} {5124593758832515632 10 70} {8818330907881263426 10 71} {4696404034421778405 10 72} {3834157508827975415 10 73} {4875515284516452216 10 74} {3753695457666009134 10 75} {5825934145038907046 10 76} {3530652036793217977 10 77}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=77
leader log:
[{snapshot 10 69} {5124593758832515632 10 70} {8818330907881263426 10 71} {4696404034421778405 10 72} {3834157508827975415 10 73} {4875515284516452216 10 74} {3753695457666009134 10 75} {5825934145038907046 10 76} {3530652036793217977 10 77}]
------------------------------------------------------
term 12 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 44194 term 12 leader 2 nextIndex[0]: 78  matchIndex[0]: 77
term 12 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 10 leaderCommit: 77 
------------------------------------------------------
flag 10028 term 12 leader 2 nextIndex[1]: 78  matchIndex[1]: 77
term 12 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 10 leaderCommit: 77 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=77
leader log:
[{snapshot 10 69} {5124593758832515632 10 70} {8818330907881263426 10 71} {4696404034421778405 10 72} {3834157508827975415 10 73} {4875515284516452216 10 74} {3753695457666009134 10 75} {5825934145038907046 10 76} {3530652036793217977 10 77}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 10 69} {5124593758832515632 10 70} {8818330907881263426 10 71} {4696404034421778405 10 72} {3834157508827975415 10 73} {4875515284516452216 10 74} {3753695457666009134 10 75} {5825934145038907046 10 76} {3530652036793217977 10 77}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14494 term 12 leader 2 nextIndex[0]: 78  matchIndex[0]: 77
term 12 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 10 leaderCommit: 77 
------------------------------------------------------
flag 80100 term 12 leader 2 nextIndex[1]: 78  matchIndex[1]: 77
term 12 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 10 leaderCommit: 77 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 10 69} {5124593758832515632 10 70} {8818330907881263426 10 71} {4696404034421778405 10 72} {3834157508827975415 10 73} {4875515284516452216 10 74} {3753695457666009134 10 75} {5825934145038907046 10 76} {3530652036793217977 10 77}]
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=77
leader log:
[{snapshot 10 69} {5124593758832515632 10 70} {8818330907881263426 10 71} {4696404034421778405 10 72} {3834157508827975415 10 73} {4875515284516452216 10 74} {3753695457666009134 10 75} {5825934145038907046 10 76} {3530652036793217977 10 77}]
------------------------------------------------------
flag 38586 term 12 leader 2 nextIndex[0]: 78  matchIndex[0]: 77
term 12 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 10 leaderCommit: 77 
------------------------------------------------------
flag 82425 term 12 leader 2 nextIndex[1]: 78  matchIndex[1]: 77
term 12 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 10 leaderCommit: 77 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
term 12 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 10 69} {5124593758832515632 10 70} {8818330907881263426 10 71} {4696404034421778405 10 72} {3834157508827975415 10 73} {4875515284516452216 10 74} {3753695457666009134 10 75} {5825934145038907046 10 76} {3530652036793217977 10 77}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=77
leader log:
[{snapshot 10 69} {5124593758832515632 10 70} {8818330907881263426 10 71} {4696404034421778405 10 72} {3834157508827975415 10 73} {4875515284516452216 10 74} {3753695457666009134 10 75} {5825934145038907046 10 76} {3530652036793217977 10 77}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 3278629714141308432 (index 78) to leader 2
flag 21922 term 12 leader 2 nextIndex[0]: 78  matchIndex[0]: 77
term 12 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 10 leaderCommit: 77 
------------------------------------------------------
flag 41201 term 12 leader 2 nextIndex[1]: 78  matchIndex[1]: 77
term 12 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 10 leaderCommit: 77 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=79
update matchIndex[1]=78
update leader CommitIndex=78
leader log:
[{snapshot 10 69} {5124593758832515632 10 70} {8818330907881263426 10 71} {4696404034421778405 10 72} {3834157508827975415 10 73} {4875515284516452216 10 74} {3753695457666009134 10 75} {5825934145038907046 10 76} {3530652036793217977 10 77} {3278629714141308432 12 78}]
------------------------------------------------------
flag 49694 term 12 leader 2 nextIndex[0]: 78  matchIndex[0]: 77
term 12 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 10 leaderCommit: 78 
------------------------------------------------------
flag 728 term 12 leader 2 nextIndex[1]: 79  matchIndex[1]: 78
term 12 leader 2 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 12 leaderCommit: 78 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=79
update matchIndex[1]=78
update leader CommitIndex=78
leader log:
[{snapshot 10 69} {5124593758832515632 10 70} {8818330907881263426 10 71} {4696404034421778405 10 72} {3834157508827975415 10 73} {4875515284516452216 10 74} {3753695457666009134 10 75} {5825934145038907046 10 76} {3530652036793217977 10 77} {3278629714141308432 12 78}]
------------------------------------------------------
client write log 6674760094728197172 (index 79) to leader 2
client write log 1705368368719036568 (index 80) to leader 2
client write log 5392015959451752487 (index 81) to leader 2
client write log 2005289964562599524 (index 82) to leader 2
client write log 9011906312324598851 (index 83) to leader 2
client write log 2326258545210115608 (index 84) to leader 2
flag 38310 term 12 leader 2 nextIndex[0]: 78  matchIndex[0]: 77
term 12 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 10 leaderCommit: 78 
------------------------------------------------------
flag 89354 term 12 leader 2 nextIndex[1]: 79  matchIndex[1]: 78
term 12 leader 2 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 12 leaderCommit: 78 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=84
leader log:
[{snapshot 10 69} {5124593758832515632 10 70} {8818330907881263426 10 71} {4696404034421778405 10 72} {3834157508827975415 10 73} {4875515284516452216 10 74} {3753695457666009134 10 75} {5825934145038907046 10 76} {3530652036793217977 10 77} {3278629714141308432 12 78} {6674760094728197172 12 79} {1705368368719036568 12 80} {5392015959451752487 12 81} {2005289964562599524 12 82} {9011906312324598851 12 83} {2326258545210115608 12 84}]
------------------------------------------------------
term 12 Server2 start snapshot! index=79
term 12 server2 snapshot success
lastIncludedIndex=79 lastApplied=80 lastIndex=84
-------------------------------------------------------------
term 12 leader 2 nextIndex[0]: 78  matchIndex[0]: 77
term 12 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 12
------------------------------------------------------
flag 43622 term 12 leader 2 nextIndex[1]: 85  matchIndex[1]: 84
term 12 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 12 leaderCommit: 84 
------------------------------------------------------
term 12 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=84
leader log:
[{snapshot 12 79} {1705368368719036568 12 80} {5392015959451752487 12 81} {2005289964562599524 12 82} {9011906312324598851 12 83} {2326258545210115608 12 84}]
------------------------------------------------------
term 12 Server1 start snapshot! index=79
term 12 server1 snapshot success
lastIncludedIndex=79 lastApplied=80 lastIndex=84
-------------------------------------------------------------
!!!!!!connect server 0
client write log 3912163010198617902 (index 85) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 12 server 2 not vote for server 0, 日志不够新
term 12 server 1 not vote for server 0, 日志不够新
term 14 server 1 vote for server 2
term 14 server 2 get vote from server 1
term 14 server 2 become leader
------------------------------------------------------
term 14 server 0 vote for server 2
term 14 server 2 get outdate rpc reply from server 0
flag 38033 term 14 leader 2 nextIndex[0]: 86  matchIndex[0]: 0
term 14 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 12 leaderCommit: 84 
------------------------------------------------------
flag 13330 term 14 leader 2 nextIndex[1]: 86  matchIndex[1]: 0
term 14 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 12 leaderCommit: 84 
------------------------------------------------------
term 14 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 14 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 86->85
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 86->85
------------------------------------------------------
term 14 leader 2 nextIndex[0]: 78  matchIndex[0]: 0
term 14 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 12
------------------------------------------------------
flag 19944 term 14 leader 2 nextIndex[1]: 85  matchIndex[1]: 0
term 14 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 12 leaderCommit: 84 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 12 79} {1705368368719036568 12 80} {5392015959451752487 12 81} {2005289964562599524 12 82} {9011906312324598851 12 83} {2326258545210115608 12 84} {3912163010198617902 12 85}]
------------------------------------------------------
term 14 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 79 rf.lastIncludedTerm 12 rf.commitIndex 79 rf.lastApplied 79
term 14 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 80 matchIndex[0] 79 
------------------------------------------------------------------------
flag 1202 term 14 leader 2 nextIndex[0]: 80  matchIndex[0]: 79
term 14 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 12 leaderCommit: 84 
------------------------------------------------------
flag 94960 term 14 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 14 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 12 leaderCommit: 84 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 12 79} {1705368368719036568 12 80} {5392015959451752487 12 81} {2005289964562599524 12 82} {9011906312324598851 12 83} {2326258545210115608 12 84} {3912163010198617902 12 85}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=84
leader log:
[{snapshot 12 79} {1705368368719036568 12 80} {5392015959451752487 12 81} {2005289964562599524 12 82} {9011906312324598851 12 83} {2326258545210115608 12 84} {3912163010198617902 12 85}]
------------------------------------------------------
flag 91375 term 14 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 14 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 12 leaderCommit: 84 
------------------------------------------------------
flag 43443 term 14 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 14 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 12 leaderCommit: 84 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 12 79} {1705368368719036568 12 80} {5392015959451752487 12 81} {2005289964562599524 12 82} {9011906312324598851 12 83} {2326258545210115608 12 84} {3912163010198617902 12 85}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=84
leader log:
[{snapshot 12 79} {1705368368719036568 12 80} {5392015959451752487 12 81} {2005289964562599524 12 82} {9011906312324598851 12 83} {2326258545210115608 12 84} {3912163010198617902 12 85}]
------------------------------------------------------
flag 36467 term 14 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 14 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 12 leaderCommit: 84 
------------------------------------------------------
flag 76977 term 14 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 14 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 12 leaderCommit: 84 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=84
leader log:
[{snapshot 12 79} {1705368368719036568 12 80} {5392015959451752487 12 81} {2005289964562599524 12 82} {9011906312324598851 12 83} {2326258545210115608 12 84} {3912163010198617902 12 85}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 12 79} {1705368368719036568 12 80} {5392015959451752487 12 81} {2005289964562599524 12 82} {9011906312324598851 12 83} {2326258545210115608 12 84} {3912163010198617902 12 85}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7400 term 14 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 14 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 12 leaderCommit: 84 
------------------------------------------------------
flag 55929 term 14 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 14 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 12 leaderCommit: 84 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 12 79} {1705368368719036568 12 80} {5392015959451752487 12 81} {2005289964562599524 12 82} {9011906312324598851 12 83} {2326258545210115608 12 84} {3912163010198617902 12 85}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=84
leader log:
[{snapshot 12 79} {1705368368719036568 12 80} {5392015959451752487 12 81} {2005289964562599524 12 82} {9011906312324598851 12 83} {2326258545210115608 12 84} {3912163010198617902 12 85}]
------------------------------------------------------
flag 77405 term 14 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 14 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 12 leaderCommit: 84 
------------------------------------------------------
flag 18582 term 14 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 14 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 12 leaderCommit: 84 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 12 79} {1705368368719036568 12 80} {5392015959451752487 12 81} {2005289964562599524 12 82} {9011906312324598851 12 83} {2326258545210115608 12 84} {3912163010198617902 12 85}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=84
leader log:
[{snapshot 12 79} {1705368368719036568 12 80} {5392015959451752487 12 81} {2005289964562599524 12 82} {9011906312324598851 12 83} {2326258545210115608 12 84} {3912163010198617902 12 85}]
------------------------------------------------------
flag 62242 term 14 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 14 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 12 leaderCommit: 84 
------------------------------------------------------
flag 22656 term 14 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 14 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 12 leaderCommit: 84 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 12 79} {1705368368719036568 12 80} {5392015959451752487 12 81} {2005289964562599524 12 82} {9011906312324598851 12 83} {2326258545210115608 12 84} {3912163010198617902 12 85}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=84
leader log:
[{snapshot 12 79} {1705368368719036568 12 80} {5392015959451752487 12 81} {2005289964562599524 12 82} {9011906312324598851 12 83} {2326258545210115608 12 84} {3912163010198617902 12 85}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72868 term 14 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 14 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 12 leaderCommit: 84 
------------------------------------------------------
flag 96144 term 14 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 14 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 12 leaderCommit: 84 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=84
leader log:
[{snapshot 12 79} {1705368368719036568 12 80} {5392015959451752487 12 81} {2005289964562599524 12 82} {9011906312324598851 12 83} {2326258545210115608 12 84} {3912163010198617902 12 85}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 12 79} {1705368368719036568 12 80} {5392015959451752487 12 81} {2005289964562599524 12 82} {9011906312324598851 12 83} {2326258545210115608 12 84} {3912163010198617902 12 85}]
------------------------------------------------------
flag 8074 term 14 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 14 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 12 leaderCommit: 84 
------------------------------------------------------
flag 61540 term 14 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 14 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 12 leaderCommit: 84 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 12 79} {1705368368719036568 12 80} {5392015959451752487 12 81} {2005289964562599524 12 82} {9011906312324598851 12 83} {2326258545210115608 12 84} {3912163010198617902 12 85}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=84
leader log:
[{snapshot 12 79} {1705368368719036568 12 80} {5392015959451752487 12 81} {2005289964562599524 12 82} {9011906312324598851 12 83} {2326258545210115608 12 84} {3912163010198617902 12 85}]
------------------------------------------------------
flag 83043 term 14 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 14 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 12 leaderCommit: 84 
------------------------------------------------------
flag 37976 term 14 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 14 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 12 leaderCommit: 84 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 12 79} {1705368368719036568 12 80} {5392015959451752487 12 81} {2005289964562599524 12 82} {9011906312324598851 12 83} {2326258545210115608 12 84} {3912163010198617902 12 85}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=84
leader log:
[{snapshot 12 79} {1705368368719036568 12 80} {5392015959451752487 12 81} {2005289964562599524 12 82} {9011906312324598851 12 83} {2326258545210115608 12 84} {3912163010198617902 12 85}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45864 term 14 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 14 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 12 leaderCommit: 84 
------------------------------------------------------
flag 40650 term 14 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 14 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 12 leaderCommit: 84 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
term 14 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
[{snapshot 12 79} {1705368368719036568 12 80} {5392015959451752487 12 81} {2005289964562599524 12 82} {9011906312324598851 12 83} {2326258545210115608 12 84} {3912163010198617902 12 85}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=84
leader log:
[{snapshot 12 79} {1705368368719036568 12 80} {5392015959451752487 12 81} {2005289964562599524 12 82} {9011906312324598851 12 83} {2326258545210115608 12 84} {3912163010198617902 12 85}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58561 term 14 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 14 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 12 leaderCommit: 84 
------------------------------------------------------
flag 87704 term 14 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 14 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 12 leaderCommit: 84 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 12 79} {1705368368719036568 12 80} {5392015959451752487 12 81} {2005289964562599524 12 82} {9011906312324598851 12 83} {2326258545210115608 12 84} {3912163010198617902 12 85}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=84
leader log:
[{snapshot 12 79} {1705368368719036568 12 80} {5392015959451752487 12 81} {2005289964562599524 12 82} {9011906312324598851 12 83} {2326258545210115608 12 84} {3912163010198617902 12 85}]
------------------------------------------------------
flag 41867 term 14 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 14 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 12 leaderCommit: 84 
------------------------------------------------------
flag 85789 term 14 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 14 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 12 leaderCommit: 84 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 12 79} {1705368368719036568 12 80} {5392015959451752487 12 81} {2005289964562599524 12 82} {9011906312324598851 12 83} {2326258545210115608 12 84} {3912163010198617902 12 85}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=84
leader log:
[{snapshot 12 79} {1705368368719036568 12 80} {5392015959451752487 12 81} {2005289964562599524 12 82} {9011906312324598851 12 83} {2326258545210115608 12 84} {3912163010198617902 12 85}]
------------------------------------------------------
flag 92769 term 14 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 14 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 12 leaderCommit: 84 
------------------------------------------------------
flag 28440 term 14 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 14 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 12 leaderCommit: 84 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 12 79} {1705368368719036568 12 80} {5392015959451752487 12 81} {2005289964562599524 12 82} {9011906312324598851 12 83} {2326258545210115608 12 84} {3912163010198617902 12 85}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=84
leader log:
[{snapshot 12 79} {1705368368719036568 12 80} {5392015959451752487 12 81} {2005289964562599524 12 82} {9011906312324598851 12 83} {2326258545210115608 12 84} {3912163010198617902 12 85}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10453 term 14 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 14 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 12 leaderCommit: 84 
------------------------------------------------------
flag 68765 term 14 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 14 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 12 leaderCommit: 84 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 12 79} {1705368368719036568 12 80} {5392015959451752487 12 81} {2005289964562599524 12 82} {9011906312324598851 12 83} {2326258545210115608 12 84} {3912163010198617902 12 85}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=84
leader log:
[{snapshot 12 79} {1705368368719036568 12 80} {5392015959451752487 12 81} {2005289964562599524 12 82} {9011906312324598851 12 83} {2326258545210115608 12 84} {3912163010198617902 12 85}]
------------------------------------------------------
term 14 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 14065 term 14 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 14 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 12 leaderCommit: 84 
------------------------------------------------------
flag 83216 term 14 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 14 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 12 leaderCommit: 84 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 12 79} {1705368368719036568 12 80} {5392015959451752487 12 81} {2005289964562599524 12 82} {9011906312324598851 12 83} {2326258545210115608 12 84} {3912163010198617902 12 85}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=84
leader log:
[{snapshot 12 79} {1705368368719036568 12 80} {5392015959451752487 12 81} {2005289964562599524 12 82} {9011906312324598851 12 83} {2326258545210115608 12 84} {3912163010198617902 12 85}]
------------------------------------------------------
flag 22949 term 14 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 14 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 12 leaderCommit: 84 
------------------------------------------------------
flag 46561 term 14 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 14 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 12 leaderCommit: 84 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 12 79} {1705368368719036568 12 80} {5392015959451752487 12 81} {2005289964562599524 12 82} {9011906312324598851 12 83} {2326258545210115608 12 84} {3912163010198617902 12 85}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=84
leader log:
[{snapshot 12 79} {1705368368719036568 12 80} {5392015959451752487 12 81} {2005289964562599524 12 82} {9011906312324598851 12 83} {2326258545210115608 12 84} {3912163010198617902 12 85}]
------------------------------------------------------
term 14 server 1 not vote for server 2, 任期不够新
term 14 server 2 get outdate rpc reply from server 1
flag 92111 term 14 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 14 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 12 leaderCommit: 84 
------------------------------------------------------
flag 84264 term 14 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 14 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 12 leaderCommit: 84 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=84
leader log:
[{snapshot 12 79} {1705368368719036568 12 80} {5392015959451752487 12 81} {2005289964562599524 12 82} {9011906312324598851 12 83} {2326258545210115608 12 84} {3912163010198617902 12 85}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 12 79} {1705368368719036568 12 80} {5392015959451752487 12 81} {2005289964562599524 12 82} {9011906312324598851 12 83} {2326258545210115608 12 84} {3912163010198617902 12 85}]
------------------------------------------------------
flag 70582 term 14 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 14 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 12 leaderCommit: 84 
------------------------------------------------------
flag 34379 term 14 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 14 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 12 leaderCommit: 84 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=84
leader log:
[{snapshot 12 79} {1705368368719036568 12 80} {5392015959451752487 12 81} {2005289964562599524 12 82} {9011906312324598851 12 83} {2326258545210115608 12 84} {3912163010198617902 12 85}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=84
leader log:
[{snapshot 12 79} {1705368368719036568 12 80} {5392015959451752487 12 81} {2005289964562599524 12 82} {9011906312324598851 12 83} {2326258545210115608 12 84} {3912163010198617902 12 85}]
------------------------------------------------------
client write log 3912163010198617902 (index 86) to leader 2
flag 75702 term 14 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 14 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 12 leaderCommit: 84 
------------------------------------------------------
flag 79675 term 14 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 14 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 12 leaderCommit: 84 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 12 79} {1705368368719036568 12 80} {5392015959451752487 12 81} {2005289964562599524 12 82} {9011906312324598851 12 83} {2326258545210115608 12 84} {3912163010198617902 12 85} {3912163010198617902 14 86}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=86
leader log:
[{snapshot 12 79} {1705368368719036568 12 80} {5392015959451752487 12 81} {2005289964562599524 12 82} {9011906312324598851 12 83} {2326258545210115608 12 84} {3912163010198617902 12 85} {3912163010198617902 14 86}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 14 server 2 not vote for server 0, 任期不够新
term 14 server 0 get outdate rpc reply from server 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45310 term 14 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 14 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
flag 63487 term 14 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 14 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 12 79} {1705368368719036568 12 80} {5392015959451752487 12 81} {2005289964562599524 12 82} {9011906312324598851 12 83} {2326258545210115608 12 84} {3912163010198617902 12 85} {3912163010198617902 14 86}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=86
leader log:
[{snapshot 12 79} {1705368368719036568 12 80} {5392015959451752487 12 81} {2005289964562599524 12 82} {9011906312324598851 12 83} {2326258545210115608 12 84} {3912163010198617902 12 85} {3912163010198617902 14 86}]
------------------------------------------------------
flag 56400 term 14 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 14 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
flag 78325 term 14 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 14 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 12 79} {1705368368719036568 12 80} {5392015959451752487 12 81} {2005289964562599524 12 82} {9011906312324598851 12 83} {2326258545210115608 12 84} {3912163010198617902 12 85} {3912163010198617902 14 86}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=86
leader log:
[{snapshot 12 79} {1705368368719036568 12 80} {5392015959451752487 12 81} {2005289964562599524 12 82} {9011906312324598851 12 83} {2326258545210115608 12 84} {3912163010198617902 12 85} {3912163010198617902 14 86}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15149 term 14 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 14 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
flag 46706 term 14 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 14 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 12 79} {1705368368719036568 12 80} {5392015959451752487 12 81} {2005289964562599524 12 82} {9011906312324598851 12 83} {2326258545210115608 12 84} {3912163010198617902 12 85} {3912163010198617902 14 86}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=86
leader log:
[{snapshot 12 79} {1705368368719036568 12 80} {5392015959451752487 12 81} {2005289964562599524 12 82} {9011906312324598851 12 83} {2326258545210115608 12 84} {3912163010198617902 12 85} {3912163010198617902 14 86}]
------------------------------------------------------
flag 27000 term 14 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 14 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
flag 29568 term 14 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 14 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=86
leader log:
[{snapshot 12 79} {1705368368719036568 12 80} {5392015959451752487 12 81} {2005289964562599524 12 82} {9011906312324598851 12 83} {2326258545210115608 12 84} {3912163010198617902 12 85} {3912163010198617902 14 86}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 12 79} {1705368368719036568 12 80} {5392015959451752487 12 81} {2005289964562599524 12 82} {9011906312324598851 12 83} {2326258545210115608 12 84} {3912163010198617902 12 85} {3912163010198617902 14 86}]
------------------------------------------------------
flag 58062 term 14 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 14 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
flag 89936 term 14 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 14 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 12 79} {1705368368719036568 12 80} {5392015959451752487 12 81} {2005289964562599524 12 82} {9011906312324598851 12 83} {2326258545210115608 12 84} {3912163010198617902 12 85} {3912163010198617902 14 86}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=86
leader log:
[{snapshot 12 79} {1705368368719036568 12 80} {5392015959451752487 12 81} {2005289964562599524 12 82} {9011906312324598851 12 83} {2326258545210115608 12 84} {3912163010198617902 12 85} {3912163010198617902 14 86}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 9337 term 14 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 14 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
flag 33980 term 14 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 14 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
flag 24868 term 14 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 14 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
flag 7912 term 14 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 14 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
flag 40043 term 14 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 14 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
flag 43974 term 14 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 14 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
term 15 server 0 vote for server 1
term 15 server 1 get vote from server 0
term 15 server 1 become leader
------------------------------------------------------
client write log 4648695998566243281 (index 87) to leader 1
flag 12862 term 15 leader 1 nextIndex[0]: 87  matchIndex[0]: 0
term 15 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
flag 95495 term 15 leader 1 nextIndex[2]: 87  matchIndex[2]: 0
term 15 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=87
leader log:
[{snapshot 12 79} {1705368368719036568 12 80} {5392015959451752487 12 81} {2005289964562599524 12 82} {9011906312324598851 12 83} {2326258545210115608 12 84} {3912163010198617902 12 85} {3912163010198617902 14 86} {4648695998566243281 15 87}]
------------------------------------------------------
flag 59761 term 14 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 14 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
flag 96071 term 14 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 14 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
flag 30342 term 15 leader 1 nextIndex[0]: 88  matchIndex[0]: 87
term 15 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 15 leaderCommit: 87 
------------------------------------------------------
flag 90755 term 15 leader 1 nextIndex[2]: 87  matchIndex[2]: 0
term 15 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=87
leader log:
[{snapshot 12 79} {1705368368719036568 12 80} {5392015959451752487 12 81} {2005289964562599524 12 82} {9011906312324598851 12 83} {2326258545210115608 12 84} {3912163010198617902 12 85} {3912163010198617902 14 86} {4648695998566243281 15 87}]
------------------------------------------------------
flag 56960 term 14 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 14 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
flag 2633 term 14 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 14 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
client write log 4557953903953948126 (index 88) to leader 1
flag 98410 term 15 leader 1 nextIndex[0]: 88  matchIndex[0]: 87
term 15 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 15 leaderCommit: 87 
------------------------------------------------------
flag 26378 term 15 leader 1 nextIndex[2]: 87  matchIndex[2]: 0
term 15 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=88
leader log:
[{snapshot 12 79} {1705368368719036568 12 80} {5392015959451752487 12 81} {2005289964562599524 12 82} {9011906312324598851 12 83} {2326258545210115608 12 84} {3912163010198617902 12 85} {3912163010198617902 14 86} {4648695998566243281 15 87} {4557953903953948126 15 88}]
------------------------------------------------------
flag 88361 term 14 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 14 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
flag 33638 term 14 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 14 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
flag 66743 term 15 leader 1 nextIndex[0]: 89  matchIndex[0]: 88
term 15 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 15 leaderCommit: 88 
------------------------------------------------------
flag 81048 term 15 leader 1 nextIndex[2]: 87  matchIndex[2]: 0
term 15 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=88
leader log:
[{snapshot 12 79} {1705368368719036568 12 80} {5392015959451752487 12 81} {2005289964562599524 12 82} {9011906312324598851 12 83} {2326258545210115608 12 84} {3912163010198617902 12 85} {3912163010198617902 14 86} {4648695998566243281 15 87} {4557953903953948126 15 88}]
------------------------------------------------------
flag 2935 term 14 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 14 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
flag 24194 term 14 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 14 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
!!!!!!connect server 2
client write log 2002388581512985736 (index 89) to leader 1
flag 55773 term 15 leader 1 nextIndex[0]: 89  matchIndex[0]: 88
term 15 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 15 leaderCommit: 88 
------------------------------------------------------
flag 26120 term 15 leader 1 nextIndex[2]: 87  matchIndex[2]: 0
term 15 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=89
leader log:
[{snapshot 12 79} {1705368368719036568 12 80} {5392015959451752487 12 81} {2005289964562599524 12 82} {9011906312324598851 12 83} {2326258545210115608 12 84} {3912163010198617902 12 85} {3912163010198617902 14 86} {4648695998566243281 15 87} {4557953903953948126 15 88} {2002388581512985736 15 89}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=89
leader log:
[{snapshot 12 79} {1705368368719036568 12 80} {5392015959451752487 12 81} {2005289964562599524 12 82} {9011906312324598851 12 83} {2326258545210115608 12 84} {3912163010198617902 12 85} {3912163010198617902 14 86} {4648695998566243281 15 87} {4557953903953948126 15 88} {2002388581512985736 15 89}]
------------------------------------------------------
term 15 Server1 start snapshot! index=89
term 15 server1 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=89
-------------------------------------------------------------
flag 35783 term 15 leader 1 nextIndex[0]: 90  matchIndex[0]: 89
term 15 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 89 
------------------------------------------------------
flag 95318 term 15 leader 1 nextIndex[2]: 90  matchIndex[2]: 89
term 15 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 89 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=89
leader log:
[{snapshot 15 89}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=89
leader log:
[{snapshot 15 89}]
------------------------------------------------------
term 15 Server0 start snapshot! index=89
term 15 server0 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=89
-------------------------------------------------------------
term 15 Server2 start snapshot! index=89
term 15 server2 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=89
-------------------------------------------------------------
flag 12752 term 15 leader 1 nextIndex[0]: 90  matchIndex[0]: 89
term 15 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 89 
------------------------------------------------------
flag 58800 term 15 leader 1 nextIndex[2]: 90  matchIndex[2]: 89
term 15 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 89 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=89
leader log:
[{snapshot 15 89}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=89
leader log:
[{snapshot 15 89}]
------------------------------------------------------
flag 78121 term 15 leader 1 nextIndex[0]: 90  matchIndex[0]: 89
term 15 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 89 
------------------------------------------------------
flag 87664 term 15 leader 1 nextIndex[2]: 90  matchIndex[2]: 89
term 15 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 89 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=89
leader log:
[{snapshot 15 89}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=89
leader log:
[{snapshot 15 89}]
------------------------------------------------------
flag 51986 term 15 leader 1 nextIndex[0]: 90  matchIndex[0]: 89
term 15 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 89 
------------------------------------------------------
flag 49576 term 15 leader 1 nextIndex[2]: 90  matchIndex[2]: 89
term 15 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 89 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=89
leader log:
[{snapshot 15 89}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=89
leader log:
[{snapshot 15 89}]
------------------------------------------------------
flag 35141 term 15 leader 1 nextIndex[0]: 90  matchIndex[0]: 89
term 15 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 89 
------------------------------------------------------
flag 35809 term 15 leader 1 nextIndex[2]: 90  matchIndex[2]: 89
term 15 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 89 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:89 
term 15 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=89
leader log:
[{snapshot 15 89}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=89
leader log:
[{snapshot 15 89}]
------------------------------------------------------
flag 54440 term 15 leader 1 nextIndex[0]: 90  matchIndex[0]: 89
term 15 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 89 
------------------------------------------------------
flag 46775 term 15 leader 1 nextIndex[2]: 90  matchIndex[2]: 89
term 15 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 89 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=89
leader log:
[{snapshot 15 89}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=89
leader log:
[{snapshot 15 89}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 832567629076618113 (index 90) to leader 1
flag 61313 term 15 leader 1 nextIndex[0]: 90  matchIndex[0]: 89
term 15 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 89 
------------------------------------------------------
flag 57065 term 15 leader 1 nextIndex[2]: 90  matchIndex[2]: 89
term 15 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 89 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=90
leader log:
[{snapshot 15 89} {832567629076618113 15 90}]
------------------------------------------------------
flag 10293 term 15 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 15 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 15 leaderCommit: 90 
------------------------------------------------------
flag 19178 term 15 leader 1 nextIndex[2]: 90  matchIndex[2]: 89
term 15 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 90 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=90
leader log:
[{snapshot 15 89} {832567629076618113 15 90}]
------------------------------------------------------
client write log 7958057616080883145 (index 91) to leader 1
client write log 2315381799363860901 (index 92) to leader 1
client write log 4207417574842284364 (index 93) to leader 1
client write log 8247772916536032217 (index 94) to leader 1
client write log 2970549124202417974 (index 95) to leader 1
client write log 8692345161189740111 (index 96) to leader 1
client write log 7779397814425107330 (index 97) to leader 1
client write log 2205720715149425413 (index 98) to leader 1
client write log 5350690661951630012 (index 99) to leader 1
client write log 8120625920005539825 (index 100) to leader 1
client write log 5448706186286824999 (index 101) to leader 1
client write log 2926653425918338214 (index 102) to leader 1
flag 1961 term 15 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 15 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 15 leaderCommit: 90 
------------------------------------------------------
flag 97122 term 15 leader 1 nextIndex[2]: 90  matchIndex[2]: 89
term 15 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 90 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=102
leader log:
[{snapshot 15 89} {832567629076618113 15 90} {7958057616080883145 15 91} {2315381799363860901 15 92} {4207417574842284364 15 93} {8247772916536032217 15 94} {2970549124202417974 15 95} {8692345161189740111 15 96} {7779397814425107330 15 97} {2205720715149425413 15 98} {5350690661951630012 15 99} {8120625920005539825 15 100} {5448706186286824999 15 101} {2926653425918338214 15 102}]
------------------------------------------------------
term 15 Server1 start snapshot! index=99
term 15 server1 snapshot success
lastIncludedIndex=99 lastApplied=100 lastIndex=102
-------------------------------------------------------------
flag 10994 term 15 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 15 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 15 leaderCommit: 102 
------------------------------------------------------
term 15 leader 1 nextIndex[2]: 90  matchIndex[2]: 89
term 15 leader 1 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 15
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=102
leader log:
[{snapshot 15 99} {8120625920005539825 15 100} {5448706186286824999 15 101} {2926653425918338214 15 102}]
------------------------------------------------------
term 15 server 1 not vote for server 0, 任期不够新
term 15 server 0 get outdate rpc reply from server 1
term 15 Server0 start snapshot! index=99
term 15 server0 snapshot success
lastIncludedIndex=99 lastApplied=100 lastIndex=102
-------------------------------------------------------------
!!!!!!connect server 2
client write log 8148748947779444812 (index 103) to leader 1
term 15 server 1 not vote for server 2, 日志不够新
term 15 server 0 not vote for server 2, 日志不够新
term 17 server 2 vote for server 1
term 17 server 1 get vote from server 2
term 17 server 1 become leader
------------------------------------------------------
term 17 server 0 vote for server 1
term 17 server 1 get outdate rpc reply from server 0
flag 51299 term 17 leader 1 nextIndex[0]: 104  matchIndex[0]: 0
term 17 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 15 leaderCommit: 102 
------------------------------------------------------
flag 12319 term 17 leader 1 nextIndex[2]: 104  matchIndex[2]: 0
term 17 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 15 leaderCommit: 102 
------------------------------------------------------
term 17 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 104->103
------------------------------------------------------
term 17 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 104->103
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29063 term 17 leader 1 nextIndex[0]: 103  matchIndex[0]: 0
term 17 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 15 leaderCommit: 102 
------------------------------------------------------
term 17 leader 1 nextIndex[2]: 90  matchIndex[2]: 0
term 17 leader 1 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 15
------------------------------------------------------
term 17 server 2 InstallSnapshot success
------------------------------------------------------
term 17 leader 1 -> server 2 sendInstallSnapshot success
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 99 rf.lastIncludedTerm 15 rf.commitIndex 99 rf.lastApplied 99
term 17 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
nextIndex[2] 100 matchIndex[2] 99 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=102
leader log:
[{snapshot 15 99} {8120625920005539825 15 100} {5448706186286824999 15 101} {2926653425918338214 15 102} {8148748947779444812 15 103}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34055 term 17 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 17 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 15 leaderCommit: 102 
------------------------------------------------------
flag 34409 term 17 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 17 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 15 leaderCommit: 102 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:99 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=102
leader log:
[{snapshot 15 99} {8120625920005539825 15 100} {5448706186286824999 15 101} {2926653425918338214 15 102} {8148748947779444812 15 103}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=102
leader log:
[{snapshot 15 99} {8120625920005539825 15 100} {5448706186286824999 15 101} {2926653425918338214 15 102} {8148748947779444812 15 103}]
------------------------------------------------------
flag 43809 term 17 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 17 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 15 leaderCommit: 102 
------------------------------------------------------
flag 74450 term 17 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 17 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 15 leaderCommit: 102 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=102
leader log:
[{snapshot 15 99} {8120625920005539825 15 100} {5448706186286824999 15 101} {2926653425918338214 15 102} {8148748947779444812 15 103}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=102
leader log:
[{snapshot 15 99} {8120625920005539825 15 100} {5448706186286824999 15 101} {2926653425918338214 15 102} {8148748947779444812 15 103}]
------------------------------------------------------
flag 17861 term 17 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 17 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 15 leaderCommit: 102 
------------------------------------------------------
flag 59553 term 17 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 17 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 15 leaderCommit: 102 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=102
leader log:
[{snapshot 15 99} {8120625920005539825 15 100} {5448706186286824999 15 101} {2926653425918338214 15 102} {8148748947779444812 15 103}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=102
leader log:
[{snapshot 15 99} {8120625920005539825 15 100} {5448706186286824999 15 101} {2926653425918338214 15 102} {8148748947779444812 15 103}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15472 term 17 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 17 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 15 leaderCommit: 102 
------------------------------------------------------
flag 18300 term 17 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 17 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 15 leaderCommit: 102 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=102
leader log:
[{snapshot 15 99} {8120625920005539825 15 100} {5448706186286824999 15 101} {2926653425918338214 15 102} {8148748947779444812 15 103}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=102
leader log:
[{snapshot 15 99} {8120625920005539825 15 100} {5448706186286824999 15 101} {2926653425918338214 15 102} {8148748947779444812 15 103}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95537 term 17 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 17 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 15 leaderCommit: 102 
------------------------------------------------------
flag 45625 term 17 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 17 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 15 leaderCommit: 102 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=102
leader log:
[{snapshot 15 99} {8120625920005539825 15 100} {5448706186286824999 15 101} {2926653425918338214 15 102} {8148748947779444812 15 103}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=102
leader log:
[{snapshot 15 99} {8120625920005539825 15 100} {5448706186286824999 15 101} {2926653425918338214 15 102} {8148748947779444812 15 103}]
------------------------------------------------------
flag 34005 term 17 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 17 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 15 leaderCommit: 102 
------------------------------------------------------
flag 5442 term 17 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 17 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 15 leaderCommit: 102 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=102
leader log:
[{snapshot 15 99} {8120625920005539825 15 100} {5448706186286824999 15 101} {2926653425918338214 15 102} {8148748947779444812 15 103}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=102
leader log:
[{snapshot 15 99} {8120625920005539825 15 100} {5448706186286824999 15 101} {2926653425918338214 15 102} {8148748947779444812 15 103}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98852 term 17 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 17 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 15 leaderCommit: 102 
------------------------------------------------------
flag 7589 term 17 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 17 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 15 leaderCommit: 102 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=102
leader log:
[{snapshot 15 99} {8120625920005539825 15 100} {5448706186286824999 15 101} {2926653425918338214 15 102} {8148748947779444812 15 103}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=102
leader log:
[{snapshot 15 99} {8120625920005539825 15 100} {5448706186286824999 15 101} {2926653425918338214 15 102} {8148748947779444812 15 103}]
------------------------------------------------------
flag 58502 term 17 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 17 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 15 leaderCommit: 102 
------------------------------------------------------
flag 56437 term 17 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 17 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 15 leaderCommit: 102 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=102
leader log:
[{snapshot 15 99} {8120625920005539825 15 100} {5448706186286824999 15 101} {2926653425918338214 15 102} {8148748947779444812 15 103}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=102
leader log:
[{snapshot 15 99} {8120625920005539825 15 100} {5448706186286824999 15 101} {2926653425918338214 15 102} {8148748947779444812 15 103}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26971 term 17 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 17 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 15 leaderCommit: 102 
------------------------------------------------------
flag 93261 term 17 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 17 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 15 leaderCommit: 102 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=102
leader log:
[{snapshot 15 99} {8120625920005539825 15 100} {5448706186286824999 15 101} {2926653425918338214 15 102} {8148748947779444812 15 103}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=102
leader log:
[{snapshot 15 99} {8120625920005539825 15 100} {5448706186286824999 15 101} {2926653425918338214 15 102} {8148748947779444812 15 103}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25163 term 17 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 17 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 15 leaderCommit: 102 
------------------------------------------------------
flag 75800 term 17 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 17 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 15 leaderCommit: 102 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:102 
term 17 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=102
leader log:
[{snapshot 15 99} {8120625920005539825 15 100} {5448706186286824999 15 101} {2926653425918338214 15 102} {8148748947779444812 15 103}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=102
leader log:
[{snapshot 15 99} {8120625920005539825 15 100} {5448706186286824999 15 101} {2926653425918338214 15 102} {8148748947779444812 15 103}]
------------------------------------------------------
flag 33075 term 17 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 17 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 15 leaderCommit: 102 
------------------------------------------------------
flag 42178 term 17 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 17 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 15 leaderCommit: 102 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=102
leader log:
[{snapshot 15 99} {8120625920005539825 15 100} {5448706186286824999 15 101} {2926653425918338214 15 102} {8148748947779444812 15 103}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=102
leader log:
[{snapshot 15 99} {8120625920005539825 15 100} {5448706186286824999 15 101} {2926653425918338214 15 102} {8148748947779444812 15 103}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11829 term 17 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 17 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 15 leaderCommit: 102 
------------------------------------------------------
flag 29181 term 17 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 17 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 15 leaderCommit: 102 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=102
leader log:
[{snapshot 15 99} {8120625920005539825 15 100} {5448706186286824999 15 101} {2926653425918338214 15 102} {8148748947779444812 15 103}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=102
leader log:
[{snapshot 15 99} {8120625920005539825 15 100} {5448706186286824999 15 101} {2926653425918338214 15 102} {8148748947779444812 15 103}]
------------------------------------------------------
flag 56686 term 17 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 17 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 15 leaderCommit: 102 
------------------------------------------------------
flag 65845 term 17 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 17 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 15 leaderCommit: 102 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=102
leader log:
[{snapshot 15 99} {8120625920005539825 15 100} {5448706186286824999 15 101} {2926653425918338214 15 102} {8148748947779444812 15 103}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=102
leader log:
[{snapshot 15 99} {8120625920005539825 15 100} {5448706186286824999 15 101} {2926653425918338214 15 102} {8148748947779444812 15 103}]
------------------------------------------------------
flag 486 term 17 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 17 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 15 leaderCommit: 102 
------------------------------------------------------
flag 33121 term 17 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 17 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 15 leaderCommit: 102 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=102
leader log:
[{snapshot 15 99} {8120625920005539825 15 100} {5448706186286824999 15 101} {2926653425918338214 15 102} {8148748947779444812 15 103}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=102
leader log:
[{snapshot 15 99} {8120625920005539825 15 100} {5448706186286824999 15 101} {2926653425918338214 15 102} {8148748947779444812 15 103}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 17 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44545 term 17 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 17 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 15 leaderCommit: 102 
------------------------------------------------------
flag 48130 term 17 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 17 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 15 leaderCommit: 102 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=102
leader log:
[{snapshot 15 99} {8120625920005539825 15 100} {5448706186286824999 15 101} {2926653425918338214 15 102} {8148748947779444812 15 103}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=102
leader log:
[{snapshot 15 99} {8120625920005539825 15 100} {5448706186286824999 15 101} {2926653425918338214 15 102} {8148748947779444812 15 103}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64811 term 17 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 17 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 15 leaderCommit: 102 
------------------------------------------------------
flag 77421 term 17 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 17 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 15 leaderCommit: 102 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=102
leader log:
[{snapshot 15 99} {8120625920005539825 15 100} {5448706186286824999 15 101} {2926653425918338214 15 102} {8148748947779444812 15 103}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=102
leader log:
[{snapshot 15 99} {8120625920005539825 15 100} {5448706186286824999 15 101} {2926653425918338214 15 102} {8148748947779444812 15 103}]
------------------------------------------------------
flag 5552 term 17 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 17 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 15 leaderCommit: 102 
------------------------------------------------------
flag 72875 term 17 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 17 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 15 leaderCommit: 102 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=102
leader log:
[{snapshot 15 99} {8120625920005539825 15 100} {5448706186286824999 15 101} {2926653425918338214 15 102} {8148748947779444812 15 103}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=102
leader log:
[{snapshot 15 99} {8120625920005539825 15 100} {5448706186286824999 15 101} {2926653425918338214 15 102} {8148748947779444812 15 103}]
------------------------------------------------------
term 17 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 76221 term 17 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 17 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 15 leaderCommit: 102 
------------------------------------------------------
flag 55337 term 17 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 17 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 15 leaderCommit: 102 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=102
leader log:
[{snapshot 15 99} {8120625920005539825 15 100} {5448706186286824999 15 101} {2926653425918338214 15 102} {8148748947779444812 15 103}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=102
leader log:
[{snapshot 15 99} {8120625920005539825 15 100} {5448706186286824999 15 101} {2926653425918338214 15 102} {8148748947779444812 15 103}]
------------------------------------------------------
client write log 8148748947779444812 (index 104) to leader 1
flag 92346 term 17 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 17 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 15 leaderCommit: 102 
------------------------------------------------------
flag 85760 term 17 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 17 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 15 leaderCommit: 102 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=105
update matchIndex[0]=104
update leader CommitIndex=104
leader log:
[{snapshot 15 99} {8120625920005539825 15 100} {5448706186286824999 15 101} {2926653425918338214 15 102} {8148748947779444812 15 103} {8148748947779444812 17 104}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=104
leader log:
[{snapshot 15 99} {8120625920005539825 15 100} {5448706186286824999 15 101} {2926653425918338214 15 102} {8148748947779444812 15 103} {8148748947779444812 17 104}]
------------------------------------------------------
flag 14321 term 17 leader 1 nextIndex[0]: 105  matchIndex[0]: 104
term 17 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 17 leaderCommit: 104 
------------------------------------------------------
flag 38988 term 17 leader 1 nextIndex[2]: 105  matchIndex[2]: 104
term 17 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 17 leaderCommit: 104 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:104 
term 17 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=104
leader log:
[{snapshot 15 99} {8120625920005539825 15 100} {5448706186286824999 15 101} {2926653425918338214 15 102} {8148748947779444812 15 103} {8148748947779444812 17 104}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=105
update matchIndex[0]=104
update leader CommitIndex=104
leader log:
[{snapshot 15 99} {8120625920005539825 15 100} {5448706186286824999 15 101} {2926653425918338214 15 102} {8148748947779444812 15 103} {8148748947779444812 17 104}]
------------------------------------------------------
flag 81427 term 17 leader 1 nextIndex[0]: 105  matchIndex[0]: 104
term 17 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 17 leaderCommit: 104 
------------------------------------------------------
flag 68784 term 17 leader 1 nextIndex[2]: 105  matchIndex[2]: 104
term 17 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 17 leaderCommit: 104 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=104
leader log:
[{snapshot 15 99} {8120625920005539825 15 100} {5448706186286824999 15 101} {2926653425918338214 15 102} {8148748947779444812 15 103} {8148748947779444812 17 104}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=105
update matchIndex[0]=104
update leader CommitIndex=104
leader log:
[{snapshot 15 99} {8120625920005539825 15 100} {5448706186286824999 15 101} {2926653425918338214 15 102} {8148748947779444812 15 103} {8148748947779444812 17 104}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69403 term 17 leader 1 nextIndex[0]: 105  matchIndex[0]: 104
term 17 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 17 leaderCommit: 104 
------------------------------------------------------
flag 744 term 17 leader 1 nextIndex[2]: 105  matchIndex[2]: 104
term 17 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 17 leaderCommit: 104 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:104 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=105
update matchIndex[0]=104
update leader CommitIndex=104
leader log:
[{snapshot 15 99} {8120625920005539825 15 100} {5448706186286824999 15 101} {2926653425918338214 15 102} {8148748947779444812 15 103} {8148748947779444812 17 104}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=104
leader log:
[{snapshot 15 99} {8120625920005539825 15 100} {5448706186286824999 15 101} {2926653425918338214 15 102} {8148748947779444812 15 103} {8148748947779444812 17 104}]
------------------------------------------------------
flag 45164 term 17 leader 1 nextIndex[0]: 105  matchIndex[0]: 104
term 17 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 17 leaderCommit: 104 
------------------------------------------------------
flag 5166 term 17 leader 1 nextIndex[2]: 105  matchIndex[2]: 104
term 17 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 17 leaderCommit: 104 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=104
leader log:
[{snapshot 15 99} {8120625920005539825 15 100} {5448706186286824999 15 101} {2926653425918338214 15 102} {8148748947779444812 15 103} {8148748947779444812 17 104}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=105
update matchIndex[0]=104
update leader CommitIndex=104
leader log:
[{snapshot 15 99} {8120625920005539825 15 100} {5448706186286824999 15 101} {2926653425918338214 15 102} {8148748947779444812 15 103} {8148748947779444812 17 104}]
------------------------------------------------------
flag 86298 term 17 leader 1 nextIndex[0]: 105  matchIndex[0]: 104
term 17 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 17 leaderCommit: 104 
------------------------------------------------------
flag 44674 term 17 leader 1 nextIndex[2]: 105  matchIndex[2]: 104
term 17 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 17 leaderCommit: 104 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=104
leader log:
term 17 server 0 AppendEntries true commitIndex:104 
------------------------------------------------------
[{snapshot 15 99} {8120625920005539825 15 100} {5448706186286824999 15 101} {2926653425918338214 15 102} {8148748947779444812 15 103} {8148748947779444812 17 104}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=105
update matchIndex[0]=104
update leader CommitIndex=104
leader log:
[{snapshot 15 99} {8120625920005539825 15 100} {5448706186286824999 15 101} {2926653425918338214 15 102} {8148748947779444812 15 103} {8148748947779444812 17 104}]
------------------------------------------------------
flag 13151 term 17 leader 1 nextIndex[0]: 105  matchIndex[0]: 104
term 17 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 17 leaderCommit: 104 
------------------------------------------------------
flag 62433 term 17 leader 1 nextIndex[2]: 105  matchIndex[2]: 104
term 17 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 17 leaderCommit: 104 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=104
leader log:
[{snapshot 15 99} {8120625920005539825 15 100} {5448706186286824999 15 101} {2926653425918338214 15 102} {8148748947779444812 15 103} {8148748947779444812 17 104}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=105
update matchIndex[0]=104
update leader CommitIndex=104
leader log:
[{snapshot 15 99} {8120625920005539825 15 100} {5448706186286824999 15 101} {2926653425918338214 15 102} {8148748947779444812 15 103} {8148748947779444812 17 104}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 8696462885733837352 (index 105) to leader 1
flag 91974 term 17 leader 1 nextIndex[0]: 105  matchIndex[0]: 104
term 17 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 17 leaderCommit: 104 
------------------------------------------------------
flag 41775 term 17 leader 1 nextIndex[2]: 105  matchIndex[2]: 104
term 17 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 17 leaderCommit: 104 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=106
update matchIndex[0]=105
update leader CommitIndex=105
leader log:
[{snapshot 15 99} {8120625920005539825 15 100} {5448706186286824999 15 101} {2926653425918338214 15 102} {8148748947779444812 15 103} {8148748947779444812 17 104} {8696462885733837352 17 105}]
------------------------------------------------------
flag 31651 term 17 leader 1 nextIndex[0]: 106  matchIndex[0]: 105
term 17 leader 1 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 17 leaderCommit: 105 
------------------------------------------------------
flag 91646 term 17 leader 1 nextIndex[2]: 105  matchIndex[2]: 104
term 17 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 17 leaderCommit: 105 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=106
update matchIndex[0]=105
update leader CommitIndex=105
leader log:
[{snapshot 15 99} {8120625920005539825 15 100} {5448706186286824999 15 101} {2926653425918338214 15 102} {8148748947779444812 15 103} {8148748947779444812 17 104} {8696462885733837352 17 105}]
------------------------------------------------------
client write log 6503923322522600754 (index 106) to leader 1
client write log 603290219558368183 (index 107) to leader 1
client write log 7799115342810993264 (index 108) to leader 1
client write log 4442898404604954206 (index 109) to leader 1
client write log 4650700634726844430 (index 110) to leader 1
client write log 2227128812844606594 (index 111) to leader 1
client write log 8133210957968217707 (index 112) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41172 term 17 leader 1 nextIndex[0]: 106  matchIndex[0]: 105
term 17 leader 1 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 17 leaderCommit: 105 
------------------------------------------------------
flag 17998 term 17 leader 1 nextIndex[2]: 105  matchIndex[2]: 104
term 17 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 17 leaderCommit: 105 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=113
update matchIndex[0]=112
update leader CommitIndex=112
leader log:
[{snapshot 15 99} {8120625920005539825 15 100} {5448706186286824999 15 101} {2926653425918338214 15 102} {8148748947779444812 15 103} {8148748947779444812 17 104} {8696462885733837352 17 105} {6503923322522600754 17 106} {603290219558368183 17 107} {7799115342810993264 17 108} {4442898404604954206 17 109} {4650700634726844430 17 110} {2227128812844606594 17 111} {8133210957968217707 17 112}]
------------------------------------------------------
term 17 Server1 start snapshot! index=109
term 17 server1 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=112
-------------------------------------------------------------
flag 19508 term 17 leader 1 nextIndex[0]: 113  matchIndex[0]: 112
term 17 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 17 leaderCommit: 112 
------------------------------------------------------
term 17 leader 1 nextIndex[2]: 105  matchIndex[2]: 104
term 17 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 17
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=113
update matchIndex[0]=112
update leader CommitIndex=112
leader log:
[{snapshot 17 109} {4650700634726844430 17 110} {2227128812844606594 17 111} {8133210957968217707 17 112}]
------------------------------------------------------
term 17 Server0 start snapshot! index=109
term 17 server0 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=112
-------------------------------------------------------------
!!!!!!connect server 2
client write log 6636333311439882031 (index 113) to leader 1
flag 67715 term 17 leader 1 nextIndex[0]: 113  matchIndex[0]: 112
term 17 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 17 leaderCommit: 112 
------------------------------------------------------
term 17 leader 1 nextIndex[2]: 105  matchIndex[2]: 104
term 17 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 17
------------------------------------------------------
term 18 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 17 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 19 server 2 vote for server 1
term 19 server 0 vote for server 1
term 19 server 1 get vote from server 2
term 19 server 1 become leader
------------------------------------------------------
term 19 server 1 get outdate rpc reply from server 0
flag 54181 term 19 leader 1 nextIndex[0]: 114  matchIndex[0]: 0
term 19 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 112 
------------------------------------------------------
flag 30813 term 19 leader 1 nextIndex[2]: 114  matchIndex[2]: 0
term 19 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 112 
------------------------------------------------------
term 19 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 114->113
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=112
leader log:
[{snapshot 17 109} {4650700634726844430 17 110} {2227128812844606594 17 111} {8133210957968217707 17 112} {6636333311439882031 17 113}]
------------------------------------------------------
flag 44387 term 19 leader 1 nextIndex[0]: 114  matchIndex[0]: 113
term 19 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 112 
------------------------------------------------------
term 19 leader 1 nextIndex[2]: 105  matchIndex[2]: 0
term 19 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 17
------------------------------------------------------
term 19 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 109 rf.lastIncludedTerm 17 rf.commitIndex 109 rf.lastApplied 109
term 19 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
term 19 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 110 matchIndex[2] 109 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=112
leader log:
[{snapshot 17 109} {4650700634726844430 17 110} {2227128812844606594 17 111} {8133210957968217707 17 112} {6636333311439882031 17 113}]
------------------------------------------------------
flag 30402 term 19 leader 1 nextIndex[0]: 114  matchIndex[0]: 113
term 19 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 112 
------------------------------------------------------
flag 69870 term 19 leader 1 nextIndex[2]: 110  matchIndex[2]: 109
term 19 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 17 leaderCommit: 112 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=112
leader log:
[{snapshot 17 109} {4650700634726844430 17 110} {2227128812844606594 17 111} {8133210957968217707 17 112} {6636333311439882031 17 113}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=112
leader log:
[{snapshot 17 109} {4650700634726844430 17 110} {2227128812844606594 17 111} {8133210957968217707 17 112} {6636333311439882031 17 113}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91476 term 19 leader 1 nextIndex[0]: 114  matchIndex[0]: 113
term 19 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 112 
------------------------------------------------------
flag 73417 term 19 leader 1 nextIndex[2]: 114  matchIndex[2]: 113
term 19 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 112 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=112
leader log:
[{snapshot 17 109} {4650700634726844430 17 110} {2227128812844606594 17 111} {8133210957968217707 17 112} {6636333311439882031 17 113}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=112
leader log:
[{snapshot 17 109} {4650700634726844430 17 110} {2227128812844606594 17 111} {8133210957968217707 17 112} {6636333311439882031 17 113}]
------------------------------------------------------
flag 93084 term 19 leader 1 nextIndex[0]: 114  matchIndex[0]: 113
term 19 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 112 
------------------------------------------------------
flag 7417 term 19 leader 1 nextIndex[2]: 114  matchIndex[2]: 113
term 19 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 112 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=112
leader log:
[{snapshot 17 109} {4650700634726844430 17 110} {2227128812844606594 17 111} {8133210957968217707 17 112} {6636333311439882031 17 113}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=112
leader log:
[{snapshot 17 109} {4650700634726844430 17 110} {2227128812844606594 17 111} {8133210957968217707 17 112} {6636333311439882031 17 113}]
------------------------------------------------------
term 19 server 2 not vote for server 1, 任期不够新
term 19 server 1 get outdate rpc reply from server 2
flag 85260 term 19 leader 1 nextIndex[0]: 114  matchIndex[0]: 113
term 19 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 112 
------------------------------------------------------
flag 54906 term 19 leader 1 nextIndex[2]: 114  matchIndex[2]: 113
term 19 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 112 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=112
leader log:
[{snapshot 17 109} {4650700634726844430 17 110} {2227128812844606594 17 111} {8133210957968217707 17 112} {6636333311439882031 17 113}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=112
leader log:
[{snapshot 17 109} {4650700634726844430 17 110} {2227128812844606594 17 111} {8133210957968217707 17 112} {6636333311439882031 17 113}]
------------------------------------------------------
flag 34548 term 19 leader 1 nextIndex[0]: 114  matchIndex[0]: 113
term 19 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 112 
------------------------------------------------------
flag 3036 term 19 leader 1 nextIndex[2]: 114  matchIndex[2]: 113
term 19 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 112 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=112
leader log:
[{snapshot 17 109} {4650700634726844430 17 110} {2227128812844606594 17 111} {8133210957968217707 17 112} {6636333311439882031 17 113}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=112
leader log:
[{snapshot 17 109} {4650700634726844430 17 110} {2227128812844606594 17 111} {8133210957968217707 17 112} {6636333311439882031 17 113}]
------------------------------------------------------
flag 49400 term 19 leader 1 nextIndex[0]: 114  matchIndex[0]: 113
term 19 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 112 
------------------------------------------------------
flag 14815 term 19 leader 1 nextIndex[2]: 114  matchIndex[2]: 113
term 19 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 112 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=112
leader log:
[{snapshot 17 109} {4650700634726844430 17 110} {2227128812844606594 17 111} {8133210957968217707 17 112} {6636333311439882031 17 113}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=112
leader log:
[{snapshot 17 109} {4650700634726844430 17 110} {2227128812844606594 17 111} {8133210957968217707 17 112} {6636333311439882031 17 113}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71702 term 19 leader 1 nextIndex[0]: 114  matchIndex[0]: 113
term 19 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 112 
------------------------------------------------------
flag 86065 term 19 leader 1 nextIndex[2]: 114  matchIndex[2]: 113
term 19 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 112 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=112
leader log:
[{snapshot 17 109} {4650700634726844430 17 110} {2227128812844606594 17 111} {8133210957968217707 17 112} {6636333311439882031 17 113}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=112
leader log:
[{snapshot 17 109} {4650700634726844430 17 110} {2227128812844606594 17 111} {8133210957968217707 17 112} {6636333311439882031 17 113}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 19 server 0 not vote for server 2, 任期不够新
term 19 server 2 get outdate rpc reply from server 0
flag 53687 term 19 leader 1 nextIndex[0]: 114  matchIndex[0]: 113
term 19 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 112 
------------------------------------------------------
flag 98232 term 19 leader 1 nextIndex[2]: 114  matchIndex[2]: 113
term 19 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 112 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=112
leader log:
[{snapshot 17 109} {4650700634726844430 17 110} {2227128812844606594 17 111} {8133210957968217707 17 112} {6636333311439882031 17 113}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=112
leader log:
[{snapshot 17 109} {4650700634726844430 17 110} {2227128812844606594 17 111} {8133210957968217707 17 112} {6636333311439882031 17 113}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73308 term 19 leader 1 nextIndex[0]: 114  matchIndex[0]: 113
term 19 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 112 
------------------------------------------------------
flag 778 term 19 leader 1 nextIndex[2]: 114  matchIndex[2]: 113
term 19 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 112 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=112
leader log:
[{snapshot 17 109} {4650700634726844430 17 110} {2227128812844606594 17 111} {8133210957968217707 17 112} {6636333311439882031 17 113}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=112
leader log:
[{snapshot 17 109} {4650700634726844430 17 110} {2227128812844606594 17 111} {8133210957968217707 17 112} {6636333311439882031 17 113}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76351 term 19 leader 1 nextIndex[0]: 114  matchIndex[0]: 113
term 19 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 112 
------------------------------------------------------
flag 28156 term 19 leader 1 nextIndex[2]: 114  matchIndex[2]: 113
term 19 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 112 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=112
leader log:
[{snapshot 17 109} {4650700634726844430 17 110} {2227128812844606594 17 111} {8133210957968217707 17 112} {6636333311439882031 17 113}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=112
leader log:
[{snapshot 17 109} {4650700634726844430 17 110} {2227128812844606594 17 111} {8133210957968217707 17 112} {6636333311439882031 17 113}]
------------------------------------------------------
flag 90482 term 19 leader 1 nextIndex[0]: 114  matchIndex[0]: 113
term 19 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 112 
------------------------------------------------------
flag 30121 term 19 leader 1 nextIndex[2]: 114  matchIndex[2]: 113
term 19 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 112 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=112
leader log:
[{snapshot 17 109} {4650700634726844430 17 110} {2227128812844606594 17 111} {8133210957968217707 17 112} {6636333311439882031 17 113}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=112
leader log:
[{snapshot 17 109} {4650700634726844430 17 110} {2227128812844606594 17 111} {8133210957968217707 17 112} {6636333311439882031 17 113}]
------------------------------------------------------
flag 53387 term 19 leader 1 nextIndex[0]: 114  matchIndex[0]: 113
term 19 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 112 
------------------------------------------------------
flag 39407 term 19 leader 1 nextIndex[2]: 114  matchIndex[2]: 113
term 19 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 112 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=112
leader log:
[{snapshot 17 109} {4650700634726844430 17 110} {2227128812844606594 17 111} {8133210957968217707 17 112} {6636333311439882031 17 113}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=112
leader log:
[{snapshot 17 109} {4650700634726844430 17 110} {2227128812844606594 17 111} {8133210957968217707 17 112} {6636333311439882031 17 113}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77763 term 19 leader 1 nextIndex[0]: 114  matchIndex[0]: 113
term 19 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 112 
------------------------------------------------------
flag 91531 term 19 leader 1 nextIndex[2]: 114  matchIndex[2]: 113
term 19 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 112 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=112
leader log:
[{snapshot 17 109} {4650700634726844430 17 110} {2227128812844606594 17 111} {8133210957968217707 17 112} {6636333311439882031 17 113}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=112
leader log:
[{snapshot 17 109} {4650700634726844430 17 110} {2227128812844606594 17 111} {8133210957968217707 17 112} {6636333311439882031 17 113}]
------------------------------------------------------
flag 37368 term 19 leader 1 nextIndex[0]: 114  matchIndex[0]: 113
term 19 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 112 
------------------------------------------------------
flag 27690 term 19 leader 1 nextIndex[2]: 114  matchIndex[2]: 113
term 19 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 112 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=112
leader log:
[{snapshot 17 109} {4650700634726844430 17 110} {2227128812844606594 17 111} {8133210957968217707 17 112} {6636333311439882031 17 113}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=112
leader log:
[{snapshot 17 109} {4650700634726844430 17 110} {2227128812844606594 17 111} {8133210957968217707 17 112} {6636333311439882031 17 113}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95476 term 19 leader 1 nextIndex[0]: 114  matchIndex[0]: 113
term 19 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 112 
------------------------------------------------------
flag 84868 term 19 leader 1 nextIndex[2]: 114  matchIndex[2]: 113
term 19 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 112 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=112
leader log:
[{snapshot 17 109} {4650700634726844430 17 110} {2227128812844606594 17 111} {8133210957968217707 17 112} {6636333311439882031 17 113}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=112
leader log:
[{snapshot 17 109} {4650700634726844430 17 110} {2227128812844606594 17 111} {8133210957968217707 17 112} {6636333311439882031 17 113}]
------------------------------------------------------
flag 76461 term 19 leader 1 nextIndex[0]: 114  matchIndex[0]: 113
term 19 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 112 
------------------------------------------------------
flag 11292 term 19 leader 1 nextIndex[2]: 114  matchIndex[2]: 113
term 19 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 112 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=112
leader log:
[{snapshot 17 109} {4650700634726844430 17 110} {2227128812844606594 17 111} {8133210957968217707 17 112} {6636333311439882031 17 113}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=112
leader log:
[{snapshot 17 109} {4650700634726844430 17 110} {2227128812844606594 17 111} {8133210957968217707 17 112} {6636333311439882031 17 113}]
------------------------------------------------------
flag 83078 term 19 leader 1 nextIndex[0]: 114  matchIndex[0]: 113
term 19 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 112 
------------------------------------------------------
flag 56018 term 19 leader 1 nextIndex[2]: 114  matchIndex[2]: 113
term 19 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 112 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=112
leader log:
[{snapshot 17 109} {4650700634726844430 17 110} {2227128812844606594 17 111} {8133210957968217707 17 112} {6636333311439882031 17 113}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=112
leader log:
[{snapshot 17 109} {4650700634726844430 17 110} {2227128812844606594 17 111} {8133210957968217707 17 112} {6636333311439882031 17 113}]
------------------------------------------------------
client write log 6636333311439882031 (index 114) to leader 1
flag 64996 term 19 leader 1 nextIndex[0]: 114  matchIndex[0]: 113
term 19 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 112 
------------------------------------------------------
flag 38564 term 19 leader 1 nextIndex[2]: 114  matchIndex[2]: 113
term 19 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 17 leaderCommit: 112 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 17 109} {4650700634726844430 17 110} {2227128812844606594 17 111} {8133210957968217707 17 112} {6636333311439882031 17 113} {6636333311439882031 19 114}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=114
leader log:
[{snapshot 17 109} {4650700634726844430 17 110} {2227128812844606594 17 111} {8133210957968217707 17 112} {6636333311439882031 17 113} {6636333311439882031 19 114}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27402 term 19 leader 1 nextIndex[0]: 115  matchIndex[0]: 114
term 19 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 12353 term 19 leader 1 nextIndex[2]: 115  matchIndex[2]: 114
term 19 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 17 109} {4650700634726844430 17 110} {2227128812844606594 17 111} {8133210957968217707 17 112} {6636333311439882031 17 113} {6636333311439882031 19 114}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=114
leader log:
[{snapshot 17 109} {4650700634726844430 17 110} {2227128812844606594 17 111} {8133210957968217707 17 112} {6636333311439882031 17 113} {6636333311439882031 19 114}]
------------------------------------------------------
flag 92438 term 19 leader 1 nextIndex[0]: 115  matchIndex[0]: 114
term 19 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 63661 term 19 leader 1 nextIndex[2]: 115  matchIndex[2]: 114
term 19 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 17 109} {4650700634726844430 17 110} {2227128812844606594 17 111} {8133210957968217707 17 112} {6636333311439882031 17 113} {6636333311439882031 19 114}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=114
leader log:
[{snapshot 17 109} {4650700634726844430 17 110} {2227128812844606594 17 111} {8133210957968217707 17 112} {6636333311439882031 17 113} {6636333311439882031 19 114}]
------------------------------------------------------
flag 33066 term 19 leader 1 nextIndex[0]: 115  matchIndex[0]: 114
term 19 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 93883 term 19 leader 1 nextIndex[2]: 115  matchIndex[2]: 114
term 19 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=114
leader log:
[{snapshot 17 109} {4650700634726844430 17 110} {2227128812844606594 17 111} {8133210957968217707 17 112} {6636333311439882031 17 113} {6636333311439882031 19 114}]
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 17 109} {4650700634726844430 17 110} {2227128812844606594 17 111} {8133210957968217707 17 112} {6636333311439882031 17 113} {6636333311439882031 19 114}]
------------------------------------------------------
flag 53536 term 19 leader 1 nextIndex[0]: 115  matchIndex[0]: 114
term 19 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 48515 term 19 leader 1 nextIndex[2]: 115  matchIndex[2]: 114
term 19 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 17 109} {4650700634726844430 17 110} {2227128812844606594 17 111} {8133210957968217707 17 112} {6636333311439882031 17 113} {6636333311439882031 19 114}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=114
leader log:
[{snapshot 17 109} {4650700634726844430 17 110} {2227128812844606594 17 111} {8133210957968217707 17 112} {6636333311439882031 17 113} {6636333311439882031 19 114}]
------------------------------------------------------
flag 50862 term 19 leader 1 nextIndex[0]: 115  matchIndex[0]: 114
term 19 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 43603 term 19 leader 1 nextIndex[2]: 115  matchIndex[2]: 114
term 19 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
term 19 server 0 AppendEntries true commitIndex:114 
------------------------------------------------------
leader log:
[{snapshot 17 109} {4650700634726844430 17 110} {2227128812844606594 17 111} {8133210957968217707 17 112} {6636333311439882031 17 113} {6636333311439882031 19 114}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=114
leader log:
[{snapshot 17 109} {4650700634726844430 17 110} {2227128812844606594 17 111} {8133210957968217707 17 112} {6636333311439882031 17 113} {6636333311439882031 19 114}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 2025 term 19 leader 1 nextIndex[0]: 115  matchIndex[0]: 114
term 19 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 31845 term 19 leader 1 nextIndex[2]: 115  matchIndex[2]: 114
term 19 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 3652 term 19 leader 1 nextIndex[0]: 115  matchIndex[0]: 114
term 19 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 60226 term 19 leader 1 nextIndex[2]: 115  matchIndex[2]: 114
term 19 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 26798 term 19 leader 1 nextIndex[0]: 115  matchIndex[0]: 114
term 19 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 83411 term 19 leader 1 nextIndex[2]: 115  matchIndex[2]: 114
term 19 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 64387 term 19 leader 1 nextIndex[0]: 115  matchIndex[0]: 114
term 19 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 63979 term 19 leader 1 nextIndex[2]: 115  matchIndex[2]: 114
term 19 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 20 server 0 vote for server 2
term 20 server 2 get vote from server 0
term 20 server 2 become leader
------------------------------------------------------
client write log 4485673360799293096 (index 115) to leader 2
flag 62033 term 20 leader 2 nextIndex[0]: 115  matchIndex[0]: 0
term 20 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 18600 term 20 leader 2 nextIndex[1]: 115  matchIndex[1]: 0
term 20 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=115
leader log:
[{snapshot 17 109} {4650700634726844430 17 110} {2227128812844606594 17 111} {8133210957968217707 17 112} {6636333311439882031 17 113} {6636333311439882031 19 114} {4485673360799293096 20 115}]
------------------------------------------------------
flag 31427 term 19 leader 1 nextIndex[0]: 115  matchIndex[0]: 114
term 19 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 83724 term 19 leader 1 nextIndex[2]: 115  matchIndex[2]: 114
term 19 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 12302 term 20 leader 2 nextIndex[0]: 116  matchIndex[0]: 115
term 20 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 115 
------------------------------------------------------
flag 68938 term 20 leader 2 nextIndex[1]: 115  matchIndex[1]: 0
term 20 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=115
leader log:
[{snapshot 17 109} {4650700634726844430 17 110} {2227128812844606594 17 111} {8133210957968217707 17 112} {6636333311439882031 17 113} {6636333311439882031 19 114} {4485673360799293096 20 115}]
------------------------------------------------------
client write log 2531009398469793003 (index 116) to leader 2
client write log 7490257182759471490 (index 117) to leader 2
client write log 5129647006450951328 (index 118) to leader 2
client write log 1902939168086722239 (index 119) to leader 2
client write log 4202189288200765966 (index 120) to leader 2
client write log 649926593329253347 (index 121) to leader 2
client write log 6617385763566074570 (index 122) to leader 2
client write log 7200832772016825621 (index 123) to leader 2
client write log 4160023961773652569 (index 124) to leader 2
client write log 5243817941618606110 (index 125) to leader 2
client write log 22873484259507238 (index 126) to leader 2
flag 52588 term 19 leader 1 nextIndex[0]: 115  matchIndex[0]: 114
term 19 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 45468 term 19 leader 1 nextIndex[2]: 115  matchIndex[2]: 114
term 19 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 90770 term 20 leader 2 nextIndex[0]: 116  matchIndex[0]: 115
term 20 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 115 
------------------------------------------------------
flag 11811 term 20 leader 2 nextIndex[1]: 115  matchIndex[1]: 0
term 20 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=126
leader log:
[{snapshot 17 109} {4650700634726844430 17 110} {2227128812844606594 17 111} {8133210957968217707 17 112} {6636333311439882031 17 113} {6636333311439882031 19 114} {4485673360799293096 20 115} {2531009398469793003 20 116} {7490257182759471490 20 117} {5129647006450951328 20 118} {1902939168086722239 20 119} {4202189288200765966 20 120} {649926593329253347 20 121} {6617385763566074570 20 122} {7200832772016825621 20 123} {4160023961773652569 20 124} {5243817941618606110 20 125} {22873484259507238 20 126}]
------------------------------------------------------
term 20 Server2 start snapshot! index=119
term 20 server2 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=126
-------------------------------------------------------------
flag 45996 term 19 leader 1 nextIndex[0]: 115  matchIndex[0]: 114
term 19 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 51835 term 19 leader 1 nextIndex[2]: 115  matchIndex[2]: 114
term 19 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 64343 term 20 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 20 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 20 leaderCommit: 126 
------------------------------------------------------
term 20 leader 2 nextIndex[1]: 115  matchIndex[1]: 0
term 20 leader 2 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 20
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=126
leader log:
[{snapshot 20 119} {4202189288200765966 20 120} {649926593329253347 20 121} {6617385763566074570 20 122} {7200832772016825621 20 123} {4160023961773652569 20 124} {5243817941618606110 20 125} {22873484259507238 20 126}]
------------------------------------------------------
term 20 Server0 start snapshot! index=119
term 20 server0 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=126
-------------------------------------------------------------
!!!!!!connect server 1
client write log 4533107981587519844 (index 115) to leader 1
flag 12820 term 19 leader 1 nextIndex[0]: 115  matchIndex[0]: 114
term 19 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 83103 term 19 leader 1 nextIndex[2]: 115  matchIndex[2]: 114
term 19 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 20 server 2 AppendEntries false 领导者任期过期 args.Term 19
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 20 server 0 AppendEntries false 领导者任期过期 args.Term 19
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21456 term 20 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 20 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 20 leaderCommit: 126 
------------------------------------------------------
term 20 leader 2 nextIndex[1]: 115  matchIndex[1]: 0
term 20 leader 2 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 20
------------------------------------------------------
term 20 server 1 InstallSnapshot success
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:126 
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 119 rf.lastIncludedTerm 20 rf.commitIndex 119 rf.lastApplied 119
term 20 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 120 matchIndex[1] 119 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=126
leader log:
[{snapshot 20 119} {4202189288200765966 20 120} {649926593329253347 20 121} {6617385763566074570 20 122} {7200832772016825621 20 123} {4160023961773652569 20 124} {5243817941618606110 20 125} {22873484259507238 20 126}]
------------------------------------------------------
flag 82918 term 20 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 20 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 20 leaderCommit: 126 
------------------------------------------------------
flag 46966 term 20 leader 2 nextIndex[1]: 120  matchIndex[1]: 119
term 20 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 20 leaderCommit: 126 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:126 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=126
leader log:
[{snapshot 20 119} {4202189288200765966 20 120} {649926593329253347 20 121} {6617385763566074570 20 122} {7200832772016825621 20 123} {4160023961773652569 20 124} {5243817941618606110 20 125} {22873484259507238 20 126}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=126
leader log:
[{snapshot 20 119} {4202189288200765966 20 120} {649926593329253347 20 121} {6617385763566074570 20 122} {7200832772016825621 20 123} {4160023961773652569 20 124} {5243817941618606110 20 125} {22873484259507238 20 126}]
------------------------------------------------------
flag 12873 term 20 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 20 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 20 leaderCommit: 126 
------------------------------------------------------
flag 12177 term 20 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 20 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 20 leaderCommit: 126 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:126 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=126
leader log:
[{snapshot 20 119} {4202189288200765966 20 120} {649926593329253347 20 121} {6617385763566074570 20 122} {7200832772016825621 20 123} {4160023961773652569 20 124} {5243817941618606110 20 125} {22873484259507238 20 126}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=126
leader log:
[{snapshot 20 119} {4202189288200765966 20 120} {649926593329253347 20 121} {6617385763566074570 20 122} {7200832772016825621 20 123} {4160023961773652569 20 124} {5243817941618606110 20 125} {22873484259507238 20 126}]
------------------------------------------------------
term 20 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 120 matchIndex[1] 119 
------------------------------------------------------------------------
flag 65844 term 20 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 20 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 20 leaderCommit: 126 
------------------------------------------------------
flag 75772 term 20 leader 2 nextIndex[1]: 120  matchIndex[1]: 119
term 20 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 20 leaderCommit: 126 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=126
leader log:
[{snapshot 20 119} {4202189288200765966 20 120} {649926593329253347 20 121} {6617385763566074570 20 122} {7200832772016825621 20 123} {4160023961773652569 20 124} {5243817941618606110 20 125} {22873484259507238 20 126}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=126
leader log:
[{snapshot 20 119} {4202189288200765966 20 120} {649926593329253347 20 121} {6617385763566074570 20 122} {7200832772016825621 20 123} {4160023961773652569 20 124} {5243817941618606110 20 125} {22873484259507238 20 126}]
------------------------------------------------------
flag 36138 term 20 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 20 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 20 leaderCommit: 126 
------------------------------------------------------
flag 57635 term 20 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 20 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 20 leaderCommit: 126 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=126
leader log:
[{snapshot 20 119} {4202189288200765966 20 120} {649926593329253347 20 121} {6617385763566074570 20 122} {7200832772016825621 20 123} {4160023961773652569 20 124} {5243817941618606110 20 125} {22873484259507238 20 126}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=126
leader log:
[{snapshot 20 119} {4202189288200765966 20 120} {649926593329253347 20 121} {6617385763566074570 20 122} {7200832772016825621 20 123} {4160023961773652569 20 124} {5243817941618606110 20 125} {22873484259507238 20 126}]
------------------------------------------------------
flag 29113 term 20 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 20 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 20 leaderCommit: 126 
------------------------------------------------------
flag 29210 term 20 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 20 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 20 leaderCommit: 126 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=126
leader log:
[{snapshot 20 119} {4202189288200765966 20 120} {649926593329253347 20 121} {6617385763566074570 20 122} {7200832772016825621 20 123} {4160023961773652569 20 124} {5243817941618606110 20 125} {22873484259507238 20 126}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=126
leader log:
[{snapshot 20 119} {4202189288200765966 20 120} {649926593329253347 20 121} {6617385763566074570 20 122} {7200832772016825621 20 123} {4160023961773652569 20 124} {5243817941618606110 20 125} {22873484259507238 20 126}]
------------------------------------------------------
flag 58657 term 20 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 20 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 20 leaderCommit: 126 
------------------------------------------------------
flag 43106 term 20 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 20 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 20 leaderCommit: 126 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=126
leader log:
[{snapshot 20 119} {4202189288200765966 20 120} {649926593329253347 20 121} {6617385763566074570 20 122} {7200832772016825621 20 123} {4160023961773652569 20 124} {5243817941618606110 20 125} {22873484259507238 20 126}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=126
leader log:
[{snapshot 20 119} {4202189288200765966 20 120} {649926593329253347 20 121} {6617385763566074570 20 122} {7200832772016825621 20 123} {4160023961773652569 20 124} {5243817941618606110 20 125} {22873484259507238 20 126}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49617 term 20 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 20 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 20 leaderCommit: 126 
------------------------------------------------------
flag 20175 term 20 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 20 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 20 leaderCommit: 126 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=126
leader log:
[{snapshot 20 119} {4202189288200765966 20 120} {649926593329253347 20 121} {6617385763566074570 20 122} {7200832772016825621 20 123} {4160023961773652569 20 124} {5243817941618606110 20 125} {22873484259507238 20 126}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=126
leader log:
[{snapshot 20 119} {4202189288200765966 20 120} {649926593329253347 20 121} {6617385763566074570 20 122} {7200832772016825621 20 123} {4160023961773652569 20 124} {5243817941618606110 20 125} {22873484259507238 20 126}]
------------------------------------------------------
flag 28263 term 20 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 20 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 20 leaderCommit: 126 
------------------------------------------------------
flag 9421 term 20 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 20 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 20 leaderCommit: 126 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueterm 20 server 0 AppendEntries true commitIndex:126 
------------------------------------------------------
update nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=126
leader log:
[{snapshot 20 119} {4202189288200765966 20 120} {649926593329253347 20 121} {6617385763566074570 20 122} {7200832772016825621 20 123} {4160023961773652569 20 124} {5243817941618606110 20 125} {22873484259507238 20 126}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=126
leader log:
[{snapshot 20 119} {4202189288200765966 20 120} {649926593329253347 20 121} {6617385763566074570 20 122} {7200832772016825621 20 123} {4160023961773652569 20 124} {5243817941618606110 20 125} {22873484259507238 20 126}]
------------------------------------------------------
flag 6745 term 20 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 20 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 20 leaderCommit: 126 
------------------------------------------------------
flag 42110 term 20 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 20 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 20 leaderCommit: 126 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=126
leader log:
[{snapshot 20 119} {4202189288200765966 20 120} {649926593329253347 20 121} {6617385763566074570 20 122} {7200832772016825621 20 123} {4160023961773652569 20 124} {5243817941618606110 20 125} {22873484259507238 20 126}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=126
leader log:
[{snapshot 20 119} {4202189288200765966 20 120} {649926593329253347 20 121} {6617385763566074570 20 122} {7200832772016825621 20 123} {4160023961773652569 20 124} {5243817941618606110 20 125} {22873484259507238 20 126}]
------------------------------------------------------
flag 19447 term 20 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 20 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 20 leaderCommit: 126 
------------------------------------------------------
flag 66811 term 20 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 20 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 20 leaderCommit: 126 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=126
leader log:
[{snapshot 20 119} {4202189288200765966 20 120} {649926593329253347 20 121} {6617385763566074570 20 122} {7200832772016825621 20 123} {4160023961773652569 20 124} {5243817941618606110 20 125} {22873484259507238 20 126}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=126
leader log:
[{snapshot 20 119} {4202189288200765966 20 120} {649926593329253347 20 121} {6617385763566074570 20 122} {7200832772016825621 20 123} {4160023961773652569 20 124} {5243817941618606110 20 125} {22873484259507238 20 126}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43066 term 20 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 20 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 20 leaderCommit: 126 
------------------------------------------------------
flag 71346 term 20 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 20 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 20 leaderCommit: 126 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=126
leader log:
[{snapshot 20 119} {4202189288200765966 20 120} {649926593329253347 20 121} {6617385763566074570 20 122} {7200832772016825621 20 123} {4160023961773652569 20 124} {5243817941618606110 20 125} {22873484259507238 20 126}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=126
leader log:
[{snapshot 20 119} {4202189288200765966 20 120} {649926593329253347 20 121} {6617385763566074570 20 122} {7200832772016825621 20 123} {4160023961773652569 20 124} {5243817941618606110 20 125} {22873484259507238 20 126}]
------------------------------------------------------
term 20 server 1 not vote for server 2, 任期不够新
term 20 server 2 get outdate rpc reply from server 1
flag 71332 term 20 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 20 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 20 leaderCommit: 126 
------------------------------------------------------
flag 94845 term 20 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 20 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 20 leaderCommit: 126 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=126
leader log:
[{snapshot 20 119} {4202189288200765966 20 120} {649926593329253347 20 121} {6617385763566074570 20 122} {7200832772016825621 20 123} {4160023961773652569 20 124} {5243817941618606110 20 125} {22873484259507238 20 126}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=126
leader log:
[{snapshot 20 119} {4202189288200765966 20 120} {649926593329253347 20 121} {6617385763566074570 20 122} {7200832772016825621 20 123} {4160023961773652569 20 124} {5243817941618606110 20 125} {22873484259507238 20 126}]
------------------------------------------------------
flag 80094 term 20 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 20 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 20 leaderCommit: 126 
------------------------------------------------------
flag 91775 term 20 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 20 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 20 leaderCommit: 126 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=126
leader log:
[{snapshot 20 119} {4202189288200765966 20 120} {649926593329253347 20 121} {6617385763566074570 20 122} {7200832772016825621 20 123} {4160023961773652569 20 124} {5243817941618606110 20 125} {22873484259507238 20 126}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=126
leader log:
[{snapshot 20 119} {4202189288200765966 20 120} {649926593329253347 20 121} {6617385763566074570 20 122} {7200832772016825621 20 123} {4160023961773652569 20 124} {5243817941618606110 20 125} {22873484259507238 20 126}]
------------------------------------------------------
flag 90553 term 20 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 20 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 20 leaderCommit: 126 
------------------------------------------------------
flag 14055 term 20 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 20 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 20 leaderCommit: 126 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=126
leader log:
[{snapshot 20 119} {4202189288200765966 20 120} {649926593329253347 20 121} {6617385763566074570 20 122} {7200832772016825621 20 123} {4160023961773652569 20 124} {5243817941618606110 20 125} {22873484259507238 20 126}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=126
leader log:
[{snapshot 20 119} {4202189288200765966 20 120} {649926593329253347 20 121} {6617385763566074570 20 122} {7200832772016825621 20 123} {4160023961773652569 20 124} {5243817941618606110 20 125} {22873484259507238 20 126}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 127->126
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 0->-1
------------------------------------------------------
flag 87035 term 20 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 20 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 20 leaderCommit: 126 
------------------------------------------------------
term 20 leader 2 nextIndex[1]: 0  matchIndex[1]: 126
term 20 leader 2 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 20
------------------------------------------------------
term 20 server 1 InstallSnapshot fail
rf.commitIndex 126 args.LastIncludedIndex 119
------------------------------------------------------
term 20 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 120 matchIndex[1] 119 
------------------------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=126
leader log:
[{snapshot 20 119} {4202189288200765966 20 120} {649926593329253347 20 121} {6617385763566074570 20 122} {7200832772016825621 20 123} {4160023961773652569 20 124} {5243817941618606110 20 125} {22873484259507238 20 126}]
------------------------------------------------------
flag 68354 term 20 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 20 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 20 leaderCommit: 126 
------------------------------------------------------
flag 45767 term 20 leader 2 nextIndex[1]: 120  matchIndex[1]: 119
term 20 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 20 leaderCommit: 126 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=126
leader log:
[{snapshot 20 119} {4202189288200765966 20 120} {649926593329253347 20 121} {6617385763566074570 20 122} {7200832772016825621 20 123} {4160023961773652569 20 124} {5243817941618606110 20 125} {22873484259507238 20 126}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=126
leader log:
[{snapshot 20 119} {4202189288200765966 20 120} {649926593329253347 20 121} {6617385763566074570 20 122} {7200832772016825621 20 123} {4160023961773652569 20 124} {5243817941618606110 20 125} {22873484259507238 20 126}]
------------------------------------------------------
flag 46976 term 20 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 20 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 20 leaderCommit: 126 
------------------------------------------------------
flag 9684 term 20 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 20 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 20 leaderCommit: 126 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:126 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=126
leader log:
[{snapshot 20 119} {4202189288200765966 20 120} {649926593329253347 20 121} {6617385763566074570 20 122} {7200832772016825621 20 123} {4160023961773652569 20 124} {5243817941618606110 20 125} {22873484259507238 20 126}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=126
leader log:
[{snapshot 20 119} {4202189288200765966 20 120} {649926593329253347 20 121} {6617385763566074570 20 122} {7200832772016825621 20 123} {4160023961773652569 20 124} {5243817941618606110 20 125} {22873484259507238 20 126}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97962 term 20 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 20 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 20 leaderCommit: 126 
------------------------------------------------------
flag 8018 term 20 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 20 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 20 leaderCommit: 126 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=126
leader log:
[{snapshot 20 119} {4202189288200765966 20 120} {649926593329253347 20 121} {6617385763566074570 20 122} {7200832772016825621 20 123} {4160023961773652569 20 124} {5243817941618606110 20 125} {22873484259507238 20 126}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=126
leader log:
[{snapshot 20 119} {4202189288200765966 20 120} {649926593329253347 20 121} {6617385763566074570 20 122} {7200832772016825621 20 123} {4160023961773652569 20 124} {5243817941618606110 20 125} {22873484259507238 20 126}]
------------------------------------------------------
flag 97992 term 20 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 20 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 20 leaderCommit: 126 
------------------------------------------------------
flag 40963 term 20 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 20 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 20 leaderCommit: 126 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:126 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=126
leader log:
[{snapshot 20 119} {4202189288200765966 20 120} {649926593329253347 20 121} {6617385763566074570 20 122} {7200832772016825621 20 123} {4160023961773652569 20 124} {5243817941618606110 20 125} {22873484259507238 20 126}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=126
leader log:
[{snapshot 20 119} {4202189288200765966 20 120} {649926593329253347 20 121} {6617385763566074570 20 122} {7200832772016825621 20 123} {4160023961773652569 20 124} {5243817941618606110 20 125} {22873484259507238 20 126}]
------------------------------------------------------
client write log 4533107981587519844 (index 127) to leader 2
flag 74979 term 20 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 20 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 20 leaderCommit: 126 
------------------------------------------------------
flag 95827 term 20 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 20 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 20 leaderCommit: 126 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=127
leader log:
[{snapshot 20 119} {4202189288200765966 20 120} {649926593329253347 20 121} {6617385763566074570 20 122} {7200832772016825621 20 123} {4160023961773652569 20 124} {5243817941618606110 20 125} {22873484259507238 20 126} {4533107981587519844 20 127}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=127
leader log:
[{snapshot 20 119} {4202189288200765966 20 120} {649926593329253347 20 121} {6617385763566074570 20 122} {7200832772016825621 20 123} {4160023961773652569 20 124} {5243817941618606110 20 125} {22873484259507238 20 126} {4533107981587519844 20 127}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79989 term 20 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 20 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 20 leaderCommit: 127 
------------------------------------------------------
flag 24592 term 20 leader 2 nextIndex[1]: 128  matchIndex[1]: 127
term 20 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 20 leaderCommit: 127 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=127
leader log:
[{snapshot 20 119} {4202189288200765966 20 120} {649926593329253347 20 121} {6617385763566074570 20 122} {7200832772016825621 20 123} {4160023961773652569 20 124} {5243817941618606110 20 125} {22873484259507238 20 126} {4533107981587519844 20 127}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=127
leader log:
[{snapshot 20 119} {4202189288200765966 20 120} {649926593329253347 20 121} {6617385763566074570 20 122} {7200832772016825621 20 123} {4160023961773652569 20 124} {5243817941618606110 20 125} {22873484259507238 20 126} {4533107981587519844 20 127}]
------------------------------------------------------
flag 95059 term 20 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 20 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 20 leaderCommit: 127 
------------------------------------------------------
flag 71494 term 20 leader 2 nextIndex[1]: 128  matchIndex[1]: 127
term 20 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 20 leaderCommit: 127 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=127
leader log:
[{snapshot 20 119} {4202189288200765966 20 120} {649926593329253347 20 121} {6617385763566074570 20 122} {7200832772016825621 20 123} {4160023961773652569 20 124} {5243817941618606110 20 125} {22873484259507238 20 126} {4533107981587519844 20 127}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=127
leader log:
[{snapshot 20 119} {4202189288200765966 20 120} {649926593329253347 20 121} {6617385763566074570 20 122} {7200832772016825621 20 123} {4160023961773652569 20 124} {5243817941618606110 20 125} {22873484259507238 20 126} {4533107981587519844 20 127}]
------------------------------------------------------
term 20 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 65652 term 20 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 20 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 20 leaderCommit: 127 
------------------------------------------------------
flag 84357 term 20 leader 2 nextIndex[1]: 128  matchIndex[1]: 127
term 20 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 20 leaderCommit: 127 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=127
leader log:
[{snapshot 20 119} {4202189288200765966 20 120} {649926593329253347 20 121} {6617385763566074570 20 122} {7200832772016825621 20 123} {4160023961773652569 20 124} {5243817941618606110 20 125} {22873484259507238 20 126} {4533107981587519844 20 127}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=127
leader log:
[{snapshot 20 119} {4202189288200765966 20 120} {649926593329253347 20 121} {6617385763566074570 20 122} {7200832772016825621 20 123} {4160023961773652569 20 124} {5243817941618606110 20 125} {22873484259507238 20 126} {4533107981587519844 20 127}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35210 term 20 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 20 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 20 leaderCommit: 127 
------------------------------------------------------
flag 20537 term 20 leader 2 nextIndex[1]: 128  matchIndex[1]: 127
term 20 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 20 leaderCommit: 127 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=127
leader log:
[{snapshot 20 119} {4202189288200765966 20 120} {649926593329253347 20 121} {6617385763566074570 20 122} {7200832772016825621 20 123} {4160023961773652569 20 124} {5243817941618606110 20 125} {22873484259507238 20 126} {4533107981587519844 20 127}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=127
leader log:
[{snapshot 20 119} {4202189288200765966 20 120} {649926593329253347 20 121} {6617385763566074570 20 122} {7200832772016825621 20 123} {4160023961773652569 20 124} {5243817941618606110 20 125} {22873484259507238 20 126} {4533107981587519844 20 127}]
------------------------------------------------------
flag 68862 term 20 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 20 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 20 leaderCommit: 127 
------------------------------------------------------
flag 11590 term 20 leader 2 nextIndex[1]: 128  matchIndex[1]: 127
term 20 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 20 leaderCommit: 127 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=127
leader log:
[{snapshot 20 119} {4202189288200765966 20 120} {649926593329253347 20 121} {6617385763566074570 20 122} {7200832772016825621 20 123} {4160023961773652569 20 124} {5243817941618606110 20 125} {22873484259507238 20 126} {4533107981587519844 20 127}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=127
leader log:
[{snapshot 20 119} {4202189288200765966 20 120} {649926593329253347 20 121} {6617385763566074570 20 122} {7200832772016825621 20 123} {4160023961773652569 20 124} {5243817941618606110 20 125} {22873484259507238 20 126} {4533107981587519844 20 127}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 128->127
------------------------------------------------------
flag 16189 term 20 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 20 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 20 leaderCommit: 127 
------------------------------------------------------
term 20 leader 2 nextIndex[1]: 0  matchIndex[1]: 127
term 20 leader 2 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 20
------------------------------------------------------
term 20 server 1 InstallSnapshot fail
rf.commitIndex 127 args.LastIncludedIndex 119
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
term 20 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 120 matchIndex[1] 119 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=127
leader log:
[{snapshot 20 119} {4202189288200765966 20 120} {649926593329253347 20 121} {6617385763566074570 20 122} {7200832772016825621 20 123} {4160023961773652569 20 124} {5243817941618606110 20 125} {22873484259507238 20 126} {4533107981587519844 20 127}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 5703814386763804299 (index 128) to leader 2
flag 24209 term 20 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 20 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 20 leaderCommit: 127 
------------------------------------------------------
flag 19161 term 20 leader 2 nextIndex[1]: 120  matchIndex[1]: 119
term 20 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 20 leaderCommit: 127 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=128
leader log:
[{snapshot 20 119} {4202189288200765966 20 120} {649926593329253347 20 121} {6617385763566074570 20 122} {7200832772016825621 20 123} {4160023961773652569 20 124} {5243817941618606110 20 125} {22873484259507238 20 126} {4533107981587519844 20 127} {5703814386763804299 20 128}]
------------------------------------------------------
term 20 server 1 not vote for server 2, 日志不够新
term 20 server 2 get outdate rpc reply from server 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38038 term 20 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 20 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 20 leaderCommit: 128 
------------------------------------------------------
flag 85671 term 20 leader 2 nextIndex[1]: 129  matchIndex[1]: 128
term 20 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 20 leaderCommit: 128 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=128
leader log:
[{snapshot 20 119} {4202189288200765966 20 120} {649926593329253347 20 121} {6617385763566074570 20 122} {7200832772016825621 20 123} {4160023961773652569 20 124} {5243817941618606110 20 125} {22873484259507238 20 126} {4533107981587519844 20 127} {5703814386763804299 20 128}]
------------------------------------------------------
client write log 3349202639256596760 (index 129) to leader 2
client write log 7809969044543710516 (index 130) to leader 2
client write log 7933836597699965698 (index 131) to leader 2
client write log 7704307952708285094 (index 132) to leader 2
client write log 3169491856123246024 (index 133) to leader 2
client write log 726484111405677002 (index 134) to leader 2
client write log 5561913084347325631 (index 135) to leader 2
client write log 6564719371052553460 (index 136) to leader 2
client write log 2684245125669989635 (index 137) to leader 2
client write log 1397201796501806855 (index 138) to leader 2
client write log 2310315973058561694 (index 139) to leader 2
client write log 5166573058410975990 (index 140) to leader 2
client write log 4305013005372701937 (index 141) to leader 2
client write log 9107684601019164712 (index 142) to leader 2
flag 21705 term 20 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 20 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 20 leaderCommit: 128 
------------------------------------------------------
flag 3184 term 20 leader 2 nextIndex[1]: 129  matchIndex[1]: 128
term 20 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 20 leaderCommit: 128 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=142
leader log:
[{snapshot 20 119} {4202189288200765966 20 120} {649926593329253347 20 121} {6617385763566074570 20 122} {7200832772016825621 20 123} {4160023961773652569 20 124} {5243817941618606110 20 125} {22873484259507238 20 126} {4533107981587519844 20 127} {5703814386763804299 20 128} {3349202639256596760 20 129} {7809969044543710516 20 130} {7933836597699965698 20 131} {7704307952708285094 20 132} {3169491856123246024 20 133} {726484111405677002 20 134} {5561913084347325631 20 135} {6564719371052553460 20 136} {2684245125669989635 20 137} {1397201796501806855 20 138} {2310315973058561694 20 139} {5166573058410975990 20 140} {4305013005372701937 20 141} {9107684601019164712 20 142}]
------------------------------------------------------
term 20 Server2 start snapshot! index=129
term 20 server2 snapshot success
lastIncludedIndex=129 lastApplied=130 lastIndex=142
-------------------------------------------------------------
term 20 Server2 start snapshot! index=139
term 20 server2 snapshot success
lastIncludedIndex=139 lastApplied=140 lastIndex=142
-------------------------------------------------------------
term 20 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 20 leader 2 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 20
------------------------------------------------------
flag 66281 term 20 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 20 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=142
leader log:
[{snapshot 20 139} {5166573058410975990 20 140} {4305013005372701937 20 141} {9107684601019164712 20 142}]
------------------------------------------------------
term 20 Server1 start snapshot! index=129
term 20 server1 snapshot success
lastIncludedIndex=129 lastApplied=130 lastIndex=142
-------------------------------------------------------------
term 20 Server1 start snapshot! index=139
term 20 server1 snapshot success
lastIncludedIndex=139 lastApplied=140 lastIndex=142
-------------------------------------------------------------
!!!!!!connect server 0
client write log 2961402193712968826 (index 143) to leader 2
term 20 server 2 not vote for server 0, 日志不够新
term 20 server 1 not vote for server 0, 日志不够新
term 22 server 1 vote for server 2
term 22 server 0 vote for server 2
term 22 server 2 get vote from server 1
term 22 server 2 become leader
------------------------------------------------------
term 22 server 2 get outdate rpc reply from server 0
flag 15700 term 22 leader 2 nextIndex[0]: 144  matchIndex[0]: 0
term 22 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
flag 61545 term 22 leader 2 nextIndex[1]: 144  matchIndex[1]: 0
term 22 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
term 22 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 144->143
------------------------------------------------------
term 22 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 144->143
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 22 leader 2 nextIndex[0]: 128  matchIndex[0]: 0
term 22 leader 2 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 20
------------------------------------------------------
flag 49407 term 22 leader 2 nextIndex[1]: 143  matchIndex[1]: 0
term 22 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
term 22 server 0 InstallSnapshot success
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
term 22 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 140 matchIndex[0] 139 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 139 rf.lastIncludedTerm 20 rf.commitIndex 139 rf.lastApplied 139
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 20 139} {5166573058410975990 20 140} {4305013005372701937 20 141} {9107684601019164712 20 142} {2961402193712968826 20 143}]
------------------------------------------------------
flag 84104 term 22 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 22 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
flag 97801 term 22 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 22 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 20 139} {5166573058410975990 20 140} {4305013005372701937 20 141} {9107684601019164712 20 142} {2961402193712968826 20 143}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=142
leader log:
[{snapshot 20 139} {5166573058410975990 20 140} {4305013005372701937 20 141} {9107684601019164712 20 142} {2961402193712968826 20 143}]
------------------------------------------------------
flag 96258 term 22 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 22 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
flag 63692 term 22 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 22 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=142
leader log:
[{snapshot 20 139} {5166573058410975990 20 140} {4305013005372701937 20 141} {9107684601019164712 20 142} {2961402193712968826 20 143}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 20 139} {5166573058410975990 20 140} {4305013005372701937 20 141} {9107684601019164712 20 142} {2961402193712968826 20 143}]
------------------------------------------------------
flag 68462 term 22 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 22 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
flag 28772 term 22 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 22 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=142
leader log:
[{snapshot 20 139} {5166573058410975990 20 140} {4305013005372701937 20 141} {9107684601019164712 20 142} {2961402193712968826 20 143}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 20 139} {5166573058410975990 20 140} {4305013005372701937 20 141} {9107684601019164712 20 142} {2961402193712968826 20 143}]
------------------------------------------------------
flag 61064 term 22 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 22 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
flag 64500 term 22 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 22 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 20 139} {5166573058410975990 20 140} {4305013005372701937 20 141} {9107684601019164712 20 142} {2961402193712968826 20 143}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=142
leader log:
[{snapshot 20 139} {5166573058410975990 20 140} {4305013005372701937 20 141} {9107684601019164712 20 142} {2961402193712968826 20 143}]
------------------------------------------------------
flag 29090 term 22 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 22 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
flag 35434 term 22 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 22 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=142
leader log:
[{snapshot 20 139} {5166573058410975990 20 140} {4305013005372701937 20 141} {9107684601019164712 20 142} {2961402193712968826 20 143}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 20 139} {5166573058410975990 20 140} {4305013005372701937 20 141} {9107684601019164712 20 142} {2961402193712968826 20 143}]
------------------------------------------------------
flag 23073 term 22 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 22 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
flag 71371 term 22 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 22 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=142
leader log:
[{snapshot 20 139} {5166573058410975990 20 140} {4305013005372701937 20 141} {9107684601019164712 20 142} {2961402193712968826 20 143}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 20 139} {5166573058410975990 20 140} {4305013005372701937 20 141} {9107684601019164712 20 142} {2961402193712968826 20 143}]
------------------------------------------------------
flag 41391 term 22 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 22 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
flag 443 term 22 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 22 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 20 139} {5166573058410975990 20 140} {4305013005372701937 20 141} {9107684601019164712 20 142} {2961402193712968826 20 143}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=142
leader log:
[{snapshot 20 139} {5166573058410975990 20 140} {4305013005372701937 20 141} {9107684601019164712 20 142} {2961402193712968826 20 143}]
------------------------------------------------------
flag 45783 term 22 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 22 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
flag 16369 term 22 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 22 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueterm 22 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
update nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=142
leader log:
[{snapshot 20 139} {5166573058410975990 20 140} {4305013005372701937 20 141} {9107684601019164712 20 142} {2961402193712968826 20 143}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 20 139} {5166573058410975990 20 140} {4305013005372701937 20 141} {9107684601019164712 20 142} {2961402193712968826 20 143}]
------------------------------------------------------
flag 60725 term 22 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 22 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
flag 54644 term 22 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 22 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 20 139} {5166573058410975990 20 140} {4305013005372701937 20 141} {9107684601019164712 20 142} {2961402193712968826 20 143}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=142
leader log:
[{snapshot 20 139} {5166573058410975990 20 140} {4305013005372701937 20 141} {9107684601019164712 20 142} {2961402193712968826 20 143}]
------------------------------------------------------
flag 3350 term 22 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 22 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
flag 14080 term 22 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 22 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 20 139} {5166573058410975990 20 140} {4305013005372701937 20 141} {9107684601019164712 20 142} {2961402193712968826 20 143}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=142
leader log:
[{snapshot 20 139} {5166573058410975990 20 140} {4305013005372701937 20 141} {9107684601019164712 20 142} {2961402193712968826 20 143}]
------------------------------------------------------
flag 41888 term 22 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 22 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
flag 97446 term 22 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 22 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 20 139} {5166573058410975990 20 140} {4305013005372701937 20 141} {9107684601019164712 20 142} {2961402193712968826 20 143}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=142
leader log:
[{snapshot 20 139} {5166573058410975990 20 140} {4305013005372701937 20 141} {9107684601019164712 20 142} {2961402193712968826 20 143}]
------------------------------------------------------
flag 38545 term 22 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 22 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
flag 16527 term 22 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 22 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 20 139} {5166573058410975990 20 140} {4305013005372701937 20 141} {9107684601019164712 20 142} {2961402193712968826 20 143}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=142
leader log:
[{snapshot 20 139} {5166573058410975990 20 140} {4305013005372701937 20 141} {9107684601019164712 20 142} {2961402193712968826 20 143}]
------------------------------------------------------
flag 86529 term 22 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 22 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
flag 73257 term 22 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 22 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 20 139} {5166573058410975990 20 140} {4305013005372701937 20 141} {9107684601019164712 20 142} {2961402193712968826 20 143}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=142
leader log:
[{snapshot 20 139} {5166573058410975990 20 140} {4305013005372701937 20 141} {9107684601019164712 20 142} {2961402193712968826 20 143}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93000 term 22 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 22 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
flag 91525 term 22 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 22 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 20 139} {5166573058410975990 20 140} {4305013005372701937 20 141} {9107684601019164712 20 142} {2961402193712968826 20 143}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=142
leader log:
[{snapshot 20 139} {5166573058410975990 20 140} {4305013005372701937 20 141} {9107684601019164712 20 142} {2961402193712968826 20 143}]
------------------------------------------------------
flag 14285 term 22 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 22 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
flag 66399 term 22 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 22 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:142 
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 20 139} {5166573058410975990 20 140} {4305013005372701937 20 141} {9107684601019164712 20 142} {2961402193712968826 20 143}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=142
leader log:
[{snapshot 20 139} {5166573058410975990 20 140} {4305013005372701937 20 141} {9107684601019164712 20 142} {2961402193712968826 20 143}]
------------------------------------------------------
flag 81776 term 22 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 22 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
flag 10623 term 22 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 22 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 20 139} {5166573058410975990 20 140} {4305013005372701937 20 141} {9107684601019164712 20 142} {2961402193712968826 20 143}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=142
leader log:
[{snapshot 20 139} {5166573058410975990 20 140} {4305013005372701937 20 141} {9107684601019164712 20 142} {2961402193712968826 20 143}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87376 term 22 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 22 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
flag 32558 term 22 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 22 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 20 139} {5166573058410975990 20 140} {4305013005372701937 20 141} {9107684601019164712 20 142} {2961402193712968826 20 143}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=142
leader log:
[{snapshot 20 139} {5166573058410975990 20 140} {4305013005372701937 20 141} {9107684601019164712 20 142} {2961402193712968826 20 143}]
------------------------------------------------------
flag 20242 term 22 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 22 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
flag 71535 term 22 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 22 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=142
leader log:
[{snapshot 20 139} {5166573058410975990 20 140} {4305013005372701937 20 141} {9107684601019164712 20 142} {2961402193712968826 20 143}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 20 139} {5166573058410975990 20 140} {4305013005372701937 20 141} {9107684601019164712 20 142} {2961402193712968826 20 143}]
------------------------------------------------------
client write log 2961402193712968826 (index 144) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15090 term 22 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 22 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
flag 27174 term 22 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 22 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 20 139} {5166573058410975990 20 140} {4305013005372701937 20 141} {9107684601019164712 20 142} {2961402193712968826 20 143} {2961402193712968826 22 144}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=144
leader log:
[{snapshot 20 139} {5166573058410975990 20 140} {4305013005372701937 20 141} {9107684601019164712 20 142} {2961402193712968826 20 143} {2961402193712968826 22 144}]
------------------------------------------------------
flag 34110 term 22 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 22 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 22 leaderCommit: 144 
------------------------------------------------------
flag 84616 term 22 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 22 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 22 leaderCommit: 144 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=144
leader log:
[{snapshot 20 139} {5166573058410975990 20 140} {4305013005372701937 20 141} {9107684601019164712 20 142} {2961402193712968826 20 143} {2961402193712968826 22 144}]
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 20 139} {5166573058410975990 20 140} {4305013005372701937 20 141} {9107684601019164712 20 142} {2961402193712968826 20 143} {2961402193712968826 22 144}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48124 term 22 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 22 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 22 leaderCommit: 144 
------------------------------------------------------
flag 48898 term 22 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 22 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 22 leaderCommit: 144 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 20 139} {5166573058410975990 20 140} {4305013005372701937 20 141} {9107684601019164712 20 142} {2961402193712968826 20 143} {2961402193712968826 22 144}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=144
leader log:
[{snapshot 20 139} {5166573058410975990 20 140} {4305013005372701937 20 141} {9107684601019164712 20 142} {2961402193712968826 20 143} {2961402193712968826 22 144}]
------------------------------------------------------
flag 95672 term 22 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 22 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 22 leaderCommit: 144 
------------------------------------------------------
flag 59548 term 22 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 22 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 22 leaderCommit: 144 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 20 139} {5166573058410975990 20 140} {4305013005372701937 20 141} {9107684601019164712 20 142} {2961402193712968826 20 143} {2961402193712968826 22 144}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=144
leader log:
[{snapshot 20 139} {5166573058410975990 20 140} {4305013005372701937 20 141} {9107684601019164712 20 142} {2961402193712968826 20 143} {2961402193712968826 22 144}]
------------------------------------------------------
flag 28827 term 22 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 22 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 22 leaderCommit: 144 
------------------------------------------------------
flag 83698 term 22 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 22 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 22 leaderCommit: 144 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 20 139} {5166573058410975990 20 140} {4305013005372701937 20 141} {9107684601019164712 20 142} {2961402193712968826 20 143} {2961402193712968826 22 144}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=144
leader log:
[{snapshot 20 139} {5166573058410975990 20 140} {4305013005372701937 20 141} {9107684601019164712 20 142} {2961402193712968826 20 143} {2961402193712968826 22 144}]
------------------------------------------------------
flag 36497 term 22 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 22 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 22 leaderCommit: 144 
------------------------------------------------------
flag 59713 term 22 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 22 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 22 leaderCommit: 144 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:144 
term 22 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=144
leader log:
[{snapshot 20 139} {5166573058410975990 20 140} {4305013005372701937 20 141} {9107684601019164712 20 142} {2961402193712968826 20 143} {2961402193712968826 22 144}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 20 139} {5166573058410975990 20 140} {4305013005372701937 20 141} {9107684601019164712 20 142} {2961402193712968826 20 143} {2961402193712968826 22 144}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 2383149366926177093 (index 145) to leader 2
flag 22667 term 22 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 22 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 22 leaderCommit: 144 
------------------------------------------------------
flag 72387 term 22 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 22 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 22 leaderCommit: 144 
------------------------------------------------------
term 22 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=145
leader log:
[{snapshot 20 139} {5166573058410975990 20 140} {4305013005372701937 20 141} {9107684601019164712 20 142} {2961402193712968826 20 143} {2961402193712968826 22 144} {2383149366926177093 22 145}]
------------------------------------------------------
flag 93755 term 22 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 22 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 22 leaderCommit: 145 
------------------------------------------------------
flag 79713 term 22 leader 2 nextIndex[1]: 146  matchIndex[1]: 145
term 22 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 22 leaderCommit: 145 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=145
leader log:
[{snapshot 20 139} {5166573058410975990 20 140} {4305013005372701937 20 141} {9107684601019164712 20 142} {2961402193712968826 20 143} {2961402193712968826 22 144} {2383149366926177093 22 145}]
------------------------------------------------------
client write log 314377255794984594 (index 146) to leader 2
client write log 628616784251799299 (index 147) to leader 2
client write log 8845155477140612588 (index 148) to leader 2
client write log 8459468903445980459 (index 149) to leader 2
client write log 8673013232885896887 (index 150) to leader 2
client write log 7374073060250674863 (index 151) to leader 2
client write log 5210849327318838175 (index 152) to leader 2
client write log 3360726654429821798 (index 153) to leader 2
flag 61025 term 22 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 22 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 22 leaderCommit: 145 
------------------------------------------------------
flag 83314 term 22 leader 2 nextIndex[1]: 146  matchIndex[1]: 145
term 22 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 22 leaderCommit: 145 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=154
update matchIndex[1]=153
update leader CommitIndex=153
leader log:
[{snapshot 20 139} {5166573058410975990 20 140} {4305013005372701937 20 141} {9107684601019164712 20 142} {2961402193712968826 20 143} {2961402193712968826 22 144} {2383149366926177093 22 145} {314377255794984594 22 146} {628616784251799299 22 147} {8845155477140612588 22 148} {8459468903445980459 22 149} {8673013232885896887 22 150} {7374073060250674863 22 151} {5210849327318838175 22 152} {3360726654429821798 22 153}]
------------------------------------------------------
term 22 Server2 start snapshot! index=149
term 22 server2 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=153
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 22 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 22 leader 2 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 22
------------------------------------------------------
flag 12281 term 22 leader 2 nextIndex[1]: 154  matchIndex[1]: 153
term 22 leader 2 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 22 leaderCommit: 153 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=154
update matchIndex[1]=153
update leader CommitIndex=153
leader log:
[{snapshot 22 149} {8673013232885896887 22 150} {7374073060250674863 22 151} {5210849327318838175 22 152} {3360726654429821798 22 153}]
------------------------------------------------------
term 22 Server1 start snapshot! index=149
term 22 server1 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=153
-------------------------------------------------------------
!!!!!!connect server 0
client write log 6218831889505385800 (index 154) to leader 2
term 22 server 2 not vote for server 0, 日志不够新
term 22 server 1 not vote for server 0, 日志不够新
term 24 server 1 vote for server 2
term 24 server 0 vote for server 2
term 24 server 2 get vote from server 1
term 24 server 2 become leader
------------------------------------------------------
term 24 server 2 get outdate rpc reply from server 0
flag 39 term 24 leader 2 nextIndex[0]: 155  matchIndex[0]: 0
term 24 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 22 leaderCommit: 153 
------------------------------------------------------
flag 78521 term 24 leader 2 nextIndex[1]: 155  matchIndex[1]: 0
term 24 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 22 leaderCommit: 153 
------------------------------------------------------
term 24 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
term 24 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 155->154
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 155->154
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 24 leader 2 nextIndex[0]: 145  matchIndex[0]: 0
term 24 leader 2 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 22
------------------------------------------------------
flag 73612 term 24 leader 2 nextIndex[1]: 154  matchIndex[1]: 0
term 24 leader 2 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 22 leaderCommit: 153 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=153
leader log:
[{snapshot 22 149} {8673013232885896887 22 150} {7374073060250674863 22 151} {5210849327318838175 22 152} {3360726654429821798 22 153} {6218831889505385800 22 154}]
------------------------------------------------------
term 24 server 0 InstallSnapshot success
------------------------------------------------------
term 24 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 150 matchIndex[0] 149 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 149 rf.lastIncludedTerm 22 rf.commitIndex 149 rf.lastApplied 149
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59748 term 24 leader 2 nextIndex[0]: 150  matchIndex[0]: 149
term 24 leader 2 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 22 leaderCommit: 153 
------------------------------------------------------
flag 68716 term 24 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 24 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 22 leaderCommit: 153 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=153
leader log:
[{snapshot 22 149} {8673013232885896887 22 150} {7374073060250674863 22 151} {5210849327318838175 22 152} {3360726654429821798 22 153} {6218831889505385800 22 154}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=153
leader log:
[{snapshot 22 149} {8673013232885896887 22 150} {7374073060250674863 22 151} {5210849327318838175 22 152} {3360726654429821798 22 153} {6218831889505385800 22 154}]
------------------------------------------------------
flag 21837 term 24 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 24 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 22 leaderCommit: 153 
------------------------------------------------------
flag 81586 term 24 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 24 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 22 leaderCommit: 153 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=153
leader log:
[{snapshot 22 149} {8673013232885896887 22 150} {7374073060250674863 22 151} {5210849327318838175 22 152} {3360726654429821798 22 153} {6218831889505385800 22 154}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=153
leader log:
[{snapshot 22 149} {8673013232885896887 22 150} {7374073060250674863 22 151} {5210849327318838175 22 152} {3360726654429821798 22 153} {6218831889505385800 22 154}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43363 term 24 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 24 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 22 leaderCommit: 153 
------------------------------------------------------
flag 18339 term 24 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 24 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 22 leaderCommit: 153 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=153
leader log:
[{snapshot 22 149} {8673013232885896887 22 150} {7374073060250674863 22 151} {5210849327318838175 22 152} {3360726654429821798 22 153} {6218831889505385800 22 154}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=153
leader log:
[{snapshot 22 149} {8673013232885896887 22 150} {7374073060250674863 22 151} {5210849327318838175 22 152} {3360726654429821798 22 153} {6218831889505385800 22 154}]
------------------------------------------------------
flag 40250 term 24 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 24 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 22 leaderCommit: 153 
------------------------------------------------------
flag 71234 term 24 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 24 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 22 leaderCommit: 153 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=153
leader log:
[{snapshot 22 149} {8673013232885896887 22 150} {7374073060250674863 22 151} {5210849327318838175 22 152} {3360726654429821798 22 153} {6218831889505385800 22 154}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=153
leader log:
[{snapshot 22 149} {8673013232885896887 22 150} {7374073060250674863 22 151} {5210849327318838175 22 152} {3360726654429821798 22 153} {6218831889505385800 22 154}]
------------------------------------------------------
flag 62991 term 24 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 24 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 22 leaderCommit: 153 
------------------------------------------------------
flag 70127 term 24 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 24 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 22 leaderCommit: 153 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=153
leader log:
[{snapshot 22 149} {8673013232885896887 22 150} {7374073060250674863 22 151} {5210849327318838175 22 152} {3360726654429821798 22 153} {6218831889505385800 22 154}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=153
leader log:
[{snapshot 22 149} {8673013232885896887 22 150} {7374073060250674863 22 151} {5210849327318838175 22 152} {3360726654429821798 22 153} {6218831889505385800 22 154}]
------------------------------------------------------
flag 43249 term 24 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 24 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 22 leaderCommit: 153 
------------------------------------------------------
flag 11717 term 24 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 24 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 22 leaderCommit: 153 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=153
leader log:
[{snapshot 22 149} {8673013232885896887 22 150} {7374073060250674863 22 151} {5210849327318838175 22 152} {3360726654429821798 22 153} {6218831889505385800 22 154}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=153
leader log:
[{snapshot 22 149} {8673013232885896887 22 150} {7374073060250674863 22 151} {5210849327318838175 22 152} {3360726654429821798 22 153} {6218831889505385800 22 154}]
------------------------------------------------------
flag 7214 term 24 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 24 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 22 leaderCommit: 153 
------------------------------------------------------
flag 87146 term 24 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 24 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 22 leaderCommit: 153 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=153
leader log:
[{snapshot 22 149} {8673013232885896887 22 150} {7374073060250674863 22 151} {5210849327318838175 22 152} {3360726654429821798 22 153} {6218831889505385800 22 154}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=153
leader log:
[{snapshot 22 149} {8673013232885896887 22 150} {7374073060250674863 22 151} {5210849327318838175 22 152} {3360726654429821798 22 153} {6218831889505385800 22 154}]
------------------------------------------------------
flag 27068 term 24 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 24 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 22 leaderCommit: 153 
------------------------------------------------------
flag 17739 term 24 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 24 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 22 leaderCommit: 153 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=153
leader log:
[{snapshot 22 149} {8673013232885896887 22 150} {7374073060250674863 22 151} {5210849327318838175 22 152} {3360726654429821798 22 153} {6218831889505385800 22 154}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=153
leader log:
[{snapshot 22 149} {8673013232885896887 22 150} {7374073060250674863 22 151} {5210849327318838175 22 152} {3360726654429821798 22 153} {6218831889505385800 22 154}]
------------------------------------------------------
flag 12604 term 24 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 24 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 22 leaderCommit: 153 
------------------------------------------------------
flag 69854 term 24 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 24 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 22 leaderCommit: 153 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=153
leader log:
[{snapshot 22 149} {8673013232885896887 22 150} {7374073060250674863 22 151} {5210849327318838175 22 152} {3360726654429821798 22 153} {6218831889505385800 22 154}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=153
leader log:
[{snapshot 22 149} {8673013232885896887 22 150} {7374073060250674863 22 151} {5210849327318838175 22 152} {3360726654429821798 22 153} {6218831889505385800 22 154}]
------------------------------------------------------
flag 88661 term 24 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 24 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 22 leaderCommit: 153 
------------------------------------------------------
flag 86875 term 24 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 24 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 22 leaderCommit: 153 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=153
leader log:
[{snapshot 22 149} {8673013232885896887 22 150} {7374073060250674863 22 151} {5210849327318838175 22 152} {3360726654429821798 22 153} {6218831889505385800 22 154}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=153
leader log:
[{snapshot 22 149} {8673013232885896887 22 150} {7374073060250674863 22 151} {5210849327318838175 22 152} {3360726654429821798 22 153} {6218831889505385800 22 154}]
------------------------------------------------------
flag 11960 term 24 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 24 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 22 leaderCommit: 153 
------------------------------------------------------
flag 89194 term 24 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 24 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 22 leaderCommit: 153 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=153
leader log:
[{snapshot 22 149} {8673013232885896887 22 150} {7374073060250674863 22 151} {5210849327318838175 22 152} {3360726654429821798 22 153} {6218831889505385800 22 154}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=153
leader log:
[{snapshot 22 149} {8673013232885896887 22 150} {7374073060250674863 22 151} {5210849327318838175 22 152} {3360726654429821798 22 153} {6218831889505385800 22 154}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87981 term 24 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 24 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 22 leaderCommit: 153 
------------------------------------------------------
flag 11918 term 24 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 24 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 22 leaderCommit: 153 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=153
leader log:
[{snapshot 22 149} {8673013232885896887 22 150} {7374073060250674863 22 151} {5210849327318838175 22 152} {3360726654429821798 22 153} {6218831889505385800 22 154}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=153
leader log:
[{snapshot 22 149} {8673013232885896887 22 150} {7374073060250674863 22 151} {5210849327318838175 22 152} {3360726654429821798 22 153} {6218831889505385800 22 154}]
------------------------------------------------------
flag 37163 term 24 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 24 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 22 leaderCommit: 153 
------------------------------------------------------
flag 2442 term 24 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 24 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 22 leaderCommit: 153 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=153
leader log:
[{snapshot 22 149} {8673013232885896887 22 150} {7374073060250674863 22 151} {5210849327318838175 22 152} {3360726654429821798 22 153} {6218831889505385800 22 154}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=153
leader log:
[{snapshot 22 149} {8673013232885896887 22 150} {7374073060250674863 22 151} {5210849327318838175 22 152} {3360726654429821798 22 153} {6218831889505385800 22 154}]
------------------------------------------------------
flag 92723 term 24 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 24 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 22 leaderCommit: 153 
------------------------------------------------------
flag 37392 term 24 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 24 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 22 leaderCommit: 153 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=153
leader log:
[{snapshot 22 149} {8673013232885896887 22 150} {7374073060250674863 22 151} {5210849327318838175 22 152} {3360726654429821798 22 153} {6218831889505385800 22 154}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=153
leader log:
[{snapshot 22 149} {8673013232885896887 22 150} {7374073060250674863 22 151} {5210849327318838175 22 152} {3360726654429821798 22 153} {6218831889505385800 22 154}]
------------------------------------------------------
flag 57863 term 24 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 24 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 22 leaderCommit: 153 
------------------------------------------------------
flag 48807 term 24 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 24 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 22 leaderCommit: 153 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
term 24 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
update leader CommitIndex=153
leader log:
[{snapshot 22 149} {8673013232885896887 22 150} {7374073060250674863 22 151} {5210849327318838175 22 152} {3360726654429821798 22 153} {6218831889505385800 22 154}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=153
leader log:
[{snapshot 22 149} {8673013232885896887 22 150} {7374073060250674863 22 151} {5210849327318838175 22 152} {3360726654429821798 22 153} {6218831889505385800 22 154}]
------------------------------------------------------
flag 20013 term 24 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 24 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 22 leaderCommit: 153 
------------------------------------------------------
flag 82033 term 24 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 24 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 22 leaderCommit: 153 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=153
leader log:
[{snapshot 22 149} {8673013232885896887 22 150} {7374073060250674863 22 151} {5210849327318838175 22 152} {3360726654429821798 22 153} {6218831889505385800 22 154}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=153
leader log:
[{snapshot 22 149} {8673013232885896887 22 150} {7374073060250674863 22 151} {5210849327318838175 22 152} {3360726654429821798 22 153} {6218831889505385800 22 154}]
------------------------------------------------------
flag 19552 term 24 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 24 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 22 leaderCommit: 153 
------------------------------------------------------
flag 53896 term 24 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 24 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 22 leaderCommit: 153 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=153
leader log:
[{snapshot 22 149} {8673013232885896887 22 150} {7374073060250674863 22 151} {5210849327318838175 22 152} {3360726654429821798 22 153} {6218831889505385800 22 154}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=153
leader log:
[{snapshot 22 149} {8673013232885896887 22 150} {7374073060250674863 22 151} {5210849327318838175 22 152} {3360726654429821798 22 153} {6218831889505385800 22 154}]
------------------------------------------------------
term 24 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 48092 term 24 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 24 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 22 leaderCommit: 153 
------------------------------------------------------
flag 34068 term 24 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 24 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 22 leaderCommit: 153 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=153
leader log:
[{snapshot 22 149} {8673013232885896887 22 150} {7374073060250674863 22 151} {5210849327318838175 22 152} {3360726654429821798 22 153} {6218831889505385800 22 154}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=153
leader log:
[{snapshot 22 149} {8673013232885896887 22 150} {7374073060250674863 22 151} {5210849327318838175 22 152} {3360726654429821798 22 153} {6218831889505385800 22 154}]
------------------------------------------------------
client write log 6218831889505385800 (index 155) to leader 2
flag 894 term 24 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 24 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 22 leaderCommit: 153 
------------------------------------------------------
flag 23910 term 24 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 24 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 22 leaderCommit: 153 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=155
leader log:
[{snapshot 22 149} {8673013232885896887 22 150} {7374073060250674863 22 151} {5210849327318838175 22 152} {3360726654429821798 22 153} {6218831889505385800 22 154} {6218831889505385800 24 155}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 22 149} {8673013232885896887 22 150} {7374073060250674863 22 151} {5210849327318838175 22 152} {3360726654429821798 22 153} {6218831889505385800 22 154} {6218831889505385800 24 155}]
------------------------------------------------------
flag 2314 term 24 leader 2 nextIndex[0]: 156  matchIndex[0]: 155
term 24 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
flag 72621 term 24 leader 2 nextIndex[1]: 156  matchIndex[1]: 155
term 24 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 22 149} {8673013232885896887 22 150} {7374073060250674863 22 151} {5210849327318838175 22 152} {3360726654429821798 22 153} {6218831889505385800 22 154} {6218831889505385800 24 155}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=155
leader log:
[{snapshot 22 149} {8673013232885896887 22 150} {7374073060250674863 22 151} {5210849327318838175 22 152} {3360726654429821798 22 153} {6218831889505385800 22 154} {6218831889505385800 24 155}]
------------------------------------------------------
flag 44532 term 24 leader 2 nextIndex[0]: 156  matchIndex[0]: 155
term 24 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
flag 45481 term 24 leader 2 nextIndex[1]: 156  matchIndex[1]: 155
term 24 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=155
leader log:
term 24 server 1 AppendEntries true commitIndex:155 
------------------------------------------------------
[{snapshot 22 149} {8673013232885896887 22 150} {7374073060250674863 22 151} {5210849327318838175 22 152} {3360726654429821798 22 153} {6218831889505385800 22 154} {6218831889505385800 24 155}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 22 149} {8673013232885896887 22 150} {7374073060250674863 22 151} {5210849327318838175 22 152} {3360726654429821798 22 153} {6218831889505385800 22 154} {6218831889505385800 24 155}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1196 term 24 leader 2 nextIndex[0]: 156  matchIndex[0]: 155
term 24 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
flag 48951 term 24 leader 2 nextIndex[1]: 156  matchIndex[1]: 155
term 24 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:155 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 22 149} {8673013232885896887 22 150} {7374073060250674863 22 151} {5210849327318838175 22 152} {3360726654429821798 22 153} {6218831889505385800 22 154} {6218831889505385800 24 155}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=155
leader log:
[{snapshot 22 149} {8673013232885896887 22 150} {7374073060250674863 22 151} {5210849327318838175 22 152} {3360726654429821798 22 153} {6218831889505385800 22 154} {6218831889505385800 24 155}]
------------------------------------------------------
flag 65082 term 24 leader 2 nextIndex[0]: 156  matchIndex[0]: 155
term 24 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
flag 76450 term 24 leader 2 nextIndex[1]: 156  matchIndex[1]: 155
term 24 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=155
leader log:
[{snapshot 22 149} {8673013232885896887 22 150} {7374073060250674863 22 151} {5210849327318838175 22 152} {3360726654429821798 22 153} {6218831889505385800 22 154} {6218831889505385800 24 155}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 22 149} {8673013232885896887 22 150} {7374073060250674863 22 151} {5210849327318838175 22 152} {3360726654429821798 22 153} {6218831889505385800 22 154} {6218831889505385800 24 155}]
------------------------------------------------------
flag 76402 term 24 leader 2 nextIndex[0]: 156  matchIndex[0]: 155
term 24 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
flag 48924 term 24 leader 2 nextIndex[1]: 156  matchIndex[1]: 155
term 24 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:155 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 22 149} {8673013232885896887 22 150} {7374073060250674863 22 151} {5210849327318838175 22 152} {3360726654429821798 22 153} {6218831889505385800 22 154} {6218831889505385800 24 155}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=155
leader log:
[{snapshot 22 149} {8673013232885896887 22 150} {7374073060250674863 22 151} {5210849327318838175 22 152} {3360726654429821798 22 153} {6218831889505385800 22 154} {6218831889505385800 24 155}]
------------------------------------------------------
flag 97341 term 24 leader 2 nextIndex[0]: 156  matchIndex[0]: 155
term 24 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
flag 12001 term 24 leader 2 nextIndex[1]: 156  matchIndex[1]: 155
term 24 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=155
leader log:
[{snapshot 22 149} {8673013232885896887 22 150} {7374073060250674863 22 151} {5210849327318838175 22 152} {3360726654429821798 22 153} {6218831889505385800 22 154} {6218831889505385800 24 155}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 22 149} {8673013232885896887 22 150} {7374073060250674863 22 151} {5210849327318838175 22 152} {3360726654429821798 22 153} {6218831889505385800 22 154} {6218831889505385800 24 155}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 66011 term 24 leader 2 nextIndex[0]: 156  matchIndex[0]: 155
term 24 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
flag 18389 term 24 leader 2 nextIndex[1]: 156  matchIndex[1]: 155
term 24 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
flag 40753 term 24 leader 2 nextIndex[0]: 156  matchIndex[0]: 155
term 24 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
flag 2504 term 24 leader 2 nextIndex[1]: 156  matchIndex[1]: 155
term 24 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
flag 95622 term 24 leader 2 nextIndex[0]: 156  matchIndex[0]: 155
term 24 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
flag 47568 term 24 leader 2 nextIndex[1]: 156  matchIndex[1]: 155
term 24 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
term 25 server 0 vote for server 1
term 25 server 1 get vote from server 0
term 25 server 1 become leader
------------------------------------------------------
client write log 6781162889675593950 (index 156) to leader 1
flag 40080 term 24 leader 2 nextIndex[0]: 156  matchIndex[0]: 155
term 24 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
flag 81758 term 24 leader 2 nextIndex[1]: 156  matchIndex[1]: 155
term 24 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
flag 85415 term 25 leader 1 nextIndex[0]: 156  matchIndex[0]: 0
term 25 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
flag 66870 term 25 leader 1 nextIndex[2]: 156  matchIndex[2]: 0
term 25 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=156
leader log:
[{snapshot 22 149} {8673013232885896887 22 150} {7374073060250674863 22 151} {5210849327318838175 22 152} {3360726654429821798 22 153} {6218831889505385800 22 154} {6218831889505385800 24 155} {6781162889675593950 25 156}]
------------------------------------------------------
flag 2681 term 24 leader 2 nextIndex[0]: 156  matchIndex[0]: 155
term 24 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
flag 68932 term 24 leader 2 nextIndex[1]: 156  matchIndex[1]: 155
term 24 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
flag 98563 term 25 leader 1 nextIndex[0]: 157  matchIndex[0]: 156
term 25 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 25 leaderCommit: 156 
------------------------------------------------------
flag 93462 term 25 leader 1 nextIndex[2]: 156  matchIndex[2]: 0
term 25 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 24 leaderCommit: 156 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=156
leader log:
[{snapshot 22 149} {8673013232885896887 22 150} {7374073060250674863 22 151} {5210849327318838175 22 152} {3360726654429821798 22 153} {6218831889505385800 22 154} {6218831889505385800 24 155} {6781162889675593950 25 156}]
------------------------------------------------------
client write log 2829333618923816015 (index 157) to leader 1
flag 75751 term 24 leader 2 nextIndex[0]: 156  matchIndex[0]: 155
term 24 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
flag 85426 term 24 leader 2 nextIndex[1]: 156  matchIndex[1]: 155
term 24 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
flag 25263 term 25 leader 1 nextIndex[0]: 157  matchIndex[0]: 156
term 25 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 25 leaderCommit: 156 
------------------------------------------------------
flag 28142 term 25 leader 1 nextIndex[2]: 156  matchIndex[2]: 0
term 25 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 24 leaderCommit: 156 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=158
update matchIndex[0]=157
update leader CommitIndex=157
leader log:
[{snapshot 22 149} {8673013232885896887 22 150} {7374073060250674863 22 151} {5210849327318838175 22 152} {3360726654429821798 22 153} {6218831889505385800 22 154} {6218831889505385800 24 155} {6781162889675593950 25 156} {2829333618923816015 25 157}]
------------------------------------------------------
flag 94085 term 24 leader 2 nextIndex[0]: 156  matchIndex[0]: 155
term 24 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
flag 72607 term 24 leader 2 nextIndex[1]: 156  matchIndex[1]: 155
term 24 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
flag 95414 term 25 leader 1 nextIndex[0]: 158  matchIndex[0]: 157
term 25 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 25 leaderCommit: 157 
------------------------------------------------------
flag 13247 term 25 leader 1 nextIndex[2]: 156  matchIndex[2]: 0
term 25 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 24 leaderCommit: 157 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=158
update matchIndex[0]=157
update leader CommitIndex=157
leader log:
[{snapshot 22 149} {8673013232885896887 22 150} {7374073060250674863 22 151} {5210849327318838175 22 152} {3360726654429821798 22 153} {6218831889505385800 22 154} {6218831889505385800 24 155} {6781162889675593950 25 156} {2829333618923816015 25 157}]
------------------------------------------------------
!!!!!!connect server 2
client write log 6935276501641701732 (index 158) to leader 1
flag 27871 term 24 leader 2 nextIndex[0]: 156  matchIndex[0]: 155
term 24 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
flag 5473 term 24 leader 2 nextIndex[1]: 156  matchIndex[1]: 155
term 24 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
term 25 server 1 AppendEntries false 领导者任期过期 args.Term 24
------------------------------------------------------
term 25 server 0 AppendEntries false 领导者任期过期 args.Term 24
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2551 term 25 leader 1 nextIndex[0]: 158  matchIndex[0]: 157
term 25 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 25 leaderCommit: 157 
------------------------------------------------------
flag 29479 term 25 leader 1 nextIndex[2]: 156  matchIndex[2]: 0
term 25 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 24 leaderCommit: 157 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=158
leader log:
[{snapshot 22 149} {8673013232885896887 22 150} {7374073060250674863 22 151} {5210849327318838175 22 152} {3360726654429821798 22 153} {6218831889505385800 22 154} {6218831889505385800 24 155} {6781162889675593950 25 156} {2829333618923816015 25 157} {6935276501641701732 25 158}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=158
leader log:
[{snapshot 22 149} {8673013232885896887 22 150} {7374073060250674863 22 151} {5210849327318838175 22 152} {3360726654429821798 22 153} {6218831889505385800 22 154} {6218831889505385800 24 155} {6781162889675593950 25 156} {2829333618923816015 25 157} {6935276501641701732 25 158}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8035 term 25 leader 1 nextIndex[0]: 159  matchIndex[0]: 158
term 25 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 25 leaderCommit: 158 
------------------------------------------------------
flag 23872 term 25 leader 1 nextIndex[2]: 159  matchIndex[2]: 158
term 25 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 25 leaderCommit: 158 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:158 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=158
leader log:
[{snapshot 22 149} {8673013232885896887 22 150} {7374073060250674863 22 151} {5210849327318838175 22 152} {3360726654429821798 22 153} {6218831889505385800 22 154} {6218831889505385800 24 155} {6781162889675593950 25 156} {2829333618923816015 25 157} {6935276501641701732 25 158}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=158
leader log:
[{snapshot 22 149} {8673013232885896887 22 150} {7374073060250674863 22 151} {5210849327318838175 22 152} {3360726654429821798 22 153} {6218831889505385800 22 154} {6218831889505385800 24 155} {6781162889675593950 25 156} {2829333618923816015 25 157} {6935276501641701732 25 158}]
------------------------------------------------------
flag 40507 term 25 leader 1 nextIndex[0]: 159  matchIndex[0]: 158
term 25 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 25 leaderCommit: 158 
------------------------------------------------------
flag 88651 term 25 leader 1 nextIndex[2]: 159  matchIndex[2]: 158
term 25 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 25 leaderCommit: 158 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:158 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=158
leader log:
[{snapshot 22 149} {8673013232885896887 22 150} {7374073060250674863 22 151} {5210849327318838175 22 152} {3360726654429821798 22 153} {6218831889505385800 22 154} {6218831889505385800 24 155} {6781162889675593950 25 156} {2829333618923816015 25 157} {6935276501641701732 25 158}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=158
leader log:
[{snapshot 22 149} {8673013232885896887 22 150} {7374073060250674863 22 151} {5210849327318838175 22 152} {3360726654429821798 22 153} {6218831889505385800 22 154} {6218831889505385800 24 155} {6781162889675593950 25 156} {2829333618923816015 25 157} {6935276501641701732 25 158}]
------------------------------------------------------
flag 1399 term 25 leader 1 nextIndex[0]: 159  matchIndex[0]: 158
term 25 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 25 leaderCommit: 158 
------------------------------------------------------
flag 97802 term 25 leader 1 nextIndex[2]: 159  matchIndex[2]: 158
term 25 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 25 leaderCommit: 158 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=158
leader log:
[{snapshot 22 149} {8673013232885896887 22 150} {7374073060250674863 22 151} {5210849327318838175 22 152} {3360726654429821798 22 153} {6218831889505385800 22 154} {6218831889505385800 24 155} {6781162889675593950 25 156} {2829333618923816015 25 157} {6935276501641701732 25 158}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=158
leader log:
[{snapshot 22 149} {8673013232885896887 22 150} {7374073060250674863 22 151} {5210849327318838175 22 152} {3360726654429821798 22 153} {6218831889505385800 22 154} {6218831889505385800 24 155} {6781162889675593950 25 156} {2829333618923816015 25 157} {6935276501641701732 25 158}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5557 term 25 leader 1 nextIndex[0]: 159  matchIndex[0]: 158
term 25 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 25 leaderCommit: 158 
------------------------------------------------------
flag 52500 term 25 leader 1 nextIndex[2]: 159  matchIndex[2]: 158
term 25 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 25 leaderCommit: 158 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=158
leader log:
[{snapshot 22 149} {8673013232885896887 22 150} {7374073060250674863 22 151} {5210849327318838175 22 152} {3360726654429821798 22 153} {6218831889505385800 22 154} {6218831889505385800 24 155} {6781162889675593950 25 156} {2829333618923816015 25 157} {6935276501641701732 25 158}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=158
leader log:
[{snapshot 22 149} {8673013232885896887 22 150} {7374073060250674863 22 151} {5210849327318838175 22 152} {3360726654429821798 22 153} {6218831889505385800 22 154} {6218831889505385800 24 155} {6781162889675593950 25 156} {2829333618923816015 25 157} {6935276501641701732 25 158}]
------------------------------------------------------
flag 90530 term 25 leader 1 nextIndex[0]: 159  matchIndex[0]: 158
term 25 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 25 leaderCommit: 158 
------------------------------------------------------
flag 42491 term 25 leader 1 nextIndex[2]: 159  matchIndex[2]: 158
term 25 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 25 leaderCommit: 158 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=158
leader log:
[{snapshot 22 149} {8673013232885896887 22 150} {7374073060250674863 22 151} {5210849327318838175 22 152} {3360726654429821798 22 153} {6218831889505385800 22 154} {6218831889505385800 24 155} {6781162889675593950 25 156} {2829333618923816015 25 157} {6935276501641701732 25 158}]
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=158
leader log:
[{snapshot 22 149} {8673013232885896887 22 150} {7374073060250674863 22 151} {5210849327318838175 22 152} {3360726654429821798 22 153} {6218831889505385800 22 154} {6218831889505385800 24 155} {6781162889675593950 25 156} {2829333618923816015 25 157} {6935276501641701732 25 158}]
------------------------------------------------------
flag 1787 term 25 leader 1 nextIndex[0]: 159  matchIndex[0]: 158
term 25 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 25 leaderCommit: 158 
------------------------------------------------------
flag 87203 term 25 leader 1 nextIndex[2]: 159  matchIndex[2]: 158
term 25 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 25 leaderCommit: 158 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=158
leader log:
[{snapshot 22 149} {8673013232885896887 22 150} {7374073060250674863 22 151} {5210849327318838175 22 152} {3360726654429821798 22 153} {6218831889505385800 22 154} {6218831889505385800 24 155} {6781162889675593950 25 156} {2829333618923816015 25 157} {6935276501641701732 25 158}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=158
leader log:
[{snapshot 22 149} {8673013232885896887 22 150} {7374073060250674863 22 151} {5210849327318838175 22 152} {3360726654429821798 22 153} {6218831889505385800 22 154} {6218831889505385800 24 155} {6781162889675593950 25 156} {2829333618923816015 25 157} {6935276501641701732 25 158}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 7350940285639263049 (index 159) to leader 1
flag 23093 term 25 leader 1 nextIndex[0]: 159  matchIndex[0]: 158
term 25 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 25 leaderCommit: 158 
------------------------------------------------------
flag 33957 term 25 leader 1 nextIndex[2]: 159  matchIndex[2]: 158
term 25 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 25 leaderCommit: 158 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 22 149} {8673013232885896887 22 150} {7374073060250674863 22 151} {5210849327318838175 22 152} {3360726654429821798 22 153} {6218831889505385800 22 154} {6218831889505385800 24 155} {6781162889675593950 25 156} {2829333618923816015 25 157} {6935276501641701732 25 158} {7350940285639263049 25 159}]
------------------------------------------------------
term 25 Server1 start snapshot! index=159
term 25 server1 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=159
-------------------------------------------------------------
flag 46702 term 25 leader 1 nextIndex[0]: 160  matchIndex[0]: 159
term 25 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
term 25 leader 1 nextIndex[2]: 159  matchIndex[2]: 158
term 25 leader 1 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 25
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 25 159}]
------------------------------------------------------
term 25 Server0 start snapshot! index=159
term 25 server0 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=159
-------------------------------------------------------------
client write log 4603545358027114544 (index 160) to leader 1
client write log 3815198787695054627 (index 161) to leader 1
client write log 3753823375502061084 (index 162) to leader 1
client write log 5104915078298799909 (index 163) to leader 1
client write log 6543545486476749714 (index 164) to leader 1
client write log 1367099148679871319 (index 165) to leader 1
flag 86280 term 25 leader 1 nextIndex[0]: 160  matchIndex[0]: 159
term 25 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
term 25 leader 1 nextIndex[2]: 159  matchIndex[2]: 158
term 25 leader 1 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 25
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=166
update matchIndex[0]=165
update leader CommitIndex=165
leader log:
[{snapshot 25 159} {4603545358027114544 25 160} {3815198787695054627 25 161} {3753823375502061084 25 162} {5104915078298799909 25 163} {6543545486476749714 25 164} {1367099148679871319 25 165}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67146 term 25 leader 1 nextIndex[0]: 166  matchIndex[0]: 165
term 25 leader 1 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 25 leaderCommit: 165 
------------------------------------------------------
term 25 leader 1 nextIndex[2]: 159  matchIndex[2]: 158
term 25 leader 1 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 25
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=166
update matchIndex[0]=165
update leader CommitIndex=165
leader log:
[{snapshot 25 159} {4603545358027114544 25 160} {3815198787695054627 25 161} {3753823375502061084 25 162} {5104915078298799909 25 163} {6543545486476749714 25 164} {1367099148679871319 25 165}]
------------------------------------------------------
!!!!!!connect server 2
client write log 861287011754516132 (index 166) to leader 1
term 25 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 160 matchIndex[2] 159 
------------------------------------------------------------------------
flag 44110 term 25 leader 1 nextIndex[0]: 166  matchIndex[0]: 165
term 25 leader 1 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 25 leaderCommit: 165 
------------------------------------------------------
flag 65841 term 25 leader 1 nextIndex[2]: 160  matchIndex[2]: 159
term 25 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 25 leaderCommit: 165 
------------------------------------------------------
term 26 server 2 AppendEntries false 领导者任期过期 args.Term 25
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 26 server 1 not vote for server 2, 日志不够新
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 26 server 1 not vote for server 2, 日志不够新
term 25 server 0 not vote for server 2, 日志不够新
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 28 server 2 vote for server 1
term 28 server 0 vote for server 1
term 28 server 1 get vote from server 2
term 28 server 1 become leader
------------------------------------------------------
term 28 server 1 get outdate rpc reply from server 0
flag 40430 term 28 leader 1 nextIndex[0]: 167  matchIndex[0]: 0
term 28 leader 1 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 25 leaderCommit: 165 
------------------------------------------------------
flag 47612 term 28 leader 1 nextIndex[2]: 167  matchIndex[2]: 0
term 28 leader 1 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 25 leaderCommit: 165 
------------------------------------------------------
term 28 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 167->166
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=167
update matchIndex[0]=166
update leader CommitIndex=165
leader log:
[{snapshot 25 159} {4603545358027114544 25 160} {3815198787695054627 25 161} {3753823375502061084 25 162} {5104915078298799909 25 163} {6543545486476749714 25 164} {1367099148679871319 25 165} {861287011754516132 25 166}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3591 term 28 leader 1 nextIndex[0]: 167  matchIndex[0]: 166
term 28 leader 1 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 25 leaderCommit: 165 
------------------------------------------------------
term 28 leader 1 nextIndex[2]: 159  matchIndex[2]: 0
term 28 leader 1 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 25
------------------------------------------------------
term 28 server 2 InstallSnapshot success
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:165 
------------------------------------------------------
term 28 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 160 matchIndex[2] 159 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 159 rf.lastIncludedTerm 25 rf.commitIndex 159 rf.lastApplied 159
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=167
update matchIndex[0]=166
update leader CommitIndex=165
leader log:
[{snapshot 25 159} {4603545358027114544 25 160} {3815198787695054627 25 161} {3753823375502061084 25 162} {5104915078298799909 25 163} {6543545486476749714 25 164} {1367099148679871319 25 165} {861287011754516132 25 166}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68442 term 28 leader 1 nextIndex[0]: 167  matchIndex[0]: 166
term 28 leader 1 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 25 leaderCommit: 165 
------------------------------------------------------
flag 24304 term 28 leader 1 nextIndex[2]: 160  matchIndex[2]: 159
term 28 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 25 leaderCommit: 165 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=167
update matchIndex[0]=166
update leader CommitIndex=165
leader log:
[{snapshot 25 159} {4603545358027114544 25 160} {3815198787695054627 25 161} {3753823375502061084 25 162} {5104915078298799909 25 163} {6543545486476749714 25 164} {1367099148679871319 25 165} {861287011754516132 25 166}]
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=165
leader log:
[{snapshot 25 159} {4603545358027114544 25 160} {3815198787695054627 25 161} {3753823375502061084 25 162} {5104915078298799909 25 163} {6543545486476749714 25 164} {1367099148679871319 25 165} {861287011754516132 25 166}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86046 term 28 leader 1 nextIndex[0]: 167  matchIndex[0]: 166
term 28 leader 1 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 25 leaderCommit: 165 
------------------------------------------------------
flag 29310 term 28 leader 1 nextIndex[2]: 167  matchIndex[2]: 166
term 28 leader 1 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 25 leaderCommit: 165 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=165
leader log:
[{snapshot 25 159} {4603545358027114544 25 160} {3815198787695054627 25 161} {3753823375502061084 25 162} {5104915078298799909 25 163} {6543545486476749714 25 164} {1367099148679871319 25 165} {861287011754516132 25 166}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=167
update matchIndex[0]=166
update leader CommitIndex=165
leader log:
[{snapshot 25 159} {4603545358027114544 25 160} {3815198787695054627 25 161} {3753823375502061084 25 162} {5104915078298799909 25 163} {6543545486476749714 25 164} {1367099148679871319 25 165} {861287011754516132 25 166}]
------------------------------------------------------
flag 48335 term 28 leader 1 nextIndex[0]: 167  matchIndex[0]: 166
term 28 leader 1 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 25 leaderCommit: 165 
------------------------------------------------------
flag 53279 term 28 leader 1 nextIndex[2]: 167  matchIndex[2]: 166
term 28 leader 1 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 25 leaderCommit: 165 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=165
leader log:
[{snapshot 25 159} {4603545358027114544 25 160} {3815198787695054627 25 161} {3753823375502061084 25 162} {5104915078298799909 25 163} {6543545486476749714 25 164} {1367099148679871319 25 165} {861287011754516132 25 166}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=167
update matchIndex[0]=166
update leader CommitIndex=165
leader log:
[{snapshot 25 159} {4603545358027114544 25 160} {3815198787695054627 25 161} {3753823375502061084 25 162} {5104915078298799909 25 163} {6543545486476749714 25 164} {1367099148679871319 25 165} {861287011754516132 25 166}]
------------------------------------------------------
flag 5488 term 28 leader 1 nextIndex[0]: 167  matchIndex[0]: 166
term 28 leader 1 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 25 leaderCommit: 165 
------------------------------------------------------
flag 79683 term 28 leader 1 nextIndex[2]: 167  matchIndex[2]: 166
term 28 leader 1 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 25 leaderCommit: 165 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:165 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=167
update matchIndex[0]=166
update leader CommitIndex=165
leader log:
[{snapshot 25 159} {4603545358027114544 25 160} {3815198787695054627 25 161} {3753823375502061084 25 162} {5104915078298799909 25 163} {6543545486476749714 25 164} {1367099148679871319 25 165} {861287011754516132 25 166}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=165
leader log:
[{snapshot 25 159} {4603545358027114544 25 160} {3815198787695054627 25 161} {3753823375502061084 25 162} {5104915078298799909 25 163} {6543545486476749714 25 164} {1367099148679871319 25 165} {861287011754516132 25 166}]
------------------------------------------------------
flag 68785 term 28 leader 1 nextIndex[0]: 167  matchIndex[0]: 166
term 28 leader 1 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 25 leaderCommit: 165 
------------------------------------------------------
flag 56817 term 28 leader 1 nextIndex[2]: 167  matchIndex[2]: 166
term 28 leader 1 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 25 leaderCommit: 165 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=165
leader log:
[{snapshot 25 159} {4603545358027114544 25 160} {3815198787695054627 25 161} {3753823375502061084 25 162} {5104915078298799909 25 163} {6543545486476749714 25 164} {1367099148679871319 25 165} {861287011754516132 25 166}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=167
update matchIndex[0]=166
update leader CommitIndex=165
leader log:
[{snapshot 25 159} {4603545358027114544 25 160} {3815198787695054627 25 161} {3753823375502061084 25 162} {5104915078298799909 25 163} {6543545486476749714 25 164} {1367099148679871319 25 165} {861287011754516132 25 166}]
------------------------------------------------------
flag 40255 term 28 leader 1 nextIndex[0]: 167  matchIndex[0]: 166
term 28 leader 1 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 25 leaderCommit: 165 
------------------------------------------------------
flag 86133 term 28 leader 1 nextIndex[2]: 167  matchIndex[2]: 166
term 28 leader 1 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 25 leaderCommit: 165 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=165
leader log:
[{snapshot 25 159} {4603545358027114544 25 160} {3815198787695054627 25 161} {3753823375502061084 25 162} {5104915078298799909 25 163} {6543545486476749714 25 164} {1367099148679871319 25 165} {861287011754516132 25 166}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=167
update matchIndex[0]=166
update leader CommitIndex=165
leader log:
[{snapshot 25 159} {4603545358027114544 25 160} {3815198787695054627 25 161} {3753823375502061084 25 162} {5104915078298799909 25 163} {6543545486476749714 25 164} {1367099148679871319 25 165} {861287011754516132 25 166}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91362 term 28 leader 1 nextIndex[0]: 167  matchIndex[0]: 166
term 28 leader 1 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 25 leaderCommit: 165 
------------------------------------------------------
flag 71318 term 28 leader 1 nextIndex[2]: 167  matchIndex[2]: 166
term 28 leader 1 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 25 leaderCommit: 165 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=165
leader log:
[{snapshot 25 159} {4603545358027114544 25 160} {3815198787695054627 25 161} {3753823375502061084 25 162} {5104915078298799909 25 163} {6543545486476749714 25 164} {1367099148679871319 25 165} {861287011754516132 25 166}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=167
update matchIndex[0]=166
update leader CommitIndex=165
leader log:
[{snapshot 25 159} {4603545358027114544 25 160} {3815198787695054627 25 161} {3753823375502061084 25 162} {5104915078298799909 25 163} {6543545486476749714 25 164} {1367099148679871319 25 165} {861287011754516132 25 166}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40078 term 28 leader 1 nextIndex[0]: 167  matchIndex[0]: 166
term 28 leader 1 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 25 leaderCommit: 165 
------------------------------------------------------
flag 52971 term 28 leader 1 nextIndex[2]: 167  matchIndex[2]: 166
term 28 leader 1 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 25 leaderCommit: 165 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=165
leader log:
[{snapshot 25 159} {4603545358027114544 25 160} {3815198787695054627 25 161} {3753823375502061084 25 162} {5104915078298799909 25 163} {6543545486476749714 25 164} {1367099148679871319 25 165} {861287011754516132 25 166}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=167
update matchIndex[0]=166
update leader CommitIndex=165
leader log:
[{snapshot 25 159} {4603545358027114544 25 160} {3815198787695054627 25 161} {3753823375502061084 25 162} {5104915078298799909 25 163} {6543545486476749714 25 164} {1367099148679871319 25 165} {861287011754516132 25 166}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54837 term 28 leader 1 nextIndex[0]: 167  matchIndex[0]: 166
term 28 leader 1 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 25 leaderCommit: 165 
------------------------------------------------------
flag 1579 term 28 leader 1 nextIndex[2]: 167  matchIndex[2]: 166
term 28 leader 1 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 25 leaderCommit: 165 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=165
leader log:
[{snapshot 25 159} {4603545358027114544 25 160} {3815198787695054627 25 161} {3753823375502061084 25 162} {5104915078298799909 25 163} {6543545486476749714 25 164} {1367099148679871319 25 165} {861287011754516132 25 166}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=167
update matchIndex[0]=166
update leader CommitIndex=165
leader log:
[{snapshot 25 159} {4603545358027114544 25 160} {3815198787695054627 25 161} {3753823375502061084 25 162} {5104915078298799909 25 163} {6543545486476749714 25 164} {1367099148679871319 25 165} {861287011754516132 25 166}]
------------------------------------------------------
flag 3219 term 28 leader 1 nextIndex[0]: 167  matchIndex[0]: 166
term 28 leader 1 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 25 leaderCommit: 165 
------------------------------------------------------
flag 4049 term 28 leader 1 nextIndex[2]: 167  matchIndex[2]: 166
term 28 leader 1 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 25 leaderCommit: 165 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=165
leader log:
[{snapshot 25 159} {4603545358027114544 25 160} {3815198787695054627 25 161} {3753823375502061084 25 162} {5104915078298799909 25 163} {6543545486476749714 25 164} {1367099148679871319 25 165} {861287011754516132 25 166}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=167
update matchIndex[0]=166
update leader CommitIndex=165
leader log:
[{snapshot 25 159} {4603545358027114544 25 160} {3815198787695054627 25 161} {3753823375502061084 25 162} {5104915078298799909 25 163} {6543545486476749714 25 164} {1367099148679871319 25 165} {861287011754516132 25 166}]
------------------------------------------------------
term 28 server 2 not vote for server 1, 任期不够新
term 28 server 1 get outdate rpc reply from server 2
flag 26718 term 28 leader 1 nextIndex[0]: 167  matchIndex[0]: 166
term 28 leader 1 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 25 leaderCommit: 165 
------------------------------------------------------
flag 58538 term 28 leader 1 nextIndex[2]: 167  matchIndex[2]: 166
term 28 leader 1 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 25 leaderCommit: 165 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:165 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=167
update matchIndex[0]=166
update leader CommitIndex=165
leader log:
[{snapshot 25 159} {4603545358027114544 25 160} {3815198787695054627 25 161} {3753823375502061084 25 162} {5104915078298799909 25 163} {6543545486476749714 25 164} {1367099148679871319 25 165} {861287011754516132 25 166}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=165
leader log:
[{snapshot 25 159} {4603545358027114544 25 160} {3815198787695054627 25 161} {3753823375502061084 25 162} {5104915078298799909 25 163} {6543545486476749714 25 164} {1367099148679871319 25 165} {861287011754516132 25 166}]
------------------------------------------------------
flag 44393 term 28 leader 1 nextIndex[0]: 167  matchIndex[0]: 166
term 28 leader 1 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 25 leaderCommit: 165 
------------------------------------------------------
flag 55381 term 28 leader 1 nextIndex[2]: 167  matchIndex[2]: 166
term 28 leader 1 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 25 leaderCommit: 165 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=165
leader log:
[{snapshot 25 159} {4603545358027114544 25 160} {3815198787695054627 25 161} {3753823375502061084 25 162} {5104915078298799909 25 163} {6543545486476749714 25 164} {1367099148679871319 25 165} {861287011754516132 25 166}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=167
update matchIndex[0]=166
update leader CommitIndex=165
leader log:
[{snapshot 25 159} {4603545358027114544 25 160} {3815198787695054627 25 161} {3753823375502061084 25 162} {5104915078298799909 25 163} {6543545486476749714 25 164} {1367099148679871319 25 165} {861287011754516132 25 166}]
------------------------------------------------------
flag 30897 term 28 leader 1 nextIndex[0]: 167  matchIndex[0]: 166
term 28 leader 1 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 25 leaderCommit: 165 
------------------------------------------------------
flag 21015 term 28 leader 1 nextIndex[2]: 167  matchIndex[2]: 166
term 28 leader 1 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 25 leaderCommit: 165 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=165
leader log:
[{snapshot 25 159} {4603545358027114544 25 160} {3815198787695054627 25 161} {3753823375502061084 25 162} {5104915078298799909 25 163} {6543545486476749714 25 164} {1367099148679871319 25 165} {861287011754516132 25 166}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=167
update matchIndex[0]=166
update leader CommitIndex=165
leader log:
[{snapshot 25 159} {4603545358027114544 25 160} {3815198787695054627 25 161} {3753823375502061084 25 162} {5104915078298799909 25 163} {6543545486476749714 25 164} {1367099148679871319 25 165} {861287011754516132 25 166}]
------------------------------------------------------
flag 13983 term 28 leader 1 nextIndex[0]: 167  matchIndex[0]: 166
term 28 leader 1 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 25 leaderCommit: 165 
------------------------------------------------------
flag 47481 term 28 leader 1 nextIndex[2]: 167  matchIndex[2]: 166
term 28 leader 1 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 25 leaderCommit: 165 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=165
leader log:
[{snapshot 25 159} {4603545358027114544 25 160} {3815198787695054627 25 161} {3753823375502061084 25 162} {5104915078298799909 25 163} {6543545486476749714 25 164} {1367099148679871319 25 165} {861287011754516132 25 166}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=167
update matchIndex[0]=166
update leader CommitIndex=165
leader log:
[{snapshot 25 159} {4603545358027114544 25 160} {3815198787695054627 25 161} {3753823375502061084 25 162} {5104915078298799909 25 163} {6543545486476749714 25 164} {1367099148679871319 25 165} {861287011754516132 25 166}]
------------------------------------------------------
client write log 861287011754516132 (index 167) to leader 1
flag 64403 term 28 leader 1 nextIndex[0]: 167  matchIndex[0]: 166
term 28 leader 1 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 25 leaderCommit: 165 
------------------------------------------------------
flag 41299 term 28 leader 1 nextIndex[2]: 167  matchIndex[2]: 166
term 28 leader 1 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 25 leaderCommit: 165 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=168
update matchIndex[0]=167
update leader CommitIndex=167
leader log:
[{snapshot 25 159} {4603545358027114544 25 160} {3815198787695054627 25 161} {3753823375502061084 25 162} {5104915078298799909 25 163} {6543545486476749714 25 164} {1367099148679871319 25 165} {861287011754516132 25 166} {861287011754516132 28 167}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=167
leader log:
[{snapshot 25 159} {4603545358027114544 25 160} {3815198787695054627 25 161} {3753823375502061084 25 162} {5104915078298799909 25 163} {6543545486476749714 25 164} {1367099148679871319 25 165} {861287011754516132 25 166} {861287011754516132 28 167}]
------------------------------------------------------
flag 58149 term 28 leader 1 nextIndex[0]: 168  matchIndex[0]: 167
term 28 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
flag 40132 term 28 leader 1 nextIndex[2]: 168  matchIndex[2]: 167
term 28 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=167
leader log:
[{snapshot 25 159} {4603545358027114544 25 160} {3815198787695054627 25 161} {3753823375502061084 25 162} {5104915078298799909 25 163} {6543545486476749714 25 164} {1367099148679871319 25 165} {861287011754516132 25 166} {861287011754516132 28 167}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=168
update matchIndex[0]=167
update leader CommitIndex=167
leader log:
[{snapshot 25 159} {4603545358027114544 25 160} {3815198787695054627 25 161} {3753823375502061084 25 162} {5104915078298799909 25 163} {6543545486476749714 25 164} {1367099148679871319 25 165} {861287011754516132 25 166} {861287011754516132 28 167}]
------------------------------------------------------
flag 52944 term 28 leader 1 nextIndex[0]: 168  matchIndex[0]: 167
term 28 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
flag 24020 term 28 leader 1 nextIndex[2]: 168  matchIndex[2]: 167
term 28 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=167
leader log:
[{snapshot 25 159} {4603545358027114544 25 160} {3815198787695054627 25 161} {3753823375502061084 25 162} {5104915078298799909 25 163} {6543545486476749714 25 164} {1367099148679871319 25 165} {861287011754516132 25 166} {861287011754516132 28 167}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=168
update matchIndex[0]=167
update leader CommitIndex=167
leader log:
[{snapshot 25 159} {4603545358027114544 25 160} {3815198787695054627 25 161} {3753823375502061084 25 162} {5104915078298799909 25 163} {6543545486476749714 25 164} {1367099148679871319 25 165} {861287011754516132 25 166} {861287011754516132 28 167}]
------------------------------------------------------
flag 64503 term 28 leader 1 nextIndex[0]: 168  matchIndex[0]: 167
term 28 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
flag 1574 term 28 leader 1 nextIndex[2]: 168  matchIndex[2]: 167
term 28 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=167
leader log:
[{snapshot 25 159} {4603545358027114544 25 160} {3815198787695054627 25 161} {3753823375502061084 25 162} {5104915078298799909 25 163} {6543545486476749714 25 164} {1367099148679871319 25 165} {861287011754516132 25 166} {861287011754516132 28 167}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=168
update matchIndex[0]=167
update leader CommitIndex=167
leader log:
[{snapshot 25 159} {4603545358027114544 25 160} {3815198787695054627 25 161} {3753823375502061084 25 162} {5104915078298799909 25 163} {6543545486476749714 25 164} {1367099148679871319 25 165} {861287011754516132 25 166} {861287011754516132 28 167}]
------------------------------------------------------
flag 82434 term 28 leader 1 nextIndex[0]: 168  matchIndex[0]: 167
term 28 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
flag 80290 term 28 leader 1 nextIndex[2]: 168  matchIndex[2]: 167
term 28 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=167
leader log:
[{snapshot 25 159} {4603545358027114544 25 160} {3815198787695054627 25 161} {3753823375502061084 25 162} {5104915078298799909 25 163} {6543545486476749714 25 164} {1367099148679871319 25 165} {861287011754516132 25 166} {861287011754516132 28 167}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=168
update matchIndex[0]=167
update leader CommitIndex=167
leader log:
[{snapshot 25 159} {4603545358027114544 25 160} {3815198787695054627 25 161} {3753823375502061084 25 162} {5104915078298799909 25 163} {6543545486476749714 25 164} {1367099148679871319 25 165} {861287011754516132 25 166} {861287011754516132 28 167}]
------------------------------------------------------
flag 59142 term 28 leader 1 nextIndex[0]: 168  matchIndex[0]: 167
term 28 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
flag 60735 term 28 leader 1 nextIndex[2]: 168  matchIndex[2]: 167
term 28 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=167
leader log:
[{snapshot 25 159} {4603545358027114544 25 160} {3815198787695054627 25 161} {3753823375502061084 25 162} {5104915078298799909 25 163} {6543545486476749714 25 164} {1367099148679871319 25 165} {861287011754516132 25 166} {861287011754516132 28 167}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=168
update matchIndex[0]=167
update leader CommitIndex=167
leader log:
[{snapshot 25 159} {4603545358027114544 25 160} {3815198787695054627 25 161} {3753823375502061084 25 162} {5104915078298799909 25 163} {6543545486476749714 25 164} {1367099148679871319 25 165} {861287011754516132 25 166} {861287011754516132 28 167}]
------------------------------------------------------
term 28 server 0 not vote for server 2, 任期不够新
term 28 server 2 get outdate rpc reply from server 0
flag 14309 term 28 leader 1 nextIndex[0]: 168  matchIndex[0]: 167
term 28 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
flag 39464 term 28 leader 1 nextIndex[2]: 168  matchIndex[2]: 167
term 28 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=168
update matchIndex[0]=167
update leader CommitIndex=167
leader log:
[{snapshot 25 159} {4603545358027114544 25 160} {3815198787695054627 25 161} {3753823375502061084 25 162} {5104915078298799909 25 163} {6543545486476749714 25 164} {1367099148679871319 25 165} {861287011754516132 25 166} {861287011754516132 28 167}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=167
leader log:
[{snapshot 25 159} {4603545358027114544 25 160} {3815198787695054627 25 161} {3753823375502061084 25 162} {5104915078298799909 25 163} {6543545486476749714 25 164} {1367099148679871319 25 165} {861287011754516132 25 166} {861287011754516132 28 167}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 3012205036314194634 (index 168) to leader 1
flag 96316 term 28 leader 1 nextIndex[0]: 168  matchIndex[0]: 167
term 28 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
flag 82562 term 28 leader 1 nextIndex[2]: 168  matchIndex[2]: 167
term 28 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=169
update matchIndex[0]=168
update leader CommitIndex=168
leader log:
[{snapshot 25 159} {4603545358027114544 25 160} {3815198787695054627 25 161} {3753823375502061084 25 162} {5104915078298799909 25 163} {6543545486476749714 25 164} {1367099148679871319 25 165} {861287011754516132 25 166} {861287011754516132 28 167} {3012205036314194634 28 168}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57915 term 28 leader 1 nextIndex[0]: 169  matchIndex[0]: 168
term 28 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 28 leaderCommit: 168 
------------------------------------------------------
flag 78262 term 28 leader 1 nextIndex[2]: 168  matchIndex[2]: 167
term 28 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 28 leaderCommit: 168 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=169
update matchIndex[0]=168
update leader CommitIndex=168
leader log:
[{snapshot 25 159} {4603545358027114544 25 160} {3815198787695054627 25 161} {3753823375502061084 25 162} {5104915078298799909 25 163} {6543545486476749714 25 164} {1367099148679871319 25 165} {861287011754516132 25 166} {861287011754516132 28 167} {3012205036314194634 28 168}]
------------------------------------------------------
client write log 4923921754640395759 (index 169) to leader 1
client write log 8080616516964523984 (index 170) to leader 1
client write log 6339969472266631339 (index 171) to leader 1
client write log 4280150576426692973 (index 172) to leader 1
client write log 5817706459104717528 (index 173) to leader 1
client write log 1769506701051727225 (index 174) to leader 1
flag 79319 term 28 leader 1 nextIndex[0]: 169  matchIndex[0]: 168
term 28 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 28 leaderCommit: 168 
------------------------------------------------------
flag 33374 term 28 leader 1 nextIndex[2]: 168  matchIndex[2]: 167
term 28 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 28 leaderCommit: 168 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=175
update matchIndex[0]=174
update leader CommitIndex=174
leader log:
[{snapshot 25 159} {4603545358027114544 25 160} {3815198787695054627 25 161} {3753823375502061084 25 162} {5104915078298799909 25 163} {6543545486476749714 25 164} {1367099148679871319 25 165} {861287011754516132 25 166} {861287011754516132 28 167} {3012205036314194634 28 168} {4923921754640395759 28 169} {8080616516964523984 28 170} {6339969472266631339 28 171} {4280150576426692973 28 172} {5817706459104717528 28 173} {1769506701051727225 28 174}]
------------------------------------------------------
term 28 Server1 start snapshot! index=169
term 28 server1 snapshot success
lastIncludedIndex=169 lastApplied=170 lastIndex=174
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85002 term 28 leader 1 nextIndex[0]: 175  matchIndex[0]: 174
term 28 leader 1 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
term 28 leader 1 nextIndex[2]: 168  matchIndex[2]: 167
term 28 leader 1 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 28
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=175
update matchIndex[0]=174
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {8080616516964523984 28 170} {6339969472266631339 28 171} {4280150576426692973 28 172} {5817706459104717528 28 173} {1769506701051727225 28 174}]
------------------------------------------------------
term 28 Server0 start snapshot! index=169
term 28 server0 snapshot success
lastIncludedIndex=169 lastApplied=170 lastIndex=174
-------------------------------------------------------------
!!!!!!connect server 2
client write log 3410025547704943471 (index 175) to leader 1
flag 23734 term 28 leader 1 nextIndex[0]: 175  matchIndex[0]: 174
term 28 leader 1 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
term 28 leader 1 nextIndex[2]: 168  matchIndex[2]: 167
term 28 leader 1 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 28
------------------------------------------------------
term 29 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
term 28 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 30 server 2 vote for server 1
term 30 server 0 vote for server 1
term 30 server 1 get vote from server 2
term 30 server 1 become leader
------------------------------------------------------
term 30 server 1 get outdate rpc reply from server 0
flag 8972 term 30 leader 1 nextIndex[0]: 176  matchIndex[0]: 0
term 30 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
flag 33600 term 30 leader 1 nextIndex[2]: 176  matchIndex[2]: 0
term 30 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
term 30 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 176->175
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {8080616516964523984 28 170} {6339969472266631339 28 171} {4280150576426692973 28 172} {5817706459104717528 28 173} {1769506701051727225 28 174} {3410025547704943471 28 175}]
------------------------------------------------------
flag 41091 term 30 leader 1 nextIndex[0]: 176  matchIndex[0]: 175
term 30 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
term 30 leader 1 nextIndex[2]: 168  matchIndex[2]: 0
term 30 leader 1 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 28
------------------------------------------------------
term 30 server 2 InstallSnapshot success
------------------------------------------------------
term 30 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 170 matchIndex[2] 169 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 169 rf.lastIncludedTerm 28 rf.commitIndex 169 rf.lastApplied 169
term 30 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {8080616516964523984 28 170} {6339969472266631339 28 171} {4280150576426692973 28 172} {5817706459104717528 28 173} {1769506701051727225 28 174} {3410025547704943471 28 175}]
------------------------------------------------------
flag 73875 term 30 leader 1 nextIndex[0]: 176  matchIndex[0]: 175
term 30 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
flag 14949 term 30 leader 1 nextIndex[2]: 170  matchIndex[2]: 169
term 30 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {8080616516964523984 28 170} {6339969472266631339 28 171} {4280150576426692973 28 172} {5817706459104717528 28 173} {1769506701051727225 28 174} {3410025547704943471 28 175}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {8080616516964523984 28 170} {6339969472266631339 28 171} {4280150576426692973 28 172} {5817706459104717528 28 173} {1769506701051727225 28 174} {3410025547704943471 28 175}]
------------------------------------------------------
flag 11451 term 30 leader 1 nextIndex[0]: 176  matchIndex[0]: 175
term 30 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
flag 18181 term 30 leader 1 nextIndex[2]: 176  matchIndex[2]: 175
term 30 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {8080616516964523984 28 170} {6339969472266631339 28 171} {4280150576426692973 28 172} {5817706459104717528 28 173} {1769506701051727225 28 174} {3410025547704943471 28 175}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {8080616516964523984 28 170} {6339969472266631339 28 171} {4280150576426692973 28 172} {5817706459104717528 28 173} {1769506701051727225 28 174} {3410025547704943471 28 175}]
------------------------------------------------------
flag 77215 term 30 leader 1 nextIndex[0]: 176  matchIndex[0]: 175
term 30 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
flag 85681 term 30 leader 1 nextIndex[2]: 176  matchIndex[2]: 175
term 30 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {8080616516964523984 28 170} {6339969472266631339 28 171} {4280150576426692973 28 172} {5817706459104717528 28 173} {1769506701051727225 28 174} {3410025547704943471 28 175}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {8080616516964523984 28 170} {6339969472266631339 28 171} {4280150576426692973 28 172} {5817706459104717528 28 173} {1769506701051727225 28 174} {3410025547704943471 28 175}]
------------------------------------------------------
flag 99547 term 30 leader 1 nextIndex[0]: 176  matchIndex[0]: 175
term 30 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
flag 38009 term 30 leader 1 nextIndex[2]: 176  matchIndex[2]: 175
term 30 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {8080616516964523984 28 170} {6339969472266631339 28 171} {4280150576426692973 28 172} {5817706459104717528 28 173} {1769506701051727225 28 174} {3410025547704943471 28 175}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {8080616516964523984 28 170} {6339969472266631339 28 171} {4280150576426692973 28 172} {5817706459104717528 28 173} {1769506701051727225 28 174} {3410025547704943471 28 175}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84723 term 30 leader 1 nextIndex[0]: 176  matchIndex[0]: 175
term 30 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
flag 65655 term 30 leader 1 nextIndex[2]: 176  matchIndex[2]: 175
term 30 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {8080616516964523984 28 170} {6339969472266631339 28 171} {4280150576426692973 28 172} {5817706459104717528 28 173} {1769506701051727225 28 174} {3410025547704943471 28 175}]
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {8080616516964523984 28 170} {6339969472266631339 28 171} {4280150576426692973 28 172} {5817706459104717528 28 173} {1769506701051727225 28 174} {3410025547704943471 28 175}]
------------------------------------------------------
flag 55068 term 30 leader 1 nextIndex[0]: 176  matchIndex[0]: 175
term 30 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
flag 55411 term 30 leader 1 nextIndex[2]: 176  matchIndex[2]: 175
term 30 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {8080616516964523984 28 170} {6339969472266631339 28 171} {4280150576426692973 28 172} {5817706459104717528 28 173} {1769506701051727225 28 174} {3410025547704943471 28 175}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {8080616516964523984 28 170} {6339969472266631339 28 171} {4280150576426692973 28 172} {5817706459104717528 28 173} {1769506701051727225 28 174} {3410025547704943471 28 175}]
------------------------------------------------------
flag 53696 term 30 leader 1 nextIndex[0]: 176  matchIndex[0]: 175
term 30 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
flag 29587 term 30 leader 1 nextIndex[2]: 176  matchIndex[2]: 175
term 30 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {8080616516964523984 28 170} {6339969472266631339 28 171} {4280150576426692973 28 172} {5817706459104717528 28 173} {1769506701051727225 28 174} {3410025547704943471 28 175}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {8080616516964523984 28 170} {6339969472266631339 28 171} {4280150576426692973 28 172} {5817706459104717528 28 173} {1769506701051727225 28 174} {3410025547704943471 28 175}]
------------------------------------------------------
flag 37199 term 30 leader 1 nextIndex[0]: 176  matchIndex[0]: 175
term 30 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
flag 10631 term 30 leader 1 nextIndex[2]: 176  matchIndex[2]: 175
term 30 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {8080616516964523984 28 170} {6339969472266631339 28 171} {4280150576426692973 28 172} {5817706459104717528 28 173} {1769506701051727225 28 174} {3410025547704943471 28 175}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {8080616516964523984 28 170} {6339969472266631339 28 171} {4280150576426692973 28 172} {5817706459104717528 28 173} {1769506701051727225 28 174} {3410025547704943471 28 175}]
------------------------------------------------------
flag 2528 term 30 leader 1 nextIndex[0]: 176  matchIndex[0]: 175
term 30 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
flag 77975 term 30 leader 1 nextIndex[2]: 176  matchIndex[2]: 175
term 30 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {8080616516964523984 28 170} {6339969472266631339 28 171} {4280150576426692973 28 172} {5817706459104717528 28 173} {1769506701051727225 28 174} {3410025547704943471 28 175}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {8080616516964523984 28 170} {6339969472266631339 28 171} {4280150576426692973 28 172} {5817706459104717528 28 173} {1769506701051727225 28 174} {3410025547704943471 28 175}]
------------------------------------------------------
flag 68618 term 30 leader 1 nextIndex[0]: 176  matchIndex[0]: 175
term 30 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
flag 88414 term 30 leader 1 nextIndex[2]: 176  matchIndex[2]: 175
term 30 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {8080616516964523984 28 170} {6339969472266631339 28 171} {4280150576426692973 28 172} {5817706459104717528 28 173} {1769506701051727225 28 174} {3410025547704943471 28 175}]
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {8080616516964523984 28 170} {6339969472266631339 28 171} {4280150576426692973 28 172} {5817706459104717528 28 173} {1769506701051727225 28 174} {3410025547704943471 28 175}]
------------------------------------------------------
flag 15361 term 30 leader 1 nextIndex[0]: 176  matchIndex[0]: 175
term 30 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
flag 68425 term 30 leader 1 nextIndex[2]: 176  matchIndex[2]: 175
term 30 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {8080616516964523984 28 170} {6339969472266631339 28 171} {4280150576426692973 28 172} {5817706459104717528 28 173} {1769506701051727225 28 174} {3410025547704943471 28 175}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {8080616516964523984 28 170} {6339969472266631339 28 171} {4280150576426692973 28 172} {5817706459104717528 28 173} {1769506701051727225 28 174} {3410025547704943471 28 175}]
------------------------------------------------------
flag 90401 term 30 leader 1 nextIndex[0]: 176  matchIndex[0]: 175
term 30 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
flag 72767 term 30 leader 1 nextIndex[2]: 176  matchIndex[2]: 175
term 30 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {8080616516964523984 28 170} {6339969472266631339 28 171} {4280150576426692973 28 172} {5817706459104717528 28 173} {1769506701051727225 28 174} {3410025547704943471 28 175}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {8080616516964523984 28 170} {6339969472266631339 28 171} {4280150576426692973 28 172} {5817706459104717528 28 173} {1769506701051727225 28 174} {3410025547704943471 28 175}]
------------------------------------------------------
term 30 server 0 not vote for server 2, 任期不够新
term 30 server 2 get outdate rpc reply from server 0
flag 95857 term 30 leader 1 nextIndex[0]: 176  matchIndex[0]: 175
term 30 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
flag 7878 term 30 leader 1 nextIndex[2]: 176  matchIndex[2]: 175
term 30 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {8080616516964523984 28 170} {6339969472266631339 28 171} {4280150576426692973 28 172} {5817706459104717528 28 173} {1769506701051727225 28 174} {3410025547704943471 28 175}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {8080616516964523984 28 170} {6339969472266631339 28 171} {4280150576426692973 28 172} {5817706459104717528 28 173} {1769506701051727225 28 174} {3410025547704943471 28 175}]
------------------------------------------------------
flag 18719 term 30 leader 1 nextIndex[0]: 176  matchIndex[0]: 175
term 30 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
flag 37024 term 30 leader 1 nextIndex[2]: 176  matchIndex[2]: 175
term 30 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {8080616516964523984 28 170} {6339969472266631339 28 171} {4280150576426692973 28 172} {5817706459104717528 28 173} {1769506701051727225 28 174} {3410025547704943471 28 175}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {8080616516964523984 28 170} {6339969472266631339 28 171} {4280150576426692973 28 172} {5817706459104717528 28 173} {1769506701051727225 28 174} {3410025547704943471 28 175}]
------------------------------------------------------
flag 42290 term 30 leader 1 nextIndex[0]: 176  matchIndex[0]: 175
term 30 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
flag 40079 term 30 leader 1 nextIndex[2]: 176  matchIndex[2]: 175
term 30 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {8080616516964523984 28 170} {6339969472266631339 28 171} {4280150576426692973 28 172} {5817706459104717528 28 173} {1769506701051727225 28 174} {3410025547704943471 28 175}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {8080616516964523984 28 170} {6339969472266631339 28 171} {4280150576426692973 28 172} {5817706459104717528 28 173} {1769506701051727225 28 174} {3410025547704943471 28 175}]
------------------------------------------------------
flag 59574 term 30 leader 1 nextIndex[0]: 176  matchIndex[0]: 175
term 30 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
flag 25251 term 30 leader 1 nextIndex[2]: 176  matchIndex[2]: 175
term 30 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {8080616516964523984 28 170} {6339969472266631339 28 171} {4280150576426692973 28 172} {5817706459104717528 28 173} {1769506701051727225 28 174} {3410025547704943471 28 175}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {8080616516964523984 28 170} {6339969472266631339 28 171} {4280150576426692973 28 172} {5817706459104717528 28 173} {1769506701051727225 28 174} {3410025547704943471 28 175}]
------------------------------------------------------
flag 80149 term 30 leader 1 nextIndex[0]: 176  matchIndex[0]: 175
term 30 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
flag 471 term 30 leader 1 nextIndex[2]: 176  matchIndex[2]: 175
term 30 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {8080616516964523984 28 170} {6339969472266631339 28 171} {4280150576426692973 28 172} {5817706459104717528 28 173} {1769506701051727225 28 174} {3410025547704943471 28 175}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {8080616516964523984 28 170} {6339969472266631339 28 171} {4280150576426692973 28 172} {5817706459104717528 28 173} {1769506701051727225 28 174} {3410025547704943471 28 175}]
------------------------------------------------------
client write log 3410025547704943471 (index 176) to leader 1
term 30 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2383 term 30 leader 1 nextIndex[0]: 176  matchIndex[0]: 175
term 30 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
flag 68631 term 30 leader 1 nextIndex[2]: 176  matchIndex[2]: 175
term 30 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {8080616516964523984 28 170} {6339969472266631339 28 171} {4280150576426692973 28 172} {5817706459104717528 28 173} {1769506701051727225 28 174} {3410025547704943471 28 175} {3410025547704943471 30 176}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {8080616516964523984 28 170} {6339969472266631339 28 171} {4280150576426692973 28 172} {5817706459104717528 28 173} {1769506701051727225 28 174} {3410025547704943471 28 175} {3410025547704943471 30 176}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5235 term 30 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 30 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
flag 21483 term 30 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 30 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {8080616516964523984 28 170} {6339969472266631339 28 171} {4280150576426692973 28 172} {5817706459104717528 28 173} {1769506701051727225 28 174} {3410025547704943471 28 175} {3410025547704943471 30 176}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {8080616516964523984 28 170} {6339969472266631339 28 171} {4280150576426692973 28 172} {5817706459104717528 28 173} {1769506701051727225 28 174} {3410025547704943471 28 175} {3410025547704943471 30 176}]
------------------------------------------------------
flag 89981 term 30 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 30 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
flag 70147 term 30 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 30 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {8080616516964523984 28 170} {6339969472266631339 28 171} {4280150576426692973 28 172} {5817706459104717528 28 173} {1769506701051727225 28 174} {3410025547704943471 28 175} {3410025547704943471 30 176}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {8080616516964523984 28 170} {6339969472266631339 28 171} {4280150576426692973 28 172} {5817706459104717528 28 173} {1769506701051727225 28 174} {3410025547704943471 28 175} {3410025547704943471 30 176}]
------------------------------------------------------
flag 33179 term 30 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 30 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
flag 43112 term 30 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 30 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {8080616516964523984 28 170} {6339969472266631339 28 171} {4280150576426692973 28 172} {5817706459104717528 28 173} {1769506701051727225 28 174} {3410025547704943471 28 175} {3410025547704943471 30 176}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {8080616516964523984 28 170} {6339969472266631339 28 171} {4280150576426692973 28 172} {5817706459104717528 28 173} {1769506701051727225 28 174} {3410025547704943471 28 175} {3410025547704943471 30 176}]
------------------------------------------------------
flag 56503 term 30 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 30 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
flag 62425 term 30 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 30 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {8080616516964523984 28 170} {6339969472266631339 28 171} {4280150576426692973 28 172} {5817706459104717528 28 173} {1769506701051727225 28 174} {3410025547704943471 28 175} {3410025547704943471 30 176}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {8080616516964523984 28 170} {6339969472266631339 28 171} {4280150576426692973 28 172} {5817706459104717528 28 173} {1769506701051727225 28 174} {3410025547704943471 28 175} {3410025547704943471 30 176}]
------------------------------------------------------
flag 33110 term 30 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 30 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
flag 25912 term 30 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 30 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {8080616516964523984 28 170} {6339969472266631339 28 171} {4280150576426692973 28 172} {5817706459104717528 28 173} {1769506701051727225 28 174} {3410025547704943471 28 175} {3410025547704943471 30 176}]
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {8080616516964523984 28 170} {6339969472266631339 28 171} {4280150576426692973 28 172} {5817706459104717528 28 173} {1769506701051727225 28 174} {3410025547704943471 28 175} {3410025547704943471 30 176}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52267 term 30 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 30 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
flag 72823 term 30 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 30 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {8080616516964523984 28 170} {6339969472266631339 28 171} {4280150576426692973 28 172} {5817706459104717528 28 173} {1769506701051727225 28 174} {3410025547704943471 28 175} {3410025547704943471 30 176}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {8080616516964523984 28 170} {6339969472266631339 28 171} {4280150576426692973 28 172} {5817706459104717528 28 173} {1769506701051727225 28 174} {3410025547704943471 28 175} {3410025547704943471 30 176}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 56146 term 30 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 30 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
flag 80077 term 30 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 30 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
term 30 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 77916 term 30 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 30 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
flag 45831 term 30 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 30 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
flag 78313 term 30 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 30 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
flag 46165 term 30 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 30 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
term 31 server 2 vote for server 0
term 31 server 0 get vote from server 2
term 31 server 0 become leader
------------------------------------------------------
flag 28279 term 31 leader 0 nextIndex[1]: 177  matchIndex[1]: 0
term 31 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
flag 99446 term 31 leader 0 nextIndex[2]: 177  matchIndex[2]: 0
term 31 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {8080616516964523984 28 170} {6339969472266631339 28 171} {4280150576426692973 28 172} {5817706459104717528 28 173} {1769506701051727225 28 174} {3410025547704943471 28 175} {3410025547704943471 30 176}]
------------------------------------------------------
flag 95716 term 30 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 30 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
flag 69313 term 30 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 30 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
client write log 6212396420238641342 (index 177) to leader 0
flag 29029 term 31 leader 0 nextIndex[1]: 177  matchIndex[1]: 0
term 31 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
flag 64768 term 31 leader 0 nextIndex[2]: 177  matchIndex[2]: 176
term 31 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=178
update matchIndex[2]=177
update leader CommitIndex=177
leader log:
[{snapshot 28 169} {8080616516964523984 28 170} {6339969472266631339 28 171} {4280150576426692973 28 172} {5817706459104717528 28 173} {1769506701051727225 28 174} {3410025547704943471 28 175} {3410025547704943471 30 176} {6212396420238641342 31 177}]
------------------------------------------------------
flag 47424 term 30 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 30 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
flag 18477 term 30 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 30 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
flag 79494 term 31 leader 0 nextIndex[1]: 177  matchIndex[1]: 0
term 31 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 177 
------------------------------------------------------
flag 32702 term 31 leader 0 nextIndex[2]: 178  matchIndex[2]: 177
term 31 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 31 leaderCommit: 177 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=178
update matchIndex[2]=177
update leader CommitIndex=177
leader log:
[{snapshot 28 169} {8080616516964523984 28 170} {6339969472266631339 28 171} {4280150576426692973 28 172} {5817706459104717528 28 173} {1769506701051727225 28 174} {3410025547704943471 28 175} {3410025547704943471 30 176} {6212396420238641342 31 177}]
------------------------------------------------------
client write log 680353469326727660 (index 178) to leader 0
flag 4035 term 30 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 30 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
flag 63566 term 30 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 30 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
flag 1289 term 31 leader 0 nextIndex[1]: 177  matchIndex[1]: 0
term 31 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 177 
------------------------------------------------------
flag 40520 term 31 leader 0 nextIndex[2]: 178  matchIndex[2]: 177
term 31 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 31 leaderCommit: 177 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {8080616516964523984 28 170} {6339969472266631339 28 171} {4280150576426692973 28 172} {5817706459104717528 28 173} {1769506701051727225 28 174} {3410025547704943471 28 175} {3410025547704943471 30 176} {6212396420238641342 31 177} {680353469326727660 31 178}]
------------------------------------------------------
flag 42002 term 30 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 30 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
flag 22258 term 30 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 30 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
flag 92767 term 31 leader 0 nextIndex[1]: 177  matchIndex[1]: 0
term 31 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 178 
------------------------------------------------------
flag 40617 term 31 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {8080616516964523984 28 170} {6339969472266631339 28 171} {4280150576426692973 28 172} {5817706459104717528 28 173} {1769506701051727225 28 174} {3410025547704943471 28 175} {3410025547704943471 30 176} {6212396420238641342 31 177} {680353469326727660 31 178}]
------------------------------------------------------
!!!!!!connect server 1
client write log 5305771179629008299 (index 177) to leader 1
flag 7819 term 30 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 30 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
flag 49611 term 30 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 30 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
term 31 server 2 AppendEntries false 领导者任期过期 args.Term 30
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 31 server 0 AppendEntries false 领导者任期过期 args.Term 30
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39042 term 31 leader 0 nextIndex[1]: 177  matchIndex[1]: 0
term 31 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 178 
------------------------------------------------------
flag 20032 term 31 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:178 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {8080616516964523984 28 170} {6339969472266631339 28 171} {4280150576426692973 28 172} {5817706459104717528 28 173} {1769506701051727225 28 174} {3410025547704943471 28 175} {3410025547704943471 30 176} {6212396420238641342 31 177} {680353469326727660 31 178}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {8080616516964523984 28 170} {6339969472266631339 28 171} {4280150576426692973 28 172} {5817706459104717528 28 173} {1769506701051727225 28 174} {3410025547704943471 28 175} {3410025547704943471 30 176} {6212396420238641342 31 177} {680353469326727660 31 178}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21989 term 31 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
flag 59675 term 31 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {8080616516964523984 28 170} {6339969472266631339 28 171} {4280150576426692973 28 172} {5817706459104717528 28 173} {1769506701051727225 28 174} {3410025547704943471 28 175} {3410025547704943471 30 176} {6212396420238641342 31 177} {680353469326727660 31 178}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {8080616516964523984 28 170} {6339969472266631339 28 171} {4280150576426692973 28 172} {5817706459104717528 28 173} {1769506701051727225 28 174} {3410025547704943471 28 175} {3410025547704943471 30 176} {6212396420238641342 31 177} {680353469326727660 31 178}]
------------------------------------------------------
flag 21093 term 31 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
flag 3147 term 31 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {8080616516964523984 28 170} {6339969472266631339 28 171} {4280150576426692973 28 172} {5817706459104717528 28 173} {1769506701051727225 28 174} {3410025547704943471 28 175} {3410025547704943471 30 176} {6212396420238641342 31 177} {680353469326727660 31 178}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {8080616516964523984 28 170} {6339969472266631339 28 171} {4280150576426692973 28 172} {5817706459104717528 28 173} {1769506701051727225 28 174} {3410025547704943471 28 175} {3410025547704943471 30 176} {6212396420238641342 31 177} {680353469326727660 31 178}]
------------------------------------------------------
flag 23264 term 31 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
flag 37513 term 31 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
term 31 server 2 AppendEntries true commitIndex:178 
------------------------------------------------------
[{snapshot 28 169} {8080616516964523984 28 170} {6339969472266631339 28 171} {4280150576426692973 28 172} {5817706459104717528 28 173} {1769506701051727225 28 174} {3410025547704943471 28 175} {3410025547704943471 30 176} {6212396420238641342 31 177} {680353469326727660 31 178}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {8080616516964523984 28 170} {6339969472266631339 28 171} {4280150576426692973 28 172} {5817706459104717528 28 173} {1769506701051727225 28 174} {3410025547704943471 28 175} {3410025547704943471 30 176} {6212396420238641342 31 177} {680353469326727660 31 178}]
------------------------------------------------------
flag 28821 term 31 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
flag 32334 term 31 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:178 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {8080616516964523984 28 170} {6339969472266631339 28 171} {4280150576426692973 28 172} {5817706459104717528 28 173} {1769506701051727225 28 174} {3410025547704943471 28 175} {3410025547704943471 30 176} {6212396420238641342 31 177} {680353469326727660 31 178}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {8080616516964523984 28 170} {6339969472266631339 28 171} {4280150576426692973 28 172} {5817706459104717528 28 173} {1769506701051727225 28 174} {3410025547704943471 28 175} {3410025547704943471 30 176} {6212396420238641342 31 177} {680353469326727660 31 178}]
------------------------------------------------------
flag 97838 term 31 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
flag 43902 term 31 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:178 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {8080616516964523984 28 170} {6339969472266631339 28 171} {4280150576426692973 28 172} {5817706459104717528 28 173} {1769506701051727225 28 174} {3410025547704943471 28 175} {3410025547704943471 30 176} {6212396420238641342 31 177} {680353469326727660 31 178}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {8080616516964523984 28 170} {6339969472266631339 28 171} {4280150576426692973 28 172} {5817706459104717528 28 173} {1769506701051727225 28 174} {3410025547704943471 28 175} {3410025547704943471 30 176} {6212396420238641342 31 177} {680353469326727660 31 178}]
------------------------------------------------------
flag 85964 term 31 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
flag 16254 term 31 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:178 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {8080616516964523984 28 170} {6339969472266631339 28 171} {4280150576426692973 28 172} {5817706459104717528 28 173} {1769506701051727225 28 174} {3410025547704943471 28 175} {3410025547704943471 30 176} {6212396420238641342 31 177} {680353469326727660 31 178}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {8080616516964523984 28 170} {6339969472266631339 28 171} {4280150576426692973 28 172} {5817706459104717528 28 173} {1769506701051727225 28 174} {3410025547704943471 28 175} {3410025547704943471 30 176} {6212396420238641342 31 177} {680353469326727660 31 178}]
------------------------------------------------------
flag 77085 term 31 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
flag 40237 term 31 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {8080616516964523984 28 170} {6339969472266631339 28 171} {4280150576426692973 28 172} {5817706459104717528 28 173} {1769506701051727225 28 174} {3410025547704943471 28 175} {3410025547704943471 30 176} {6212396420238641342 31 177} {680353469326727660 31 178}]
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {8080616516964523984 28 170} {6339969472266631339 28 171} {4280150576426692973 28 172} {5817706459104717528 28 173} {1769506701051727225 28 174} {3410025547704943471 28 175} {3410025547704943471 30 176} {6212396420238641342 31 177} {680353469326727660 31 178}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75334 term 31 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
flag 10057 term 31 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {8080616516964523984 28 170} {6339969472266631339 28 171} {4280150576426692973 28 172} {5817706459104717528 28 173} {1769506701051727225 28 174} {3410025547704943471 28 175} {3410025547704943471 30 176} {6212396420238641342 31 177} {680353469326727660 31 178}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {8080616516964523984 28 170} {6339969472266631339 28 171} {4280150576426692973 28 172} {5817706459104717528 28 173} {1769506701051727225 28 174} {3410025547704943471 28 175} {3410025547704943471 30 176} {6212396420238641342 31 177} {680353469326727660 31 178}]
------------------------------------------------------
flag 4562 term 31 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
flag 20396 term 31 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {8080616516964523984 28 170} {6339969472266631339 28 171} {4280150576426692973 28 172} {5817706459104717528 28 173} {1769506701051727225 28 174} {3410025547704943471 28 175} {3410025547704943471 30 176} {6212396420238641342 31 177} {680353469326727660 31 178}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {8080616516964523984 28 170} {6339969472266631339 28 171} {4280150576426692973 28 172} {5817706459104717528 28 173} {1769506701051727225 28 174} {3410025547704943471 28 175} {3410025547704943471 30 176} {6212396420238641342 31 177} {680353469326727660 31 178}]
------------------------------------------------------
flag 45292 term 31 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
flag 38313 term 31 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {8080616516964523984 28 170} {6339969472266631339 28 171} {4280150576426692973 28 172} {5817706459104717528 28 173} {1769506701051727225 28 174} {3410025547704943471 28 175} {3410025547704943471 30 176} {6212396420238641342 31 177} {680353469326727660 31 178}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {8080616516964523984 28 170} {6339969472266631339 28 171} {4280150576426692973 28 172} {5817706459104717528 28 173} {1769506701051727225 28 174} {3410025547704943471 28 175} {3410025547704943471 30 176} {6212396420238641342 31 177} {680353469326727660 31 178}]
------------------------------------------------------
flag 46734 term 31 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
flag 2394 term 31 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {8080616516964523984 28 170} {6339969472266631339 28 171} {4280150576426692973 28 172} {5817706459104717528 28 173} {1769506701051727225 28 174} {3410025547704943471 28 175} {3410025547704943471 30 176} {6212396420238641342 31 177} {680353469326727660 31 178}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {8080616516964523984 28 170} {6339969472266631339 28 171} {4280150576426692973 28 172} {5817706459104717528 28 173} {1769506701051727225 28 174} {3410025547704943471 28 175} {3410025547704943471 30 176} {6212396420238641342 31 177} {680353469326727660 31 178}]
------------------------------------------------------
flag 76869 term 31 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
flag 59993 term 31 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:178 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {8080616516964523984 28 170} {6339969472266631339 28 171} {4280150576426692973 28 172} {5817706459104717528 28 173} {1769506701051727225 28 174} {3410025547704943471 28 175} {3410025547704943471 30 176} {6212396420238641342 31 177} {680353469326727660 31 178}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {8080616516964523984 28 170} {6339969472266631339 28 171} {4280150576426692973 28 172} {5817706459104717528 28 173} {1769506701051727225 28 174} {3410025547704943471 28 175} {3410025547704943471 30 176} {6212396420238641342 31 177} {680353469326727660 31 178}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71775 term 31 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
flag 33058 term 31 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:178 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {8080616516964523984 28 170} {6339969472266631339 28 171} {4280150576426692973 28 172} {5817706459104717528 28 173} {1769506701051727225 28 174} {3410025547704943471 28 175} {3410025547704943471 30 176} {6212396420238641342 31 177} {680353469326727660 31 178}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {8080616516964523984 28 170} {6339969472266631339 28 171} {4280150576426692973 28 172} {5817706459104717528 28 173} {1769506701051727225 28 174} {3410025547704943471 28 175} {3410025547704943471 30 176} {6212396420238641342 31 177} {680353469326727660 31 178}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94977 term 31 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
flag 52310 term 31 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:178 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {8080616516964523984 28 170} {6339969472266631339 28 171} {4280150576426692973 28 172} {5817706459104717528 28 173} {1769506701051727225 28 174} {3410025547704943471 28 175} {3410025547704943471 30 176} {6212396420238641342 31 177} {680353469326727660 31 178}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {8080616516964523984 28 170} {6339969472266631339 28 171} {4280150576426692973 28 172} {5817706459104717528 28 173} {1769506701051727225 28 174} {3410025547704943471 28 175} {3410025547704943471 30 176} {6212396420238641342 31 177} {680353469326727660 31 178}]
------------------------------------------------------
flag 90151 term 31 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
flag 92439 term 31 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {8080616516964523984 28 170} {6339969472266631339 28 171} {4280150576426692973 28 172} {5817706459104717528 28 173} {1769506701051727225 28 174} {3410025547704943471 28 175} {3410025547704943471 30 176} {6212396420238641342 31 177} {680353469326727660 31 178}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {8080616516964523984 28 170} {6339969472266631339 28 171} {4280150576426692973 28 172} {5817706459104717528 28 173} {1769506701051727225 28 174} {3410025547704943471 28 175} {3410025547704943471 30 176} {6212396420238641342 31 177} {680353469326727660 31 178}]
------------------------------------------------------
flag 79059 term 31 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
flag 47559 term 31 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {8080616516964523984 28 170} {6339969472266631339 28 171} {4280150576426692973 28 172} {5817706459104717528 28 173} {1769506701051727225 28 174} {3410025547704943471 28 175} {3410025547704943471 30 176} {6212396420238641342 31 177} {680353469326727660 31 178}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {8080616516964523984 28 170} {6339969472266631339 28 171} {4280150576426692973 28 172} {5817706459104717528 28 173} {1769506701051727225 28 174} {3410025547704943471 28 175} {3410025547704943471 30 176} {6212396420238641342 31 177} {680353469326727660 31 178}]
------------------------------------------------------
term 31 server 1 not vote for server 2, 任期不够新
term 31 server 2 get outdate rpc reply from server 1
flag 58071 term 31 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
flag 62712 term 31 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {8080616516964523984 28 170} {6339969472266631339 28 171} {4280150576426692973 28 172} {5817706459104717528 28 173} {1769506701051727225 28 174} {3410025547704943471 28 175} {3410025547704943471 30 176} {6212396420238641342 31 177} {680353469326727660 31 178}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {8080616516964523984 28 170} {6339969472266631339 28 171} {4280150576426692973 28 172} {5817706459104717528 28 173} {1769506701051727225 28 174} {3410025547704943471 28 175} {3410025547704943471 30 176} {6212396420238641342 31 177} {680353469326727660 31 178}]
------------------------------------------------------
flag 36010 term 31 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
flag 81590 term 31 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {8080616516964523984 28 170} {6339969472266631339 28 171} {4280150576426692973 28 172} {5817706459104717528 28 173} {1769506701051727225 28 174} {3410025547704943471 28 175} {3410025547704943471 30 176} {6212396420238641342 31 177} {680353469326727660 31 178}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {8080616516964523984 28 170} {6339969472266631339 28 171} {4280150576426692973 28 172} {5817706459104717528 28 173} {1769506701051727225 28 174} {3410025547704943471 28 175} {3410025547704943471 30 176} {6212396420238641342 31 177} {680353469326727660 31 178}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6927 term 31 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
flag 90855 term 31 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:178 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {8080616516964523984 28 170} {6339969472266631339 28 171} {4280150576426692973 28 172} {5817706459104717528 28 173} {1769506701051727225 28 174} {3410025547704943471 28 175} {3410025547704943471 30 176} {6212396420238641342 31 177} {680353469326727660 31 178}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {8080616516964523984 28 170} {6339969472266631339 28 171} {4280150576426692973 28 172} {5817706459104717528 28 173} {1769506701051727225 28 174} {3410025547704943471 28 175} {3410025547704943471 30 176} {6212396420238641342 31 177} {680353469326727660 31 178}]
------------------------------------------------------
client write log 5305771179629008299 (index 179) to leader 0
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 179->178
------------------------------------------------------
term 31 leader 0 nextIndex[1]: 0  matchIndex[1]: 178
term 31 leader 0 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 28
------------------------------------------------------
flag 83243 term 31 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=180
update matchIndex[2]=179
update leader CommitIndex=179
leader log:
[{snapshot 28 169} {8080616516964523984 28 170} {6339969472266631339 28 171} {4280150576426692973 28 172} {5817706459104717528 28 173} {1769506701051727225 28 174} {3410025547704943471 28 175} {3410025547704943471 30 176} {6212396420238641342 31 177} {680353469326727660 31 178} {5305771179629008299 31 179}]
------------------------------------------------------
term 31 server 1 InstallSnapshot fail
rf.commitIndex 178 args.LastIncludedIndex 169
------------------------------------------------------
term 31 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 170 matchIndex[1] 169 
------------------------------------------------------------------------
term 31 Server0 start snapshot! index=179
term 31 server0 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=179
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 31 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 31 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 31
------------------------------------------------------
flag 11775 term 31 leader 0 nextIndex[2]: 180  matchIndex[2]: 179
term 31 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 31 leaderCommit: 179 
------------------------------------------------------
term 31 server 1 InstallSnapshot success
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 179 rf.lastIncludedTerm 31 rf.commitIndex 179 rf.lastApplied 179
term 31 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 180 matchIndex[1] 179 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=180
update matchIndex[2]=179
update leader CommitIndex=179
leader log:
[{snapshot 31 179}]
------------------------------------------------------
term 31 Server2 start snapshot! index=179
term 31 server2 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=179
-------------------------------------------------------------
flag 21513 term 31 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 31 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 31 leaderCommit: 179 
------------------------------------------------------
flag 91227 term 31 leader 0 nextIndex[2]: 180  matchIndex[2]: 179
term 31 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 31 leaderCommit: 179 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=179
leader log:
[{snapshot 31 179}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=180
update matchIndex[2]=179
update leader CommitIndex=179
leader log:
[{snapshot 31 179}]
------------------------------------------------------
flag 2444 term 31 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 31 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 31 leaderCommit: 179 
------------------------------------------------------
flag 40645 term 31 leader 0 nextIndex[2]: 180  matchIndex[2]: 179
term 31 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 31 leaderCommit: 179 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=179
leader log:
[{snapshot 31 179}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=180
update matchIndex[2]=179
update leader CommitIndex=179
leader log:
[{snapshot 31 179}]
------------------------------------------------------
term 31 server 1 not vote for server 0, 日志不够新
term 31 server 0 get outdate rpc reply from server 1
flag 40030 term 31 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 31 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 31 leaderCommit: 179 
------------------------------------------------------
flag 66488 term 31 leader 0 nextIndex[2]: 180  matchIndex[2]: 179
term 31 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 31 leaderCommit: 179 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=179
leader log:
[{snapshot 31 179}]
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=180
update matchIndex[2]=179
update leader CommitIndex=179
leader log:
[{snapshot 31 179}]
------------------------------------------------------
flag 69038 term 31 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 31 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 31 leaderCommit: 179 
------------------------------------------------------
flag 635 term 31 leader 0 nextIndex[2]: 180  matchIndex[2]: 179
term 31 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 31 leaderCommit: 179 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=180
update matchIndex[2]=179
update leader CommitIndex=179
leader log:
[{snapshot 31 179}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=179
leader log:
[{snapshot 31 179}]
------------------------------------------------------
flag 45438 term 31 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 31 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 31 leaderCommit: 179 
------------------------------------------------------
flag 99708 term 31 leader 0 nextIndex[2]: 180  matchIndex[2]: 179
term 31 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 31 leaderCommit: 179 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=180
update matchIndex[2]=179
update leader CommitIndex=179
leader log:
[{snapshot 31 179}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=179
leader log:
[{snapshot 31 179}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 1536998519951425494 (index 180) to leader 0
flag 33568 term 31 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 31 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 31 leaderCommit: 179 
------------------------------------------------------
flag 57359 term 31 leader 0 nextIndex[2]: 180  matchIndex[2]: 179
term 31 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 31 leaderCommit: 179 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=181
update matchIndex[2]=180
update leader CommitIndex=180
leader log:
[{snapshot 31 179} {1536998519951425494 31 180}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 31 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 33170 term 31 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 31 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 31 leaderCommit: 180 
------------------------------------------------------
flag 73934 term 31 leader 0 nextIndex[2]: 181  matchIndex[2]: 180
term 31 leader 0 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 31 leaderCommit: 180 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=181
update matchIndex[2]=180
update leader CommitIndex=180
leader log:
[{snapshot 31 179} {1536998519951425494 31 180}]
------------------------------------------------------
client write log 1842072832401081931 (index 181) to leader 0
client write log 7215574694969065214 (index 182) to leader 0
client write log 4307926445569413033 (index 183) to leader 0
client write log 5038347862523247629 (index 184) to leader 0
client write log 8929494840867737740 (index 185) to leader 0
client write log 1402869577123978783 (index 186) to leader 0
client write log 7849716640932621666 (index 187) to leader 0
client write log 6456552301785196413 (index 188) to leader 0
client write log 6376240242152202864 (index 189) to leader 0
client write log 1266179489736001179 (index 190) to leader 0
client write log 884584146428509100 (index 191) to leader 0
client write log 4764912141743930491 (index 192) to leader 0
client write log 1250618008476835999 (index 193) to leader 0
client write log 4618365887129009611 (index 194) to leader 0
client write log 154443770081247334 (index 195) to leader 0
flag 83986 term 31 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 31 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 31 leaderCommit: 180 
------------------------------------------------------
flag 95089 term 31 leader 0 nextIndex[2]: 181  matchIndex[2]: 180
term 31 leader 0 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 31 leaderCommit: 180 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=196
update matchIndex[2]=195
update leader CommitIndex=195
leader log:
[{snapshot 31 179} {1536998519951425494 31 180} {1842072832401081931 31 181} {7215574694969065214 31 182} {4307926445569413033 31 183} {5038347862523247629 31 184} {8929494840867737740 31 185} {1402869577123978783 31 186} {7849716640932621666 31 187} {6456552301785196413 31 188} {6376240242152202864 31 189} {1266179489736001179 31 190} {884584146428509100 31 191} {4764912141743930491 31 192} {1250618008476835999 31 193} {4618365887129009611 31 194} {154443770081247334 31 195}]
------------------------------------------------------
term 31 Server0 start snapshot! index=189
term 31 server0 snapshot success
lastIncludedIndex=189 lastApplied=190 lastIndex=195
-------------------------------------------------------------
term 31 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 31 leader 0 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 31
------------------------------------------------------
flag 37058 term 31 leader 0 nextIndex[2]: 196  matchIndex[2]: 195
term 31 leader 0 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=196
update matchIndex[2]=195
update leader CommitIndex=195
leader log:
[{snapshot 31 189} {1266179489736001179 31 190} {884584146428509100 31 191} {4764912141743930491 31 192} {1250618008476835999 31 193} {4618365887129009611 31 194} {154443770081247334 31 195}]
------------------------------------------------------
term 31 Server2 start snapshot! index=189
term 31 server2 snapshot success
lastIncludedIndex=189 lastApplied=190 lastIndex=195
-------------------------------------------------------------
!!!!!!connect server 1
client write log 5513900366061866414 (index 196) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 31 server 2 not vote for server 1, 日志不够新
term 31 server 0 not vote for server 1, 日志不够新
term 33 server 2 vote for server 0
term 33 server 1 vote for server 0
term 33 server 0 get vote from server 2
term 33 server 0 become leader
------------------------------------------------------
term 33 server 0 get outdate rpc reply from server 1
flag 45649 term 33 leader 0 nextIndex[1]: 197  matchIndex[1]: 0
term 33 leader 0 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
flag 34546 term 33 leader 0 nextIndex[2]: 197  matchIndex[2]: 0
term 33 leader 0 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
term 33 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 197->196
------------------------------------------------------
term 33 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 197->196
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 33 leader 0 nextIndex[1]: 180  matchIndex[1]: 0
term 33 leader 0 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 31
------------------------------------------------------
flag 90814 term 33 leader 0 nextIndex[2]: 196  matchIndex[2]: 0
term 33 leader 0 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
term 33 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 189 rf.lastIncludedTerm 31 rf.commitIndex 189 rf.lastApplied 189
update leader CommitIndex=195
leader log:
[{snapshot 31 189} {1266179489736001179 31 190} {884584146428509100 31 191} {4764912141743930491 31 192} {1250618008476835999 31 193} {4618365887129009611 31 194} {154443770081247334 31 195} {5513900366061866414 31 196}]
------------------------------------------------------
term 33 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 190 matchIndex[1] 189 
------------------------------------------------------------------------
flag 31464 term 33 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 33 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
flag 72435 term 33 leader 0 nextIndex[2]: 197  matchIndex[2]: 196
term 33 leader 0 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=197
update matchIndex[1]=196
update leader CommitIndex=195
leader log:
[{snapshot 31 189} {1266179489736001179 31 190} {884584146428509100 31 191} {4764912141743930491 31 192} {1250618008476835999 31 193} {4618365887129009611 31 194} {154443770081247334 31 195} {5513900366061866414 31 196}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
[{snapshot 31 189} {1266179489736001179 31 190} {884584146428509100 31 191} {4764912141743930491 31 192} {1250618008476835999 31 193} {4618365887129009611 31 194} {154443770081247334 31 195} {5513900366061866414 31 196}]
------------------------------------------------------
flag 30252 term 33 leader 0 nextIndex[1]: 197  matchIndex[1]: 196
term 33 leader 0 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
flag 66105 term 33 leader 0 nextIndex[2]: 197  matchIndex[2]: 196
term 33 leader 0 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
[{snapshot 31 189} {1266179489736001179 31 190} {884584146428509100 31 191} {4764912141743930491 31 192} {1250618008476835999 31 193} {4618365887129009611 31 194} {154443770081247334 31 195} {5513900366061866414 31 196}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=197
update matchIndex[1]=196
update leader CommitIndex=195
leader log:
[{snapshot 31 189} {1266179489736001179 31 190} {884584146428509100 31 191} {4764912141743930491 31 192} {1250618008476835999 31 193} {4618365887129009611 31 194} {154443770081247334 31 195} {5513900366061866414 31 196}]
------------------------------------------------------
flag 3970 term 33 leader 0 nextIndex[1]: 197  matchIndex[1]: 196
term 33 leader 0 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
flag 69139 term 33 leader 0 nextIndex[2]: 197  matchIndex[2]: 196
term 33 leader 0 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:195 
term 33 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
[{snapshot 31 189} {1266179489736001179 31 190} {884584146428509100 31 191} {4764912141743930491 31 192} {1250618008476835999 31 193} {4618365887129009611 31 194} {154443770081247334 31 195} {5513900366061866414 31 196}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=197
update matchIndex[1]=196
update leader CommitIndex=195
leader log:
[{snapshot 31 189} {1266179489736001179 31 190} {884584146428509100 31 191} {4764912141743930491 31 192} {1250618008476835999 31 193} {4618365887129009611 31 194} {154443770081247334 31 195} {5513900366061866414 31 196}]
------------------------------------------------------
flag 69763 term 33 leader 0 nextIndex[1]: 197  matchIndex[1]: 196
term 33 leader 0 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
flag 66201 term 33 leader 0 nextIndex[2]: 197  matchIndex[2]: 196
term 33 leader 0 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
[{snapshot 31 189} {1266179489736001179 31 190} {884584146428509100 31 191} {4764912141743930491 31 192} {1250618008476835999 31 193} {4618365887129009611 31 194} {154443770081247334 31 195} {5513900366061866414 31 196}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=197
update matchIndex[1]=196
update leader CommitIndex=195
leader log:
[{snapshot 31 189} {1266179489736001179 31 190} {884584146428509100 31 191} {4764912141743930491 31 192} {1250618008476835999 31 193} {4618365887129009611 31 194} {154443770081247334 31 195} {5513900366061866414 31 196}]
------------------------------------------------------
flag 39688 term 33 leader 0 nextIndex[1]: 197  matchIndex[1]: 196
term 33 leader 0 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
flag 48548 term 33 leader 0 nextIndex[2]: 197  matchIndex[2]: 196
term 33 leader 0 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
[{snapshot 31 189} {1266179489736001179 31 190} {884584146428509100 31 191} {4764912141743930491 31 192} {1250618008476835999 31 193} {4618365887129009611 31 194} {154443770081247334 31 195} {5513900366061866414 31 196}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=197
update matchIndex[1]=196
update leader CommitIndex=195
leader log:
[{snapshot 31 189} {1266179489736001179 31 190} {884584146428509100 31 191} {4764912141743930491 31 192} {1250618008476835999 31 193} {4618365887129009611 31 194} {154443770081247334 31 195} {5513900366061866414 31 196}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15517 term 33 leader 0 nextIndex[1]: 197  matchIndex[1]: 196
term 33 leader 0 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
flag 24681 term 33 leader 0 nextIndex[2]: 197  matchIndex[2]: 196
term 33 leader 0 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
[{snapshot 31 189} {1266179489736001179 31 190} {884584146428509100 31 191} {4764912141743930491 31 192} {1250618008476835999 31 193} {4618365887129009611 31 194} {154443770081247334 31 195} {5513900366061866414 31 196}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=197
update matchIndex[1]=196
update leader CommitIndex=195
leader log:
[{snapshot 31 189} {1266179489736001179 31 190} {884584146428509100 31 191} {4764912141743930491 31 192} {1250618008476835999 31 193} {4618365887129009611 31 194} {154443770081247334 31 195} {5513900366061866414 31 196}]
------------------------------------------------------
flag 13646 term 33 leader 0 nextIndex[1]: 197  matchIndex[1]: 196
term 33 leader 0 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
flag 3580 term 33 leader 0 nextIndex[2]: 197  matchIndex[2]: 196
term 33 leader 0 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
[{snapshot 31 189} {1266179489736001179 31 190} {884584146428509100 31 191} {4764912141743930491 31 192} {1250618008476835999 31 193} {4618365887129009611 31 194} {154443770081247334 31 195} {5513900366061866414 31 196}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=197
update matchIndex[1]=196
update leader CommitIndex=195
leader log:
[{snapshot 31 189} {1266179489736001179 31 190} {884584146428509100 31 191} {4764912141743930491 31 192} {1250618008476835999 31 193} {4618365887129009611 31 194} {154443770081247334 31 195} {5513900366061866414 31 196}]
------------------------------------------------------
flag 67454 term 33 leader 0 nextIndex[1]: 197  matchIndex[1]: 196
term 33 leader 0 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
flag 86670 term 33 leader 0 nextIndex[2]: 197  matchIndex[2]: 196
term 33 leader 0 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
[{snapshot 31 189} {1266179489736001179 31 190} {884584146428509100 31 191} {4764912141743930491 31 192} {1250618008476835999 31 193} {4618365887129009611 31 194} {154443770081247334 31 195} {5513900366061866414 31 196}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=197
update matchIndex[1]=196
update leader CommitIndex=195
leader log:
[{snapshot 31 189} {1266179489736001179 31 190} {884584146428509100 31 191} {4764912141743930491 31 192} {1250618008476835999 31 193} {4618365887129009611 31 194} {154443770081247334 31 195} {5513900366061866414 31 196}]
------------------------------------------------------
flag 95313 term 33 leader 0 nextIndex[1]: 197  matchIndex[1]: 196
term 33 leader 0 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
flag 63215 term 33 leader 0 nextIndex[2]: 197  matchIndex[2]: 196
term 33 leader 0 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:195 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=197
update matchIndex[1]=196
update leader CommitIndex=195
leader log:
[{snapshot 31 189} {1266179489736001179 31 190} {884584146428509100 31 191} {4764912141743930491 31 192} {1250618008476835999 31 193} {4618365887129009611 31 194} {154443770081247334 31 195} {5513900366061866414 31 196}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
[{snapshot 31 189} {1266179489736001179 31 190} {884584146428509100 31 191} {4764912141743930491 31 192} {1250618008476835999 31 193} {4618365887129009611 31 194} {154443770081247334 31 195} {5513900366061866414 31 196}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64148 term 33 leader 0 nextIndex[1]: 197  matchIndex[1]: 196
term 33 leader 0 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
flag 10956 term 33 leader 0 nextIndex[2]: 197  matchIndex[2]: 196
term 33 leader 0 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:195 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=197
update matchIndex[1]=196
update leader CommitIndex=195
leader log:
[{snapshot 31 189} {1266179489736001179 31 190} {884584146428509100 31 191} {4764912141743930491 31 192} {1250618008476835999 31 193} {4618365887129009611 31 194} {154443770081247334 31 195} {5513900366061866414 31 196}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
[{snapshot 31 189} {1266179489736001179 31 190} {884584146428509100 31 191} {4764912141743930491 31 192} {1250618008476835999 31 193} {4618365887129009611 31 194} {154443770081247334 31 195} {5513900366061866414 31 196}]
------------------------------------------------------
flag 5738 term 33 leader 0 nextIndex[1]: 197  matchIndex[1]: 196
term 33 leader 0 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
flag 81846 term 33 leader 0 nextIndex[2]: 197  matchIndex[2]: 196
term 33 leader 0 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
[{snapshot 31 189} {1266179489736001179 31 190} {884584146428509100 31 191} {4764912141743930491 31 192} {1250618008476835999 31 193} {4618365887129009611 31 194} {154443770081247334 31 195} {5513900366061866414 31 196}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=197
update matchIndex[1]=196
update leader CommitIndex=195
leader log:
[{snapshot 31 189} {1266179489736001179 31 190} {884584146428509100 31 191} {4764912141743930491 31 192} {1250618008476835999 31 193} {4618365887129009611 31 194} {154443770081247334 31 195} {5513900366061866414 31 196}]
------------------------------------------------------
flag 30732 term 33 leader 0 nextIndex[1]: 197  matchIndex[1]: 196
term 33 leader 0 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
flag 43641 term 33 leader 0 nextIndex[2]: 197  matchIndex[2]: 196
term 33 leader 0 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:195 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=197
update matchIndex[1]=196
update leader CommitIndex=195
leader log:
[{snapshot 31 189} {1266179489736001179 31 190} {884584146428509100 31 191} {4764912141743930491 31 192} {1250618008476835999 31 193} {4618365887129009611 31 194} {154443770081247334 31 195} {5513900366061866414 31 196}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
[{snapshot 31 189} {1266179489736001179 31 190} {884584146428509100 31 191} {4764912141743930491 31 192} {1250618008476835999 31 193} {4618365887129009611 31 194} {154443770081247334 31 195} {5513900366061866414 31 196}]
------------------------------------------------------
flag 16396 term 33 leader 0 nextIndex[1]: 197  matchIndex[1]: 196
term 33 leader 0 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
flag 52268 term 33 leader 0 nextIndex[2]: 197  matchIndex[2]: 196
term 33 leader 0 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
[{snapshot 31 189} {1266179489736001179 31 190} {884584146428509100 31 191} {4764912141743930491 31 192} {1250618008476835999 31 193} {4618365887129009611 31 194} {154443770081247334 31 195} {5513900366061866414 31 196}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=197
update matchIndex[1]=196
update leader CommitIndex=195
leader log:
[{snapshot 31 189} {1266179489736001179 31 190} {884584146428509100 31 191} {4764912141743930491 31 192} {1250618008476835999 31 193} {4618365887129009611 31 194} {154443770081247334 31 195} {5513900366061866414 31 196}]
------------------------------------------------------
flag 40769 term 33 leader 0 nextIndex[1]: 197  matchIndex[1]: 196
term 33 leader 0 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
flag 99317 term 33 leader 0 nextIndex[2]: 197  matchIndex[2]: 196
term 33 leader 0 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
[{snapshot 31 189} {1266179489736001179 31 190} {884584146428509100 31 191} {4764912141743930491 31 192} {1250618008476835999 31 193} {4618365887129009611 31 194} {154443770081247334 31 195} {5513900366061866414 31 196}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=197
update matchIndex[1]=196
update leader CommitIndex=195
leader log:
[{snapshot 31 189} {1266179489736001179 31 190} {884584146428509100 31 191} {4764912141743930491 31 192} {1250618008476835999 31 193} {4618365887129009611 31 194} {154443770081247334 31 195} {5513900366061866414 31 196}]
------------------------------------------------------
flag 89610 term 33 leader 0 nextIndex[1]: 197  matchIndex[1]: 196
term 33 leader 0 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
flag 3974 term 33 leader 0 nextIndex[2]: 197  matchIndex[2]: 196
term 33 leader 0 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
[{snapshot 31 189} {1266179489736001179 31 190} {884584146428509100 31 191} {4764912141743930491 31 192} {1250618008476835999 31 193} {4618365887129009611 31 194} {154443770081247334 31 195} {5513900366061866414 31 196}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=197
update matchIndex[1]=196
update leader CommitIndex=195
leader log:
[{snapshot 31 189} {1266179489736001179 31 190} {884584146428509100 31 191} {4764912141743930491 31 192} {1250618008476835999 31 193} {4618365887129009611 31 194} {154443770081247334 31 195} {5513900366061866414 31 196}]
------------------------------------------------------
flag 22168 term 33 leader 0 nextIndex[1]: 197  matchIndex[1]: 196
term 33 leader 0 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
flag 92326 term 33 leader 0 nextIndex[2]: 197  matchIndex[2]: 196
term 33 leader 0 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
[{snapshot 31 189} {1266179489736001179 31 190} {884584146428509100 31 191} {4764912141743930491 31 192} {1250618008476835999 31 193} {4618365887129009611 31 194} {154443770081247334 31 195} {5513900366061866414 31 196}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=197
update matchIndex[1]=196
update leader CommitIndex=195
leader log:
[{snapshot 31 189} {1266179489736001179 31 190} {884584146428509100 31 191} {4764912141743930491 31 192} {1250618008476835999 31 193} {4618365887129009611 31 194} {154443770081247334 31 195} {5513900366061866414 31 196}]
------------------------------------------------------
flag 59849 term 33 leader 0 nextIndex[1]: 197  matchIndex[1]: 196
term 33 leader 0 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
flag 48847 term 33 leader 0 nextIndex[2]: 197  matchIndex[2]: 196
term 33 leader 0 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:195 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=197
update matchIndex[2]=196
update leader CommitIndex=195
leader log:
[{snapshot 31 189} {1266179489736001179 31 190} {884584146428509100 31 191} {4764912141743930491 31 192} {1250618008476835999 31 193} {4618365887129009611 31 194} {154443770081247334 31 195} {5513900366061866414 31 196}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=197
update matchIndex[1]=196
update leader CommitIndex=195
leader log:
[{snapshot 31 189} {1266179489736001179 31 190} {884584146428509100 31 191} {4764912141743930491 31 192} {1250618008476835999 31 193} {4618365887129009611 31 194} {154443770081247334 31 195} {5513900366061866414 31 196}]
------------------------------------------------------
client write log 5513900366061866414 (index 197) to leader 0
flag 34683 term 33 leader 0 nextIndex[1]: 197  matchIndex[1]: 196
term 33 leader 0 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
flag 43187 term 33 leader 0 nextIndex[2]: 197  matchIndex[2]: 196
term 33 leader 0 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 31 leaderCommit: 195 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:195 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=197
leader log:
[{snapshot 31 189} {1266179489736001179 31 190} {884584146428509100 31 191} {4764912141743930491 31 192} {1250618008476835999 31 193} {4618365887129009611 31 194} {154443770081247334 31 195} {5513900366061866414 31 196} {5513900366061866414 33 197}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=198
update matchIndex[1]=197
update leader CommitIndex=197
leader log:
[{snapshot 31 189} {1266179489736001179 31 190} {884584146428509100 31 191} {4764912141743930491 31 192} {1250618008476835999 31 193} {4618365887129009611 31 194} {154443770081247334 31 195} {5513900366061866414 31 196} {5513900366061866414 33 197}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1824 term 33 leader 0 nextIndex[1]: 198  matchIndex[1]: 197
term 33 leader 0 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 33 leaderCommit: 197 
------------------------------------------------------
flag 79350 term 33 leader 0 nextIndex[2]: 198  matchIndex[2]: 197
term 33 leader 0 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 33 leaderCommit: 197 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:197 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=197
leader log:
[{snapshot 31 189} {1266179489736001179 31 190} {884584146428509100 31 191} {4764912141743930491 31 192} {1250618008476835999 31 193} {4618365887129009611 31 194} {154443770081247334 31 195} {5513900366061866414 31 196} {5513900366061866414 33 197}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=198
update matchIndex[1]=197
update leader CommitIndex=197
leader log:
[{snapshot 31 189} {1266179489736001179 31 190} {884584146428509100 31 191} {4764912141743930491 31 192} {1250618008476835999 31 193} {4618365887129009611 31 194} {154443770081247334 31 195} {5513900366061866414 31 196} {5513900366061866414 33 197}]
------------------------------------------------------
flag 30392 term 33 leader 0 nextIndex[1]: 198  matchIndex[1]: 197
term 33 leader 0 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 33 leaderCommit: 197 
------------------------------------------------------
flag 59732 term 33 leader 0 nextIndex[2]: 198  matchIndex[2]: 197
term 33 leader 0 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 33 leaderCommit: 197 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:197 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=198
update matchIndex[1]=197
update leader CommitIndex=197
leader log:
[{snapshot 31 189} {1266179489736001179 31 190} {884584146428509100 31 191} {4764912141743930491 31 192} {1250618008476835999 31 193} {4618365887129009611 31 194} {154443770081247334 31 195} {5513900366061866414 31 196} {5513900366061866414 33 197}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=197
leader log:
[{snapshot 31 189} {1266179489736001179 31 190} {884584146428509100 31 191} {4764912141743930491 31 192} {1250618008476835999 31 193} {4618365887129009611 31 194} {154443770081247334 31 195} {5513900366061866414 31 196} {5513900366061866414 33 197}]
------------------------------------------------------
flag 37487 term 33 leader 0 nextIndex[1]: 198  matchIndex[1]: 197
term 33 leader 0 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 33 leaderCommit: 197 
------------------------------------------------------
flag 35450 term 33 leader 0 nextIndex[2]: 198  matchIndex[2]: 197
term 33 leader 0 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 33 leaderCommit: 197 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=197
leader log:
[{snapshot 31 189} {1266179489736001179 31 190} {884584146428509100 31 191} {4764912141743930491 31 192} {1250618008476835999 31 193} {4618365887129009611 31 194} {154443770081247334 31 195} {5513900366061866414 31 196} {5513900366061866414 33 197}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=198
update matchIndex[1]=197
update leader CommitIndex=197
leader log:
[{snapshot 31 189} {1266179489736001179 31 190} {884584146428509100 31 191} {4764912141743930491 31 192} {1250618008476835999 31 193} {4618365887129009611 31 194} {154443770081247334 31 195} {5513900366061866414 31 196} {5513900366061866414 33 197}]
------------------------------------------------------
flag 34450 term 33 leader 0 nextIndex[1]: 198  matchIndex[1]: 197
term 33 leader 0 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 33 leaderCommit: 197 
------------------------------------------------------
flag 50674 term 33 leader 0 nextIndex[2]: 198  matchIndex[2]: 197
term 33 leader 0 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 33 leaderCommit: 197 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:197 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=198
update matchIndex[1]=197
update leader CommitIndex=197
leader log:
[{snapshot 31 189} {1266179489736001179 31 190} {884584146428509100 31 191} {4764912141743930491 31 192} {1250618008476835999 31 193} {4618365887129009611 31 194} {154443770081247334 31 195} {5513900366061866414 31 196} {5513900366061866414 33 197}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=197
leader log:
[{snapshot 31 189} {1266179489736001179 31 190} {884584146428509100 31 191} {4764912141743930491 31 192} {1250618008476835999 31 193} {4618365887129009611 31 194} {154443770081247334 31 195} {5513900366061866414 31 196} {5513900366061866414 33 197}]
------------------------------------------------------
flag 68527 term 33 leader 0 nextIndex[1]: 198  matchIndex[1]: 197
term 33 leader 0 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 33 leaderCommit: 197 
------------------------------------------------------
flag 62052 term 33 leader 0 nextIndex[2]: 198  matchIndex[2]: 197
term 33 leader 0 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 33 leaderCommit: 197 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=198
update matchIndex[1]=197
update leader CommitIndex=197
leader log:
[{snapshot 31 189} {1266179489736001179 31 190} {884584146428509100 31 191} {4764912141743930491 31 192} {1250618008476835999 31 193} {4618365887129009611 31 194} {154443770081247334 31 195} {5513900366061866414 31 196} {5513900366061866414 33 197}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=197
leader log:
[{snapshot 31 189} {1266179489736001179 31 190} {884584146428509100 31 191} {4764912141743930491 31 192} {1250618008476835999 31 193} {4618365887129009611 31 194} {154443770081247334 31 195} {5513900366061866414 31 196} {5513900366061866414 33 197}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 156571155012733195 (index 198) to leader 0
flag 81671 term 33 leader 0 nextIndex[1]: 198  matchIndex[1]: 197
term 33 leader 0 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 33 leaderCommit: 197 
------------------------------------------------------
flag 85731 term 33 leader 0 nextIndex[2]: 198  matchIndex[2]: 197
term 33 leader 0 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 33 leaderCommit: 197 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=199
update matchIndex[2]=198
update leader CommitIndex=198
leader log:
[{snapshot 31 189} {1266179489736001179 31 190} {884584146428509100 31 191} {4764912141743930491 31 192} {1250618008476835999 31 193} {4618365887129009611 31 194} {154443770081247334 31 195} {5513900366061866414 31 196} {5513900366061866414 33 197} {156571155012733195 33 198}]
------------------------------------------------------
flag 48124 term 33 leader 0 nextIndex[1]: 198  matchIndex[1]: 197
term 33 leader 0 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 33 leaderCommit: 198 
------------------------------------------------------
flag 97462 term 33 leader 0 nextIndex[2]: 199  matchIndex[2]: 198
term 33 leader 0 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 33 leaderCommit: 198 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=199
update matchIndex[2]=198
update leader CommitIndex=198
leader log:
[{snapshot 31 189} {1266179489736001179 31 190} {884584146428509100 31 191} {4764912141743930491 31 192} {1250618008476835999 31 193} {4618365887129009611 31 194} {154443770081247334 31 195} {5513900366061866414 31 196} {5513900366061866414 33 197} {156571155012733195 33 198}]
------------------------------------------------------
client write log 784564721222018055 (index 199) to leader 0
client write log 5330119575304652909 (index 200) to leader 0
client write log 628543810715954367 (index 201) to leader 0
client write log 3556896619973420698 (index 202) to leader 0
client write log 1678346496501215293 (index 203) to leader 0
client write log 6634706722922572612 (index 204) to leader 0
client write log 7826468923765222814 (index 205) to leader 0
client write log 6558969850602663923 (index 206) to leader 0
client write log 4692463420063189983 (index 207) to leader 0
client write log 6437501114347317813 (index 208) to leader 0
client write log 6167329950700774615 (index 209) to leader 0
client write log 6561577932410883771 (index 210) to leader 0
client write log 7074730758386256648 (index 211) to leader 0
client write log 5147281820997004998 (index 212) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14676 term 33 leader 0 nextIndex[1]: 198  matchIndex[1]: 197
term 33 leader 0 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 33 leaderCommit: 198 
------------------------------------------------------
flag 93118 term 33 leader 0 nextIndex[2]: 199  matchIndex[2]: 198
term 33 leader 0 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 33 leaderCommit: 198 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=212
leader log:
[{snapshot 31 189} {1266179489736001179 31 190} {884584146428509100 31 191} {4764912141743930491 31 192} {1250618008476835999 31 193} {4618365887129009611 31 194} {154443770081247334 31 195} {5513900366061866414 31 196} {5513900366061866414 33 197} {156571155012733195 33 198} {784564721222018055 33 199} {5330119575304652909 33 200} {628543810715954367 33 201} {3556896619973420698 33 202} {1678346496501215293 33 203} {6634706722922572612 33 204} {7826468923765222814 33 205} {6558969850602663923 33 206} {4692463420063189983 33 207} {6437501114347317813 33 208} {6167329950700774615 33 209} {6561577932410883771 33 210} {7074730758386256648 33 211} {5147281820997004998 33 212}]
------------------------------------------------------
term 33 Server0 start snapshot! index=199
term 33 server0 snapshot success
lastIncludedIndex=199 lastApplied=200 lastIndex=212
-------------------------------------------------------------
term 33 Server0 start snapshot! index=209
term 33 server0 snapshot success
lastIncludedIndex=209 lastApplied=210 lastIndex=212
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 33 leader 0 nextIndex[1]: 198  matchIndex[1]: 197
term 33 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 33
------------------------------------------------------
flag 53001 term 33 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=212
leader log:
[{snapshot 33 209} {6561577932410883771 33 210} {7074730758386256648 33 211} {5147281820997004998 33 212}]
------------------------------------------------------
term 33 Server2 start snapshot! index=199
term 33 server2 snapshot success
lastIncludedIndex=199 lastApplied=200 lastIndex=212
-------------------------------------------------------------
term 33 Server2 start snapshot! index=209
term 33 server2 snapshot success
lastIncludedIndex=209 lastApplied=210 lastIndex=212
-------------------------------------------------------------
!!!!!!connect server 1
client write log 8759405169783406436 (index 213) to leader 0
term 33 server 2 not vote for server 1, 日志不够新
term 33 server 0 not vote for server 1, 日志不够新
term 35 server 2 vote for server 0
term 35 server 1 vote for server 0
term 35 server 0 get vote from server 2
term 35 server 0 become leader
------------------------------------------------------
term 35 server 0 get outdate rpc reply from server 1
flag 46148 term 35 leader 0 nextIndex[1]: 214  matchIndex[1]: 0
term 35 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
flag 99120 term 35 leader 0 nextIndex[2]: 214  matchIndex[2]: 0
term 35 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
term 35 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 214->213
------------------------------------------------------
term 35 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 214->213
------------------------------------------------------
term 35 leader 0 nextIndex[1]: 198  matchIndex[1]: 0
term 35 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 33
------------------------------------------------------
flag 78371 term 35 leader 0 nextIndex[2]: 213  matchIndex[2]: 0
term 35 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=212
leader log:
[{snapshot 33 209} {6561577932410883771 33 210} {7074730758386256648 33 211} {5147281820997004998 33 212} {8759405169783406436 33 213}]
------------------------------------------------------
term 35 server 1 InstallSnapshot success
------------------------------------------------------
term 35 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 210 matchIndex[1] 209 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 209 rf.lastIncludedTerm 33 rf.commitIndex 209 rf.lastApplied 209
flag 29735 term 35 leader 0 nextIndex[1]: 210  matchIndex[1]: 209
term 35 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
flag 1427 term 35 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 35 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=212
leader log:
[{snapshot 33 209} {6561577932410883771 33 210} {7074730758386256648 33 211} {5147281820997004998 33 212} {8759405169783406436 33 213}]
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=212
leader log:
[{snapshot 33 209} {6561577932410883771 33 210} {7074730758386256648 33 211} {5147281820997004998 33 212} {8759405169783406436 33 213}]
------------------------------------------------------
flag 52755 term 35 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 35 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
flag 4820 term 35 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 35 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=212
leader log:
[{snapshot 33 209} {6561577932410883771 33 210} {7074730758386256648 33 211} {5147281820997004998 33 212} {8759405169783406436 33 213}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=212
leader log:
[{snapshot 33 209} {6561577932410883771 33 210} {7074730758386256648 33 211} {5147281820997004998 33 212} {8759405169783406436 33 213}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18476 term 35 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 35 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
flag 10410 term 35 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 35 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=212
leader log:
[{snapshot 33 209} {6561577932410883771 33 210} {7074730758386256648 33 211} {5147281820997004998 33 212} {8759405169783406436 33 213}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=212
leader log:
[{snapshot 33 209} {6561577932410883771 33 210} {7074730758386256648 33 211} {5147281820997004998 33 212} {8759405169783406436 33 213}]
------------------------------------------------------
flag 22617 term 35 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 35 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
flag 48369 term 35 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 35 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=212
leader log:
[{snapshot 33 209} {6561577932410883771 33 210} {7074730758386256648 33 211} {5147281820997004998 33 212} {8759405169783406436 33 213}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=212
leader log:
[{snapshot 33 209} {6561577932410883771 33 210} {7074730758386256648 33 211} {5147281820997004998 33 212} {8759405169783406436 33 213}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76018 term 35 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 35 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
flag 59054 term 35 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 35 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:212 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=212
leader log:
[{snapshot 33 209} {6561577932410883771 33 210} {7074730758386256648 33 211} {5147281820997004998 33 212} {8759405169783406436 33 213}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=212
leader log:
[{snapshot 33 209} {6561577932410883771 33 210} {7074730758386256648 33 211} {5147281820997004998 33 212} {8759405169783406436 33 213}]
------------------------------------------------------
flag 15388 term 35 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 35 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
flag 39755 term 35 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 35 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=212
leader log:
[{snapshot 33 209} {6561577932410883771 33 210} {7074730758386256648 33 211} {5147281820997004998 33 212} {8759405169783406436 33 213}]
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=212
leader log:
[{snapshot 33 209} {6561577932410883771 33 210} {7074730758386256648 33 211} {5147281820997004998 33 212} {8759405169783406436 33 213}]
------------------------------------------------------
flag 82342 term 35 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 35 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
flag 18202 term 35 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 35 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=212
leader log:
[{snapshot 33 209} {6561577932410883771 33 210} {7074730758386256648 33 211} {5147281820997004998 33 212} {8759405169783406436 33 213}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=212
leader log:
[{snapshot 33 209} {6561577932410883771 33 210} {7074730758386256648 33 211} {5147281820997004998 33 212} {8759405169783406436 33 213}]
------------------------------------------------------
flag 89660 term 35 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 35 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
flag 4375 term 35 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 35 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=212
leader log:
[{snapshot 33 209} {6561577932410883771 33 210} {7074730758386256648 33 211} {5147281820997004998 33 212} {8759405169783406436 33 213}]
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=212
leader log:
[{snapshot 33 209} {6561577932410883771 33 210} {7074730758386256648 33 211} {5147281820997004998 33 212} {8759405169783406436 33 213}]
------------------------------------------------------
flag 88717 term 35 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 35 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
flag 68810 term 35 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 35 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=212
leader log:
[{snapshot 33 209} {6561577932410883771 33 210} {7074730758386256648 33 211} {5147281820997004998 33 212} {8759405169783406436 33 213}]
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=212
leader log:
[{snapshot 33 209} {6561577932410883771 33 210} {7074730758386256648 33 211} {5147281820997004998 33 212} {8759405169783406436 33 213}]
------------------------------------------------------
flag 51287 term 35 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 35 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
flag 51620 term 35 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 35 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=212
leader log:
[{snapshot 33 209} {6561577932410883771 33 210} {7074730758386256648 33 211} {5147281820997004998 33 212} {8759405169783406436 33 213}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=212
leader log:
[{snapshot 33 209} {6561577932410883771 33 210} {7074730758386256648 33 211} {5147281820997004998 33 212} {8759405169783406436 33 213}]
------------------------------------------------------
flag 31375 term 35 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 35 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
flag 87550 term 35 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 35 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=212
leader log:
[{snapshot 33 209} {6561577932410883771 33 210} {7074730758386256648 33 211} {5147281820997004998 33 212} {8759405169783406436 33 213}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=212
leader log:
[{snapshot 33 209} {6561577932410883771 33 210} {7074730758386256648 33 211} {5147281820997004998 33 212} {8759405169783406436 33 213}]
------------------------------------------------------
flag 69360 term 35 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 35 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
flag 77510 term 35 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 35 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=212
leader log:
[{snapshot 33 209} {6561577932410883771 33 210} {7074730758386256648 33 211} {5147281820997004998 33 212} {8759405169783406436 33 213}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=212
leader log:
[{snapshot 33 209} {6561577932410883771 33 210} {7074730758386256648 33 211} {5147281820997004998 33 212} {8759405169783406436 33 213}]
------------------------------------------------------
flag 62288 term 35 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 35 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
flag 49866 term 35 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 35 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=212
leader log:
[{snapshot 33 209} {6561577932410883771 33 210} {7074730758386256648 33 211} {5147281820997004998 33 212} {8759405169783406436 33 213}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=212
leader log:
[{snapshot 33 209} {6561577932410883771 33 210} {7074730758386256648 33 211} {5147281820997004998 33 212} {8759405169783406436 33 213}]
------------------------------------------------------
flag 47506 term 35 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 35 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
flag 15816 term 35 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 35 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=212
leader log:
[{snapshot 33 209} {6561577932410883771 33 210} {7074730758386256648 33 211} {5147281820997004998 33 212} {8759405169783406436 33 213}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=212
leader log:
[{snapshot 33 209} {6561577932410883771 33 210} {7074730758386256648 33 211} {5147281820997004998 33 212} {8759405169783406436 33 213}]
------------------------------------------------------
flag 64653 term 35 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 35 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
flag 51528 term 35 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 35 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=212
leader log:
[{snapshot 33 209} {6561577932410883771 33 210} {7074730758386256648 33 211} {5147281820997004998 33 212} {8759405169783406436 33 213}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=212
leader log:
[{snapshot 33 209} {6561577932410883771 33 210} {7074730758386256648 33 211} {5147281820997004998 33 212} {8759405169783406436 33 213}]
------------------------------------------------------
term 35 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 51078 term 35 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 35 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
flag 94797 term 35 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 35 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=212
leader log:
[{snapshot 33 209} {6561577932410883771 33 210} {7074730758386256648 33 211} {5147281820997004998 33 212} {8759405169783406436 33 213}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=212
leader log:
[{snapshot 33 209} {6561577932410883771 33 210} {7074730758386256648 33 211} {5147281820997004998 33 212} {8759405169783406436 33 213}]
------------------------------------------------------
flag 79252 term 35 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 35 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
flag 27244 term 35 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 35 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:212 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=212
leader log:
[{snapshot 33 209} {6561577932410883771 33 210} {7074730758386256648 33 211} {5147281820997004998 33 212} {8759405169783406436 33 213}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=212
leader log:
[{snapshot 33 209} {6561577932410883771 33 210} {7074730758386256648 33 211} {5147281820997004998 33 212} {8759405169783406436 33 213}]
------------------------------------------------------
client write log 8759405169783406436 (index 214) to leader 0
flag 56860 term 35 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 35 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
flag 92447 term 35 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 35 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=215
update matchIndex[1]=214
update leader CommitIndex=214
leader log:
[{snapshot 33 209} {6561577932410883771 33 210} {7074730758386256648 33 211} {5147281820997004998 33 212} {8759405169783406436 33 213} {8759405169783406436 35 214}]
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=214
leader log:
[{snapshot 33 209} {6561577932410883771 33 210} {7074730758386256648 33 211} {5147281820997004998 33 212} {8759405169783406436 33 213} {8759405169783406436 35 214}]
------------------------------------------------------
flag 30193 term 35 leader 0 nextIndex[1]: 215  matchIndex[1]: 214
term 35 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 35 leaderCommit: 214 
------------------------------------------------------
flag 912 term 35 leader 0 nextIndex[2]: 215  matchIndex[2]: 214
term 35 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 35 leaderCommit: 214 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=214
leader log:
[{snapshot 33 209} {6561577932410883771 33 210} {7074730758386256648 33 211} {5147281820997004998 33 212} {8759405169783406436 33 213} {8759405169783406436 35 214}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=215
update matchIndex[1]=214
update leader CommitIndex=214
leader log:
[{snapshot 33 209} {6561577932410883771 33 210} {7074730758386256648 33 211} {5147281820997004998 33 212} {8759405169783406436 33 213} {8759405169783406436 35 214}]
------------------------------------------------------
flag 13564 term 35 leader 0 nextIndex[1]: 215  matchIndex[1]: 214
term 35 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 35 leaderCommit: 214 
------------------------------------------------------
flag 86825 term 35 leader 0 nextIndex[2]: 215  matchIndex[2]: 214
term 35 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 35 leaderCommit: 214 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:214 
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=215
update matchIndex[1]=214
update leader CommitIndex=214
leader log:
[{snapshot 33 209} {6561577932410883771 33 210} {7074730758386256648 33 211} {5147281820997004998 33 212} {8759405169783406436 33 213} {8759405169783406436 35 214}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=214
leader log:
[{snapshot 33 209} {6561577932410883771 33 210} {7074730758386256648 33 211} {5147281820997004998 33 212} {8759405169783406436 33 213} {8759405169783406436 35 214}]
------------------------------------------------------
flag 82097 term 35 leader 0 nextIndex[1]: 215  matchIndex[1]: 214
term 35 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 35 leaderCommit: 214 
------------------------------------------------------
flag 59455 term 35 leader 0 nextIndex[2]: 215  matchIndex[2]: 214
term 35 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 35 leaderCommit: 214 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=214
leader log:
[{snapshot 33 209} {6561577932410883771 33 210} {7074730758386256648 33 211} {5147281820997004998 33 212} {8759405169783406436 33 213} {8759405169783406436 35 214}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=215
update matchIndex[1]=214
update leader CommitIndex=214
leader log:
[{snapshot 33 209} {6561577932410883771 33 210} {7074730758386256648 33 211} {5147281820997004998 33 212} {8759405169783406436 33 213} {8759405169783406436 35 214}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10866 term 35 leader 0 nextIndex[1]: 215  matchIndex[1]: 214
term 35 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 35 leaderCommit: 214 
------------------------------------------------------
flag 56662 term 35 leader 0 nextIndex[2]: 215  matchIndex[2]: 214
term 35 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 35 leaderCommit: 214 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=214
leader log:
[{snapshot 33 209} {6561577932410883771 33 210} {7074730758386256648 33 211} {5147281820997004998 33 212} {8759405169783406436 33 213} {8759405169783406436 35 214}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=215
update matchIndex[1]=214
update leader CommitIndex=214
leader log:
[{snapshot 33 209} {6561577932410883771 33 210} {7074730758386256648 33 211} {5147281820997004998 33 212} {8759405169783406436 33 213} {8759405169783406436 35 214}]
------------------------------------------------------
flag 2555 term 35 leader 0 nextIndex[1]: 215  matchIndex[1]: 214
term 35 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 35 leaderCommit: 214 
------------------------------------------------------
flag 31502 term 35 leader 0 nextIndex[2]: 215  matchIndex[2]: 214
term 35 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 35 leaderCommit: 214 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=214
leader log:
[{snapshot 33 209} {6561577932410883771 33 210} {7074730758386256648 33 211} {5147281820997004998 33 212} {8759405169783406436 33 213} {8759405169783406436 35 214}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=215
update matchIndex[1]=214
update leader CommitIndex=214
leader log:
[{snapshot 33 209} {6561577932410883771 33 210} {7074730758386256648 33 211} {5147281820997004998 33 212} {8759405169783406436 33 213} {8759405169783406436 35 214}]
------------------------------------------------------
flag 56331 term 35 leader 0 nextIndex[1]: 215  matchIndex[1]: 214
term 35 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 35 leaderCommit: 214 
------------------------------------------------------
flag 74317 term 35 leader 0 nextIndex[2]: 215  matchIndex[2]: 214
term 35 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 35 leaderCommit: 214 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=214
leader log:
[{snapshot 33 209} {6561577932410883771 33 210} {7074730758386256648 33 211} {5147281820997004998 33 212} {8759405169783406436 33 213} {8759405169783406436 35 214}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=215
update matchIndex[1]=214
update leader CommitIndex=214
leader log:
[{snapshot 33 209} {6561577932410883771 33 210} {7074730758386256648 33 211} {5147281820997004998 33 212} {8759405169783406436 33 213} {8759405169783406436 35 214}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 63127 term 35 leader 0 nextIndex[1]: 215  matchIndex[1]: 214
term 35 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 35 leaderCommit: 214 
------------------------------------------------------
flag 47189 term 35 leader 0 nextIndex[2]: 215  matchIndex[2]: 214
term 35 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 35 leaderCommit: 214 
------------------------------------------------------
flag 33201 term 35 leader 0 nextIndex[1]: 215  matchIndex[1]: 214
term 35 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 35 leaderCommit: 214 
------------------------------------------------------
flag 82288 term 35 leader 0 nextIndex[2]: 215  matchIndex[2]: 214
term 35 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 35 leaderCommit: 214 
------------------------------------------------------
flag 89335 term 35 leader 0 nextIndex[1]: 215  matchIndex[1]: 214
term 35 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 35 leaderCommit: 214 
------------------------------------------------------
flag 13929 term 35 leader 0 nextIndex[2]: 215  matchIndex[2]: 214
term 35 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 35 leaderCommit: 214 
------------------------------------------------------
term 36 server 2 vote for server 1
term 36 server 1 get vote from server 2
term 36 server 1 become leader
------------------------------------------------------
flag 47232 term 36 leader 1 nextIndex[0]: 215  matchIndex[0]: 0
term 36 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 35 leaderCommit: 214 
------------------------------------------------------
flag 19695 term 36 leader 1 nextIndex[2]: 215  matchIndex[2]: 0
term 36 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 35 leaderCommit: 214 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=214
leader log:
[{snapshot 33 209} {6561577932410883771 33 210} {7074730758386256648 33 211} {5147281820997004998 33 212} {8759405169783406436 33 213} {8759405169783406436 35 214}]
------------------------------------------------------
client write log 2682286865610663380 (index 215) to leader 1
flag 47625 term 35 leader 0 nextIndex[1]: 215  matchIndex[1]: 214
term 35 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 35 leaderCommit: 214 
------------------------------------------------------
flag 30739 term 35 leader 0 nextIndex[2]: 215  matchIndex[2]: 214
term 35 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 35 leaderCommit: 214 
------------------------------------------------------
flag 13881 term 36 leader 1 nextIndex[0]: 215  matchIndex[0]: 0
term 36 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 35 leaderCommit: 214 
------------------------------------------------------
flag 76023 term 36 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 36 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 35 leaderCommit: 214 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=215
leader log:
[{snapshot 33 209} {6561577932410883771 33 210} {7074730758386256648 33 211} {5147281820997004998 33 212} {8759405169783406436 33 213} {8759405169783406436 35 214} {2682286865610663380 36 215}]
------------------------------------------------------
flag 30002 term 35 leader 0 nextIndex[1]: 215  matchIndex[1]: 214
term 35 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 35 leaderCommit: 214 
------------------------------------------------------
flag 2998 term 35 leader 0 nextIndex[2]: 215  matchIndex[2]: 214
term 35 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 35 leaderCommit: 214 
------------------------------------------------------
flag 13239 term 36 leader 1 nextIndex[0]: 215  matchIndex[0]: 0
term 36 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 35 leaderCommit: 215 
------------------------------------------------------
flag 32837 term 36 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 36 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=215
leader log:
[{snapshot 33 209} {6561577932410883771 33 210} {7074730758386256648 33 211} {5147281820997004998 33 212} {8759405169783406436 33 213} {8759405169783406436 35 214} {2682286865610663380 36 215}]
------------------------------------------------------
client write log 2826257630613506191 (index 216) to leader 1
client write log 6645233082007358381 (index 217) to leader 1
client write log 8669015564291365296 (index 218) to leader 1
client write log 8790418829067515279 (index 219) to leader 1
client write log 9023797016968304965 (index 220) to leader 1
client write log 6374280276496714631 (index 221) to leader 1
client write log 7748597730238532148 (index 222) to leader 1
client write log 6497710271767915909 (index 223) to leader 1
client write log 4368486888254384806 (index 224) to leader 1
client write log 5898563588006902109 (index 225) to leader 1
client write log 3435867628859329807 (index 226) to leader 1
client write log 5364000969465328523 (index 227) to leader 1
client write log 639020501039867888 (index 228) to leader 1
flag 18605 term 35 leader 0 nextIndex[1]: 215  matchIndex[1]: 214
term 35 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 35 leaderCommit: 214 
------------------------------------------------------
flag 85933 term 35 leader 0 nextIndex[2]: 215  matchIndex[2]: 214
term 35 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 35 leaderCommit: 214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 215->214
------------------------------------------------------
flag 16153 term 36 leader 1 nextIndex[0]: 215  matchIndex[0]: 0
term 36 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 35 leaderCommit: 215 
------------------------------------------------------
flag 59374 term 36 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 36 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=229
update matchIndex[2]=228
update leader CommitIndex=228
leader log:
[{snapshot 33 209} {6561577932410883771 33 210} {7074730758386256648 33 211} {5147281820997004998 33 212} {8759405169783406436 33 213} {8759405169783406436 35 214} {2682286865610663380 36 215} {2826257630613506191 36 216} {6645233082007358381 36 217} {8669015564291365296 36 218} {8790418829067515279 36 219} {9023797016968304965 36 220} {6374280276496714631 36 221} {7748597730238532148 36 222} {6497710271767915909 36 223} {4368486888254384806 36 224} {5898563588006902109 36 225} {3435867628859329807 36 226} {5364000969465328523 36 227} {639020501039867888 36 228}]
------------------------------------------------------
term 36 Server1 start snapshot! index=219
term 36 server1 snapshot success
lastIncludedIndex=219 lastApplied=220 lastIndex=228
-------------------------------------------------------------
term 35 leader 0 nextIndex[1]: 0  matchIndex[1]: 214
term 35 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 33
------------------------------------------------------
flag 87038 term 35 leader 0 nextIndex[2]: 215  matchIndex[2]: 214
term 35 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 35 leaderCommit: 214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 215->214
------------------------------------------------------
term 36 leader 1 nextIndex[0]: 215  matchIndex[0]: 0
term 36 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 36
------------------------------------------------------
flag 98039 term 36 leader 1 nextIndex[2]: 229  matchIndex[2]: 228
term 36 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=229
update matchIndex[2]=228
update leader CommitIndex=228
leader log:
[{snapshot 36 219} {9023797016968304965 36 220} {6374280276496714631 36 221} {7748597730238532148 36 222} {6497710271767915909 36 223} {4368486888254384806 36 224} {5898563588006902109 36 225} {3435867628859329807 36 226} {5364000969465328523 36 227} {639020501039867888 36 228}]
------------------------------------------------------
term 36 Server2 start snapshot! index=219
term 36 server2 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=228
-------------------------------------------------------------
!!!!!!connect server 0
client write log 2278420423809165711 (index 229) to leader 1
term 35 leader 0 nextIndex[1]: 0  matchIndex[1]: 214
term 35 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 33
------------------------------------------------------
term 35 leader 0 nextIndex[2]: 0  matchIndex[2]: 214
term 35 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 33
------------------------------------------------------
term 36 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 36 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 35 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 36 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 36 leader 1 nextIndex[0]: 215  matchIndex[0]: 0
term 36 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 36
------------------------------------------------------
flag 46337 term 36 leader 1 nextIndex[2]: 229  matchIndex[2]: 228
term 36 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=229
term 36 server 0 InstallSnapshot success
------------------------------------------------------
leader log:
[{snapshot 36 219} {9023797016968304965 36 220} {6374280276496714631 36 221} {7748597730238532148 36 222} {6497710271767915909 36 223} {4368486888254384806 36 224} {5898563588006902109 36 225} {3435867628859329807 36 226} {5364000969465328523 36 227} {639020501039867888 36 228} {2278420423809165711 36 229}]
------------------------------------------------------
term 36 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 220 matchIndex[0] 219 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 219 rf.lastIncludedTerm 36 rf.commitIndex 219 rf.lastApplied 219
term 36 Server1 start snapshot! index=229
term 36 server1 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=229
-------------------------------------------------------------
term 36 server 2 not vote for server 0, 日志不够新
term 36 server 1 not vote for server 0, 日志不够新
term 38 server 2 vote for server 1
term 38 server 1 get vote from server 2
term 38 server 1 become leader
------------------------------------------------------
term 38 server 0 vote for server 1
term 38 server 1 get outdate rpc reply from server 0
flag 13833 term 38 leader 1 nextIndex[0]: 230  matchIndex[0]: 0
term 38 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 36 leaderCommit: 229 
------------------------------------------------------
flag 31143 term 38 leader 1 nextIndex[2]: 230  matchIndex[2]: 0
term 38 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 36 leaderCommit: 229 
------------------------------------------------------
term 38 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 230->229
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=229
leader log:
[{snapshot 36 229}]
------------------------------------------------------
term 38 Server2 start snapshot! index=229
term 38 server2 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=229
-------------------------------------------------------------
term 38 leader 1 nextIndex[0]: 220  matchIndex[0]: 0
term 38 leader 1 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 36
------------------------------------------------------
flag 23629 term 38 leader 1 nextIndex[2]: 230  matchIndex[2]: 229
term 38 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 36 leaderCommit: 229 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=229
leader log:
term 38 server 0 InstallSnapshot success
------------------------------------------------------
[{snapshot 36 229}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 229 rf.lastIncludedTerm 36 rf.commitIndex 229 rf.lastApplied 229
term 38 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 230 matchIndex[0] 229 
------------------------------------------------------------------------
flag 11328 term 38 leader 1 nextIndex[0]: 230  matchIndex[0]: 229
term 38 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 36 leaderCommit: 229 
------------------------------------------------------
flag 250 term 38 leader 1 nextIndex[2]: 230  matchIndex[2]: 229
term 38 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 36 leaderCommit: 229 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=229
leader log:
[{snapshot 36 229}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=229
leader log:
[{snapshot 36 229}]
------------------------------------------------------
flag 66988 term 38 leader 1 nextIndex[0]: 230  matchIndex[0]: 229
term 38 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 36 leaderCommit: 229 
------------------------------------------------------
flag 92563 term 38 leader 1 nextIndex[2]: 230  matchIndex[2]: 229
term 38 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 36 leaderCommit: 229 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=229
leader log:
[{snapshot 36 229}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=229
leader log:
[{snapshot 36 229}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76630 term 38 leader 1 nextIndex[0]: 230  matchIndex[0]: 229
term 38 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 36 leaderCommit: 229 
------------------------------------------------------
flag 27414 term 38 leader 1 nextIndex[2]: 230  matchIndex[2]: 229
term 38 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 36 leaderCommit: 229 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=229
leader log:
[{snapshot 36 229}]
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=229
leader log:
[{snapshot 36 229}]
------------------------------------------------------
flag 80747 term 38 leader 1 nextIndex[0]: 230  matchIndex[0]: 229
term 38 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 36 leaderCommit: 229 
------------------------------------------------------
flag 66770 term 38 leader 1 nextIndex[2]: 230  matchIndex[2]: 229
term 38 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 36 leaderCommit: 229 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=229
leader log:
[{snapshot 36 229}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=229
leader log:
[{snapshot 36 229}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 7265797282903815950 (index 230) to leader 1
flag 2810 term 38 leader 1 nextIndex[0]: 230  matchIndex[0]: 229
term 38 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 36 leaderCommit: 229 
------------------------------------------------------
flag 13885 term 38 leader 1 nextIndex[2]: 230  matchIndex[2]: 229
term 38 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 36 leaderCommit: 229 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=230
leader log:
[{snapshot 36 229} {7265797282903815950 38 230}]
------------------------------------------------------
flag 19567 term 38 leader 1 nextIndex[0]: 231  matchIndex[0]: 230
term 38 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
flag 16321 term 38 leader 1 nextIndex[2]: 230  matchIndex[2]: 229
term 38 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 36 leaderCommit: 230 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=230
leader log:
[{snapshot 36 229} {7265797282903815950 38 230}]
------------------------------------------------------
client write log 7674089666357426093 (index 231) to leader 1
client write log 100741466034734278 (index 232) to leader 1
client write log 1177147021375227286 (index 233) to leader 1
client write log 5130852995397697230 (index 234) to leader 1
client write log 7546075542075080584 (index 235) to leader 1
client write log 1427074977020284052 (index 236) to leader 1
client write log 7216829534996220737 (index 237) to leader 1
client write log 7431336253332854407 (index 238) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96272 term 38 leader 1 nextIndex[0]: 231  matchIndex[0]: 230
term 38 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
flag 79181 term 38 leader 1 nextIndex[2]: 230  matchIndex[2]: 229
term 38 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 36 leaderCommit: 230 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=239
update matchIndex[0]=238
update leader CommitIndex=238
leader log:
[{snapshot 36 229} {7265797282903815950 38 230} {7674089666357426093 38 231} {100741466034734278 38 232} {1177147021375227286 38 233} {5130852995397697230 38 234} {7546075542075080584 38 235} {1427074977020284052 38 236} {7216829534996220737 38 237} {7431336253332854407 38 238}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5667 term 38 leader 1 nextIndex[0]: 239  matchIndex[0]: 238
term 38 leader 1 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 38 leaderCommit: 238 
------------------------------------------------------
flag 95278 term 38 leader 1 nextIndex[2]: 230  matchIndex[2]: 229
term 38 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 36 leaderCommit: 238 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=239
update matchIndex[0]=238
update leader CommitIndex=238
leader log:
[{snapshot 36 229} {7265797282903815950 38 230} {7674089666357426093 38 231} {100741466034734278 38 232} {1177147021375227286 38 233} {5130852995397697230 38 234} {7546075542075080584 38 235} {1427074977020284052 38 236} {7216829534996220737 38 237} {7431336253332854407 38 238}]
------------------------------------------------------
!!!!!!connect server 2
client write log 5424610697252271449 (index 239) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68731 term 38 leader 1 nextIndex[0]: 239  matchIndex[0]: 238
term 38 leader 1 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 38 leaderCommit: 238 
------------------------------------------------------
flag 46352 term 38 leader 1 nextIndex[2]: 230  matchIndex[2]: 229
term 38 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 36 leaderCommit: 238 
------------------------------------------------------
term 39 server 2 AppendEntries false 领导者任期过期 args.Term 38
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 39 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 38 server 0 not vote for server 2, 日志不够新
term 39 server 1 not vote for server 2, 日志不够新
term 41 server 2 vote for server 1
term 41 server 0 vote for server 1
term 41 server 1 get vote from server 0
term 41 server 1 become leader
------------------------------------------------------
term 41 server 1 get outdate rpc reply from server 2
flag 55221 term 41 leader 1 nextIndex[0]: 240  matchIndex[0]: 0
term 41 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 238 
------------------------------------------------------
flag 4076 term 41 leader 1 nextIndex[2]: 240  matchIndex[2]: 0
term 41 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 238 
------------------------------------------------------
term 41 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 240->239
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=238
leader log:
[{snapshot 36 229} {7265797282903815950 38 230} {7674089666357426093 38 231} {100741466034734278 38 232} {1177147021375227286 38 233} {5130852995397697230 38 234} {7546075542075080584 38 235} {1427074977020284052 38 236} {7216829534996220737 38 237} {7431336253332854407 38 238} {5424610697252271449 38 239}]
------------------------------------------------------
term 41 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75712 term 41 leader 1 nextIndex[0]: 240  matchIndex[0]: 239
term 41 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 238 
------------------------------------------------------
flag 98484 term 41 leader 1 nextIndex[2]: 230  matchIndex[2]: 0
term 41 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 36 leaderCommit: 238 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=240
update matchIndex[2]=239
update leader CommitIndex=238
leader log:
[{snapshot 36 229} {7265797282903815950 38 230} {7674089666357426093 38 231} {100741466034734278 38 232} {1177147021375227286 38 233} {5130852995397697230 38 234} {7546075542075080584 38 235} {1427074977020284052 38 236} {7216829534996220737 38 237} {7431336253332854407 38 238} {5424610697252271449 38 239}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=238
leader log:
[{snapshot 36 229} {7265797282903815950 38 230} {7674089666357426093 38 231} {100741466034734278 38 232} {1177147021375227286 38 233} {5130852995397697230 38 234} {7546075542075080584 38 235} {1427074977020284052 38 236} {7216829534996220737 38 237} {7431336253332854407 38 238} {5424610697252271449 38 239}]
------------------------------------------------------
flag 30642 term 41 leader 1 nextIndex[0]: 240  matchIndex[0]: 239
term 41 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 238 
------------------------------------------------------
flag 27329 term 41 leader 1 nextIndex[2]: 240  matchIndex[2]: 239
term 41 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 238 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:238 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=240
update matchIndex[2]=239
update leader CommitIndex=238
leader log:
[{snapshot 36 229} {7265797282903815950 38 230} {7674089666357426093 38 231} {100741466034734278 38 232} {1177147021375227286 38 233} {5130852995397697230 38 234} {7546075542075080584 38 235} {1427074977020284052 38 236} {7216829534996220737 38 237} {7431336253332854407 38 238} {5424610697252271449 38 239}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=238
leader log:
[{snapshot 36 229} {7265797282903815950 38 230} {7674089666357426093 38 231} {100741466034734278 38 232} {1177147021375227286 38 233} {5130852995397697230 38 234} {7546075542075080584 38 235} {1427074977020284052 38 236} {7216829534996220737 38 237} {7431336253332854407 38 238} {5424610697252271449 38 239}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27212 term 41 leader 1 nextIndex[0]: 240  matchIndex[0]: 239
term 41 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 238 
------------------------------------------------------
flag 77596 term 41 leader 1 nextIndex[2]: 240  matchIndex[2]: 239
term 41 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 238 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=240
update matchIndex[2]=239
update leader CommitIndex=238
leader log:
term 41 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
[{snapshot 36 229} {7265797282903815950 38 230} {7674089666357426093 38 231} {100741466034734278 38 232} {1177147021375227286 38 233} {5130852995397697230 38 234} {7546075542075080584 38 235} {1427074977020284052 38 236} {7216829534996220737 38 237} {7431336253332854407 38 238} {5424610697252271449 38 239}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=238
leader log:
[{snapshot 36 229} {7265797282903815950 38 230} {7674089666357426093 38 231} {100741466034734278 38 232} {1177147021375227286 38 233} {5130852995397697230 38 234} {7546075542075080584 38 235} {1427074977020284052 38 236} {7216829534996220737 38 237} {7431336253332854407 38 238} {5424610697252271449 38 239}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3605 term 41 leader 1 nextIndex[0]: 240  matchIndex[0]: 239
term 41 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 238 
------------------------------------------------------
flag 5301 term 41 leader 1 nextIndex[2]: 240  matchIndex[2]: 239
term 41 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 238 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=238
leader log:
[{snapshot 36 229} {7265797282903815950 38 230} {7674089666357426093 38 231} {100741466034734278 38 232} {1177147021375227286 38 233} {5130852995397697230 38 234} {7546075542075080584 38 235} {1427074977020284052 38 236} {7216829534996220737 38 237} {7431336253332854407 38 238} {5424610697252271449 38 239}]
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=240
update matchIndex[2]=239
update leader CommitIndex=238
leader log:
[{snapshot 36 229} {7265797282903815950 38 230} {7674089666357426093 38 231} {100741466034734278 38 232} {1177147021375227286 38 233} {5130852995397697230 38 234} {7546075542075080584 38 235} {1427074977020284052 38 236} {7216829534996220737 38 237} {7431336253332854407 38 238} {5424610697252271449 38 239}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17898 term 41 leader 1 nextIndex[0]: 240  matchIndex[0]: 239
term 41 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 238 
------------------------------------------------------
flag 20351 term 41 leader 1 nextIndex[2]: 240  matchIndex[2]: 239
term 41 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 238 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:238 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=240
update matchIndex[2]=239
update leader CommitIndex=238
leader log:
[{snapshot 36 229} {7265797282903815950 38 230} {7674089666357426093 38 231} {100741466034734278 38 232} {1177147021375227286 38 233} {5130852995397697230 38 234} {7546075542075080584 38 235} {1427074977020284052 38 236} {7216829534996220737 38 237} {7431336253332854407 38 238} {5424610697252271449 38 239}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=238
leader log:
[{snapshot 36 229} {7265797282903815950 38 230} {7674089666357426093 38 231} {100741466034734278 38 232} {1177147021375227286 38 233} {5130852995397697230 38 234} {7546075542075080584 38 235} {1427074977020284052 38 236} {7216829534996220737 38 237} {7431336253332854407 38 238} {5424610697252271449 38 239}]
------------------------------------------------------
flag 66725 term 41 leader 1 nextIndex[0]: 240  matchIndex[0]: 239
term 41 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 238 
------------------------------------------------------
flag 1085 term 41 leader 1 nextIndex[2]: 240  matchIndex[2]: 239
term 41 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 238 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=238
leader log:
[{snapshot 36 229} {7265797282903815950 38 230} {7674089666357426093 38 231} {100741466034734278 38 232} {1177147021375227286 38 233} {5130852995397697230 38 234} {7546075542075080584 38 235} {1427074977020284052 38 236} {7216829534996220737 38 237} {7431336253332854407 38 238} {5424610697252271449 38 239}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=240
update matchIndex[2]=239
update leader CommitIndex=238
leader log:
[{snapshot 36 229} {7265797282903815950 38 230} {7674089666357426093 38 231} {100741466034734278 38 232} {1177147021375227286 38 233} {5130852995397697230 38 234} {7546075542075080584 38 235} {1427074977020284052 38 236} {7216829534996220737 38 237} {7431336253332854407 38 238} {5424610697252271449 38 239}]
------------------------------------------------------
flag 43111 term 41 leader 1 nextIndex[0]: 240  matchIndex[0]: 239
term 41 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 238 
------------------------------------------------------
flag 57226 term 41 leader 1 nextIndex[2]: 240  matchIndex[2]: 239
term 41 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 238 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:238 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=240
update matchIndex[2]=239
update leader CommitIndex=238
leader log:
[{snapshot 36 229} {7265797282903815950 38 230} {7674089666357426093 38 231} {100741466034734278 38 232} {1177147021375227286 38 233} {5130852995397697230 38 234} {7546075542075080584 38 235} {1427074977020284052 38 236} {7216829534996220737 38 237} {7431336253332854407 38 238} {5424610697252271449 38 239}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=238
leader log:
[{snapshot 36 229} {7265797282903815950 38 230} {7674089666357426093 38 231} {100741466034734278 38 232} {1177147021375227286 38 233} {5130852995397697230 38 234} {7546075542075080584 38 235} {1427074977020284052 38 236} {7216829534996220737 38 237} {7431336253332854407 38 238} {5424610697252271449 38 239}]
------------------------------------------------------
flag 88456 term 41 leader 1 nextIndex[0]: 240  matchIndex[0]: 239
term 41 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 238 
------------------------------------------------------
flag 40061 term 41 leader 1 nextIndex[2]: 240  matchIndex[2]: 239
term 41 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 238 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:238 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=240
update matchIndex[2]=239
update leader CommitIndex=238
leader log:
[{snapshot 36 229} {7265797282903815950 38 230} {7674089666357426093 38 231} {100741466034734278 38 232} {1177147021375227286 38 233} {5130852995397697230 38 234} {7546075542075080584 38 235} {1427074977020284052 38 236} {7216829534996220737 38 237} {7431336253332854407 38 238} {5424610697252271449 38 239}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=238
leader log:
[{snapshot 36 229} {7265797282903815950 38 230} {7674089666357426093 38 231} {100741466034734278 38 232} {1177147021375227286 38 233} {5130852995397697230 38 234} {7546075542075080584 38 235} {1427074977020284052 38 236} {7216829534996220737 38 237} {7431336253332854407 38 238} {5424610697252271449 38 239}]
------------------------------------------------------
flag 38217 term 41 leader 1 nextIndex[0]: 240  matchIndex[0]: 239
term 41 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 238 
------------------------------------------------------
flag 58502 term 41 leader 1 nextIndex[2]: 240  matchIndex[2]: 239
term 41 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 238 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=238
leader log:
[{snapshot 36 229} {7265797282903815950 38 230} {7674089666357426093 38 231} {100741466034734278 38 232} {1177147021375227286 38 233} {5130852995397697230 38 234} {7546075542075080584 38 235} {1427074977020284052 38 236} {7216829534996220737 38 237} {7431336253332854407 38 238} {5424610697252271449 38 239}]
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=240
update matchIndex[2]=239
update leader CommitIndex=238
leader log:
[{snapshot 36 229} {7265797282903815950 38 230} {7674089666357426093 38 231} {100741466034734278 38 232} {1177147021375227286 38 233} {5130852995397697230 38 234} {7546075542075080584 38 235} {1427074977020284052 38 236} {7216829534996220737 38 237} {7431336253332854407 38 238} {5424610697252271449 38 239}]
------------------------------------------------------
flag 81100 term 41 leader 1 nextIndex[0]: 240  matchIndex[0]: 239
term 41 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 238 
------------------------------------------------------
flag 85048 term 41 leader 1 nextIndex[2]: 240  matchIndex[2]: 239
term 41 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 238 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=238
leader log:
[{snapshot 36 229} {7265797282903815950 38 230} {7674089666357426093 38 231} {100741466034734278 38 232} {1177147021375227286 38 233} {5130852995397697230 38 234} {7546075542075080584 38 235} {1427074977020284052 38 236} {7216829534996220737 38 237} {7431336253332854407 38 238} {5424610697252271449 38 239}]
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=240
update matchIndex[2]=239
update leader CommitIndex=238
leader log:
[{snapshot 36 229} {7265797282903815950 38 230} {7674089666357426093 38 231} {100741466034734278 38 232} {1177147021375227286 38 233} {5130852995397697230 38 234} {7546075542075080584 38 235} {1427074977020284052 38 236} {7216829534996220737 38 237} {7431336253332854407 38 238} {5424610697252271449 38 239}]
------------------------------------------------------
term 41 server 1 not vote for server 2, 任期不够新
term 41 server 2 get outdate rpc reply from server 1
flag 15153 term 41 leader 1 nextIndex[0]: 240  matchIndex[0]: 239
term 41 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 238 
------------------------------------------------------
flag 97144 term 41 leader 1 nextIndex[2]: 240  matchIndex[2]: 239
term 41 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 238 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=238
leader log:
[{snapshot 36 229} {7265797282903815950 38 230} {7674089666357426093 38 231} {100741466034734278 38 232} {1177147021375227286 38 233} {5130852995397697230 38 234} {7546075542075080584 38 235} {1427074977020284052 38 236} {7216829534996220737 38 237} {7431336253332854407 38 238} {5424610697252271449 38 239}]
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=240
update matchIndex[2]=239
update leader CommitIndex=238
leader log:
[{snapshot 36 229} {7265797282903815950 38 230} {7674089666357426093 38 231} {100741466034734278 38 232} {1177147021375227286 38 233} {5130852995397697230 38 234} {7546075542075080584 38 235} {1427074977020284052 38 236} {7216829534996220737 38 237} {7431336253332854407 38 238} {5424610697252271449 38 239}]
------------------------------------------------------
flag 97352 term 41 leader 1 nextIndex[0]: 240  matchIndex[0]: 239
term 41 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 238 
------------------------------------------------------
flag 50202 term 41 leader 1 nextIndex[2]: 240  matchIndex[2]: 239
term 41 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 238 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=240
update matchIndex[2]=239
update leader CommitIndex=238
leader log:
[{snapshot 36 229} {7265797282903815950 38 230} {7674089666357426093 38 231} {100741466034734278 38 232} {1177147021375227286 38 233} {5130852995397697230 38 234} {7546075542075080584 38 235} {1427074977020284052 38 236} {7216829534996220737 38 237} {7431336253332854407 38 238} {5424610697252271449 38 239}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=238
leader log:
[{snapshot 36 229} {7265797282903815950 38 230} {7674089666357426093 38 231} {100741466034734278 38 232} {1177147021375227286 38 233} {5130852995397697230 38 234} {7546075542075080584 38 235} {1427074977020284052 38 236} {7216829534996220737 38 237} {7431336253332854407 38 238} {5424610697252271449 38 239}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61624 term 41 leader 1 nextIndex[0]: 240  matchIndex[0]: 239
term 41 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 238 
------------------------------------------------------
flag 57834 term 41 leader 1 nextIndex[2]: 240  matchIndex[2]: 239
term 41 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 238 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:238 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=240
update matchIndex[2]=239
update leader CommitIndex=238
leader log:
[{snapshot 36 229} {7265797282903815950 38 230} {7674089666357426093 38 231} {100741466034734278 38 232} {1177147021375227286 38 233} {5130852995397697230 38 234} {7546075542075080584 38 235} {1427074977020284052 38 236} {7216829534996220737 38 237} {7431336253332854407 38 238} {5424610697252271449 38 239}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=238
leader log:
[{snapshot 36 229} {7265797282903815950 38 230} {7674089666357426093 38 231} {100741466034734278 38 232} {1177147021375227286 38 233} {5130852995397697230 38 234} {7546075542075080584 38 235} {1427074977020284052 38 236} {7216829534996220737 38 237} {7431336253332854407 38 238} {5424610697252271449 38 239}]
------------------------------------------------------
flag 55265 term 41 leader 1 nextIndex[0]: 240  matchIndex[0]: 239
term 41 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 238 
------------------------------------------------------
flag 27863 term 41 leader 1 nextIndex[2]: 240  matchIndex[2]: 239
term 41 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 238 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:238 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=240
update matchIndex[2]=239
update leader CommitIndex=238
leader log:
[{snapshot 36 229} {7265797282903815950 38 230} {7674089666357426093 38 231} {100741466034734278 38 232} {1177147021375227286 38 233} {5130852995397697230 38 234} {7546075542075080584 38 235} {1427074977020284052 38 236} {7216829534996220737 38 237} {7431336253332854407 38 238} {5424610697252271449 38 239}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=238
leader log:
[{snapshot 36 229} {7265797282903815950 38 230} {7674089666357426093 38 231} {100741466034734278 38 232} {1177147021375227286 38 233} {5130852995397697230 38 234} {7546075542075080584 38 235} {1427074977020284052 38 236} {7216829534996220737 38 237} {7431336253332854407 38 238} {5424610697252271449 38 239}]
------------------------------------------------------
flag 69725 term 41 leader 1 nextIndex[0]: 240  matchIndex[0]: 239
term 41 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 238 
------------------------------------------------------
flag 99629 term 41 leader 1 nextIndex[2]: 240  matchIndex[2]: 239
term 41 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 238 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:238 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=238
leader log:
[{snapshot 36 229} {7265797282903815950 38 230} {7674089666357426093 38 231} {100741466034734278 38 232} {1177147021375227286 38 233} {5130852995397697230 38 234} {7546075542075080584 38 235} {1427074977020284052 38 236} {7216829534996220737 38 237} {7431336253332854407 38 238} {5424610697252271449 38 239}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=240
update matchIndex[2]=239
update leader CommitIndex=238
leader log:
[{snapshot 36 229} {7265797282903815950 38 230} {7674089666357426093 38 231} {100741466034734278 38 232} {1177147021375227286 38 233} {5130852995397697230 38 234} {7546075542075080584 38 235} {1427074977020284052 38 236} {7216829534996220737 38 237} {7431336253332854407 38 238} {5424610697252271449 38 239}]
------------------------------------------------------
client write log 5424610697252271449 (index 240) to leader 1
flag 38189 term 41 leader 1 nextIndex[0]: 240  matchIndex[0]: 239
term 41 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 238 
------------------------------------------------------
flag 23359 term 41 leader 1 nextIndex[2]: 240  matchIndex[2]: 239
term 41 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 238 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=241
update matchIndex[0]=240
update leader CommitIndex=240
leader log:
[{snapshot 36 229} {7265797282903815950 38 230} {7674089666357426093 38 231} {100741466034734278 38 232} {1177147021375227286 38 233} {5130852995397697230 38 234} {7546075542075080584 38 235} {1427074977020284052 38 236} {7216829534996220737 38 237} {7431336253332854407 38 238} {5424610697252271449 38 239} {5424610697252271449 41 240}]
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=240
leader log:
[{snapshot 36 229} {7265797282903815950 38 230} {7674089666357426093 38 231} {100741466034734278 38 232} {1177147021375227286 38 233} {5130852995397697230 38 234} {7546075542075080584 38 235} {1427074977020284052 38 236} {7216829534996220737 38 237} {7431336253332854407 38 238} {5424610697252271449 38 239} {5424610697252271449 41 240}]
------------------------------------------------------
term 41 Server1 start snapshot! index=239
term 41 server1 snapshot success
lastIncludedIndex=239 lastApplied=240 lastIndex=240
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41345 term 41 leader 1 nextIndex[0]: 241  matchIndex[0]: 240
term 41 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 41 leaderCommit: 240 
------------------------------------------------------
flag 21611 term 41 leader 1 nextIndex[2]: 241  matchIndex[2]: 240
term 41 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 41 leaderCommit: 240 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=241
update matchIndex[0]=240
update leader CommitIndex=240
leader log:
[{snapshot 38 239} {5424610697252271449 41 240}]
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=240
leader log:
[{snapshot 38 239} {5424610697252271449 41 240}]
------------------------------------------------------
term 41 Server0 start snapshot! index=239
term 41 server0 snapshot success
lastIncludedIndex=239 lastApplied=240 lastIndex=240
-------------------------------------------------------------
term 41 Server2 start snapshot! index=239
term 41 server2 snapshot success
lastIncludedIndex=239 lastApplied=240 lastIndex=240
-------------------------------------------------------------
flag 29255 term 41 leader 1 nextIndex[0]: 241  matchIndex[0]: 240
term 41 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 41 leaderCommit: 240 
------------------------------------------------------
flag 1821 term 41 leader 1 nextIndex[2]: 241  matchIndex[2]: 240
term 41 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 41 leaderCommit: 240 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=240
leader log:
[{snapshot 38 239} {5424610697252271449 41 240}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=241
update matchIndex[0]=240
update leader CommitIndex=240
leader log:
[{snapshot 38 239} {5424610697252271449 41 240}]
------------------------------------------------------
term 41 server 0 not vote for server 1, 任期不够新
term 41 server 1 get outdate rpc reply from server 0
flag 44836 term 41 leader 1 nextIndex[0]: 241  matchIndex[0]: 240
term 41 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 41 leaderCommit: 240 
------------------------------------------------------
flag 57479 term 41 leader 1 nextIndex[2]: 241  matchIndex[2]: 240
term 41 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 41 leaderCommit: 240 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueterm 41 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
update nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=240
leader log:
[{snapshot 38 239} {5424610697252271449 41 240}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=241
update matchIndex[0]=240
update leader CommitIndex=240
leader log:
[{snapshot 38 239} {5424610697252271449 41 240}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5264 term 41 leader 1 nextIndex[0]: 241  matchIndex[0]: 240
term 41 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 41 leaderCommit: 240 
------------------------------------------------------
flag 96215 term 41 leader 1 nextIndex[2]: 241  matchIndex[2]: 240
term 41 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 41 leaderCommit: 240 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=241
update matchIndex[0]=240
update leader CommitIndex=240
leader log:
[{snapshot 38 239} {5424610697252271449 41 240}]
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=240
leader log:
[{snapshot 38 239} {5424610697252271449 41 240}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65564 term 41 leader 1 nextIndex[0]: 241  matchIndex[0]: 240
term 41 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 41 leaderCommit: 240 
------------------------------------------------------
flag 14387 term 41 leader 1 nextIndex[2]: 241  matchIndex[2]: 240
term 41 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 41 leaderCommit: 240 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=241
update matchIndex[0]=240
update leader CommitIndex=240
leader log:
[{snapshot 38 239} {5424610697252271449 41 240}]
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=240
leader log:
[{snapshot 38 239} {5424610697252271449 41 240}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88082 term 41 leader 1 nextIndex[0]: 241  matchIndex[0]: 240
term 41 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 41 leaderCommit: 240 
------------------------------------------------------
flag 12583 term 41 leader 1 nextIndex[2]: 241  matchIndex[2]: 240
term 41 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 41 leaderCommit: 240 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=241
update matchIndex[0]=240
update leader CommitIndex=240
leader log:
[{snapshot 38 239} {5424610697252271449 41 240}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=240
leader log:
[{snapshot 38 239} {5424610697252271449 41 240}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 861638430267846710 (index 241) to leader 1
flag 75035 term 41 leader 1 nextIndex[0]: 241  matchIndex[0]: 240
term 41 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 41 leaderCommit: 240 
------------------------------------------------------
flag 70348 term 41 leader 1 nextIndex[2]: 241  matchIndex[2]: 240
term 41 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 41 leaderCommit: 240 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=241
leader log:
[{snapshot 38 239} {5424610697252271449 41 240} {861638430267846710 41 241}]
------------------------------------------------------
flag 54209 term 41 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 41 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 41 leaderCommit: 241 
------------------------------------------------------
flag 1929 term 41 leader 1 nextIndex[2]: 241  matchIndex[2]: 240
term 41 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 41 leaderCommit: 241 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=241
leader log:
[{snapshot 38 239} {5424610697252271449 41 240} {861638430267846710 41 241}]
------------------------------------------------------
client write log 7343662759202976207 (index 242) to leader 1
client write log 1013056420422209272 (index 243) to leader 1
client write log 548843219913240556 (index 244) to leader 1
client write log 2544220902955696596 (index 245) to leader 1
client write log 5505554167136562508 (index 246) to leader 1
client write log 5798277858082625066 (index 247) to leader 1
client write log 8172757796371352233 (index 248) to leader 1
client write log 831681416023775500 (index 249) to leader 1
client write log 4537295888914106918 (index 250) to leader 1
client write log 948352605771645676 (index 251) to leader 1
client write log 5216773365932030948 (index 252) to leader 1
client write log 7925122717059587284 (index 253) to leader 1
client write log 6040227994799589211 (index 254) to leader 1
client write log 3354328432143291238 (index 255) to leader 1
client write log 4412303706477291261 (index 256) to leader 1
flag 79113 term 41 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 41 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 41 leaderCommit: 241 
------------------------------------------------------
flag 21906 term 41 leader 1 nextIndex[2]: 241  matchIndex[2]: 240
term 41 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 41 leaderCommit: 241 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=256
leader log:
[{snapshot 38 239} {5424610697252271449 41 240} {861638430267846710 41 241} {7343662759202976207 41 242} {1013056420422209272 41 243} {548843219913240556 41 244} {2544220902955696596 41 245} {5505554167136562508 41 246} {5798277858082625066 41 247} {8172757796371352233 41 248} {831681416023775500 41 249} {4537295888914106918 41 250} {948352605771645676 41 251} {5216773365932030948 41 252} {7925122717059587284 41 253} {6040227994799589211 41 254} {3354328432143291238 41 255} {4412303706477291261 41 256}]
------------------------------------------------------
term 41 Server1 start snapshot! index=249
term 41 server1 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=256
-------------------------------------------------------------
flag 31644 term 41 leader 1 nextIndex[0]: 257  matchIndex[0]: 256
term 41 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 41 leaderCommit: 256 
------------------------------------------------------
term 41 leader 1 nextIndex[2]: 241  matchIndex[2]: 240
term 41 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 41
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=256
leader log:
[{snapshot 41 249} {4537295888914106918 41 250} {948352605771645676 41 251} {5216773365932030948 41 252} {7925122717059587284 41 253} {6040227994799589211 41 254} {3354328432143291238 41 255} {4412303706477291261 41 256}]
------------------------------------------------------
term 41 Server0 start snapshot! index=249
term 41 server0 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=256
-------------------------------------------------------------
!!!!!!connect server 2
client write log 8049627868324513886 (index 257) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52874 term 41 leader 1 nextIndex[0]: 257  matchIndex[0]: 256
term 41 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 41 leaderCommit: 256 
------------------------------------------------------
term 41 leader 1 nextIndex[2]: 241  matchIndex[2]: 240
term 41 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 41
------------------------------------------------------
term 42 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 41 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 41 server 0 not vote for server 2, 日志不够新
term 42 server 0 not vote for server 2, 任期不够新
term 42 server 2 get outdate rpc reply from server 0
term 43 server 2 vote for server 1
term 43 server 0 vote for server 1
term 43 server 1 get vote from server 2
term 43 server 1 become leader
------------------------------------------------------
term 43 server 1 get outdate rpc reply from server 0
flag 78565 term 43 leader 1 nextIndex[0]: 258  matchIndex[0]: 0
term 43 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 256 
------------------------------------------------------
flag 40351 term 43 leader 1 nextIndex[2]: 258  matchIndex[2]: 0
term 43 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 256 
------------------------------------------------------
term 43 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 258->257
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 41 249} {4537295888914106918 41 250} {948352605771645676 41 251} {5216773365932030948 41 252} {7925122717059587284 41 253} {6040227994799589211 41 254} {3354328432143291238 41 255} {4412303706477291261 41 256} {8049627868324513886 41 257}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58333 term 43 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 43 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 256 
------------------------------------------------------
term 43 leader 1 nextIndex[2]: 241  matchIndex[2]: 0
term 43 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 41
------------------------------------------------------
term 43 server 2 InstallSnapshot success
------------------------------------------------------
term 43 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 250 matchIndex[2] 249 
------------------------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 249 rf.lastIncludedTerm 41 rf.commitIndex 249 rf.lastApplied 249
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 41 249} {4537295888914106918 41 250} {948352605771645676 41 251} {5216773365932030948 41 252} {7925122717059587284 41 253} {6040227994799589211 41 254} {3354328432143291238 41 255} {4412303706477291261 41 256} {8049627868324513886 41 257}]
------------------------------------------------------
flag 38306 term 43 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 43 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 256 
------------------------------------------------------
flag 14020 term 43 leader 1 nextIndex[2]: 250  matchIndex[2]: 249
term 43 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 41 leaderCommit: 256 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 41 249} {4537295888914106918 41 250} {948352605771645676 41 251} {5216773365932030948 41 252} {7925122717059587284 41 253} {6040227994799589211 41 254} {3354328432143291238 41 255} {4412303706477291261 41 256} {8049627868324513886 41 257}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=256
leader log:
[{snapshot 41 249} {4537295888914106918 41 250} {948352605771645676 41 251} {5216773365932030948 41 252} {7925122717059587284 41 253} {6040227994799589211 41 254} {3354328432143291238 41 255} {4412303706477291261 41 256} {8049627868324513886 41 257}]
------------------------------------------------------
flag 26149 term 43 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 43 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 256 
------------------------------------------------------
flag 68423 term 43 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 43 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 256 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=256
leader log:
[{snapshot 41 249} {4537295888914106918 41 250} {948352605771645676 41 251} {5216773365932030948 41 252} {7925122717059587284 41 253} {6040227994799589211 41 254} {3354328432143291238 41 255} {4412303706477291261 41 256} {8049627868324513886 41 257}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 41 249} {4537295888914106918 41 250} {948352605771645676 41 251} {5216773365932030948 41 252} {7925122717059587284 41 253} {6040227994799589211 41 254} {3354328432143291238 41 255} {4412303706477291261 41 256} {8049627868324513886 41 257}]
------------------------------------------------------
flag 59326 term 43 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 43 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 256 
------------------------------------------------------
flag 17915 term 43 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 43 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 256 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 41 249} {4537295888914106918 41 250} {948352605771645676 41 251} {5216773365932030948 41 252} {7925122717059587284 41 253} {6040227994799589211 41 254} {3354328432143291238 41 255} {4412303706477291261 41 256} {8049627868324513886 41 257}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=256
leader log:
[{snapshot 41 249} {4537295888914106918 41 250} {948352605771645676 41 251} {5216773365932030948 41 252} {7925122717059587284 41 253} {6040227994799589211 41 254} {3354328432143291238 41 255} {4412303706477291261 41 256} {8049627868324513886 41 257}]
------------------------------------------------------
flag 8993 term 43 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 43 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 256 
------------------------------------------------------
flag 26698 term 43 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 43 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 256 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=256
leader log:
[{snapshot 41 249} {4537295888914106918 41 250} {948352605771645676 41 251} {5216773365932030948 41 252} {7925122717059587284 41 253} {6040227994799589211 41 254} {3354328432143291238 41 255} {4412303706477291261 41 256} {8049627868324513886 41 257}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 41 249} {4537295888914106918 41 250} {948352605771645676 41 251} {5216773365932030948 41 252} {7925122717059587284 41 253} {6040227994799589211 41 254} {3354328432143291238 41 255} {4412303706477291261 41 256} {8049627868324513886 41 257}]
------------------------------------------------------
flag 7001 term 43 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 43 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 256 
------------------------------------------------------
flag 7003 term 43 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 43 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 256 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=256
leader log:
[{snapshot 41 249} {4537295888914106918 41 250} {948352605771645676 41 251} {5216773365932030948 41 252} {7925122717059587284 41 253} {6040227994799589211 41 254} {3354328432143291238 41 255} {4412303706477291261 41 256} {8049627868324513886 41 257}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 41 249} {4537295888914106918 41 250} {948352605771645676 41 251} {5216773365932030948 41 252} {7925122717059587284 41 253} {6040227994799589211 41 254} {3354328432143291238 41 255} {4412303706477291261 41 256} {8049627868324513886 41 257}]
------------------------------------------------------
flag 89089 term 43 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 43 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 256 
------------------------------------------------------
flag 72659 term 43 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 43 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 256 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 41 249} {4537295888914106918 41 250} {948352605771645676 41 251} {5216773365932030948 41 252} {7925122717059587284 41 253} {6040227994799589211 41 254} {3354328432143291238 41 255} {4412303706477291261 41 256} {8049627868324513886 41 257}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=256
leader log:
[{snapshot 41 249} {4537295888914106918 41 250} {948352605771645676 41 251} {5216773365932030948 41 252} {7925122717059587284 41 253} {6040227994799589211 41 254} {3354328432143291238 41 255} {4412303706477291261 41 256} {8049627868324513886 41 257}]
------------------------------------------------------
flag 61965 term 43 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 43 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 256 
------------------------------------------------------
flag 10050 term 43 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 43 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 256 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 41 249} {4537295888914106918 41 250} {948352605771645676 41 251} {5216773365932030948 41 252} {7925122717059587284 41 253} {6040227994799589211 41 254} {3354328432143291238 41 255} {4412303706477291261 41 256} {8049627868324513886 41 257}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=256
leader log:
[{snapshot 41 249} {4537295888914106918 41 250} {948352605771645676 41 251} {5216773365932030948 41 252} {7925122717059587284 41 253} {6040227994799589211 41 254} {3354328432143291238 41 255} {4412303706477291261 41 256} {8049627868324513886 41 257}]
------------------------------------------------------
flag 13264 term 43 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 43 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 256 
------------------------------------------------------
flag 32105 term 43 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 43 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 256 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=256
leader log:
[{snapshot 41 249} {4537295888914106918 41 250} {948352605771645676 41 251} {5216773365932030948 41 252} {7925122717059587284 41 253} {6040227994799589211 41 254} {3354328432143291238 41 255} {4412303706477291261 41 256} {8049627868324513886 41 257}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 41 249} {4537295888914106918 41 250} {948352605771645676 41 251} {5216773365932030948 41 252} {7925122717059587284 41 253} {6040227994799589211 41 254} {3354328432143291238 41 255} {4412303706477291261 41 256} {8049627868324513886 41 257}]
------------------------------------------------------
flag 84734 term 43 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 43 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 256 
------------------------------------------------------
flag 93792 term 43 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 43 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 256 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=256
leader log:
term 43 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
[{snapshot 41 249} {4537295888914106918 41 250} {948352605771645676 41 251} {5216773365932030948 41 252} {7925122717059587284 41 253} {6040227994799589211 41 254} {3354328432143291238 41 255} {4412303706477291261 41 256} {8049627868324513886 41 257}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 41 249} {4537295888914106918 41 250} {948352605771645676 41 251} {5216773365932030948 41 252} {7925122717059587284 41 253} {6040227994799589211 41 254} {3354328432143291238 41 255} {4412303706477291261 41 256} {8049627868324513886 41 257}]
------------------------------------------------------
flag 89393 term 43 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 43 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 256 
------------------------------------------------------
flag 41706 term 43 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 43 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 256 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=256
leader log:
[{snapshot 41 249} {4537295888914106918 41 250} {948352605771645676 41 251} {5216773365932030948 41 252} {7925122717059587284 41 253} {6040227994799589211 41 254} {3354328432143291238 41 255} {4412303706477291261 41 256} {8049627868324513886 41 257}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 41 249} {4537295888914106918 41 250} {948352605771645676 41 251} {5216773365932030948 41 252} {7925122717059587284 41 253} {6040227994799589211 41 254} {3354328432143291238 41 255} {4412303706477291261 41 256} {8049627868324513886 41 257}]
------------------------------------------------------
flag 50338 term 43 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 43 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 256 
------------------------------------------------------
flag 86453 term 43 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 43 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 256 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=256
leader log:
[{snapshot 41 249} {4537295888914106918 41 250} {948352605771645676 41 251} {5216773365932030948 41 252} {7925122717059587284 41 253} {6040227994799589211 41 254} {3354328432143291238 41 255} {4412303706477291261 41 256} {8049627868324513886 41 257}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 41 249} {4537295888914106918 41 250} {948352605771645676 41 251} {5216773365932030948 41 252} {7925122717059587284 41 253} {6040227994799589211 41 254} {3354328432143291238 41 255} {4412303706477291261 41 256} {8049627868324513886 41 257}]
------------------------------------------------------
flag 29793 term 43 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 43 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 256 
------------------------------------------------------
flag 23062 term 43 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 43 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 256 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 41 249} {4537295888914106918 41 250} {948352605771645676 41 251} {5216773365932030948 41 252} {7925122717059587284 41 253} {6040227994799589211 41 254} {3354328432143291238 41 255} {4412303706477291261 41 256} {8049627868324513886 41 257}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=256
leader log:
[{snapshot 41 249} {4537295888914106918 41 250} {948352605771645676 41 251} {5216773365932030948 41 252} {7925122717059587284 41 253} {6040227994799589211 41 254} {3354328432143291238 41 255} {4412303706477291261 41 256} {8049627868324513886 41 257}]
------------------------------------------------------
flag 31653 term 43 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 43 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 256 
------------------------------------------------------
flag 86638 term 43 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 43 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 256 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 41 249} {4537295888914106918 41 250} {948352605771645676 41 251} {5216773365932030948 41 252} {7925122717059587284 41 253} {6040227994799589211 41 254} {3354328432143291238 41 255} {4412303706477291261 41 256} {8049627868324513886 41 257}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=256
leader log:
[{snapshot 41 249} {4537295888914106918 41 250} {948352605771645676 41 251} {5216773365932030948 41 252} {7925122717059587284 41 253} {6040227994799589211 41 254} {3354328432143291238 41 255} {4412303706477291261 41 256} {8049627868324513886 41 257}]
------------------------------------------------------
flag 54972 term 43 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 43 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 256 
------------------------------------------------------
flag 54903 term 43 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 43 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 256 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=256
leader log:
[{snapshot 41 249} {4537295888914106918 41 250} {948352605771645676 41 251} {5216773365932030948 41 252} {7925122717059587284 41 253} {6040227994799589211 41 254} {3354328432143291238 41 255} {4412303706477291261 41 256} {8049627868324513886 41 257}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 41 249} {4537295888914106918 41 250} {948352605771645676 41 251} {5216773365932030948 41 252} {7925122717059587284 41 253} {6040227994799589211 41 254} {3354328432143291238 41 255} {4412303706477291261 41 256} {8049627868324513886 41 257}]
------------------------------------------------------
flag 4812 term 43 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 43 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 256 
------------------------------------------------------
flag 18918 term 43 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 43 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 256 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=256
leader log:
[{snapshot 41 249} {4537295888914106918 41 250} {948352605771645676 41 251} {5216773365932030948 41 252} {7925122717059587284 41 253} {6040227994799589211 41 254} {3354328432143291238 41 255} {4412303706477291261 41 256} {8049627868324513886 41 257}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 41 249} {4537295888914106918 41 250} {948352605771645676 41 251} {5216773365932030948 41 252} {7925122717059587284 41 253} {6040227994799589211 41 254} {3354328432143291238 41 255} {4412303706477291261 41 256} {8049627868324513886 41 257}]
------------------------------------------------------
flag 7403 term 43 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 43 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 256 
------------------------------------------------------
flag 50145 term 43 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 43 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 256 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=256
leader log:
[{snapshot 41 249} {4537295888914106918 41 250} {948352605771645676 41 251} {5216773365932030948 41 252} {7925122717059587284 41 253} {6040227994799589211 41 254} {3354328432143291238 41 255} {4412303706477291261 41 256} {8049627868324513886 41 257}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=256
leader log:
[{snapshot 41 249} {4537295888914106918 41 250} {948352605771645676 41 251} {5216773365932030948 41 252} {7925122717059587284 41 253} {6040227994799589211 41 254} {3354328432143291238 41 255} {4412303706477291261 41 256} {8049627868324513886 41 257}]
------------------------------------------------------
client write log 8049627868324513886 (index 258) to leader 1
flag 96924 term 43 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 43 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 256 
------------------------------------------------------
flag 35616 term 43 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 43 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 256 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 41 249} {4537295888914106918 41 250} {948352605771645676 41 251} {5216773365932030948 41 252} {7925122717059587284 41 253} {6040227994799589211 41 254} {3354328432143291238 41 255} {4412303706477291261 41 256} {8049627868324513886 41 257} {8049627868324513886 43 258}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 41 249} {4537295888914106918 41 250} {948352605771645676 41 251} {5216773365932030948 41 252} {7925122717059587284 41 253} {6040227994799589211 41 254} {3354328432143291238 41 255} {4412303706477291261 41 256} {8049627868324513886 41 257} {8049627868324513886 43 258}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91865 term 43 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 43 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 43 leaderCommit: 258 
------------------------------------------------------
flag 65551 term 43 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 43 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 43 leaderCommit: 258 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 41 249} {4537295888914106918 41 250} {948352605771645676 41 251} {5216773365932030948 41 252} {7925122717059587284 41 253} {6040227994799589211 41 254} {3354328432143291238 41 255} {4412303706477291261 41 256} {8049627868324513886 41 257} {8049627868324513886 43 258}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 41 249} {4537295888914106918 41 250} {948352605771645676 41 251} {5216773365932030948 41 252} {7925122717059587284 41 253} {6040227994799589211 41 254} {3354328432143291238 41 255} {4412303706477291261 41 256} {8049627868324513886 41 257} {8049627868324513886 43 258}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29271 term 43 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 43 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 43 leaderCommit: 258 
------------------------------------------------------
flag 93781 term 43 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 43 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 43 leaderCommit: 258 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 41 249} {4537295888914106918 41 250} {948352605771645676 41 251} {5216773365932030948 41 252} {7925122717059587284 41 253} {6040227994799589211 41 254} {3354328432143291238 41 255} {4412303706477291261 41 256} {8049627868324513886 41 257} {8049627868324513886 43 258}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 41 249} {4537295888914106918 41 250} {948352605771645676 41 251} {5216773365932030948 41 252} {7925122717059587284 41 253} {6040227994799589211 41 254} {3354328432143291238 41 255} {4412303706477291261 41 256} {8049627868324513886 41 257} {8049627868324513886 43 258}]
------------------------------------------------------
term 43 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 34225 term 43 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 43 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 43 leaderCommit: 258 
------------------------------------------------------
flag 23485 term 43 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 43 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 43 leaderCommit: 258 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 41 249} {4537295888914106918 41 250} {948352605771645676 41 251} {5216773365932030948 41 252} {7925122717059587284 41 253} {6040227994799589211 41 254} {3354328432143291238 41 255} {4412303706477291261 41 256} {8049627868324513886 41 257} {8049627868324513886 43 258}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 41 249} {4537295888914106918 41 250} {948352605771645676 41 251} {5216773365932030948 41 252} {7925122717059587284 41 253} {6040227994799589211 41 254} {3354328432143291238 41 255} {4412303706477291261 41 256} {8049627868324513886 41 257} {8049627868324513886 43 258}]
------------------------------------------------------
flag 150 term 43 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 43 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 43 leaderCommit: 258 
------------------------------------------------------
flag 60289 term 43 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 43 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 43 leaderCommit: 258 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 41 249} {4537295888914106918 41 250} {948352605771645676 41 251} {5216773365932030948 41 252} {7925122717059587284 41 253} {6040227994799589211 41 254} {3354328432143291238 41 255} {4412303706477291261 41 256} {8049627868324513886 41 257} {8049627868324513886 43 258}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 41 249} {4537295888914106918 41 250} {948352605771645676 41 251} {5216773365932030948 41 252} {7925122717059587284 41 253} {6040227994799589211 41 254} {3354328432143291238 41 255} {4412303706477291261 41 256} {8049627868324513886 41 257} {8049627868324513886 43 258}]
------------------------------------------------------
flag 10740 term 43 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 43 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 43 leaderCommit: 258 
------------------------------------------------------
flag 46272 term 43 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 43 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 43 leaderCommit: 258 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 41 249} {4537295888914106918 41 250} {948352605771645676 41 251} {5216773365932030948 41 252} {7925122717059587284 41 253} {6040227994799589211 41 254} {3354328432143291238 41 255} {4412303706477291261 41 256} {8049627868324513886 41 257} {8049627868324513886 43 258}]
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 41 249} {4537295888914106918 41 250} {948352605771645676 41 251} {5216773365932030948 41 252} {7925122717059587284 41 253} {6040227994799589211 41 254} {3354328432143291238 41 255} {4412303706477291261 41 256} {8049627868324513886 41 257} {8049627868324513886 43 258}]
------------------------------------------------------
flag 92458 term 43 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 43 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 43 leaderCommit: 258 
------------------------------------------------------
flag 48818 term 43 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 43 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 43 leaderCommit: 258 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 41 249} {4537295888914106918 41 250} {948352605771645676 41 251} {5216773365932030948 41 252} {7925122717059587284 41 253} {6040227994799589211 41 254} {3354328432143291238 41 255} {4412303706477291261 41 256} {8049627868324513886 41 257} {8049627868324513886 43 258}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 41 249} {4537295888914106918 41 250} {948352605771645676 41 251} {5216773365932030948 41 252} {7925122717059587284 41 253} {6040227994799589211 41 254} {3354328432143291238 41 255} {4412303706477291261 41 256} {8049627868324513886 41 257} {8049627868324513886 43 258}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 75038 term 43 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 43 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 43 leaderCommit: 258 
------------------------------------------------------
flag 10274 term 43 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 43 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 43 leaderCommit: 258 
------------------------------------------------------
flag 18397 term 43 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 43 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 43 leaderCommit: 258 
------------------------------------------------------
flag 66238 term 43 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 43 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 43 leaderCommit: 258 
------------------------------------------------------
flag 39443 term 43 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 43 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 43 leaderCommit: 258 
------------------------------------------------------
flag 35243 term 43 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 43 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 43 leaderCommit: 258 
------------------------------------------------------
term 44 server 0 vote for server 2
term 44 server 2 get vote from server 0
term 44 server 2 become leader
------------------------------------------------------
flag 74453 term 44 leader 2 nextIndex[0]: 259  matchIndex[0]: 0
term 44 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 43 leaderCommit: 258 
------------------------------------------------------
flag 30497 term 44 leader 2 nextIndex[1]: 259  matchIndex[1]: 0
term 44 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 43 leaderCommit: 258 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 41 249} {4537295888914106918 41 250} {948352605771645676 41 251} {5216773365932030948 41 252} {7925122717059587284 41 253} {6040227994799589211 41 254} {3354328432143291238 41 255} {4412303706477291261 41 256} {8049627868324513886 41 257} {8049627868324513886 43 258}]
------------------------------------------------------
flag 47858 term 43 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 43 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 43 leaderCommit: 258 
------------------------------------------------------
flag 66177 term 43 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 43 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 43 leaderCommit: 258 
------------------------------------------------------
client write log 7837681275201620221 (index 259) to leader 2
flag 90837 term 43 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 43 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 43 leaderCommit: 258 
------------------------------------------------------
flag 7455 term 43 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 43 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 43 leaderCommit: 258 
------------------------------------------------------
flag 58590 term 44 leader 2 nextIndex[0]: 259  matchIndex[0]: 258
term 44 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 43 leaderCommit: 258 
------------------------------------------------------
flag 83022 term 44 leader 2 nextIndex[1]: 259  matchIndex[1]: 0
term 44 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 43 leaderCommit: 258 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=259
leader log:
[{snapshot 41 249} {4537295888914106918 41 250} {948352605771645676 41 251} {5216773365932030948 41 252} {7925122717059587284 41 253} {6040227994799589211 41 254} {3354328432143291238 41 255} {4412303706477291261 41 256} {8049627868324513886 41 257} {8049627868324513886 43 258} {7837681275201620221 44 259}]
------------------------------------------------------
term 44 Server2 start snapshot! index=259
term 44 server2 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=259
-------------------------------------------------------------
flag 31036 term 44 leader 2 nextIndex[0]: 260  matchIndex[0]: 259
flag 14265 term 43 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 43 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 43 leaderCommit: 258 
------------------------------------------------------
flag 58245 term 43 leader 1 nextIndex[2]: 259  matchIndex[2]: 258
term 43 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 43 leaderCommit: 258 
------------------------------------------------------
term 44 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 44 leaderCommit: 259 
------------------------------------------------------
term 44 leader 2 nextIndex[1]: 259  matchIndex[1]: 0
term 44 leader 2 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 44
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=259
leader log:
[{snapshot 44 259}]
------------------------------------------------------
term 44 Server0 start snapshot! index=259
term 44 server0 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=259
-------------------------------------------------------------
client write log 983057278477778758 (index 260) to leader 2
client write log 2187485095143856630 (index 261) to leader 2
client write log 7557202565989829789 (index 262) to leader 2
client write log 5727545266174698605 (index 263) to leader 2
client write log 5642861052231052995 (index 264) to leader 2
client write log 6960284306751571944 (index 265) to leader 2
client write log 2766588345510822428 (index 266) to leader 2
client write log 2556247264456877460 (index 267) to leader 2
client write log 3573379185818130967 (index 268) to leader 2
client write log 5279607909672805942 (index 269) to leader 2
client write log 1529700145836270337 (index 270) to leader 2
client write log 8488705527821076594 (index 271) to leader 2
client write log 8979272206999102280 (index 272) to leader 2
client write log 7787526313393244535 (index 273) to leader 2
client write log 3993893906326621071 (index 274) to leader 2
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 259->258
------------------------------------------------------
flag 27476 term 44 leader 2 nextIndex[0]: 260  matchIndex[0]: 259
term 44 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 44 leaderCommit: 259 
------------------------------------------------------
term 44 leader 2 nextIndex[1]: 259  matchIndex[1]: 0
term 44 leader 2 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 44
------------------------------------------------------
flag 93820 term 43 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 43 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 43 leaderCommit: 258 
------------------------------------------------------
term 43 leader 1 nextIndex[2]: 0  matchIndex[2]: 258
term 43 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 41
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=275
update matchIndex[0]=274
update leader CommitIndex=274
leader log:
[{snapshot 44 259} {983057278477778758 44 260} {2187485095143856630 44 261} {7557202565989829789 44 262} {5727545266174698605 44 263} {5642861052231052995 44 264} {6960284306751571944 44 265} {2766588345510822428 44 266} {2556247264456877460 44 267} {3573379185818130967 44 268} {5279607909672805942 44 269} {1529700145836270337 44 270} {8488705527821076594 44 271} {8979272206999102280 44 272} {7787526313393244535 44 273} {3993893906326621071 44 274}]
------------------------------------------------------
term 44 Server2 start snapshot! index=269
term 44 server2 snapshot success
lastIncludedIndex=269 lastApplied=269 lastIndex=274
-------------------------------------------------------------
flag 57095 term 44 leader 2 nextIndex[0]: 275  matchIndex[0]: 274
term 44 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 44 leaderCommit: 274 
------------------------------------------------------
term 44 leader 2 nextIndex[1]: 259  matchIndex[1]: 0
term 44 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 44
------------------------------------------------------
flag 56752 term 43 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 43 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 43 leaderCommit: 258 
------------------------------------------------------
term 43 leader 1 nextIndex[2]: 0  matchIndex[2]: 258
term 43 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 41
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=275
update matchIndex[0]=274
update leader CommitIndex=274
leader log:
[{snapshot 44 269} {1529700145836270337 44 270} {8488705527821076594 44 271} {8979272206999102280 44 272} {7787526313393244535 44 273} {3993893906326621071 44 274}]
------------------------------------------------------
term 44 Server0 start snapshot! index=269
term 44 server0 snapshot success
lastIncludedIndex=269 lastApplied=269 lastIndex=274
-------------------------------------------------------------
!!!!!!connect server 1
client write log 703059049224709439 (index 259) to leader 1
flag 47317 term 43 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 43 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 43 leaderCommit: 258 
------------------------------------------------------
term 43 leader 1 nextIndex[2]: 0  matchIndex[2]: 258
term 43 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 41
------------------------------------------------------
flag 21474 term 44 leader 2 nextIndex[0]: 275  matchIndex[0]: 274
term 44 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 44 leaderCommit: 274 
------------------------------------------------------
term 44 leader 2 nextIndex[1]: 259  matchIndex[1]: 0
term 44 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 44
------------------------------------------------------
term 44 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 43 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 44 server 0 AppendEntries false 领导者任期过期 args.Term 43
------------------------------------------------------
term 44 server 1 InstallSnapshot success
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 269 rf.lastIncludedTerm 44 rf.commitIndex 269 rf.lastApplied 269
term 44 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 270 matchIndex[1] 269 
------------------------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=275
update matchIndex[0]=274
update leader CommitIndex=274
leader log:
[{snapshot 44 269} {1529700145836270337 44 270} {8488705527821076594 44 271} {8979272206999102280 44 272} {7787526313393244535 44 273} {3993893906326621071 44 274}]
------------------------------------------------------
flag 43777 term 44 leader 2 nextIndex[0]: 275  matchIndex[0]: 274
term 44 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 44 leaderCommit: 274 
------------------------------------------------------
flag 30530 term 44 leader 2 nextIndex[1]: 270  matchIndex[1]: 269
term 44 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 44 leaderCommit: 274 
------------------------------------------------------
term 44 server 2 not vote for server 1, 日志不够新
term 44 server 0 not vote for server 1, 日志不够新
term 45 server 0 AppendEntries false 领导者任期过期 args.Term 44
------------------------------------------------------
term 45 server 1 AppendEntries false 领导者任期过期 args.Term 44
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 46 server 0 vote for server 2
term 46 server 2 get vote from server 0
term 46 server 2 become leader
------------------------------------------------------
term 46 server 1 vote for server 2
term 46 server 2 get outdate rpc reply from server 1
flag 8250 term 46 leader 2 nextIndex[0]: 275  matchIndex[0]: 0
term 46 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 44 leaderCommit: 274 
------------------------------------------------------
flag 30461 term 46 leader 2 nextIndex[1]: 275  matchIndex[1]: 0
term 46 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 44 leaderCommit: 274 
------------------------------------------------------
term 46 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 275->274
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=275
update matchIndex[0]=274
update leader CommitIndex=274
leader log:
[{snapshot 44 269} {1529700145836270337 44 270} {8488705527821076594 44 271} {8979272206999102280 44 272} {7787526313393244535 44 273} {3993893906326621071 44 274}]
------------------------------------------------------
flag 60647 term 46 leader 2 nextIndex[0]: 275  matchIndex[0]: 274
term 46 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 44 leaderCommit: 274 
------------------------------------------------------
flag 95994 term 46 leader 2 nextIndex[1]: 270  matchIndex[1]: 0
term 46 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 44 leaderCommit: 274 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=275
update matchIndex[0]=274
update leader CommitIndex=274
leader log:
[{snapshot 44 269} {1529700145836270337 44 270} {8488705527821076594 44 271} {8979272206999102280 44 272} {7787526313393244535 44 273} {3993893906326621071 44 274}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=274
leader log:
[{snapshot 44 269} {1529700145836270337 44 270} {8488705527821076594 44 271} {8979272206999102280 44 272} {7787526313393244535 44 273} {3993893906326621071 44 274}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62732 term 46 leader 2 nextIndex[0]: 275  matchIndex[0]: 274
term 46 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 44 leaderCommit: 274 
------------------------------------------------------
flag 5685 term 46 leader 2 nextIndex[1]: 275  matchIndex[1]: 274
term 46 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 44 leaderCommit: 274 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=274
leader log:
[{snapshot 44 269} {1529700145836270337 44 270} {8488705527821076594 44 271} {8979272206999102280 44 272} {7787526313393244535 44 273} {3993893906326621071 44 274}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=275
update matchIndex[0]=274
update leader CommitIndex=274
leader log:
[{snapshot 44 269} {1529700145836270337 44 270} {8488705527821076594 44 271} {8979272206999102280 44 272} {7787526313393244535 44 273} {3993893906326621071 44 274}]
------------------------------------------------------
term 46 server 1 not vote for server 2, 任期不够新
term 46 server 2 get outdate rpc reply from server 1
term 46 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 34798 term 46 leader 2 nextIndex[0]: 275  matchIndex[0]: 274
term 46 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 44 leaderCommit: 274 
------------------------------------------------------
flag 47477 term 46 leader 2 nextIndex[1]: 275  matchIndex[1]: 274
term 46 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 44 leaderCommit: 274 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=274
leader log:
[{snapshot 44 269} {1529700145836270337 44 270} {8488705527821076594 44 271} {8979272206999102280 44 272} {7787526313393244535 44 273} {3993893906326621071 44 274}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=275
update matchIndex[0]=274
update leader CommitIndex=274
leader log:
[{snapshot 44 269} {1529700145836270337 44 270} {8488705527821076594 44 271} {8979272206999102280 44 272} {7787526313393244535 44 273} {3993893906326621071 44 274}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 46 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 26094 term 46 leader 2 nextIndex[0]: 275  matchIndex[0]: 274
term 46 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 44 leaderCommit: 274 
------------------------------------------------------
flag 14980 term 46 leader 2 nextIndex[1]: 275  matchIndex[1]: 274
term 46 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 44 leaderCommit: 274 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=274
leader log:
[{snapshot 44 269} {1529700145836270337 44 270} {8488705527821076594 44 271} {8979272206999102280 44 272} {7787526313393244535 44 273} {3993893906326621071 44 274}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=275
update matchIndex[0]=274
update leader CommitIndex=274
leader log:
[{snapshot 44 269} {1529700145836270337 44 270} {8488705527821076594 44 271} {8979272206999102280 44 272} {7787526313393244535 44 273} {3993893906326621071 44 274}]
------------------------------------------------------
flag 76511 term 46 leader 2 nextIndex[0]: 275  matchIndex[0]: 274
term 46 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 44 leaderCommit: 274 
------------------------------------------------------
flag 26047 term 46 leader 2 nextIndex[1]: 275  matchIndex[1]: 274
term 46 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 44 leaderCommit: 274 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=274
leader log:
[{snapshot 44 269} {1529700145836270337 44 270} {8488705527821076594 44 271} {8979272206999102280 44 272} {7787526313393244535 44 273} {3993893906326621071 44 274}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=275
update matchIndex[0]=274
update leader CommitIndex=274
leader log:
[{snapshot 44 269} {1529700145836270337 44 270} {8488705527821076594 44 271} {8979272206999102280 44 272} {7787526313393244535 44 273} {3993893906326621071 44 274}]
------------------------------------------------------
flag 33367 term 46 leader 2 nextIndex[0]: 275  matchIndex[0]: 274
term 46 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 44 leaderCommit: 274 
------------------------------------------------------
flag 45713 term 46 leader 2 nextIndex[1]: 275  matchIndex[1]: 274
term 46 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 44 leaderCommit: 274 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=274
leader log:
[{snapshot 44 269} {1529700145836270337 44 270} {8488705527821076594 44 271} {8979272206999102280 44 272} {7787526313393244535 44 273} {3993893906326621071 44 274}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=275
update matchIndex[0]=274
update leader CommitIndex=274
leader log:
[{snapshot 44 269} {1529700145836270337 44 270} {8488705527821076594 44 271} {8979272206999102280 44 272} {7787526313393244535 44 273} {3993893906326621071 44 274}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25443 term 46 leader 2 nextIndex[0]: 275  matchIndex[0]: 274
term 46 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 44 leaderCommit: 274 
------------------------------------------------------
flag 41473 term 46 leader 2 nextIndex[1]: 275  matchIndex[1]: 274
term 46 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 44 leaderCommit: 274 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=274
leader log:
[{snapshot 44 269} {1529700145836270337 44 270} {8488705527821076594 44 271} {8979272206999102280 44 272} {7787526313393244535 44 273} {3993893906326621071 44 274}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=275
update matchIndex[0]=274
update leader CommitIndex=274
leader log:
[{snapshot 44 269} {1529700145836270337 44 270} {8488705527821076594 44 271} {8979272206999102280 44 272} {7787526313393244535 44 273} {3993893906326621071 44 274}]
------------------------------------------------------
flag 19074 term 46 leader 2 nextIndex[0]: 275  matchIndex[0]: 274
term 46 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 44 leaderCommit: 274 
------------------------------------------------------
flag 12684 term 46 leader 2 nextIndex[1]: 275  matchIndex[1]: 274
term 46 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 44 leaderCommit: 274 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=274
leader log:
[{snapshot 44 269} {1529700145836270337 44 270} {8488705527821076594 44 271} {8979272206999102280 44 272} {7787526313393244535 44 273} {3993893906326621071 44 274}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=275
update matchIndex[0]=274
update leader CommitIndex=274
leader log:
[{snapshot 44 269} {1529700145836270337 44 270} {8488705527821076594 44 271} {8979272206999102280 44 272} {7787526313393244535 44 273} {3993893906326621071 44 274}]
------------------------------------------------------
term 46 server 1 not vote for server 2, 任期不够新
term 46 server 2 get outdate rpc reply from server 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99964 term 46 leader 2 nextIndex[0]: 275  matchIndex[0]: 274
term 46 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 44 leaderCommit: 274 
------------------------------------------------------
flag 33345 term 46 leader 2 nextIndex[1]: 275  matchIndex[1]: 274
term 46 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 44 leaderCommit: 274 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=274
leader log:
[{snapshot 44 269} {1529700145836270337 44 270} {8488705527821076594 44 271} {8979272206999102280 44 272} {7787526313393244535 44 273} {3993893906326621071 44 274}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=275
update matchIndex[0]=274
update leader CommitIndex=274
leader log:
[{snapshot 44 269} {1529700145836270337 44 270} {8488705527821076594 44 271} {8979272206999102280 44 272} {7787526313393244535 44 273} {3993893906326621071 44 274}]
------------------------------------------------------
flag 31683 term 46 leader 2 nextIndex[0]: 275  matchIndex[0]: 274
term 46 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 44 leaderCommit: 274 
------------------------------------------------------
flag 36867 term 46 leader 2 nextIndex[1]: 275  matchIndex[1]: 274
term 46 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 44 leaderCommit: 274 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=274
leader log:
[{snapshot 44 269} {1529700145836270337 44 270} {8488705527821076594 44 271} {8979272206999102280 44 272} {7787526313393244535 44 273} {3993893906326621071 44 274}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=275
update matchIndex[0]=274
update leader CommitIndex=274
leader log:
[{snapshot 44 269} {1529700145836270337 44 270} {8488705527821076594 44 271} {8979272206999102280 44 272} {7787526313393244535 44 273} {3993893906326621071 44 274}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 46 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 54543 term 46 leader 2 nextIndex[0]: 275  matchIndex[0]: 274
term 46 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 44 leaderCommit: 274 
------------------------------------------------------
flag 60095 term 46 leader 2 nextIndex[1]: 275  matchIndex[1]: 274
term 46 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 44 leaderCommit: 274 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=274
leader log:
[{snapshot 44 269} {1529700145836270337 44 270} {8488705527821076594 44 271} {8979272206999102280 44 272} {7787526313393244535 44 273} {3993893906326621071 44 274}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=275
update matchIndex[0]=274
update leader CommitIndex=274
leader log:
[{snapshot 44 269} {1529700145836270337 44 270} {8488705527821076594 44 271} {8979272206999102280 44 272} {7787526313393244535 44 273} {3993893906326621071 44 274}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79680 term 46 leader 2 nextIndex[0]: 275  matchIndex[0]: 274
term 46 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 44 leaderCommit: 274 
------------------------------------------------------
flag 59327 term 46 leader 2 nextIndex[1]: 275  matchIndex[1]: 274
term 46 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 44 leaderCommit: 274 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=274
leader log:
[{snapshot 44 269} {1529700145836270337 44 270} {8488705527821076594 44 271} {8979272206999102280 44 272} {7787526313393244535 44 273} {3993893906326621071 44 274}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=275
update matchIndex[0]=274
update leader CommitIndex=274
leader log:
[{snapshot 44 269} {1529700145836270337 44 270} {8488705527821076594 44 271} {8979272206999102280 44 272} {7787526313393244535 44 273} {3993893906326621071 44 274}]
------------------------------------------------------
flag 8746 term 46 leader 2 nextIndex[0]: 275  matchIndex[0]: 274
term 46 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 44 leaderCommit: 274 
------------------------------------------------------
flag 91893 term 46 leader 2 nextIndex[1]: 275  matchIndex[1]: 274
term 46 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 44 leaderCommit: 274 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=275
update matchIndex[0]=274
update leader CommitIndex=274
leader log:
[{snapshot 44 269} {1529700145836270337 44 270} {8488705527821076594 44 271} {8979272206999102280 44 272} {7787526313393244535 44 273} {3993893906326621071 44 274}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=274
leader log:
[{snapshot 44 269} {1529700145836270337 44 270} {8488705527821076594 44 271} {8979272206999102280 44 272} {7787526313393244535 44 273} {3993893906326621071 44 274}]
------------------------------------------------------
flag 15835 term 46 leader 2 nextIndex[0]: 275  matchIndex[0]: 274
term 46 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 44 leaderCommit: 274 
------------------------------------------------------
flag 49331 term 46 leader 2 nextIndex[1]: 275  matchIndex[1]: 274
term 46 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 44 leaderCommit: 274 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=274
leader log:
[{snapshot 44 269} {1529700145836270337 44 270} {8488705527821076594 44 271} {8979272206999102280 44 272} {7787526313393244535 44 273} {3993893906326621071 44 274}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=275
update matchIndex[0]=274
update leader CommitIndex=274
leader log:
[{snapshot 44 269} {1529700145836270337 44 270} {8488705527821076594 44 271} {8979272206999102280 44 272} {7787526313393244535 44 273} {3993893906326621071 44 274}]
------------------------------------------------------
flag 42544 term 46 leader 2 nextIndex[0]: 275  matchIndex[0]: 274
term 46 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 44 leaderCommit: 274 
------------------------------------------------------
flag 87858 term 46 leader 2 nextIndex[1]: 275  matchIndex[1]: 274
term 46 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 44 leaderCommit: 274 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=274
leader log:
[{snapshot 44 269} {1529700145836270337 44 270} {8488705527821076594 44 271} {8979272206999102280 44 272} {7787526313393244535 44 273} {3993893906326621071 44 274}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=275
update matchIndex[0]=274
update leader CommitIndex=274
leader log:
[{snapshot 44 269} {1529700145836270337 44 270} {8488705527821076594 44 271} {8979272206999102280 44 272} {7787526313393244535 44 273} {3993893906326621071 44 274}]
------------------------------------------------------
flag 51234 term 46 leader 2 nextIndex[0]: 275  matchIndex[0]: 274
term 46 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 44 leaderCommit: 274 
------------------------------------------------------
flag 50477 term 46 leader 2 nextIndex[1]: 275  matchIndex[1]: 274
term 46 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 44 leaderCommit: 274 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=274
leader log:
[{snapshot 44 269} {1529700145836270337 44 270} {8488705527821076594 44 271} {8979272206999102280 44 272} {7787526313393244535 44 273} {3993893906326621071 44 274}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=275
update matchIndex[0]=274
update leader CommitIndex=274
leader log:
[{snapshot 44 269} {1529700145836270337 44 270} {8488705527821076594 44 271} {8979272206999102280 44 272} {7787526313393244535 44 273} {3993893906326621071 44 274}]
------------------------------------------------------
flag 17255 term 46 leader 2 nextIndex[0]: 275  matchIndex[0]: 274
term 46 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 44 leaderCommit: 274 
------------------------------------------------------
flag 74018 term 46 leader 2 nextIndex[1]: 275  matchIndex[1]: 274
term 46 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 44 leaderCommit: 274 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=274
leader log:
term 46 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
[{snapshot 44 269} {1529700145836270337 44 270} {8488705527821076594 44 271} {8979272206999102280 44 272} {7787526313393244535 44 273} {3993893906326621071 44 274}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=275
update matchIndex[0]=274
update leader CommitIndex=274
leader log:
[{snapshot 44 269} {1529700145836270337 44 270} {8488705527821076594 44 271} {8979272206999102280 44 272} {7787526313393244535 44 273} {3993893906326621071 44 274}]
------------------------------------------------------
client write log 703059049224709439 (index 275) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37565 term 46 leader 2 nextIndex[0]: 275  matchIndex[0]: 274
term 46 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 44 leaderCommit: 274 
------------------------------------------------------
flag 45740 term 46 leader 2 nextIndex[1]: 275  matchIndex[1]: 274
term 46 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 44 leaderCommit: 274 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 44 269} {1529700145836270337 44 270} {8488705527821076594 44 271} {8979272206999102280 44 272} {7787526313393244535 44 273} {3993893906326621071 44 274} {703059049224709439 46 275}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=275
leader log:
[{snapshot 44 269} {1529700145836270337 44 270} {8488705527821076594 44 271} {8979272206999102280 44 272} {7787526313393244535 44 273} {3993893906326621071 44 274} {703059049224709439 46 275}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59528 term 46 leader 2 nextIndex[0]: 276  matchIndex[0]: 275
term 46 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 46 leaderCommit: 275 
------------------------------------------------------
flag 21833 term 46 leader 2 nextIndex[1]: 276  matchIndex[1]: 275
term 46 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 46 leaderCommit: 275 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=275
leader log:
[{snapshot 44 269} {1529700145836270337 44 270} {8488705527821076594 44 271} {8979272206999102280 44 272} {7787526313393244535 44 273} {3993893906326621071 44 274} {703059049224709439 46 275}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 44 269} {1529700145836270337 44 270} {8488705527821076594 44 271} {8979272206999102280 44 272} {7787526313393244535 44 273} {3993893906326621071 44 274} {703059049224709439 46 275}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27483 term 46 leader 2 nextIndex[0]: 276  matchIndex[0]: 275
term 46 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 46 leaderCommit: 275 
------------------------------------------------------
flag 88463 term 46 leader 2 nextIndex[1]: 276  matchIndex[1]: 275
term 46 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 46 leaderCommit: 275 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=275
leader log:
[{snapshot 44 269} {1529700145836270337 44 270} {8488705527821076594 44 271} {8979272206999102280 44 272} {7787526313393244535 44 273} {3993893906326621071 44 274} {703059049224709439 46 275}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 44 269} {1529700145836270337 44 270} {8488705527821076594 44 271} {8979272206999102280 44 272} {7787526313393244535 44 273} {3993893906326621071 44 274} {703059049224709439 46 275}]
------------------------------------------------------
term 46 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 32703 term 46 leader 2 nextIndex[0]: 276  matchIndex[0]: 275
term 46 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 46 leaderCommit: 275 
------------------------------------------------------
flag 73238 term 46 leader 2 nextIndex[1]: 276  matchIndex[1]: 275
term 46 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 46 leaderCommit: 275 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 44 269} {1529700145836270337 44 270} {8488705527821076594 44 271} {8979272206999102280 44 272} {7787526313393244535 44 273} {3993893906326621071 44 274} {703059049224709439 46 275}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=275
leader log:
[{snapshot 44 269} {1529700145836270337 44 270} {8488705527821076594 44 271} {8979272206999102280 44 272} {7787526313393244535 44 273} {3993893906326621071 44 274} {703059049224709439 46 275}]
------------------------------------------------------
flag 70690 term 46 leader 2 nextIndex[0]: 276  matchIndex[0]: 275
term 46 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 46 leaderCommit: 275 
------------------------------------------------------
flag 52124 term 46 leader 2 nextIndex[1]: 276  matchIndex[1]: 275
term 46 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 46 leaderCommit: 275 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 44 269} {1529700145836270337 44 270} {8488705527821076594 44 271} {8979272206999102280 44 272} {7787526313393244535 44 273} {3993893906326621071 44 274} {703059049224709439 46 275}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=275
leader log:
[{snapshot 44 269} {1529700145836270337 44 270} {8488705527821076594 44 271} {8979272206999102280 44 272} {7787526313393244535 44 273} {3993893906326621071 44 274} {703059049224709439 46 275}]
------------------------------------------------------
flag 41227 term 46 leader 2 nextIndex[0]: 276  matchIndex[0]: 275
term 46 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 46 leaderCommit: 275 
------------------------------------------------------
flag 76840 term 46 leader 2 nextIndex[1]: 276  matchIndex[1]: 275
term 46 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 46 leaderCommit: 275 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 44 269} {1529700145836270337 44 270} {8488705527821076594 44 271} {8979272206999102280 44 272} {7787526313393244535 44 273} {3993893906326621071 44 274} {703059049224709439 46 275}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=275
leader log:
[{snapshot 44 269} {1529700145836270337 44 270} {8488705527821076594 44 271} {8979272206999102280 44 272} {7787526313393244535 44 273} {3993893906326621071 44 274} {703059049224709439 46 275}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 8660728282194128517 (index 276) to leader 2
flag 35037 term 46 leader 2 nextIndex[0]: 276  matchIndex[0]: 275
term 46 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 46 leaderCommit: 275 
------------------------------------------------------
flag 58690 term 46 leader 2 nextIndex[1]: 276  matchIndex[1]: 275
term 46 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 46 leaderCommit: 275 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 44 269} {1529700145836270337 44 270} {8488705527821076594 44 271} {8979272206999102280 44 272} {7787526313393244535 44 273} {3993893906326621071 44 274} {703059049224709439 46 275} {8660728282194128517 46 276}]
------------------------------------------------------
flag 12388 term 46 leader 2 nextIndex[0]: 276  matchIndex[0]: 275
term 46 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 46 leaderCommit: 276 
------------------------------------------------------
flag 41973 term 46 leader 2 nextIndex[1]: 277  matchIndex[1]: 276
term 46 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 46 leaderCommit: 276 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 44 269} {1529700145836270337 44 270} {8488705527821076594 44 271} {8979272206999102280 44 272} {7787526313393244535 44 273} {3993893906326621071 44 274} {703059049224709439 46 275} {8660728282194128517 46 276}]
------------------------------------------------------
client write log 2435202874802636219 (index 277) to leader 2
client write log 1920349245785117806 (index 278) to leader 2
client write log 9047606161997946163 (index 279) to leader 2
client write log 7575014360868963117 (index 280) to leader 2
client write log 283913557909631928 (index 281) to leader 2
client write log 6886925412364513046 (index 282) to leader 2
client write log 6807690102999090108 (index 283) to leader 2
client write log 1316407129525870950 (index 284) to leader 2
client write log 6976787723949264651 (index 285) to leader 2
client write log 5007884566391931617 (index 286) to leader 2
client write log 607539539805742058 (index 287) to leader 2
client write log 5013451489780009724 (index 288) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38307 term 46 leader 2 nextIndex[0]: 276  matchIndex[0]: 275
term 46 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 46 leaderCommit: 276 
------------------------------------------------------
flag 54510 term 46 leader 2 nextIndex[1]: 277  matchIndex[1]: 276
term 46 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 46 leaderCommit: 276 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=288
leader log:
[{snapshot 44 269} {1529700145836270337 44 270} {8488705527821076594 44 271} {8979272206999102280 44 272} {7787526313393244535 44 273} {3993893906326621071 44 274} {703059049224709439 46 275} {8660728282194128517 46 276} {2435202874802636219 46 277} {1920349245785117806 46 278} {9047606161997946163 46 279} {7575014360868963117 46 280} {283913557909631928 46 281} {6886925412364513046 46 282} {6807690102999090108 46 283} {1316407129525870950 46 284} {6976787723949264651 46 285} {5007884566391931617 46 286} {607539539805742058 46 287} {5013451489780009724 46 288}]
------------------------------------------------------
term 46 Server2 start snapshot! index=279
term 46 server2 snapshot success
lastIncludedIndex=279 lastApplied=280 lastIndex=288
-------------------------------------------------------------
term 46 leader 2 nextIndex[0]: 276  matchIndex[0]: 275
term 46 leader 2 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 46
------------------------------------------------------
flag 85380 term 46 leader 2 nextIndex[1]: 289  matchIndex[1]: 288
term 46 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 46 leaderCommit: 288 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=288
leader log:
[{snapshot 46 279} {7575014360868963117 46 280} {283913557909631928 46 281} {6886925412364513046 46 282} {6807690102999090108 46 283} {1316407129525870950 46 284} {6976787723949264651 46 285} {5007884566391931617 46 286} {607539539805742058 46 287} {5013451489780009724 46 288}]
------------------------------------------------------
term 46 Server1 start snapshot! index=279
term 46 server1 snapshot success
lastIncludedIndex=279 lastApplied=280 lastIndex=288
-------------------------------------------------------------
!!!!!!connect server 0
client write log 3779680918791175720 (index 289) to leader 2
term 46 leader 2 nextIndex[0]: 276  matchIndex[0]: 275
term 46 leader 2 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 46
------------------------------------------------------
flag 64729 term 46 leader 2 nextIndex[1]: 289  matchIndex[1]: 288
term 46 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 46 leaderCommit: 288 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=289
leader log:
[{snapshot 46 279} {7575014360868963117 46 280} {283913557909631928 46 281} {6886925412364513046 46 282} {6807690102999090108 46 283} {1316407129525870950 46 284} {6976787723949264651 46 285} {5007884566391931617 46 286} {607539539805742058 46 287} {5013451489780009724 46 288} {3779680918791175720 46 289}]
------------------------------------------------------
term 47 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 46 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 47 Server2 start snapshot! index=289
term 47 server2 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=289
-------------------------------------------------------------
term 48 server 1 vote for server 2
term 48 server 0 vote for server 2
term 48 server 2 get vote from server 1
term 48 server 2 become leader
------------------------------------------------------
term 48 server 2 get outdate rpc reply from server 0
flag 77435 term 48 leader 2 nextIndex[0]: 290  matchIndex[0]: 0
term 48 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 46 leaderCommit: 289 
------------------------------------------------------
flag 50653 term 48 leader 2 nextIndex[1]: 290  matchIndex[1]: 0
term 48 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 46 leaderCommit: 289 
------------------------------------------------------
term 48 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 290->289
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=289
leader log:
[{snapshot 46 289}]
------------------------------------------------------
term 48 Server1 start snapshot! index=289
term 48 server1 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=289
-------------------------------------------------------------
term 48 leader 2 nextIndex[0]: 276  matchIndex[0]: 0
term 48 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 46
------------------------------------------------------
flag 58078 term 48 leader 2 nextIndex[1]: 290  matchIndex[1]: 289
term 48 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 46 leaderCommit: 289 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
term 48 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=289
leader log:
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 289 rf.lastIncludedTerm 46 rf.commitIndex 289 rf.lastApplied 289
[{snapshot 46 289}]
------------------------------------------------------
term 48 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 290 matchIndex[0] 289 
------------------------------------------------------------------------
flag 39670 term 48 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 48 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 46 leaderCommit: 289 
------------------------------------------------------
flag 86280 term 48 leader 2 nextIndex[1]: 290  matchIndex[1]: 289
term 48 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 46 leaderCommit: 289 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=289
leader log:
[{snapshot 46 289}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=290
update matchIndex[0]=289
update leader CommitIndex=289
leader log:
[{snapshot 46 289}]
------------------------------------------------------
flag 46048 term 48 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 48 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 46 leaderCommit: 289 
------------------------------------------------------
flag 82147 term 48 leader 2 nextIndex[1]: 290  matchIndex[1]: 289
term 48 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 46 leaderCommit: 289 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=290
update matchIndex[0]=289
update leader CommitIndex=289
leader log:
[{snapshot 46 289}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=289
leader log:
[{snapshot 46 289}]
------------------------------------------------------
flag 80605 term 48 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 48 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 46 leaderCommit: 289 
------------------------------------------------------
flag 78753 term 48 leader 2 nextIndex[1]: 290  matchIndex[1]: 289
term 48 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 46 leaderCommit: 289 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=289
leader log:
[{snapshot 46 289}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=290
update matchIndex[0]=289
update leader CommitIndex=289
leader log:
[{snapshot 46 289}]
------------------------------------------------------
flag 84448 term 48 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 48 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 46 leaderCommit: 289 
------------------------------------------------------
flag 80448 term 48 leader 2 nextIndex[1]: 290  matchIndex[1]: 289
term 48 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 46 leaderCommit: 289 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=289
leader log:
[{snapshot 46 289}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=290
update matchIndex[0]=289
update leader CommitIndex=289
leader log:
[{snapshot 46 289}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 4332566349524967094 (index 290) to leader 2
flag 99871 term 48 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 48 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 46 leaderCommit: 289 
------------------------------------------------------
flag 97391 term 48 leader 2 nextIndex[1]: 290  matchIndex[1]: 289
term 48 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 46 leaderCommit: 289 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 46 289} {4332566349524967094 48 290}]
------------------------------------------------------
flag 85665 term 48 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 48 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
flag 86057 term 48 leader 2 nextIndex[1]: 291  matchIndex[1]: 290
term 48 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 48 leaderCommit: 290 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 46 289} {4332566349524967094 48 290}]
------------------------------------------------------
client write log 4751459699932417681 (index 291) to leader 2
client write log 8092799197057262841 (index 292) to leader 2
client write log 6051037522766934048 (index 293) to leader 2
client write log 1450728941973828990 (index 294) to leader 2
client write log 2839797239524945863 (index 295) to leader 2
client write log 1674756221407026314 (index 296) to leader 2
client write log 359898683199372272 (index 297) to leader 2
client write log 7619465473397962142 (index 298) to leader 2
client write log 4913312030066150806 (index 299) to leader 2
client write log 3202530724953017758 (index 300) to leader 2
client write log 980193938887657853 (index 301) to leader 2
client write log 8841732311657628152 (index 302) to leader 2
client write log 5437997403235340937 (index 303) to leader 2
client write log 8009558743819988863 (index 304) to leader 2
client write log 5822913773013244451 (index 305) to leader 2
flag 72659 term 48 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 48 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
flag 41681 term 48 leader 2 nextIndex[1]: 291  matchIndex[1]: 290
term 48 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 48 leaderCommit: 290 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=305
leader log:
[{snapshot 46 289} {4332566349524967094 48 290} {4751459699932417681 48 291} {8092799197057262841 48 292} {6051037522766934048 48 293} {1450728941973828990 48 294} {2839797239524945863 48 295} {1674756221407026314 48 296} {359898683199372272 48 297} {7619465473397962142 48 298} {4913312030066150806 48 299} {3202530724953017758 48 300} {980193938887657853 48 301} {8841732311657628152 48 302} {5437997403235340937 48 303} {8009558743819988863 48 304} {5822913773013244451 48 305}]
------------------------------------------------------
term 48 Server2 start snapshot! index=299
term 48 server2 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=305
-------------------------------------------------------------
term 48 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 48 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 48
------------------------------------------------------
flag 7364 term 48 leader 2 nextIndex[1]: 306  matchIndex[1]: 305
term 48 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 48 leaderCommit: 305 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=305
leader log:
[{snapshot 48 299} {3202530724953017758 48 300} {980193938887657853 48 301} {8841732311657628152 48 302} {5437997403235340937 48 303} {8009558743819988863 48 304} {5822913773013244451 48 305}]
------------------------------------------------------
term 48 Server1 start snapshot! index=299
term 48 server1 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=305
-------------------------------------------------------------
!!!!!!connect server 0
client write log 1189662888083216023 (index 306) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 48 server 2 not vote for server 0, 日志不够新
term 48 server 1 not vote for server 0, 日志不够新
term 50 server 1 vote for server 2
term 50 server 0 vote for server 2
term 50 server 2 get vote from server 1
term 50 server 2 become leader
------------------------------------------------------
term 50 server 2 get outdate rpc reply from server 0
flag 76202 term 50 leader 2 nextIndex[0]: 307  matchIndex[0]: 0
term 50 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 48 leaderCommit: 305 
------------------------------------------------------
flag 62607 term 50 leader 2 nextIndex[1]: 307  matchIndex[1]: 0
term 50 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 48 leaderCommit: 305 
------------------------------------------------------
term 50 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 50 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 307->306
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 307->306
------------------------------------------------------
term 50 leader 2 nextIndex[0]: 290  matchIndex[0]: 0
term 50 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 48
------------------------------------------------------
flag 97750 term 50 leader 2 nextIndex[1]: 306  matchIndex[1]: 0
term 50 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 48 leaderCommit: 305 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
term 50 server 0 InstallSnapshot success
------------------------------------------------------
update leader CommitIndex=305
leader log:
[{snapshot 48 299} {3202530724953017758 48 300} {980193938887657853 48 301} {8841732311657628152 48 302} {5437997403235340937 48 303} {8009558743819988863 48 304} {5822913773013244451 48 305} {1189662888083216023 48 306}]
------------------------------------------------------
term 50 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 300 matchIndex[0] 299 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 299 rf.lastIncludedTerm 48 rf.commitIndex 299 rf.lastApplied 299
flag 48327 term 50 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 50 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 305 
------------------------------------------------------
flag 21973 term 50 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 50 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 48 leaderCommit: 305 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 48 299} {3202530724953017758 48 300} {980193938887657853 48 301} {8841732311657628152 48 302} {5437997403235340937 48 303} {8009558743819988863 48 304} {5822913773013244451 48 305} {1189662888083216023 48 306}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 48 299} {3202530724953017758 48 300} {980193938887657853 48 301} {8841732311657628152 48 302} {5437997403235340937 48 303} {8009558743819988863 48 304} {5822913773013244451 48 305} {1189662888083216023 48 306}]
------------------------------------------------------
flag 34669 term 50 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 50 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 48 leaderCommit: 305 
------------------------------------------------------
flag 68063 term 50 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 50 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 48 leaderCommit: 305 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 48 299} {3202530724953017758 48 300} {980193938887657853 48 301} {8841732311657628152 48 302} {5437997403235340937 48 303} {8009558743819988863 48 304} {5822913773013244451 48 305} {1189662888083216023 48 306}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 48 299} {3202530724953017758 48 300} {980193938887657853 48 301} {8841732311657628152 48 302} {5437997403235340937 48 303} {8009558743819988863 48 304} {5822913773013244451 48 305} {1189662888083216023 48 306}]
------------------------------------------------------
flag 46634 term 50 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 50 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 48 leaderCommit: 305 
------------------------------------------------------
flag 40116 term 50 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 50 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 48 leaderCommit: 305 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 48 299} {3202530724953017758 48 300} {980193938887657853 48 301} {8841732311657628152 48 302} {5437997403235340937 48 303} {8009558743819988863 48 304} {5822913773013244451 48 305} {1189662888083216023 48 306}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 48 299} {3202530724953017758 48 300} {980193938887657853 48 301} {8841732311657628152 48 302} {5437997403235340937 48 303} {8009558743819988863 48 304} {5822913773013244451 48 305} {1189662888083216023 48 306}]
------------------------------------------------------
flag 50647 term 50 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 50 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 48 leaderCommit: 305 
------------------------------------------------------
flag 2943 term 50 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 50 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 48 leaderCommit: 305 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 48 299} {3202530724953017758 48 300} {980193938887657853 48 301} {8841732311657628152 48 302} {5437997403235340937 48 303} {8009558743819988863 48 304} {5822913773013244451 48 305} {1189662888083216023 48 306}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 48 299} {3202530724953017758 48 300} {980193938887657853 48 301} {8841732311657628152 48 302} {5437997403235340937 48 303} {8009558743819988863 48 304} {5822913773013244451 48 305} {1189662888083216023 48 306}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 50 server 2 not vote for server 0, 任期不够新
term 50 server 0 get outdate rpc reply from server 2
flag 20445 term 50 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 50 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 48 leaderCommit: 305 
------------------------------------------------------
flag 13069 term 50 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 50 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 48 leaderCommit: 305 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 48 299} {3202530724953017758 48 300} {980193938887657853 48 301} {8841732311657628152 48 302} {5437997403235340937 48 303} {8009558743819988863 48 304} {5822913773013244451 48 305} {1189662888083216023 48 306}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 48 299} {3202530724953017758 48 300} {980193938887657853 48 301} {8841732311657628152 48 302} {5437997403235340937 48 303} {8009558743819988863 48 304} {5822913773013244451 48 305} {1189662888083216023 48 306}]
------------------------------------------------------
flag 77799 term 50 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 50 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 48 leaderCommit: 305 
------------------------------------------------------
flag 4588 term 50 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 50 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 48 leaderCommit: 305 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 48 299} {3202530724953017758 48 300} {980193938887657853 48 301} {8841732311657628152 48 302} {5437997403235340937 48 303} {8009558743819988863 48 304} {5822913773013244451 48 305} {1189662888083216023 48 306}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 48 299} {3202530724953017758 48 300} {980193938887657853 48 301} {8841732311657628152 48 302} {5437997403235340937 48 303} {8009558743819988863 48 304} {5822913773013244451 48 305} {1189662888083216023 48 306}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72156 term 50 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 50 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 48 leaderCommit: 305 
------------------------------------------------------
flag 47881 term 50 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 50 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 48 leaderCommit: 305 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 48 299} {3202530724953017758 48 300} {980193938887657853 48 301} {8841732311657628152 48 302} {5437997403235340937 48 303} {8009558743819988863 48 304} {5822913773013244451 48 305} {1189662888083216023 48 306}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 48 299} {3202530724953017758 48 300} {980193938887657853 48 301} {8841732311657628152 48 302} {5437997403235340937 48 303} {8009558743819988863 48 304} {5822913773013244451 48 305} {1189662888083216023 48 306}]
------------------------------------------------------
term 50 server 1 not vote for server 0, 任期不够新
term 50 server 0 get outdate rpc reply from server 1
flag 359 term 50 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 50 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 48 leaderCommit: 305 
------------------------------------------------------
flag 20934 term 50 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 50 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 48 leaderCommit: 305 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 48 299} {3202530724953017758 48 300} {980193938887657853 48 301} {8841732311657628152 48 302} {5437997403235340937 48 303} {8009558743819988863 48 304} {5822913773013244451 48 305} {1189662888083216023 48 306}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 48 299} {3202530724953017758 48 300} {980193938887657853 48 301} {8841732311657628152 48 302} {5437997403235340937 48 303} {8009558743819988863 48 304} {5822913773013244451 48 305} {1189662888083216023 48 306}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44539 term 50 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 50 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 48 leaderCommit: 305 
------------------------------------------------------
flag 93627 term 50 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 50 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 48 leaderCommit: 305 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 48 299} {3202530724953017758 48 300} {980193938887657853 48 301} {8841732311657628152 48 302} {5437997403235340937 48 303} {8009558743819988863 48 304} {5822913773013244451 48 305} {1189662888083216023 48 306}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 48 299} {3202530724953017758 48 300} {980193938887657853 48 301} {8841732311657628152 48 302} {5437997403235340937 48 303} {8009558743819988863 48 304} {5822913773013244451 48 305} {1189662888083216023 48 306}]
------------------------------------------------------
flag 44706 term 50 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 50 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 48 leaderCommit: 305 
------------------------------------------------------
flag 82088 term 50 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 50 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 48 leaderCommit: 305 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 48 299} {3202530724953017758 48 300} {980193938887657853 48 301} {8841732311657628152 48 302} {5437997403235340937 48 303} {8009558743819988863 48 304} {5822913773013244451 48 305} {1189662888083216023 48 306}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 48 299} {3202530724953017758 48 300} {980193938887657853 48 301} {8841732311657628152 48 302} {5437997403235340937 48 303} {8009558743819988863 48 304} {5822913773013244451 48 305} {1189662888083216023 48 306}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18472 term 50 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 50 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 48 leaderCommit: 305 
------------------------------------------------------
flag 85910 term 50 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 50 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 48 leaderCommit: 305 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 48 299} {3202530724953017758 48 300} {980193938887657853 48 301} {8841732311657628152 48 302} {5437997403235340937 48 303} {8009558743819988863 48 304} {5822913773013244451 48 305} {1189662888083216023 48 306}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 48 299} {3202530724953017758 48 300} {980193938887657853 48 301} {8841732311657628152 48 302} {5437997403235340937 48 303} {8009558743819988863 48 304} {5822913773013244451 48 305} {1189662888083216023 48 306}]
------------------------------------------------------
flag 37097 term 50 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 50 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 48 leaderCommit: 305 
------------------------------------------------------
flag 39163 term 50 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 50 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 48 leaderCommit: 305 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 48 299} {3202530724953017758 48 300} {980193938887657853 48 301} {8841732311657628152 48 302} {5437997403235340937 48 303} {8009558743819988863 48 304} {5822913773013244451 48 305} {1189662888083216023 48 306}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 48 299} {3202530724953017758 48 300} {980193938887657853 48 301} {8841732311657628152 48 302} {5437997403235340937 48 303} {8009558743819988863 48 304} {5822913773013244451 48 305} {1189662888083216023 48 306}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1518 term 50 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 50 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 48 leaderCommit: 305 
------------------------------------------------------
flag 35719 term 50 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 50 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 48 leaderCommit: 305 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 48 299} {3202530724953017758 48 300} {980193938887657853 48 301} {8841732311657628152 48 302} {5437997403235340937 48 303} {8009558743819988863 48 304} {5822913773013244451 48 305} {1189662888083216023 48 306}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 48 299} {3202530724953017758 48 300} {980193938887657853 48 301} {8841732311657628152 48 302} {5437997403235340937 48 303} {8009558743819988863 48 304} {5822913773013244451 48 305} {1189662888083216023 48 306}]
------------------------------------------------------
flag 5469 term 50 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 50 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 48 leaderCommit: 305 
------------------------------------------------------
flag 20696 term 50 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 50 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 48 leaderCommit: 305 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 48 299} {3202530724953017758 48 300} {980193938887657853 48 301} {8841732311657628152 48 302} {5437997403235340937 48 303} {8009558743819988863 48 304} {5822913773013244451 48 305} {1189662888083216023 48 306}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 48 299} {3202530724953017758 48 300} {980193938887657853 48 301} {8841732311657628152 48 302} {5437997403235340937 48 303} {8009558743819988863 48 304} {5822913773013244451 48 305} {1189662888083216023 48 306}]
------------------------------------------------------
term 50 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 71814 term 50 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 50 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 48 leaderCommit: 305 
------------------------------------------------------
flag 66400 term 50 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 50 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 48 leaderCommit: 305 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 48 299} {3202530724953017758 48 300} {980193938887657853 48 301} {8841732311657628152 48 302} {5437997403235340937 48 303} {8009558743819988863 48 304} {5822913773013244451 48 305} {1189662888083216023 48 306}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 48 299} {3202530724953017758 48 300} {980193938887657853 48 301} {8841732311657628152 48 302} {5437997403235340937 48 303} {8009558743819988863 48 304} {5822913773013244451 48 305} {1189662888083216023 48 306}]
------------------------------------------------------
flag 56795 term 50 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 50 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 48 leaderCommit: 305 
------------------------------------------------------
flag 68216 term 50 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 50 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 48 leaderCommit: 305 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 48 299} {3202530724953017758 48 300} {980193938887657853 48 301} {8841732311657628152 48 302} {5437997403235340937 48 303} {8009558743819988863 48 304} {5822913773013244451 48 305} {1189662888083216023 48 306}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 48 299} {3202530724953017758 48 300} {980193938887657853 48 301} {8841732311657628152 48 302} {5437997403235340937 48 303} {8009558743819988863 48 304} {5822913773013244451 48 305} {1189662888083216023 48 306}]
------------------------------------------------------
flag 37795 term 50 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 50 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 48 leaderCommit: 305 
------------------------------------------------------
flag 99186 term 50 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 50 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 48 leaderCommit: 305 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 48 299} {3202530724953017758 48 300} {980193938887657853 48 301} {8841732311657628152 48 302} {5437997403235340937 48 303} {8009558743819988863 48 304} {5822913773013244451 48 305} {1189662888083216023 48 306}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 48 299} {3202530724953017758 48 300} {980193938887657853 48 301} {8841732311657628152 48 302} {5437997403235340937 48 303} {8009558743819988863 48 304} {5822913773013244451 48 305} {1189662888083216023 48 306}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 50 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 10118 term 50 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 50 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 48 leaderCommit: 305 
------------------------------------------------------
flag 51045 term 50 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 50 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 48 leaderCommit: 305 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 48 299} {3202530724953017758 48 300} {980193938887657853 48 301} {8841732311657628152 48 302} {5437997403235340937 48 303} {8009558743819988863 48 304} {5822913773013244451 48 305} {1189662888083216023 48 306}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=305
leader log:
[{snapshot 48 299} {3202530724953017758 48 300} {980193938887657853 48 301} {8841732311657628152 48 302} {5437997403235340937 48 303} {8009558743819988863 48 304} {5822913773013244451 48 305} {1189662888083216023 48 306}]
------------------------------------------------------
client write log 1189662888083216023 (index 307) to leader 2
flag 82227 term 50 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 50 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 48 leaderCommit: 305 
------------------------------------------------------
flag 97247 term 50 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 50 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 48 leaderCommit: 305 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=307
leader log:
[{snapshot 48 299} {3202530724953017758 48 300} {980193938887657853 48 301} {8841732311657628152 48 302} {5437997403235340937 48 303} {8009558743819988863 48 304} {5822913773013244451 48 305} {1189662888083216023 48 306} {1189662888083216023 50 307}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=307
leader log:
[{snapshot 48 299} {3202530724953017758 48 300} {980193938887657853 48 301} {8841732311657628152 48 302} {5437997403235340937 48 303} {8009558743819988863 48 304} {5822913773013244451 48 305} {1189662888083216023 48 306} {1189662888083216023 50 307}]
------------------------------------------------------
flag 56920 term 50 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 50 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 307 
------------------------------------------------------
flag 91528 term 50 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 50 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 307 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=307
leader log:
[{snapshot 48 299} {3202530724953017758 48 300} {980193938887657853 48 301} {8841732311657628152 48 302} {5437997403235340937 48 303} {8009558743819988863 48 304} {5822913773013244451 48 305} {1189662888083216023 48 306} {1189662888083216023 50 307}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=307
leader log:
[{snapshot 48 299} {3202530724953017758 48 300} {980193938887657853 48 301} {8841732311657628152 48 302} {5437997403235340937 48 303} {8009558743819988863 48 304} {5822913773013244451 48 305} {1189662888083216023 48 306} {1189662888083216023 50 307}]
------------------------------------------------------
flag 963 term 50 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 50 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 307 
------------------------------------------------------
flag 16065 term 50 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 50 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 307 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=307
leader log:
[{snapshot 48 299} {3202530724953017758 48 300} {980193938887657853 48 301} {8841732311657628152 48 302} {5437997403235340937 48 303} {8009558743819988863 48 304} {5822913773013244451 48 305} {1189662888083216023 48 306} {1189662888083216023 50 307}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=307
leader log:
[{snapshot 48 299} {3202530724953017758 48 300} {980193938887657853 48 301} {8841732311657628152 48 302} {5437997403235340937 48 303} {8009558743819988863 48 304} {5822913773013244451 48 305} {1189662888083216023 48 306} {1189662888083216023 50 307}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34133 term 50 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 50 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 307 
------------------------------------------------------
flag 10466 term 50 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 50 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 307 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:307 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=307
leader log:
[{snapshot 48 299} {3202530724953017758 48 300} {980193938887657853 48 301} {8841732311657628152 48 302} {5437997403235340937 48 303} {8009558743819988863 48 304} {5822913773013244451 48 305} {1189662888083216023 48 306} {1189662888083216023 50 307}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=307
leader log:
[{snapshot 48 299} {3202530724953017758 48 300} {980193938887657853 48 301} {8841732311657628152 48 302} {5437997403235340937 48 303} {8009558743819988863 48 304} {5822913773013244451 48 305} {1189662888083216023 48 306} {1189662888083216023 50 307}]
------------------------------------------------------
term 50 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61333 term 50 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 50 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 307 
------------------------------------------------------
flag 55523 term 50 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 50 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 307 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=307
leader log:
[{snapshot 48 299} {3202530724953017758 48 300} {980193938887657853 48 301} {8841732311657628152 48 302} {5437997403235340937 48 303} {8009558743819988863 48 304} {5822913773013244451 48 305} {1189662888083216023 48 306} {1189662888083216023 50 307}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=307
leader log:
[{snapshot 48 299} {3202530724953017758 48 300} {980193938887657853 48 301} {8841732311657628152 48 302} {5437997403235340937 48 303} {8009558743819988863 48 304} {5822913773013244451 48 305} {1189662888083216023 48 306} {1189662888083216023 50 307}]
------------------------------------------------------
flag 56920 term 50 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 50 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 307 
------------------------------------------------------
flag 73249 term 50 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 50 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 307 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=307
leader log:
[{snapshot 48 299} {3202530724953017758 48 300} {980193938887657853 48 301} {8841732311657628152 48 302} {5437997403235340937 48 303} {8009558743819988863 48 304} {5822913773013244451 48 305} {1189662888083216023 48 306} {1189662888083216023 50 307}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=307
leader log:
[{snapshot 48 299} {3202530724953017758 48 300} {980193938887657853 48 301} {8841732311657628152 48 302} {5437997403235340937 48 303} {8009558743819988863 48 304} {5822913773013244451 48 305} {1189662888083216023 48 306} {1189662888083216023 50 307}]
------------------------------------------------------
flag 66141 term 50 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 50 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 307 
------------------------------------------------------
flag 33251 term 50 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 50 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 307 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=307
leader log:
[{snapshot 48 299} {3202530724953017758 48 300} {980193938887657853 48 301} {8841732311657628152 48 302} {5437997403235340937 48 303} {8009558743819988863 48 304} {5822913773013244451 48 305} {1189662888083216023 48 306} {1189662888083216023 50 307}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=307
leader log:
[{snapshot 48 299} {3202530724953017758 48 300} {980193938887657853 48 301} {8841732311657628152 48 302} {5437997403235340937 48 303} {8009558743819988863 48 304} {5822913773013244451 48 305} {1189662888083216023 48 306} {1189662888083216023 50 307}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 83576 term 50 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 50 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 307 
------------------------------------------------------
flag 67560 term 50 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 50 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 307 
------------------------------------------------------
flag 34650 term 50 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 50 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 307 
------------------------------------------------------
flag 13812 term 50 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 50 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 307 
------------------------------------------------------
flag 76708 term 50 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 50 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 307 
------------------------------------------------------
flag 7000 term 50 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 50 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 307 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 51 server 0 vote for server 1
term 51 server 1 get vote from server 0
term 51 server 1 become leader
------------------------------------------------------
flag 96799 term 51 leader 1 nextIndex[0]: 308  matchIndex[0]: 0
term 51 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 307 
------------------------------------------------------
flag 81442 term 51 leader 1 nextIndex[2]: 308  matchIndex[2]: 0
term 51 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 307 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=307
leader log:
[{snapshot 48 299} {3202530724953017758 48 300} {980193938887657853 48 301} {8841732311657628152 48 302} {5437997403235340937 48 303} {8009558743819988863 48 304} {5822913773013244451 48 305} {1189662888083216023 48 306} {1189662888083216023 50 307}]
------------------------------------------------------
client write log 8542861572240255723 (index 308) to leader 1
flag 76765 term 50 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 50 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 307 
------------------------------------------------------
flag 63000 term 50 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 50 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 307 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65472 term 51 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 51 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 307 
------------------------------------------------------
flag 31640 term 51 leader 1 nextIndex[2]: 308  matchIndex[2]: 0
term 51 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 307 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=308
leader log:
[{snapshot 48 299} {3202530724953017758 48 300} {980193938887657853 48 301} {8841732311657628152 48 302} {5437997403235340937 48 303} {8009558743819988863 48 304} {5822913773013244451 48 305} {1189662888083216023 48 306} {1189662888083216023 50 307} {8542861572240255723 51 308}]
------------------------------------------------------
flag 89392 term 50 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 50 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 307 
------------------------------------------------------
flag 79377 term 50 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 50 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 307 
------------------------------------------------------
flag 60207 term 51 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 51 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 51 leaderCommit: 308 
------------------------------------------------------
flag 67194 term 51 leader 1 nextIndex[2]: 308  matchIndex[2]: 0
term 51 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 308 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=308
leader log:
[{snapshot 48 299} {3202530724953017758 48 300} {980193938887657853 48 301} {8841732311657628152 48 302} {5437997403235340937 48 303} {8009558743819988863 48 304} {5822913773013244451 48 305} {1189662888083216023 48 306} {1189662888083216023 50 307} {8542861572240255723 51 308}]
------------------------------------------------------
client write log 302526780436795595 (index 309) to leader 1
flag 96020 term 50 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 50 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 307 
------------------------------------------------------
flag 25117 term 50 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 50 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 307 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 308->307
------------------------------------------------------
flag 71698 term 51 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 51 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 51 leaderCommit: 308 
------------------------------------------------------
flag 71370 term 51 leader 1 nextIndex[2]: 308  matchIndex[2]: 0
term 51 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 308 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=310
update matchIndex[0]=309
update leader CommitIndex=309
leader log:
[{snapshot 48 299} {3202530724953017758 48 300} {980193938887657853 48 301} {8841732311657628152 48 302} {5437997403235340937 48 303} {8009558743819988863 48 304} {5822913773013244451 48 305} {1189662888083216023 48 306} {1189662888083216023 50 307} {8542861572240255723 51 308} {302526780436795595 51 309}]
------------------------------------------------------
term 51 Server1 start snapshot! index=309
term 51 server1 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=309
-------------------------------------------------------------
term 50 leader 2 nextIndex[0]: 0  matchIndex[0]: 307
term 50 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 48
------------------------------------------------------
flag 48685 term 50 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 50 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 307 
------------------------------------------------------
flag 1574 term 51 leader 1 nextIndex[0]: 310  matchIndex[0]: 309
term 51 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 51 leaderCommit: 309 
------------------------------------------------------
term 51 leader 1 nextIndex[2]: 308  matchIndex[2]: 0
term 51 leader 1 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 51
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=310
update matchIndex[0]=309
update leader CommitIndex=309
leader log:
[{snapshot 51 309}]
------------------------------------------------------
term 51 Server0 start snapshot! index=309
term 51 server0 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=309
-------------------------------------------------------------
!!!!!!connect server 2
client write log 1986698626719570339 (index 310) to leader 1
term 50 leader 2 nextIndex[0]: 0  matchIndex[0]: 307
term 50 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 48
------------------------------------------------------
flag 92913 term 50 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 50 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 307 
------------------------------------------------------
term 51 server 1 AppendEntries false 领导者任期过期 args.Term 50
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 51 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 51 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 21660 term 51 leader 1 nextIndex[0]: 310  matchIndex[0]: 309
term 51 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 51 leaderCommit: 309 
------------------------------------------------------
term 51 leader 1 nextIndex[2]: 308  matchIndex[2]: 0
term 51 leader 1 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 51
------------------------------------------------------
term 51 server 2 InstallSnapshot success
------------------------------------------------------
term 51 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 310 matchIndex[2] 309 
------------------------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=311
update matchIndex[0]=310
update leader CommitIndex=310
leader log:
[{snapshot 51 309} {1986698626719570339 51 310}]
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 309 rf.lastIncludedTerm 51 rf.commitIndex 309 rf.lastApplied 309
flag 69551 term 51 leader 1 nextIndex[0]: 311  matchIndex[0]: 310
term 51 leader 1 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 51 leaderCommit: 310 
------------------------------------------------------
flag 28547 term 51 leader 1 nextIndex[2]: 310  matchIndex[2]: 309
term 51 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 51 leaderCommit: 310 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:310 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=311
update matchIndex[0]=310
update leader CommitIndex=310
leader log:
[{snapshot 51 309} {1986698626719570339 51 310}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=310
leader log:
[{snapshot 51 309} {1986698626719570339 51 310}]
------------------------------------------------------
flag 46818 term 51 leader 1 nextIndex[0]: 311  matchIndex[0]: 310
term 51 leader 1 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 51 leaderCommit: 310 
------------------------------------------------------
flag 88332 term 51 leader 1 nextIndex[2]: 311  matchIndex[2]: 310
term 51 leader 1 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 51 leaderCommit: 310 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=310
leader log:
[{snapshot 51 309} {1986698626719570339 51 310}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=311
update matchIndex[0]=310
update leader CommitIndex=310
leader log:
[{snapshot 51 309} {1986698626719570339 51 310}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85586 term 51 leader 1 nextIndex[0]: 311  matchIndex[0]: 310
term 51 leader 1 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 51 leaderCommit: 310 
------------------------------------------------------
flag 59158 term 51 leader 1 nextIndex[2]: 311  matchIndex[2]: 310
term 51 leader 1 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 51 leaderCommit: 310 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=310
leader log:
[{snapshot 51 309} {1986698626719570339 51 310}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=311
update matchIndex[0]=310
update leader CommitIndex=310
leader log:
[{snapshot 51 309} {1986698626719570339 51 310}]
------------------------------------------------------
flag 41882 term 51 leader 1 nextIndex[0]: 311  matchIndex[0]: 310
term 51 leader 1 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 51 leaderCommit: 310 
------------------------------------------------------
flag 26209 term 51 leader 1 nextIndex[2]: 311  matchIndex[2]: 310
term 51 leader 1 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 51 leaderCommit: 310 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=310
leader log:
[{snapshot 51 309} {1986698626719570339 51 310}]
term 51 server 0 AppendEntries true commitIndex:310 
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=311
update matchIndex[0]=310
update leader CommitIndex=310
leader log:
[{snapshot 51 309} {1986698626719570339 51 310}]
------------------------------------------------------
flag 43302 term 51 leader 1 nextIndex[0]: 311  matchIndex[0]: 310
term 51 leader 1 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 51 leaderCommit: 310 
------------------------------------------------------
flag 12503 term 51 leader 1 nextIndex[2]: 311  matchIndex[2]: 310
term 51 leader 1 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 51 leaderCommit: 310 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=311
update matchIndex[0]=310
update leader CommitIndex=310
leader log:
[{snapshot 51 309} {1986698626719570339 51 310}]
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=310
leader log:
[{snapshot 51 309} {1986698626719570339 51 310}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 311->310
------------------------------------------------------
flag 69652 term 51 leader 1 nextIndex[0]: 311  matchIndex[0]: 310
term 51 leader 1 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 51 leaderCommit: 310 
------------------------------------------------------
term 51 leader 1 nextIndex[2]: 0  matchIndex[2]: 310
term 51 leader 1 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 51
------------------------------------------------------
term 51 server 2 InstallSnapshot fail
rf.commitIndex 310 args.LastIncludedIndex 309
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:310 
------------------------------------------------------
term 51 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 310 matchIndex[2] 309 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=311
update matchIndex[0]=310
update leader CommitIndex=310
leader log:
[{snapshot 51 309} {1986698626719570339 51 310}]
------------------------------------------------------
flag 8655 term 51 leader 1 nextIndex[0]: 311  matchIndex[0]: 310
term 51 leader 1 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 51 leaderCommit: 310 
------------------------------------------------------
flag 22049 term 51 leader 1 nextIndex[2]: 310  matchIndex[2]: 309
term 51 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 51 leaderCommit: 310 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=310
leader log:
[{snapshot 51 309} {1986698626719570339 51 310}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=311
update matchIndex[0]=310
update leader CommitIndex=310
leader log:
[{snapshot 51 309} {1986698626719570339 51 310}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 1328878608762069644 (index 311) to leader 1
flag 77994 term 51 leader 1 nextIndex[0]: 311  matchIndex[0]: 310
term 51 leader 1 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 51 leaderCommit: 310 
------------------------------------------------------
flag 59540 term 51 leader 1 nextIndex[2]: 311  matchIndex[2]: 310
term 51 leader 1 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 51 leaderCommit: 310 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=312
update matchIndex[0]=311
update leader CommitIndex=311
leader log:
[{snapshot 51 309} {1986698626719570339 51 310} {1328878608762069644 51 311}]
------------------------------------------------------
flag 48059 term 51 leader 1 nextIndex[0]: 312  matchIndex[0]: 311
term 51 leader 1 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 51 leaderCommit: 311 
------------------------------------------------------
flag 13061 term 51 leader 1 nextIndex[2]: 311  matchIndex[2]: 310
term 51 leader 1 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 51 leaderCommit: 311 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=312
update matchIndex[0]=311
update leader CommitIndex=311
leader log:
[{snapshot 51 309} {1986698626719570339 51 310} {1328878608762069644 51 311}]
------------------------------------------------------
client write log 2893036114579006797 (index 312) to leader 1
client write log 2617754731733179354 (index 313) to leader 1
client write log 3153860241312508921 (index 314) to leader 1
client write log 382134204256734973 (index 315) to leader 1
client write log 7719653598713429785 (index 316) to leader 1
client write log 2067542453509544718 (index 317) to leader 1
client write log 8321534570786183663 (index 318) to leader 1
client write log 8096780861511022991 (index 319) to leader 1
client write log 1546404493472366574 (index 320) to leader 1
client write log 7443688499333648679 (index 321) to leader 1
client write log 5042826496932370664 (index 322) to leader 1
client write log 3247946414624032790 (index 323) to leader 1
client write log 3844147714710529521 (index 324) to leader 1
client write log 5168218748401475841 (index 325) to leader 1
flag 27939 term 51 leader 1 nextIndex[0]: 312  matchIndex[0]: 311
term 51 leader 1 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 51 leaderCommit: 311 
------------------------------------------------------
flag 13442 term 51 leader 1 nextIndex[2]: 311  matchIndex[2]: 310
term 51 leader 1 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 51 leaderCommit: 311 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=325
leader log:
[{snapshot 51 309} {1986698626719570339 51 310} {1328878608762069644 51 311} {2893036114579006797 51 312} {2617754731733179354 51 313} {3153860241312508921 51 314} {382134204256734973 51 315} {7719653598713429785 51 316} {2067542453509544718 51 317} {8321534570786183663 51 318} {8096780861511022991 51 319} {1546404493472366574 51 320} {7443688499333648679 51 321} {5042826496932370664 51 322} {3247946414624032790 51 323} {3844147714710529521 51 324} {5168218748401475841 51 325}]
------------------------------------------------------
term 51 Server1 start snapshot! index=319
term 51 server1 snapshot success
lastIncludedIndex=319 lastApplied=320 lastIndex=325
-------------------------------------------------------------
flag 23825 term 51 leader 1 nextIndex[0]: 326  matchIndex[0]: 325
term 51 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
term 51 leader 1 nextIndex[2]: 311  matchIndex[2]: 310
term 51 leader 1 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 51
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {1546404493472366574 51 320} {7443688499333648679 51 321} {5042826496932370664 51 322} {3247946414624032790 51 323} {3844147714710529521 51 324} {5168218748401475841 51 325}]
------------------------------------------------------
term 51 Server0 start snapshot! index=319
term 51 server0 snapshot success
lastIncludedIndex=319 lastApplied=320 lastIndex=325
-------------------------------------------------------------
!!!!!!connect server 2
client write log 4671192474742386951 (index 326) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49128 term 51 leader 1 nextIndex[0]: 326  matchIndex[0]: 325
term 51 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
term 51 leader 1 nextIndex[2]: 311  matchIndex[2]: 310
term 51 leader 1 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 51
------------------------------------------------------
term 52 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 51 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 53 server 2 vote for server 1
term 53 server 1 get vote from server 2
term 53 server 1 become leader
------------------------------------------------------
term 53 server 0 vote for server 1
term 53 server 1 get outdate rpc reply from server 0
term 53 server 2 not vote for server 1, 任期不够新
term 53 server 1 get outdate rpc reply from server 2
flag 27013 term 53 leader 1 nextIndex[0]: 327  matchIndex[0]: 0
term 53 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
flag 40716 term 53 leader 1 nextIndex[2]: 327  matchIndex[2]: 0
term 53 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
term 53 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {1546404493472366574 51 320} {7443688499333648679 51 321} {5042826496932370664 51 322} {3247946414624032790 51 323} {3844147714710529521 51 324} {5168218748401475841 51 325} {4671192474742386951 51 326}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 327->326
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 876 term 53 leader 1 nextIndex[0]: 327  matchIndex[0]: 326
term 53 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
term 53 leader 1 nextIndex[2]: 311  matchIndex[2]: 0
term 53 leader 1 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 51
------------------------------------------------------
term 53 server 2 InstallSnapshot success
------------------------------------------------------
term 53 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 320 matchIndex[2] 319 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 319 rf.lastIncludedTerm 51 rf.commitIndex 319 rf.lastApplied 319
term 53 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {1546404493472366574 51 320} {7443688499333648679 51 321} {5042826496932370664 51 322} {3247946414624032790 51 323} {3844147714710529521 51 324} {5168218748401475841 51 325} {4671192474742386951 51 326}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36421 term 53 leader 1 nextIndex[0]: 327  matchIndex[0]: 326
term 53 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
flag 55729 term 53 leader 1 nextIndex[2]: 320  matchIndex[2]: 319
term 53 leader 1 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {1546404493472366574 51 320} {7443688499333648679 51 321} {5042826496932370664 51 322} {3247946414624032790 51 323} {3844147714710529521 51 324} {5168218748401475841 51 325} {4671192474742386951 51 326}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {1546404493472366574 51 320} {7443688499333648679 51 321} {5042826496932370664 51 322} {3247946414624032790 51 323} {3844147714710529521 51 324} {5168218748401475841 51 325} {4671192474742386951 51 326}]
------------------------------------------------------
flag 52484 term 53 leader 1 nextIndex[0]: 327  matchIndex[0]: 326
term 53 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
flag 56799 term 53 leader 1 nextIndex[2]: 327  matchIndex[2]: 326
term 53 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=325
leader log:
term 53 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
[{snapshot 51 319} {1546404493472366574 51 320} {7443688499333648679 51 321} {5042826496932370664 51 322} {3247946414624032790 51 323} {3844147714710529521 51 324} {5168218748401475841 51 325} {4671192474742386951 51 326}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {1546404493472366574 51 320} {7443688499333648679 51 321} {5042826496932370664 51 322} {3247946414624032790 51 323} {3844147714710529521 51 324} {5168218748401475841 51 325} {4671192474742386951 51 326}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73988 term 53 leader 1 nextIndex[0]: 327  matchIndex[0]: 326
term 53 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
flag 6788 term 53 leader 1 nextIndex[2]: 327  matchIndex[2]: 326
term 53 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {1546404493472366574 51 320} {7443688499333648679 51 321} {5042826496932370664 51 322} {3247946414624032790 51 323} {3844147714710529521 51 324} {5168218748401475841 51 325} {4671192474742386951 51 326}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {1546404493472366574 51 320} {7443688499333648679 51 321} {5042826496932370664 51 322} {3247946414624032790 51 323} {3844147714710529521 51 324} {5168218748401475841 51 325} {4671192474742386951 51 326}]
------------------------------------------------------
term 53 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 94073 term 53 leader 1 nextIndex[0]: 327  matchIndex[0]: 326
term 53 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
flag 64369 term 53 leader 1 nextIndex[2]: 327  matchIndex[2]: 326
term 53 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=325
leader log:
term 53 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
[{snapshot 51 319} {1546404493472366574 51 320} {7443688499333648679 51 321} {5042826496932370664 51 322} {3247946414624032790 51 323} {3844147714710529521 51 324} {5168218748401475841 51 325} {4671192474742386951 51 326}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {1546404493472366574 51 320} {7443688499333648679 51 321} {5042826496932370664 51 322} {3247946414624032790 51 323} {3844147714710529521 51 324} {5168218748401475841 51 325} {4671192474742386951 51 326}]
------------------------------------------------------
flag 13278 term 53 leader 1 nextIndex[0]: 327  matchIndex[0]: 326
term 53 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
flag 18439 term 53 leader 1 nextIndex[2]: 327  matchIndex[2]: 326
term 53 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {1546404493472366574 51 320} {7443688499333648679 51 321} {5042826496932370664 51 322} {3247946414624032790 51 323} {3844147714710529521 51 324} {5168218748401475841 51 325} {4671192474742386951 51 326}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {1546404493472366574 51 320} {7443688499333648679 51 321} {5042826496932370664 51 322} {3247946414624032790 51 323} {3844147714710529521 51 324} {5168218748401475841 51 325} {4671192474742386951 51 326}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86557 term 53 leader 1 nextIndex[0]: 327  matchIndex[0]: 326
term 53 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
flag 20719 term 53 leader 1 nextIndex[2]: 327  matchIndex[2]: 326
term 53 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {1546404493472366574 51 320} {7443688499333648679 51 321} {5042826496932370664 51 322} {3247946414624032790 51 323} {3844147714710529521 51 324} {5168218748401475841 51 325} {4671192474742386951 51 326}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {1546404493472366574 51 320} {7443688499333648679 51 321} {5042826496932370664 51 322} {3247946414624032790 51 323} {3844147714710529521 51 324} {5168218748401475841 51 325} {4671192474742386951 51 326}]
------------------------------------------------------
flag 27278 term 53 leader 1 nextIndex[0]: 327  matchIndex[0]: 326
term 53 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
flag 57497 term 53 leader 1 nextIndex[2]: 327  matchIndex[2]: 326
term 53 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {1546404493472366574 51 320} {7443688499333648679 51 321} {5042826496932370664 51 322} {3247946414624032790 51 323} {3844147714710529521 51 324} {5168218748401475841 51 325} {4671192474742386951 51 326}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {1546404493472366574 51 320} {7443688499333648679 51 321} {5042826496932370664 51 322} {3247946414624032790 51 323} {3844147714710529521 51 324} {5168218748401475841 51 325} {4671192474742386951 51 326}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98422 term 53 leader 1 nextIndex[0]: 327  matchIndex[0]: 326
term 53 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
flag 97880 term 53 leader 1 nextIndex[2]: 327  matchIndex[2]: 326
term 53 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {1546404493472366574 51 320} {7443688499333648679 51 321} {5042826496932370664 51 322} {3247946414624032790 51 323} {3844147714710529521 51 324} {5168218748401475841 51 325} {4671192474742386951 51 326}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {1546404493472366574 51 320} {7443688499333648679 51 321} {5042826496932370664 51 322} {3247946414624032790 51 323} {3844147714710529521 51 324} {5168218748401475841 51 325} {4671192474742386951 51 326}]
------------------------------------------------------
flag 6385 term 53 leader 1 nextIndex[0]: 327  matchIndex[0]: 326
term 53 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
flag 35550 term 53 leader 1 nextIndex[2]: 327  matchIndex[2]: 326
term 53 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {1546404493472366574 51 320} {7443688499333648679 51 321} {5042826496932370664 51 322} {3247946414624032790 51 323} {3844147714710529521 51 324} {5168218748401475841 51 325} {4671192474742386951 51 326}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {1546404493472366574 51 320} {7443688499333648679 51 321} {5042826496932370664 51 322} {3247946414624032790 51 323} {3844147714710529521 51 324} {5168218748401475841 51 325} {4671192474742386951 51 326}]
------------------------------------------------------
flag 37475 term 53 leader 1 nextIndex[0]: 327  matchIndex[0]: 326
term 53 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
flag 70053 term 53 leader 1 nextIndex[2]: 327  matchIndex[2]: 326
term 53 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {1546404493472366574 51 320} {7443688499333648679 51 321} {5042826496932370664 51 322} {3247946414624032790 51 323} {3844147714710529521 51 324} {5168218748401475841 51 325} {4671192474742386951 51 326}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {1546404493472366574 51 320} {7443688499333648679 51 321} {5042826496932370664 51 322} {3247946414624032790 51 323} {3844147714710529521 51 324} {5168218748401475841 51 325} {4671192474742386951 51 326}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86049 term 53 leader 1 nextIndex[0]: 327  matchIndex[0]: 326
term 53 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
flag 92578 term 53 leader 1 nextIndex[2]: 327  matchIndex[2]: 326
term 53 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {1546404493472366574 51 320} {7443688499333648679 51 321} {5042826496932370664 51 322} {3247946414624032790 51 323} {3844147714710529521 51 324} {5168218748401475841 51 325} {4671192474742386951 51 326}]
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {1546404493472366574 51 320} {7443688499333648679 51 321} {5042826496932370664 51 322} {3247946414624032790 51 323} {3844147714710529521 51 324} {5168218748401475841 51 325} {4671192474742386951 51 326}]
------------------------------------------------------
flag 37285 term 53 leader 1 nextIndex[0]: 327  matchIndex[0]: 326
term 53 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
flag 99732 term 53 leader 1 nextIndex[2]: 327  matchIndex[2]: 326
term 53 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {1546404493472366574 51 320} {7443688499333648679 51 321} {5042826496932370664 51 322} {3247946414624032790 51 323} {3844147714710529521 51 324} {5168218748401475841 51 325} {4671192474742386951 51 326}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {1546404493472366574 51 320} {7443688499333648679 51 321} {5042826496932370664 51 322} {3247946414624032790 51 323} {3844147714710529521 51 324} {5168218748401475841 51 325} {4671192474742386951 51 326}]
------------------------------------------------------
flag 91701 term 53 leader 1 nextIndex[0]: 327  matchIndex[0]: 326
term 53 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
flag 46308 term 53 leader 1 nextIndex[2]: 327  matchIndex[2]: 326
term 53 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:325 
term 53 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {1546404493472366574 51 320} {7443688499333648679 51 321} {5042826496932370664 51 322} {3247946414624032790 51 323} {3844147714710529521 51 324} {5168218748401475841 51 325} {4671192474742386951 51 326}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {1546404493472366574 51 320} {7443688499333648679 51 321} {5042826496932370664 51 322} {3247946414624032790 51 323} {3844147714710529521 51 324} {5168218748401475841 51 325} {4671192474742386951 51 326}]
------------------------------------------------------
flag 13069 term 53 leader 1 nextIndex[0]: 327  matchIndex[0]: 326
term 53 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
flag 99903 term 53 leader 1 nextIndex[2]: 327  matchIndex[2]: 326
term 53 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {1546404493472366574 51 320} {7443688499333648679 51 321} {5042826496932370664 51 322} {3247946414624032790 51 323} {3844147714710529521 51 324} {5168218748401475841 51 325} {4671192474742386951 51 326}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {1546404493472366574 51 320} {7443688499333648679 51 321} {5042826496932370664 51 322} {3247946414624032790 51 323} {3844147714710529521 51 324} {5168218748401475841 51 325} {4671192474742386951 51 326}]
------------------------------------------------------
flag 22301 term 53 leader 1 nextIndex[0]: 327  matchIndex[0]: 326
term 53 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
flag 19632 term 53 leader 1 nextIndex[2]: 327  matchIndex[2]: 326
term 53 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {1546404493472366574 51 320} {7443688499333648679 51 321} {5042826496932370664 51 322} {3247946414624032790 51 323} {3844147714710529521 51 324} {5168218748401475841 51 325} {4671192474742386951 51 326}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {1546404493472366574 51 320} {7443688499333648679 51 321} {5042826496932370664 51 322} {3247946414624032790 51 323} {3844147714710529521 51 324} {5168218748401475841 51 325} {4671192474742386951 51 326}]
------------------------------------------------------
flag 35975 term 53 leader 1 nextIndex[0]: 327  matchIndex[0]: 326
term 53 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
flag 57557 term 53 leader 1 nextIndex[2]: 327  matchIndex[2]: 326
term 53 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {1546404493472366574 51 320} {7443688499333648679 51 321} {5042826496932370664 51 322} {3247946414624032790 51 323} {3844147714710529521 51 324} {5168218748401475841 51 325} {4671192474742386951 51 326}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {1546404493472366574 51 320} {7443688499333648679 51 321} {5042826496932370664 51 322} {3247946414624032790 51 323} {3844147714710529521 51 324} {5168218748401475841 51 325} {4671192474742386951 51 326}]
------------------------------------------------------
flag 26442 term 53 leader 1 nextIndex[0]: 327  matchIndex[0]: 326
term 53 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
flag 18107 term 53 leader 1 nextIndex[2]: 327  matchIndex[2]: 326
term 53 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {1546404493472366574 51 320} {7443688499333648679 51 321} {5042826496932370664 51 322} {3247946414624032790 51 323} {3844147714710529521 51 324} {5168218748401475841 51 325} {4671192474742386951 51 326}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {1546404493472366574 51 320} {7443688499333648679 51 321} {5042826496932370664 51 322} {3247946414624032790 51 323} {3844147714710529521 51 324} {5168218748401475841 51 325} {4671192474742386951 51 326}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 4671192474742386951 (index 327) to leader 1
flag 90330 term 53 leader 1 nextIndex[0]: 327  matchIndex[0]: 326
term 53 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
flag 75869 term 53 leader 1 nextIndex[2]: 327  matchIndex[2]: 326
term 53 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=327
leader log:
[{snapshot 51 319} {1546404493472366574 51 320} {7443688499333648679 51 321} {5042826496932370664 51 322} {3247946414624032790 51 323} {3844147714710529521 51 324} {5168218748401475841 51 325} {4671192474742386951 51 326} {4671192474742386951 53 327}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=327
leader log:
[{snapshot 51 319} {1546404493472366574 51 320} {7443688499333648679 51 321} {5042826496932370664 51 322} {3247946414624032790 51 323} {3844147714710529521 51 324} {5168218748401475841 51 325} {4671192474742386951 51 326} {4671192474742386951 53 327}]
------------------------------------------------------
flag 52698 term 53 leader 1 nextIndex[0]: 328  matchIndex[0]: 327
term 53 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 53 leaderCommit: 327 
------------------------------------------------------
flag 9396 term 53 leader 1 nextIndex[2]: 328  matchIndex[2]: 327
term 53 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 53 leaderCommit: 327 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=327
leader log:
[{snapshot 51 319} {1546404493472366574 51 320} {7443688499333648679 51 321} {5042826496932370664 51 322} {3247946414624032790 51 323} {3844147714710529521 51 324} {5168218748401475841 51 325} {4671192474742386951 51 326} {4671192474742386951 53 327}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=327
leader log:
[{snapshot 51 319} {1546404493472366574 51 320} {7443688499333648679 51 321} {5042826496932370664 51 322} {3247946414624032790 51 323} {3844147714710529521 51 324} {5168218748401475841 51 325} {4671192474742386951 51 326} {4671192474742386951 53 327}]
------------------------------------------------------
flag 15805 term 53 leader 1 nextIndex[0]: 328  matchIndex[0]: 327
term 53 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 53 leaderCommit: 327 
------------------------------------------------------
flag 94554 term 53 leader 1 nextIndex[2]: 328  matchIndex[2]: 327
term 53 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 53 leaderCommit: 327 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:327 
term 53 server 0 AppendEntries true commitIndex:327 
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=327
leader log:
[{snapshot 51 319} {1546404493472366574 51 320} {7443688499333648679 51 321} {5042826496932370664 51 322} {3247946414624032790 51 323} {3844147714710529521 51 324} {5168218748401475841 51 325} {4671192474742386951 51 326} {4671192474742386951 53 327}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=327
leader log:
[{snapshot 51 319} {1546404493472366574 51 320} {7443688499333648679 51 321} {5042826496932370664 51 322} {3247946414624032790 51 323} {3844147714710529521 51 324} {5168218748401475841 51 325} {4671192474742386951 51 326} {4671192474742386951 53 327}]
------------------------------------------------------
flag 98344 term 53 leader 1 nextIndex[0]: 328  matchIndex[0]: 327
term 53 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 53 leaderCommit: 327 
------------------------------------------------------
flag 18059 term 53 leader 1 nextIndex[2]: 328  matchIndex[2]: 327
term 53 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 53 leaderCommit: 327 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=327
leader log:
[{snapshot 51 319} {1546404493472366574 51 320} {7443688499333648679 51 321} {5042826496932370664 51 322} {3247946414624032790 51 323} {3844147714710529521 51 324} {5168218748401475841 51 325} {4671192474742386951 51 326} {4671192474742386951 53 327}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=327
leader log:
[{snapshot 51 319} {1546404493472366574 51 320} {7443688499333648679 51 321} {5042826496932370664 51 322} {3247946414624032790 51 323} {3844147714710529521 51 324} {5168218748401475841 51 325} {4671192474742386951 51 326} {4671192474742386951 53 327}]
------------------------------------------------------
flag 85866 term 53 leader 1 nextIndex[0]: 328  matchIndex[0]: 327
term 53 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 53 leaderCommit: 327 
------------------------------------------------------
flag 62755 term 53 leader 1 nextIndex[2]: 328  matchIndex[2]: 327
term 53 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 53 leaderCommit: 327 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=327
leader log:
[{snapshot 51 319} {1546404493472366574 51 320} {7443688499333648679 51 321} {5042826496932370664 51 322} {3247946414624032790 51 323} {3844147714710529521 51 324} {5168218748401475841 51 325} {4671192474742386951 51 326} {4671192474742386951 53 327}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=327
leader log:
[{snapshot 51 319} {1546404493472366574 51 320} {7443688499333648679 51 321} {5042826496932370664 51 322} {3247946414624032790 51 323} {3844147714710529521 51 324} {5168218748401475841 51 325} {4671192474742386951 51 326} {4671192474742386951 53 327}]
------------------------------------------------------
flag 41439 term 53 leader 1 nextIndex[0]: 328  matchIndex[0]: 327
term 53 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 53 leaderCommit: 327 
------------------------------------------------------
flag 40885 term 53 leader 1 nextIndex[2]: 328  matchIndex[2]: 327
term 53 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 53 leaderCommit: 327 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=327
leader log:
[{snapshot 51 319} {1546404493472366574 51 320} {7443688499333648679 51 321} {5042826496932370664 51 322} {3247946414624032790 51 323} {3844147714710529521 51 324} {5168218748401475841 51 325} {4671192474742386951 51 326} {4671192474742386951 53 327}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=327
leader log:
[{snapshot 51 319} {1546404493472366574 51 320} {7443688499333648679 51 321} {5042826496932370664 51 322} {3247946414624032790 51 323} {3844147714710529521 51 324} {5168218748401475841 51 325} {4671192474742386951 51 326} {4671192474742386951 53 327}]
------------------------------------------------------
flag 86613 term 53 leader 1 nextIndex[0]: 328  matchIndex[0]: 327
term 53 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 53 leaderCommit: 327 
------------------------------------------------------
flag 82455 term 53 leader 1 nextIndex[2]: 328  matchIndex[2]: 327
term 53 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 53 leaderCommit: 327 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=327
leader log:
[{snapshot 51 319} {1546404493472366574 51 320} {7443688499333648679 51 321} {5042826496932370664 51 322} {3247946414624032790 51 323} {3844147714710529521 51 324} {5168218748401475841 51 325} {4671192474742386951 51 326} {4671192474742386951 53 327}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=327
leader log:
[{snapshot 51 319} {1546404493472366574 51 320} {7443688499333648679 51 321} {5042826496932370664 51 322} {3247946414624032790 51 323} {3844147714710529521 51 324} {5168218748401475841 51 325} {4671192474742386951 51 326} {4671192474742386951 53 327}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 3308649453437255078 (index 328) to leader 1
flag 4923 term 53 leader 1 nextIndex[0]: 328  matchIndex[0]: 327
term 53 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 53 leaderCommit: 327 
------------------------------------------------------
flag 40363 term 53 leader 1 nextIndex[2]: 328  matchIndex[2]: 327
term 53 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 53 leaderCommit: 327 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=329
update matchIndex[0]=328
update leader CommitIndex=328
leader log:
[{snapshot 51 319} {1546404493472366574 51 320} {7443688499333648679 51 321} {5042826496932370664 51 322} {3247946414624032790 51 323} {3844147714710529521 51 324} {5168218748401475841 51 325} {4671192474742386951 51 326} {4671192474742386951 53 327} {3308649453437255078 53 328}]
------------------------------------------------------
term 53 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 17001 term 53 leader 1 nextIndex[0]: 329  matchIndex[0]: 328
term 53 leader 1 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 53 leaderCommit: 328 
------------------------------------------------------
flag 585 term 53 leader 1 nextIndex[2]: 328  matchIndex[2]: 327
term 53 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 53 leaderCommit: 328 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=329
update matchIndex[0]=328
update leader CommitIndex=328
leader log:
[{snapshot 51 319} {1546404493472366574 51 320} {7443688499333648679 51 321} {5042826496932370664 51 322} {3247946414624032790 51 323} {3844147714710529521 51 324} {5168218748401475841 51 325} {4671192474742386951 51 326} {4671192474742386951 53 327} {3308649453437255078 53 328}]
------------------------------------------------------
client write log 3470731436433628023 (index 329) to leader 1
client write log 3417596235057825521 (index 330) to leader 1
client write log 6643273761398052202 (index 331) to leader 1
client write log 6976892694577309237 (index 332) to leader 1
client write log 8323405478973708010 (index 333) to leader 1
client write log 1454171083101400412 (index 334) to leader 1
client write log 4675827410773451257 (index 335) to leader 1
client write log 2050159141725544079 (index 336) to leader 1
client write log 6041201999576262697 (index 337) to leader 1
client write log 579291125549879522 (index 338) to leader 1
client write log 8845511194743505513 (index 339) to leader 1
client write log 6860180785610348212 (index 340) to leader 1
flag 42215 term 53 leader 1 nextIndex[0]: 329  matchIndex[0]: 328
term 53 leader 1 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 53 leaderCommit: 328 
------------------------------------------------------
flag 75598 term 53 leader 1 nextIndex[2]: 328  matchIndex[2]: 327
term 53 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 53 leaderCommit: 328 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=341
update matchIndex[0]=340
update leader CommitIndex=340
leader log:
[{snapshot 51 319} {1546404493472366574 51 320} {7443688499333648679 51 321} {5042826496932370664 51 322} {3247946414624032790 51 323} {3844147714710529521 51 324} {5168218748401475841 51 325} {4671192474742386951 51 326} {4671192474742386951 53 327} {3308649453437255078 53 328} {3470731436433628023 53 329} {3417596235057825521 53 330} {6643273761398052202 53 331} {6976892694577309237 53 332} {8323405478973708010 53 333} {1454171083101400412 53 334} {4675827410773451257 53 335} {2050159141725544079 53 336} {6041201999576262697 53 337} {579291125549879522 53 338} {8845511194743505513 53 339} {6860180785610348212 53 340}]
------------------------------------------------------
term 53 Server1 start snapshot! index=329
term 53 server1 snapshot success
lastIncludedIndex=329 lastApplied=330 lastIndex=340
-------------------------------------------------------------
term 53 Server1 start snapshot! index=339
term 53 server1 snapshot success
lastIncludedIndex=339 lastApplied=340 lastIndex=340
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94061 term 53 leader 1 nextIndex[0]: 341  matchIndex[0]: 340
term 53 leader 1 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 53 leaderCommit: 340 
------------------------------------------------------
term 53 leader 1 nextIndex[2]: 328  matchIndex[2]: 327
term 53 leader 1 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 53
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=341
update matchIndex[0]=340
update leader CommitIndex=340
leader log:
[{snapshot 53 339} {6860180785610348212 53 340}]
------------------------------------------------------
term 53 Server0 start snapshot! index=329
term 53 server0 snapshot success
lastIncludedIndex=329 lastApplied=330 lastIndex=340
-------------------------------------------------------------
term 53 Server0 start snapshot! index=339
term 53 server0 snapshot success
lastIncludedIndex=339 lastApplied=340 lastIndex=340
-------------------------------------------------------------
!!!!!!connect server 2
client write log 4825904421660987553 (index 341) to leader 1
term 53 server 1 not vote for server 2, 日志不够新
term 53 server 0 not vote for server 2, 日志不够新
term 55 server 2 vote for server 1
term 55 server 1 get vote from server 2
term 55 server 1 become leader
------------------------------------------------------
term 55 server 0 vote for server 1
term 55 server 1 get outdate rpc reply from server 0
flag 48478 term 55 leader 1 nextIndex[0]: 342  matchIndex[0]: 0
term 55 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 53 leaderCommit: 340 
------------------------------------------------------
flag 23785 term 55 leader 1 nextIndex[2]: 342  matchIndex[2]: 0
term 55 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 53 leaderCommit: 340 
------------------------------------------------------
term 55 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 342->341
------------------------------------------------------
term 55 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 342->341
------------------------------------------------------
flag 74596 term 55 leader 1 nextIndex[0]: 341  matchIndex[0]: 0
term 55 leader 1 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 53 leaderCommit: 340 
------------------------------------------------------
term 55 leader 1 nextIndex[2]: 328  matchIndex[2]: 0
term 55 leader 1 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 53
------------------------------------------------------
term 55 server 2 InstallSnapshot success
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:340 
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 339 rf.lastIncludedTerm 53 rf.commitIndex 339 rf.lastApplied 339
term 55 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 340 matchIndex[2] 339 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=340
leader log:
[{snapshot 53 339} {6860180785610348212 53 340} {4825904421660987553 53 341}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95720 term 55 leader 1 nextIndex[0]: 342  matchIndex[0]: 341
term 55 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 53 leaderCommit: 340 
------------------------------------------------------
flag 60936 term 55 leader 1 nextIndex[2]: 340  matchIndex[2]: 339
term 55 leader 1 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 53 leaderCommit: 340 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=340
leader log:
[{snapshot 53 339} {6860180785610348212 53 340} {4825904421660987553 53 341}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=340
leader log:
[{snapshot 53 339} {6860180785610348212 53 340} {4825904421660987553 53 341}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77597 term 55 leader 1 nextIndex[0]: 342  matchIndex[0]: 341
term 55 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 53 leaderCommit: 340 
------------------------------------------------------
flag 34477 term 55 leader 1 nextIndex[2]: 342  matchIndex[2]: 341
term 55 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 53 leaderCommit: 340 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:340 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=340
leader log:
[{snapshot 53 339} {6860180785610348212 53 340} {4825904421660987553 53 341}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=340
leader log:
[{snapshot 53 339} {6860180785610348212 53 340} {4825904421660987553 53 341}]
------------------------------------------------------
flag 87178 term 55 leader 1 nextIndex[0]: 342  matchIndex[0]: 341
term 55 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 53 leaderCommit: 340 
------------------------------------------------------
flag 7246 term 55 leader 1 nextIndex[2]: 342  matchIndex[2]: 341
term 55 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 53 leaderCommit: 340 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:340 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=340
leader log:
[{snapshot 53 339} {6860180785610348212 53 340} {4825904421660987553 53 341}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=340
leader log:
[{snapshot 53 339} {6860180785610348212 53 340} {4825904421660987553 53 341}]
------------------------------------------------------
flag 54546 term 55 leader 1 nextIndex[0]: 342  matchIndex[0]: 341
term 55 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 53 leaderCommit: 340 
------------------------------------------------------
flag 51435 term 55 leader 1 nextIndex[2]: 342  matchIndex[2]: 341
term 55 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 53 leaderCommit: 340 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:340 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=340
leader log:
[{snapshot 53 339} {6860180785610348212 53 340} {4825904421660987553 53 341}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=340
leader log:
[{snapshot 53 339} {6860180785610348212 53 340} {4825904421660987553 53 341}]
------------------------------------------------------
term 55 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 47365 term 55 leader 1 nextIndex[0]: 342  matchIndex[0]: 341
term 55 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 53 leaderCommit: 340 
------------------------------------------------------
flag 86504 term 55 leader 1 nextIndex[2]: 342  matchIndex[2]: 341
term 55 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 53 leaderCommit: 340 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:340 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=340
leader log:
[{snapshot 53 339} {6860180785610348212 53 340} {4825904421660987553 53 341}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=340
leader log:
[{snapshot 53 339} {6860180785610348212 53 340} {4825904421660987553 53 341}]
------------------------------------------------------
flag 68993 term 55 leader 1 nextIndex[0]: 342  matchIndex[0]: 341
term 55 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 53 leaderCommit: 340 
------------------------------------------------------
flag 59895 term 55 leader 1 nextIndex[2]: 342  matchIndex[2]: 341
term 55 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 53 leaderCommit: 340 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=340
leader log:
[{snapshot 53 339} {6860180785610348212 53 340} {4825904421660987553 53 341}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=340
leader log:
[{snapshot 53 339} {6860180785610348212 53 340} {4825904421660987553 53 341}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91074 term 55 leader 1 nextIndex[0]: 342  matchIndex[0]: 341
term 55 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 53 leaderCommit: 340 
------------------------------------------------------
flag 63127 term 55 leader 1 nextIndex[2]: 342  matchIndex[2]: 341
term 55 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 53 leaderCommit: 340 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueterm 55 server 0 AppendEntries true commitIndex:340 
------------------------------------------------------
update nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=340
leader log:
[{snapshot 53 339} {6860180785610348212 53 340} {4825904421660987553 53 341}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=340
leader log:
[{snapshot 53 339} {6860180785610348212 53 340} {4825904421660987553 53 341}]
------------------------------------------------------
flag 7020 term 55 leader 1 nextIndex[0]: 342  matchIndex[0]: 341
term 55 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 53 leaderCommit: 340 
------------------------------------------------------
flag 86831 term 55 leader 1 nextIndex[2]: 342  matchIndex[2]: 341
term 55 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 53 leaderCommit: 340 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:340 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=340
leader log:
[{snapshot 53 339} {6860180785610348212 53 340} {4825904421660987553 53 341}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=340
leader log:
[{snapshot 53 339} {6860180785610348212 53 340} {4825904421660987553 53 341}]
------------------------------------------------------
flag 47319 term 55 leader 1 nextIndex[0]: 342  matchIndex[0]: 341
term 55 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 53 leaderCommit: 340 
------------------------------------------------------
flag 93860 term 55 leader 1 nextIndex[2]: 342  matchIndex[2]: 341
term 55 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 53 leaderCommit: 340 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=340
leader log:
[{snapshot 53 339} {6860180785610348212 53 340} {4825904421660987553 53 341}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=340
leader log:
[{snapshot 53 339} {6860180785610348212 53 340} {4825904421660987553 53 341}]
------------------------------------------------------
flag 41210 term 55 leader 1 nextIndex[0]: 342  matchIndex[0]: 341
term 55 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 53 leaderCommit: 340 
------------------------------------------------------
flag 99615 term 55 leader 1 nextIndex[2]: 342  matchIndex[2]: 341
term 55 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 53 leaderCommit: 340 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=340
leader log:
[{snapshot 53 339} {6860180785610348212 53 340} {4825904421660987553 53 341}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=340
leader log:
[{snapshot 53 339} {6860180785610348212 53 340} {4825904421660987553 53 341}]
------------------------------------------------------
flag 1793 term 55 leader 1 nextIndex[0]: 342  matchIndex[0]: 341
term 55 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 53 leaderCommit: 340 
------------------------------------------------------
flag 6938 term 55 leader 1 nextIndex[2]: 342  matchIndex[2]: 341
term 55 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 53 leaderCommit: 340 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=340
leader log:
[{snapshot 53 339} {6860180785610348212 53 340} {4825904421660987553 53 341}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=340
leader log:
[{snapshot 53 339} {6860180785610348212 53 340} {4825904421660987553 53 341}]
------------------------------------------------------
flag 56449 term 55 leader 1 nextIndex[0]: 342  matchIndex[0]: 341
term 55 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 53 leaderCommit: 340 
------------------------------------------------------
flag 80718 term 55 leader 1 nextIndex[2]: 342  matchIndex[2]: 341
term 55 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 53 leaderCommit: 340 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=340
leader log:
[{snapshot 53 339} {6860180785610348212 53 340} {4825904421660987553 53 341}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=340
leader log:
[{snapshot 53 339} {6860180785610348212 53 340} {4825904421660987553 53 341}]
------------------------------------------------------
flag 13770 term 55 leader 1 nextIndex[0]: 342  matchIndex[0]: 341
term 55 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 53 leaderCommit: 340 
------------------------------------------------------
flag 9781 term 55 leader 1 nextIndex[2]: 342  matchIndex[2]: 341
term 55 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 53 leaderCommit: 340 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:340 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=340
leader log:
[{snapshot 53 339} {6860180785610348212 53 340} {4825904421660987553 53 341}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=340
leader log:
[{snapshot 53 339} {6860180785610348212 53 340} {4825904421660987553 53 341}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57824 term 55 leader 1 nextIndex[0]: 342  matchIndex[0]: 341
term 55 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 53 leaderCommit: 340 
------------------------------------------------------
flag 13723 term 55 leader 1 nextIndex[2]: 342  matchIndex[2]: 341
term 55 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 53 leaderCommit: 340 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=340
leader log:
[{snapshot 53 339} {6860180785610348212 53 340} {4825904421660987553 53 341}]
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=340
leader log:
[{snapshot 53 339} {6860180785610348212 53 340} {4825904421660987553 53 341}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6734 term 55 leader 1 nextIndex[0]: 342  matchIndex[0]: 341
term 55 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 53 leaderCommit: 340 
------------------------------------------------------
flag 65499 term 55 leader 1 nextIndex[2]: 342  matchIndex[2]: 341
term 55 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 53 leaderCommit: 340 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=340
leader log:
[{snapshot 53 339} {6860180785610348212 53 340} {4825904421660987553 53 341}]
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=340
leader log:
[{snapshot 53 339} {6860180785610348212 53 340} {4825904421660987553 53 341}]
------------------------------------------------------
flag 34344 term 55 leader 1 nextIndex[0]: 342  matchIndex[0]: 341
term 55 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 53 leaderCommit: 340 
------------------------------------------------------
flag 3418 term 55 leader 1 nextIndex[2]: 342  matchIndex[2]: 341
term 55 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 53 leaderCommit: 340 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=340
leader log:
[{snapshot 53 339} {6860180785610348212 53 340} {4825904421660987553 53 341}]
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=340
leader log:
[{snapshot 53 339} {6860180785610348212 53 340} {4825904421660987553 53 341}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86555 term 55 leader 1 nextIndex[0]: 342  matchIndex[0]: 341
term 55 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 53 leaderCommit: 340 
------------------------------------------------------
flag 27534 term 55 leader 1 nextIndex[2]: 342  matchIndex[2]: 341
term 55 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 53 leaderCommit: 340 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=340
leader log:
[{snapshot 53 339} {6860180785610348212 53 340} {4825904421660987553 53 341}]
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=340
leader log:
[{snapshot 53 339} {6860180785610348212 53 340} {4825904421660987553 53 341}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6734 term 55 leader 1 nextIndex[0]: 342  matchIndex[0]: 341
term 55 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 53 leaderCommit: 340 
------------------------------------------------------
flag 26385 term 55 leader 1 nextIndex[2]: 342  matchIndex[2]: 341
term 55 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 53 leaderCommit: 340 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:340 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=340
leader log:
[{snapshot 53 339} {6860180785610348212 53 340} {4825904421660987553 53 341}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=340
leader log:
[{snapshot 53 339} {6860180785610348212 53 340} {4825904421660987553 53 341}]
------------------------------------------------------
client write log 4825904421660987553 (index 342) to leader 1
flag 19254 term 55 leader 1 nextIndex[0]: 342  matchIndex[0]: 341
term 55 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 53 leaderCommit: 340 
------------------------------------------------------
flag 77369 term 55 leader 1 nextIndex[2]: 342  matchIndex[2]: 341
term 55 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 53 leaderCommit: 340 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=343
update matchIndex[2]=342
update leader CommitIndex=342
leader log:
[{snapshot 53 339} {6860180785610348212 53 340} {4825904421660987553 53 341} {4825904421660987553 55 342}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=343
update matchIndex[0]=342
update leader CommitIndex=342
leader log:
[{snapshot 53 339} {6860180785610348212 53 340} {4825904421660987553 53 341} {4825904421660987553 55 342}]
------------------------------------------------------
flag 85536 term 55 leader 1 nextIndex[0]: 343  matchIndex[0]: 342
term 55 leader 1 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 55 leaderCommit: 342 
------------------------------------------------------
flag 92887 term 55 leader 1 nextIndex[2]: 343  matchIndex[2]: 342
term 55 leader 1 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 55 leaderCommit: 342 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=343
update matchIndex[2]=342
update leader CommitIndex=342
leader log:
[{snapshot 53 339} {6860180785610348212 53 340} {4825904421660987553 53 341} {4825904421660987553 55 342}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=343
update matchIndex[0]=342
update leader CommitIndex=342
leader log:
[{snapshot 53 339} {6860180785610348212 53 340} {4825904421660987553 53 341} {4825904421660987553 55 342}]
------------------------------------------------------
flag 6237 term 55 leader 1 nextIndex[0]: 343  matchIndex[0]: 342
term 55 leader 1 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 55 leaderCommit: 342 
------------------------------------------------------
flag 12218 term 55 leader 1 nextIndex[2]: 343  matchIndex[2]: 342
term 55 leader 1 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 55 leaderCommit: 342 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=343
update matchIndex[2]=342
update leader CommitIndex=342
leader log:
[{snapshot 53 339} {6860180785610348212 53 340} {4825904421660987553 53 341} {4825904421660987553 55 342}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=343
update matchIndex[0]=342
update leader CommitIndex=342
leader log:
[{snapshot 53 339} {6860180785610348212 53 340} {4825904421660987553 53 341} {4825904421660987553 55 342}]
------------------------------------------------------
flag 52537 term 55 leader 1 nextIndex[0]: 343  matchIndex[0]: 342
term 55 leader 1 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 55 leaderCommit: 342 
------------------------------------------------------
flag 13175 term 55 leader 1 nextIndex[2]: 343  matchIndex[2]: 342
term 55 leader 1 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 55 leaderCommit: 342 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=343
update matchIndex[2]=342
update leader CommitIndex=342
leader log:
[{snapshot 53 339} {6860180785610348212 53 340} {4825904421660987553 53 341} {4825904421660987553 55 342}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=343
update matchIndex[0]=342
update leader CommitIndex=342
leader log:
[{snapshot 53 339} {6860180785610348212 53 340} {4825904421660987553 53 341} {4825904421660987553 55 342}]
------------------------------------------------------
flag 68091 term 55 leader 1 nextIndex[0]: 343  matchIndex[0]: 342
term 55 leader 1 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 55 leaderCommit: 342 
------------------------------------------------------
flag 1443 term 55 leader 1 nextIndex[2]: 343  matchIndex[2]: 342
term 55 leader 1 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 55 leaderCommit: 342 
------------------------------------------------------
term 55 server 1 not vote for server 2, 任期不够新
term 55 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=343
update matchIndex[2]=342
update leader CommitIndex=342
leader log:
[{snapshot 53 339} {6860180785610348212 53 340} {4825904421660987553 53 341} {4825904421660987553 55 342}]
------------------------------------------------------
term 55 server 2 get outdate rpc reply from server 1
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=343
update matchIndex[0]=342
update leader CommitIndex=342
leader log:
[{snapshot 53 339} {6860180785610348212 53 340} {4825904421660987553 53 341} {4825904421660987553 55 342}]
------------------------------------------------------
term 55 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 41128 term 55 leader 1 nextIndex[0]: 343  matchIndex[0]: 342
term 55 leader 1 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 55 leaderCommit: 342 
------------------------------------------------------
flag 84840 term 55 leader 1 nextIndex[2]: 343  matchIndex[2]: 342
term 55 leader 1 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 55 leaderCommit: 342 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=343
update matchIndex[2]=342
update leader CommitIndex=342
leader log:
[{snapshot 53 339} {6860180785610348212 53 340} {4825904421660987553 53 341} {4825904421660987553 55 342}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=343
update matchIndex[0]=342
update leader CommitIndex=342
leader log:
[{snapshot 53 339} {6860180785610348212 53 340} {4825904421660987553 53 341} {4825904421660987553 55 342}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 61535 term 55 leader 1 nextIndex[0]: 343  matchIndex[0]: 342
term 55 leader 1 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 55 leaderCommit: 342 
------------------------------------------------------
flag 25026 term 55 leader 1 nextIndex[2]: 343  matchIndex[2]: 342
term 55 leader 1 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 55 leaderCommit: 342 
------------------------------------------------------
flag 64694 term 55 leader 1 nextIndex[0]: 343  matchIndex[0]: 342
term 55 leader 1 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 55 leaderCommit: 342 
------------------------------------------------------
flag 47797 term 55 leader 1 nextIndex[2]: 343  matchIndex[2]: 342
term 55 leader 1 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 55 leaderCommit: 342 
------------------------------------------------------
flag 72017 term 55 leader 1 nextIndex[0]: 343  matchIndex[0]: 342
term 55 leader 1 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 55 leaderCommit: 342 
------------------------------------------------------
flag 8835 term 55 leader 1 nextIndex[2]: 343  matchIndex[2]: 342
term 55 leader 1 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 55 leaderCommit: 342 
------------------------------------------------------
term 56 server 0 vote for server 2
term 56 server 2 get vote from server 0
term 56 server 2 become leader
------------------------------------------------------
flag 1178 term 56 leader 2 nextIndex[0]: 343  matchIndex[0]: 0
term 56 leader 2 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 55 leaderCommit: 342 
------------------------------------------------------
flag 37627 term 56 leader 2 nextIndex[1]: 343  matchIndex[1]: 0
term 56 leader 2 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 55 leaderCommit: 342 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=343
update matchIndex[0]=342
update leader CommitIndex=342
leader log:
[{snapshot 53 339} {6860180785610348212 53 340} {4825904421660987553 53 341} {4825904421660987553 55 342}]
------------------------------------------------------
client write log 5258696036958196695 (index 343) to leader 2
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 343->342
------------------------------------------------------
flag 2369 term 55 leader 1 nextIndex[0]: 343  matchIndex[0]: 342
term 55 leader 1 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 55 leaderCommit: 342 
------------------------------------------------------
term 55 leader 1 nextIndex[2]: 0  matchIndex[2]: 342
term 55 leader 1 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 53
------------------------------------------------------
flag 65053 term 56 leader 2 nextIndex[0]: 343  matchIndex[0]: 342
term 56 leader 2 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 55 leaderCommit: 342 
------------------------------------------------------
flag 20031 term 56 leader 2 nextIndex[1]: 343  matchIndex[1]: 0
term 56 leader 2 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 55 leaderCommit: 342 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=344
update matchIndex[0]=343
update leader CommitIndex=343
leader log:
[{snapshot 53 339} {6860180785610348212 53 340} {4825904421660987553 53 341} {4825904421660987553 55 342} {5258696036958196695 56 343}]
------------------------------------------------------
flag 32069 term 55 leader 1 nextIndex[0]: 343  matchIndex[0]: 342
term 55 leader 1 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 55 leaderCommit: 342 
------------------------------------------------------
term 55 leader 1 nextIndex[2]: 0  matchIndex[2]: 342
term 55 leader 1 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 53
------------------------------------------------------
flag 2942 term 56 leader 2 nextIndex[0]: 344  matchIndex[0]: 343
term 56 leader 2 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 56 leaderCommit: 343 
------------------------------------------------------
flag 97371 term 56 leader 2 nextIndex[1]: 343  matchIndex[1]: 0
term 56 leader 2 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 55 leaderCommit: 343 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=344
update matchIndex[0]=343
update leader CommitIndex=343
leader log:
[{snapshot 53 339} {6860180785610348212 53 340} {4825904421660987553 53 341} {4825904421660987553 55 342} {5258696036958196695 56 343}]
------------------------------------------------------
flag 2361 term 55 leader 1 nextIndex[0]: 343  matchIndex[0]: 342
term 55 leader 1 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 55 leaderCommit: 342 
------------------------------------------------------
term 55 leader 1 nextIndex[2]: 0  matchIndex[2]: 342
term 55 leader 1 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 53
------------------------------------------------------
client write log 5549323544453343317 (index 344) to leader 2
client write log 1204446471949302605 (index 345) to leader 2
client write log 4258632035029214683 (index 346) to leader 2
client write log 8170552177697097653 (index 347) to leader 2
client write log 5074315368181395480 (index 348) to leader 2
client write log 3998666179521103220 (index 349) to leader 2
client write log 5320477619874529606 (index 350) to leader 2
client write log 3020242152114803532 (index 351) to leader 2
client write log 665631143356976424 (index 352) to leader 2
client write log 2386544152185406531 (index 353) to leader 2
client write log 1442962480289473362 (index 354) to leader 2
flag 94096 term 56 leader 2 nextIndex[0]: 344  matchIndex[0]: 343
term 56 leader 2 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 56 leaderCommit: 343 
------------------------------------------------------
flag 48583 term 56 leader 2 nextIndex[1]: 343  matchIndex[1]: 0
term 56 leader 2 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 55 leaderCommit: 343 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=355
update matchIndex[0]=354
update leader CommitIndex=354
leader log:
[{snapshot 53 339} {6860180785610348212 53 340} {4825904421660987553 53 341} {4825904421660987553 55 342} {5258696036958196695 56 343} {5549323544453343317 56 344} {1204446471949302605 56 345} {4258632035029214683 56 346} {8170552177697097653 56 347} {5074315368181395480 56 348} {3998666179521103220 56 349} {5320477619874529606 56 350} {3020242152114803532 56 351} {665631143356976424 56 352} {2386544152185406531 56 353} {1442962480289473362 56 354}]
------------------------------------------------------
term 56 Server2 start snapshot! index=349
term 56 server2 snapshot success
lastIncludedIndex=349 lastApplied=350 lastIndex=354
-------------------------------------------------------------
flag 48855 term 55 leader 1 nextIndex[0]: 343  matchIndex[0]: 342
term 55 leader 1 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 55 leaderCommit: 342 
------------------------------------------------------
term 55 leader 1 nextIndex[2]: 0  matchIndex[2]: 342
term 55 leader 1 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 53
------------------------------------------------------
flag 80367 term 56 leader 2 nextIndex[0]: 355  matchIndex[0]: 354
term 56 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 56 leaderCommit: 354 
------------------------------------------------------
term 56 leader 2 nextIndex[1]: 343  matchIndex[1]: 0
term 56 leader 2 sendInstallSnapshot LastIncludedIndex: 349  LastIncludedTerm: 56
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:354 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=355
update matchIndex[0]=354
update leader CommitIndex=354
leader log:
[{snapshot 56 349} {5320477619874529606 56 350} {3020242152114803532 56 351} {665631143356976424 56 352} {2386544152185406531 56 353} {1442962480289473362 56 354}]
------------------------------------------------------
term 56 Server0 start snapshot! index=349
term 56 server0 snapshot success
lastIncludedIndex=349 lastApplied=350 lastIndex=354
-------------------------------------------------------------
!!!!!!connect server 1
client write log 5912221169321357798 (index 343) to leader 1
flag 40395 term 55 leader 1 nextIndex[0]: 343  matchIndex[0]: 342
term 55 leader 1 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 55 leaderCommit: 342 
------------------------------------------------------
term 55 leader 1 nextIndex[2]: 0  matchIndex[2]: 342
term 55 leader 1 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 53
------------------------------------------------------
term 56 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 55 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 56 server 0 AppendEntries false 领导者任期过期 args.Term 55
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89116 term 56 leader 2 nextIndex[0]: 355  matchIndex[0]: 354
term 56 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 56 leaderCommit: 354 
------------------------------------------------------
term 56 leader 2 nextIndex[1]: 343  matchIndex[1]: 0
term 56 leader 2 sendInstallSnapshot LastIncludedIndex: 349  LastIncludedTerm: 56
------------------------------------------------------
term 56 server 1 InstallSnapshot success
------------------------------------------------------
term 56 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 350 matchIndex[1] 349 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 349 rf.lastIncludedTerm 56 rf.commitIndex 349 rf.lastApplied 349
term 56 server 0 AppendEntries true commitIndex:354 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=355
update matchIndex[0]=354
update leader CommitIndex=354
leader log:
[{snapshot 56 349} {5320477619874529606 56 350} {3020242152114803532 56 351} {665631143356976424 56 352} {2386544152185406531 56 353} {1442962480289473362 56 354}]
------------------------------------------------------
term 56 server 2 not vote for server 1, 日志不够新
term 56 server 0 not vote for server 1, 日志不够新
term 57 server 0 not vote for server 2, 任期不够新
term 57 server 2 get outdate rpc reply from server 0
term 58 server 1 vote for server 2
term 58 server 2 get vote from server 1
term 58 server 2 become leader
------------------------------------------------------
term 58 server 0 vote for server 2
term 58 server 2 get outdate rpc reply from server 0
flag 45095 term 58 leader 2 nextIndex[0]: 355  matchIndex[0]: 0
term 58 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 56 leaderCommit: 354 
------------------------------------------------------
flag 29387 term 58 leader 2 nextIndex[1]: 355  matchIndex[1]: 0
term 58 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 56 leaderCommit: 354 
------------------------------------------------------
term 58 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 355->354
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:354 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=355
update matchIndex[0]=354
update leader CommitIndex=354
leader log:
[{snapshot 56 349} {5320477619874529606 56 350} {3020242152114803532 56 351} {665631143356976424 56 352} {2386544152185406531 56 353} {1442962480289473362 56 354}]
------------------------------------------------------
flag 66391 term 58 leader 2 nextIndex[0]: 355  matchIndex[0]: 354
term 58 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 56 leaderCommit: 354 
------------------------------------------------------
flag 42049 term 58 leader 2 nextIndex[1]: 350  matchIndex[1]: 0
term 58 leader 2 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 56 leaderCommit: 354 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:349 
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:354 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=355
update matchIndex[1]=354
update leader CommitIndex=354
leader log:
[{snapshot 56 349} {5320477619874529606 56 350} {3020242152114803532 56 351} {665631143356976424 56 352} {2386544152185406531 56 353} {1442962480289473362 56 354}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=355
update matchIndex[0]=354
update leader CommitIndex=354
leader log:
[{snapshot 56 349} {5320477619874529606 56 350} {3020242152114803532 56 351} {665631143356976424 56 352} {2386544152185406531 56 353} {1442962480289473362 56 354}]
------------------------------------------------------
flag 85608 term 58 leader 2 nextIndex[0]: 355  matchIndex[0]: 354
term 58 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 56 leaderCommit: 354 
------------------------------------------------------
flag 83914 term 58 leader 2 nextIndex[1]: 355  matchIndex[1]: 354
term 58 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 56 leaderCommit: 354 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:354 
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:354 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=355
update matchIndex[1]=354
update leader CommitIndex=354
leader log:
[{snapshot 56 349} {5320477619874529606 56 350} {3020242152114803532 56 351} {665631143356976424 56 352} {2386544152185406531 56 353} {1442962480289473362 56 354}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=355
update matchIndex[0]=354
update leader CommitIndex=354
leader log:
[{snapshot 56 349} {5320477619874529606 56 350} {3020242152114803532 56 351} {665631143356976424 56 352} {2386544152185406531 56 353} {1442962480289473362 56 354}]
------------------------------------------------------
flag 43490 term 58 leader 2 nextIndex[0]: 355  matchIndex[0]: 354
term 58 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 56 leaderCommit: 354 
------------------------------------------------------
flag 70374 term 58 leader 2 nextIndex[1]: 355  matchIndex[1]: 354
term 58 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 56 leaderCommit: 354 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:354 
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:354 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=355
update matchIndex[1]=354
update leader CommitIndex=354
leader log:
[{snapshot 56 349} {5320477619874529606 56 350} {3020242152114803532 56 351} {665631143356976424 56 352} {2386544152185406531 56 353} {1442962480289473362 56 354}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=355
update matchIndex[0]=354
update leader CommitIndex=354
leader log:
[{snapshot 56 349} {5320477619874529606 56 350} {3020242152114803532 56 351} {665631143356976424 56 352} {2386544152185406531 56 353} {1442962480289473362 56 354}]
------------------------------------------------------
flag 23740 term 58 leader 2 nextIndex[0]: 355  matchIndex[0]: 354
term 58 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 56 leaderCommit: 354 
------------------------------------------------------
flag 75486 term 58 leader 2 nextIndex[1]: 355  matchIndex[1]: 354
term 58 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 56 leaderCommit: 354 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:354 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=355
update matchIndex[1]=354
update leader CommitIndex=354
leader log:
[{snapshot 56 349} {5320477619874529606 56 350} {3020242152114803532 56 351} {665631143356976424 56 352} {2386544152185406531 56 353} {1442962480289473362 56 354}]
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:354 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=355
update matchIndex[0]=354
update leader CommitIndex=354
leader log:
[{snapshot 56 349} {5320477619874529606 56 350} {3020242152114803532 56 351} {665631143356976424 56 352} {2386544152185406531 56 353} {1442962480289473362 56 354}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98455 term 58 leader 2 nextIndex[0]: 355  matchIndex[0]: 354
term 58 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 56 leaderCommit: 354 
------------------------------------------------------
flag 54793 term 58 leader 2 nextIndex[1]: 355  matchIndex[1]: 354
term 58 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 56 leaderCommit: 354 
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:354 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:354 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=355
update matchIndex[0]=354
update leader CommitIndex=354
leader log:
[{snapshot 56 349} {5320477619874529606 56 350} {3020242152114803532 56 351} {665631143356976424 56 352} {2386544152185406531 56 353} {1442962480289473362 56 354}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=355
update matchIndex[1]=354
update leader CommitIndex=354
leader log:
[{snapshot 56 349} {5320477619874529606 56 350} {3020242152114803532 56 351} {665631143356976424 56 352} {2386544152185406531 56 353} {1442962480289473362 56 354}]
------------------------------------------------------
flag 35198 term 58 leader 2 nextIndex[0]: 355  matchIndex[0]: 354
term 58 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 56 leaderCommit: 354 
------------------------------------------------------
flag 4361 term 58 leader 2 nextIndex[1]: 355  matchIndex[1]: 354
term 58 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 56 leaderCommit: 354 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:354 
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:354 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=355
update matchIndex[1]=354
update leader CommitIndex=354
leader log:
[{snapshot 56 349} {5320477619874529606 56 350} {3020242152114803532 56 351} {665631143356976424 56 352} {2386544152185406531 56 353} {1442962480289473362 56 354}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=355
update matchIndex[0]=354
update leader CommitIndex=354
leader log:
[{snapshot 56 349} {5320477619874529606 56 350} {3020242152114803532 56 351} {665631143356976424 56 352} {2386544152185406531 56 353} {1442962480289473362 56 354}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93608 term 58 leader 2 nextIndex[0]: 355  matchIndex[0]: 354
term 58 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 56 leaderCommit: 354 
------------------------------------------------------
flag 31325 term 58 leader 2 nextIndex[1]: 355  matchIndex[1]: 354
term 58 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 56 leaderCommit: 354 
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:354 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:354 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=355
update matchIndex[1]=354
update leader CommitIndex=354
leader log:
[{snapshot 56 349} {5320477619874529606 56 350} {3020242152114803532 56 351} {665631143356976424 56 352} {2386544152185406531 56 353} {1442962480289473362 56 354}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=355
update matchIndex[0]=354
update leader CommitIndex=354
leader log:
[{snapshot 56 349} {5320477619874529606 56 350} {3020242152114803532 56 351} {665631143356976424 56 352} {2386544152185406531 56 353} {1442962480289473362 56 354}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9203 term 58 leader 2 nextIndex[0]: 355  matchIndex[0]: 354
term 58 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 56 leaderCommit: 354 
------------------------------------------------------
flag 71478 term 58 leader 2 nextIndex[1]: 355  matchIndex[1]: 354
term 58 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 56 leaderCommit: 354 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:354 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=355
update matchIndex[1]=354
update leader CommitIndex=354
leader log:
[{snapshot 56 349} {5320477619874529606 56 350} {3020242152114803532 56 351} {665631143356976424 56 352} {2386544152185406531 56 353} {1442962480289473362 56 354}]
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:354 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=355
update matchIndex[0]=354
update leader CommitIndex=354
leader log:
[{snapshot 56 349} {5320477619874529606 56 350} {3020242152114803532 56 351} {665631143356976424 56 352} {2386544152185406531 56 353} {1442962480289473362 56 354}]
------------------------------------------------------
flag 52676 term 58 leader 2 nextIndex[0]: 355  matchIndex[0]: 354
term 58 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 56 leaderCommit: 354 
------------------------------------------------------
flag 38361 term 58 leader 2 nextIndex[1]: 355  matchIndex[1]: 354
term 58 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 56 leaderCommit: 354 
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:354 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:354 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=355
update matchIndex[0]=354
update leader CommitIndex=354
leader log:
[{snapshot 56 349} {5320477619874529606 56 350} {3020242152114803532 56 351} {665631143356976424 56 352} {2386544152185406531 56 353} {1442962480289473362 56 354}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=355
update matchIndex[1]=354
update leader CommitIndex=354
leader log:
[{snapshot 56 349} {5320477619874529606 56 350} {3020242152114803532 56 351} {665631143356976424 56 352} {2386544152185406531 56 353} {1442962480289473362 56 354}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23160 term 58 leader 2 nextIndex[0]: 355  matchIndex[0]: 354
term 58 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 56 leaderCommit: 354 
------------------------------------------------------
flag 94242 term 58 leader 2 nextIndex[1]: 355  matchIndex[1]: 354
term 58 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 56 leaderCommit: 354 
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:354 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:354 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=355
update matchIndex[0]=354
update leader CommitIndex=354
leader log:
[{snapshot 56 349} {5320477619874529606 56 350} {3020242152114803532 56 351} {665631143356976424 56 352} {2386544152185406531 56 353} {1442962480289473362 56 354}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=355
update matchIndex[1]=354
update leader CommitIndex=354
leader log:
[{snapshot 56 349} {5320477619874529606 56 350} {3020242152114803532 56 351} {665631143356976424 56 352} {2386544152185406531 56 353} {1442962480289473362 56 354}]
------------------------------------------------------
flag 96465 term 58 leader 2 nextIndex[0]: 355  matchIndex[0]: 354
term 58 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 56 leaderCommit: 354 
------------------------------------------------------
flag 86204 term 58 leader 2 nextIndex[1]: 355  matchIndex[1]: 354
term 58 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 56 leaderCommit: 354 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:354 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=355
update matchIndex[1]=354
update leader CommitIndex=354
leader log:
[{snapshot 56 349} {5320477619874529606 56 350} {3020242152114803532 56 351} {665631143356976424 56 352} {2386544152185406531 56 353} {1442962480289473362 56 354}]
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:354 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=355
update matchIndex[0]=354
update leader CommitIndex=354
leader log:
[{snapshot 56 349} {5320477619874529606 56 350} {3020242152114803532 56 351} {665631143356976424 56 352} {2386544152185406531 56 353} {1442962480289473362 56 354}]
------------------------------------------------------
flag 56423 term 58 leader 2 nextIndex[0]: 355  matchIndex[0]: 354
term 58 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 56 leaderCommit: 354 
------------------------------------------------------
flag 5736 term 58 leader 2 nextIndex[1]: 355  matchIndex[1]: 354
term 58 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 56 leaderCommit: 354 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:354 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=355
update matchIndex[1]=354
update leader CommitIndex=354
leader log:
[{snapshot 56 349} {5320477619874529606 56 350} {3020242152114803532 56 351} {665631143356976424 56 352} {2386544152185406531 56 353} {1442962480289473362 56 354}]
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:354 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=355
update matchIndex[0]=354
update leader CommitIndex=354
leader log:
[{snapshot 56 349} {5320477619874529606 56 350} {3020242152114803532 56 351} {665631143356976424 56 352} {2386544152185406531 56 353} {1442962480289473362 56 354}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74850 term 58 leader 2 nextIndex[0]: 355  matchIndex[0]: 354
term 58 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 56 leaderCommit: 354 
------------------------------------------------------
flag 8035 term 58 leader 2 nextIndex[1]: 355  matchIndex[1]: 354
term 58 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 56 leaderCommit: 354 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:354 
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:354 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=355
update matchIndex[1]=354
update leader CommitIndex=354
leader log:
[{snapshot 56 349} {5320477619874529606 56 350} {3020242152114803532 56 351} {665631143356976424 56 352} {2386544152185406531 56 353} {1442962480289473362 56 354}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=355
update matchIndex[0]=354
update leader CommitIndex=354
leader log:
[{snapshot 56 349} {5320477619874529606 56 350} {3020242152114803532 56 351} {665631143356976424 56 352} {2386544152185406531 56 353} {1442962480289473362 56 354}]
------------------------------------------------------
flag 81039 term 58 leader 2 nextIndex[0]: 355  matchIndex[0]: 354
term 58 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 56 leaderCommit: 354 
------------------------------------------------------
flag 44847 term 58 leader 2 nextIndex[1]: 355  matchIndex[1]: 354
term 58 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 56 leaderCommit: 354 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:354 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=355
update matchIndex[1]=354
update leader CommitIndex=354
leader log:
[{snapshot 56 349} {5320477619874529606 56 350} {3020242152114803532 56 351} {665631143356976424 56 352} {2386544152185406531 56 353} {1442962480289473362 56 354}]
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:354 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=355
update matchIndex[0]=354
update leader CommitIndex=354
leader log:
[{snapshot 56 349} {5320477619874529606 56 350} {3020242152114803532 56 351} {665631143356976424 56 352} {2386544152185406531 56 353} {1442962480289473362 56 354}]
------------------------------------------------------
flag 62421 term 58 leader 2 nextIndex[0]: 355  matchIndex[0]: 354
term 58 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 56 leaderCommit: 354 
------------------------------------------------------
flag 349 term 58 leader 2 nextIndex[1]: 355  matchIndex[1]: 354
term 58 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 56 leaderCommit: 354 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:354 
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:354 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=355
update matchIndex[1]=354
update leader CommitIndex=354
leader log:
[{snapshot 56 349} {5320477619874529606 56 350} {3020242152114803532 56 351} {665631143356976424 56 352} {2386544152185406531 56 353} {1442962480289473362 56 354}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=355
update matchIndex[0]=354
update leader CommitIndex=354
leader log:
[{snapshot 56 349} {5320477619874529606 56 350} {3020242152114803532 56 351} {665631143356976424 56 352} {2386544152185406531 56 353} {1442962480289473362 56 354}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51292 term 58 leader 2 nextIndex[0]: 355  matchIndex[0]: 354
term 58 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 56 leaderCommit: 354 
------------------------------------------------------
flag 4428 term 58 leader 2 nextIndex[1]: 355  matchIndex[1]: 354
term 58 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 56 leaderCommit: 354 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:354 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=355
update matchIndex[1]=354
update leader CommitIndex=354
leader log:
term 58 server 0 AppendEntries true commitIndex:354 
------------------------------------------------------
[{snapshot 56 349} {5320477619874529606 56 350} {3020242152114803532 56 351} {665631143356976424 56 352} {2386544152185406531 56 353} {1442962480289473362 56 354}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=355
update matchIndex[0]=354
update leader CommitIndex=354
leader log:
[{snapshot 56 349} {5320477619874529606 56 350} {3020242152114803532 56 351} {665631143356976424 56 352} {2386544152185406531 56 353} {1442962480289473362 56 354}]
------------------------------------------------------
flag 89651 term 58 leader 2 nextIndex[0]: 355  matchIndex[0]: 354
term 58 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 56 leaderCommit: 354 
------------------------------------------------------
flag 89338 term 58 leader 2 nextIndex[1]: 355  matchIndex[1]: 354
term 58 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 56 leaderCommit: 354 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:354 
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:354 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=355
update matchIndex[1]=354
update leader CommitIndex=354
leader log:
[{snapshot 56 349} {5320477619874529606 56 350} {3020242152114803532 56 351} {665631143356976424 56 352} {2386544152185406531 56 353} {1442962480289473362 56 354}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=355
update matchIndex[0]=354
update leader CommitIndex=354
leader log:
[{snapshot 56 349} {5320477619874529606 56 350} {3020242152114803532 56 351} {665631143356976424 56 352} {2386544152185406531 56 353} {1442962480289473362 56 354}]
------------------------------------------------------
term 58 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 94601 term 58 leader 2 nextIndex[0]: 355  matchIndex[0]: 354
term 58 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 56 leaderCommit: 354 
------------------------------------------------------
flag 57118 term 58 leader 2 nextIndex[1]: 355  matchIndex[1]: 354
term 58 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 56 leaderCommit: 354 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:354 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=355
update matchIndex[1]=354
update leader CommitIndex=354
leader log:
[{snapshot 56 349} {5320477619874529606 56 350} {3020242152114803532 56 351} {665631143356976424 56 352} {2386544152185406531 56 353} {1442962480289473362 56 354}]
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:354 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=355
update matchIndex[0]=354
update leader CommitIndex=354
leader log:
[{snapshot 56 349} {5320477619874529606 56 350} {3020242152114803532 56 351} {665631143356976424 56 352} {2386544152185406531 56 353} {1442962480289473362 56 354}]
------------------------------------------------------
client write log 5912221169321357798 (index 355) to leader 2
flag 11095 term 58 leader 2 nextIndex[0]: 355  matchIndex[0]: 354
term 58 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 56 leaderCommit: 354 
------------------------------------------------------
flag 57386 term 58 leader 2 nextIndex[1]: 355  matchIndex[1]: 354
term 58 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 56 leaderCommit: 354 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:354 
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:354 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=356
update matchIndex[1]=355
update leader CommitIndex=355
leader log:
[{snapshot 56 349} {5320477619874529606 56 350} {3020242152114803532 56 351} {665631143356976424 56 352} {2386544152185406531 56 353} {1442962480289473362 56 354} {5912221169321357798 58 355}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=356
update matchIndex[0]=355
update leader CommitIndex=355
leader log:
[{snapshot 56 349} {5320477619874529606 56 350} {3020242152114803532 56 351} {665631143356976424 56 352} {2386544152185406531 56 353} {1442962480289473362 56 354} {5912221169321357798 58 355}]
------------------------------------------------------
flag 94503 term 58 leader 2 nextIndex[0]: 356  matchIndex[0]: 355
term 58 leader 2 sendAppendEntries PrevLogIndex: 355  PrevLogTerm: 58 leaderCommit: 355 
------------------------------------------------------
flag 63838 term 58 leader 2 nextIndex[1]: 356  matchIndex[1]: 355
term 58 leader 2 sendAppendEntries PrevLogIndex: 355  PrevLogTerm: 58 leaderCommit: 355 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=356
update matchIndex[1]=355
update leader CommitIndex=355
leader log:
term 58 server 0 AppendEntries true commitIndex:355 
------------------------------------------------------
[{snapshot 56 349} {5320477619874529606 56 350} {3020242152114803532 56 351} {665631143356976424 56 352} {2386544152185406531 56 353} {1442962480289473362 56 354} {5912221169321357798 58 355}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=356
update matchIndex[0]=355
update leader CommitIndex=355
leader log:
[{snapshot 56 349} {5320477619874529606 56 350} {3020242152114803532 56 351} {665631143356976424 56 352} {2386544152185406531 56 353} {1442962480289473362 56 354} {5912221169321357798 58 355}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44460 term 58 leader 2 nextIndex[0]: 356  matchIndex[0]: 355
term 58 leader 2 sendAppendEntries PrevLogIndex: 355  PrevLogTerm: 58 leaderCommit: 355 
------------------------------------------------------
flag 64546 term 58 leader 2 nextIndex[1]: 356  matchIndex[1]: 355
term 58 leader 2 sendAppendEntries PrevLogIndex: 355  PrevLogTerm: 58 leaderCommit: 355 
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=356
update matchIndex[0]=355
update leader CommitIndex=355
leader log:
[{snapshot 56 349} {5320477619874529606 56 350} {3020242152114803532 56 351} {665631143356976424 56 352} {2386544152185406531 56 353} {1442962480289473362 56 354} {5912221169321357798 58 355}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=356
update matchIndex[1]=355
update leader CommitIndex=355
leader log:
[{snapshot 56 349} {5320477619874529606 56 350} {3020242152114803532 56 351} {665631143356976424 56 352} {2386544152185406531 56 353} {1442962480289473362 56 354} {5912221169321357798 58 355}]
------------------------------------------------------
term 58 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 24541 term 58 leader 2 nextIndex[0]: 356  matchIndex[0]: 355
term 58 leader 2 sendAppendEntries PrevLogIndex: 355  PrevLogTerm: 58 leaderCommit: 355 
------------------------------------------------------
flag 33910 term 58 leader 2 nextIndex[1]: 356  matchIndex[1]: 355
term 58 leader 2 sendAppendEntries PrevLogIndex: 355  PrevLogTerm: 58 leaderCommit: 355 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=356
update matchIndex[1]=355
update leader CommitIndex=355
leader log:
[{snapshot 56 349} {5320477619874529606 56 350} {3020242152114803532 56 351} {665631143356976424 56 352} {2386544152185406531 56 353} {1442962480289473362 56 354} {5912221169321357798 58 355}]
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=356
update matchIndex[0]=355
update leader CommitIndex=355
leader log:
[{snapshot 56 349} {5320477619874529606 56 350} {3020242152114803532 56 351} {665631143356976424 56 352} {2386544152185406531 56 353} {1442962480289473362 56 354} {5912221169321357798 58 355}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51055 term 58 leader 2 nextIndex[0]: 356  matchIndex[0]: 355
term 58 leader 2 sendAppendEntries PrevLogIndex: 355  PrevLogTerm: 58 leaderCommit: 355 
------------------------------------------------------
flag 35450 term 58 leader 2 nextIndex[1]: 356  matchIndex[1]: 355
term 58 leader 2 sendAppendEntries PrevLogIndex: 355  PrevLogTerm: 58 leaderCommit: 355 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=356
update matchIndex[1]=355
update leader CommitIndex=355
leader log:
[{snapshot 56 349} {5320477619874529606 56 350} {3020242152114803532 56 351} {665631143356976424 56 352} {2386544152185406531 56 353} {1442962480289473362 56 354} {5912221169321357798 58 355}]
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=356
update matchIndex[0]=355
update leader CommitIndex=355
leader log:
[{snapshot 56 349} {5320477619874529606 56 350} {3020242152114803532 56 351} {665631143356976424 56 352} {2386544152185406531 56 353} {1442962480289473362 56 354} {5912221169321357798 58 355}]
------------------------------------------------------
flag 76084 term 58 leader 2 nextIndex[0]: 356  matchIndex[0]: 355
term 58 leader 2 sendAppendEntries PrevLogIndex: 355  PrevLogTerm: 58 leaderCommit: 355 
------------------------------------------------------
flag 71597 term 58 leader 2 nextIndex[1]: 356  matchIndex[1]: 355
term 58 leader 2 sendAppendEntries PrevLogIndex: 355  PrevLogTerm: 58 leaderCommit: 355 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=356
update matchIndex[1]=355
update leader CommitIndex=355
leader log:
[{snapshot 56 349} {5320477619874529606 56 350} {3020242152114803532 56 351} {665631143356976424 56 352} {2386544152185406531 56 353} {1442962480289473362 56 354} {5912221169321357798 58 355}]
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=356
update matchIndex[0]=355
update leader CommitIndex=355
leader log:
[{snapshot 56 349} {5320477619874529606 56 350} {3020242152114803532 56 351} {665631143356976424 56 352} {2386544152185406531 56 353} {1442962480289473362 56 354} {5912221169321357798 58 355}]
------------------------------------------------------
flag 80029 term 58 leader 2 nextIndex[0]: 356  matchIndex[0]: 355
term 58 leader 2 sendAppendEntries PrevLogIndex: 355  PrevLogTerm: 58 leaderCommit: 355 
------------------------------------------------------
flag 15139 term 58 leader 2 nextIndex[1]: 356  matchIndex[1]: 355
term 58 leader 2 sendAppendEntries PrevLogIndex: 355  PrevLogTerm: 58 leaderCommit: 355 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=356
update matchIndex[1]=355
update leader CommitIndex=355
leader log:
[{snapshot 56 349} {5320477619874529606 56 350} {3020242152114803532 56 351} {665631143356976424 56 352} {2386544152185406531 56 353} {1442962480289473362 56 354} {5912221169321357798 58 355}]
------------------------------------------------------
term 58 server 0 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=356
update matchIndex[0]=355
update leader CommitIndex=355
leader log:
[{snapshot 56 349} {5320477619874529606 56 350} {3020242152114803532 56 351} {665631143356976424 56 352} {2386544152185406531 56 353} {1442962480289473362 56 354} {5912221169321357798 58 355}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 3370759195376656462 (index 356) to leader 2
flag 40632 term 58 leader 2 nextIndex[0]: 356  matchIndex[0]: 355
term 58 leader 2 sendAppendEntries PrevLogIndex: 355  PrevLogTerm: 58 leaderCommit: 355 
------------------------------------------------------
flag 83374 term 58 leader 2 nextIndex[1]: 356  matchIndex[1]: 355
term 58 leader 2 sendAppendEntries PrevLogIndex: 355  PrevLogTerm: 58 leaderCommit: 355 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=357
update matchIndex[1]=356
update leader CommitIndex=356
leader log:
[{snapshot 56 349} {5320477619874529606 56 350} {3020242152114803532 56 351} {665631143356976424 56 352} {2386544152185406531 56 353} {1442962480289473362 56 354} {5912221169321357798 58 355} {3370759195376656462 58 356}]
------------------------------------------------------
flag 75048 term 58 leader 2 nextIndex[0]: 356  matchIndex[0]: 355
term 58 leader 2 sendAppendEntries PrevLogIndex: 355  PrevLogTerm: 58 leaderCommit: 356 
------------------------------------------------------
flag 51899 term 58 leader 2 nextIndex[1]: 357  matchIndex[1]: 356
term 58 leader 2 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 58 leaderCommit: 356 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:356 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=357
update matchIndex[1]=356
update leader CommitIndex=356
leader log:
[{snapshot 56 349} {5320477619874529606 56 350} {3020242152114803532 56 351} {665631143356976424 56 352} {2386544152185406531 56 353} {1442962480289473362 56 354} {5912221169321357798 58 355} {3370759195376656462 58 356}]
------------------------------------------------------
client write log 4689172491581495216 (index 357) to leader 2
client write log 75651808371822837 (index 358) to leader 2
client write log 1389525974556483139 (index 359) to leader 2
client write log 1048003209955238948 (index 360) to leader 2
client write log 3242356040856919886 (index 361) to leader 2
client write log 5267958041181187337 (index 362) to leader 2
client write log 1718506382118976710 (index 363) to leader 2
client write log 5893477015793866457 (index 364) to leader 2
client write log 158055256471592797 (index 365) to leader 2
flag 76470 term 58 leader 2 nextIndex[0]: 356  matchIndex[0]: 355
term 58 leader 2 sendAppendEntries PrevLogIndex: 355  PrevLogTerm: 58 leaderCommit: 356 
------------------------------------------------------
flag 31933 term 58 leader 2 nextIndex[1]: 357  matchIndex[1]: 356
term 58 leader 2 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 58 leaderCommit: 356 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:356 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=366
update matchIndex[1]=365
update leader CommitIndex=365
leader log:
[{snapshot 56 349} {5320477619874529606 56 350} {3020242152114803532 56 351} {665631143356976424 56 352} {2386544152185406531 56 353} {1442962480289473362 56 354} {5912221169321357798 58 355} {3370759195376656462 58 356} {4689172491581495216 58 357} {75651808371822837 58 358} {1389525974556483139 58 359} {1048003209955238948 58 360} {3242356040856919886 58 361} {5267958041181187337 58 362} {1718506382118976710 58 363} {5893477015793866457 58 364} {158055256471592797 58 365}]
------------------------------------------------------
term 58 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 58 Server2 start snapshot! index=359
term 58 server2 snapshot success
lastIncludedIndex=359 lastApplied=360 lastIndex=365
-------------------------------------------------------------
term 58 leader 2 nextIndex[0]: 356  matchIndex[0]: 355
term 58 leader 2 sendInstallSnapshot LastIncludedIndex: 359  LastIncludedTerm: 58
------------------------------------------------------
flag 41094 term 58 leader 2 nextIndex[1]: 366  matchIndex[1]: 365
term 58 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 58 leaderCommit: 365 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=366
update matchIndex[1]=365
update leader CommitIndex=365
leader log:
[{snapshot 58 359} {1048003209955238948 58 360} {3242356040856919886 58 361} {5267958041181187337 58 362} {1718506382118976710 58 363} {5893477015793866457 58 364} {158055256471592797 58 365}]
------------------------------------------------------
term 58 Server1 start snapshot! index=359
term 58 server1 snapshot success
lastIncludedIndex=359 lastApplied=360 lastIndex=365
-------------------------------------------------------------
!!!!!!connect server 0
client write log 2691973736866510182 (index 366) to leader 2
term 58 leader 2 nextIndex[0]: 356  matchIndex[0]: 355
term 58 leader 2 sendInstallSnapshot LastIncludedIndex: 359  LastIncludedTerm: 58
------------------------------------------------------
flag 73953 term 58 leader 2 nextIndex[1]: 366  matchIndex[1]: 365
term 58 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 58 leaderCommit: 365 
------------------------------------------------------
term 59 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:365 
------------------------------------------------------
term 58 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 60 server 1 vote for server 2
term 60 server 0 vote for server 2
term 60 server 2 get vote from server 1
term 60 server 2 become leader
------------------------------------------------------
term 60 server 2 get outdate rpc reply from server 0
flag 69446 term 60 leader 2 nextIndex[0]: 367  matchIndex[0]: 0
term 60 leader 2 sendAppendEntries PrevLogIndex: 366  PrevLogTerm: 58 leaderCommit: 365 
------------------------------------------------------
flag 38847 term 60 leader 2 nextIndex[1]: 367  matchIndex[1]: 0
term 60 leader 2 sendAppendEntries PrevLogIndex: 366  PrevLogTerm: 58 leaderCommit: 365 
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=367
update matchIndex[1]=366
update leader CommitIndex=365
leader log:
[{snapshot 58 359} {1048003209955238948 58 360} {3242356040856919886 58 361} {5267958041181187337 58 362} {1718506382118976710 58 363} {5893477015793866457 58 364} {158055256471592797 58 365} {2691973736866510182 58 366}]
------------------------------------------------------
term 60 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 367->366
------------------------------------------------------
term 60 leader 2 nextIndex[0]: 356  matchIndex[0]: 0
term 60 leader 2 sendInstallSnapshot LastIncludedIndex: 359  LastIncludedTerm: 58
------------------------------------------------------
flag 34997 term 60 leader 2 nextIndex[1]: 367  matchIndex[1]: 366
term 60 leader 2 sendAppendEntries PrevLogIndex: 366  PrevLogTerm: 58 leaderCommit: 365 
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=367
update matchIndex[1]=366
update leader CommitIndex=365
leader log:
[{snapshot 58 359} {1048003209955238948 58 360} {3242356040856919886 58 361} {5267958041181187337 58 362} {1718506382118976710 58 363} {5893477015793866457 58 364} {158055256471592797 58 365} {2691973736866510182 58 366}]
------------------------------------------------------
term 60 server 0 InstallSnapshot success
------------------------------------------------------
term 60 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 360 matchIndex[0] 359 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 359 rf.lastIncludedTerm 58 rf.commitIndex 359 rf.lastApplied 359
term 60 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 32033 term 60 leader 2 nextIndex[0]: 360  matchIndex[0]: 359
term 60 leader 2 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 58 leaderCommit: 365 
------------------------------------------------------
flag 17449 term 60 leader 2 nextIndex[1]: 367  matchIndex[1]: 366
term 60 leader 2 sendAppendEntries PrevLogIndex: 366  PrevLogTerm: 58 leaderCommit: 365 
------------------------------------------------------
term 60 server 0 AppendEntries true commitIndex:359 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=367
update matchIndex[0]=366
update leader CommitIndex=365
leader log:
term 60 server 1 AppendEntries true commitIndex:365 
------------------------------------------------------
[{snapshot 58 359} {1048003209955238948 58 360} {3242356040856919886 58 361} {5267958041181187337 58 362} {1718506382118976710 58 363} {5893477015793866457 58 364} {158055256471592797 58 365} {2691973736866510182 58 366}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=367
update matchIndex[1]=366
update leader CommitIndex=365
leader log:
[{snapshot 58 359} {1048003209955238948 58 360} {3242356040856919886 58 361} {5267958041181187337 58 362} {1718506382118976710 58 363} {5893477015793866457 58 364} {158055256471592797 58 365} {2691973736866510182 58 366}]
------------------------------------------------------
flag 33756 term 60 leader 2 nextIndex[0]: 367  matchIndex[0]: 366
term 60 leader 2 sendAppendEntries PrevLogIndex: 366  PrevLogTerm: 58 leaderCommit: 365 
------------------------------------------------------
flag 79959 term 60 leader 2 nextIndex[1]: 367  matchIndex[1]: 366
term 60 leader 2 sendAppendEntries PrevLogIndex: 366  PrevLogTerm: 58 leaderCommit: 365 
------------------------------------------------------
term 60 server 0 AppendEntries true commitIndex:365 
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=367
update matchIndex[0]=366
update leader CommitIndex=365
leader log:
[{snapshot 58 359} {1048003209955238948 58 360} {3242356040856919886 58 361} {5267958041181187337 58 362} {1718506382118976710 58 363} {5893477015793866457 58 364} {158055256471592797 58 365} {2691973736866510182 58 366}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=367
update matchIndex[1]=366
update leader CommitIndex=365
leader log:
[{snapshot 58 359} {1048003209955238948 58 360} {3242356040856919886 58 361} {5267958041181187337 58 362} {1718506382118976710 58 363} {5893477015793866457 58 364} {158055256471592797 58 365} {2691973736866510182 58 366}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52594 term 60 leader 2 nextIndex[0]: 367  matchIndex[0]: 366
term 60 leader 2 sendAppendEntries PrevLogIndex: 366  PrevLogTerm: 58 leaderCommit: 365 
------------------------------------------------------
flag 60446 term 60 leader 2 nextIndex[1]: 367  matchIndex[1]: 366
term 60 leader 2 sendAppendEntries PrevLogIndex: 366  PrevLogTerm: 58 leaderCommit: 365 
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=367
update matchIndex[1]=366
update leader CommitIndex=365
leader log:
[{snapshot 58 359} {1048003209955238948 58 360} {3242356040856919886 58 361} {5267958041181187337 58 362} {1718506382118976710 58 363} {5893477015793866457 58 364} {158055256471592797 58 365} {2691973736866510182 58 366}]
------------------------------------------------------
term 60 server 0 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=367
update matchIndex[0]=366
update leader CommitIndex=365
leader log:
[{snapshot 58 359} {1048003209955238948 58 360} {3242356040856919886 58 361} {5267958041181187337 58 362} {1718506382118976710 58 363} {5893477015793866457 58 364} {158055256471592797 58 365} {2691973736866510182 58 366}]
------------------------------------------------------
flag 99382 term 60 leader 2 nextIndex[0]: 367  matchIndex[0]: 366
term 60 leader 2 sendAppendEntries PrevLogIndex: 366  PrevLogTerm: 58 leaderCommit: 365 
------------------------------------------------------
flag 78180 term 60 leader 2 nextIndex[1]: 367  matchIndex[1]: 366
term 60 leader 2 sendAppendEntries PrevLogIndex: 366  PrevLogTerm: 58 leaderCommit: 365 
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=367
update matchIndex[1]=366
update leader CommitIndex=365
leader log:
term 60 server 0 AppendEntries true commitIndex:365 
------------------------------------------------------
[{snapshot 58 359} {1048003209955238948 58 360} {3242356040856919886 58 361} {5267958041181187337 58 362} {1718506382118976710 58 363} {5893477015793866457 58 364} {158055256471592797 58 365} {2691973736866510182 58 366}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=367
update matchIndex[0]=366
update leader CommitIndex=365
leader log:
[{snapshot 58 359} {1048003209955238948 58 360} {3242356040856919886 58 361} {5267958041181187337 58 362} {1718506382118976710 58 363} {5893477015793866457 58 364} {158055256471592797 58 365} {2691973736866510182 58 366}]
------------------------------------------------------
flag 63326 term 60 leader 2 nextIndex[0]: 367  matchIndex[0]: 366
term 60 leader 2 sendAppendEntries PrevLogIndex: 366  PrevLogTerm: 58 leaderCommit: 365 
------------------------------------------------------
flag 58836 term 60 leader 2 nextIndex[1]: 367  matchIndex[1]: 366
term 60 leader 2 sendAppendEntries PrevLogIndex: 366  PrevLogTerm: 58 leaderCommit: 365 
------------------------------------------------------
term 60 server 0 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=367
update matchIndex[0]=366
update leader CommitIndex=365
leader log:
[{snapshot 58 359} {1048003209955238948 58 360} {3242356040856919886 58 361} {5267958041181187337 58 362} {1718506382118976710 58 363} {5893477015793866457 58 364} {158055256471592797 58 365} {2691973736866510182 58 366}]
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=367
update matchIndex[1]=366
update leader CommitIndex=365
leader log:
[{snapshot 58 359} {1048003209955238948 58 360} {3242356040856919886 58 361} {5267958041181187337 58 362} {1718506382118976710 58 363} {5893477015793866457 58 364} {158055256471592797 58 365} {2691973736866510182 58 366}]
------------------------------------------------------
term 60 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 49076 term 60 leader 2 nextIndex[0]: 367  matchIndex[0]: 366
term 60 leader 2 sendAppendEntries PrevLogIndex: 366  PrevLogTerm: 58 leaderCommit: 365 
------------------------------------------------------
flag 82646 term 60 leader 2 nextIndex[1]: 367  matchIndex[1]: 366
term 60 leader 2 sendAppendEntries PrevLogIndex: 366  PrevLogTerm: 58 leaderCommit: 365 
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=367
update matchIndex[1]=366
update leader CommitIndex=365
leader log:
[{snapshot 58 359} {1048003209955238948 58 360} {3242356040856919886 58 361} {5267958041181187337 58 362} {1718506382118976710 58 363} {5893477015793866457 58 364} {158055256471592797 58 365} {2691973736866510182 58 366}]
------------------------------------------------------
term 60 server 0 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=367
update matchIndex[0]=366
update leader CommitIndex=365
leader log:
[{snapshot 58 359} {1048003209955238948 58 360} {3242356040856919886 58 361} {5267958041181187337 58 362} {1718506382118976710 58 363} {5893477015793866457 58 364} {158055256471592797 58 365} {2691973736866510182 58 366}]
------------------------------------------------------
flag 38069 term 60 leader 2 nextIndex[0]: 367  matchIndex[0]: 366
term 60 leader 2 sendAppendEntries PrevLogIndex: 366  PrevLogTerm: 58 leaderCommit: 365 
------------------------------------------------------
flag 48251 term 60 leader 2 nextIndex[1]: 367  matchIndex[1]: 366
term 60 leader 2 sendAppendEntries PrevLogIndex: 366  PrevLogTerm: 58 leaderCommit: 365 
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=367
update matchIndex[1]=366
update leader CommitIndex=365
leader log:
[{snapshot 58 359} {1048003209955238948 58 360} {3242356040856919886 58 361} {5267958041181187337 58 362} {1718506382118976710 58 363} {5893477015793866457 58 364} {158055256471592797 58 365} {2691973736866510182 58 366}]
------------------------------------------------------
term 60 server 0 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=367
update matchIndex[0]=366
update leader CommitIndex=365
leader log:
[{snapshot 58 359} {1048003209955238948 58 360} {3242356040856919886 58 361} {5267958041181187337 58 362} {1718506382118976710 58 363} {5893477015793866457 58 364} {158055256471592797 58 365} {2691973736866510182 58 366}]
------------------------------------------------------
flag 4242 term 60 leader 2 nextIndex[0]: 367  matchIndex[0]: 366
term 60 leader 2 sendAppendEntries PrevLogIndex: 366  PrevLogTerm: 58 leaderCommit: 365 
------------------------------------------------------
flag 76984 term 60 leader 2 nextIndex[1]: 367  matchIndex[1]: 366
term 60 leader 2 sendAppendEntries PrevLogIndex: 366  PrevLogTerm: 58 leaderCommit: 365 
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=367
update matchIndex[1]=366
update leader CommitIndex=365
leader log:
[{snapshot 58 359} {1048003209955238948 58 360} {3242356040856919886 58 361} {5267958041181187337 58 362} {1718506382118976710 58 363} {5893477015793866457 58 364} {158055256471592797 58 365} {2691973736866510182 58 366}]
------------------------------------------------------
term 60 server 0 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=367
update matchIndex[0]=366
update leader CommitIndex=365
leader log:
[{snapshot 58 359} {1048003209955238948 58 360} {3242356040856919886 58 361} {5267958041181187337 58 362} {1718506382118976710 58 363} {5893477015793866457 58 364} {158055256471592797 58 365} {2691973736866510182 58 366}]
------------------------------------------------------
flag 85152 term 60 leader 2 nextIndex[0]: 367  matchIndex[0]: 366
term 60 leader 2 sendAppendEntries PrevLogIndex: 366  PrevLogTerm: 58 leaderCommit: 365 
------------------------------------------------------
flag 47833 term 60 leader 2 nextIndex[1]: 367  matchIndex[1]: 366
term 60 leader 2 sendAppendEntries PrevLogIndex: 366  PrevLogTerm: 58 leaderCommit: 365 
------------------------------------------------------
term 60 server 0 AppendEntries true commitIndex:365 
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=367
update matchIndex[0]=366
update leader CommitIndex=365
leader log:
[{snapshot 58 359} {1048003209955238948 58 360} {3242356040856919886 58 361} {5267958041181187337 58 362} {1718506382118976710 58 363} {5893477015793866457 58 364} {158055256471592797 58 365} {2691973736866510182 58 366}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=367
update matchIndex[1]=366
update leader CommitIndex=365
leader log:
[{snapshot 58 359} {1048003209955238948 58 360} {3242356040856919886 58 361} {5267958041181187337 58 362} {1718506382118976710 58 363} {5893477015793866457 58 364} {158055256471592797 58 365} {2691973736866510182 58 366}]
------------------------------------------------------
flag 58812 term 60 leader 2 nextIndex[0]: 367  matchIndex[0]: 366
term 60 leader 2 sendAppendEntries PrevLogIndex: 366  PrevLogTerm: 58 leaderCommit: 365 
------------------------------------------------------
flag 46322 term 60 leader 2 nextIndex[1]: 367  matchIndex[1]: 366
term 60 leader 2 sendAppendEntries PrevLogIndex: 366  PrevLogTerm: 58 leaderCommit: 365 
------------------------------------------------------
term 60 server 0 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=367
update matchIndex[0]=366
update leader CommitIndex=365
leader log:
[{snapshot 58 359} {1048003209955238948 58 360} {3242356040856919886 58 361} {5267958041181187337 58 362} {1718506382118976710 58 363} {5893477015793866457 58 364} {158055256471592797 58 365} {2691973736866510182 58 366}]
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=367
update matchIndex[1]=366
update leader CommitIndex=365
leader log:
[{snapshot 58 359} {1048003209955238948 58 360} {3242356040856919886 58 361} {5267958041181187337 58 362} {1718506382118976710 58 363} {5893477015793866457 58 364} {158055256471592797 58 365} {2691973736866510182 58 366}]
------------------------------------------------------
flag 55887 term 60 leader 2 nextIndex[0]: 367  matchIndex[0]: 366
term 60 leader 2 sendAppendEntries PrevLogIndex: 366  PrevLogTerm: 58 leaderCommit: 365 
------------------------------------------------------
flag 25870 term 60 leader 2 nextIndex[1]: 367  matchIndex[1]: 366
term 60 leader 2 sendAppendEntries PrevLogIndex: 366  PrevLogTerm: 58 leaderCommit: 365 
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:365 
------------------------------------------------------
term 60 server 0 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=367
update matchIndex[1]=366
update leader CommitIndex=365
leader log:
[{snapshot 58 359} {1048003209955238948 58 360} {3242356040856919886 58 361} {5267958041181187337 58 362} {1718506382118976710 58 363} {5893477015793866457 58 364} {158055256471592797 58 365} {2691973736866510182 58 366}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=367
update matchIndex[0]=366
update leader CommitIndex=365
leader log:
[{snapshot 58 359} {1048003209955238948 58 360} {3242356040856919886 58 361} {5267958041181187337 58 362} {1718506382118976710 58 363} {5893477015793866457 58 364} {158055256471592797 58 365} {2691973736866510182 58 366}]
------------------------------------------------------
flag 54229 term 60 leader 2 nextIndex[0]: 367  matchIndex[0]: 366
term 60 leader 2 sendAppendEntries PrevLogIndex: 366  PrevLogTerm: 58 leaderCommit: 365 
------------------------------------------------------
flag 22565 term 60 leader 2 nextIndex[1]: 367  matchIndex[1]: 366
term 60 leader 2 sendAppendEntries PrevLogIndex: 366  PrevLogTerm: 58 leaderCommit: 365 
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:365 
------------------------------------------------------
term 60 server 0 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=367
update matchIndex[0]=366
update leader CommitIndex=365
leader log:
[{snapshot 58 359} {1048003209955238948 58 360} {3242356040856919886 58 361} {5267958041181187337 58 362} {1718506382118976710 58 363} {5893477015793866457 58 364} {158055256471592797 58 365} {2691973736866510182 58 366}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=367
update matchIndex[1]=366
update leader CommitIndex=365
leader log:
[{snapshot 58 359} {1048003209955238948 58 360} {3242356040856919886 58 361} {5267958041181187337 58 362} {1718506382118976710 58 363} {5893477015793866457 58 364} {158055256471592797 58 365} {2691973736866510182 58 366}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48266 term 60 leader 2 nextIndex[0]: 367  matchIndex[0]: 366
term 60 leader 2 sendAppendEntries PrevLogIndex: 366  PrevLogTerm: 58 leaderCommit: 365 
------------------------------------------------------
flag 74054 term 60 leader 2 nextIndex[1]: 367  matchIndex[1]: 366
term 60 leader 2 sendAppendEntries PrevLogIndex: 366  PrevLogTerm: 58 leaderCommit: 365 
------------------------------------------------------
term 60 server 0 AppendEntries true commitIndex:365 
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=367
update matchIndex[0]=366
update leader CommitIndex=365
leader log:
[{snapshot 58 359} {1048003209955238948 58 360} {3242356040856919886 58 361} {5267958041181187337 58 362} {1718506382118976710 58 363} {5893477015793866457 58 364} {158055256471592797 58 365} {2691973736866510182 58 366}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=367
update matchIndex[1]=366
update leader CommitIndex=365
leader log:
[{snapshot 58 359} {1048003209955238948 58 360} {3242356040856919886 58 361} {5267958041181187337 58 362} {1718506382118976710 58 363} {5893477015793866457 58 364} {158055256471592797 58 365} {2691973736866510182 58 366}]
------------------------------------------------------
flag 44650 term 60 leader 2 nextIndex[0]: 367  matchIndex[0]: 366
term 60 leader 2 sendAppendEntries PrevLogIndex: 366  PrevLogTerm: 58 leaderCommit: 365 
------------------------------------------------------
flag 84990 term 60 leader 2 nextIndex[1]: 367  matchIndex[1]: 366
term 60 leader 2 sendAppendEntries PrevLogIndex: 366  PrevLogTerm: 58 leaderCommit: 365 
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:365 
------------------------------------------------------
term 60 server 0 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=367
update matchIndex[1]=366
update leader CommitIndex=365
leader log:
[{snapshot 58 359} {1048003209955238948 58 360} {3242356040856919886 58 361} {5267958041181187337 58 362} {1718506382118976710 58 363} {5893477015793866457 58 364} {158055256471592797 58 365} {2691973736866510182 58 366}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=367
update matchIndex[0]=366
update leader CommitIndex=365
leader log:
[{snapshot 58 359} {1048003209955238948 58 360} {3242356040856919886 58 361} {5267958041181187337 58 362} {1718506382118976710 58 363} {5893477015793866457 58 364} {158055256471592797 58 365} {2691973736866510182 58 366}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92452 term 60 leader 2 nextIndex[0]: 367  matchIndex[0]: 366
term 60 leader 2 sendAppendEntries PrevLogIndex: 366  PrevLogTerm: 58 leaderCommit: 365 
------------------------------------------------------
flag 26837 term 60 leader 2 nextIndex[1]: 367  matchIndex[1]: 366
term 60 leader 2 sendAppendEntries PrevLogIndex: 366  PrevLogTerm: 58 leaderCommit: 365 
------------------------------------------------------
term 60 server 0 AppendEntries true commitIndex:365 
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=367
update matchIndex[0]=366
update leader CommitIndex=365
leader log:
[{snapshot 58 359} {1048003209955238948 58 360} {3242356040856919886 58 361} {5267958041181187337 58 362} {1718506382118976710 58 363} {5893477015793866457 58 364} {158055256471592797 58 365} {2691973736866510182 58 366}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=367
update matchIndex[1]=366
update leader CommitIndex=365
leader log:
[{snapshot 58 359} {1048003209955238948 58 360} {3242356040856919886 58 361} {5267958041181187337 58 362} {1718506382118976710 58 363} {5893477015793866457 58 364} {158055256471592797 58 365} {2691973736866510182 58 366}]
------------------------------------------------------
flag 21108 term 60 leader 2 nextIndex[0]: 367  matchIndex[0]: 366
term 60 leader 2 sendAppendEntries PrevLogIndex: 366  PrevLogTerm: 58 leaderCommit: 365 
------------------------------------------------------
flag 12853 term 60 leader 2 nextIndex[1]: 367  matchIndex[1]: 366
term 60 leader 2 sendAppendEntries PrevLogIndex: 366  PrevLogTerm: 58 leaderCommit: 365 
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:365 
------------------------------------------------------
term 60 server 0 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=367
update matchIndex[1]=366
update leader CommitIndex=365
leader log:
[{snapshot 58 359} {1048003209955238948 58 360} {3242356040856919886 58 361} {5267958041181187337 58 362} {1718506382118976710 58 363} {5893477015793866457 58 364} {158055256471592797 58 365} {2691973736866510182 58 366}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=367
update matchIndex[0]=366
update leader CommitIndex=365
leader log:
[{snapshot 58 359} {1048003209955238948 58 360} {3242356040856919886 58 361} {5267958041181187337 58 362} {1718506382118976710 58 363} {5893477015793866457 58 364} {158055256471592797 58 365} {2691973736866510182 58 366}]
------------------------------------------------------
client write log 2691973736866510182 (index 367) to leader 2
flag 16985 term 60 leader 2 nextIndex[0]: 367  matchIndex[0]: 366
term 60 leader 2 sendAppendEntries PrevLogIndex: 366  PrevLogTerm: 58 leaderCommit: 365 
------------------------------------------------------
flag 95490 term 60 leader 2 nextIndex[1]: 367  matchIndex[1]: 366
term 60 leader 2 sendAppendEntries PrevLogIndex: 366  PrevLogTerm: 58 leaderCommit: 365 
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=368
update matchIndex[1]=367
update leader CommitIndex=367
leader log:
[{snapshot 58 359} {1048003209955238948 58 360} {3242356040856919886 58 361} {5267958041181187337 58 362} {1718506382118976710 58 363} {5893477015793866457 58 364} {158055256471592797 58 365} {2691973736866510182 58 366} {2691973736866510182 60 367}]
------------------------------------------------------
term 60 server 0 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=368
update matchIndex[0]=367
update leader CommitIndex=367
leader log:
[{snapshot 58 359} {1048003209955238948 58 360} {3242356040856919886 58 361} {5267958041181187337 58 362} {1718506382118976710 58 363} {5893477015793866457 58 364} {158055256471592797 58 365} {2691973736866510182 58 366} {2691973736866510182 60 367}]
------------------------------------------------------
flag 36301 term 60 leader 2 nextIndex[0]: 368  matchIndex[0]: 367
term 60 leader 2 sendAppendEntries PrevLogIndex: 367  PrevLogTerm: 60 leaderCommit: 367 
------------------------------------------------------
flag 25458 term 60 leader 2 nextIndex[1]: 368  matchIndex[1]: 367
term 60 leader 2 sendAppendEntries PrevLogIndex: 367  PrevLogTerm: 60 leaderCommit: 367 
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:367 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=368
update matchIndex[1]=367
update leader CommitIndex=367
leader log:
[{snapshot 58 359} {1048003209955238948 58 360} {3242356040856919886 58 361} {5267958041181187337 58 362} {1718506382118976710 58 363} {5893477015793866457 58 364} {158055256471592797 58 365} {2691973736866510182 58 366} {2691973736866510182 60 367}]
------------------------------------------------------
term 60 server 0 AppendEntries true commitIndex:367 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=368
update matchIndex[0]=367
update leader CommitIndex=367
leader log:
[{snapshot 58 359} {1048003209955238948 58 360} {3242356040856919886 58 361} {5267958041181187337 58 362} {1718506382118976710 58 363} {5893477015793866457 58 364} {158055256471592797 58 365} {2691973736866510182 58 366} {2691973736866510182 60 367}]
------------------------------------------------------
flag 84240 term 60 leader 2 nextIndex[0]: 368  matchIndex[0]: 367
term 60 leader 2 sendAppendEntries PrevLogIndex: 367  PrevLogTerm: 60 leaderCommit: 367 
------------------------------------------------------
flag 45869 term 60 leader 2 nextIndex[1]: 368  matchIndex[1]: 367
term 60 leader 2 sendAppendEntries PrevLogIndex: 367  PrevLogTerm: 60 leaderCommit: 367 
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:367 
------------------------------------------------------
term 60 server 0 AppendEntries true commitIndex:367 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=368
update matchIndex[0]=367
update leader CommitIndex=367
leader log:
[{snapshot 58 359} {1048003209955238948 58 360} {3242356040856919886 58 361} {5267958041181187337 58 362} {1718506382118976710 58 363} {5893477015793866457 58 364} {158055256471592797 58 365} {2691973736866510182 58 366} {2691973736866510182 60 367}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=368
update matchIndex[1]=367
update leader CommitIndex=367
leader log:
[{snapshot 58 359} {1048003209955238948 58 360} {3242356040856919886 58 361} {5267958041181187337 58 362} {1718506382118976710 58 363} {5893477015793866457 58 364} {158055256471592797 58 365} {2691973736866510182 58 366} {2691973736866510182 60 367}]
------------------------------------------------------
flag 87476 term 60 leader 2 nextIndex[0]: 368  matchIndex[0]: 367
term 60 leader 2 sendAppendEntries PrevLogIndex: 367  PrevLogTerm: 60 leaderCommit: 367 
------------------------------------------------------
flag 47516 term 60 leader 2 nextIndex[1]: 368  matchIndex[1]: 367
term 60 leader 2 sendAppendEntries PrevLogIndex: 367  PrevLogTerm: 60 leaderCommit: 367 
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:367 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=368
update matchIndex[1]=367
update leader CommitIndex=367
leader log:
[{snapshot 58 359} {1048003209955238948 58 360} {3242356040856919886 58 361} {5267958041181187337 58 362} {1718506382118976710 58 363} {5893477015793866457 58 364} {158055256471592797 58 365} {2691973736866510182 58 366} {2691973736866510182 60 367}]
------------------------------------------------------
term 60 server 0 AppendEntries true commitIndex:367 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=368
update matchIndex[0]=367
update leader CommitIndex=367
leader log:
[{snapshot 58 359} {1048003209955238948 58 360} {3242356040856919886 58 361} {5267958041181187337 58 362} {1718506382118976710 58 363} {5893477015793866457 58 364} {158055256471592797 58 365} {2691973736866510182 58 366} {2691973736866510182 60 367}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42452 term 60 leader 2 nextIndex[0]: 368  matchIndex[0]: 367
term 60 leader 2 sendAppendEntries PrevLogIndex: 367  PrevLogTerm: 60 leaderCommit: 367 
------------------------------------------------------
flag 21364 term 60 leader 2 nextIndex[1]: 368  matchIndex[1]: 367
term 60 leader 2 sendAppendEntries PrevLogIndex: 367  PrevLogTerm: 60 leaderCommit: 367 
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:367 
------------------------------------------------------
term 60 server 0 AppendEntries true commitIndex:367 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=368
update matchIndex[1]=367
update leader CommitIndex=367
leader log:
[{snapshot 58 359} {1048003209955238948 58 360} {3242356040856919886 58 361} {5267958041181187337 58 362} {1718506382118976710 58 363} {5893477015793866457 58 364} {158055256471592797 58 365} {2691973736866510182 58 366} {2691973736866510182 60 367}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=368
update matchIndex[0]=367
update leader CommitIndex=367
leader log:
[{snapshot 58 359} {1048003209955238948 58 360} {3242356040856919886 58 361} {5267958041181187337 58 362} {1718506382118976710 58 363} {5893477015793866457 58 364} {158055256471592797 58 365} {2691973736866510182 58 366} {2691973736866510182 60 367}]
------------------------------------------------------
flag 62432 term 60 leader 2 nextIndex[0]: 368  matchIndex[0]: 367
term 60 leader 2 sendAppendEntries PrevLogIndex: 367  PrevLogTerm: 60 leaderCommit: 367 
------------------------------------------------------
flag 33269 term 60 leader 2 nextIndex[1]: 368  matchIndex[1]: 367
term 60 leader 2 sendAppendEntries PrevLogIndex: 367  PrevLogTerm: 60 leaderCommit: 367 
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:367 
------------------------------------------------------
term 60 server 0 AppendEntries true commitIndex:367 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=368
update matchIndex[1]=367
update leader CommitIndex=367
leader log:
[{snapshot 58 359} {1048003209955238948 58 360} {3242356040856919886 58 361} {5267958041181187337 58 362} {1718506382118976710 58 363} {5893477015793866457 58 364} {158055256471592797 58 365} {2691973736866510182 58 366} {2691973736866510182 60 367}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=368
update matchIndex[0]=367
update leader CommitIndex=367
leader log:
[{snapshot 58 359} {1048003209955238948 58 360} {3242356040856919886 58 361} {5267958041181187337 58 362} {1718506382118976710 58 363} {5893477015793866457 58 364} {158055256471592797 58 365} {2691973736866510182 58 366} {2691973736866510182 60 367}]
------------------------------------------------------
  ... Passed --  85.2  3 1918  829059  367
--- PASS: TestSnapshotInstall2D (85.24s)
PASS
