=== RUN   TestSnapshotInstall2D
Test (2D): install snapshots (disconnect) ...
term 1 server 2 vote for server 0
term 1 server 0 get vote from server 2
term 1 server 0 become leader
------------------------------------------------------
term 1 server 1 vote for server 0
term 1 server 0 get outdate rpc reply from server 1
flag 24140 term 1 leader 0 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 0 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 67482 term 1 leader 0 nextIndex[2]: 1  matchIndex[2]: 0
term 1 leader 0 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=1
update matchIndex[2]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=1
update matchIndex[1]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
client write log 2537336519297592242 (index 1) to leader 0
flag 13198 term 1 leader 0 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 0 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 19752 term 1 leader 0 nextIndex[2]: 1  matchIndex[2]: 0
term 1 leader 0 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2537336519297592242 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2537336519297592242 1 1}]
------------------------------------------------------
flag 757 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 81447 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2537336519297592242 1 1}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2537336519297592242 1 1}]
------------------------------------------------------
flag 9920 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 1812 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2537336519297592242 1 1}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2537336519297592242 1 1}]
------------------------------------------------------
flag 95295 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 67234 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2537336519297592242 1 1}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2537336519297592242 1 1}]
------------------------------------------------------
flag 40848 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 79778 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2537336519297592242 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2537336519297592242 1 1}]
------------------------------------------------------
flag 86737 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 66573 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2537336519297592242 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2537336519297592242 1 1}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 2457245404469757047 (index 2) to leader 0
flag 2975 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 53884 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=3
update matchIndex[2]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {2537336519297592242 1 1} {2457245404469757047 1 2}]
------------------------------------------------------
flag 32025 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 75609 term 1 leader 0 nextIndex[2]: 3  matchIndex[2]: 2
term 1 leader 0 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=3
update matchIndex[2]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {2537336519297592242 1 1} {2457245404469757047 1 2}]
------------------------------------------------------
client write log 5010660809984607631 (index 3) to leader 0
client write log 7410666478815594604 (index 4) to leader 0
client write log 4516882523223851595 (index 5) to leader 0
client write log 4037115531891095639 (index 6) to leader 0
client write log 709720947441555467 (index 7) to leader 0
client write log 2332553934886743774 (index 8) to leader 0
client write log 6116688818867808069 (index 9) to leader 0
client write log 4894997626372363717 (index 10) to leader 0
client write log 8585319651313782537 (index 11) to leader 0
client write log 6578592615755206433 (index 12) to leader 0
client write log 559067397041135079 (index 13) to leader 0
client write log 2991703547899072267 (index 14) to leader 0
client write log 7782675108632983753 (index 15) to leader 0
client write log 4348408732418718888 (index 16) to leader 0
flag 14913 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 37091 term 1 leader 0 nextIndex[2]: 3  matchIndex[2]: 2
term 1 leader 0 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{<nil> 0 0} {2537336519297592242 1 1} {2457245404469757047 1 2} {5010660809984607631 1 3} {7410666478815594604 1 4} {4516882523223851595 1 5} {4037115531891095639 1 6} {709720947441555467 1 7} {2332553934886743774 1 8} {6116688818867808069 1 9} {4894997626372363717 1 10} {8585319651313782537 1 11} {6578592615755206433 1 12} {559067397041135079 1 13} {2991703547899072267 1 14} {7782675108632983753 1 15} {4348408732418718888 1 16}]
------------------------------------------------------
term 1 Server0 start snapshot! index=9
term 1 server0 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=16
-------------------------------------------------------------
term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 10019 term 1 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 1 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {4894997626372363717 1 10} {8585319651313782537 1 11} {6578592615755206433 1 12} {559067397041135079 1 13} {2991703547899072267 1 14} {7782675108632983753 1 15} {4348408732418718888 1 16}]
------------------------------------------------------
term 1 Server2 start snapshot! index=9
term 1 server2 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=16
-------------------------------------------------------------
!!!!!!connect server 1
client write log 8627182841914754691 (index 17) to leader 0
term 1 server 2 not vote for server 1, 日志不够新
term 1 server 0 not vote for server 1, 日志不够新
term 3 server 2 vote for server 0
term 3 server 1 vote for server 0
term 3 server 0 get vote from server 2
term 3 server 0 become leader
------------------------------------------------------
term 3 server 0 get outdate rpc reply from server 1
flag 29829 term 3 leader 0 nextIndex[1]: 18  matchIndex[1]: 0
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 69253 term 3 leader 0 nextIndex[2]: 18  matchIndex[2]: 0
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 3 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 18->17
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 18->17
------------------------------------------------------
term 3 leader 0 nextIndex[1]: 2  matchIndex[1]: 0
term 3 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 77124 term 3 leader 0 nextIndex[2]: 17  matchIndex[2]: 0
term 3 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {4894997626372363717 1 10} {8585319651313782537 1 11} {6578592615755206433 1 12} {559067397041135079 1 13} {2991703547899072267 1 14} {7782675108632983753 1 15} {4348408732418718888 1 16} {8627182841914754691 1 17}]
------------------------------------------------------
term 3 server 1 InstallSnapshot success
------------------------------------------------------
term 3 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 10 matchIndex[1] 9 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 9 rf.lastIncludedTerm 1 rf.commitIndex 9 rf.lastApplied 9
flag 69998 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 44764 term 3 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {4894997626372363717 1 10} {8585319651313782537 1 11} {6578592615755206433 1 12} {559067397041135079 1 13} {2991703547899072267 1 14} {7782675108632983753 1 15} {4348408732418718888 1 16} {8627182841914754691 1 17}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {4894997626372363717 1 10} {8585319651313782537 1 11} {6578592615755206433 1 12} {559067397041135079 1 13} {2991703547899072267 1 14} {7782675108632983753 1 15} {4348408732418718888 1 16} {8627182841914754691 1 17}]
------------------------------------------------------
flag 85814 term 3 leader 0 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 55952 term 3 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {4894997626372363717 1 10} {8585319651313782537 1 11} {6578592615755206433 1 12} {559067397041135079 1 13} {2991703547899072267 1 14} {7782675108632983753 1 15} {4348408732418718888 1 16} {8627182841914754691 1 17}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {4894997626372363717 1 10} {8585319651313782537 1 11} {6578592615755206433 1 12} {559067397041135079 1 13} {2991703547899072267 1 14} {7782675108632983753 1 15} {4348408732418718888 1 16} {8627182841914754691 1 17}]
------------------------------------------------------
flag 92786 term 3 leader 0 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 14021 term 3 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {4894997626372363717 1 10} {8585319651313782537 1 11} {6578592615755206433 1 12} {559067397041135079 1 13} {2991703547899072267 1 14} {7782675108632983753 1 15} {4348408732418718888 1 16} {8627182841914754691 1 17}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {4894997626372363717 1 10} {8585319651313782537 1 11} {6578592615755206433 1 12} {559067397041135079 1 13} {2991703547899072267 1 14} {7782675108632983753 1 15} {4348408732418718888 1 16} {8627182841914754691 1 17}]
------------------------------------------------------
flag 10048 term 3 leader 0 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 80516 term 3 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {4894997626372363717 1 10} {8585319651313782537 1 11} {6578592615755206433 1 12} {559067397041135079 1 13} {2991703547899072267 1 14} {7782675108632983753 1 15} {4348408732418718888 1 16} {8627182841914754691 1 17}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {4894997626372363717 1 10} {8585319651313782537 1 11} {6578592615755206433 1 12} {559067397041135079 1 13} {2991703547899072267 1 14} {7782675108632983753 1 15} {4348408732418718888 1 16} {8627182841914754691 1 17}]
------------------------------------------------------
flag 91545 term 3 leader 0 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 15351 term 3 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {4894997626372363717 1 10} {8585319651313782537 1 11} {6578592615755206433 1 12} {559067397041135079 1 13} {2991703547899072267 1 14} {7782675108632983753 1 15} {4348408732418718888 1 16} {8627182841914754691 1 17}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {4894997626372363717 1 10} {8585319651313782537 1 11} {6578592615755206433 1 12} {559067397041135079 1 13} {2991703547899072267 1 14} {7782675108632983753 1 15} {4348408732418718888 1 16} {8627182841914754691 1 17}]
------------------------------------------------------
flag 30893 term 3 leader 0 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 26029 term 3 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {4894997626372363717 1 10} {8585319651313782537 1 11} {6578592615755206433 1 12} {559067397041135079 1 13} {2991703547899072267 1 14} {7782675108632983753 1 15} {4348408732418718888 1 16} {8627182841914754691 1 17}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {4894997626372363717 1 10} {8585319651313782537 1 11} {6578592615755206433 1 12} {559067397041135079 1 13} {2991703547899072267 1 14} {7782675108632983753 1 15} {4348408732418718888 1 16} {8627182841914754691 1 17}]
------------------------------------------------------
flag 10856 term 3 leader 0 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 20702 term 3 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {4894997626372363717 1 10} {8585319651313782537 1 11} {6578592615755206433 1 12} {559067397041135079 1 13} {2991703547899072267 1 14} {7782675108632983753 1 15} {4348408732418718888 1 16} {8627182841914754691 1 17}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {4894997626372363717 1 10} {8585319651313782537 1 11} {6578592615755206433 1 12} {559067397041135079 1 13} {2991703547899072267 1 14} {7782675108632983753 1 15} {4348408732418718888 1 16} {8627182841914754691 1 17}]
------------------------------------------------------
flag 84046 term 3 leader 0 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 60708 term 3 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {4894997626372363717 1 10} {8585319651313782537 1 11} {6578592615755206433 1 12} {559067397041135079 1 13} {2991703547899072267 1 14} {7782675108632983753 1 15} {4348408732418718888 1 16} {8627182841914754691 1 17}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {4894997626372363717 1 10} {8585319651313782537 1 11} {6578592615755206433 1 12} {559067397041135079 1 13} {2991703547899072267 1 14} {7782675108632983753 1 15} {4348408732418718888 1 16} {8627182841914754691 1 17}]
------------------------------------------------------
flag 23215 term 3 leader 0 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 45826 term 3 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {4894997626372363717 1 10} {8585319651313782537 1 11} {6578592615755206433 1 12} {559067397041135079 1 13} {2991703547899072267 1 14} {7782675108632983753 1 15} {4348408732418718888 1 16} {8627182841914754691 1 17}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {4894997626372363717 1 10} {8585319651313782537 1 11} {6578592615755206433 1 12} {559067397041135079 1 13} {2991703547899072267 1 14} {7782675108632983753 1 15} {4348408732418718888 1 16} {8627182841914754691 1 17}]
------------------------------------------------------
flag 90639 term 3 leader 0 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 22289 term 3 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {4894997626372363717 1 10} {8585319651313782537 1 11} {6578592615755206433 1 12} {559067397041135079 1 13} {2991703547899072267 1 14} {7782675108632983753 1 15} {4348408732418718888 1 16} {8627182841914754691 1 17}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {4894997626372363717 1 10} {8585319651313782537 1 11} {6578592615755206433 1 12} {559067397041135079 1 13} {2991703547899072267 1 14} {7782675108632983753 1 15} {4348408732418718888 1 16} {8627182841914754691 1 17}]
------------------------------------------------------
flag 47483 term 3 leader 0 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 95692 term 3 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {4894997626372363717 1 10} {8585319651313782537 1 11} {6578592615755206433 1 12} {559067397041135079 1 13} {2991703547899072267 1 14} {7782675108632983753 1 15} {4348408732418718888 1 16} {8627182841914754691 1 17}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {4894997626372363717 1 10} {8585319651313782537 1 11} {6578592615755206433 1 12} {559067397041135079 1 13} {2991703547899072267 1 14} {7782675108632983753 1 15} {4348408732418718888 1 16} {8627182841914754691 1 17}]
------------------------------------------------------
flag 95212 term 3 leader 0 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 12205 term 3 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {4894997626372363717 1 10} {8585319651313782537 1 11} {6578592615755206433 1 12} {559067397041135079 1 13} {2991703547899072267 1 14} {7782675108632983753 1 15} {4348408732418718888 1 16} {8627182841914754691 1 17}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {4894997626372363717 1 10} {8585319651313782537 1 11} {6578592615755206433 1 12} {559067397041135079 1 13} {2991703547899072267 1 14} {7782675108632983753 1 15} {4348408732418718888 1 16} {8627182841914754691 1 17}]
------------------------------------------------------
flag 46282 term 3 leader 0 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 46285 term 3 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {4894997626372363717 1 10} {8585319651313782537 1 11} {6578592615755206433 1 12} {559067397041135079 1 13} {2991703547899072267 1 14} {7782675108632983753 1 15} {4348408732418718888 1 16} {8627182841914754691 1 17}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {4894997626372363717 1 10} {8585319651313782537 1 11} {6578592615755206433 1 12} {559067397041135079 1 13} {2991703547899072267 1 14} {7782675108632983753 1 15} {4348408732418718888 1 16} {8627182841914754691 1 17}]
------------------------------------------------------
flag 70126 term 3 leader 0 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 21613 term 3 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {4894997626372363717 1 10} {8585319651313782537 1 11} {6578592615755206433 1 12} {559067397041135079 1 13} {2991703547899072267 1 14} {7782675108632983753 1 15} {4348408732418718888 1 16} {8627182841914754691 1 17}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {4894997626372363717 1 10} {8585319651313782537 1 11} {6578592615755206433 1 12} {559067397041135079 1 13} {2991703547899072267 1 14} {7782675108632983753 1 15} {4348408732418718888 1 16} {8627182841914754691 1 17}]
------------------------------------------------------
flag 6254 term 3 leader 0 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 93876 term 3 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {4894997626372363717 1 10} {8585319651313782537 1 11} {6578592615755206433 1 12} {559067397041135079 1 13} {2991703547899072267 1 14} {7782675108632983753 1 15} {4348408732418718888 1 16} {8627182841914754691 1 17}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {4894997626372363717 1 10} {8585319651313782537 1 11} {6578592615755206433 1 12} {559067397041135079 1 13} {2991703547899072267 1 14} {7782675108632983753 1 15} {4348408732418718888 1 16} {8627182841914754691 1 17}]
------------------------------------------------------
flag 40976 term 3 leader 0 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 95797 term 3 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {4894997626372363717 1 10} {8585319651313782537 1 11} {6578592615755206433 1 12} {559067397041135079 1 13} {2991703547899072267 1 14} {7782675108632983753 1 15} {4348408732418718888 1 16} {8627182841914754691 1 17}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {4894997626372363717 1 10} {8585319651313782537 1 11} {6578592615755206433 1 12} {559067397041135079 1 13} {2991703547899072267 1 14} {7782675108632983753 1 15} {4348408732418718888 1 16} {8627182841914754691 1 17}]
------------------------------------------------------
flag 86766 term 3 leader 0 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 17475 term 3 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {4894997626372363717 1 10} {8585319651313782537 1 11} {6578592615755206433 1 12} {559067397041135079 1 13} {2991703547899072267 1 14} {7782675108632983753 1 15} {4348408732418718888 1 16} {8627182841914754691 1 17}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {4894997626372363717 1 10} {8585319651313782537 1 11} {6578592615755206433 1 12} {559067397041135079 1 13} {2991703547899072267 1 14} {7782675108632983753 1 15} {4348408732418718888 1 16} {8627182841914754691 1 17}]
------------------------------------------------------
flag 54360 term 3 leader 0 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 1867 term 3 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {4894997626372363717 1 10} {8585319651313782537 1 11} {6578592615755206433 1 12} {559067397041135079 1 13} {2991703547899072267 1 14} {7782675108632983753 1 15} {4348408732418718888 1 16} {8627182841914754691 1 17}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {4894997626372363717 1 10} {8585319651313782537 1 11} {6578592615755206433 1 12} {559067397041135079 1 13} {2991703547899072267 1 14} {7782675108632983753 1 15} {4348408732418718888 1 16} {8627182841914754691 1 17}]
------------------------------------------------------
client write log 8627182841914754691 (index 18) to leader 0
flag 65847 term 3 leader 0 nextIndex[1]: 18  matchIndex[1]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 94283 term 3 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {4894997626372363717 1 10} {8585319651313782537 1 11} {6578592615755206433 1 12} {559067397041135079 1 13} {2991703547899072267 1 14} {7782675108632983753 1 15} {4348408732418718888 1 16} {8627182841914754691 1 17} {8627182841914754691 3 18}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {4894997626372363717 1 10} {8585319651313782537 1 11} {6578592615755206433 1 12} {559067397041135079 1 13} {2991703547899072267 1 14} {7782675108632983753 1 15} {4348408732418718888 1 16} {8627182841914754691 1 17} {8627182841914754691 3 18}]
------------------------------------------------------
flag 88363 term 3 leader 0 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
flag 29636 term 3 leader 0 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {4894997626372363717 1 10} {8585319651313782537 1 11} {6578592615755206433 1 12} {559067397041135079 1 13} {2991703547899072267 1 14} {7782675108632983753 1 15} {4348408732418718888 1 16} {8627182841914754691 1 17} {8627182841914754691 3 18}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {4894997626372363717 1 10} {8585319651313782537 1 11} {6578592615755206433 1 12} {559067397041135079 1 13} {2991703547899072267 1 14} {7782675108632983753 1 15} {4348408732418718888 1 16} {8627182841914754691 1 17} {8627182841914754691 3 18}]
------------------------------------------------------
flag 14249 term 3 leader 0 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
flag 39852 term 3 leader 0 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {4894997626372363717 1 10} {8585319651313782537 1 11} {6578592615755206433 1 12} {559067397041135079 1 13} {2991703547899072267 1 14} {7782675108632983753 1 15} {4348408732418718888 1 16} {8627182841914754691 1 17} {8627182841914754691 3 18}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {4894997626372363717 1 10} {8585319651313782537 1 11} {6578592615755206433 1 12} {559067397041135079 1 13} {2991703547899072267 1 14} {7782675108632983753 1 15} {4348408732418718888 1 16} {8627182841914754691 1 17} {8627182841914754691 3 18}]
------------------------------------------------------
flag 94090 term 3 leader 0 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
flag 65185 term 3 leader 0 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {4894997626372363717 1 10} {8585319651313782537 1 11} {6578592615755206433 1 12} {559067397041135079 1 13} {2991703547899072267 1 14} {7782675108632983753 1 15} {4348408732418718888 1 16} {8627182841914754691 1 17} {8627182841914754691 3 18}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {4894997626372363717 1 10} {8585319651313782537 1 11} {6578592615755206433 1 12} {559067397041135079 1 13} {2991703547899072267 1 14} {7782675108632983753 1 15} {4348408732418718888 1 16} {8627182841914754691 1 17} {8627182841914754691 3 18}]
------------------------------------------------------
flag 60447 term 3 leader 0 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
flag 23603 term 3 leader 0 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:18 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {4894997626372363717 1 10} {8585319651313782537 1 11} {6578592615755206433 1 12} {559067397041135079 1 13} {2991703547899072267 1 14} {7782675108632983753 1 15} {4348408732418718888 1 16} {8627182841914754691 1 17} {8627182841914754691 3 18}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {4894997626372363717 1 10} {8585319651313782537 1 11} {6578592615755206433 1 12} {559067397041135079 1 13} {2991703547899072267 1 14} {7782675108632983753 1 15} {4348408732418718888 1 16} {8627182841914754691 1 17} {8627182841914754691 3 18}]
------------------------------------------------------
flag 37492 term 3 leader 0 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
flag 38204 term 3 leader 0 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {4894997626372363717 1 10} {8585319651313782537 1 11} {6578592615755206433 1 12} {559067397041135079 1 13} {2991703547899072267 1 14} {7782675108632983753 1 15} {4348408732418718888 1 16} {8627182841914754691 1 17} {8627182841914754691 3 18}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {4894997626372363717 1 10} {8585319651313782537 1 11} {6578592615755206433 1 12} {559067397041135079 1 13} {2991703547899072267 1 14} {7782675108632983753 1 15} {4348408732418718888 1 16} {8627182841914754691 1 17} {8627182841914754691 3 18}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 83661 term 3 leader 0 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
flag 13729 term 3 leader 0 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3165 term 3 leader 0 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
flag 87525 term 3 leader 0 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
flag 27574 term 3 leader 0 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
flag 69338 term 3 leader 0 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 19->18
------------------------------------------------------
term 4 server 1 vote for server 2
term 4 server 2 get vote from server 1
term 4 server 2 become leader
------------------------------------------------------
client write log 5839600723762266566 (index 19) to leader 2
flag 15472 term 4 leader 2 nextIndex[0]: 19  matchIndex[0]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
flag 56625 term 4 leader 2 nextIndex[1]: 19  matchIndex[1]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 1 9} {4894997626372363717 1 10} {8585319651313782537 1 11} {6578592615755206433 1 12} {559067397041135079 1 13} {2991703547899072267 1 14} {7782675108632983753 1 15} {4348408732418718888 1 16} {8627182841914754691 1 17} {8627182841914754691 3 18} {5839600723762266566 4 19}]
------------------------------------------------------
term 4 Server2 start snapshot! index=19
term 4 server2 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
flag 81093 term 3 leader 0 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
term 3 leader 0 nextIndex[2]: 0  matchIndex[2]: 18
term 3 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 4 leader 2 nextIndex[0]: 19  matchIndex[0]: 0
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
flag 91296 term 4 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
term 4 Server1 start snapshot! index=19
term 4 server1 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
flag 52796 term 3 leader 0 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
term 3 leader 0 nextIndex[2]: 0  matchIndex[2]: 18
term 3 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
client write log 638604437474962133 (index 20) to leader 2
term 4 leader 2 nextIndex[0]: 19  matchIndex[0]: 0
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
flag 37732 term 4 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=21
update matchIndex[1]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {638604437474962133 4 20}]
------------------------------------------------------
flag 8567 term 3 leader 0 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
term 3 leader 0 nextIndex[2]: 0  matchIndex[2]: 18
term 3 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 4 leader 2 nextIndex[0]: 19  matchIndex[0]: 0
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
flag 44361 term 4 leader 2 nextIndex[1]: 21  matchIndex[1]: 20
term 4 leader 2 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=21
update matchIndex[1]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {638604437474962133 4 20}]
------------------------------------------------------
flag 14046 term 3 leader 0 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
term 3 leader 0 nextIndex[2]: 0  matchIndex[2]: 18
term 3 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
!!!!!!connect server 0
client write log 9165368917834879728 (index 21) to leader 2
term 4 leader 2 nextIndex[0]: 19  matchIndex[0]: 0
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
flag 7510 term 4 leader 2 nextIndex[1]: 21  matchIndex[1]: 20
term 4 leader 2 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {638604437474962133 4 20} {9165368917834879728 4 21}]
------------------------------------------------------
term 4 server 0 InstallSnapshot success
------------------------------------------------------
term 4 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 20 matchIndex[0] 19 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 19 rf.lastIncludedTerm 4 rf.commitIndex 19 rf.lastApplied 19
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76029 term 4 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 80510 term 4 leader 2 nextIndex[1]: 22  matchIndex[1]: 21
term 4 leader 2 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {638604437474962133 4 20} {9165368917834879728 4 21}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=22
update matchIndex[0]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {638604437474962133 4 20} {9165368917834879728 4 21}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43946 term 4 leader 2 nextIndex[0]: 22  matchIndex[0]: 21
term 4 leader 2 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 18091 term 4 leader 2 nextIndex[1]: 22  matchIndex[1]: 21
term 4 leader 2 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=22
update matchIndex[0]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {638604437474962133 4 20} {9165368917834879728 4 21}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {638604437474962133 4 20} {9165368917834879728 4 21}]
------------------------------------------------------
flag 4222 term 4 leader 2 nextIndex[0]: 22  matchIndex[0]: 21
term 4 leader 2 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 55891 term 4 leader 2 nextIndex[1]: 22  matchIndex[1]: 21
term 4 leader 2 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:21 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {638604437474962133 4 20} {9165368917834879728 4 21}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=22
update matchIndex[0]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {638604437474962133 4 20} {9165368917834879728 4 21}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41021 term 4 leader 2 nextIndex[0]: 22  matchIndex[0]: 21
term 4 leader 2 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 8427 term 4 leader 2 nextIndex[1]: 22  matchIndex[1]: 21
term 4 leader 2 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:21 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {638604437474962133 4 20} {9165368917834879728 4 21}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=22
update matchIndex[0]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {638604437474962133 4 20} {9165368917834879728 4 21}]
------------------------------------------------------
flag 43329 term 4 leader 2 nextIndex[0]: 22  matchIndex[0]: 21
term 4 leader 2 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 11584 term 4 leader 2 nextIndex[1]: 22  matchIndex[1]: 21
term 4 leader 2 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=22
update matchIndex[0]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {638604437474962133 4 20} {9165368917834879728 4 21}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {638604437474962133 4 20} {9165368917834879728 4 21}]
------------------------------------------------------
flag 95017 term 4 leader 2 nextIndex[0]: 22  matchIndex[0]: 21
term 4 leader 2 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 75697 term 4 leader 2 nextIndex[1]: 22  matchIndex[1]: 21
term 4 leader 2 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {638604437474962133 4 20} {9165368917834879728 4 21}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=22
update matchIndex[0]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {638604437474962133 4 20} {9165368917834879728 4 21}]
------------------------------------------------------
flag 64637 term 4 leader 2 nextIndex[0]: 22  matchIndex[0]: 21
term 4 leader 2 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 39180 term 4 leader 2 nextIndex[1]: 22  matchIndex[1]: 21
term 4 leader 2 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {638604437474962133 4 20} {9165368917834879728 4 21}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=22
update matchIndex[0]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {638604437474962133 4 20} {9165368917834879728 4 21}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 7720125784404775183 (index 22) to leader 2
flag 57306 term 4 leader 2 nextIndex[0]: 22  matchIndex[0]: 21
term 4 leader 2 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 3444 term 4 leader 2 nextIndex[1]: 22  matchIndex[1]: 21
term 4 leader 2 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=23
update matchIndex[1]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {638604437474962133 4 20} {9165368917834879728 4 21} {7720125784404775183 4 22}]
------------------------------------------------------
flag 46783 term 4 leader 2 nextIndex[0]: 22  matchIndex[0]: 21
term 4 leader 2 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 29730 term 4 leader 2 nextIndex[1]: 23  matchIndex[1]: 22
term 4 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=23
update matchIndex[1]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {638604437474962133 4 20} {9165368917834879728 4 21} {7720125784404775183 4 22}]
------------------------------------------------------
client write log 2453022633669270706 (index 23) to leader 2
client write log 2514090542957522823 (index 24) to leader 2
client write log 1893955945145901189 (index 25) to leader 2
client write log 5122536595147398411 (index 26) to leader 2
client write log 2099356803642123117 (index 27) to leader 2
client write log 5005171886208469570 (index 28) to leader 2
client write log 9093765806424507170 (index 29) to leader 2
client write log 2552539177010848861 (index 30) to leader 2
client write log 6951319856814782854 (index 31) to leader 2
client write log 7347284705002528224 (index 32) to leader 2
client write log 1431660299151517815 (index 33) to leader 2
flag 22009 term 4 leader 2 nextIndex[0]: 22  matchIndex[0]: 21
term 4 leader 2 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 55838 term 4 leader 2 nextIndex[1]: 23  matchIndex[1]: 22
term 4 leader 2 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 19} {638604437474962133 4 20} {9165368917834879728 4 21} {7720125784404775183 4 22} {2453022633669270706 4 23} {2514090542957522823 4 24} {1893955945145901189 4 25} {5122536595147398411 4 26} {2099356803642123117 4 27} {5005171886208469570 4 28} {9093765806424507170 4 29} {2552539177010848861 4 30} {6951319856814782854 4 31} {7347284705002528224 4 32} {1431660299151517815 4 33}]
------------------------------------------------------
term 4 Server2 start snapshot! index=29
term 4 server2 snapshot success
lastIncludedIndex=29 lastApplied=30 lastIndex=33
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 5 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 4 leader 2 nextIndex[0]: 22  matchIndex[0]: 21
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
flag 58446 term 4 leader 2 nextIndex[1]: 34  matchIndex[1]: 33
term 4 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {2552539177010848861 4 30} {6951319856814782854 4 31} {7347284705002528224 4 32} {1431660299151517815 4 33}]
------------------------------------------------------
term 4 Server1 start snapshot! index=29
term 4 server1 snapshot success
lastIncludedIndex=29 lastApplied=30 lastIndex=33
-------------------------------------------------------------
!!!!!!connect server 0
client write log 5967620387476465981 (index 34) to leader 2
term 4 leader 2 nextIndex[0]: 22  matchIndex[0]: 21
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
flag 97858 term 4 leader 2 nextIndex[1]: 34  matchIndex[1]: 33
term 4 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
term 5 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {2552539177010848861 4 30} {6951319856814782854 4 31} {7347284705002528224 4 32} {1431660299151517815 4 33} {5967620387476465981 4 34}]
------------------------------------------------------
term 4 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 6 server 1 vote for server 2
term 6 server 0 vote for server 2
term 6 server 2 get vote from server 1
term 6 server 2 become leader
------------------------------------------------------
term 6 server 2 get outdate rpc reply from server 0
flag 87225 term 6 leader 2 nextIndex[0]: 35  matchIndex[0]: 0
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 25255 term 6 leader 2 nextIndex[1]: 35  matchIndex[1]: 0
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {2552539177010848861 4 30} {6951319856814782854 4 31} {7347284705002528224 4 32} {1431660299151517815 4 33} {5967620387476465981 4 34}]
------------------------------------------------------
term 6 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 35->34
------------------------------------------------------
term 6 leader 2 nextIndex[0]: 22  matchIndex[0]: 0
term 6 leader 2 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
flag 14535 term 6 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {2552539177010848861 4 30} {6951319856814782854 4 31} {7347284705002528224 4 32} {1431660299151517815 4 33} {5967620387476465981 4 34}]
------------------------------------------------------
term 6 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
term 6 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 30 matchIndex[0] 29 
------------------------------------------------------------------------
rf.lastIncludedIndex 29 rf.lastIncludedTerm 4 rf.commitIndex 29 rf.lastApplied 29
term 6 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 6 server 0 not vote for server 2, 任期不够新
term 6 server 2 get outdate rpc reply from server 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6864 term 6 leader 2 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 2 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 82983 term 6 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {2552539177010848861 4 30} {6951319856814782854 4 31} {7347284705002528224 4 32} {1431660299151517815 4 33} {5967620387476465981 4 34}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {2552539177010848861 4 30} {6951319856814782854 4 31} {7347284705002528224 4 32} {1431660299151517815 4 33} {5967620387476465981 4 34}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75025 term 6 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 17138 term 6 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {2552539177010848861 4 30} {6951319856814782854 4 31} {7347284705002528224 4 32} {1431660299151517815 4 33} {5967620387476465981 4 34}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {2552539177010848861 4 30} {6951319856814782854 4 31} {7347284705002528224 4 32} {1431660299151517815 4 33} {5967620387476465981 4 34}]
------------------------------------------------------
flag 33841 term 6 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 29773 term 6 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {2552539177010848861 4 30} {6951319856814782854 4 31} {7347284705002528224 4 32} {1431660299151517815 4 33} {5967620387476465981 4 34}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {2552539177010848861 4 30} {6951319856814782854 4 31} {7347284705002528224 4 32} {1431660299151517815 4 33} {5967620387476465981 4 34}]
------------------------------------------------------
flag 1521 term 6 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 48103 term 6 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {2552539177010848861 4 30} {6951319856814782854 4 31} {7347284705002528224 4 32} {1431660299151517815 4 33} {5967620387476465981 4 34}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {2552539177010848861 4 30} {6951319856814782854 4 31} {7347284705002528224 4 32} {1431660299151517815 4 33} {5967620387476465981 4 34}]
------------------------------------------------------
flag 26249 term 6 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 95066 term 6 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {2552539177010848861 4 30} {6951319856814782854 4 31} {7347284705002528224 4 32} {1431660299151517815 4 33} {5967620387476465981 4 34}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {2552539177010848861 4 30} {6951319856814782854 4 31} {7347284705002528224 4 32} {1431660299151517815 4 33} {5967620387476465981 4 34}]
------------------------------------------------------
term 6 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 7639 term 6 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 95726 term 6 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
term 6 server 0 AppendEntries true commitIndex:34 
------------------------------------------------------
[{snapshot 4 29} {2552539177010848861 4 30} {6951319856814782854 4 31} {7347284705002528224 4 32} {1431660299151517815 4 33} {5967620387476465981 4 34}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {2552539177010848861 4 30} {6951319856814782854 4 31} {7347284705002528224 4 32} {1431660299151517815 4 33} {5967620387476465981 4 34}]
------------------------------------------------------
term 6 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79898 term 6 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 99117 term 6 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {2552539177010848861 4 30} {6951319856814782854 4 31} {7347284705002528224 4 32} {1431660299151517815 4 33} {5967620387476465981 4 34}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {2552539177010848861 4 30} {6951319856814782854 4 31} {7347284705002528224 4 32} {1431660299151517815 4 33} {5967620387476465981 4 34}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 4049224986223392148 (index 35) to leader 2
flag 26828 term 6 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 8366 term 6 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {2552539177010848861 4 30} {6951319856814782854 4 31} {7347284705002528224 4 32} {1431660299151517815 4 33} {5967620387476465981 4 34} {4049224986223392148 6 35}]
------------------------------------------------------
flag 4185 term 6 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
flag 39535 term 6 leader 2 nextIndex[1]: 36  matchIndex[1]: 35
term 6 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {2552539177010848861 4 30} {6951319856814782854 4 31} {7347284705002528224 4 32} {1431660299151517815 4 33} {5967620387476465981 4 34} {4049224986223392148 6 35}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 5138950664816307017 (index 36) to leader 2
client write log 5034535472436747611 (index 37) to leader 2
client write log 6037603513533091395 (index 38) to leader 2
client write log 4532941020969990927 (index 39) to leader 2
client write log 6206354154640363737 (index 40) to leader 2
client write log 1068026635882136451 (index 41) to leader 2
client write log 8465420356340953867 (index 42) to leader 2
client write log 8079369373272460375 (index 43) to leader 2
client write log 9159969639407430593 (index 44) to leader 2
client write log 3529902303497958284 (index 45) to leader 2
client write log 3341892727501414641 (index 46) to leader 2
client write log 1927278428442810366 (index 47) to leader 2
client write log 5827198455067426928 (index 48) to leader 2
term 6 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 87773 term 6 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
flag 14015 term 6 leader 2 nextIndex[1]: 36  matchIndex[1]: 35
term 6 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=48
leader log:
[{snapshot 4 29} {2552539177010848861 4 30} {6951319856814782854 4 31} {7347284705002528224 4 32} {1431660299151517815 4 33} {5967620387476465981 4 34} {4049224986223392148 6 35} {5138950664816307017 6 36} {5034535472436747611 6 37} {6037603513533091395 6 38} {4532941020969990927 6 39} {6206354154640363737 6 40} {1068026635882136451 6 41} {8465420356340953867 6 42} {8079369373272460375 6 43} {9159969639407430593 6 44} {3529902303497958284 6 45} {3341892727501414641 6 46} {1927278428442810366 6 47} {5827198455067426928 6 48}]
------------------------------------------------------
term 6 Server2 start snapshot! index=39
term 6 server2 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=48
-------------------------------------------------------------
term 6 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 6 leader 2 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 12648 term 6 leader 2 nextIndex[1]: 49  matchIndex[1]: 48
term 6 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6206354154640363737 6 40} {1068026635882136451 6 41} {8465420356340953867 6 42} {8079369373272460375 6 43} {9159969639407430593 6 44} {3529902303497958284 6 45} {3341892727501414641 6 46} {1927278428442810366 6 47} {5827198455067426928 6 48}]
------------------------------------------------------
term 6 Server1 start snapshot! index=39
term 6 server1 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=48
-------------------------------------------------------------
!!!!!!connect server 0
client write log 1639378908321899034 (index 49) to leader 2
term 6 server 2 not vote for server 0, 日志不够新
term 6 server 1 not vote for server 0, 日志不够新
term 8 server 1 vote for server 2
term 8 server 0 vote for server 2
term 8 server 2 get vote from server 1
term 8 server 2 become leader
------------------------------------------------------
term 8 server 2 get outdate rpc reply from server 0
flag 12727 term 8 leader 2 nextIndex[0]: 50  matchIndex[0]: 0
term 8 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 38930 term 8 leader 2 nextIndex[1]: 50  matchIndex[1]: 0
term 8 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 50->49
------------------------------------------------------
term 8 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 50->49
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 8 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 8 leader 2 nextIndex[0]: 35  matchIndex[0]: 0
term 8 leader 2 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 82183 term 8 leader 2 nextIndex[1]: 49  matchIndex[1]: 0
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6206354154640363737 6 40} {1068026635882136451 6 41} {8465420356340953867 6 42} {8079369373272460375 6 43} {9159969639407430593 6 44} {3529902303497958284 6 45} {3341892727501414641 6 46} {1927278428442810366 6 47} {5827198455067426928 6 48} {1639378908321899034 6 49}]
------------------------------------------------------
term 8 server 0 InstallSnapshot success
------------------------------------------------------
term 8 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 40 matchIndex[0] 39 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 39 rf.lastIncludedTerm 6 rf.commitIndex 39 rf.lastApplied 39
flag 88912 term 8 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 31198 term 8 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6206354154640363737 6 40} {1068026635882136451 6 41} {8465420356340953867 6 42} {8079369373272460375 6 43} {9159969639407430593 6 44} {3529902303497958284 6 45} {3341892727501414641 6 46} {1927278428442810366 6 47} {5827198455067426928 6 48} {1639378908321899034 6 49}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6206354154640363737 6 40} {1068026635882136451 6 41} {8465420356340953867 6 42} {8079369373272460375 6 43} {9159969639407430593 6 44} {3529902303497958284 6 45} {3341892727501414641 6 46} {1927278428442810366 6 47} {5827198455067426928 6 48} {1639378908321899034 6 49}]
------------------------------------------------------
flag 45302 term 8 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 8 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 6041 term 8 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6206354154640363737 6 40} {1068026635882136451 6 41} {8465420356340953867 6 42} {8079369373272460375 6 43} {9159969639407430593 6 44} {3529902303497958284 6 45} {3341892727501414641 6 46} {1927278428442810366 6 47} {5827198455067426928 6 48} {1639378908321899034 6 49}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6206354154640363737 6 40} {1068026635882136451 6 41} {8465420356340953867 6 42} {8079369373272460375 6 43} {9159969639407430593 6 44} {3529902303497958284 6 45} {3341892727501414641 6 46} {1927278428442810366 6 47} {5827198455067426928 6 48} {1639378908321899034 6 49}]
------------------------------------------------------
term 8 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 92208 term 8 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 8 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 40499 term 8 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6206354154640363737 6 40} {1068026635882136451 6 41} {8465420356340953867 6 42} {8079369373272460375 6 43} {9159969639407430593 6 44} {3529902303497958284 6 45} {3341892727501414641 6 46} {1927278428442810366 6 47} {5827198455067426928 6 48} {1639378908321899034 6 49}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6206354154640363737 6 40} {1068026635882136451 6 41} {8465420356340953867 6 42} {8079369373272460375 6 43} {9159969639407430593 6 44} {3529902303497958284 6 45} {3341892727501414641 6 46} {1927278428442810366 6 47} {5827198455067426928 6 48} {1639378908321899034 6 49}]
------------------------------------------------------
flag 93357 term 8 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 8 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 34334 term 8 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6206354154640363737 6 40} {1068026635882136451 6 41} {8465420356340953867 6 42} {8079369373272460375 6 43} {9159969639407430593 6 44} {3529902303497958284 6 45} {3341892727501414641 6 46} {1927278428442810366 6 47} {5827198455067426928 6 48} {1639378908321899034 6 49}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6206354154640363737 6 40} {1068026635882136451 6 41} {8465420356340953867 6 42} {8079369373272460375 6 43} {9159969639407430593 6 44} {3529902303497958284 6 45} {3341892727501414641 6 46} {1927278428442810366 6 47} {5827198455067426928 6 48} {1639378908321899034 6 49}]
------------------------------------------------------
flag 47279 term 8 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 8 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 36496 term 8 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6206354154640363737 6 40} {1068026635882136451 6 41} {8465420356340953867 6 42} {8079369373272460375 6 43} {9159969639407430593 6 44} {3529902303497958284 6 45} {3341892727501414641 6 46} {1927278428442810366 6 47} {5827198455067426928 6 48} {1639378908321899034 6 49}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6206354154640363737 6 40} {1068026635882136451 6 41} {8465420356340953867 6 42} {8079369373272460375 6 43} {9159969639407430593 6 44} {3529902303497958284 6 45} {3341892727501414641 6 46} {1927278428442810366 6 47} {5827198455067426928 6 48} {1639378908321899034 6 49}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26776 term 8 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 8 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 89414 term 8 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6206354154640363737 6 40} {1068026635882136451 6 41} {8465420356340953867 6 42} {8079369373272460375 6 43} {9159969639407430593 6 44} {3529902303497958284 6 45} {3341892727501414641 6 46} {1927278428442810366 6 47} {5827198455067426928 6 48} {1639378908321899034 6 49}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6206354154640363737 6 40} {1068026635882136451 6 41} {8465420356340953867 6 42} {8079369373272460375 6 43} {9159969639407430593 6 44} {3529902303497958284 6 45} {3341892727501414641 6 46} {1927278428442810366 6 47} {5827198455067426928 6 48} {1639378908321899034 6 49}]
------------------------------------------------------
flag 36209 term 8 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 8 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 44193 term 8 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6206354154640363737 6 40} {1068026635882136451 6 41} {8465420356340953867 6 42} {8079369373272460375 6 43} {9159969639407430593 6 44} {3529902303497958284 6 45} {3341892727501414641 6 46} {1927278428442810366 6 47} {5827198455067426928 6 48} {1639378908321899034 6 49}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6206354154640363737 6 40} {1068026635882136451 6 41} {8465420356340953867 6 42} {8079369373272460375 6 43} {9159969639407430593 6 44} {3529902303497958284 6 45} {3341892727501414641 6 46} {1927278428442810366 6 47} {5827198455067426928 6 48} {1639378908321899034 6 49}]
------------------------------------------------------
flag 25567 term 8 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 8 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 73977 term 8 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6206354154640363737 6 40} {1068026635882136451 6 41} {8465420356340953867 6 42} {8079369373272460375 6 43} {9159969639407430593 6 44} {3529902303497958284 6 45} {3341892727501414641 6 46} {1927278428442810366 6 47} {5827198455067426928 6 48} {1639378908321899034 6 49}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6206354154640363737 6 40} {1068026635882136451 6 41} {8465420356340953867 6 42} {8079369373272460375 6 43} {9159969639407430593 6 44} {3529902303497958284 6 45} {3341892727501414641 6 46} {1927278428442810366 6 47} {5827198455067426928 6 48} {1639378908321899034 6 49}]
------------------------------------------------------
flag 27909 term 8 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 8 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 56731 term 8 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6206354154640363737 6 40} {1068026635882136451 6 41} {8465420356340953867 6 42} {8079369373272460375 6 43} {9159969639407430593 6 44} {3529902303497958284 6 45} {3341892727501414641 6 46} {1927278428442810366 6 47} {5827198455067426928 6 48} {1639378908321899034 6 49}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6206354154640363737 6 40} {1068026635882136451 6 41} {8465420356340953867 6 42} {8079369373272460375 6 43} {9159969639407430593 6 44} {3529902303497958284 6 45} {3341892727501414641 6 46} {1927278428442810366 6 47} {5827198455067426928 6 48} {1639378908321899034 6 49}]
------------------------------------------------------
flag 59995 term 8 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 8 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 73736 term 8 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6206354154640363737 6 40} {1068026635882136451 6 41} {8465420356340953867 6 42} {8079369373272460375 6 43} {9159969639407430593 6 44} {3529902303497958284 6 45} {3341892727501414641 6 46} {1927278428442810366 6 47} {5827198455067426928 6 48} {1639378908321899034 6 49}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6206354154640363737 6 40} {1068026635882136451 6 41} {8465420356340953867 6 42} {8079369373272460375 6 43} {9159969639407430593 6 44} {3529902303497958284 6 45} {3341892727501414641 6 46} {1927278428442810366 6 47} {5827198455067426928 6 48} {1639378908321899034 6 49}]
------------------------------------------------------
term 8 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 950 term 8 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 8 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 92101 term 8 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6206354154640363737 6 40} {1068026635882136451 6 41} {8465420356340953867 6 42} {8079369373272460375 6 43} {9159969639407430593 6 44} {3529902303497958284 6 45} {3341892727501414641 6 46} {1927278428442810366 6 47} {5827198455067426928 6 48} {1639378908321899034 6 49}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6206354154640363737 6 40} {1068026635882136451 6 41} {8465420356340953867 6 42} {8079369373272460375 6 43} {9159969639407430593 6 44} {3529902303497958284 6 45} {3341892727501414641 6 46} {1927278428442810366 6 47} {5827198455067426928 6 48} {1639378908321899034 6 49}]
------------------------------------------------------
flag 83180 term 8 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 8 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 1211 term 8 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6206354154640363737 6 40} {1068026635882136451 6 41} {8465420356340953867 6 42} {8079369373272460375 6 43} {9159969639407430593 6 44} {3529902303497958284 6 45} {3341892727501414641 6 46} {1927278428442810366 6 47} {5827198455067426928 6 48} {1639378908321899034 6 49}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6206354154640363737 6 40} {1068026635882136451 6 41} {8465420356340953867 6 42} {8079369373272460375 6 43} {9159969639407430593 6 44} {3529902303497958284 6 45} {3341892727501414641 6 46} {1927278428442810366 6 47} {5827198455067426928 6 48} {1639378908321899034 6 49}]
------------------------------------------------------
flag 27264 term 8 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 8 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 71489 term 8 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6206354154640363737 6 40} {1068026635882136451 6 41} {8465420356340953867 6 42} {8079369373272460375 6 43} {9159969639407430593 6 44} {3529902303497958284 6 45} {3341892727501414641 6 46} {1927278428442810366 6 47} {5827198455067426928 6 48} {1639378908321899034 6 49}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6206354154640363737 6 40} {1068026635882136451 6 41} {8465420356340953867 6 42} {8079369373272460375 6 43} {9159969639407430593 6 44} {3529902303497958284 6 45} {3341892727501414641 6 46} {1927278428442810366 6 47} {5827198455067426928 6 48} {1639378908321899034 6 49}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10640 term 8 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 8 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 64959 term 8 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6206354154640363737 6 40} {1068026635882136451 6 41} {8465420356340953867 6 42} {8079369373272460375 6 43} {9159969639407430593 6 44} {3529902303497958284 6 45} {3341892727501414641 6 46} {1927278428442810366 6 47} {5827198455067426928 6 48} {1639378908321899034 6 49}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6206354154640363737 6 40} {1068026635882136451 6 41} {8465420356340953867 6 42} {8079369373272460375 6 43} {9159969639407430593 6 44} {3529902303497958284 6 45} {3341892727501414641 6 46} {1927278428442810366 6 47} {5827198455067426928 6 48} {1639378908321899034 6 49}]
------------------------------------------------------
flag 739 term 8 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 8 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 50043 term 8 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6206354154640363737 6 40} {1068026635882136451 6 41} {8465420356340953867 6 42} {8079369373272460375 6 43} {9159969639407430593 6 44} {3529902303497958284 6 45} {3341892727501414641 6 46} {1927278428442810366 6 47} {5827198455067426928 6 48} {1639378908321899034 6 49}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6206354154640363737 6 40} {1068026635882136451 6 41} {8465420356340953867 6 42} {8079369373272460375 6 43} {9159969639407430593 6 44} {3529902303497958284 6 45} {3341892727501414641 6 46} {1927278428442810366 6 47} {5827198455067426928 6 48} {1639378908321899034 6 49}]
------------------------------------------------------
term 8 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 97280 term 8 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 8 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 26145 term 8 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6206354154640363737 6 40} {1068026635882136451 6 41} {8465420356340953867 6 42} {8079369373272460375 6 43} {9159969639407430593 6 44} {3529902303497958284 6 45} {3341892727501414641 6 46} {1927278428442810366 6 47} {5827198455067426928 6 48} {1639378908321899034 6 49}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6206354154640363737 6 40} {1068026635882136451 6 41} {8465420356340953867 6 42} {8079369373272460375 6 43} {9159969639407430593 6 44} {3529902303497958284 6 45} {3341892727501414641 6 46} {1927278428442810366 6 47} {5827198455067426928 6 48} {1639378908321899034 6 49}]
------------------------------------------------------
flag 58072 term 8 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 8 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 83813 term 8 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6206354154640363737 6 40} {1068026635882136451 6 41} {8465420356340953867 6 42} {8079369373272460375 6 43} {9159969639407430593 6 44} {3529902303497958284 6 45} {3341892727501414641 6 46} {1927278428442810366 6 47} {5827198455067426928 6 48} {1639378908321899034 6 49}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6206354154640363737 6 40} {1068026635882136451 6 41} {8465420356340953867 6 42} {8079369373272460375 6 43} {9159969639407430593 6 44} {3529902303497958284 6 45} {3341892727501414641 6 46} {1927278428442810366 6 47} {5827198455067426928 6 48} {1639378908321899034 6 49}]
------------------------------------------------------
flag 34709 term 8 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 8 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 63219 term 8 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6206354154640363737 6 40} {1068026635882136451 6 41} {8465420356340953867 6 42} {8079369373272460375 6 43} {9159969639407430593 6 44} {3529902303497958284 6 45} {3341892727501414641 6 46} {1927278428442810366 6 47} {5827198455067426928 6 48} {1639378908321899034 6 49}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6206354154640363737 6 40} {1068026635882136451 6 41} {8465420356340953867 6 42} {8079369373272460375 6 43} {9159969639407430593 6 44} {3529902303497958284 6 45} {3341892727501414641 6 46} {1927278428442810366 6 47} {5827198455067426928 6 48} {1639378908321899034 6 49}]
------------------------------------------------------
client write log 1639378908321899034 (index 50) to leader 2
flag 81067 term 8 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 8 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 2980 term 8 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=50
leader log:
[{snapshot 6 39} {6206354154640363737 6 40} {1068026635882136451 6 41} {8465420356340953867 6 42} {8079369373272460375 6 43} {9159969639407430593 6 44} {3529902303497958284 6 45} {3341892727501414641 6 46} {1927278428442810366 6 47} {5827198455067426928 6 48} {1639378908321899034 6 49} {1639378908321899034 8 50}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=51
update matchIndex[0]=50
update leader CommitIndex=50
leader log:
[{snapshot 6 39} {6206354154640363737 6 40} {1068026635882136451 6 41} {8465420356340953867 6 42} {8079369373272460375 6 43} {9159969639407430593 6 44} {3529902303497958284 6 45} {3341892727501414641 6 46} {1927278428442810366 6 47} {5827198455067426928 6 48} {1639378908321899034 6 49} {1639378908321899034 8 50}]
------------------------------------------------------
term 8 Server2 start snapshot! index=49
term 8 server2 snapshot success
lastIncludedIndex=49 lastApplied=50 lastIndex=50
-------------------------------------------------------------
flag 69980 term 8 leader 2 nextIndex[0]: 51  matchIndex[0]: 50
term 8 leader 2 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 16115 term 8 leader 2 nextIndex[1]: 51  matchIndex[1]: 50
term 8 leader 2 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=51
update matchIndex[1]=50
term 8 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {1639378908321899034 8 50}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=51
update matchIndex[0]=50
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {1639378908321899034 8 50}]
------------------------------------------------------
term 8 Server0 start snapshot! index=49
term 8 server0 snapshot success
lastIncludedIndex=49 lastApplied=50 lastIndex=50
-------------------------------------------------------------
term 8 Server1 start snapshot! index=49
term 8 server1 snapshot success
lastIncludedIndex=49 lastApplied=50 lastIndex=50
-------------------------------------------------------------
flag 98237 term 8 leader 2 nextIndex[0]: 51  matchIndex[0]: 50
term 8 leader 2 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 13692 term 8 leader 2 nextIndex[1]: 51  matchIndex[1]: 50
term 8 leader 2 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {1639378908321899034 8 50}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=51
update matchIndex[0]=50
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {1639378908321899034 8 50}]
------------------------------------------------------
term 8 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85262 term 8 leader 2 nextIndex[0]: 51  matchIndex[0]: 50
term 8 leader 2 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 50508 term 8 leader 2 nextIndex[1]: 51  matchIndex[1]: 50
term 8 leader 2 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {1639378908321899034 8 50}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=51
update matchIndex[0]=50
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {1639378908321899034 8 50}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34568 term 8 leader 2 nextIndex[0]: 51  matchIndex[0]: 50
term 8 leader 2 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 28210 term 8 leader 2 nextIndex[1]: 51  matchIndex[1]: 50
term 8 leader 2 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {1639378908321899034 8 50}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=51
update matchIndex[0]=50
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {1639378908321899034 8 50}]
------------------------------------------------------
flag 27625 term 8 leader 2 nextIndex[0]: 51  matchIndex[0]: 50
term 8 leader 2 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 18378 term 8 leader 2 nextIndex[1]: 51  matchIndex[1]: 50
term 8 leader 2 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=51
update matchIndex[0]=50
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {1639378908321899034 8 50}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {1639378908321899034 8 50}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 76346 term 8 leader 2 nextIndex[0]: 51  matchIndex[0]: 50
term 8 leader 2 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 72991 term 8 leader 2 nextIndex[1]: 51  matchIndex[1]: 50
term 8 leader 2 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45456 term 8 leader 2 nextIndex[0]: 51  matchIndex[0]: 50
term 8 leader 2 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 51576 term 8 leader 2 nextIndex[1]: 51  matchIndex[1]: 50
term 8 leader 2 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
term 8 server 1 not vote for server 0, 任期不够新
term 8 server 0 get outdate rpc reply from server 1
flag 82456 term 8 leader 2 nextIndex[0]: 51  matchIndex[0]: 50
term 8 leader 2 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 44559 term 8 leader 2 nextIndex[1]: 51  matchIndex[1]: 50
term 8 leader 2 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51173 term 8 leader 2 nextIndex[0]: 51  matchIndex[0]: 50
term 8 leader 2 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 33868 term 8 leader 2 nextIndex[1]: 51  matchIndex[1]: 50
term 8 leader 2 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
term 9 server 0 vote for server 1
term 9 server 1 get vote from server 0
term 9 server 1 become leader
------------------------------------------------------
flag 97402 term 9 leader 1 nextIndex[0]: 51  matchIndex[0]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 5326 term 9 leader 1 nextIndex[2]: 51  matchIndex[2]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=51
update matchIndex[0]=50
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {1639378908321899034 8 50}]
------------------------------------------------------
client write log 1271233709853204916 (index 51) to leader 1
flag 90705 term 8 leader 2 nextIndex[0]: 51  matchIndex[0]: 50
term 8 leader 2 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 16433 term 8 leader 2 nextIndex[1]: 51  matchIndex[1]: 50
term 8 leader 2 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 8686 term 9 leader 1 nextIndex[0]: 51  matchIndex[0]: 50
term 9 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 29780 term 9 leader 1 nextIndex[2]: 51  matchIndex[2]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=51
leader log:
[{snapshot 6 49} {1639378908321899034 8 50} {1271233709853204916 9 51}]
------------------------------------------------------
flag 83817 term 8 leader 2 nextIndex[0]: 51  matchIndex[0]: 50
term 8 leader 2 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 91288 term 8 leader 2 nextIndex[1]: 51  matchIndex[1]: 50
term 8 leader 2 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 23584 term 9 leader 1 nextIndex[0]: 52  matchIndex[0]: 51
term 9 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
flag 19948 term 9 leader 1 nextIndex[2]: 51  matchIndex[2]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=51
leader log:
[{snapshot 6 49} {1639378908321899034 8 50} {1271233709853204916 9 51}]
------------------------------------------------------
client write log 4940320436477136910 (index 52) to leader 1
flag 87739 term 8 leader 2 nextIndex[0]: 51  matchIndex[0]: 50
term 8 leader 2 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 56198 term 8 leader 2 nextIndex[1]: 51  matchIndex[1]: 50
term 8 leader 2 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 51->50
------------------------------------------------------
flag 95905 term 9 leader 1 nextIndex[0]: 52  matchIndex[0]: 51
term 9 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
flag 20767 term 9 leader 1 nextIndex[2]: 51  matchIndex[2]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {1639378908321899034 8 50} {1271233709853204916 9 51} {4940320436477136910 9 52}]
------------------------------------------------------
flag 90045 term 8 leader 2 nextIndex[0]: 51  matchIndex[0]: 50
term 8 leader 2 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
term 8 leader 2 nextIndex[1]: 0  matchIndex[1]: 50
term 8 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 6
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29057 term 9 leader 1 nextIndex[0]: 53  matchIndex[0]: 52
term 9 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
flag 29371 term 9 leader 1 nextIndex[2]: 51  matchIndex[2]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 52 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {1639378908321899034 8 50} {1271233709853204916 9 51} {4940320436477136910 9 52}]
------------------------------------------------------
!!!!!!connect server 2
client write log 3772096361248337013 (index 53) to leader 1
flag 39792 term 8 leader 2 nextIndex[0]: 51  matchIndex[0]: 50
term 8 leader 2 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
term 8 leader 2 nextIndex[1]: 0  matchIndex[1]: 50
term 8 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 6
------------------------------------------------------
term 9 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 8 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 9 server 0 AppendEntries false 领导者任期过期 args.Term 8
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68947 term 9 leader 1 nextIndex[0]: 53  matchIndex[0]: 52
term 9 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
flag 39922 term 9 leader 1 nextIndex[2]: 51  matchIndex[2]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 52 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {1639378908321899034 8 50} {1271233709853204916 9 51} {4940320436477136910 9 52} {3772096361248337013 9 53}]
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {1639378908321899034 8 50} {1271233709853204916 9 51} {4940320436477136910 9 52} {3772096361248337013 9 53}]
------------------------------------------------------
flag 19300 term 9 leader 1 nextIndex[0]: 54  matchIndex[0]: 53
term 9 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 86379 term 9 leader 1 nextIndex[2]: 54  matchIndex[2]: 53
term 9 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {1639378908321899034 8 50} {1271233709853204916 9 51} {4940320436477136910 9 52} {3772096361248337013 9 53}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {1639378908321899034 8 50} {1271233709853204916 9 51} {4940320436477136910 9 52} {3772096361248337013 9 53}]
------------------------------------------------------
flag 49637 term 9 leader 1 nextIndex[0]: 54  matchIndex[0]: 53
term 9 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 13050 term 9 leader 1 nextIndex[2]: 54  matchIndex[2]: 53
term 9 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {1639378908321899034 8 50} {1271233709853204916 9 51} {4940320436477136910 9 52} {3772096361248337013 9 53}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {1639378908321899034 8 50} {1271233709853204916 9 51} {4940320436477136910 9 52} {3772096361248337013 9 53}]
------------------------------------------------------
flag 40441 term 9 leader 1 nextIndex[0]: 54  matchIndex[0]: 53
term 9 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 91280 term 9 leader 1 nextIndex[2]: 54  matchIndex[2]: 53
term 9 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {1639378908321899034 8 50} {1271233709853204916 9 51} {4940320436477136910 9 52} {3772096361248337013 9 53}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {1639378908321899034 8 50} {1271233709853204916 9 51} {4940320436477136910 9 52} {3772096361248337013 9 53}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64800 term 9 leader 1 nextIndex[0]: 54  matchIndex[0]: 53
term 9 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 81801 term 9 leader 1 nextIndex[2]: 54  matchIndex[2]: 53
term 9 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {1639378908321899034 8 50} {1271233709853204916 9 51} {4940320436477136910 9 52} {3772096361248337013 9 53}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {1639378908321899034 8 50} {1271233709853204916 9 51} {4940320436477136910 9 52} {3772096361248337013 9 53}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19621 term 9 leader 1 nextIndex[0]: 54  matchIndex[0]: 53
term 9 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 45805 term 9 leader 1 nextIndex[2]: 54  matchIndex[2]: 53
term 9 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {1639378908321899034 8 50} {1271233709853204916 9 51} {4940320436477136910 9 52} {3772096361248337013 9 53}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {1639378908321899034 8 50} {1271233709853204916 9 51} {4940320436477136910 9 52} {3772096361248337013 9 53}]
------------------------------------------------------
flag 15712 term 9 leader 1 nextIndex[0]: 54  matchIndex[0]: 53
term 9 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 79507 term 9 leader 1 nextIndex[2]: 54  matchIndex[2]: 53
term 9 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {1639378908321899034 8 50} {1271233709853204916 9 51} {4940320436477136910 9 52} {3772096361248337013 9 53}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {1639378908321899034 8 50} {1271233709853204916 9 51} {4940320436477136910 9 52} {3772096361248337013 9 53}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 285736617664162459 (index 54) to leader 1
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 54->53
------------------------------------------------------
flag 67034 term 9 leader 1 nextIndex[0]: 54  matchIndex[0]: 53
term 9 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 9 leader 1 nextIndex[2]: 0  matchIndex[2]: 53
term 9 leader 1 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 6
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {1639378908321899034 8 50} {1271233709853204916 9 51} {4940320436477136910 9 52} {3772096361248337013 9 53} {285736617664162459 9 54}]
------------------------------------------------------
flag 28005 term 9 leader 1 nextIndex[0]: 55  matchIndex[0]: 54
term 9 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 9 leader 1 nextIndex[2]: 0  matchIndex[2]: 53
term 9 leader 1 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 6
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {1639378908321899034 8 50} {1271233709853204916 9 51} {4940320436477136910 9 52} {3772096361248337013 9 53} {285736617664162459 9 54}]
------------------------------------------------------
client write log 4514737697708505722 (index 55) to leader 1
client write log 3331892105896057552 (index 56) to leader 1
client write log 9172132551000691754 (index 57) to leader 1
client write log 6617735504449663382 (index 58) to leader 1
client write log 7332856662537196189 (index 59) to leader 1
client write log 8727352590487095969 (index 60) to leader 1
client write log 205244986847756796 (index 61) to leader 1
client write log 6568685615295228869 (index 62) to leader 1
client write log 5973406660524262185 (index 63) to leader 1
client write log 2424319665405357847 (index 64) to leader 1
client write log 8904618474715009543 (index 65) to leader 1
client write log 961981506522964814 (index 66) to leader 1
client write log 824548917670311209 (index 67) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51001 term 9 leader 1 nextIndex[0]: 55  matchIndex[0]: 54
term 9 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 9 leader 1 nextIndex[2]: 0  matchIndex[2]: 53
term 9 leader 1 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 6
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=67
leader log:
[{snapshot 6 49} {1639378908321899034 8 50} {1271233709853204916 9 51} {4940320436477136910 9 52} {3772096361248337013 9 53} {285736617664162459 9 54} {4514737697708505722 9 55} {3331892105896057552 9 56} {9172132551000691754 9 57} {6617735504449663382 9 58} {7332856662537196189 9 59} {8727352590487095969 9 60} {205244986847756796 9 61} {6568685615295228869 9 62} {5973406660524262185 9 63} {2424319665405357847 9 64} {8904618474715009543 9 65} {961981506522964814 9 66} {824548917670311209 9 67}]
------------------------------------------------------
term 9 Server1 start snapshot! index=59
term 9 server1 snapshot success
lastIncludedIndex=59 lastApplied=60 lastIndex=67
-------------------------------------------------------------
flag 73290 term 9 leader 1 nextIndex[0]: 68  matchIndex[0]: 67
term 9 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
term 9 leader 1 nextIndex[2]: 0  matchIndex[2]: 53
term 9 leader 1 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {8727352590487095969 9 60} {205244986847756796 9 61} {6568685615295228869 9 62} {5973406660524262185 9 63} {2424319665405357847 9 64} {8904618474715009543 9 65} {961981506522964814 9 66} {824548917670311209 9 67}]
------------------------------------------------------
term 9 Server0 start snapshot! index=59
term 9 server0 snapshot success
lastIncludedIndex=59 lastApplied=60 lastIndex=67
-------------------------------------------------------------
!!!!!!connect server 2
client write log 2846188515445867451 (index 68) to leader 1
flag 99246 term 9 leader 1 nextIndex[0]: 68  matchIndex[0]: 67
term 9 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
term 9 leader 1 nextIndex[2]: 0  matchIndex[2]: 53
term 9 leader 1 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 9
------------------------------------------------------
term 10 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 9 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 9 server 0 not vote for server 2, 日志不够新
term 11 server 2 vote for server 1
term 11 server 1 get vote from server 2
term 11 server 1 become leader
------------------------------------------------------
term 11 server 0 vote for server 1
term 11 server 1 get outdate rpc reply from server 0
flag 72009 term 11 leader 1 nextIndex[0]: 69  matchIndex[0]: 0
term 11 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
flag 16209 term 11 leader 1 nextIndex[2]: 69  matchIndex[2]: 0
term 11 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
term 11 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {8727352590487095969 9 60} {205244986847756796 9 61} {6568685615295228869 9 62} {5973406660524262185 9 63} {2424319665405357847 9 64} {8904618474715009543 9 65} {961981506522964814 9 66} {824548917670311209 9 67} {2846188515445867451 9 68}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 69->68
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49145 term 11 leader 1 nextIndex[0]: 69  matchIndex[0]: 68
term 11 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
term 11 leader 1 nextIndex[2]: 54  matchIndex[2]: 0
term 11 leader 1 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 9
------------------------------------------------------
term 11 server 2 InstallSnapshot success
------------------------------------------------------
term 11 leader 1 -> server 2 sendInstallSnapshot success
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 59 rf.lastIncludedTerm 9 rf.commitIndex 59 rf.lastApplied 59
term 11 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
nextIndex[2] 60 matchIndex[2] 59 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {8727352590487095969 9 60} {205244986847756796 9 61} {6568685615295228869 9 62} {5973406660524262185 9 63} {2424319665405357847 9 64} {8904618474715009543 9 65} {961981506522964814 9 66} {824548917670311209 9 67} {2846188515445867451 9 68}]
------------------------------------------------------
flag 61580 term 11 leader 1 nextIndex[0]: 69  matchIndex[0]: 68
term 11 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
flag 88020 term 11 leader 1 nextIndex[2]: 60  matchIndex[2]: 59
term 11 leader 1 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {8727352590487095969 9 60} {205244986847756796 9 61} {6568685615295228869 9 62} {5973406660524262185 9 63} {2424319665405357847 9 64} {8904618474715009543 9 65} {961981506522964814 9 66} {824548917670311209 9 67} {2846188515445867451 9 68}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {8727352590487095969 9 60} {205244986847756796 9 61} {6568685615295228869 9 62} {5973406660524262185 9 63} {2424319665405357847 9 64} {8904618474715009543 9 65} {961981506522964814 9 66} {824548917670311209 9 67} {2846188515445867451 9 68}]
------------------------------------------------------
flag 90536 term 11 leader 1 nextIndex[0]: 69  matchIndex[0]: 68
term 11 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
flag 81747 term 11 leader 1 nextIndex[2]: 69  matchIndex[2]: 68
term 11 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {8727352590487095969 9 60} {205244986847756796 9 61} {6568685615295228869 9 62} {5973406660524262185 9 63} {2424319665405357847 9 64} {8904618474715009543 9 65} {961981506522964814 9 66} {824548917670311209 9 67} {2846188515445867451 9 68}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {8727352590487095969 9 60} {205244986847756796 9 61} {6568685615295228869 9 62} {5973406660524262185 9 63} {2424319665405357847 9 64} {8904618474715009543 9 65} {961981506522964814 9 66} {824548917670311209 9 67} {2846188515445867451 9 68}]
------------------------------------------------------
flag 56221 term 11 leader 1 nextIndex[0]: 69  matchIndex[0]: 68
term 11 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
flag 89023 term 11 leader 1 nextIndex[2]: 69  matchIndex[2]: 68
term 11 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {8727352590487095969 9 60} {205244986847756796 9 61} {6568685615295228869 9 62} {5973406660524262185 9 63} {2424319665405357847 9 64} {8904618474715009543 9 65} {961981506522964814 9 66} {824548917670311209 9 67} {2846188515445867451 9 68}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {8727352590487095969 9 60} {205244986847756796 9 61} {6568685615295228869 9 62} {5973406660524262185 9 63} {2424319665405357847 9 64} {8904618474715009543 9 65} {961981506522964814 9 66} {824548917670311209 9 67} {2846188515445867451 9 68}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94993 term 11 leader 1 nextIndex[0]: 69  matchIndex[0]: 68
term 11 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
flag 51043 term 11 leader 1 nextIndex[2]: 69  matchIndex[2]: 68
term 11 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {8727352590487095969 9 60} {205244986847756796 9 61} {6568685615295228869 9 62} {5973406660524262185 9 63} {2424319665405357847 9 64} {8904618474715009543 9 65} {961981506522964814 9 66} {824548917670311209 9 67} {2846188515445867451 9 68}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {8727352590487095969 9 60} {205244986847756796 9 61} {6568685615295228869 9 62} {5973406660524262185 9 63} {2424319665405357847 9 64} {8904618474715009543 9 65} {961981506522964814 9 66} {824548917670311209 9 67} {2846188515445867451 9 68}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39990 term 11 leader 1 nextIndex[0]: 69  matchIndex[0]: 68
term 11 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
flag 24772 term 11 leader 1 nextIndex[2]: 69  matchIndex[2]: 68
term 11 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:67 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {8727352590487095969 9 60} {205244986847756796 9 61} {6568685615295228869 9 62} {5973406660524262185 9 63} {2424319665405357847 9 64} {8904618474715009543 9 65} {961981506522964814 9 66} {824548917670311209 9 67} {2846188515445867451 9 68}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {8727352590487095969 9 60} {205244986847756796 9 61} {6568685615295228869 9 62} {5973406660524262185 9 63} {2424319665405357847 9 64} {8904618474715009543 9 65} {961981506522964814 9 66} {824548917670311209 9 67} {2846188515445867451 9 68}]
------------------------------------------------------
flag 92353 term 11 leader 1 nextIndex[0]: 69  matchIndex[0]: 68
term 11 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
flag 76862 term 11 leader 1 nextIndex[2]: 69  matchIndex[2]: 68
term 11 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {8727352590487095969 9 60} {205244986847756796 9 61} {6568685615295228869 9 62} {5973406660524262185 9 63} {2424319665405357847 9 64} {8904618474715009543 9 65} {961981506522964814 9 66} {824548917670311209 9 67} {2846188515445867451 9 68}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {8727352590487095969 9 60} {205244986847756796 9 61} {6568685615295228869 9 62} {5973406660524262185 9 63} {2424319665405357847 9 64} {8904618474715009543 9 65} {961981506522964814 9 66} {824548917670311209 9 67} {2846188515445867451 9 68}]
------------------------------------------------------
flag 92764 term 11 leader 1 nextIndex[0]: 69  matchIndex[0]: 68
term 11 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
flag 80044 term 11 leader 1 nextIndex[2]: 69  matchIndex[2]: 68
term 11 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {8727352590487095969 9 60} {205244986847756796 9 61} {6568685615295228869 9 62} {5973406660524262185 9 63} {2424319665405357847 9 64} {8904618474715009543 9 65} {961981506522964814 9 66} {824548917670311209 9 67} {2846188515445867451 9 68}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {8727352590487095969 9 60} {205244986847756796 9 61} {6568685615295228869 9 62} {5973406660524262185 9 63} {2424319665405357847 9 64} {8904618474715009543 9 65} {961981506522964814 9 66} {824548917670311209 9 67} {2846188515445867451 9 68}]
------------------------------------------------------
flag 40709 term 11 leader 1 nextIndex[0]: 69  matchIndex[0]: 68
term 11 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
flag 43181 term 11 leader 1 nextIndex[2]: 69  matchIndex[2]: 68
term 11 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {8727352590487095969 9 60} {205244986847756796 9 61} {6568685615295228869 9 62} {5973406660524262185 9 63} {2424319665405357847 9 64} {8904618474715009543 9 65} {961981506522964814 9 66} {824548917670311209 9 67} {2846188515445867451 9 68}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {8727352590487095969 9 60} {205244986847756796 9 61} {6568685615295228869 9 62} {5973406660524262185 9 63} {2424319665405357847 9 64} {8904618474715009543 9 65} {961981506522964814 9 66} {824548917670311209 9 67} {2846188515445867451 9 68}]
------------------------------------------------------
term 11 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 88106 term 11 leader 1 nextIndex[0]: 69  matchIndex[0]: 68
term 11 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
flag 5520 term 11 leader 1 nextIndex[2]: 69  matchIndex[2]: 68
term 11 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:67 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {8727352590487095969 9 60} {205244986847756796 9 61} {6568685615295228869 9 62} {5973406660524262185 9 63} {2424319665405357847 9 64} {8904618474715009543 9 65} {961981506522964814 9 66} {824548917670311209 9 67} {2846188515445867451 9 68}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {8727352590487095969 9 60} {205244986847756796 9 61} {6568685615295228869 9 62} {5973406660524262185 9 63} {2424319665405357847 9 64} {8904618474715009543 9 65} {961981506522964814 9 66} {824548917670311209 9 67} {2846188515445867451 9 68}]
------------------------------------------------------
flag 78750 term 11 leader 1 nextIndex[0]: 69  matchIndex[0]: 68
term 11 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
flag 33838 term 11 leader 1 nextIndex[2]: 69  matchIndex[2]: 68
term 11 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {8727352590487095969 9 60} {205244986847756796 9 61} {6568685615295228869 9 62} {5973406660524262185 9 63} {2424319665405357847 9 64} {8904618474715009543 9 65} {961981506522964814 9 66} {824548917670311209 9 67} {2846188515445867451 9 68}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {8727352590487095969 9 60} {205244986847756796 9 61} {6568685615295228869 9 62} {5973406660524262185 9 63} {2424319665405357847 9 64} {8904618474715009543 9 65} {961981506522964814 9 66} {824548917670311209 9 67} {2846188515445867451 9 68}]
------------------------------------------------------
flag 63295 term 11 leader 1 nextIndex[0]: 69  matchIndex[0]: 68
term 11 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
flag 13967 term 11 leader 1 nextIndex[2]: 69  matchIndex[2]: 68
term 11 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {8727352590487095969 9 60} {205244986847756796 9 61} {6568685615295228869 9 62} {5973406660524262185 9 63} {2424319665405357847 9 64} {8904618474715009543 9 65} {961981506522964814 9 66} {824548917670311209 9 67} {2846188515445867451 9 68}]
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {8727352590487095969 9 60} {205244986847756796 9 61} {6568685615295228869 9 62} {5973406660524262185 9 63} {2424319665405357847 9 64} {8904618474715009543 9 65} {961981506522964814 9 66} {824548917670311209 9 67} {2846188515445867451 9 68}]
------------------------------------------------------
flag 15693 term 11 leader 1 nextIndex[0]: 69  matchIndex[0]: 68
term 11 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
flag 61154 term 11 leader 1 nextIndex[2]: 69  matchIndex[2]: 68
term 11 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {8727352590487095969 9 60} {205244986847756796 9 61} {6568685615295228869 9 62} {5973406660524262185 9 63} {2424319665405357847 9 64} {8904618474715009543 9 65} {961981506522964814 9 66} {824548917670311209 9 67} {2846188515445867451 9 68}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {8727352590487095969 9 60} {205244986847756796 9 61} {6568685615295228869 9 62} {5973406660524262185 9 63} {2424319665405357847 9 64} {8904618474715009543 9 65} {961981506522964814 9 66} {824548917670311209 9 67} {2846188515445867451 9 68}]
------------------------------------------------------
flag 44306 term 11 leader 1 nextIndex[0]: 69  matchIndex[0]: 68
term 11 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
flag 61379 term 11 leader 1 nextIndex[2]: 69  matchIndex[2]: 68
term 11 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {8727352590487095969 9 60} {205244986847756796 9 61} {6568685615295228869 9 62} {5973406660524262185 9 63} {2424319665405357847 9 64} {8904618474715009543 9 65} {961981506522964814 9 66} {824548917670311209 9 67} {2846188515445867451 9 68}]
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {8727352590487095969 9 60} {205244986847756796 9 61} {6568685615295228869 9 62} {5973406660524262185 9 63} {2424319665405357847 9 64} {8904618474715009543 9 65} {961981506522964814 9 66} {824548917670311209 9 67} {2846188515445867451 9 68}]
------------------------------------------------------
term 11 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40353 term 11 leader 1 nextIndex[0]: 69  matchIndex[0]: 68
term 11 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
flag 62192 term 11 leader 1 nextIndex[2]: 69  matchIndex[2]: 68
term 11 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {8727352590487095969 9 60} {205244986847756796 9 61} {6568685615295228869 9 62} {5973406660524262185 9 63} {2424319665405357847 9 64} {8904618474715009543 9 65} {961981506522964814 9 66} {824548917670311209 9 67} {2846188515445867451 9 68}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {8727352590487095969 9 60} {205244986847756796 9 61} {6568685615295228869 9 62} {5973406660524262185 9 63} {2424319665405357847 9 64} {8904618474715009543 9 65} {961981506522964814 9 66} {824548917670311209 9 67} {2846188515445867451 9 68}]
------------------------------------------------------
flag 80900 term 11 leader 1 nextIndex[0]: 69  matchIndex[0]: 68
term 11 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
flag 53147 term 11 leader 1 nextIndex[2]: 69  matchIndex[2]: 68
term 11 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {8727352590487095969 9 60} {205244986847756796 9 61} {6568685615295228869 9 62} {5973406660524262185 9 63} {2424319665405357847 9 64} {8904618474715009543 9 65} {961981506522964814 9 66} {824548917670311209 9 67} {2846188515445867451 9 68}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {8727352590487095969 9 60} {205244986847756796 9 61} {6568685615295228869 9 62} {5973406660524262185 9 63} {2424319665405357847 9 64} {8904618474715009543 9 65} {961981506522964814 9 66} {824548917670311209 9 67} {2846188515445867451 9 68}]
------------------------------------------------------
flag 75172 term 11 leader 1 nextIndex[0]: 69  matchIndex[0]: 68
term 11 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
flag 75103 term 11 leader 1 nextIndex[2]: 69  matchIndex[2]: 68
term 11 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {8727352590487095969 9 60} {205244986847756796 9 61} {6568685615295228869 9 62} {5973406660524262185 9 63} {2424319665405357847 9 64} {8904618474715009543 9 65} {961981506522964814 9 66} {824548917670311209 9 67} {2846188515445867451 9 68}]
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {8727352590487095969 9 60} {205244986847756796 9 61} {6568685615295228869 9 62} {5973406660524262185 9 63} {2424319665405357847 9 64} {8904618474715009543 9 65} {961981506522964814 9 66} {824548917670311209 9 67} {2846188515445867451 9 68}]
------------------------------------------------------
client write log 2846188515445867451 (index 69) to leader 1
flag 11415 term 11 leader 1 nextIndex[0]: 69  matchIndex[0]: 68
term 11 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
flag 55397 term 11 leader 1 nextIndex[2]: 69  matchIndex[2]: 68
term 11 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 67 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:67 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=69
leader log:
[{snapshot 9 59} {8727352590487095969 9 60} {205244986847756796 9 61} {6568685615295228869 9 62} {5973406660524262185 9 63} {2424319665405357847 9 64} {8904618474715009543 9 65} {961981506522964814 9 66} {824548917670311209 9 67} {2846188515445867451 9 68} {2846188515445867451 11 69}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=69
leader log:
[{snapshot 9 59} {8727352590487095969 9 60} {205244986847756796 9 61} {6568685615295228869 9 62} {5973406660524262185 9 63} {2424319665405357847 9 64} {8904618474715009543 9 65} {961981506522964814 9 66} {824548917670311209 9 67} {2846188515445867451 9 68} {2846188515445867451 11 69}]
------------------------------------------------------
term 11 Server1 start snapshot! index=69
term 11 server1 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=69
-------------------------------------------------------------
flag 97715 term 11 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 21385 term 11 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
term 11 Server2 start snapshot! index=69
term 11 server2 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=69
-------------------------------------------------------------
term 11 Server0 start snapshot! index=69
term 11 server0 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=69
-------------------------------------------------------------
flag 33236 term 11 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 42506 term 11 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
term 11 server 2 not vote for server 1, 任期不够新
term 11 server 1 get outdate rpc reply from server 2
flag 95756 term 11 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 15678 term 11 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
flag 4238 term 11 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 98407 term 11 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
flag 62403 term 11 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 39824 term 11 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
flag 41970 term 11 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 8923 term 11 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 4814283057850389871 (index 70) to leader 1
flag 58684 term 11 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 62814 term 11 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {4814283057850389871 11 70}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31523 term 11 leader 1 nextIndex[0]: 71  matchIndex[0]: 70
term 11 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
flag 97964 term 11 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {4814283057850389871 11 70}]
------------------------------------------------------
client write log 5166318161505870389 (index 71) to leader 1
client write log 2611154483607506332 (index 72) to leader 1
client write log 1058132152226709500 (index 73) to leader 1
client write log 3410180248247729094 (index 74) to leader 1
client write log 4055422117457532175 (index 75) to leader 1
client write log 5763247173373441895 (index 76) to leader 1
client write log 4990160760430813564 (index 77) to leader 1
client write log 2984823006916414004 (index 78) to leader 1
client write log 6023524296535923290 (index 79) to leader 1
client write log 8782486163193965065 (index 80) to leader 1
client write log 4439474726511221306 (index 81) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78339 term 11 leader 1 nextIndex[0]: 71  matchIndex[0]: 70
term 11 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
flag 45893 term 11 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=81
leader log:
[{snapshot 11 69} {4814283057850389871 11 70} {5166318161505870389 11 71} {2611154483607506332 11 72} {1058132152226709500 11 73} {3410180248247729094 11 74} {4055422117457532175 11 75} {5763247173373441895 11 76} {4990160760430813564 11 77} {2984823006916414004 11 78} {6023524296535923290 11 79} {8782486163193965065 11 80} {4439474726511221306 11 81}]
------------------------------------------------------
term 11 Server1 start snapshot! index=79
term 11 server1 snapshot success
lastIncludedIndex=79 lastApplied=80 lastIndex=81
-------------------------------------------------------------
term 11 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 6391 term 11 leader 1 nextIndex[0]: 82  matchIndex[0]: 81
term 11 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 11 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 11 leader 1 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 11
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {8782486163193965065 11 80} {4439474726511221306 11 81}]
------------------------------------------------------
term 11 Server0 start snapshot! index=79
term 11 server0 snapshot success
lastIncludedIndex=79 lastApplied=80 lastIndex=81
-------------------------------------------------------------
!!!!!!connect server 2
client write log 900008772982213161 (index 82) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94545 term 11 leader 1 nextIndex[0]: 82  matchIndex[0]: 81
term 11 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 11 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 11 leader 1 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 11
------------------------------------------------------
term 12 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 11 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 13 server 2 vote for server 1
term 13 server 1 get vote from server 2
term 13 server 1 become leader
------------------------------------------------------
term 13 server 0 vote for server 1
term 13 server 1 get outdate rpc reply from server 0
flag 14306 term 13 leader 1 nextIndex[0]: 83  matchIndex[0]: 0
term 13 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
flag 75707 term 13 leader 1 nextIndex[2]: 83  matchIndex[2]: 0
term 13 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 13 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 83->82
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {8782486163193965065 11 80} {4439474726511221306 11 81} {900008772982213161 11 82}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71880 term 13 leader 1 nextIndex[0]: 83  matchIndex[0]: 82
term 13 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 13 leader 1 nextIndex[2]: 70  matchIndex[2]: 0
term 13 leader 1 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 11
------------------------------------------------------
term 13 server 2 InstallSnapshot success
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 79 rf.lastIncludedTerm 11 rf.commitIndex 79 rf.lastApplied 79
term 13 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 80 matchIndex[2] 79 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {8782486163193965065 11 80} {4439474726511221306 11 81} {900008772982213161 11 82}]
------------------------------------------------------
flag 90466 term 13 leader 1 nextIndex[0]: 83  matchIndex[0]: 82
term 13 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
flag 48028 term 13 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {8782486163193965065 11 80} {4439474726511221306 11 81} {900008772982213161 11 82}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {8782486163193965065 11 80} {4439474726511221306 11 81} {900008772982213161 11 82}]
------------------------------------------------------
flag 69795 term 13 leader 1 nextIndex[0]: 83  matchIndex[0]: 82
term 13 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
flag 25460 term 13 leader 1 nextIndex[2]: 83  matchIndex[2]: 82
term 13 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {8782486163193965065 11 80} {4439474726511221306 11 81} {900008772982213161 11 82}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {8782486163193965065 11 80} {4439474726511221306 11 81} {900008772982213161 11 82}]
------------------------------------------------------
flag 76739 term 13 leader 1 nextIndex[0]: 83  matchIndex[0]: 82
term 13 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
flag 2098 term 13 leader 1 nextIndex[2]: 83  matchIndex[2]: 82
term 13 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {8782486163193965065 11 80} {4439474726511221306 11 81} {900008772982213161 11 82}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {8782486163193965065 11 80} {4439474726511221306 11 81} {900008772982213161 11 82}]
------------------------------------------------------
flag 97161 term 13 leader 1 nextIndex[0]: 83  matchIndex[0]: 82
term 13 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
flag 89314 term 13 leader 1 nextIndex[2]: 83  matchIndex[2]: 82
term 13 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {8782486163193965065 11 80} {4439474726511221306 11 81} {900008772982213161 11 82}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {8782486163193965065 11 80} {4439474726511221306 11 81} {900008772982213161 11 82}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88886 term 13 leader 1 nextIndex[0]: 83  matchIndex[0]: 82
term 13 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
flag 80621 term 13 leader 1 nextIndex[2]: 83  matchIndex[2]: 82
term 13 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {8782486163193965065 11 80} {4439474726511221306 11 81} {900008772982213161 11 82}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {8782486163193965065 11 80} {4439474726511221306 11 81} {900008772982213161 11 82}]
------------------------------------------------------
flag 15769 term 13 leader 1 nextIndex[0]: 83  matchIndex[0]: 82
term 13 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
flag 51510 term 13 leader 1 nextIndex[2]: 83  matchIndex[2]: 82
term 13 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {8782486163193965065 11 80} {4439474726511221306 11 81} {900008772982213161 11 82}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {8782486163193965065 11 80} {4439474726511221306 11 81} {900008772982213161 11 82}]
------------------------------------------------------
flag 93233 term 13 leader 1 nextIndex[0]: 83  matchIndex[0]: 82
term 13 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
flag 87555 term 13 leader 1 nextIndex[2]: 83  matchIndex[2]: 82
term 13 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {8782486163193965065 11 80} {4439474726511221306 11 81} {900008772982213161 11 82}]
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {8782486163193965065 11 80} {4439474726511221306 11 81} {900008772982213161 11 82}]
------------------------------------------------------
flag 67273 term 13 leader 1 nextIndex[0]: 83  matchIndex[0]: 82
term 13 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
flag 1588 term 13 leader 1 nextIndex[2]: 83  matchIndex[2]: 82
term 13 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {8782486163193965065 11 80} {4439474726511221306 11 81} {900008772982213161 11 82}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {8782486163193965065 11 80} {4439474726511221306 11 81} {900008772982213161 11 82}]
------------------------------------------------------
term 13 server 2 not vote for server 0, 任期不够新
term 13 server 0 get outdate rpc reply from server 2
flag 45636 term 13 leader 1 nextIndex[0]: 83  matchIndex[0]: 82
term 13 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
flag 5841 term 13 leader 1 nextIndex[2]: 83  matchIndex[2]: 82
term 13 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {8782486163193965065 11 80} {4439474726511221306 11 81} {900008772982213161 11 82}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {8782486163193965065 11 80} {4439474726511221306 11 81} {900008772982213161 11 82}]
------------------------------------------------------
flag 94284 term 13 leader 1 nextIndex[0]: 83  matchIndex[0]: 82
term 13 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
flag 97486 term 13 leader 1 nextIndex[2]: 83  matchIndex[2]: 82
term 13 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {8782486163193965065 11 80} {4439474726511221306 11 81} {900008772982213161 11 82}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {8782486163193965065 11 80} {4439474726511221306 11 81} {900008772982213161 11 82}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72898 term 13 leader 1 nextIndex[0]: 83  matchIndex[0]: 82
term 13 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
flag 7739 term 13 leader 1 nextIndex[2]: 83  matchIndex[2]: 82
term 13 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:81 
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {8782486163193965065 11 80} {4439474726511221306 11 81} {900008772982213161 11 82}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {8782486163193965065 11 80} {4439474726511221306 11 81} {900008772982213161 11 82}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15598 term 13 leader 1 nextIndex[0]: 83  matchIndex[0]: 82
term 13 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
flag 92409 term 13 leader 1 nextIndex[2]: 83  matchIndex[2]: 82
term 13 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {8782486163193965065 11 80} {4439474726511221306 11 81} {900008772982213161 11 82}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {8782486163193965065 11 80} {4439474726511221306 11 81} {900008772982213161 11 82}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89811 term 13 leader 1 nextIndex[0]: 83  matchIndex[0]: 82
term 13 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
flag 60716 term 13 leader 1 nextIndex[2]: 83  matchIndex[2]: 82
term 13 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {8782486163193965065 11 80} {4439474726511221306 11 81} {900008772982213161 11 82}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {8782486163193965065 11 80} {4439474726511221306 11 81} {900008772982213161 11 82}]
------------------------------------------------------
flag 21031 term 13 leader 1 nextIndex[0]: 83  matchIndex[0]: 82
term 13 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
flag 81044 term 13 leader 1 nextIndex[2]: 83  matchIndex[2]: 82
term 13 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {8782486163193965065 11 80} {4439474726511221306 11 81} {900008772982213161 11 82}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {8782486163193965065 11 80} {4439474726511221306 11 81} {900008772982213161 11 82}]
------------------------------------------------------
flag 73167 term 13 leader 1 nextIndex[0]: 83  matchIndex[0]: 82
term 13 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
flag 44000 term 13 leader 1 nextIndex[2]: 83  matchIndex[2]: 82
term 13 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {8782486163193965065 11 80} {4439474726511221306 11 81} {900008772982213161 11 82}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {8782486163193965065 11 80} {4439474726511221306 11 81} {900008772982213161 11 82}]
------------------------------------------------------
flag 94796 term 13 leader 1 nextIndex[0]: 83  matchIndex[0]: 82
term 13 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
flag 77318 term 13 leader 1 nextIndex[2]: 83  matchIndex[2]: 82
term 13 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {8782486163193965065 11 80} {4439474726511221306 11 81} {900008772982213161 11 82}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {8782486163193965065 11 80} {4439474726511221306 11 81} {900008772982213161 11 82}]
------------------------------------------------------
term 13 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 36857 term 13 leader 1 nextIndex[0]: 83  matchIndex[0]: 82
term 13 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
flag 44002 term 13 leader 1 nextIndex[2]: 83  matchIndex[2]: 82
term 13 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {8782486163193965065 11 80} {4439474726511221306 11 81} {900008772982213161 11 82}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {8782486163193965065 11 80} {4439474726511221306 11 81} {900008772982213161 11 82}]
------------------------------------------------------
client write log 900008772982213161 (index 83) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49868 term 13 leader 1 nextIndex[0]: 83  matchIndex[0]: 82
term 13 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
flag 29538 term 13 leader 1 nextIndex[2]: 83  matchIndex[2]: 82
term 13 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {8782486163193965065 11 80} {4439474726511221306 11 81} {900008772982213161 11 82} {900008772982213161 13 83}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=84
update matchIndex[2]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {8782486163193965065 11 80} {4439474726511221306 11 81} {900008772982213161 11 82} {900008772982213161 13 83}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78549 term 13 leader 1 nextIndex[0]: 84  matchIndex[0]: 83
term 13 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 81970 term 13 leader 1 nextIndex[2]: 84  matchIndex[2]: 83
term 13 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {8782486163193965065 11 80} {4439474726511221306 11 81} {900008772982213161 11 82} {900008772982213161 13 83}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=84
update matchIndex[2]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {8782486163193965065 11 80} {4439474726511221306 11 81} {900008772982213161 11 82} {900008772982213161 13 83}]
------------------------------------------------------
flag 92801 term 13 leader 1 nextIndex[0]: 84  matchIndex[0]: 83
term 13 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 90647 term 13 leader 1 nextIndex[2]: 84  matchIndex[2]: 83
term 13 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueterm 13 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
update nextIndex[2]=84
update matchIndex[2]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {8782486163193965065 11 80} {4439474726511221306 11 81} {900008772982213161 11 82} {900008772982213161 13 83}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {8782486163193965065 11 80} {4439474726511221306 11 81} {900008772982213161 11 82} {900008772982213161 13 83}]
------------------------------------------------------
flag 2949 term 13 leader 1 nextIndex[0]: 84  matchIndex[0]: 83
term 13 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 86464 term 13 leader 1 nextIndex[2]: 84  matchIndex[2]: 83
term 13 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=84
update matchIndex[2]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {8782486163193965065 11 80} {4439474726511221306 11 81} {900008772982213161 11 82} {900008772982213161 13 83}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {8782486163193965065 11 80} {4439474726511221306 11 81} {900008772982213161 11 82} {900008772982213161 13 83}]
------------------------------------------------------
flag 65808 term 13 leader 1 nextIndex[0]: 84  matchIndex[0]: 83
term 13 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 54116 term 13 leader 1 nextIndex[2]: 84  matchIndex[2]: 83
term 13 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {8782486163193965065 11 80} {4439474726511221306 11 81} {900008772982213161 11 82} {900008772982213161 13 83}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=84
update matchIndex[2]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {8782486163193965065 11 80} {4439474726511221306 11 81} {900008772982213161 11 82} {900008772982213161 13 83}]
------------------------------------------------------
flag 50011 term 13 leader 1 nextIndex[0]: 84  matchIndex[0]: 83
term 13 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 56472 term 13 leader 1 nextIndex[2]: 84  matchIndex[2]: 83
term 13 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=84
update matchIndex[2]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {8782486163193965065 11 80} {4439474726511221306 11 81} {900008772982213161 11 82} {900008772982213161 13 83}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {8782486163193965065 11 80} {4439474726511221306 11 81} {900008772982213161 11 82} {900008772982213161 13 83}]
------------------------------------------------------
flag 63260 term 13 leader 1 nextIndex[0]: 84  matchIndex[0]: 83
term 13 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 58754 term 13 leader 1 nextIndex[2]: 84  matchIndex[2]: 83
term 13 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=84
update matchIndex[2]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {8782486163193965065 11 80} {4439474726511221306 11 81} {900008772982213161 11 82} {900008772982213161 13 83}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {8782486163193965065 11 80} {4439474726511221306 11 81} {900008772982213161 11 82} {900008772982213161 13 83}]
------------------------------------------------------
term 13 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 1
flag 9491 term 13 leader 1 nextIndex[0]: 84  matchIndex[0]: 83
term 13 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 12362 term 13 leader 1 nextIndex[2]: 84  matchIndex[2]: 83
term 13 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 73863 term 13 leader 1 nextIndex[0]: 84  matchIndex[0]: 83
term 13 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 41527 term 13 leader 1 nextIndex[2]: 84  matchIndex[2]: 83
term 13 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 52638 term 13 leader 1 nextIndex[0]: 84  matchIndex[0]: 83
term 13 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 38516 term 13 leader 1 nextIndex[2]: 84  matchIndex[2]: 83
term 13 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
term 14 server 0 vote for server 2
term 14 server 2 get vote from server 0
term 14 server 2 become leader
------------------------------------------------------
flag 10850 term 14 leader 2 nextIndex[0]: 84  matchIndex[0]: 0
term 14 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 73790 term 14 leader 2 nextIndex[1]: 84  matchIndex[1]: 0
term 14 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {8782486163193965065 11 80} {4439474726511221306 11 81} {900008772982213161 11 82} {900008772982213161 13 83}]
------------------------------------------------------
client write log 432699872043880112 (index 84) to leader 2
flag 27738 term 13 leader 1 nextIndex[0]: 84  matchIndex[0]: 83
term 13 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 55917 term 13 leader 1 nextIndex[2]: 84  matchIndex[2]: 83
term 13 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 3008 term 14 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 14 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 71498 term 14 leader 2 nextIndex[1]: 84  matchIndex[1]: 0
term 14 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=84
leader log:
[{snapshot 11 79} {8782486163193965065 11 80} {4439474726511221306 11 81} {900008772982213161 11 82} {900008772982213161 13 83} {432699872043880112 14 84}]
------------------------------------------------------
flag 76628 term 13 leader 1 nextIndex[0]: 84  matchIndex[0]: 83
term 13 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 75031 term 13 leader 1 nextIndex[2]: 84  matchIndex[2]: 83
term 13 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 86550 term 14 leader 2 nextIndex[0]: 85  matchIndex[0]: 84
term 14 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
flag 80944 term 14 leader 2 nextIndex[1]: 84  matchIndex[1]: 0
term 14 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 84 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=84
leader log:
[{snapshot 11 79} {8782486163193965065 11 80} {4439474726511221306 11 81} {900008772982213161 11 82} {900008772982213161 13 83} {432699872043880112 14 84}]
------------------------------------------------------
client write log 1340684460461996226 (index 85) to leader 2
client write log 4963474616429938436 (index 86) to leader 2
client write log 2263951762024341270 (index 87) to leader 2
client write log 8574983690711986253 (index 88) to leader 2
client write log 3016835359937846390 (index 89) to leader 2
client write log 4167084737132787642 (index 90) to leader 2
client write log 5751817892629778536 (index 91) to leader 2
client write log 7864787617851131723 (index 92) to leader 2
client write log 8145474780844634028 (index 93) to leader 2
client write log 1601053922344303486 (index 94) to leader 2
client write log 6400956016296006552 (index 95) to leader 2
client write log 7464972687365796627 (index 96) to leader 2
client write log 5080018727246530761 (index 97) to leader 2
client write log 720517587456803757 (index 98) to leader 2
flag 79765 term 13 leader 1 nextIndex[0]: 84  matchIndex[0]: 83
term 13 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 71029 term 13 leader 1 nextIndex[2]: 84  matchIndex[2]: 83
term 13 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 2057 term 14 leader 2 nextIndex[0]: 85  matchIndex[0]: 84
term 14 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
flag 1238 term 14 leader 2 nextIndex[1]: 84  matchIndex[1]: 0
term 14 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 84 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=98
leader log:
[{snapshot 11 79} {8782486163193965065 11 80} {4439474726511221306 11 81} {900008772982213161 11 82} {900008772982213161 13 83} {432699872043880112 14 84} {1340684460461996226 14 85} {4963474616429938436 14 86} {2263951762024341270 14 87} {8574983690711986253 14 88} {3016835359937846390 14 89} {4167084737132787642 14 90} {5751817892629778536 14 91} {7864787617851131723 14 92} {8145474780844634028 14 93} {1601053922344303486 14 94} {6400956016296006552 14 95} {7464972687365796627 14 96} {5080018727246530761 14 97} {720517587456803757 14 98}]
------------------------------------------------------
term 14 Server2 start snapshot! index=89
term 14 server2 snapshot success
lastIncludedIndex=89 lastApplied=90 lastIndex=98
-------------------------------------------------------------
flag 22777 term 13 leader 1 nextIndex[0]: 84  matchIndex[0]: 83
term 13 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 31485 term 13 leader 1 nextIndex[2]: 84  matchIndex[2]: 83
term 13 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 58875 term 14 leader 2 nextIndex[0]: 99  matchIndex[0]: 98
term 14 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 14 leader 2 nextIndex[1]: 84  matchIndex[1]: 0
term 14 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 14
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {4167084737132787642 14 90} {5751817892629778536 14 91} {7864787617851131723 14 92} {8145474780844634028 14 93} {1601053922344303486 14 94} {6400956016296006552 14 95} {7464972687365796627 14 96} {5080018727246530761 14 97} {720517587456803757 14 98}]
------------------------------------------------------
term 14 Server0 start snapshot! index=89
term 14 server0 snapshot success
lastIncludedIndex=89 lastApplied=90 lastIndex=98
-------------------------------------------------------------
flag 95107 term 13 leader 1 nextIndex[0]: 84  matchIndex[0]: 83
term 13 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 40543 term 13 leader 1 nextIndex[2]: 84  matchIndex[2]: 83
term 13 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
!!!!!!connect server 1
client write log 3072177543054836895 (index 84) to leader 1
term 13 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 82338 term 14 leader 2 nextIndex[0]: 99  matchIndex[0]: 98
term 14 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 14 leader 2 nextIndex[1]: 84  matchIndex[1]: 0
term 14 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 14
------------------------------------------------------
term 14 server 1 InstallSnapshot success
------------------------------------------------------
term 14 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 90 matchIndex[1] 89 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 89 rf.lastIncludedTerm 14 rf.commitIndex 89 rf.lastApplied 89
term 14 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {4167084737132787642 14 90} {5751817892629778536 14 91} {7864787617851131723 14 92} {8145474780844634028 14 93} {1601053922344303486 14 94} {6400956016296006552 14 95} {7464972687365796627 14 96} {5080018727246530761 14 97} {720517587456803757 14 98}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35268 term 14 leader 2 nextIndex[0]: 99  matchIndex[0]: 98
term 14 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
flag 69286 term 14 leader 2 nextIndex[1]: 90  matchIndex[1]: 89
term 14 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {4167084737132787642 14 90} {5751817892629778536 14 91} {7864787617851131723 14 92} {8145474780844634028 14 93} {1601053922344303486 14 94} {6400956016296006552 14 95} {7464972687365796627 14 96} {5080018727246530761 14 97} {720517587456803757 14 98}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {4167084737132787642 14 90} {5751817892629778536 14 91} {7864787617851131723 14 92} {8145474780844634028 14 93} {1601053922344303486 14 94} {6400956016296006552 14 95} {7464972687365796627 14 96} {5080018727246530761 14 97} {720517587456803757 14 98}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 99->98
------------------------------------------------------
term 14 server 1 not vote for server 2, 日志不够新
term 14 server 2 get outdate rpc reply from server 1
term 14 server 1 not vote for server 2, 任期不够新
term 14 server 2 get outdate rpc reply from server 1
flag 47130 term 14 leader 2 nextIndex[0]: 99  matchIndex[0]: 98
term 14 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 14 leader 2 nextIndex[1]: 0  matchIndex[1]: 98
term 14 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 14
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {4167084737132787642 14 90} {5751817892629778536 14 91} {7864787617851131723 14 92} {8145474780844634028 14 93} {1601053922344303486 14 94} {6400956016296006552 14 95} {7464972687365796627 14 96} {5080018727246530761 14 97} {720517587456803757 14 98}]
------------------------------------------------------
term 14 server 1 InstallSnapshot fail
rf.commitIndex 89 args.LastIncludedIndex 89
------------------------------------------------------
term 14 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 90 matchIndex[1] 89 
------------------------------------------------------------------------
flag 87232 term 14 leader 2 nextIndex[0]: 99  matchIndex[0]: 98
term 14 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
flag 31841 term 14 leader 2 nextIndex[1]: 90  matchIndex[1]: 89
term 14 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {4167084737132787642 14 90} {5751817892629778536 14 91} {7864787617851131723 14 92} {8145474780844634028 14 93} {1601053922344303486 14 94} {6400956016296006552 14 95} {7464972687365796627 14 96} {5080018727246530761 14 97} {720517587456803757 14 98}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {4167084737132787642 14 90} {5751817892629778536 14 91} {7864787617851131723 14 92} {8145474780844634028 14 93} {1601053922344303486 14 94} {6400956016296006552 14 95} {7464972687365796627 14 96} {5080018727246530761 14 97} {720517587456803757 14 98}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69251 term 14 leader 2 nextIndex[0]: 99  matchIndex[0]: 98
term 14 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
flag 87404 term 14 leader 2 nextIndex[1]: 99  matchIndex[1]: 98
term 14 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {4167084737132787642 14 90} {5751817892629778536 14 91} {7864787617851131723 14 92} {8145474780844634028 14 93} {1601053922344303486 14 94} {6400956016296006552 14 95} {7464972687365796627 14 96} {5080018727246530761 14 97} {720517587456803757 14 98}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {4167084737132787642 14 90} {5751817892629778536 14 91} {7864787617851131723 14 92} {8145474780844634028 14 93} {1601053922344303486 14 94} {6400956016296006552 14 95} {7464972687365796627 14 96} {5080018727246530761 14 97} {720517587456803757 14 98}]
------------------------------------------------------
flag 2199 term 14 leader 2 nextIndex[0]: 99  matchIndex[0]: 98
term 14 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
flag 69018 term 14 leader 2 nextIndex[1]: 99  matchIndex[1]: 98
term 14 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {4167084737132787642 14 90} {5751817892629778536 14 91} {7864787617851131723 14 92} {8145474780844634028 14 93} {1601053922344303486 14 94} {6400956016296006552 14 95} {7464972687365796627 14 96} {5080018727246530761 14 97} {720517587456803757 14 98}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {4167084737132787642 14 90} {5751817892629778536 14 91} {7864787617851131723 14 92} {8145474780844634028 14 93} {1601053922344303486 14 94} {6400956016296006552 14 95} {7464972687365796627 14 96} {5080018727246530761 14 97} {720517587456803757 14 98}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66676 term 14 leader 2 nextIndex[0]: 99  matchIndex[0]: 98
term 14 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
flag 58443 term 14 leader 2 nextIndex[1]: 99  matchIndex[1]: 98
term 14 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {4167084737132787642 14 90} {5751817892629778536 14 91} {7864787617851131723 14 92} {8145474780844634028 14 93} {1601053922344303486 14 94} {6400956016296006552 14 95} {7464972687365796627 14 96} {5080018727246530761 14 97} {720517587456803757 14 98}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {4167084737132787642 14 90} {5751817892629778536 14 91} {7864787617851131723 14 92} {8145474780844634028 14 93} {1601053922344303486 14 94} {6400956016296006552 14 95} {7464972687365796627 14 96} {5080018727246530761 14 97} {720517587456803757 14 98}]
------------------------------------------------------
flag 89161 term 14 leader 2 nextIndex[0]: 99  matchIndex[0]: 98
term 14 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
flag 36807 term 14 leader 2 nextIndex[1]: 99  matchIndex[1]: 98
term 14 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {4167084737132787642 14 90} {5751817892629778536 14 91} {7864787617851131723 14 92} {8145474780844634028 14 93} {1601053922344303486 14 94} {6400956016296006552 14 95} {7464972687365796627 14 96} {5080018727246530761 14 97} {720517587456803757 14 98}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {4167084737132787642 14 90} {5751817892629778536 14 91} {7864787617851131723 14 92} {8145474780844634028 14 93} {1601053922344303486 14 94} {6400956016296006552 14 95} {7464972687365796627 14 96} {5080018727246530761 14 97} {720517587456803757 14 98}]
------------------------------------------------------
flag 41754 term 14 leader 2 nextIndex[0]: 99  matchIndex[0]: 98
term 14 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
flag 12543 term 14 leader 2 nextIndex[1]: 99  matchIndex[1]: 98
term 14 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {4167084737132787642 14 90} {5751817892629778536 14 91} {7864787617851131723 14 92} {8145474780844634028 14 93} {1601053922344303486 14 94} {6400956016296006552 14 95} {7464972687365796627 14 96} {5080018727246530761 14 97} {720517587456803757 14 98}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {4167084737132787642 14 90} {5751817892629778536 14 91} {7864787617851131723 14 92} {8145474780844634028 14 93} {1601053922344303486 14 94} {6400956016296006552 14 95} {7464972687365796627 14 96} {5080018727246530761 14 97} {720517587456803757 14 98}]
------------------------------------------------------
flag 61642 term 14 leader 2 nextIndex[0]: 99  matchIndex[0]: 98
term 14 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
flag 32735 term 14 leader 2 nextIndex[1]: 99  matchIndex[1]: 98
term 14 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {4167084737132787642 14 90} {5751817892629778536 14 91} {7864787617851131723 14 92} {8145474780844634028 14 93} {1601053922344303486 14 94} {6400956016296006552 14 95} {7464972687365796627 14 96} {5080018727246530761 14 97} {720517587456803757 14 98}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {4167084737132787642 14 90} {5751817892629778536 14 91} {7864787617851131723 14 92} {8145474780844634028 14 93} {1601053922344303486 14 94} {6400956016296006552 14 95} {7464972687365796627 14 96} {5080018727246530761 14 97} {720517587456803757 14 98}]
------------------------------------------------------
term 14 server 1 not vote for server 2, 任期不够新
term 14 server 2 get outdate rpc reply from server 1
flag 8202 term 14 leader 2 nextIndex[0]: 99  matchIndex[0]: 98
term 14 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
flag 60497 term 14 leader 2 nextIndex[1]: 99  matchIndex[1]: 98
term 14 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {4167084737132787642 14 90} {5751817892629778536 14 91} {7864787617851131723 14 92} {8145474780844634028 14 93} {1601053922344303486 14 94} {6400956016296006552 14 95} {7464972687365796627 14 96} {5080018727246530761 14 97} {720517587456803757 14 98}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {4167084737132787642 14 90} {5751817892629778536 14 91} {7864787617851131723 14 92} {8145474780844634028 14 93} {1601053922344303486 14 94} {6400956016296006552 14 95} {7464972687365796627 14 96} {5080018727246530761 14 97} {720517587456803757 14 98}]
------------------------------------------------------
term 14 server 0 not vote for server 2, 任期不够新
term 14 server 2 get outdate rpc reply from server 0
flag 36668 term 14 leader 2 nextIndex[0]: 99  matchIndex[0]: 98
term 14 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
flag 58858 term 14 leader 2 nextIndex[1]: 99  matchIndex[1]: 98
term 14 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {4167084737132787642 14 90} {5751817892629778536 14 91} {7864787617851131723 14 92} {8145474780844634028 14 93} {1601053922344303486 14 94} {6400956016296006552 14 95} {7464972687365796627 14 96} {5080018727246530761 14 97} {720517587456803757 14 98}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {4167084737132787642 14 90} {5751817892629778536 14 91} {7864787617851131723 14 92} {8145474780844634028 14 93} {1601053922344303486 14 94} {6400956016296006552 14 95} {7464972687365796627 14 96} {5080018727246530761 14 97} {720517587456803757 14 98}]
------------------------------------------------------
flag 25203 term 14 leader 2 nextIndex[0]: 99  matchIndex[0]: 98
term 14 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
flag 90791 term 14 leader 2 nextIndex[1]: 99  matchIndex[1]: 98
term 14 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {4167084737132787642 14 90} {5751817892629778536 14 91} {7864787617851131723 14 92} {8145474780844634028 14 93} {1601053922344303486 14 94} {6400956016296006552 14 95} {7464972687365796627 14 96} {5080018727246530761 14 97} {720517587456803757 14 98}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {4167084737132787642 14 90} {5751817892629778536 14 91} {7864787617851131723 14 92} {8145474780844634028 14 93} {1601053922344303486 14 94} {6400956016296006552 14 95} {7464972687365796627 14 96} {5080018727246530761 14 97} {720517587456803757 14 98}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39830 term 14 leader 2 nextIndex[0]: 99  matchIndex[0]: 98
term 14 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
flag 34606 term 14 leader 2 nextIndex[1]: 99  matchIndex[1]: 98
term 14 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {4167084737132787642 14 90} {5751817892629778536 14 91} {7864787617851131723 14 92} {8145474780844634028 14 93} {1601053922344303486 14 94} {6400956016296006552 14 95} {7464972687365796627 14 96} {5080018727246530761 14 97} {720517587456803757 14 98}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {4167084737132787642 14 90} {5751817892629778536 14 91} {7864787617851131723 14 92} {8145474780844634028 14 93} {1601053922344303486 14 94} {6400956016296006552 14 95} {7464972687365796627 14 96} {5080018727246530761 14 97} {720517587456803757 14 98}]
------------------------------------------------------
flag 61632 term 14 leader 2 nextIndex[0]: 99  matchIndex[0]: 98
term 14 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
flag 59072 term 14 leader 2 nextIndex[1]: 99  matchIndex[1]: 98
term 14 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {4167084737132787642 14 90} {5751817892629778536 14 91} {7864787617851131723 14 92} {8145474780844634028 14 93} {1601053922344303486 14 94} {6400956016296006552 14 95} {7464972687365796627 14 96} {5080018727246530761 14 97} {720517587456803757 14 98}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {4167084737132787642 14 90} {5751817892629778536 14 91} {7864787617851131723 14 92} {8145474780844634028 14 93} {1601053922344303486 14 94} {6400956016296006552 14 95} {7464972687365796627 14 96} {5080018727246530761 14 97} {720517587456803757 14 98}]
------------------------------------------------------
flag 2525 term 14 leader 2 nextIndex[0]: 99  matchIndex[0]: 98
term 14 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
flag 1326 term 14 leader 2 nextIndex[1]: 99  matchIndex[1]: 98
term 14 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {4167084737132787642 14 90} {5751817892629778536 14 91} {7864787617851131723 14 92} {8145474780844634028 14 93} {1601053922344303486 14 94} {6400956016296006552 14 95} {7464972687365796627 14 96} {5080018727246530761 14 97} {720517587456803757 14 98}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {4167084737132787642 14 90} {5751817892629778536 14 91} {7864787617851131723 14 92} {8145474780844634028 14 93} {1601053922344303486 14 94} {6400956016296006552 14 95} {7464972687365796627 14 96} {5080018727246530761 14 97} {720517587456803757 14 98}]
------------------------------------------------------
flag 26201 term 14 leader 2 nextIndex[0]: 99  matchIndex[0]: 98
term 14 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
flag 51553 term 14 leader 2 nextIndex[1]: 99  matchIndex[1]: 98
term 14 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {4167084737132787642 14 90} {5751817892629778536 14 91} {7864787617851131723 14 92} {8145474780844634028 14 93} {1601053922344303486 14 94} {6400956016296006552 14 95} {7464972687365796627 14 96} {5080018727246530761 14 97} {720517587456803757 14 98}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {4167084737132787642 14 90} {5751817892629778536 14 91} {7864787617851131723 14 92} {8145474780844634028 14 93} {1601053922344303486 14 94} {6400956016296006552 14 95} {7464972687365796627 14 96} {5080018727246530761 14 97} {720517587456803757 14 98}]
------------------------------------------------------
flag 48773 term 14 leader 2 nextIndex[0]: 99  matchIndex[0]: 98
term 14 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
flag 59364 term 14 leader 2 nextIndex[1]: 99  matchIndex[1]: 98
term 14 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {4167084737132787642 14 90} {5751817892629778536 14 91} {7864787617851131723 14 92} {8145474780844634028 14 93} {1601053922344303486 14 94} {6400956016296006552 14 95} {7464972687365796627 14 96} {5080018727246530761 14 97} {720517587456803757 14 98}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {4167084737132787642 14 90} {5751817892629778536 14 91} {7864787617851131723 14 92} {8145474780844634028 14 93} {1601053922344303486 14 94} {6400956016296006552 14 95} {7464972687365796627 14 96} {5080018727246530761 14 97} {720517587456803757 14 98}]
------------------------------------------------------
flag 12007 term 14 leader 2 nextIndex[0]: 99  matchIndex[0]: 98
term 14 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
flag 6120 term 14 leader 2 nextIndex[1]: 99  matchIndex[1]: 98
term 14 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {4167084737132787642 14 90} {5751817892629778536 14 91} {7864787617851131723 14 92} {8145474780844634028 14 93} {1601053922344303486 14 94} {6400956016296006552 14 95} {7464972687365796627 14 96} {5080018727246530761 14 97} {720517587456803757 14 98}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {4167084737132787642 14 90} {5751817892629778536 14 91} {7864787617851131723 14 92} {8145474780844634028 14 93} {1601053922344303486 14 94} {6400956016296006552 14 95} {7464972687365796627 14 96} {5080018727246530761 14 97} {720517587456803757 14 98}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 99->98
------------------------------------------------------
flag 26276 term 14 leader 2 nextIndex[0]: 99  matchIndex[0]: 98
term 14 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 14 leader 2 nextIndex[1]: 0  matchIndex[1]: 98
term 14 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 14
------------------------------------------------------
term 14 server 1 InstallSnapshot fail
rf.commitIndex 98 args.LastIncludedIndex 89
------------------------------------------------------
term 14 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 90 matchIndex[1] 89 
------------------------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {4167084737132787642 14 90} {5751817892629778536 14 91} {7864787617851131723 14 92} {8145474780844634028 14 93} {1601053922344303486 14 94} {6400956016296006552 14 95} {7464972687365796627 14 96} {5080018727246530761 14 97} {720517587456803757 14 98}]
------------------------------------------------------
client write log 3072177543054836895 (index 99) to leader 2
flag 86670 term 14 leader 2 nextIndex[0]: 99  matchIndex[0]: 98
term 14 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
flag 67041 term 14 leader 2 nextIndex[1]: 90  matchIndex[1]: 89
term 14 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 98 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=99
leader log:
[{snapshot 14 89} {4167084737132787642 14 90} {5751817892629778536 14 91} {7864787617851131723 14 92} {8145474780844634028 14 93} {1601053922344303486 14 94} {6400956016296006552 14 95} {7464972687365796627 14 96} {5080018727246530761 14 97} {720517587456803757 14 98} {3072177543054836895 14 99}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=99
leader log:
[{snapshot 14 89} {4167084737132787642 14 90} {5751817892629778536 14 91} {7864787617851131723 14 92} {8145474780844634028 14 93} {1601053922344303486 14 94} {6400956016296006552 14 95} {7464972687365796627 14 96} {5080018727246530761 14 97} {720517587456803757 14 98} {3072177543054836895 14 99}]
------------------------------------------------------
term 14 Server2 start snapshot! index=99
term 14 server2 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=99
-------------------------------------------------------------
flag 51619 term 14 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 14 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 99 
------------------------------------------------------
flag 11725 term 14 leader 2 nextIndex[1]: 100  matchIndex[1]: 99
term 14 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 99 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=99
leader log:
[{snapshot 14 99}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=99
leader log:
[{snapshot 14 99}]
------------------------------------------------------
term 14 Server0 start snapshot! index=99
term 14 server0 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=99
-------------------------------------------------------------
term 14 Server1 start snapshot! index=99
term 14 server1 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=99
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82390 term 14 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 14 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 99 
------------------------------------------------------
flag 16803 term 14 leader 2 nextIndex[1]: 100  matchIndex[1]: 99
term 14 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 99 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=99
leader log:
[{snapshot 14 99}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=99
leader log:
[{snapshot 14 99}]
------------------------------------------------------
flag 82093 term 14 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 14 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 99 
------------------------------------------------------
flag 26087 term 14 leader 2 nextIndex[1]: 100  matchIndex[1]: 99
term 14 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 99 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=99
leader log:
[{snapshot 14 99}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=99
leader log:
[{snapshot 14 99}]
------------------------------------------------------
flag 64828 term 14 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 14 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 99 
------------------------------------------------------
flag 98875 term 14 leader 2 nextIndex[1]: 100  matchIndex[1]: 99
term 14 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 99 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=99
leader log:
[{snapshot 14 99}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=99
leader log:
[{snapshot 14 99}]
------------------------------------------------------
flag 8442 term 14 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 14 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 99 
------------------------------------------------------
flag 9686 term 14 leader 2 nextIndex[1]: 100  matchIndex[1]: 99
term 14 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 99 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=99
leader log:
[{snapshot 14 99}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=99
leader log:
[{snapshot 14 99}]
------------------------------------------------------
flag 48790 term 14 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 14 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 99 
------------------------------------------------------
flag 75191 term 14 leader 2 nextIndex[1]: 100  matchIndex[1]: 99
term 14 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 99 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=99
leader log:
[{snapshot 14 99}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=99
leader log:
[{snapshot 14 99}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 8635689739660182596 (index 100) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5611 term 14 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 14 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 99 
------------------------------------------------------
flag 31502 term 14 leader 2 nextIndex[1]: 100  matchIndex[1]: 99
term 14 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 99 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=101
update matchIndex[1]=100
update leader CommitIndex=100
leader log:
[{snapshot 14 99} {8635689739660182596 14 100}]
------------------------------------------------------
flag 9915 term 14 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 14 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 100 
------------------------------------------------------
flag 63495 term 14 leader 2 nextIndex[1]: 101  matchIndex[1]: 100
term 14 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 14 leaderCommit: 100 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=101
update matchIndex[1]=100
update leader CommitIndex=100
leader log:
[{snapshot 14 99} {8635689739660182596 14 100}]
------------------------------------------------------
client write log 2140055783339208306 (index 101) to leader 2
client write log 607423303230424471 (index 102) to leader 2
client write log 5546146256405427982 (index 103) to leader 2
client write log 1209368682006134594 (index 104) to leader 2
client write log 290242064934741888 (index 105) to leader 2
client write log 8151546808658800172 (index 106) to leader 2
client write log 3855547534144155515 (index 107) to leader 2
client write log 4734072281046311991 (index 108) to leader 2
client write log 4200770355633845063 (index 109) to leader 2
client write log 7187972349414623792 (index 110) to leader 2
client write log 8733391978894308335 (index 111) to leader 2
client write log 1485920072489422783 (index 112) to leader 2
client write log 6241794566535198656 (index 113) to leader 2
client write log 8854774888171815519 (index 114) to leader 2
flag 11084 term 14 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 14 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 100 
------------------------------------------------------
flag 23502 term 14 leader 2 nextIndex[1]: 101  matchIndex[1]: 100
term 14 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 14 leaderCommit: 100 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 14 99} {8635689739660182596 14 100} {2140055783339208306 14 101} {607423303230424471 14 102} {5546146256405427982 14 103} {1209368682006134594 14 104} {290242064934741888 14 105} {8151546808658800172 14 106} {3855547534144155515 14 107} {4734072281046311991 14 108} {4200770355633845063 14 109} {7187972349414623792 14 110} {8733391978894308335 14 111} {1485920072489422783 14 112} {6241794566535198656 14 113} {8854774888171815519 14 114}]
------------------------------------------------------
term 14 Server2 start snapshot! index=109
term 14 server2 snapshot success
lastIncludedIndex=109 lastApplied=110 lastIndex=114
-------------------------------------------------------------
term 14 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 14 leader 2 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 14
------------------------------------------------------
flag 68017 term 14 leader 2 nextIndex[1]: 115  matchIndex[1]: 114
term 14 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 14 leaderCommit: 114 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 14 109} {7187972349414623792 14 110} {8733391978894308335 14 111} {1485920072489422783 14 112} {6241794566535198656 14 113} {8854774888171815519 14 114}]
------------------------------------------------------
term 14 Server1 start snapshot! index=109
term 14 server1 snapshot success
lastIncludedIndex=109 lastApplied=110 lastIndex=114
-------------------------------------------------------------
!!!!!!connect server 0
client write log 8518827547603535907 (index 115) to leader 2
term 14 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 14 leader 2 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 14
------------------------------------------------------
flag 58829 term 14 leader 2 nextIndex[1]: 115  matchIndex[1]: 114
term 14 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 14 leaderCommit: 114 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 14 109} {7187972349414623792 14 110} {8733391978894308335 14 111} {1485920072489422783 14 112} {6241794566535198656 14 113} {8854774888171815519 14 114} {8518827547603535907 14 115}]
------------------------------------------------------
term 15 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 14 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 16 server 0 vote for server 2
term 16 server 2 get vote from server 0
term 16 server 2 become leader
------------------------------------------------------
term 16 server 1 vote for server 2
term 16 server 2 get outdate rpc reply from server 1
flag 45184 term 16 leader 2 nextIndex[0]: 116  matchIndex[0]: 0
term 16 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 14 leaderCommit: 115 
------------------------------------------------------
flag 23579 term 16 leader 2 nextIndex[1]: 116  matchIndex[1]: 0
term 16 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 14 leaderCommit: 115 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 14 109} {7187972349414623792 14 110} {8733391978894308335 14 111} {1485920072489422783 14 112} {6241794566535198656 14 113} {8854774888171815519 14 114} {8518827547603535907 14 115}]
------------------------------------------------------
term 16 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 116->115
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 16 leader 2 nextIndex[0]: 100  matchIndex[0]: 0
term 16 leader 2 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 14
------------------------------------------------------
flag 96896 term 16 leader 2 nextIndex[1]: 116  matchIndex[1]: 115
term 16 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 14 leaderCommit: 115 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 14 109} {7187972349414623792 14 110} {8733391978894308335 14 111} {1485920072489422783 14 112} {6241794566535198656 14 113} {8854774888171815519 14 114} {8518827547603535907 14 115}]
------------------------------------------------------
term 16 server 0 InstallSnapshot success
------------------------------------------------------
term 16 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 110 matchIndex[0] 109 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 109 rf.lastIncludedTerm 14 rf.commitIndex 109 rf.lastApplied 109
flag 33479 term 16 leader 2 nextIndex[0]: 110  matchIndex[0]: 109
term 16 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 14 leaderCommit: 115 
------------------------------------------------------
flag 50815 term 16 leader 2 nextIndex[1]: 116  matchIndex[1]: 115
term 16 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 14 leaderCommit: 115 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 14 109} {7187972349414623792 14 110} {8733391978894308335 14 111} {1485920072489422783 14 112} {6241794566535198656 14 113} {8854774888171815519 14 114} {8518827547603535907 14 115}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=115
leader log:
[{snapshot 14 109} {7187972349414623792 14 110} {8733391978894308335 14 111} {1485920072489422783 14 112} {6241794566535198656 14 113} {8854774888171815519 14 114} {8518827547603535907 14 115}]
------------------------------------------------------
flag 88725 term 16 leader 2 nextIndex[0]: 116  matchIndex[0]: 115
term 16 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 14 leaderCommit: 115 
------------------------------------------------------
flag 78035 term 16 leader 2 nextIndex[1]: 116  matchIndex[1]: 115
term 16 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 14 leaderCommit: 115 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 14 109} {7187972349414623792 14 110} {8733391978894308335 14 111} {1485920072489422783 14 112} {6241794566535198656 14 113} {8854774888171815519 14 114} {8518827547603535907 14 115}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=115
leader log:
[{snapshot 14 109} {7187972349414623792 14 110} {8733391978894308335 14 111} {1485920072489422783 14 112} {6241794566535198656 14 113} {8854774888171815519 14 114} {8518827547603535907 14 115}]
------------------------------------------------------
flag 62473 term 16 leader 2 nextIndex[0]: 116  matchIndex[0]: 115
term 16 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 14 leaderCommit: 115 
------------------------------------------------------
flag 6023 term 16 leader 2 nextIndex[1]: 116  matchIndex[1]: 115
term 16 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 14 leaderCommit: 115 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 14 109} {7187972349414623792 14 110} {8733391978894308335 14 111} {1485920072489422783 14 112} {6241794566535198656 14 113} {8854774888171815519 14 114} {8518827547603535907 14 115}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=115
leader log:
[{snapshot 14 109} {7187972349414623792 14 110} {8733391978894308335 14 111} {1485920072489422783 14 112} {6241794566535198656 14 113} {8854774888171815519 14 114} {8518827547603535907 14 115}]
------------------------------------------------------
flag 64326 term 16 leader 2 nextIndex[0]: 116  matchIndex[0]: 115
term 16 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 14 leaderCommit: 115 
------------------------------------------------------
flag 88473 term 16 leader 2 nextIndex[1]: 116  matchIndex[1]: 115
term 16 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 14 leaderCommit: 115 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 14 109} {7187972349414623792 14 110} {8733391978894308335 14 111} {1485920072489422783 14 112} {6241794566535198656 14 113} {8854774888171815519 14 114} {8518827547603535907 14 115}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=115
leader log:
[{snapshot 14 109} {7187972349414623792 14 110} {8733391978894308335 14 111} {1485920072489422783 14 112} {6241794566535198656 14 113} {8854774888171815519 14 114} {8518827547603535907 14 115}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50261 term 16 leader 2 nextIndex[0]: 116  matchIndex[0]: 115
term 16 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 14 leaderCommit: 115 
------------------------------------------------------
flag 45027 term 16 leader 2 nextIndex[1]: 116  matchIndex[1]: 115
term 16 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 14 leaderCommit: 115 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:115 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=115
leader log:
[{snapshot 14 109} {7187972349414623792 14 110} {8733391978894308335 14 111} {1485920072489422783 14 112} {6241794566535198656 14 113} {8854774888171815519 14 114} {8518827547603535907 14 115}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 14 109} {7187972349414623792 14 110} {8733391978894308335 14 111} {1485920072489422783 14 112} {6241794566535198656 14 113} {8854774888171815519 14 114} {8518827547603535907 14 115}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88848 term 16 leader 2 nextIndex[0]: 116  matchIndex[0]: 115
term 16 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 14 leaderCommit: 115 
------------------------------------------------------
flag 8131 term 16 leader 2 nextIndex[1]: 116  matchIndex[1]: 115
term 16 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 14 leaderCommit: 115 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 14 109} {7187972349414623792 14 110} {8733391978894308335 14 111} {1485920072489422783 14 112} {6241794566535198656 14 113} {8854774888171815519 14 114} {8518827547603535907 14 115}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=115
leader log:
[{snapshot 14 109} {7187972349414623792 14 110} {8733391978894308335 14 111} {1485920072489422783 14 112} {6241794566535198656 14 113} {8854774888171815519 14 114} {8518827547603535907 14 115}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 7023058031331766900 (index 116) to leader 2
flag 29764 term 16 leader 2 nextIndex[0]: 116  matchIndex[0]: 115
term 16 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 14 leaderCommit: 115 
------------------------------------------------------
flag 31499 term 16 leader 2 nextIndex[1]: 116  matchIndex[1]: 115
term 16 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 14 leaderCommit: 115 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=116
leader log:
[{snapshot 14 109} {7187972349414623792 14 110} {8733391978894308335 14 111} {1485920072489422783 14 112} {6241794566535198656 14 113} {8854774888171815519 14 114} {8518827547603535907 14 115} {7023058031331766900 16 116}]
------------------------------------------------------
flag 3307 term 16 leader 2 nextIndex[0]: 116  matchIndex[0]: 115
term 16 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 14 leaderCommit: 116 
------------------------------------------------------
flag 18408 term 16 leader 2 nextIndex[1]: 117  matchIndex[1]: 116
term 16 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 16 leaderCommit: 116 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=116
leader log:
[{snapshot 14 109} {7187972349414623792 14 110} {8733391978894308335 14 111} {1485920072489422783 14 112} {6241794566535198656 14 113} {8854774888171815519 14 114} {8518827547603535907 14 115} {7023058031331766900 16 116}]
------------------------------------------------------
client write log 6716887543102786543 (index 117) to leader 2
client write log 9124264071850758716 (index 118) to leader 2
client write log 733463542112106075 (index 119) to leader 2
client write log 3378421187641979707 (index 120) to leader 2
client write log 8281098410597513658 (index 121) to leader 2
client write log 6257261586672855386 (index 122) to leader 2
client write log 4453529191023148111 (index 123) to leader 2
client write log 871071772697446529 (index 124) to leader 2
client write log 468477148352660432 (index 125) to leader 2
client write log 6324752276347451546 (index 126) to leader 2
client write log 5852837215188617586 (index 127) to leader 2
client write log 4282997482732072131 (index 128) to leader 2
client write log 8349667898725519606 (index 129) to leader 2
client write log 1069751375801389599 (index 130) to leader 2
client write log 7851977328523796066 (index 131) to leader 2
flag 40935 term 16 leader 2 nextIndex[0]: 116  matchIndex[0]: 115
term 16 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 14 leaderCommit: 116 
------------------------------------------------------
flag 18966 term 16 leader 2 nextIndex[1]: 117  matchIndex[1]: 116
term 16 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 16 leaderCommit: 116 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=132
update matchIndex[1]=131
update leader CommitIndex=131
leader log:
[{snapshot 14 109} {7187972349414623792 14 110} {8733391978894308335 14 111} {1485920072489422783 14 112} {6241794566535198656 14 113} {8854774888171815519 14 114} {8518827547603535907 14 115} {7023058031331766900 16 116} {6716887543102786543 16 117} {9124264071850758716 16 118} {733463542112106075 16 119} {3378421187641979707 16 120} {8281098410597513658 16 121} {6257261586672855386 16 122} {4453529191023148111 16 123} {871071772697446529 16 124} {468477148352660432 16 125} {6324752276347451546 16 126} {5852837215188617586 16 127} {4282997482732072131 16 128} {8349667898725519606 16 129} {1069751375801389599 16 130} {7851977328523796066 16 131}]
------------------------------------------------------
term 16 Server2 start snapshot! index=119
term 16 server2 snapshot success
lastIncludedIndex=119 lastApplied=120 lastIndex=131
-------------------------------------------------------------
term 16 Server2 start snapshot! index=129
term 16 server2 snapshot success
lastIncludedIndex=129 lastApplied=130 lastIndex=131
-------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 116->115
------------------------------------------------------
term 16 leader 2 nextIndex[0]: 0  matchIndex[0]: 115
term 16 leader 2 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 16
------------------------------------------------------
flag 70380 term 16 leader 2 nextIndex[1]: 132  matchIndex[1]: 131
term 16 leader 2 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 16 leaderCommit: 131 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=132
update matchIndex[1]=131
update leader CommitIndex=131
leader log:
[{snapshot 16 129} {1069751375801389599 16 130} {7851977328523796066 16 131}]
------------------------------------------------------
term 16 Server1 start snapshot! index=119
term 16 server1 snapshot success
lastIncludedIndex=119 lastApplied=120 lastIndex=131
-------------------------------------------------------------
term 16 Server1 start snapshot! index=129
term 16 server1 snapshot success
lastIncludedIndex=129 lastApplied=130 lastIndex=131
-------------------------------------------------------------
!!!!!!connect server 0
client write log 7345246804723295090 (index 132) to leader 2
term 16 leader 2 nextIndex[0]: 0  matchIndex[0]: 115
term 16 leader 2 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 16
------------------------------------------------------
flag 2877 term 16 leader 2 nextIndex[1]: 132  matchIndex[1]: 131
term 16 leader 2 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 16 leaderCommit: 131 
------------------------------------------------------
term 17 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 16 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 18 server 1 vote for server 2
term 18 server 2 get vote from server 1
term 18 server 2 become leader
------------------------------------------------------
term 18 server 0 vote for server 2
term 18 server 2 get outdate rpc reply from server 0
flag 76253 term 18 leader 2 nextIndex[0]: 133  matchIndex[0]: 0
term 18 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 16 leaderCommit: 131 
------------------------------------------------------
flag 68229 term 18 leader 2 nextIndex[1]: 133  matchIndex[1]: 0
term 18 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 16 leaderCommit: 131 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=133
update matchIndex[1]=132
update leader CommitIndex=131
leader log:
[{snapshot 16 129} {1069751375801389599 16 130} {7851977328523796066 16 131} {7345246804723295090 16 132}]
------------------------------------------------------
term 18 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 133->132
------------------------------------------------------
term 18 leader 2 nextIndex[0]: 116  matchIndex[0]: 0
term 18 leader 2 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 16
------------------------------------------------------
flag 93072 term 18 leader 2 nextIndex[1]: 133  matchIndex[1]: 132
term 18 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 16 leaderCommit: 131 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=133
update matchIndex[1]=132
update leader CommitIndex=131
leader log:
[{snapshot 16 129} {1069751375801389599 16 130} {7851977328523796066 16 131} {7345246804723295090 16 132}]
------------------------------------------------------
term 18 server 0 InstallSnapshot success
------------------------------------------------------
term 18 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 130 matchIndex[0] 129 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 129 rf.lastIncludedTerm 16 rf.commitIndex 129 rf.lastApplied 129
term 18 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 20663 term 18 leader 2 nextIndex[0]: 130  matchIndex[0]: 129
term 18 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 16 leaderCommit: 131 
------------------------------------------------------
flag 62315 term 18 leader 2 nextIndex[1]: 133  matchIndex[1]: 132
term 18 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 16 leaderCommit: 131 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=133
update matchIndex[1]=132
update leader CommitIndex=131
leader log:
[{snapshot 16 129} {1069751375801389599 16 130} {7851977328523796066 16 131} {7345246804723295090 16 132}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=131
leader log:
[{snapshot 16 129} {1069751375801389599 16 130} {7851977328523796066 16 131} {7345246804723295090 16 132}]
------------------------------------------------------
flag 32066 term 18 leader 2 nextIndex[0]: 133  matchIndex[0]: 132
term 18 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 16 leaderCommit: 131 
------------------------------------------------------
flag 870 term 18 leader 2 nextIndex[1]: 133  matchIndex[1]: 132
term 18 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 16 leaderCommit: 131 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=131
leader log:
[{snapshot 16 129} {1069751375801389599 16 130} {7851977328523796066 16 131} {7345246804723295090 16 132}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=133
update matchIndex[1]=132
update leader CommitIndex=131
leader log:
[{snapshot 16 129} {1069751375801389599 16 130} {7851977328523796066 16 131} {7345246804723295090 16 132}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52603 term 18 leader 2 nextIndex[0]: 133  matchIndex[0]: 132
term 18 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 16 leaderCommit: 131 
------------------------------------------------------
flag 31176 term 18 leader 2 nextIndex[1]: 133  matchIndex[1]: 132
term 18 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 16 leaderCommit: 131 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=131
leader log:
[{snapshot 16 129} {1069751375801389599 16 130} {7851977328523796066 16 131} {7345246804723295090 16 132}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=133
update matchIndex[1]=132
update leader CommitIndex=131
leader log:
[{snapshot 16 129} {1069751375801389599 16 130} {7851977328523796066 16 131} {7345246804723295090 16 132}]
------------------------------------------------------
flag 20348 term 18 leader 2 nextIndex[0]: 133  matchIndex[0]: 132
term 18 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 16 leaderCommit: 131 
------------------------------------------------------
flag 6026 term 18 leader 2 nextIndex[1]: 133  matchIndex[1]: 132
term 18 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 16 leaderCommit: 131 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=133
update matchIndex[1]=132
update leader CommitIndex=131
leader log:
[{snapshot 16 129} {1069751375801389599 16 130} {7851977328523796066 16 131} {7345246804723295090 16 132}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=131
leader log:
[{snapshot 16 129} {1069751375801389599 16 130} {7851977328523796066 16 131} {7345246804723295090 16 132}]
------------------------------------------------------
term 18 server 2 not vote for server 0, 任期不够新
term 18 server 0 get outdate rpc reply from server 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22971 term 18 leader 2 nextIndex[0]: 133  matchIndex[0]: 132
term 18 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 16 leaderCommit: 131 
------------------------------------------------------
flag 17015 term 18 leader 2 nextIndex[1]: 133  matchIndex[1]: 132
term 18 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 16 leaderCommit: 131 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=133
update matchIndex[1]=132
update leader CommitIndex=131
leader log:
[{snapshot 16 129} {1069751375801389599 16 130} {7851977328523796066 16 131} {7345246804723295090 16 132}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=131
leader log:
[{snapshot 16 129} {1069751375801389599 16 130} {7851977328523796066 16 131} {7345246804723295090 16 132}]
------------------------------------------------------
flag 48374 term 18 leader 2 nextIndex[0]: 133  matchIndex[0]: 132
term 18 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 16 leaderCommit: 131 
------------------------------------------------------
flag 66787 term 18 leader 2 nextIndex[1]: 133  matchIndex[1]: 132
term 18 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 16 leaderCommit: 131 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=133
update matchIndex[1]=132
update leader CommitIndex=131
leader log:
[{snapshot 16 129} {1069751375801389599 16 130} {7851977328523796066 16 131} {7345246804723295090 16 132}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=131
leader log:
[{snapshot 16 129} {1069751375801389599 16 130} {7851977328523796066 16 131} {7345246804723295090 16 132}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71195 term 18 leader 2 nextIndex[0]: 133  matchIndex[0]: 132
term 18 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 16 leaderCommit: 131 
------------------------------------------------------
flag 37183 term 18 leader 2 nextIndex[1]: 133  matchIndex[1]: 132
term 18 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 16 leaderCommit: 131 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:131 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=133
update matchIndex[1]=132
update leader CommitIndex=131
leader log:
[{snapshot 16 129} {1069751375801389599 16 130} {7851977328523796066 16 131} {7345246804723295090 16 132}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=131
leader log:
[{snapshot 16 129} {1069751375801389599 16 130} {7851977328523796066 16 131} {7345246804723295090 16 132}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72549 term 18 leader 2 nextIndex[0]: 133  matchIndex[0]: 132
term 18 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 16 leaderCommit: 131 
------------------------------------------------------
flag 7694 term 18 leader 2 nextIndex[1]: 133  matchIndex[1]: 132
term 18 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 16 leaderCommit: 131 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=133
update matchIndex[1]=132
update leader CommitIndex=131
leader log:
[{snapshot 16 129} {1069751375801389599 16 130} {7851977328523796066 16 131} {7345246804723295090 16 132}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=131
leader log:
[{snapshot 16 129} {1069751375801389599 16 130} {7851977328523796066 16 131} {7345246804723295090 16 132}]
------------------------------------------------------
flag 33186 term 18 leader 2 nextIndex[0]: 133  matchIndex[0]: 132
term 18 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 16 leaderCommit: 131 
------------------------------------------------------
flag 80756 term 18 leader 2 nextIndex[1]: 133  matchIndex[1]: 132
term 18 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 16 leaderCommit: 131 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:131 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=133
update matchIndex[1]=132
update leader CommitIndex=131
leader log:
[{snapshot 16 129} {1069751375801389599 16 130} {7851977328523796066 16 131} {7345246804723295090 16 132}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=131
leader log:
[{snapshot 16 129} {1069751375801389599 16 130} {7851977328523796066 16 131} {7345246804723295090 16 132}]
------------------------------------------------------
term 18 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80745 term 18 leader 2 nextIndex[0]: 133  matchIndex[0]: 132
term 18 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 16 leaderCommit: 131 
------------------------------------------------------
flag 9861 term 18 leader 2 nextIndex[1]: 133  matchIndex[1]: 132
term 18 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 16 leaderCommit: 131 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=131
leader log:
[{snapshot 16 129} {1069751375801389599 16 130} {7851977328523796066 16 131} {7345246804723295090 16 132}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=133
update matchIndex[1]=132
update leader CommitIndex=131
leader log:
[{snapshot 16 129} {1069751375801389599 16 130} {7851977328523796066 16 131} {7345246804723295090 16 132}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14871 term 18 leader 2 nextIndex[0]: 133  matchIndex[0]: 132
term 18 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 16 leaderCommit: 131 
------------------------------------------------------
flag 34782 term 18 leader 2 nextIndex[1]: 133  matchIndex[1]: 132
term 18 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 16 leaderCommit: 131 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=133
update matchIndex[1]=132
update leader CommitIndex=131
leader log:
[{snapshot 16 129} {1069751375801389599 16 130} {7851977328523796066 16 131} {7345246804723295090 16 132}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=131
leader log:
[{snapshot 16 129} {1069751375801389599 16 130} {7851977328523796066 16 131} {7345246804723295090 16 132}]
------------------------------------------------------
flag 61035 term 18 leader 2 nextIndex[0]: 133  matchIndex[0]: 132
term 18 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 16 leaderCommit: 131 
------------------------------------------------------
flag 92686 term 18 leader 2 nextIndex[1]: 133  matchIndex[1]: 132
term 18 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 16 leaderCommit: 131 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:131 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=133
update matchIndex[1]=132
update leader CommitIndex=131
leader log:
[{snapshot 16 129} {1069751375801389599 16 130} {7851977328523796066 16 131} {7345246804723295090 16 132}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=131
leader log:
[{snapshot 16 129} {1069751375801389599 16 130} {7851977328523796066 16 131} {7345246804723295090 16 132}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30509 term 18 leader 2 nextIndex[0]: 133  matchIndex[0]: 132
term 18 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 16 leaderCommit: 131 
------------------------------------------------------
flag 12394 term 18 leader 2 nextIndex[1]: 133  matchIndex[1]: 132
term 18 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 16 leaderCommit: 131 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=133
update matchIndex[1]=132
update leader CommitIndex=131
leader log:
[{snapshot 16 129} {1069751375801389599 16 130} {7851977328523796066 16 131} {7345246804723295090 16 132}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=131
leader log:
[{snapshot 16 129} {1069751375801389599 16 130} {7851977328523796066 16 131} {7345246804723295090 16 132}]
------------------------------------------------------
flag 74604 term 18 leader 2 nextIndex[0]: 133  matchIndex[0]: 132
term 18 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 16 leaderCommit: 131 
------------------------------------------------------
flag 26333 term 18 leader 2 nextIndex[1]: 133  matchIndex[1]: 132
term 18 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 16 leaderCommit: 131 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=133
update matchIndex[1]=132
update leader CommitIndex=131
leader log:
[{snapshot 16 129} {1069751375801389599 16 130} {7851977328523796066 16 131} {7345246804723295090 16 132}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=131
leader log:
[{snapshot 16 129} {1069751375801389599 16 130} {7851977328523796066 16 131} {7345246804723295090 16 132}]
------------------------------------------------------
flag 20232 term 18 leader 2 nextIndex[0]: 133  matchIndex[0]: 132
term 18 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 16 leaderCommit: 131 
------------------------------------------------------
flag 52083 term 18 leader 2 nextIndex[1]: 133  matchIndex[1]: 132
term 18 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 16 leaderCommit: 131 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=133
update matchIndex[1]=132
update leader CommitIndex=131
leader log:
[{snapshot 16 129} {1069751375801389599 16 130} {7851977328523796066 16 131} {7345246804723295090 16 132}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=131
leader log:
[{snapshot 16 129} {1069751375801389599 16 130} {7851977328523796066 16 131} {7345246804723295090 16 132}]
------------------------------------------------------
flag 38233 term 18 leader 2 nextIndex[0]: 133  matchIndex[0]: 132
term 18 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 16 leaderCommit: 131 
------------------------------------------------------
flag 99860 term 18 leader 2 nextIndex[1]: 133  matchIndex[1]: 132
term 18 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 16 leaderCommit: 131 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:131 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=131
leader log:
[{snapshot 16 129} {1069751375801389599 16 130} {7851977328523796066 16 131} {7345246804723295090 16 132}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=133
update matchIndex[1]=132
update leader CommitIndex=131
leader log:
[{snapshot 16 129} {1069751375801389599 16 130} {7851977328523796066 16 131} {7345246804723295090 16 132}]
------------------------------------------------------
flag 18663 term 18 leader 2 nextIndex[0]: 133  matchIndex[0]: 132
term 18 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 16 leaderCommit: 131 
------------------------------------------------------
flag 90137 term 18 leader 2 nextIndex[1]: 133  matchIndex[1]: 132
term 18 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 16 leaderCommit: 131 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=133
update matchIndex[1]=132
update leader CommitIndex=131
leader log:
[{snapshot 16 129} {1069751375801389599 16 130} {7851977328523796066 16 131} {7345246804723295090 16 132}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=131
leader log:
[{snapshot 16 129} {1069751375801389599 16 130} {7851977328523796066 16 131} {7345246804723295090 16 132}]
------------------------------------------------------
client write log 7345246804723295090 (index 133) to leader 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87643 term 18 leader 2 nextIndex[0]: 133  matchIndex[0]: 132
term 18 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 16 leaderCommit: 131 
------------------------------------------------------
flag 48922 term 18 leader 2 nextIndex[1]: 133  matchIndex[1]: 132
term 18 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 16 leaderCommit: 131 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=133
leader log:
[{snapshot 16 129} {1069751375801389599 16 130} {7851977328523796066 16 131} {7345246804723295090 16 132} {7345246804723295090 18 133}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=133
leader log:
[{snapshot 16 129} {1069751375801389599 16 130} {7851977328523796066 16 131} {7345246804723295090 16 132} {7345246804723295090 18 133}]
------------------------------------------------------
flag 58668 term 18 leader 2 nextIndex[0]: 134  matchIndex[0]: 133
term 18 leader 2 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 18 leaderCommit: 133 
------------------------------------------------------
flag 77428 term 18 leader 2 nextIndex[1]: 134  matchIndex[1]: 133
term 18 leader 2 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 18 leaderCommit: 133 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=133
leader log:
[{snapshot 16 129} {1069751375801389599 16 130} {7851977328523796066 16 131} {7345246804723295090 16 132} {7345246804723295090 18 133}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=133
leader log:
[{snapshot 16 129} {1069751375801389599 16 130} {7851977328523796066 16 131} {7345246804723295090 16 132} {7345246804723295090 18 133}]
------------------------------------------------------
flag 97111 term 18 leader 2 nextIndex[0]: 134  matchIndex[0]: 133
term 18 leader 2 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 18 leaderCommit: 133 
------------------------------------------------------
flag 57219 term 18 leader 2 nextIndex[1]: 134  matchIndex[1]: 133
term 18 leader 2 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 18 leaderCommit: 133 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=133
leader log:
[{snapshot 16 129} {1069751375801389599 16 130} {7851977328523796066 16 131} {7345246804723295090 16 132} {7345246804723295090 18 133}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=133
leader log:
[{snapshot 16 129} {1069751375801389599 16 130} {7851977328523796066 16 131} {7345246804723295090 16 132} {7345246804723295090 18 133}]
------------------------------------------------------
flag 90475 term 18 leader 2 nextIndex[0]: 134  matchIndex[0]: 133
term 18 leader 2 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 18 leaderCommit: 133 
------------------------------------------------------
flag 14305 term 18 leader 2 nextIndex[1]: 134  matchIndex[1]: 133
term 18 leader 2 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 18 leaderCommit: 133 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=133
leader log:
[{snapshot 16 129} {1069751375801389599 16 130} {7851977328523796066 16 131} {7345246804723295090 16 132} {7345246804723295090 18 133}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=133
leader log:
[{snapshot 16 129} {1069751375801389599 16 130} {7851977328523796066 16 131} {7345246804723295090 16 132} {7345246804723295090 18 133}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23271 term 18 leader 2 nextIndex[0]: 134  matchIndex[0]: 133
term 18 leader 2 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 18 leaderCommit: 133 
------------------------------------------------------
flag 3325 term 18 leader 2 nextIndex[1]: 134  matchIndex[1]: 133
term 18 leader 2 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 18 leaderCommit: 133 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=133
leader log:
[{snapshot 16 129} {1069751375801389599 16 130} {7851977328523796066 16 131} {7345246804723295090 16 132} {7345246804723295090 18 133}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=133
leader log:
[{snapshot 16 129} {1069751375801389599 16 130} {7851977328523796066 16 131} {7345246804723295090 16 132} {7345246804723295090 18 133}]
------------------------------------------------------
term 18 server 2 not vote for server 0, 任期不够新
term 18 server 0 get outdate rpc reply from server 2
flag 33071 term 18 leader 2 nextIndex[0]: 134  matchIndex[0]: 133
term 18 leader 2 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 18 leaderCommit: 133 
------------------------------------------------------
flag 2142 term 18 leader 2 nextIndex[1]: 134  matchIndex[1]: 133
term 18 leader 2 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 18 leaderCommit: 133 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=133
leader log:
[{snapshot 16 129} {1069751375801389599 16 130} {7851977328523796066 16 131} {7345246804723295090 16 132} {7345246804723295090 18 133}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=133
leader log:
[{snapshot 16 129} {1069751375801389599 16 130} {7851977328523796066 16 131} {7345246804723295090 16 132} {7345246804723295090 18 133}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70204 term 18 leader 2 nextIndex[0]: 134  matchIndex[0]: 133
term 18 leader 2 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 18 leaderCommit: 133 
------------------------------------------------------
flag 51025 term 18 leader 2 nextIndex[1]: 134  matchIndex[1]: 133
term 18 leader 2 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 18 leaderCommit: 133 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=133
leader log:
[{snapshot 16 129} {1069751375801389599 16 130} {7851977328523796066 16 131} {7345246804723295090 16 132} {7345246804723295090 18 133}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=133
leader log:
[{snapshot 16 129} {1069751375801389599 16 130} {7851977328523796066 16 131} {7345246804723295090 16 132} {7345246804723295090 18 133}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 86279 term 18 leader 2 nextIndex[0]: 134  matchIndex[0]: 133
term 18 leader 2 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 18 leaderCommit: 133 
------------------------------------------------------
flag 49930 term 18 leader 2 nextIndex[1]: 134  matchIndex[1]: 133
term 18 leader 2 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 18 leaderCommit: 133 
------------------------------------------------------
flag 27636 term 18 leader 2 nextIndex[0]: 134  matchIndex[0]: 133
term 18 leader 2 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 18 leaderCommit: 133 
------------------------------------------------------
flag 1755 term 18 leader 2 nextIndex[1]: 134  matchIndex[1]: 133
term 18 leader 2 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 18 leaderCommit: 133 
------------------------------------------------------
flag 29528 term 18 leader 2 nextIndex[0]: 134  matchIndex[0]: 133
term 18 leader 2 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 18 leaderCommit: 133 
------------------------------------------------------
flag 50689 term 18 leader 2 nextIndex[1]: 134  matchIndex[1]: 133
term 18 leader 2 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 18 leaderCommit: 133 
------------------------------------------------------
term 18 server 1 not vote for server 0, 任期不够新
term 18 server 0 get outdate rpc reply from server 1
term 19 server 1 vote for server 0
term 19 server 0 get vote from server 1
term 19 server 0 become leader
------------------------------------------------------
flag 39659 term 19 leader 0 nextIndex[1]: 134  matchIndex[1]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 18 leaderCommit: 133 
------------------------------------------------------
flag 49805 term 19 leader 0 nextIndex[2]: 134  matchIndex[2]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 18 leaderCommit: 133 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=133
leader log:
[{snapshot 16 129} {1069751375801389599 16 130} {7851977328523796066 16 131} {7345246804723295090 16 132} {7345246804723295090 18 133}]
------------------------------------------------------
flag 54467 term 18 leader 2 nextIndex[0]: 134  matchIndex[0]: 133
term 18 leader 2 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 18 leaderCommit: 133 
------------------------------------------------------
flag 70626 term 18 leader 2 nextIndex[1]: 134  matchIndex[1]: 133
term 18 leader 2 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 18 leaderCommit: 133 
------------------------------------------------------
client write log 2358568979029134285 (index 134) to leader 0
flag 69416 term 19 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 19 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 18 leaderCommit: 133 
------------------------------------------------------
flag 42724 term 19 leader 0 nextIndex[2]: 134  matchIndex[2]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 18 leaderCommit: 133 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=134
leader log:
[{snapshot 16 129} {1069751375801389599 16 130} {7851977328523796066 16 131} {7345246804723295090 16 132} {7345246804723295090 18 133} {2358568979029134285 19 134}]
------------------------------------------------------
flag 23294 term 18 leader 2 nextIndex[0]: 134  matchIndex[0]: 133
term 18 leader 2 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 18 leaderCommit: 133 
------------------------------------------------------
flag 47825 term 18 leader 2 nextIndex[1]: 134  matchIndex[1]: 133
term 18 leader 2 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 18 leaderCommit: 133 
------------------------------------------------------
flag 53002 term 19 leader 0 nextIndex[1]: 135  matchIndex[1]: 134
term 19 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 19 leaderCommit: 134 
------------------------------------------------------
flag 29350 term 19 leader 0 nextIndex[2]: 134  matchIndex[2]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 18 leaderCommit: 134 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=134
leader log:
[{snapshot 16 129} {1069751375801389599 16 130} {7851977328523796066 16 131} {7345246804723295090 16 132} {7345246804723295090 18 133} {2358568979029134285 19 134}]
------------------------------------------------------
client write log 732809534854266378 (index 135) to leader 0
client write log 7296101371410321443 (index 136) to leader 0
client write log 5649335853293212078 (index 137) to leader 0
client write log 2165992010327443677 (index 138) to leader 0
client write log 7349059763522211289 (index 139) to leader 0
client write log 1599149642303548570 (index 140) to leader 0
client write log 6503283884205428335 (index 141) to leader 0
client write log 6358218919034539298 (index 142) to leader 0
client write log 7150767682116832047 (index 143) to leader 0
client write log 3246509636080731563 (index 144) to leader 0
client write log 8484998768638650138 (index 145) to leader 0
client write log 8748583336158158284 (index 146) to leader 0
flag 51342 term 18 leader 2 nextIndex[0]: 134  matchIndex[0]: 133
term 18 leader 2 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 18 leaderCommit: 133 
------------------------------------------------------
flag 68025 term 18 leader 2 nextIndex[1]: 134  matchIndex[1]: 133
term 18 leader 2 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 18 leaderCommit: 133 
------------------------------------------------------
flag 79952 term 19 leader 0 nextIndex[1]: 135  matchIndex[1]: 134
term 19 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 19 leaderCommit: 134 
------------------------------------------------------
flag 37982 term 19 leader 0 nextIndex[2]: 134  matchIndex[2]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 18 leaderCommit: 134 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 16 129} {1069751375801389599 16 130} {7851977328523796066 16 131} {7345246804723295090 16 132} {7345246804723295090 18 133} {2358568979029134285 19 134} {732809534854266378 19 135} {7296101371410321443 19 136} {5649335853293212078 19 137} {2165992010327443677 19 138} {7349059763522211289 19 139} {1599149642303548570 19 140} {6503283884205428335 19 141} {6358218919034539298 19 142} {7150767682116832047 19 143} {3246509636080731563 19 144} {8484998768638650138 19 145} {8748583336158158284 19 146}]
------------------------------------------------------
term 19 Server0 start snapshot! index=139
term 19 server0 snapshot success
lastIncludedIndex=139 lastApplied=140 lastIndex=146
-------------------------------------------------------------
flag 65112 term 18 leader 2 nextIndex[0]: 134  matchIndex[0]: 133
term 18 leader 2 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 18 leaderCommit: 133 
------------------------------------------------------
flag 12058 term 18 leader 2 nextIndex[1]: 134  matchIndex[1]: 133
term 18 leader 2 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 18 leaderCommit: 133 
------------------------------------------------------
flag 74633 term 19 leader 0 nextIndex[1]: 147  matchIndex[1]: 146
term 19 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 19 leaderCommit: 146 
------------------------------------------------------
term 19 leader 0 nextIndex[2]: 134  matchIndex[2]: 0
term 19 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 19
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 19 139} {1599149642303548570 19 140} {6503283884205428335 19 141} {6358218919034539298 19 142} {7150767682116832047 19 143} {3246509636080731563 19 144} {8484998768638650138 19 145} {8748583336158158284 19 146}]
------------------------------------------------------
term 19 Server1 start snapshot! index=139
term 19 server1 snapshot success
lastIncludedIndex=139 lastApplied=140 lastIndex=146
-------------------------------------------------------------
!!!!!!connect server 2
client write log 8925368102710663750 (index 134) to leader 2
flag 97726 term 18 leader 2 nextIndex[0]: 134  matchIndex[0]: 133
term 18 leader 2 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 18 leaderCommit: 133 
------------------------------------------------------
flag 80956 term 18 leader 2 nextIndex[1]: 134  matchIndex[1]: 133
term 18 leader 2 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 18 leaderCommit: 133 
------------------------------------------------------
term 19 server 1 AppendEntries false 领导者任期过期 args.Term 18
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 19 server 0 AppendEntries false 领导者任期过期 args.Term 18
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 134->133
------------------------------------------------------
flag 19549 term 19 leader 0 nextIndex[1]: 147  matchIndex[1]: 146
term 19 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 19 leaderCommit: 146 
------------------------------------------------------
term 19 leader 0 nextIndex[2]: 0  matchIndex[2]: 0
term 19 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 19
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 19 139} {1599149642303548570 19 140} {6503283884205428335 19 141} {6358218919034539298 19 142} {7150767682116832047 19 143} {3246509636080731563 19 144} {8484998768638650138 19 145} {8748583336158158284 19 146}]
------------------------------------------------------
term 19 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
term 19 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 140 matchIndex[2] 139 
------------------------------------------------------------------------
rf.lastIncludedIndex 139 rf.lastIncludedTerm 19 rf.commitIndex 139 rf.lastApplied 139
flag 68978 term 19 leader 0 nextIndex[1]: 147  matchIndex[1]: 146
term 19 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 19 leaderCommit: 146 
------------------------------------------------------
flag 50560 term 19 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 19 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 19 leaderCommit: 146 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=147
update matchIndex[2]=146
update leader CommitIndex=146
leader log:
[{snapshot 19 139} {1599149642303548570 19 140} {6503283884205428335 19 141} {6358218919034539298 19 142} {7150767682116832047 19 143} {3246509636080731563 19 144} {8484998768638650138 19 145} {8748583336158158284 19 146}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 19 139} {1599149642303548570 19 140} {6503283884205428335 19 141} {6358218919034539298 19 142} {7150767682116832047 19 143} {3246509636080731563 19 144} {8484998768638650138 19 145} {8748583336158158284 19 146}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 147->146
------------------------------------------------------
flag 98537 term 19 leader 0 nextIndex[1]: 147  matchIndex[1]: 146
term 19 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 19 leaderCommit: 146 
------------------------------------------------------
term 19 leader 0 nextIndex[2]: 0  matchIndex[2]: 146
term 19 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 19
------------------------------------------------------
term 19 server 2 InstallSnapshot fail
rf.commitIndex 139 args.LastIncludedIndex 139
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
term 19 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 140 matchIndex[2] 139 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 19 139} {1599149642303548570 19 140} {6503283884205428335 19 141} {6358218919034539298 19 142} {7150767682116832047 19 143} {3246509636080731563 19 144} {8484998768638650138 19 145} {8748583336158158284 19 146}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 140->139
------------------------------------------------------
flag 81540 term 19 leader 0 nextIndex[1]: 147  matchIndex[1]: 146
term 19 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 19 leaderCommit: 146 
------------------------------------------------------
term 19 leader 0 nextIndex[2]: 0  matchIndex[2]: 139
term 19 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 19
------------------------------------------------------
term 19 server 2 InstallSnapshot fail
rf.commitIndex 139 args.LastIncludedIndex 139
------------------------------------------------------
term 19 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 140 matchIndex[2] 139 
------------------------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 19 139} {1599149642303548570 19 140} {6503283884205428335 19 141} {6358218919034539298 19 142} {7150767682116832047 19 143} {3246509636080731563 19 144} {8484998768638650138 19 145} {8748583336158158284 19 146}]
------------------------------------------------------
flag 76312 term 19 leader 0 nextIndex[1]: 147  matchIndex[1]: 146
term 19 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 19 leaderCommit: 146 
------------------------------------------------------
flag 30540 term 19 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 19 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 19 leaderCommit: 146 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=147
update matchIndex[2]=146
update leader CommitIndex=146
leader log:
[{snapshot 19 139} {1599149642303548570 19 140} {6503283884205428335 19 141} {6358218919034539298 19 142} {7150767682116832047 19 143} {3246509636080731563 19 144} {8484998768638650138 19 145} {8748583336158158284 19 146}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 19 139} {1599149642303548570 19 140} {6503283884205428335 19 141} {6358218919034539298 19 142} {7150767682116832047 19 143} {3246509636080731563 19 144} {8484998768638650138 19 145} {8748583336158158284 19 146}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42608 term 19 leader 0 nextIndex[1]: 147  matchIndex[1]: 146
term 19 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 19 leaderCommit: 146 
------------------------------------------------------
flag 37818 term 19 leader 0 nextIndex[2]: 147  matchIndex[2]: 146
term 19 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 19 leaderCommit: 146 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=147
update matchIndex[2]=146
update leader CommitIndex=146
leader log:
[{snapshot 19 139} {1599149642303548570 19 140} {6503283884205428335 19 141} {6358218919034539298 19 142} {7150767682116832047 19 143} {3246509636080731563 19 144} {8484998768638650138 19 145} {8748583336158158284 19 146}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 19 139} {1599149642303548570 19 140} {6503283884205428335 19 141} {6358218919034539298 19 142} {7150767682116832047 19 143} {3246509636080731563 19 144} {8484998768638650138 19 145} {8748583336158158284 19 146}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98616 term 19 leader 0 nextIndex[1]: 147  matchIndex[1]: 146
term 19 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 19 leaderCommit: 146 
------------------------------------------------------
flag 14775 term 19 leader 0 nextIndex[2]: 147  matchIndex[2]: 146
term 19 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 19 leaderCommit: 146 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=147
update matchIndex[2]=146
update leader CommitIndex=146
leader log:
[{snapshot 19 139} {1599149642303548570 19 140} {6503283884205428335 19 141} {6358218919034539298 19 142} {7150767682116832047 19 143} {3246509636080731563 19 144} {8484998768638650138 19 145} {8748583336158158284 19 146}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 19 139} {1599149642303548570 19 140} {6503283884205428335 19 141} {6358218919034539298 19 142} {7150767682116832047 19 143} {3246509636080731563 19 144} {8484998768638650138 19 145} {8748583336158158284 19 146}]
------------------------------------------------------
flag 33546 term 19 leader 0 nextIndex[1]: 147  matchIndex[1]: 146
term 19 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 19 leaderCommit: 146 
------------------------------------------------------
flag 8079 term 19 leader 0 nextIndex[2]: 147  matchIndex[2]: 146
term 19 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 19 leaderCommit: 146 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=147
update matchIndex[2]=146
update leader CommitIndex=146
leader log:
[{snapshot 19 139} {1599149642303548570 19 140} {6503283884205428335 19 141} {6358218919034539298 19 142} {7150767682116832047 19 143} {3246509636080731563 19 144} {8484998768638650138 19 145} {8748583336158158284 19 146}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 19 139} {1599149642303548570 19 140} {6503283884205428335 19 141} {6358218919034539298 19 142} {7150767682116832047 19 143} {3246509636080731563 19 144} {8484998768638650138 19 145} {8748583336158158284 19 146}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29656 term 19 leader 0 nextIndex[1]: 147  matchIndex[1]: 146
term 19 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 19 leaderCommit: 146 
------------------------------------------------------
flag 68878 term 19 leader 0 nextIndex[2]: 147  matchIndex[2]: 146
term 19 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 19 leaderCommit: 146 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 19 139} {1599149642303548570 19 140} {6503283884205428335 19 141} {6358218919034539298 19 142} {7150767682116832047 19 143} {3246509636080731563 19 144} {8484998768638650138 19 145} {8748583336158158284 19 146}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=147
update matchIndex[2]=146
update leader CommitIndex=146
leader log:
[{snapshot 19 139} {1599149642303548570 19 140} {6503283884205428335 19 141} {6358218919034539298 19 142} {7150767682116832047 19 143} {3246509636080731563 19 144} {8484998768638650138 19 145} {8748583336158158284 19 146}]
------------------------------------------------------
flag 23523 term 19 leader 0 nextIndex[1]: 147  matchIndex[1]: 146
term 19 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 19 leaderCommit: 146 
------------------------------------------------------
flag 69473 term 19 leader 0 nextIndex[2]: 147  matchIndex[2]: 146
term 19 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 19 leaderCommit: 146 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=147
update matchIndex[2]=146
update leader CommitIndex=146
leader log:
[{snapshot 19 139} {1599149642303548570 19 140} {6503283884205428335 19 141} {6358218919034539298 19 142} {7150767682116832047 19 143} {3246509636080731563 19 144} {8484998768638650138 19 145} {8748583336158158284 19 146}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 19 139} {1599149642303548570 19 140} {6503283884205428335 19 141} {6358218919034539298 19 142} {7150767682116832047 19 143} {3246509636080731563 19 144} {8484998768638650138 19 145} {8748583336158158284 19 146}]
------------------------------------------------------
term 19 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 3287 term 19 leader 0 nextIndex[1]: 147  matchIndex[1]: 146
term 19 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 19 leaderCommit: 146 
------------------------------------------------------
flag 38323 term 19 leader 0 nextIndex[2]: 147  matchIndex[2]: 146
term 19 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 19 leaderCommit: 146 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=147
update matchIndex[2]=146
update leader CommitIndex=146
leader log:
[{snapshot 19 139} {1599149642303548570 19 140} {6503283884205428335 19 141} {6358218919034539298 19 142} {7150767682116832047 19 143} {3246509636080731563 19 144} {8484998768638650138 19 145} {8748583336158158284 19 146}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 19 139} {1599149642303548570 19 140} {6503283884205428335 19 141} {6358218919034539298 19 142} {7150767682116832047 19 143} {3246509636080731563 19 144} {8484998768638650138 19 145} {8748583336158158284 19 146}]
------------------------------------------------------
flag 55647 term 19 leader 0 nextIndex[1]: 147  matchIndex[1]: 146
term 19 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 19 leaderCommit: 146 
------------------------------------------------------
flag 77308 term 19 leader 0 nextIndex[2]: 147  matchIndex[2]: 146
term 19 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 19 leaderCommit: 146 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=147
update matchIndex[2]=146
update leader CommitIndex=146
leader log:
[{snapshot 19 139} {1599149642303548570 19 140} {6503283884205428335 19 141} {6358218919034539298 19 142} {7150767682116832047 19 143} {3246509636080731563 19 144} {8484998768638650138 19 145} {8748583336158158284 19 146}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 19 139} {1599149642303548570 19 140} {6503283884205428335 19 141} {6358218919034539298 19 142} {7150767682116832047 19 143} {3246509636080731563 19 144} {8484998768638650138 19 145} {8748583336158158284 19 146}]
------------------------------------------------------
flag 67341 term 19 leader 0 nextIndex[1]: 147  matchIndex[1]: 146
term 19 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 19 leaderCommit: 146 
------------------------------------------------------
flag 83707 term 19 leader 0 nextIndex[2]: 147  matchIndex[2]: 146
term 19 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 19 leaderCommit: 146 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=147
update matchIndex[2]=146
update leader CommitIndex=146
leader log:
[{snapshot 19 139} {1599149642303548570 19 140} {6503283884205428335 19 141} {6358218919034539298 19 142} {7150767682116832047 19 143} {3246509636080731563 19 144} {8484998768638650138 19 145} {8748583336158158284 19 146}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 19 139} {1599149642303548570 19 140} {6503283884205428335 19 141} {6358218919034539298 19 142} {7150767682116832047 19 143} {3246509636080731563 19 144} {8484998768638650138 19 145} {8748583336158158284 19 146}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 147->146
------------------------------------------------------
flag 36681 term 19 leader 0 nextIndex[1]: 147  matchIndex[1]: 146
term 19 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 19 leaderCommit: 146 
------------------------------------------------------
term 19 leader 0 nextIndex[2]: 0  matchIndex[2]: 146
term 19 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 19
------------------------------------------------------
term 19 server 2 InstallSnapshot fail
rf.commitIndex 146 args.LastIncludedIndex 139
------------------------------------------------------
term 19 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 140 matchIndex[2] 139 
------------------------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 19 139} {1599149642303548570 19 140} {6503283884205428335 19 141} {6358218919034539298 19 142} {7150767682116832047 19 143} {3246509636080731563 19 144} {8484998768638650138 19 145} {8748583336158158284 19 146}]
------------------------------------------------------
flag 32435 term 19 leader 0 nextIndex[1]: 147  matchIndex[1]: 146
term 19 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 19 leaderCommit: 146 
------------------------------------------------------
flag 71513 term 19 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 19 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 19 leaderCommit: 146 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=147
update matchIndex[2]=146
update leader CommitIndex=146
leader log:
[{snapshot 19 139} {1599149642303548570 19 140} {6503283884205428335 19 141} {6358218919034539298 19 142} {7150767682116832047 19 143} {3246509636080731563 19 144} {8484998768638650138 19 145} {8748583336158158284 19 146}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 19 139} {1599149642303548570 19 140} {6503283884205428335 19 141} {6358218919034539298 19 142} {7150767682116832047 19 143} {3246509636080731563 19 144} {8484998768638650138 19 145} {8748583336158158284 19 146}]
------------------------------------------------------
flag 40776 term 19 leader 0 nextIndex[1]: 147  matchIndex[1]: 146
term 19 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 19 leaderCommit: 146 
------------------------------------------------------
flag 14642 term 19 leader 0 nextIndex[2]: 147  matchIndex[2]: 146
term 19 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 19 leaderCommit: 146 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 19 139} {1599149642303548570 19 140} {6503283884205428335 19 141} {6358218919034539298 19 142} {7150767682116832047 19 143} {3246509636080731563 19 144} {8484998768638650138 19 145} {8748583336158158284 19 146}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=147
update matchIndex[2]=146
update leader CommitIndex=146
leader log:
[{snapshot 19 139} {1599149642303548570 19 140} {6503283884205428335 19 141} {6358218919034539298 19 142} {7150767682116832047 19 143} {3246509636080731563 19 144} {8484998768638650138 19 145} {8748583336158158284 19 146}]
------------------------------------------------------
flag 65375 term 19 leader 0 nextIndex[1]: 147  matchIndex[1]: 146
term 19 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 19 leaderCommit: 146 
------------------------------------------------------
flag 14308 term 19 leader 0 nextIndex[2]: 147  matchIndex[2]: 146
term 19 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 19 leaderCommit: 146 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=147
update matchIndex[2]=146
update leader CommitIndex=146
leader log:
[{snapshot 19 139} {1599149642303548570 19 140} {6503283884205428335 19 141} {6358218919034539298 19 142} {7150767682116832047 19 143} {3246509636080731563 19 144} {8484998768638650138 19 145} {8748583336158158284 19 146}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 19 139} {1599149642303548570 19 140} {6503283884205428335 19 141} {6358218919034539298 19 142} {7150767682116832047 19 143} {3246509636080731563 19 144} {8484998768638650138 19 145} {8748583336158158284 19 146}]
------------------------------------------------------
flag 88734 term 19 leader 0 nextIndex[1]: 147  matchIndex[1]: 146
term 19 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 19 leaderCommit: 146 
------------------------------------------------------
flag 1572 term 19 leader 0 nextIndex[2]: 147  matchIndex[2]: 146
term 19 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 19 leaderCommit: 146 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:146 
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=147
update matchIndex[2]=146
update leader CommitIndex=146
leader log:
[{snapshot 19 139} {1599149642303548570 19 140} {6503283884205428335 19 141} {6358218919034539298 19 142} {7150767682116832047 19 143} {3246509636080731563 19 144} {8484998768638650138 19 145} {8748583336158158284 19 146}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 19 139} {1599149642303548570 19 140} {6503283884205428335 19 141} {6358218919034539298 19 142} {7150767682116832047 19 143} {3246509636080731563 19 144} {8484998768638650138 19 145} {8748583336158158284 19 146}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46657 term 19 leader 0 nextIndex[1]: 147  matchIndex[1]: 146
term 19 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 19 leaderCommit: 146 
------------------------------------------------------
flag 64447 term 19 leader 0 nextIndex[2]: 147  matchIndex[2]: 146
term 19 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 19 leaderCommit: 146 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=147
update matchIndex[2]=146
update leader CommitIndex=146
leader log:
[{snapshot 19 139} {1599149642303548570 19 140} {6503283884205428335 19 141} {6358218919034539298 19 142} {7150767682116832047 19 143} {3246509636080731563 19 144} {8484998768638650138 19 145} {8748583336158158284 19 146}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 19 139} {1599149642303548570 19 140} {6503283884205428335 19 141} {6358218919034539298 19 142} {7150767682116832047 19 143} {3246509636080731563 19 144} {8484998768638650138 19 145} {8748583336158158284 19 146}]
------------------------------------------------------
flag 72678 term 19 leader 0 nextIndex[1]: 147  matchIndex[1]: 146
term 19 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 19 leaderCommit: 146 
------------------------------------------------------
flag 12037 term 19 leader 0 nextIndex[2]: 147  matchIndex[2]: 146
term 19 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 19 leaderCommit: 146 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=147
update matchIndex[2]=146
update leader CommitIndex=146
leader log:
[{snapshot 19 139} {1599149642303548570 19 140} {6503283884205428335 19 141} {6358218919034539298 19 142} {7150767682116832047 19 143} {3246509636080731563 19 144} {8484998768638650138 19 145} {8748583336158158284 19 146}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 19 139} {1599149642303548570 19 140} {6503283884205428335 19 141} {6358218919034539298 19 142} {7150767682116832047 19 143} {3246509636080731563 19 144} {8484998768638650138 19 145} {8748583336158158284 19 146}]
------------------------------------------------------
client write log 8925368102710663750 (index 147) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 19 server 1 not vote for server 0, 任期不够新
term 19 server 0 get outdate rpc reply from server 1
flag 40397 term 19 leader 0 nextIndex[1]: 147  matchIndex[1]: 146
term 19 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 19 leaderCommit: 146 
------------------------------------------------------
flag 24298 term 19 leader 0 nextIndex[2]: 147  matchIndex[2]: 146
term 19 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 19 leaderCommit: 146 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=148
update matchIndex[1]=147
update leader CommitIndex=147
leader log:
[{snapshot 19 139} {1599149642303548570 19 140} {6503283884205428335 19 141} {6358218919034539298 19 142} {7150767682116832047 19 143} {3246509636080731563 19 144} {8484998768638650138 19 145} {8748583336158158284 19 146} {8925368102710663750 19 147}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=148
update matchIndex[2]=147
update leader CommitIndex=147
leader log:
[{snapshot 19 139} {1599149642303548570 19 140} {6503283884205428335 19 141} {6358218919034539298 19 142} {7150767682116832047 19 143} {3246509636080731563 19 144} {8484998768638650138 19 145} {8748583336158158284 19 146} {8925368102710663750 19 147}]
------------------------------------------------------
flag 75475 term 19 leader 0 nextIndex[1]: 148  matchIndex[1]: 147
term 19 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 19 leaderCommit: 147 
------------------------------------------------------
flag 21975 term 19 leader 0 nextIndex[2]: 148  matchIndex[2]: 147
term 19 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 19 leaderCommit: 147 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:147 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=148
update matchIndex[2]=147
update leader CommitIndex=147
leader log:
[{snapshot 19 139} {1599149642303548570 19 140} {6503283884205428335 19 141} {6358218919034539298 19 142} {7150767682116832047 19 143} {3246509636080731563 19 144} {8484998768638650138 19 145} {8748583336158158284 19 146} {8925368102710663750 19 147}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=148
update matchIndex[1]=147
update leader CommitIndex=147
leader log:
[{snapshot 19 139} {1599149642303548570 19 140} {6503283884205428335 19 141} {6358218919034539298 19 142} {7150767682116832047 19 143} {3246509636080731563 19 144} {8484998768638650138 19 145} {8748583336158158284 19 146} {8925368102710663750 19 147}]
------------------------------------------------------
flag 37796 term 19 leader 0 nextIndex[1]: 148  matchIndex[1]: 147
term 19 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 19 leaderCommit: 147 
------------------------------------------------------
flag 62720 term 19 leader 0 nextIndex[2]: 148  matchIndex[2]: 147
term 19 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 19 leaderCommit: 147 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=148
update matchIndex[2]=147
update leader CommitIndex=147
leader log:
[{snapshot 19 139} {1599149642303548570 19 140} {6503283884205428335 19 141} {6358218919034539298 19 142} {7150767682116832047 19 143} {3246509636080731563 19 144} {8484998768638650138 19 145} {8748583336158158284 19 146} {8925368102710663750 19 147}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=148
update matchIndex[1]=147
update leader CommitIndex=147
leader log:
[{snapshot 19 139} {1599149642303548570 19 140} {6503283884205428335 19 141} {6358218919034539298 19 142} {7150767682116832047 19 143} {3246509636080731563 19 144} {8484998768638650138 19 145} {8748583336158158284 19 146} {8925368102710663750 19 147}]
------------------------------------------------------
flag 3129 term 19 leader 0 nextIndex[1]: 148  matchIndex[1]: 147
term 19 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 19 leaderCommit: 147 
------------------------------------------------------
flag 18697 term 19 leader 0 nextIndex[2]: 148  matchIndex[2]: 147
term 19 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 19 leaderCommit: 147 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:147 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=148
update matchIndex[2]=147
update leader CommitIndex=147
leader log:
[{snapshot 19 139} {1599149642303548570 19 140} {6503283884205428335 19 141} {6358218919034539298 19 142} {7150767682116832047 19 143} {3246509636080731563 19 144} {8484998768638650138 19 145} {8748583336158158284 19 146} {8925368102710663750 19 147}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=148
update matchIndex[1]=147
update leader CommitIndex=147
leader log:
[{snapshot 19 139} {1599149642303548570 19 140} {6503283884205428335 19 141} {6358218919034539298 19 142} {7150767682116832047 19 143} {3246509636080731563 19 144} {8484998768638650138 19 145} {8748583336158158284 19 146} {8925368102710663750 19 147}]
------------------------------------------------------
flag 34002 term 19 leader 0 nextIndex[1]: 148  matchIndex[1]: 147
term 19 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 19 leaderCommit: 147 
------------------------------------------------------
flag 49501 term 19 leader 0 nextIndex[2]: 148  matchIndex[2]: 147
term 19 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 19 leaderCommit: 147 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:147 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=148
update matchIndex[1]=147
update leader CommitIndex=147
leader log:
[{snapshot 19 139} {1599149642303548570 19 140} {6503283884205428335 19 141} {6358218919034539298 19 142} {7150767682116832047 19 143} {3246509636080731563 19 144} {8484998768638650138 19 145} {8748583336158158284 19 146} {8925368102710663750 19 147}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=148
update matchIndex[2]=147
update leader CommitIndex=147
leader log:
[{snapshot 19 139} {1599149642303548570 19 140} {6503283884205428335 19 141} {6358218919034539298 19 142} {7150767682116832047 19 143} {3246509636080731563 19 144} {8484998768638650138 19 145} {8748583336158158284 19 146} {8925368102710663750 19 147}]
------------------------------------------------------
flag 94472 term 19 leader 0 nextIndex[1]: 148  matchIndex[1]: 147
term 19 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 19 leaderCommit: 147 
------------------------------------------------------
flag 9821 term 19 leader 0 nextIndex[2]: 148  matchIndex[2]: 147
term 19 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 19 leaderCommit: 147 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=148
update matchIndex[2]=147
update leader CommitIndex=147
leader log:
[{snapshot 19 139} {1599149642303548570 19 140} {6503283884205428335 19 141} {6358218919034539298 19 142} {7150767682116832047 19 143} {3246509636080731563 19 144} {8484998768638650138 19 145} {8748583336158158284 19 146} {8925368102710663750 19 147}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=148
update matchIndex[1]=147
update leader CommitIndex=147
leader log:
[{snapshot 19 139} {1599149642303548570 19 140} {6503283884205428335 19 141} {6358218919034539298 19 142} {7150767682116832047 19 143} {3246509636080731563 19 144} {8484998768638650138 19 145} {8748583336158158284 19 146} {8925368102710663750 19 147}]
------------------------------------------------------
flag 11638 term 19 leader 0 nextIndex[1]: 148  matchIndex[1]: 147
term 19 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 19 leaderCommit: 147 
------------------------------------------------------
flag 82589 term 19 leader 0 nextIndex[2]: 148  matchIndex[2]: 147
term 19 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 19 leaderCommit: 147 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=148
update matchIndex[2]=147
update leader CommitIndex=147
leader log:
[{snapshot 19 139} {1599149642303548570 19 140} {6503283884205428335 19 141} {6358218919034539298 19 142} {7150767682116832047 19 143} {3246509636080731563 19 144} {8484998768638650138 19 145} {8748583336158158284 19 146} {8925368102710663750 19 147}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=148
update matchIndex[1]=147
update leader CommitIndex=147
leader log:
[{snapshot 19 139} {1599149642303548570 19 140} {6503283884205428335 19 141} {6358218919034539298 19 142} {7150767682116832047 19 143} {3246509636080731563 19 144} {8484998768638650138 19 145} {8748583336158158284 19 146} {8925368102710663750 19 147}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 573875444256875962 (index 148) to leader 0
flag 90894 term 19 leader 0 nextIndex[1]: 148  matchIndex[1]: 147
term 19 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 19 leaderCommit: 147 
------------------------------------------------------
flag 30625 term 19 leader 0 nextIndex[2]: 148  matchIndex[2]: 147
term 19 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 19 leaderCommit: 147 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=149
update matchIndex[2]=148
update leader CommitIndex=148
leader log:
[{snapshot 19 139} {1599149642303548570 19 140} {6503283884205428335 19 141} {6358218919034539298 19 142} {7150767682116832047 19 143} {3246509636080731563 19 144} {8484998768638650138 19 145} {8748583336158158284 19 146} {8925368102710663750 19 147} {573875444256875962 19 148}]
------------------------------------------------------
flag 80779 term 19 leader 0 nextIndex[1]: 148  matchIndex[1]: 147
term 19 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 19 leaderCommit: 148 
------------------------------------------------------
flag 31727 term 19 leader 0 nextIndex[2]: 149  matchIndex[2]: 148
term 19 leader 0 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 19 leaderCommit: 148 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=149
update matchIndex[2]=148
update leader CommitIndex=148
leader log:
[{snapshot 19 139} {1599149642303548570 19 140} {6503283884205428335 19 141} {6358218919034539298 19 142} {7150767682116832047 19 143} {3246509636080731563 19 144} {8484998768638650138 19 145} {8748583336158158284 19 146} {8925368102710663750 19 147} {573875444256875962 19 148}]
------------------------------------------------------
client write log 9120961098073132338 (index 149) to leader 0
client write log 4587569945704363988 (index 150) to leader 0
client write log 7441796155389476894 (index 151) to leader 0
client write log 3873002827884184424 (index 152) to leader 0
client write log 5398601433282504259 (index 153) to leader 0
client write log 2910294806816710134 (index 154) to leader 0
client write log 664395070359790469 (index 155) to leader 0
client write log 5054524336203617961 (index 156) to leader 0
client write log 1819428250622852211 (index 157) to leader 0
client write log 5604015640504326289 (index 158) to leader 0
client write log 2566825203806401939 (index 159) to leader 0
client write log 4270456190214851081 (index 160) to leader 0
client write log 7577077085747627932 (index 161) to leader 0
client write log 3341561321255616960 (index 162) to leader 0
client write log 5861837240979855751 (index 163) to leader 0
flag 25335 term 19 leader 0 nextIndex[1]: 148  matchIndex[1]: 147
term 19 leader 0 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 19 leaderCommit: 148 
------------------------------------------------------
flag 3688 term 19 leader 0 nextIndex[2]: 149  matchIndex[2]: 148
term 19 leader 0 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 19 leaderCommit: 148 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=164
update matchIndex[2]=163
update leader CommitIndex=163
leader log:
[{snapshot 19 139} {1599149642303548570 19 140} {6503283884205428335 19 141} {6358218919034539298 19 142} {7150767682116832047 19 143} {3246509636080731563 19 144} {8484998768638650138 19 145} {8748583336158158284 19 146} {8925368102710663750 19 147} {573875444256875962 19 148} {9120961098073132338 19 149} {4587569945704363988 19 150} {7441796155389476894 19 151} {3873002827884184424 19 152} {5398601433282504259 19 153} {2910294806816710134 19 154} {664395070359790469 19 155} {5054524336203617961 19 156} {1819428250622852211 19 157} {5604015640504326289 19 158} {2566825203806401939 19 159} {4270456190214851081 19 160} {7577077085747627932 19 161} {3341561321255616960 19 162} {5861837240979855751 19 163}]
------------------------------------------------------
term 19 Server0 start snapshot! index=149
term 19 server0 snapshot success
lastIncludedIndex=149 lastApplied=150 lastIndex=163
-------------------------------------------------------------
term 19 Server0 start snapshot! index=159
term 19 server0 snapshot success
lastIncludedIndex=159 lastApplied=160 lastIndex=163
-------------------------------------------------------------
term 19 leader 0 nextIndex[1]: 148  matchIndex[1]: 147
term 19 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 19
------------------------------------------------------
flag 40133 term 19 leader 0 nextIndex[2]: 164  matchIndex[2]: 163
term 19 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 19 leaderCommit: 163 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=164
update matchIndex[2]=163
update leader CommitIndex=163
leader log:
[{snapshot 19 159} {4270456190214851081 19 160} {7577077085747627932 19 161} {3341561321255616960 19 162} {5861837240979855751 19 163}]
------------------------------------------------------
term 19 Server2 start snapshot! index=149
term 19 server2 snapshot success
lastIncludedIndex=149 lastApplied=150 lastIndex=163
-------------------------------------------------------------
term 19 Server2 start snapshot! index=159
term 19 server2 snapshot success
lastIncludedIndex=159 lastApplied=160 lastIndex=163
-------------------------------------------------------------
!!!!!!connect server 1
client write log 7489028461230645058 (index 164) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 19 leader 0 nextIndex[1]: 148  matchIndex[1]: 147
term 19 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 19
------------------------------------------------------
flag 73503 term 19 leader 0 nextIndex[2]: 164  matchIndex[2]: 163
term 19 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 19 leaderCommit: 163 
------------------------------------------------------
term 20 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
term 19 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 21 server 2 vote for server 0
term 21 server 1 vote for server 0
term 21 server 0 get vote from server 2
term 21 server 0 become leader
------------------------------------------------------
term 21 server 0 get outdate rpc reply from server 1
flag 2881 term 21 leader 0 nextIndex[1]: 165  matchIndex[1]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 19 leaderCommit: 163 
------------------------------------------------------
flag 11198 term 21 leader 0 nextIndex[2]: 165  matchIndex[2]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 19 leaderCommit: 163 
------------------------------------------------------
term 21 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 165->164
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=163
leader log:
[{snapshot 19 159} {4270456190214851081 19 160} {7577077085747627932 19 161} {3341561321255616960 19 162} {5861837240979855751 19 163} {7489028461230645058 19 164}]
------------------------------------------------------
term 21 leader 0 nextIndex[1]: 148  matchIndex[1]: 0
term 21 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 19
------------------------------------------------------
flag 72695 term 21 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 21 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 19 leaderCommit: 163 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=163
leader log:
[{snapshot 19 159} {4270456190214851081 19 160} {7577077085747627932 19 161} {3341561321255616960 19 162} {5861837240979855751 19 163} {7489028461230645058 19 164}]
------------------------------------------------------
term 21 server 1 InstallSnapshot success
------------------------------------------------------
term 21 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 160 matchIndex[1] 159 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 159 rf.lastIncludedTerm 19 rf.commitIndex 159 rf.lastApplied 159
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93900 term 21 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 21 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 19 leaderCommit: 163 
------------------------------------------------------
flag 80572 term 21 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 21 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 19 leaderCommit: 163 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=163
leader log:
[{snapshot 19 159} {4270456190214851081 19 160} {7577077085747627932 19 161} {3341561321255616960 19 162} {5861837240979855751 19 163} {7489028461230645058 19 164}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=163
leader log:
[{snapshot 19 159} {4270456190214851081 19 160} {7577077085747627932 19 161} {3341561321255616960 19 162} {5861837240979855751 19 163} {7489028461230645058 19 164}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51861 term 21 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 21 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 19 leaderCommit: 163 
------------------------------------------------------
flag 97266 term 21 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 21 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 19 leaderCommit: 163 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=163
leader log:
[{snapshot 19 159} {4270456190214851081 19 160} {7577077085747627932 19 161} {3341561321255616960 19 162} {5861837240979855751 19 163} {7489028461230645058 19 164}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=163
leader log:
[{snapshot 19 159} {4270456190214851081 19 160} {7577077085747627932 19 161} {3341561321255616960 19 162} {5861837240979855751 19 163} {7489028461230645058 19 164}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15977 term 21 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 21 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 19 leaderCommit: 163 
------------------------------------------------------
flag 63335 term 21 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 21 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 19 leaderCommit: 163 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=163
leader log:
[{snapshot 19 159} {4270456190214851081 19 160} {7577077085747627932 19 161} {3341561321255616960 19 162} {5861837240979855751 19 163} {7489028461230645058 19 164}]
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=163
leader log:
[{snapshot 19 159} {4270456190214851081 19 160} {7577077085747627932 19 161} {3341561321255616960 19 162} {5861837240979855751 19 163} {7489028461230645058 19 164}]
------------------------------------------------------
flag 31095 term 21 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 21 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 19 leaderCommit: 163 
------------------------------------------------------
flag 9865 term 21 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 21 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 19 leaderCommit: 163 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=163
leader log:
term 21 server 1 AppendEntries true commitIndex:163 
------------------------------------------------------
[{snapshot 19 159} {4270456190214851081 19 160} {7577077085747627932 19 161} {3341561321255616960 19 162} {5861837240979855751 19 163} {7489028461230645058 19 164}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=163
leader log:
[{snapshot 19 159} {4270456190214851081 19 160} {7577077085747627932 19 161} {3341561321255616960 19 162} {5861837240979855751 19 163} {7489028461230645058 19 164}]
------------------------------------------------------
flag 14319 term 21 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 21 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 19 leaderCommit: 163 
------------------------------------------------------
flag 79285 term 21 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 21 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 19 leaderCommit: 163 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=163
leader log:
[{snapshot 19 159} {4270456190214851081 19 160} {7577077085747627932 19 161} {3341561321255616960 19 162} {5861837240979855751 19 163} {7489028461230645058 19 164}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=163
leader log:
[{snapshot 19 159} {4270456190214851081 19 160} {7577077085747627932 19 161} {3341561321255616960 19 162} {5861837240979855751 19 163} {7489028461230645058 19 164}]
------------------------------------------------------
flag 37166 term 21 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 21 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 19 leaderCommit: 163 
------------------------------------------------------
flag 27599 term 21 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 21 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 19 leaderCommit: 163 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
term 21 server 1 AppendEntries true commitIndex:163 
------------------------------------------------------
update leader CommitIndex=163
leader log:
[{snapshot 19 159} {4270456190214851081 19 160} {7577077085747627932 19 161} {3341561321255616960 19 162} {5861837240979855751 19 163} {7489028461230645058 19 164}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=163
leader log:
[{snapshot 19 159} {4270456190214851081 19 160} {7577077085747627932 19 161} {3341561321255616960 19 162} {5861837240979855751 19 163} {7489028461230645058 19 164}]
------------------------------------------------------
flag 51918 term 21 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 21 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 19 leaderCommit: 163 
------------------------------------------------------
flag 93146 term 21 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 21 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 19 leaderCommit: 163 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=163
leader log:
[{snapshot 19 159} {4270456190214851081 19 160} {7577077085747627932 19 161} {3341561321255616960 19 162} {5861837240979855751 19 163} {7489028461230645058 19 164}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=163
leader log:
[{snapshot 19 159} {4270456190214851081 19 160} {7577077085747627932 19 161} {3341561321255616960 19 162} {5861837240979855751 19 163} {7489028461230645058 19 164}]
------------------------------------------------------
flag 60180 term 21 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 21 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 19 leaderCommit: 163 
------------------------------------------------------
flag 41902 term 21 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 21 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 19 leaderCommit: 163 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=163
leader log:
[{snapshot 19 159} {4270456190214851081 19 160} {7577077085747627932 19 161} {3341561321255616960 19 162} {5861837240979855751 19 163} {7489028461230645058 19 164}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=163
leader log:
[{snapshot 19 159} {4270456190214851081 19 160} {7577077085747627932 19 161} {3341561321255616960 19 162} {5861837240979855751 19 163} {7489028461230645058 19 164}]
------------------------------------------------------
flag 80390 term 21 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 21 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 19 leaderCommit: 163 
------------------------------------------------------
flag 80331 term 21 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 21 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 19 leaderCommit: 163 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=163
leader log:
[{snapshot 19 159} {4270456190214851081 19 160} {7577077085747627932 19 161} {3341561321255616960 19 162} {5861837240979855751 19 163} {7489028461230645058 19 164}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=163
leader log:
[{snapshot 19 159} {4270456190214851081 19 160} {7577077085747627932 19 161} {3341561321255616960 19 162} {5861837240979855751 19 163} {7489028461230645058 19 164}]
------------------------------------------------------
term 21 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 60419 term 21 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 21 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 19 leaderCommit: 163 
------------------------------------------------------
flag 14735 term 21 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 21 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 19 leaderCommit: 163 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=163
leader log:
[{snapshot 19 159} {4270456190214851081 19 160} {7577077085747627932 19 161} {3341561321255616960 19 162} {5861837240979855751 19 163} {7489028461230645058 19 164}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=163
leader log:
[{snapshot 19 159} {4270456190214851081 19 160} {7577077085747627932 19 161} {3341561321255616960 19 162} {5861837240979855751 19 163} {7489028461230645058 19 164}]
------------------------------------------------------
flag 81850 term 21 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 21 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 19 leaderCommit: 163 
------------------------------------------------------
flag 25799 term 21 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 21 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 19 leaderCommit: 163 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=163
leader log:
[{snapshot 19 159} {4270456190214851081 19 160} {7577077085747627932 19 161} {3341561321255616960 19 162} {5861837240979855751 19 163} {7489028461230645058 19 164}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=163
leader log:
[{snapshot 19 159} {4270456190214851081 19 160} {7577077085747627932 19 161} {3341561321255616960 19 162} {5861837240979855751 19 163} {7489028461230645058 19 164}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96642 term 21 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 21 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 19 leaderCommit: 163 
------------------------------------------------------
flag 3187 term 21 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 21 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 19 leaderCommit: 163 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=163
leader log:
[{snapshot 19 159} {4270456190214851081 19 160} {7577077085747627932 19 161} {3341561321255616960 19 162} {5861837240979855751 19 163} {7489028461230645058 19 164}]
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=163
leader log:
[{snapshot 19 159} {4270456190214851081 19 160} {7577077085747627932 19 161} {3341561321255616960 19 162} {5861837240979855751 19 163} {7489028461230645058 19 164}]
------------------------------------------------------
term 21 server 2 not vote for server 0, 任期不够新
term 21 server 0 get outdate rpc reply from server 2
flag 29782 term 21 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 21 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 19 leaderCommit: 163 
------------------------------------------------------
flag 23818 term 21 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 21 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 19 leaderCommit: 163 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=163
leader log:
[{snapshot 19 159} {4270456190214851081 19 160} {7577077085747627932 19 161} {3341561321255616960 19 162} {5861837240979855751 19 163} {7489028461230645058 19 164}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=163
leader log:
[{snapshot 19 159} {4270456190214851081 19 160} {7577077085747627932 19 161} {3341561321255616960 19 162} {5861837240979855751 19 163} {7489028461230645058 19 164}]
------------------------------------------------------
flag 40511 term 21 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 21 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 19 leaderCommit: 163 
------------------------------------------------------
flag 41233 term 21 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 21 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 19 leaderCommit: 163 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=163
leader log:
[{snapshot 19 159} {4270456190214851081 19 160} {7577077085747627932 19 161} {3341561321255616960 19 162} {5861837240979855751 19 163} {7489028461230645058 19 164}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=163
leader log:
[{snapshot 19 159} {4270456190214851081 19 160} {7577077085747627932 19 161} {3341561321255616960 19 162} {5861837240979855751 19 163} {7489028461230645058 19 164}]
------------------------------------------------------
flag 77380 term 21 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 21 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 19 leaderCommit: 163 
------------------------------------------------------
flag 48371 term 21 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 21 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 19 leaderCommit: 163 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:163 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=163
leader log:
[{snapshot 19 159} {4270456190214851081 19 160} {7577077085747627932 19 161} {3341561321255616960 19 162} {5861837240979855751 19 163} {7489028461230645058 19 164}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=163
leader log:
[{snapshot 19 159} {4270456190214851081 19 160} {7577077085747627932 19 161} {3341561321255616960 19 162} {5861837240979855751 19 163} {7489028461230645058 19 164}]
------------------------------------------------------
flag 72489 term 21 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 21 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 19 leaderCommit: 163 
------------------------------------------------------
flag 74797 term 21 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 21 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 19 leaderCommit: 163 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:163 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=163
leader log:
[{snapshot 19 159} {4270456190214851081 19 160} {7577077085747627932 19 161} {3341561321255616960 19 162} {5861837240979855751 19 163} {7489028461230645058 19 164}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=163
leader log:
[{snapshot 19 159} {4270456190214851081 19 160} {7577077085747627932 19 161} {3341561321255616960 19 162} {5861837240979855751 19 163} {7489028461230645058 19 164}]
------------------------------------------------------
flag 70479 term 21 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 21 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 19 leaderCommit: 163 
------------------------------------------------------
flag 95022 term 21 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 21 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 19 leaderCommit: 163 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
client write log 7489028461230645058 (index 165) to leader 0
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=163
leader log:
[{snapshot 19 159} {4270456190214851081 19 160} {7577077085747627932 19 161} {3341561321255616960 19 162} {5861837240979855751 19 163} {7489028461230645058 19 164} {7489028461230645058 21 165}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=163
leader log:
[{snapshot 19 159} {4270456190214851081 19 160} {7577077085747627932 19 161} {3341561321255616960 19 162} {5861837240979855751 19 163} {7489028461230645058 19 164} {7489028461230645058 21 165}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43044 term 21 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 21 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 19 leaderCommit: 163 
------------------------------------------------------
flag 22313 term 21 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 21 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 19 leaderCommit: 163 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=165
leader log:
[{snapshot 19 159} {4270456190214851081 19 160} {7577077085747627932 19 161} {3341561321255616960 19 162} {5861837240979855751 19 163} {7489028461230645058 19 164} {7489028461230645058 21 165}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=165
leader log:
[{snapshot 19 159} {4270456190214851081 19 160} {7577077085747627932 19 161} {3341561321255616960 19 162} {5861837240979855751 19 163} {7489028461230645058 19 164} {7489028461230645058 21 165}]
------------------------------------------------------
flag 91503 term 21 leader 0 nextIndex[1]: 166  matchIndex[1]: 165
term 21 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 21 leaderCommit: 165 
------------------------------------------------------
flag 19143 term 21 leader 0 nextIndex[2]: 166  matchIndex[2]: 165
term 21 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 21 leaderCommit: 165 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:165 
term 21 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=165
leader log:
[{snapshot 19 159} {4270456190214851081 19 160} {7577077085747627932 19 161} {3341561321255616960 19 162} {5861837240979855751 19 163} {7489028461230645058 19 164} {7489028461230645058 21 165}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=165
leader log:
[{snapshot 19 159} {4270456190214851081 19 160} {7577077085747627932 19 161} {3341561321255616960 19 162} {5861837240979855751 19 163} {7489028461230645058 19 164} {7489028461230645058 21 165}]
------------------------------------------------------
flag 35143 term 21 leader 0 nextIndex[1]: 166  matchIndex[1]: 165
term 21 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 21 leaderCommit: 165 
------------------------------------------------------
flag 54658 term 21 leader 0 nextIndex[2]: 166  matchIndex[2]: 165
term 21 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 21 leaderCommit: 165 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=165
leader log:
[{snapshot 19 159} {4270456190214851081 19 160} {7577077085747627932 19 161} {3341561321255616960 19 162} {5861837240979855751 19 163} {7489028461230645058 19 164} {7489028461230645058 21 165}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=165
leader log:
[{snapshot 19 159} {4270456190214851081 19 160} {7577077085747627932 19 161} {3341561321255616960 19 162} {5861837240979855751 19 163} {7489028461230645058 19 164} {7489028461230645058 21 165}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73000 term 21 leader 0 nextIndex[1]: 166  matchIndex[1]: 165
term 21 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 21 leaderCommit: 165 
------------------------------------------------------
flag 74565 term 21 leader 0 nextIndex[2]: 166  matchIndex[2]: 165
term 21 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 21 leaderCommit: 165 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=165
leader log:
[{snapshot 19 159} {4270456190214851081 19 160} {7577077085747627932 19 161} {3341561321255616960 19 162} {5861837240979855751 19 163} {7489028461230645058 19 164} {7489028461230645058 21 165}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=165
leader log:
[{snapshot 19 159} {4270456190214851081 19 160} {7577077085747627932 19 161} {3341561321255616960 19 162} {5861837240979855751 19 163} {7489028461230645058 19 164} {7489028461230645058 21 165}]
------------------------------------------------------
flag 92545 term 21 leader 0 nextIndex[1]: 166  matchIndex[1]: 165
term 21 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 21 leaderCommit: 165 
------------------------------------------------------
flag 51581 term 21 leader 0 nextIndex[2]: 166  matchIndex[2]: 165
term 21 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 21 leaderCommit: 165 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=165
leader log:
[{snapshot 19 159} {4270456190214851081 19 160} {7577077085747627932 19 161} {3341561321255616960 19 162} {5861837240979855751 19 163} {7489028461230645058 19 164} {7489028461230645058 21 165}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=165
leader log:
[{snapshot 19 159} {4270456190214851081 19 160} {7577077085747627932 19 161} {3341561321255616960 19 162} {5861837240979855751 19 163} {7489028461230645058 19 164} {7489028461230645058 21 165}]
------------------------------------------------------
flag 55202 term 21 leader 0 nextIndex[1]: 166  matchIndex[1]: 165
term 21 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 21 leaderCommit: 165 
------------------------------------------------------
flag 98368 term 21 leader 0 nextIndex[2]: 166  matchIndex[2]: 165
term 21 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 21 leaderCommit: 165 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=165
leader log:
[{snapshot 19 159} {4270456190214851081 19 160} {7577077085747627932 19 161} {3341561321255616960 19 162} {5861837240979855751 19 163} {7489028461230645058 19 164} {7489028461230645058 21 165}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=165
leader log:
[{snapshot 19 159} {4270456190214851081 19 160} {7577077085747627932 19 161} {3341561321255616960 19 162} {5861837240979855751 19 163} {7489028461230645058 19 164} {7489028461230645058 21 165}]
------------------------------------------------------
flag 66689 term 21 leader 0 nextIndex[1]: 166  matchIndex[1]: 165
term 21 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 21 leaderCommit: 165 
------------------------------------------------------
flag 78959 term 21 leader 0 nextIndex[2]: 166  matchIndex[2]: 165
term 21 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 21 leaderCommit: 165 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=165
leader log:
[{snapshot 19 159} {4270456190214851081 19 160} {7577077085747627932 19 161} {3341561321255616960 19 162} {5861837240979855751 19 163} {7489028461230645058 19 164} {7489028461230645058 21 165}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=165
leader log:
[{snapshot 19 159} {4270456190214851081 19 160} {7577077085747627932 19 161} {3341561321255616960 19 162} {5861837240979855751 19 163} {7489028461230645058 19 164} {7489028461230645058 21 165}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 1
client write log 3284354942541876559 (index 166) to leader 0
flag 39474 term 21 leader 0 nextIndex[1]: 166  matchIndex[1]: 165
term 21 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 21 leaderCommit: 165 
------------------------------------------------------
flag 6815 term 21 leader 0 nextIndex[2]: 166  matchIndex[2]: 165
term 21 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 21 leaderCommit: 165 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=166
leader log:
[{snapshot 19 159} {4270456190214851081 19 160} {7577077085747627932 19 161} {3341561321255616960 19 162} {5861837240979855751 19 163} {7489028461230645058 19 164} {7489028461230645058 21 165} {3284354942541876559 21 166}]
------------------------------------------------------
flag 46737 term 21 leader 0 nextIndex[1]: 166  matchIndex[1]: 165
term 21 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 21 leaderCommit: 166 
------------------------------------------------------
flag 13213 term 21 leader 0 nextIndex[2]: 167  matchIndex[2]: 166
term 21 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 21 leaderCommit: 166 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=166
leader log:
[{snapshot 19 159} {4270456190214851081 19 160} {7577077085747627932 19 161} {3341561321255616960 19 162} {5861837240979855751 19 163} {7489028461230645058 19 164} {7489028461230645058 21 165} {3284354942541876559 21 166}]
------------------------------------------------------
client write log 1984659735202273046 (index 167) to leader 0
client write log 5050664224150947578 (index 168) to leader 0
client write log 2077671417343045850 (index 169) to leader 0
client write log 4565794197846504260 (index 170) to leader 0
client write log 5999859295270339456 (index 171) to leader 0
client write log 8368500996845417532 (index 172) to leader 0
client write log 4079504977487352211 (index 173) to leader 0
flag 23971 term 21 leader 0 nextIndex[1]: 166  matchIndex[1]: 165
term 21 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 21 leaderCommit: 166 
------------------------------------------------------
flag 12040 term 21 leader 0 nextIndex[2]: 167  matchIndex[2]: 166
term 21 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 21 leaderCommit: 166 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=173
leader log:
[{snapshot 19 159} {4270456190214851081 19 160} {7577077085747627932 19 161} {3341561321255616960 19 162} {5861837240979855751 19 163} {7489028461230645058 19 164} {7489028461230645058 21 165} {3284354942541876559 21 166} {1984659735202273046 21 167} {5050664224150947578 21 168} {2077671417343045850 21 169} {4565794197846504260 21 170} {5999859295270339456 21 171} {8368500996845417532 21 172} {4079504977487352211 21 173}]
------------------------------------------------------
term 21 Server0 start snapshot! index=169
term 21 server0 snapshot success
lastIncludedIndex=169 lastApplied=170 lastIndex=173
-------------------------------------------------------------
term 21 leader 0 nextIndex[1]: 166  matchIndex[1]: 165
term 21 leader 0 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 21
------------------------------------------------------
flag 81777 term 21 leader 0 nextIndex[2]: 174  matchIndex[2]: 173
term 21 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 21 leaderCommit: 173 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=173
leader log:
[{snapshot 21 169} {4565794197846504260 21 170} {5999859295270339456 21 171} {8368500996845417532 21 172} {4079504977487352211 21 173}]
------------------------------------------------------
term 21 Server2 start snapshot! index=169
term 21 server2 snapshot success
lastIncludedIndex=169 lastApplied=170 lastIndex=173
-------------------------------------------------------------
!!!!!!connect server 1
client write log 7026374864549523899 (index 174) to leader 0
term 21 server 2 not vote for server 1, 日志不够新
term 21 server 0 not vote for server 1, 日志不够新
term 23 server 2 vote for server 0
term 23 server 1 vote for server 0
term 23 server 0 get vote from server 1
term 23 server 0 become leader
------------------------------------------------------
term 23 server 0 get outdate rpc reply from server 2
flag 64586 term 23 leader 0 nextIndex[1]: 175  matchIndex[1]: 0
term 23 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 21 leaderCommit: 173 
------------------------------------------------------
flag 2110 term 23 leader 0 nextIndex[2]: 175  matchIndex[2]: 0
term 23 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 21 leaderCommit: 173 
------------------------------------------------------
term 23 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 175->174
------------------------------------------------------
term 23 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 175->174
------------------------------------------------------
term 23 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 23 leader 0 nextIndex[1]: 166  matchIndex[1]: 0
term 23 leader 0 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 21
------------------------------------------------------
flag 89539 term 23 leader 0 nextIndex[2]: 174  matchIndex[2]: 0
term 23 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 21 leaderCommit: 173 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=175
update matchIndex[2]=174
update leader CommitIndex=173
leader log:
[{snapshot 21 169} {4565794197846504260 21 170} {5999859295270339456 21 171} {8368500996845417532 21 172} {4079504977487352211 21 173} {7026374864549523899 21 174}]
------------------------------------------------------
term 23 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 169 rf.lastIncludedTerm 21 rf.commitIndex 169 rf.lastApplied 169
term 23 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 170 matchIndex[1] 169 
------------------------------------------------------------------------
flag 7022 term 23 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 23 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 21 leaderCommit: 173 
------------------------------------------------------
flag 24093 term 23 leader 0 nextIndex[2]: 175  matchIndex[2]: 174
term 23 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 21 leaderCommit: 173 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=175
update matchIndex[2]=174
update leader CommitIndex=173
leader log:
[{snapshot 21 169} {4565794197846504260 21 170} {5999859295270339456 21 171} {8368500996845417532 21 172} {4079504977487352211 21 173} {7026374864549523899 21 174}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=175
update matchIndex[1]=174
update leader CommitIndex=173
leader log:
[{snapshot 21 169} {4565794197846504260 21 170} {5999859295270339456 21 171} {8368500996845417532 21 172} {4079504977487352211 21 173} {7026374864549523899 21 174}]
------------------------------------------------------
flag 15487 term 23 leader 0 nextIndex[1]: 175  matchIndex[1]: 174
term 23 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 21 leaderCommit: 173 
------------------------------------------------------
flag 80058 term 23 leader 0 nextIndex[2]: 175  matchIndex[2]: 174
term 23 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 21 leaderCommit: 173 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=175
update matchIndex[1]=174
update leader CommitIndex=173
leader log:
[{snapshot 21 169} {4565794197846504260 21 170} {5999859295270339456 21 171} {8368500996845417532 21 172} {4079504977487352211 21 173} {7026374864549523899 21 174}]
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=175
update matchIndex[2]=174
update leader CommitIndex=173
leader log:
[{snapshot 21 169} {4565794197846504260 21 170} {5999859295270339456 21 171} {8368500996845417532 21 172} {4079504977487352211 21 173} {7026374864549523899 21 174}]
------------------------------------------------------
flag 66981 term 23 leader 0 nextIndex[1]: 175  matchIndex[1]: 174
term 23 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 21 leaderCommit: 173 
------------------------------------------------------
flag 72972 term 23 leader 0 nextIndex[2]: 175  matchIndex[2]: 174
term 23 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 21 leaderCommit: 173 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=175
update matchIndex[2]=174
update leader CommitIndex=173
leader log:
[{snapshot 21 169} {4565794197846504260 21 170} {5999859295270339456 21 171} {8368500996845417532 21 172} {4079504977487352211 21 173} {7026374864549523899 21 174}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=175
update matchIndex[1]=174
update leader CommitIndex=173
leader log:
[{snapshot 21 169} {4565794197846504260 21 170} {5999859295270339456 21 171} {8368500996845417532 21 172} {4079504977487352211 21 173} {7026374864549523899 21 174}]
------------------------------------------------------
flag 14351 term 23 leader 0 nextIndex[1]: 175  matchIndex[1]: 174
term 23 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 21 leaderCommit: 173 
------------------------------------------------------
flag 11948 term 23 leader 0 nextIndex[2]: 175  matchIndex[2]: 174
term 23 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 21 leaderCommit: 173 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:173 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=175
update matchIndex[2]=174
update leader CommitIndex=173
leader log:
[{snapshot 21 169} {4565794197846504260 21 170} {5999859295270339456 21 171} {8368500996845417532 21 172} {4079504977487352211 21 173} {7026374864549523899 21 174}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=175
update matchIndex[1]=174
update leader CommitIndex=173
leader log:
[{snapshot 21 169} {4565794197846504260 21 170} {5999859295270339456 21 171} {8368500996845417532 21 172} {4079504977487352211 21 173} {7026374864549523899 21 174}]
------------------------------------------------------
flag 91473 term 23 leader 0 nextIndex[1]: 175  matchIndex[1]: 174
term 23 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 21 leaderCommit: 173 
------------------------------------------------------
flag 58356 term 23 leader 0 nextIndex[2]: 175  matchIndex[2]: 174
term 23 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 21 leaderCommit: 173 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=175
update matchIndex[2]=174
update leader CommitIndex=173
leader log:
[{snapshot 21 169} {4565794197846504260 21 170} {5999859295270339456 21 171} {8368500996845417532 21 172} {4079504977487352211 21 173} {7026374864549523899 21 174}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=175
update matchIndex[1]=174
update leader CommitIndex=173
leader log:
[{snapshot 21 169} {4565794197846504260 21 170} {5999859295270339456 21 171} {8368500996845417532 21 172} {4079504977487352211 21 173} {7026374864549523899 21 174}]
------------------------------------------------------
flag 80604 term 23 leader 0 nextIndex[1]: 175  matchIndex[1]: 174
term 23 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 21 leaderCommit: 173 
------------------------------------------------------
flag 40233 term 23 leader 0 nextIndex[2]: 175  matchIndex[2]: 174
term 23 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 21 leaderCommit: 173 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=175
update matchIndex[2]=174
update leader CommitIndex=173
leader log:
[{snapshot 21 169} {4565794197846504260 21 170} {5999859295270339456 21 171} {8368500996845417532 21 172} {4079504977487352211 21 173} {7026374864549523899 21 174}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=175
update matchIndex[1]=174
update leader CommitIndex=173
leader log:
[{snapshot 21 169} {4565794197846504260 21 170} {5999859295270339456 21 171} {8368500996845417532 21 172} {4079504977487352211 21 173} {7026374864549523899 21 174}]
------------------------------------------------------
flag 51864 term 23 leader 0 nextIndex[1]: 175  matchIndex[1]: 174
term 23 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 21 leaderCommit: 173 
------------------------------------------------------
flag 20670 term 23 leader 0 nextIndex[2]: 175  matchIndex[2]: 174
term 23 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 21 leaderCommit: 173 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:173 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=175
update matchIndex[1]=174
update leader CommitIndex=173
leader log:
[{snapshot 21 169} {4565794197846504260 21 170} {5999859295270339456 21 171} {8368500996845417532 21 172} {4079504977487352211 21 173} {7026374864549523899 21 174}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=175
update matchIndex[2]=174
update leader CommitIndex=173
leader log:
[{snapshot 21 169} {4565794197846504260 21 170} {5999859295270339456 21 171} {8368500996845417532 21 172} {4079504977487352211 21 173} {7026374864549523899 21 174}]
------------------------------------------------------
flag 20417 term 23 leader 0 nextIndex[1]: 175  matchIndex[1]: 174
term 23 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 21 leaderCommit: 173 
------------------------------------------------------
flag 30570 term 23 leader 0 nextIndex[2]: 175  matchIndex[2]: 174
term 23 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 21 leaderCommit: 173 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=175
update matchIndex[2]=174
update leader CommitIndex=173
leader log:
[{snapshot 21 169} {4565794197846504260 21 170} {5999859295270339456 21 171} {8368500996845417532 21 172} {4079504977487352211 21 173} {7026374864549523899 21 174}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=175
update matchIndex[1]=174
update leader CommitIndex=173
leader log:
[{snapshot 21 169} {4565794197846504260 21 170} {5999859295270339456 21 171} {8368500996845417532 21 172} {4079504977487352211 21 173} {7026374864549523899 21 174}]
------------------------------------------------------
term 23 server 0 not vote for server 1, 任期不够新
term 23 server 1 get outdate rpc reply from server 0
flag 42136 term 23 leader 0 nextIndex[1]: 175  matchIndex[1]: 174
term 23 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 21 leaderCommit: 173 
------------------------------------------------------
flag 37222 term 23 leader 0 nextIndex[2]: 175  matchIndex[2]: 174
term 23 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 21 leaderCommit: 173 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=175
update matchIndex[1]=174
update leader CommitIndex=173
leader log:
[{snapshot 21 169} {4565794197846504260 21 170} {5999859295270339456 21 171} {8368500996845417532 21 172} {4079504977487352211 21 173} {7026374864549523899 21 174}]
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=175
update matchIndex[2]=174
update leader CommitIndex=173
leader log:
[{snapshot 21 169} {4565794197846504260 21 170} {5999859295270339456 21 171} {8368500996845417532 21 172} {4079504977487352211 21 173} {7026374864549523899 21 174}]
------------------------------------------------------
flag 8502 term 23 leader 0 nextIndex[1]: 175  matchIndex[1]: 174
term 23 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 21 leaderCommit: 173 
------------------------------------------------------
flag 26673 term 23 leader 0 nextIndex[2]: 175  matchIndex[2]: 174
term 23 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 21 leaderCommit: 173 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:173 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=175
update matchIndex[1]=174
update leader CommitIndex=173
leader log:
[{snapshot 21 169} {4565794197846504260 21 170} {5999859295270339456 21 171} {8368500996845417532 21 172} {4079504977487352211 21 173} {7026374864549523899 21 174}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=175
update matchIndex[2]=174
update leader CommitIndex=173
leader log:
[{snapshot 21 169} {4565794197846504260 21 170} {5999859295270339456 21 171} {8368500996845417532 21 172} {4079504977487352211 21 173} {7026374864549523899 21 174}]
------------------------------------------------------
flag 48747 term 23 leader 0 nextIndex[1]: 175  matchIndex[1]: 174
term 23 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 21 leaderCommit: 173 
------------------------------------------------------
flag 23978 term 23 leader 0 nextIndex[2]: 175  matchIndex[2]: 174
term 23 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 21 leaderCommit: 173 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=175
update matchIndex[2]=174
update leader CommitIndex=173
leader log:
[{snapshot 21 169} {4565794197846504260 21 170} {5999859295270339456 21 171} {8368500996845417532 21 172} {4079504977487352211 21 173} {7026374864549523899 21 174}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=175
update matchIndex[1]=174
update leader CommitIndex=173
leader log:
[{snapshot 21 169} {4565794197846504260 21 170} {5999859295270339456 21 171} {8368500996845417532 21 172} {4079504977487352211 21 173} {7026374864549523899 21 174}]
------------------------------------------------------
flag 36511 term 23 leader 0 nextIndex[1]: 175  matchIndex[1]: 174
term 23 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 21 leaderCommit: 173 
------------------------------------------------------
flag 46387 term 23 leader 0 nextIndex[2]: 175  matchIndex[2]: 174
term 23 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 21 leaderCommit: 173 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:173 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=175
update matchIndex[2]=174
update leader CommitIndex=173
leader log:
[{snapshot 21 169} {4565794197846504260 21 170} {5999859295270339456 21 171} {8368500996845417532 21 172} {4079504977487352211 21 173} {7026374864549523899 21 174}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=175
update matchIndex[1]=174
update leader CommitIndex=173
leader log:
[{snapshot 21 169} {4565794197846504260 21 170} {5999859295270339456 21 171} {8368500996845417532 21 172} {4079504977487352211 21 173} {7026374864549523899 21 174}]
------------------------------------------------------
flag 39457 term 23 leader 0 nextIndex[1]: 175  matchIndex[1]: 174
term 23 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 21 leaderCommit: 173 
------------------------------------------------------
flag 91643 term 23 leader 0 nextIndex[2]: 175  matchIndex[2]: 174
term 23 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 21 leaderCommit: 173 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=175
update matchIndex[2]=174
update leader CommitIndex=173
leader log:
[{snapshot 21 169} {4565794197846504260 21 170} {5999859295270339456 21 171} {8368500996845417532 21 172} {4079504977487352211 21 173} {7026374864549523899 21 174}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=175
update matchIndex[1]=174
update leader CommitIndex=173
leader log:
[{snapshot 21 169} {4565794197846504260 21 170} {5999859295270339456 21 171} {8368500996845417532 21 172} {4079504977487352211 21 173} {7026374864549523899 21 174}]
------------------------------------------------------
flag 96539 term 23 leader 0 nextIndex[1]: 175  matchIndex[1]: 174
term 23 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 21 leaderCommit: 173 
------------------------------------------------------
flag 95823 term 23 leader 0 nextIndex[2]: 175  matchIndex[2]: 174
term 23 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 21 leaderCommit: 173 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:173 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=175
update matchIndex[2]=174
update leader CommitIndex=173
leader log:
[{snapshot 21 169} {4565794197846504260 21 170} {5999859295270339456 21 171} {8368500996845417532 21 172} {4079504977487352211 21 173} {7026374864549523899 21 174}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=175
update matchIndex[1]=174
update leader CommitIndex=173
leader log:
[{snapshot 21 169} {4565794197846504260 21 170} {5999859295270339456 21 171} {8368500996845417532 21 172} {4079504977487352211 21 173} {7026374864549523899 21 174}]
------------------------------------------------------
flag 1967 term 23 leader 0 nextIndex[1]: 175  matchIndex[1]: 174
term 23 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 21 leaderCommit: 173 
------------------------------------------------------
flag 24745 term 23 leader 0 nextIndex[2]: 175  matchIndex[2]: 174
term 23 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 21 leaderCommit: 173 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=175
update matchIndex[2]=174
update leader CommitIndex=173
leader log:
[{snapshot 21 169} {4565794197846504260 21 170} {5999859295270339456 21 171} {8368500996845417532 21 172} {4079504977487352211 21 173} {7026374864549523899 21 174}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=175
update matchIndex[1]=174
update leader CommitIndex=173
leader log:
[{snapshot 21 169} {4565794197846504260 21 170} {5999859295270339456 21 171} {8368500996845417532 21 172} {4079504977487352211 21 173} {7026374864549523899 21 174}]
------------------------------------------------------
flag 32677 term 23 leader 0 nextIndex[1]: 175  matchIndex[1]: 174
term 23 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 21 leaderCommit: 173 
------------------------------------------------------
flag 9774 term 23 leader 0 nextIndex[2]: 175  matchIndex[2]: 174
term 23 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 21 leaderCommit: 173 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=175
update matchIndex[2]=174
update leader CommitIndex=173
leader log:
[{snapshot 21 169} {4565794197846504260 21 170} {5999859295270339456 21 171} {8368500996845417532 21 172} {4079504977487352211 21 173} {7026374864549523899 21 174}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=175
update matchIndex[1]=174
update leader CommitIndex=173
leader log:
[{snapshot 21 169} {4565794197846504260 21 170} {5999859295270339456 21 171} {8368500996845417532 21 172} {4079504977487352211 21 173} {7026374864549523899 21 174}]
------------------------------------------------------
flag 66110 term 23 leader 0 nextIndex[1]: 175  matchIndex[1]: 174
term 23 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 21 leaderCommit: 173 
------------------------------------------------------
flag 8124 term 23 leader 0 nextIndex[2]: 175  matchIndex[2]: 174
term 23 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 21 leaderCommit: 173 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=175
update matchIndex[2]=174
update leader CommitIndex=173
leader log:
[{snapshot 21 169} {4565794197846504260 21 170} {5999859295270339456 21 171} {8368500996845417532 21 172} {4079504977487352211 21 173} {7026374864549523899 21 174}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=175
update matchIndex[1]=174
update leader CommitIndex=173
leader log:
[{snapshot 21 169} {4565794197846504260 21 170} {5999859295270339456 21 171} {8368500996845417532 21 172} {4079504977487352211 21 173} {7026374864549523899 21 174}]
------------------------------------------------------
flag 89497 term 23 leader 0 nextIndex[1]: 175  matchIndex[1]: 174
term 23 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 21 leaderCommit: 173 
------------------------------------------------------
flag 98978 term 23 leader 0 nextIndex[2]: 175  matchIndex[2]: 174
term 23 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 21 leaderCommit: 173 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:173 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=175
update matchIndex[2]=174
update leader CommitIndex=173
leader log:
[{snapshot 21 169} {4565794197846504260 21 170} {5999859295270339456 21 171} {8368500996845417532 21 172} {4079504977487352211 21 173} {7026374864549523899 21 174}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=175
update matchIndex[1]=174
update leader CommitIndex=173
leader log:
[{snapshot 21 169} {4565794197846504260 21 170} {5999859295270339456 21 171} {8368500996845417532 21 172} {4079504977487352211 21 173} {7026374864549523899 21 174}]
------------------------------------------------------
client write log 7026374864549523899 (index 175) to leader 0
flag 71404 term 23 leader 0 nextIndex[1]: 175  matchIndex[1]: 174
term 23 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 21 leaderCommit: 173 
------------------------------------------------------
flag 17361 term 23 leader 0 nextIndex[2]: 175  matchIndex[2]: 174
term 23 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 21 leaderCommit: 173 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=175
leader log:
[{snapshot 21 169} {4565794197846504260 21 170} {5999859295270339456 21 171} {8368500996845417532 21 172} {4079504977487352211 21 173} {7026374864549523899 21 174} {7026374864549523899 23 175}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
update matchIndex[1]=175
update leader CommitIndex=175
leader log:
[{snapshot 21 169} {4565794197846504260 21 170} {5999859295270339456 21 171} {8368500996845417532 21 172} {4079504977487352211 21 173} {7026374864549523899 21 174} {7026374864549523899 23 175}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89852 term 23 leader 0 nextIndex[1]: 176  matchIndex[1]: 175
term 23 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 23 leaderCommit: 175 
------------------------------------------------------
flag 98075 term 23 leader 0 nextIndex[2]: 176  matchIndex[2]: 175
term 23 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 23 leaderCommit: 175 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
update matchIndex[1]=175
update leader CommitIndex=175
leader log:
[{snapshot 21 169} {4565794197846504260 21 170} {5999859295270339456 21 171} {8368500996845417532 21 172} {4079504977487352211 21 173} {7026374864549523899 21 174} {7026374864549523899 23 175}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=175
leader log:
[{snapshot 21 169} {4565794197846504260 21 170} {5999859295270339456 21 171} {8368500996845417532 21 172} {4079504977487352211 21 173} {7026374864549523899 21 174} {7026374864549523899 23 175}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84214 term 23 leader 0 nextIndex[1]: 176  matchIndex[1]: 175
term 23 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 23 leaderCommit: 175 
------------------------------------------------------
flag 84055 term 23 leader 0 nextIndex[2]: 176  matchIndex[2]: 175
term 23 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 23 leaderCommit: 175 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=175
leader log:
term 23 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
[{snapshot 21 169} {4565794197846504260 21 170} {5999859295270339456 21 171} {8368500996845417532 21 172} {4079504977487352211 21 173} {7026374864549523899 21 174} {7026374864549523899 23 175}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
update matchIndex[1]=175
update leader CommitIndex=175
leader log:
[{snapshot 21 169} {4565794197846504260 21 170} {5999859295270339456 21 171} {8368500996845417532 21 172} {4079504977487352211 21 173} {7026374864549523899 21 174} {7026374864549523899 23 175}]
------------------------------------------------------
flag 18550 term 23 leader 0 nextIndex[1]: 176  matchIndex[1]: 175
term 23 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 23 leaderCommit: 175 
------------------------------------------------------
flag 94172 term 23 leader 0 nextIndex[2]: 176  matchIndex[2]: 175
term 23 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 23 leaderCommit: 175 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
update matchIndex[1]=175
update leader CommitIndex=175
leader log:
[{snapshot 21 169} {4565794197846504260 21 170} {5999859295270339456 21 171} {8368500996845417532 21 172} {4079504977487352211 21 173} {7026374864549523899 21 174} {7026374864549523899 23 175}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=175
leader log:
[{snapshot 21 169} {4565794197846504260 21 170} {5999859295270339456 21 171} {8368500996845417532 21 172} {4079504977487352211 21 173} {7026374864549523899 21 174} {7026374864549523899 23 175}]
------------------------------------------------------
flag 92487 term 23 leader 0 nextIndex[1]: 176  matchIndex[1]: 175
term 23 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 23 leaderCommit: 175 
------------------------------------------------------
flag 45118 term 23 leader 0 nextIndex[2]: 176  matchIndex[2]: 175
term 23 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 23 leaderCommit: 175 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
update matchIndex[1]=175
update leader CommitIndex=175
leader log:
[{snapshot 21 169} {4565794197846504260 21 170} {5999859295270339456 21 171} {8368500996845417532 21 172} {4079504977487352211 21 173} {7026374864549523899 21 174} {7026374864549523899 23 175}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=175
leader log:
[{snapshot 21 169} {4565794197846504260 21 170} {5999859295270339456 21 171} {8368500996845417532 21 172} {4079504977487352211 21 173} {7026374864549523899 21 174} {7026374864549523899 23 175}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88002 term 23 leader 0 nextIndex[1]: 176  matchIndex[1]: 175
term 23 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 23 leaderCommit: 175 
------------------------------------------------------
flag 4514 term 23 leader 0 nextIndex[2]: 176  matchIndex[2]: 175
term 23 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 23 leaderCommit: 175 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=175
leader log:
[{snapshot 21 169} {4565794197846504260 21 170} {5999859295270339456 21 171} {8368500996845417532 21 172} {4079504977487352211 21 173} {7026374864549523899 21 174} {7026374864549523899 23 175}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
update matchIndex[1]=175
update leader CommitIndex=175
leader log:
[{snapshot 21 169} {4565794197846504260 21 170} {5999859295270339456 21 171} {8368500996845417532 21 172} {4079504977487352211 21 173} {7026374864549523899 21 174} {7026374864549523899 23 175}]
------------------------------------------------------
flag 4711 term 23 leader 0 nextIndex[1]: 176  matchIndex[1]: 175
term 23 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 23 leaderCommit: 175 
------------------------------------------------------
flag 2818 term 23 leader 0 nextIndex[2]: 176  matchIndex[2]: 175
term 23 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 23 leaderCommit: 175 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=175
leader log:
[{snapshot 21 169} {4565794197846504260 21 170} {5999859295270339456 21 171} {8368500996845417532 21 172} {4079504977487352211 21 173} {7026374864549523899 21 174} {7026374864549523899 23 175}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
update matchIndex[1]=175
update leader CommitIndex=175
leader log:
[{snapshot 21 169} {4565794197846504260 21 170} {5999859295270339456 21 171} {8368500996845417532 21 172} {4079504977487352211 21 173} {7026374864549523899 21 174} {7026374864549523899 23 175}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 96634 term 23 leader 0 nextIndex[1]: 176  matchIndex[1]: 175
term 23 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 23 leaderCommit: 175 
------------------------------------------------------
flag 18355 term 23 leader 0 nextIndex[2]: 176  matchIndex[2]: 175
term 23 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 23 leaderCommit: 175 
------------------------------------------------------
flag 28498 term 23 leader 0 nextIndex[1]: 176  matchIndex[1]: 175
term 23 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 23 leaderCommit: 175 
------------------------------------------------------
flag 20355 term 23 leader 0 nextIndex[2]: 176  matchIndex[2]: 175
term 23 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 23 leaderCommit: 175 
------------------------------------------------------
term 23 server 2 not vote for server 1, 任期不够新
term 23 server 1 get outdate rpc reply from server 2
flag 87111 term 23 leader 0 nextIndex[1]: 176  matchIndex[1]: 175
term 23 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 23 leaderCommit: 175 
------------------------------------------------------
flag 37003 term 23 leader 0 nextIndex[2]: 176  matchIndex[2]: 175
term 23 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 23 leaderCommit: 175 
------------------------------------------------------
term 24 server 2 vote for server 1
term 24 server 1 get vote from server 2
term 24 server 1 become leader
------------------------------------------------------
flag 65724 term 24 leader 1 nextIndex[0]: 176  matchIndex[0]: 0
term 24 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 23 leaderCommit: 175 
------------------------------------------------------
flag 81185 term 24 leader 1 nextIndex[2]: 176  matchIndex[2]: 0
term 24 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 23 leaderCommit: 175 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=175
leader log:
[{snapshot 21 169} {4565794197846504260 21 170} {5999859295270339456 21 171} {8368500996845417532 21 172} {4079504977487352211 21 173} {7026374864549523899 21 174} {7026374864549523899 23 175}]
------------------------------------------------------
client write log 1184200141552096682 (index 176) to leader 1
flag 82867 term 23 leader 0 nextIndex[1]: 176  matchIndex[1]: 175
term 23 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 23 leaderCommit: 175 
------------------------------------------------------
flag 43380 term 23 leader 0 nextIndex[2]: 176  matchIndex[2]: 175
term 23 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 23 leaderCommit: 175 
------------------------------------------------------
flag 68292 term 24 leader 1 nextIndex[0]: 176  matchIndex[0]: 0
term 24 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 23 leaderCommit: 175 
------------------------------------------------------
flag 64762 term 24 leader 1 nextIndex[2]: 176  matchIndex[2]: 175
term 24 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 23 leaderCommit: 175 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 21 169} {4565794197846504260 21 170} {5999859295270339456 21 171} {8368500996845417532 21 172} {4079504977487352211 21 173} {7026374864549523899 21 174} {7026374864549523899 23 175} {1184200141552096682 24 176}]
------------------------------------------------------
flag 85142 term 23 leader 0 nextIndex[1]: 176  matchIndex[1]: 175
term 23 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 23 leaderCommit: 175 
------------------------------------------------------
flag 72098 term 23 leader 0 nextIndex[2]: 176  matchIndex[2]: 175
term 23 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 23 leaderCommit: 175 
------------------------------------------------------
flag 59820 term 24 leader 1 nextIndex[0]: 176  matchIndex[0]: 0
term 24 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 23 leaderCommit: 176 
------------------------------------------------------
flag 59615 term 24 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 24 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 24 leaderCommit: 176 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 21 169} {4565794197846504260 21 170} {5999859295270339456 21 171} {8368500996845417532 21 172} {4079504977487352211 21 173} {7026374864549523899 21 174} {7026374864549523899 23 175} {1184200141552096682 24 176}]
------------------------------------------------------
client write log 8174800332997151562 (index 177) to leader 1
client write log 2984014356343967435 (index 178) to leader 1
client write log 2138970650812447262 (index 179) to leader 1
client write log 5147573570269604237 (index 180) to leader 1
client write log 4046128326996851815 (index 181) to leader 1
client write log 8519047019640315194 (index 182) to leader 1
client write log 3960436331178529001 (index 183) to leader 1
flag 1126 term 23 leader 0 nextIndex[1]: 176  matchIndex[1]: 175
term 23 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 23 leaderCommit: 175 
------------------------------------------------------
flag 19339 term 23 leader 0 nextIndex[2]: 176  matchIndex[2]: 175
term 23 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 23 leaderCommit: 175 
------------------------------------------------------
flag 67678 term 24 leader 1 nextIndex[0]: 176  matchIndex[0]: 0
term 24 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 23 leaderCommit: 176 
------------------------------------------------------
flag 61876 term 24 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 24 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 24 leaderCommit: 176 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=183
leader log:
[{snapshot 21 169} {4565794197846504260 21 170} {5999859295270339456 21 171} {8368500996845417532 21 172} {4079504977487352211 21 173} {7026374864549523899 21 174} {7026374864549523899 23 175} {1184200141552096682 24 176} {8174800332997151562 24 177} {2984014356343967435 24 178} {2138970650812447262 24 179} {5147573570269604237 24 180} {4046128326996851815 24 181} {8519047019640315194 24 182} {3960436331178529001 24 183}]
------------------------------------------------------
term 24 Server1 start snapshot! index=179
term 24 server1 snapshot success
lastIncludedIndex=179 lastApplied=180 lastIndex=183
-------------------------------------------------------------
flag 83604 term 23 leader 0 nextIndex[1]: 176  matchIndex[1]: 175
term 23 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 23 leaderCommit: 175 
------------------------------------------------------
flag 67736 term 23 leader 0 nextIndex[2]: 176  matchIndex[2]: 175
term 23 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 23 leaderCommit: 175 
------------------------------------------------------
term 24 leader 1 nextIndex[0]: 176  matchIndex[0]: 0
term 24 leader 1 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 24
------------------------------------------------------
flag 98900 term 24 leader 1 nextIndex[2]: 184  matchIndex[2]: 183
term 24 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 24 leaderCommit: 183 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=183
leader log:
[{snapshot 24 179} {5147573570269604237 24 180} {4046128326996851815 24 181} {8519047019640315194 24 182} {3960436331178529001 24 183}]
------------------------------------------------------
term 24 Server2 start snapshot! index=179
term 24 server2 snapshot success
lastIncludedIndex=179 lastApplied=180 lastIndex=183
-------------------------------------------------------------
!!!!!!connect server 0
client write log 2765894584596960411 (index 184) to leader 1
flag 6848 term 23 leader 0 nextIndex[1]: 176  matchIndex[1]: 175
term 23 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 23 leaderCommit: 175 
------------------------------------------------------
flag 48263 term 23 leader 0 nextIndex[2]: 176  matchIndex[2]: 175
term 23 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 23 leaderCommit: 175 
------------------------------------------------------
term 24 server 2 AppendEntries false 领导者任期过期 args.Term 23
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
term 24 server 1 AppendEntries false 领导者任期过期 args.Term 23
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 24 leader 1 nextIndex[0]: 176  matchIndex[0]: 0
term 24 leader 1 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 24
------------------------------------------------------
flag 8163 term 24 leader 1 nextIndex[2]: 184  matchIndex[2]: 183
term 24 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 24 leaderCommit: 183 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {5147573570269604237 24 180} {4046128326996851815 24 181} {8519047019640315194 24 182} {3960436331178529001 24 183} {2765894584596960411 24 184}]
------------------------------------------------------
term 24 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 179 rf.lastIncludedTerm 24 rf.commitIndex 179 rf.lastApplied 179
term 24 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 180 matchIndex[0] 179 
------------------------------------------------------------------------
flag 25212 term 24 leader 1 nextIndex[0]: 180  matchIndex[0]: 179
term 24 leader 1 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 24 leaderCommit: 184 
------------------------------------------------------
flag 19377 term 24 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 24 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 24 leaderCommit: 184 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {5147573570269604237 24 180} {4046128326996851815 24 181} {8519047019640315194 24 182} {3960436331178529001 24 183} {2765894584596960411 24 184}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {5147573570269604237 24 180} {4046128326996851815 24 181} {8519047019640315194 24 182} {3960436331178529001 24 183} {2765894584596960411 24 184}]
------------------------------------------------------
flag 10858 term 24 leader 1 nextIndex[0]: 185  matchIndex[0]: 184
term 24 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 24 leaderCommit: 184 
------------------------------------------------------
flag 28482 term 24 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 24 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 24 leaderCommit: 184 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {5147573570269604237 24 180} {4046128326996851815 24 181} {8519047019640315194 24 182} {3960436331178529001 24 183} {2765894584596960411 24 184}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {5147573570269604237 24 180} {4046128326996851815 24 181} {8519047019640315194 24 182} {3960436331178529001 24 183} {2765894584596960411 24 184}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44727 term 24 leader 1 nextIndex[0]: 185  matchIndex[0]: 184
term 24 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 24 leaderCommit: 184 
------------------------------------------------------
flag 14453 term 24 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 24 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 24 leaderCommit: 184 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {5147573570269604237 24 180} {4046128326996851815 24 181} {8519047019640315194 24 182} {3960436331178529001 24 183} {2765894584596960411 24 184}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {5147573570269604237 24 180} {4046128326996851815 24 181} {8519047019640315194 24 182} {3960436331178529001 24 183} {2765894584596960411 24 184}]
------------------------------------------------------
flag 43012 term 24 leader 1 nextIndex[0]: 185  matchIndex[0]: 184
term 24 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 24 leaderCommit: 184 
------------------------------------------------------
flag 93666 term 24 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 24 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 24 leaderCommit: 184 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {5147573570269604237 24 180} {4046128326996851815 24 181} {8519047019640315194 24 182} {3960436331178529001 24 183} {2765894584596960411 24 184}]
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {5147573570269604237 24 180} {4046128326996851815 24 181} {8519047019640315194 24 182} {3960436331178529001 24 183} {2765894584596960411 24 184}]
------------------------------------------------------
flag 9164 term 24 leader 1 nextIndex[0]: 185  matchIndex[0]: 184
term 24 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 24 leaderCommit: 184 
------------------------------------------------------
flag 30538 term 24 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 24 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 24 leaderCommit: 184 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {5147573570269604237 24 180} {4046128326996851815 24 181} {8519047019640315194 24 182} {3960436331178529001 24 183} {2765894584596960411 24 184}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {5147573570269604237 24 180} {4046128326996851815 24 181} {8519047019640315194 24 182} {3960436331178529001 24 183} {2765894584596960411 24 184}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89349 term 24 leader 1 nextIndex[0]: 185  matchIndex[0]: 184
term 24 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 24 leaderCommit: 184 
------------------------------------------------------
flag 25538 term 24 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 24 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 24 leaderCommit: 184 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {5147573570269604237 24 180} {4046128326996851815 24 181} {8519047019640315194 24 182} {3960436331178529001 24 183} {2765894584596960411 24 184}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {5147573570269604237 24 180} {4046128326996851815 24 181} {8519047019640315194 24 182} {3960436331178529001 24 183} {2765894584596960411 24 184}]
------------------------------------------------------
flag 10218 term 24 leader 1 nextIndex[0]: 185  matchIndex[0]: 184
term 24 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 24 leaderCommit: 184 
------------------------------------------------------
flag 8506 term 24 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 24 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 24 leaderCommit: 184 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {5147573570269604237 24 180} {4046128326996851815 24 181} {8519047019640315194 24 182} {3960436331178529001 24 183} {2765894584596960411 24 184}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {5147573570269604237 24 180} {4046128326996851815 24 181} {8519047019640315194 24 182} {3960436331178529001 24 183} {2765894584596960411 24 184}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 719295252913497467 (index 185) to leader 1
flag 22585 term 24 leader 1 nextIndex[0]: 185  matchIndex[0]: 184
term 24 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 24 leaderCommit: 184 
------------------------------------------------------
flag 95150 term 24 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 24 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 24 leaderCommit: 184 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=186
update matchIndex[0]=185
update leader CommitIndex=185
leader log:
[{snapshot 24 179} {5147573570269604237 24 180} {4046128326996851815 24 181} {8519047019640315194 24 182} {3960436331178529001 24 183} {2765894584596960411 24 184} {719295252913497467 24 185}]
------------------------------------------------------
flag 83217 term 24 leader 1 nextIndex[0]: 186  matchIndex[0]: 185
term 24 leader 1 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 24 leaderCommit: 185 
------------------------------------------------------
flag 39858 term 24 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 24 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 24 leaderCommit: 185 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=186
update matchIndex[0]=185
update leader CommitIndex=185
leader log:
[{snapshot 24 179} {5147573570269604237 24 180} {4046128326996851815 24 181} {8519047019640315194 24 182} {3960436331178529001 24 183} {2765894584596960411 24 184} {719295252913497467 24 185}]
------------------------------------------------------
client write log 744704658647337056 (index 186) to leader 1
client write log 3241223088690003272 (index 187) to leader 1
client write log 3532419804047576895 (index 188) to leader 1
client write log 5862816111619534335 (index 189) to leader 1
client write log 4914169400294795629 (index 190) to leader 1
client write log 9169552554201318211 (index 191) to leader 1
client write log 1898996260116585946 (index 192) to leader 1
client write log 919600973829431664 (index 193) to leader 1
client write log 4681531232267975664 (index 194) to leader 1
client write log 1125684073933326177 (index 195) to leader 1
client write log 7330715249103327038 (index 196) to leader 1
client write log 7950488230034630239 (index 197) to leader 1
flag 69960 term 24 leader 1 nextIndex[0]: 186  matchIndex[0]: 185
term 24 leader 1 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 24 leaderCommit: 185 
------------------------------------------------------
flag 71727 term 24 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 24 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 24 leaderCommit: 185 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=197
leader log:
[{snapshot 24 179} {5147573570269604237 24 180} {4046128326996851815 24 181} {8519047019640315194 24 182} {3960436331178529001 24 183} {2765894584596960411 24 184} {719295252913497467 24 185} {744704658647337056 24 186} {3241223088690003272 24 187} {3532419804047576895 24 188} {5862816111619534335 24 189} {4914169400294795629 24 190} {9169552554201318211 24 191} {1898996260116585946 24 192} {919600973829431664 24 193} {4681531232267975664 24 194} {1125684073933326177 24 195} {7330715249103327038 24 196} {7950488230034630239 24 197}]
------------------------------------------------------
term 24 Server1 start snapshot! index=189
term 24 server1 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=197
-------------------------------------------------------------
flag 63217 term 24 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 24 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 24 leaderCommit: 197 
------------------------------------------------------
term 24 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 24 leader 1 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 24
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=197
leader log:
[{snapshot 24 189} {4914169400294795629 24 190} {9169552554201318211 24 191} {1898996260116585946 24 192} {919600973829431664 24 193} {4681531232267975664 24 194} {1125684073933326177 24 195} {7330715249103327038 24 196} {7950488230034630239 24 197}]
------------------------------------------------------
term 24 Server0 start snapshot! index=189
term 24 server0 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=197
-------------------------------------------------------------
!!!!!!connect server 2
client write log 4596653183510006528 (index 198) to leader 1
flag 17365 term 24 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 24 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 24 leaderCommit: 197 
------------------------------------------------------
term 24 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 24 leader 1 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 24
------------------------------------------------------
term 25 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
term 24 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 26 server 2 vote for server 1
term 26 server 0 vote for server 1
term 26 server 1 get vote from server 2
term 26 server 1 become leader
------------------------------------------------------
term 26 server 1 get outdate rpc reply from server 0
flag 32366 term 26 leader 1 nextIndex[0]: 199  matchIndex[0]: 0
term 26 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 24 leaderCommit: 197 
------------------------------------------------------
flag 25358 term 26 leader 1 nextIndex[2]: 199  matchIndex[2]: 0
term 26 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 24 leaderCommit: 197 
------------------------------------------------------
term 26 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 199->198
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=197
leader log:
[{snapshot 24 189} {4914169400294795629 24 190} {9169552554201318211 24 191} {1898996260116585946 24 192} {919600973829431664 24 193} {4681531232267975664 24 194} {1125684073933326177 24 195} {7330715249103327038 24 196} {7950488230034630239 24 197} {4596653183510006528 24 198}]
------------------------------------------------------
flag 15998 term 26 leader 1 nextIndex[0]: 199  matchIndex[0]: 198
term 26 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 24 leaderCommit: 197 
------------------------------------------------------
term 26 leader 1 nextIndex[2]: 185  matchIndex[2]: 0
term 26 leader 1 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 24
------------------------------------------------------
term 26 server 2 InstallSnapshot success
------------------------------------------------------
term 26 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 190 matchIndex[2] 189 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 189 rf.lastIncludedTerm 24 rf.commitIndex 189 rf.lastApplied 189
term 26 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=197
leader log:
[{snapshot 24 189} {4914169400294795629 24 190} {9169552554201318211 24 191} {1898996260116585946 24 192} {919600973829431664 24 193} {4681531232267975664 24 194} {1125684073933326177 24 195} {7330715249103327038 24 196} {7950488230034630239 24 197} {4596653183510006528 24 198}]
------------------------------------------------------
flag 36586 term 26 leader 1 nextIndex[0]: 199  matchIndex[0]: 198
term 26 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 24 leaderCommit: 197 
------------------------------------------------------
flag 64035 term 26 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 26 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 24 leaderCommit: 197 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=197
leader log:
[{snapshot 24 189} {4914169400294795629 24 190} {9169552554201318211 24 191} {1898996260116585946 24 192} {919600973829431664 24 193} {4681531232267975664 24 194} {1125684073933326177 24 195} {7330715249103327038 24 196} {7950488230034630239 24 197} {4596653183510006528 24 198}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=199
update matchIndex[2]=198
update leader CommitIndex=197
leader log:
[{snapshot 24 189} {4914169400294795629 24 190} {9169552554201318211 24 191} {1898996260116585946 24 192} {919600973829431664 24 193} {4681531232267975664 24 194} {1125684073933326177 24 195} {7330715249103327038 24 196} {7950488230034630239 24 197} {4596653183510006528 24 198}]
------------------------------------------------------
term 26 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 37212 term 26 leader 1 nextIndex[0]: 199  matchIndex[0]: 198
term 26 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 24 leaderCommit: 197 
------------------------------------------------------
flag 43871 term 26 leader 1 nextIndex[2]: 199  matchIndex[2]: 198
term 26 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 24 leaderCommit: 197 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=199
update matchIndex[2]=198
update leader CommitIndex=197
leader log:
[{snapshot 24 189} {4914169400294795629 24 190} {9169552554201318211 24 191} {1898996260116585946 24 192} {919600973829431664 24 193} {4681531232267975664 24 194} {1125684073933326177 24 195} {7330715249103327038 24 196} {7950488230034630239 24 197} {4596653183510006528 24 198}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=197
leader log:
[{snapshot 24 189} {4914169400294795629 24 190} {9169552554201318211 24 191} {1898996260116585946 24 192} {919600973829431664 24 193} {4681531232267975664 24 194} {1125684073933326177 24 195} {7330715249103327038 24 196} {7950488230034630239 24 197} {4596653183510006528 24 198}]
------------------------------------------------------
flag 23702 term 26 leader 1 nextIndex[0]: 199  matchIndex[0]: 198
term 26 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 24 leaderCommit: 197 
------------------------------------------------------
flag 9280 term 26 leader 1 nextIndex[2]: 199  matchIndex[2]: 198
term 26 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 24 leaderCommit: 197 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=199
update matchIndex[2]=198
update leader CommitIndex=197
leader log:
[{snapshot 24 189} {4914169400294795629 24 190} {9169552554201318211 24 191} {1898996260116585946 24 192} {919600973829431664 24 193} {4681531232267975664 24 194} {1125684073933326177 24 195} {7330715249103327038 24 196} {7950488230034630239 24 197} {4596653183510006528 24 198}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=197
leader log:
[{snapshot 24 189} {4914169400294795629 24 190} {9169552554201318211 24 191} {1898996260116585946 24 192} {919600973829431664 24 193} {4681531232267975664 24 194} {1125684073933326177 24 195} {7330715249103327038 24 196} {7950488230034630239 24 197} {4596653183510006528 24 198}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89873 term 26 leader 1 nextIndex[0]: 199  matchIndex[0]: 198
term 26 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 24 leaderCommit: 197 
------------------------------------------------------
flag 69595 term 26 leader 1 nextIndex[2]: 199  matchIndex[2]: 198
term 26 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 24 leaderCommit: 197 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=199
update matchIndex[2]=198
update leader CommitIndex=197
leader log:
[{snapshot 24 189} {4914169400294795629 24 190} {9169552554201318211 24 191} {1898996260116585946 24 192} {919600973829431664 24 193} {4681531232267975664 24 194} {1125684073933326177 24 195} {7330715249103327038 24 196} {7950488230034630239 24 197} {4596653183510006528 24 198}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=197
leader log:
[{snapshot 24 189} {4914169400294795629 24 190} {9169552554201318211 24 191} {1898996260116585946 24 192} {919600973829431664 24 193} {4681531232267975664 24 194} {1125684073933326177 24 195} {7330715249103327038 24 196} {7950488230034630239 24 197} {4596653183510006528 24 198}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10528 term 26 leader 1 nextIndex[0]: 199  matchIndex[0]: 198
term 26 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 24 leaderCommit: 197 
------------------------------------------------------
flag 63066 term 26 leader 1 nextIndex[2]: 199  matchIndex[2]: 198
term 26 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 24 leaderCommit: 197 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=199
update matchIndex[2]=198
update leader CommitIndex=197
leader log:
[{snapshot 24 189} {4914169400294795629 24 190} {9169552554201318211 24 191} {1898996260116585946 24 192} {919600973829431664 24 193} {4681531232267975664 24 194} {1125684073933326177 24 195} {7330715249103327038 24 196} {7950488230034630239 24 197} {4596653183510006528 24 198}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=197
leader log:
[{snapshot 24 189} {4914169400294795629 24 190} {9169552554201318211 24 191} {1898996260116585946 24 192} {919600973829431664 24 193} {4681531232267975664 24 194} {1125684073933326177 24 195} {7330715249103327038 24 196} {7950488230034630239 24 197} {4596653183510006528 24 198}]
------------------------------------------------------
flag 28910 term 26 leader 1 nextIndex[0]: 199  matchIndex[0]: 198
term 26 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 24 leaderCommit: 197 
------------------------------------------------------
flag 4439 term 26 leader 1 nextIndex[2]: 199  matchIndex[2]: 198
term 26 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 24 leaderCommit: 197 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=199
update matchIndex[2]=198
update leader CommitIndex=197
leader log:
[{snapshot 24 189} {4914169400294795629 24 190} {9169552554201318211 24 191} {1898996260116585946 24 192} {919600973829431664 24 193} {4681531232267975664 24 194} {1125684073933326177 24 195} {7330715249103327038 24 196} {7950488230034630239 24 197} {4596653183510006528 24 198}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=197
leader log:
[{snapshot 24 189} {4914169400294795629 24 190} {9169552554201318211 24 191} {1898996260116585946 24 192} {919600973829431664 24 193} {4681531232267975664 24 194} {1125684073933326177 24 195} {7330715249103327038 24 196} {7950488230034630239 24 197} {4596653183510006528 24 198}]
------------------------------------------------------
flag 75645 term 26 leader 1 nextIndex[0]: 199  matchIndex[0]: 198
term 26 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 24 leaderCommit: 197 
------------------------------------------------------
flag 59366 term 26 leader 1 nextIndex[2]: 199  matchIndex[2]: 198
term 26 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 24 leaderCommit: 197 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=197
leader log:
[{snapshot 24 189} {4914169400294795629 24 190} {9169552554201318211 24 191} {1898996260116585946 24 192} {919600973829431664 24 193} {4681531232267975664 24 194} {1125684073933326177 24 195} {7330715249103327038 24 196} {7950488230034630239 24 197} {4596653183510006528 24 198}]
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=199
update matchIndex[2]=198
update leader CommitIndex=197
leader log:
[{snapshot 24 189} {4914169400294795629 24 190} {9169552554201318211 24 191} {1898996260116585946 24 192} {919600973829431664 24 193} {4681531232267975664 24 194} {1125684073933326177 24 195} {7330715249103327038 24 196} {7950488230034630239 24 197} {4596653183510006528 24 198}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 26 server 0 not vote for server 1, 任期不够新
term 26 server 1 get outdate rpc reply from server 0
flag 32775 term 26 leader 1 nextIndex[0]: 199  matchIndex[0]: 198
term 26 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 24 leaderCommit: 197 
------------------------------------------------------
flag 31639 term 26 leader 1 nextIndex[2]: 199  matchIndex[2]: 198
term 26 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 24 leaderCommit: 197 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=199
update matchIndex[2]=198
update leader CommitIndex=197
leader log:
[{snapshot 24 189} {4914169400294795629 24 190} {9169552554201318211 24 191} {1898996260116585946 24 192} {919600973829431664 24 193} {4681531232267975664 24 194} {1125684073933326177 24 195} {7330715249103327038 24 196} {7950488230034630239 24 197} {4596653183510006528 24 198}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=197
leader log:
[{snapshot 24 189} {4914169400294795629 24 190} {9169552554201318211 24 191} {1898996260116585946 24 192} {919600973829431664 24 193} {4681531232267975664 24 194} {1125684073933326177 24 195} {7330715249103327038 24 196} {7950488230034630239 24 197} {4596653183510006528 24 198}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47927 term 26 leader 1 nextIndex[0]: 199  matchIndex[0]: 198
term 26 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 24 leaderCommit: 197 
------------------------------------------------------
flag 18223 term 26 leader 1 nextIndex[2]: 199  matchIndex[2]: 198
term 26 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 24 leaderCommit: 197 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=199
update matchIndex[2]=198
update leader CommitIndex=197
leader log:
[{snapshot 24 189} {4914169400294795629 24 190} {9169552554201318211 24 191} {1898996260116585946 24 192} {919600973829431664 24 193} {4681531232267975664 24 194} {1125684073933326177 24 195} {7330715249103327038 24 196} {7950488230034630239 24 197} {4596653183510006528 24 198}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=197
leader log:
[{snapshot 24 189} {4914169400294795629 24 190} {9169552554201318211 24 191} {1898996260116585946 24 192} {919600973829431664 24 193} {4681531232267975664 24 194} {1125684073933326177 24 195} {7330715249103327038 24 196} {7950488230034630239 24 197} {4596653183510006528 24 198}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16768 term 26 leader 1 nextIndex[0]: 199  matchIndex[0]: 198
term 26 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 24 leaderCommit: 197 
------------------------------------------------------
flag 54051 term 26 leader 1 nextIndex[2]: 199  matchIndex[2]: 198
term 26 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 24 leaderCommit: 197 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=199
update matchIndex[2]=198
update leader CommitIndex=197
leader log:
[{snapshot 24 189} {4914169400294795629 24 190} {9169552554201318211 24 191} {1898996260116585946 24 192} {919600973829431664 24 193} {4681531232267975664 24 194} {1125684073933326177 24 195} {7330715249103327038 24 196} {7950488230034630239 24 197} {4596653183510006528 24 198}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=197
leader log:
[{snapshot 24 189} {4914169400294795629 24 190} {9169552554201318211 24 191} {1898996260116585946 24 192} {919600973829431664 24 193} {4681531232267975664 24 194} {1125684073933326177 24 195} {7330715249103327038 24 196} {7950488230034630239 24 197} {4596653183510006528 24 198}]
------------------------------------------------------
flag 70760 term 26 leader 1 nextIndex[0]: 199  matchIndex[0]: 198
term 26 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 24 leaderCommit: 197 
------------------------------------------------------
flag 50023 term 26 leader 1 nextIndex[2]: 199  matchIndex[2]: 198
term 26 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 24 leaderCommit: 197 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=199
update matchIndex[2]=198
update leader CommitIndex=197
leader log:
[{snapshot 24 189} {4914169400294795629 24 190} {9169552554201318211 24 191} {1898996260116585946 24 192} {919600973829431664 24 193} {4681531232267975664 24 194} {1125684073933326177 24 195} {7330715249103327038 24 196} {7950488230034630239 24 197} {4596653183510006528 24 198}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=197
leader log:
[{snapshot 24 189} {4914169400294795629 24 190} {9169552554201318211 24 191} {1898996260116585946 24 192} {919600973829431664 24 193} {4681531232267975664 24 194} {1125684073933326177 24 195} {7330715249103327038 24 196} {7950488230034630239 24 197} {4596653183510006528 24 198}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7910 term 26 leader 1 nextIndex[0]: 199  matchIndex[0]: 198
term 26 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 24 leaderCommit: 197 
------------------------------------------------------
flag 70097 term 26 leader 1 nextIndex[2]: 199  matchIndex[2]: 198
term 26 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 24 leaderCommit: 197 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=199
update matchIndex[2]=198
update leader CommitIndex=197
leader log:
[{snapshot 24 189} {4914169400294795629 24 190} {9169552554201318211 24 191} {1898996260116585946 24 192} {919600973829431664 24 193} {4681531232267975664 24 194} {1125684073933326177 24 195} {7330715249103327038 24 196} {7950488230034630239 24 197} {4596653183510006528 24 198}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=197
leader log:
[{snapshot 24 189} {4914169400294795629 24 190} {9169552554201318211 24 191} {1898996260116585946 24 192} {919600973829431664 24 193} {4681531232267975664 24 194} {1125684073933326177 24 195} {7330715249103327038 24 196} {7950488230034630239 24 197} {4596653183510006528 24 198}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64502 term 26 leader 1 nextIndex[0]: 199  matchIndex[0]: 198
term 26 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 24 leaderCommit: 197 
------------------------------------------------------
flag 746 term 26 leader 1 nextIndex[2]: 199  matchIndex[2]: 198
term 26 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 24 leaderCommit: 197 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=199
update matchIndex[2]=198
update leader CommitIndex=197
leader log:
[{snapshot 24 189} {4914169400294795629 24 190} {9169552554201318211 24 191} {1898996260116585946 24 192} {919600973829431664 24 193} {4681531232267975664 24 194} {1125684073933326177 24 195} {7330715249103327038 24 196} {7950488230034630239 24 197} {4596653183510006528 24 198}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=197
leader log:
[{snapshot 24 189} {4914169400294795629 24 190} {9169552554201318211 24 191} {1898996260116585946 24 192} {919600973829431664 24 193} {4681531232267975664 24 194} {1125684073933326177 24 195} {7330715249103327038 24 196} {7950488230034630239 24 197} {4596653183510006528 24 198}]
------------------------------------------------------
flag 99221 term 26 leader 1 nextIndex[0]: 199  matchIndex[0]: 198
term 26 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 24 leaderCommit: 197 
------------------------------------------------------
flag 26977 term 26 leader 1 nextIndex[2]: 199  matchIndex[2]: 198
term 26 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 24 leaderCommit: 197 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=199
update matchIndex[2]=198
update leader CommitIndex=197
leader log:
[{snapshot 24 189} {4914169400294795629 24 190} {9169552554201318211 24 191} {1898996260116585946 24 192} {919600973829431664 24 193} {4681531232267975664 24 194} {1125684073933326177 24 195} {7330715249103327038 24 196} {7950488230034630239 24 197} {4596653183510006528 24 198}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=197
leader log:
[{snapshot 24 189} {4914169400294795629 24 190} {9169552554201318211 24 191} {1898996260116585946 24 192} {919600973829431664 24 193} {4681531232267975664 24 194} {1125684073933326177 24 195} {7330715249103327038 24 196} {7950488230034630239 24 197} {4596653183510006528 24 198}]
------------------------------------------------------
flag 29567 term 26 leader 1 nextIndex[0]: 199  matchIndex[0]: 198
term 26 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 24 leaderCommit: 197 
------------------------------------------------------
flag 2361 term 26 leader 1 nextIndex[2]: 199  matchIndex[2]: 198
term 26 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 24 leaderCommit: 197 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=199
update matchIndex[2]=198
update leader CommitIndex=197
leader log:
[{snapshot 24 189} {4914169400294795629 24 190} {9169552554201318211 24 191} {1898996260116585946 24 192} {919600973829431664 24 193} {4681531232267975664 24 194} {1125684073933326177 24 195} {7330715249103327038 24 196} {7950488230034630239 24 197} {4596653183510006528 24 198}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=197
leader log:
[{snapshot 24 189} {4914169400294795629 24 190} {9169552554201318211 24 191} {1898996260116585946 24 192} {919600973829431664 24 193} {4681531232267975664 24 194} {1125684073933326177 24 195} {7330715249103327038 24 196} {7950488230034630239 24 197} {4596653183510006528 24 198}]
------------------------------------------------------
flag 54304 term 26 leader 1 nextIndex[0]: 199  matchIndex[0]: 198
term 26 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 24 leaderCommit: 197 
------------------------------------------------------
flag 55473 term 26 leader 1 nextIndex[2]: 199  matchIndex[2]: 198
term 26 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 24 leaderCommit: 197 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=199
update matchIndex[2]=198
update leader CommitIndex=197
leader log:
[{snapshot 24 189} {4914169400294795629 24 190} {9169552554201318211 24 191} {1898996260116585946 24 192} {919600973829431664 24 193} {4681531232267975664 24 194} {1125684073933326177 24 195} {7330715249103327038 24 196} {7950488230034630239 24 197} {4596653183510006528 24 198}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=197
leader log:
[{snapshot 24 189} {4914169400294795629 24 190} {9169552554201318211 24 191} {1898996260116585946 24 192} {919600973829431664 24 193} {4681531232267975664 24 194} {1125684073933326177 24 195} {7330715249103327038 24 196} {7950488230034630239 24 197} {4596653183510006528 24 198}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 4596653183510006528 (index 199) to leader 1
flag 62442 term 26 leader 1 nextIndex[0]: 199  matchIndex[0]: 198
term 26 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 24 leaderCommit: 197 
------------------------------------------------------
flag 32579 term 26 leader 1 nextIndex[2]: 199  matchIndex[2]: 198
term 26 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 24 leaderCommit: 197 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=200
update matchIndex[2]=199
update leader CommitIndex=199
leader log:
[{snapshot 24 189} {4914169400294795629 24 190} {9169552554201318211 24 191} {1898996260116585946 24 192} {919600973829431664 24 193} {4681531232267975664 24 194} {1125684073933326177 24 195} {7330715249103327038 24 196} {7950488230034630239 24 197} {4596653183510006528 24 198} {4596653183510006528 26 199}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=200
update matchIndex[0]=199
update leader CommitIndex=199
leader log:
[{snapshot 24 189} {4914169400294795629 24 190} {9169552554201318211 24 191} {1898996260116585946 24 192} {919600973829431664 24 193} {4681531232267975664 24 194} {1125684073933326177 24 195} {7330715249103327038 24 196} {7950488230034630239 24 197} {4596653183510006528 24 198} {4596653183510006528 26 199}]
------------------------------------------------------
term 26 Server1 start snapshot! index=199
term 26 server1 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=199
-------------------------------------------------------------
term 26 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 70448 term 26 leader 1 nextIndex[0]: 200  matchIndex[0]: 199
term 26 leader 1 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 26 leaderCommit: 199 
------------------------------------------------------
flag 30981 term 26 leader 1 nextIndex[2]: 200  matchIndex[2]: 199
term 26 leader 1 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 26 leaderCommit: 199 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=200
update matchIndex[2]=199
update leader CommitIndex=199
leader log:
[{snapshot 26 199}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=200
update matchIndex[0]=199
update leader CommitIndex=199
leader log:
[{snapshot 26 199}]
------------------------------------------------------
term 26 Server2 start snapshot! index=199
term 26 server2 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=199
-------------------------------------------------------------
term 26 Server0 start snapshot! index=199
term 26 server0 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=199
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91553 term 26 leader 1 nextIndex[0]: 200  matchIndex[0]: 199
term 26 leader 1 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 26 leaderCommit: 199 
------------------------------------------------------
flag 3082 term 26 leader 1 nextIndex[2]: 200  matchIndex[2]: 199
term 26 leader 1 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 26 leaderCommit: 199 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=200
update matchIndex[2]=199
update leader CommitIndex=199
leader log:
[{snapshot 26 199}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=200
update matchIndex[0]=199
update leader CommitIndex=199
leader log:
[{snapshot 26 199}]
------------------------------------------------------
flag 73695 term 26 leader 1 nextIndex[0]: 200  matchIndex[0]: 199
term 26 leader 1 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 26 leaderCommit: 199 
------------------------------------------------------
flag 48570 term 26 leader 1 nextIndex[2]: 200  matchIndex[2]: 199
term 26 leader 1 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 26 leaderCommit: 199 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=200
update matchIndex[2]=199
update leader CommitIndex=199
leader log:
[{snapshot 26 199}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=200
update matchIndex[0]=199
update leader CommitIndex=199
leader log:
[{snapshot 26 199}]
------------------------------------------------------
flag 76464 term 26 leader 1 nextIndex[0]: 200  matchIndex[0]: 199
term 26 leader 1 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 26 leaderCommit: 199 
------------------------------------------------------
flag 79758 term 26 leader 1 nextIndex[2]: 200  matchIndex[2]: 199
term 26 leader 1 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 26 leaderCommit: 199 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=200
update matchIndex[0]=199
update leader CommitIndex=199
leader log:
[{snapshot 26 199}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=200
update matchIndex[2]=199
update leader CommitIndex=199
leader log:
[{snapshot 26 199}]
------------------------------------------------------
flag 9652 term 26 leader 1 nextIndex[0]: 200  matchIndex[0]: 199
term 26 leader 1 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 26 leaderCommit: 199 
------------------------------------------------------
flag 77495 term 26 leader 1 nextIndex[2]: 200  matchIndex[2]: 199
term 26 leader 1 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 26 leaderCommit: 199 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=200
update matchIndex[2]=199
update leader CommitIndex=199
leader log:
[{snapshot 26 199}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=200
update matchIndex[0]=199
update leader CommitIndex=199
leader log:
[{snapshot 26 199}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45179 term 26 leader 1 nextIndex[0]: 200  matchIndex[0]: 199
term 26 leader 1 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 26 leaderCommit: 199 
------------------------------------------------------
flag 70946 term 26 leader 1 nextIndex[2]: 200  matchIndex[2]: 199
term 26 leader 1 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 26 leaderCommit: 199 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=200
update matchIndex[2]=199
update leader CommitIndex=199
leader log:
[{snapshot 26 199}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=200
update matchIndex[0]=199
update leader CommitIndex=199
leader log:
[{snapshot 26 199}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 8721605455491976614 (index 200) to leader 1
flag 47566 term 26 leader 1 nextIndex[0]: 200  matchIndex[0]: 199
term 26 leader 1 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 26 leaderCommit: 199 
------------------------------------------------------
flag 42325 term 26 leader 1 nextIndex[2]: 200  matchIndex[2]: 199
term 26 leader 1 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 26 leaderCommit: 199 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=201
update matchIndex[0]=200
update leader CommitIndex=200
leader log:
[{snapshot 26 199} {8721605455491976614 26 200}]
------------------------------------------------------
term 26 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 38665 term 26 leader 1 nextIndex[0]: 201  matchIndex[0]: 200
term 26 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 26 leaderCommit: 200 
------------------------------------------------------
flag 69334 term 26 leader 1 nextIndex[2]: 200  matchIndex[2]: 199
term 26 leader 1 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 26 leaderCommit: 200 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=201
update matchIndex[0]=200
update leader CommitIndex=200
leader log:
[{snapshot 26 199} {8721605455491976614 26 200}]
------------------------------------------------------
client write log 6507634999691979338 (index 201) to leader 1
client write log 5377610029915454027 (index 202) to leader 1
client write log 4959269981412189909 (index 203) to leader 1
client write log 6508301970874965123 (index 204) to leader 1
client write log 1957441489157240836 (index 205) to leader 1
client write log 648527385869813861 (index 206) to leader 1
client write log 2184161599919916203 (index 207) to leader 1
client write log 2548300765618578541 (index 208) to leader 1
client write log 1635527567770503532 (index 209) to leader 1
client write log 5029900836933239497 (index 210) to leader 1
client write log 8946656224698091151 (index 211) to leader 1
client write log 1419784957761286890 (index 212) to leader 1
client write log 1874747718321379537 (index 213) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92590 term 26 leader 1 nextIndex[0]: 201  matchIndex[0]: 200
term 26 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 26 leaderCommit: 200 
------------------------------------------------------
flag 47041 term 26 leader 1 nextIndex[2]: 200  matchIndex[2]: 199
term 26 leader 1 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 26 leaderCommit: 200 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=214
update matchIndex[0]=213
update leader CommitIndex=213
leader log:
[{snapshot 26 199} {8721605455491976614 26 200} {6507634999691979338 26 201} {5377610029915454027 26 202} {4959269981412189909 26 203} {6508301970874965123 26 204} {1957441489157240836 26 205} {648527385869813861 26 206} {2184161599919916203 26 207} {2548300765618578541 26 208} {1635527567770503532 26 209} {5029900836933239497 26 210} {8946656224698091151 26 211} {1419784957761286890 26 212} {1874747718321379537 26 213}]
------------------------------------------------------
term 26 Server1 start snapshot! index=209
term 26 server1 snapshot success
lastIncludedIndex=209 lastApplied=210 lastIndex=213
-------------------------------------------------------------
flag 59536 term 26 leader 1 nextIndex[0]: 214  matchIndex[0]: 213
term 26 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 26 leaderCommit: 213 
------------------------------------------------------
term 26 leader 1 nextIndex[2]: 200  matchIndex[2]: 199
term 26 leader 1 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 26
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=214
update matchIndex[0]=213
update leader CommitIndex=213
leader log:
[{snapshot 26 209} {5029900836933239497 26 210} {8946656224698091151 26 211} {1419784957761286890 26 212} {1874747718321379537 26 213}]
------------------------------------------------------
term 26 Server0 start snapshot! index=209
term 26 server0 snapshot success
lastIncludedIndex=209 lastApplied=210 lastIndex=213
-------------------------------------------------------------
!!!!!!connect server 2
client write log 6716320869201247097 (index 214) to leader 1
flag 42861 term 26 leader 1 nextIndex[0]: 214  matchIndex[0]: 213
term 26 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 26 leaderCommit: 213 
------------------------------------------------------
term 26 leader 1 nextIndex[2]: 200  matchIndex[2]: 199
term 26 leader 1 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 26
------------------------------------------------------
term 27 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 26 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 27 server 1 not vote for server 2, 日志不够新
term 28 server 2 vote for server 1
term 28 server 0 vote for server 1
term 28 server 1 get vote from server 2
term 28 server 1 become leader
------------------------------------------------------
term 28 server 1 get outdate rpc reply from server 0
flag 64304 term 28 leader 1 nextIndex[0]: 215  matchIndex[0]: 0
term 28 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 26 leaderCommit: 213 
------------------------------------------------------
flag 74433 term 28 leader 1 nextIndex[2]: 215  matchIndex[2]: 0
term 28 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 26 leaderCommit: 213 
------------------------------------------------------
term 28 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 215->214
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=213
leader log:
[{snapshot 26 209} {5029900836933239497 26 210} {8946656224698091151 26 211} {1419784957761286890 26 212} {1874747718321379537 26 213} {6716320869201247097 26 214}]
------------------------------------------------------
flag 89869 term 28 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 28 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 26 leaderCommit: 213 
------------------------------------------------------
term 28 leader 1 nextIndex[2]: 200  matchIndex[2]: 0
term 28 leader 1 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 26
------------------------------------------------------
term 28 server 2 InstallSnapshot success
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
term 28 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 210 matchIndex[2] 209 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=213
leader log:
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 209 rf.lastIncludedTerm 26 rf.commitIndex 209 rf.lastApplied 209
[{snapshot 26 209} {5029900836933239497 26 210} {8946656224698091151 26 211} {1419784957761286890 26 212} {1874747718321379537 26 213} {6716320869201247097 26 214}]
------------------------------------------------------
flag 81317 term 28 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 28 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 26 leaderCommit: 213 
------------------------------------------------------
flag 85627 term 28 leader 1 nextIndex[2]: 210  matchIndex[2]: 209
term 28 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 26 leaderCommit: 213 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 26 209} {5029900836933239497 26 210} {8946656224698091151 26 211} {1419784957761286890 26 212} {1874747718321379537 26 213} {6716320869201247097 26 214}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=213
leader log:
[{snapshot 26 209} {5029900836933239497 26 210} {8946656224698091151 26 211} {1419784957761286890 26 212} {1874747718321379537 26 213} {6716320869201247097 26 214}]
------------------------------------------------------
flag 35664 term 28 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 28 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 26 leaderCommit: 213 
------------------------------------------------------
flag 68838 term 28 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 28 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 26 leaderCommit: 213 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=213
leader log:
[{snapshot 26 209} {5029900836933239497 26 210} {8946656224698091151 26 211} {1419784957761286890 26 212} {1874747718321379537 26 213} {6716320869201247097 26 214}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 26 209} {5029900836933239497 26 210} {8946656224698091151 26 211} {1419784957761286890 26 212} {1874747718321379537 26 213} {6716320869201247097 26 214}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65917 term 28 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 28 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 26 leaderCommit: 213 
------------------------------------------------------
flag 52645 term 28 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 28 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 26 leaderCommit: 213 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 26 209} {5029900836933239497 26 210} {8946656224698091151 26 211} {1419784957761286890 26 212} {1874747718321379537 26 213} {6716320869201247097 26 214}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=213
leader log:
[{snapshot 26 209} {5029900836933239497 26 210} {8946656224698091151 26 211} {1419784957761286890 26 212} {1874747718321379537 26 213} {6716320869201247097 26 214}]
------------------------------------------------------
flag 54888 term 28 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 28 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 26 leaderCommit: 213 
------------------------------------------------------
flag 44194 term 28 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 28 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 26 leaderCommit: 213 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 26 209} {5029900836933239497 26 210} {8946656224698091151 26 211} {1419784957761286890 26 212} {1874747718321379537 26 213} {6716320869201247097 26 214}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=213
leader log:
[{snapshot 26 209} {5029900836933239497 26 210} {8946656224698091151 26 211} {1419784957761286890 26 212} {1874747718321379537 26 213} {6716320869201247097 26 214}]
------------------------------------------------------
flag 25930 term 28 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 28 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 26 leaderCommit: 213 
------------------------------------------------------
flag 16059 term 28 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 28 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 26 leaderCommit: 213 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 26 209} {5029900836933239497 26 210} {8946656224698091151 26 211} {1419784957761286890 26 212} {1874747718321379537 26 213} {6716320869201247097 26 214}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=213
leader log:
[{snapshot 26 209} {5029900836933239497 26 210} {8946656224698091151 26 211} {1419784957761286890 26 212} {1874747718321379537 26 213} {6716320869201247097 26 214}]
------------------------------------------------------
term 28 server 0 not vote for server 2, 任期不够新
term 28 server 2 get outdate rpc reply from server 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33127 term 28 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 28 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 26 leaderCommit: 213 
------------------------------------------------------
flag 5160 term 28 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 28 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 26 leaderCommit: 213 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 26 209} {5029900836933239497 26 210} {8946656224698091151 26 211} {1419784957761286890 26 212} {1874747718321379537 26 213} {6716320869201247097 26 214}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=213
leader log:
[{snapshot 26 209} {5029900836933239497 26 210} {8946656224698091151 26 211} {1419784957761286890 26 212} {1874747718321379537 26 213} {6716320869201247097 26 214}]
------------------------------------------------------
term 28 server 0 not vote for server 2, 任期不够新
term 28 server 2 get outdate rpc reply from server 0
flag 79906 term 28 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 28 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 26 leaderCommit: 213 
------------------------------------------------------
flag 63925 term 28 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 28 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 26 leaderCommit: 213 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 26 209} {5029900836933239497 26 210} {8946656224698091151 26 211} {1419784957761286890 26 212} {1874747718321379537 26 213} {6716320869201247097 26 214}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=213
leader log:
[{snapshot 26 209} {5029900836933239497 26 210} {8946656224698091151 26 211} {1419784957761286890 26 212} {1874747718321379537 26 213} {6716320869201247097 26 214}]
------------------------------------------------------
flag 83357 term 28 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 28 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 26 leaderCommit: 213 
------------------------------------------------------
flag 39384 term 28 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 28 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 26 leaderCommit: 213 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 26 209} {5029900836933239497 26 210} {8946656224698091151 26 211} {1419784957761286890 26 212} {1874747718321379537 26 213} {6716320869201247097 26 214}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=213
leader log:
[{snapshot 26 209} {5029900836933239497 26 210} {8946656224698091151 26 211} {1419784957761286890 26 212} {1874747718321379537 26 213} {6716320869201247097 26 214}]
------------------------------------------------------
flag 97502 term 28 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 28 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 26 leaderCommit: 213 
------------------------------------------------------
flag 76912 term 28 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 28 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 26 leaderCommit: 213 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=213
leader log:
[{snapshot 26 209} {5029900836933239497 26 210} {8946656224698091151 26 211} {1419784957761286890 26 212} {1874747718321379537 26 213} {6716320869201247097 26 214}]
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 26 209} {5029900836933239497 26 210} {8946656224698091151 26 211} {1419784957761286890 26 212} {1874747718321379537 26 213} {6716320869201247097 26 214}]
------------------------------------------------------
flag 83896 term 28 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 28 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 26 leaderCommit: 213 
------------------------------------------------------
flag 39037 term 28 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 28 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 26 leaderCommit: 213 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=213
leader log:
[{snapshot 26 209} {5029900836933239497 26 210} {8946656224698091151 26 211} {1419784957761286890 26 212} {1874747718321379537 26 213} {6716320869201247097 26 214}]
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 26 209} {5029900836933239497 26 210} {8946656224698091151 26 211} {1419784957761286890 26 212} {1874747718321379537 26 213} {6716320869201247097 26 214}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63108 term 28 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 28 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 26 leaderCommit: 213 
------------------------------------------------------
flag 14310 term 28 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 28 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 26 leaderCommit: 213 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 26 209} {5029900836933239497 26 210} {8946656224698091151 26 211} {1419784957761286890 26 212} {1874747718321379537 26 213} {6716320869201247097 26 214}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=213
leader log:
[{snapshot 26 209} {5029900836933239497 26 210} {8946656224698091151 26 211} {1419784957761286890 26 212} {1874747718321379537 26 213} {6716320869201247097 26 214}]
------------------------------------------------------
flag 1686 term 28 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 28 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 26 leaderCommit: 213 
------------------------------------------------------
flag 8720 term 28 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 28 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 26 leaderCommit: 213 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 26 209} {5029900836933239497 26 210} {8946656224698091151 26 211} {1419784957761286890 26 212} {1874747718321379537 26 213} {6716320869201247097 26 214}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=213
leader log:
[{snapshot 26 209} {5029900836933239497 26 210} {8946656224698091151 26 211} {1419784957761286890 26 212} {1874747718321379537 26 213} {6716320869201247097 26 214}]
------------------------------------------------------
flag 99970 term 28 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 28 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 26 leaderCommit: 213 
------------------------------------------------------
flag 15418 term 28 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 28 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 26 leaderCommit: 213 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 26 209} {5029900836933239497 26 210} {8946656224698091151 26 211} {1419784957761286890 26 212} {1874747718321379537 26 213} {6716320869201247097 26 214}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=213
leader log:
[{snapshot 26 209} {5029900836933239497 26 210} {8946656224698091151 26 211} {1419784957761286890 26 212} {1874747718321379537 26 213} {6716320869201247097 26 214}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29525 term 28 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 28 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 26 leaderCommit: 213 
------------------------------------------------------
flag 69191 term 28 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 28 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 26 leaderCommit: 213 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 26 209} {5029900836933239497 26 210} {8946656224698091151 26 211} {1419784957761286890 26 212} {1874747718321379537 26 213} {6716320869201247097 26 214}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=213
leader log:
[{snapshot 26 209} {5029900836933239497 26 210} {8946656224698091151 26 211} {1419784957761286890 26 212} {1874747718321379537 26 213} {6716320869201247097 26 214}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38576 term 28 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 28 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 26 leaderCommit: 213 
------------------------------------------------------
flag 58446 term 28 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 28 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 26 leaderCommit: 213 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 26 209} {5029900836933239497 26 210} {8946656224698091151 26 211} {1419784957761286890 26 212} {1874747718321379537 26 213} {6716320869201247097 26 214}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=213
leader log:
[{snapshot 26 209} {5029900836933239497 26 210} {8946656224698091151 26 211} {1419784957761286890 26 212} {1874747718321379537 26 213} {6716320869201247097 26 214}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56798 term 28 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 28 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 26 leaderCommit: 213 
------------------------------------------------------
flag 68427 term 28 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 28 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 26 leaderCommit: 213 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 26 209} {5029900836933239497 26 210} {8946656224698091151 26 211} {1419784957761286890 26 212} {1874747718321379537 26 213} {6716320869201247097 26 214}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=213
leader log:
[{snapshot 26 209} {5029900836933239497 26 210} {8946656224698091151 26 211} {1419784957761286890 26 212} {1874747718321379537 26 213} {6716320869201247097 26 214}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71864 term 28 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 28 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 26 leaderCommit: 213 
------------------------------------------------------
flag 16671 term 28 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 28 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 26 leaderCommit: 213 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 26 209} {5029900836933239497 26 210} {8946656224698091151 26 211} {1419784957761286890 26 212} {1874747718321379537 26 213} {6716320869201247097 26 214}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=213
leader log:
[{snapshot 26 209} {5029900836933239497 26 210} {8946656224698091151 26 211} {1419784957761286890 26 212} {1874747718321379537 26 213} {6716320869201247097 26 214}]
------------------------------------------------------
client write log 6716320869201247097 (index 215) to leader 1
flag 77038 term 28 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 28 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 26 leaderCommit: 213 
------------------------------------------------------
flag 3600 term 28 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 28 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 26 leaderCommit: 213 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=215
leader log:
[{snapshot 26 209} {5029900836933239497 26 210} {8946656224698091151 26 211} {1419784957761286890 26 212} {1874747718321379537 26 213} {6716320869201247097 26 214} {6716320869201247097 28 215}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=215
leader log:
[{snapshot 26 209} {5029900836933239497 26 210} {8946656224698091151 26 211} {1419784957761286890 26 212} {1874747718321379537 26 213} {6716320869201247097 26 214} {6716320869201247097 28 215}]
------------------------------------------------------
flag 93934 term 28 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 28 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 28 leaderCommit: 215 
------------------------------------------------------
flag 55580 term 28 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 28 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 28 leaderCommit: 215 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:215 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=215
leader log:
[{snapshot 26 209} {5029900836933239497 26 210} {8946656224698091151 26 211} {1419784957761286890 26 212} {1874747718321379537 26 213} {6716320869201247097 26 214} {6716320869201247097 28 215}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=215
leader log:
[{snapshot 26 209} {5029900836933239497 26 210} {8946656224698091151 26 211} {1419784957761286890 26 212} {1874747718321379537 26 213} {6716320869201247097 26 214} {6716320869201247097 28 215}]
------------------------------------------------------
flag 54984 term 28 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 28 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 28 leaderCommit: 215 
------------------------------------------------------
flag 85105 term 28 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 28 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 28 leaderCommit: 215 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:215 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=215
leader log:
[{snapshot 26 209} {5029900836933239497 26 210} {8946656224698091151 26 211} {1419784957761286890 26 212} {1874747718321379537 26 213} {6716320869201247097 26 214} {6716320869201247097 28 215}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=215
leader log:
[{snapshot 26 209} {5029900836933239497 26 210} {8946656224698091151 26 211} {1419784957761286890 26 212} {1874747718321379537 26 213} {6716320869201247097 26 214} {6716320869201247097 28 215}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45425 term 28 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 28 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 28 leaderCommit: 215 
------------------------------------------------------
flag 29483 term 28 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 28 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 28 leaderCommit: 215 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:215 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=215
leader log:
[{snapshot 26 209} {5029900836933239497 26 210} {8946656224698091151 26 211} {1419784957761286890 26 212} {1874747718321379537 26 213} {6716320869201247097 26 214} {6716320869201247097 28 215}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=215
leader log:
[{snapshot 26 209} {5029900836933239497 26 210} {8946656224698091151 26 211} {1419784957761286890 26 212} {1874747718321379537 26 213} {6716320869201247097 26 214} {6716320869201247097 28 215}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71685 term 28 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 28 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 28 leaderCommit: 215 
------------------------------------------------------
flag 74 term 28 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 28 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 28 leaderCommit: 215 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=215
leader log:
[{snapshot 26 209} {5029900836933239497 26 210} {8946656224698091151 26 211} {1419784957761286890 26 212} {1874747718321379537 26 213} {6716320869201247097 26 214} {6716320869201247097 28 215}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=215
leader log:
[{snapshot 26 209} {5029900836933239497 26 210} {8946656224698091151 26 211} {1419784957761286890 26 212} {1874747718321379537 26 213} {6716320869201247097 26 214} {6716320869201247097 28 215}]
------------------------------------------------------
flag 58404 term 28 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 28 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 28 leaderCommit: 215 
------------------------------------------------------
flag 21096 term 28 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 28 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 28 leaderCommit: 215 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=215
leader log:
[{snapshot 26 209} {5029900836933239497 26 210} {8946656224698091151 26 211} {1419784957761286890 26 212} {1874747718321379537 26 213} {6716320869201247097 26 214} {6716320869201247097 28 215}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=215
leader log:
[{snapshot 26 209} {5029900836933239497 26 210} {8946656224698091151 26 211} {1419784957761286890 26 212} {1874747718321379537 26 213} {6716320869201247097 26 214} {6716320869201247097 28 215}]
------------------------------------------------------
flag 17300 term 28 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 28 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 28 leaderCommit: 215 
------------------------------------------------------
flag 24598 term 28 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 28 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 28 leaderCommit: 215 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=215
leader log:
term 28 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
[{snapshot 26 209} {5029900836933239497 26 210} {8946656224698091151 26 211} {1419784957761286890 26 212} {1874747718321379537 26 213} {6716320869201247097 26 214} {6716320869201247097 28 215}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=215
leader log:
[{snapshot 26 209} {5029900836933239497 26 210} {8946656224698091151 26 211} {1419784957761286890 26 212} {1874747718321379537 26 213} {6716320869201247097 26 214} {6716320869201247097 28 215}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 92284 term 28 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 28 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 28 leaderCommit: 215 
------------------------------------------------------
flag 16482 term 28 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 28 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 28 leaderCommit: 215 
------------------------------------------------------
flag 69195 term 28 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 28 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 28 leaderCommit: 215 
------------------------------------------------------
flag 14564 term 28 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 28 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 28 leaderCommit: 215 
------------------------------------------------------
flag 7856 term 28 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 28 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 28 leaderCommit: 215 
------------------------------------------------------
flag 88969 term 28 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 28 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 28 leaderCommit: 215 
------------------------------------------------------
flag 41367 term 28 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 28 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 28 leaderCommit: 215 
------------------------------------------------------
flag 27544 term 28 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 28 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 28 leaderCommit: 215 
------------------------------------------------------
term 29 server 0 vote for server 2
term 29 server 2 get vote from server 0
term 29 server 2 become leader
------------------------------------------------------
flag 64753 term 29 leader 2 nextIndex[0]: 216  matchIndex[0]: 0
term 29 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 28 leaderCommit: 215 
------------------------------------------------------
flag 18378 term 29 leader 2 nextIndex[1]: 216  matchIndex[1]: 0
term 29 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 28 leaderCommit: 215 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=215
leader log:
[{snapshot 26 209} {5029900836933239497 26 210} {8946656224698091151 26 211} {1419784957761286890 26 212} {1874747718321379537 26 213} {6716320869201247097 26 214} {6716320869201247097 28 215}]
------------------------------------------------------
client write log 9097099659524965491 (index 216) to leader 2
flag 63126 term 28 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 28 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 28 leaderCommit: 215 
------------------------------------------------------
flag 34865 term 28 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 28 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 28 leaderCommit: 215 
------------------------------------------------------
flag 19378 term 29 leader 2 nextIndex[0]: 216  matchIndex[0]: 215
term 29 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 28 leaderCommit: 215 
------------------------------------------------------
flag 21897 term 29 leader 2 nextIndex[1]: 216  matchIndex[1]: 0
term 29 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 28 leaderCommit: 215 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=216
leader log:
[{snapshot 26 209} {5029900836933239497 26 210} {8946656224698091151 26 211} {1419784957761286890 26 212} {1874747718321379537 26 213} {6716320869201247097 26 214} {6716320869201247097 28 215} {9097099659524965491 29 216}]
------------------------------------------------------
flag 22101 term 28 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 28 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 28 leaderCommit: 215 
------------------------------------------------------
flag 53070 term 28 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 28 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 28 leaderCommit: 215 
------------------------------------------------------
flag 64265 term 29 leader 2 nextIndex[0]: 217  matchIndex[0]: 216
term 29 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 29 leaderCommit: 216 
------------------------------------------------------
flag 51322 term 29 leader 2 nextIndex[1]: 216  matchIndex[1]: 0
term 29 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 28 leaderCommit: 216 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=216
leader log:
[{snapshot 26 209} {5029900836933239497 26 210} {8946656224698091151 26 211} {1419784957761286890 26 212} {1874747718321379537 26 213} {6716320869201247097 26 214} {6716320869201247097 28 215} {9097099659524965491 29 216}]
------------------------------------------------------
client write log 9074677539802150022 (index 217) to leader 2
client write log 5250108957989920975 (index 218) to leader 2
client write log 2779406583235346184 (index 219) to leader 2
client write log 5622585098216137505 (index 220) to leader 2
client write log 8939660418348102640 (index 221) to leader 2
client write log 6631623183045266410 (index 222) to leader 2
client write log 5239387170032902224 (index 223) to leader 2
client write log 4835200230147411462 (index 224) to leader 2
client write log 7448820588096387859 (index 225) to leader 2
client write log 4120471881481004999 (index 226) to leader 2
flag 4625 term 28 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 28 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 28 leaderCommit: 215 
------------------------------------------------------
flag 51379 term 28 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 28 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 28 leaderCommit: 215 
------------------------------------------------------
flag 16767 term 29 leader 2 nextIndex[0]: 217  matchIndex[0]: 216
term 29 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 29 leaderCommit: 216 
------------------------------------------------------
flag 65186 term 29 leader 2 nextIndex[1]: 216  matchIndex[1]: 0
term 29 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 28 leaderCommit: 216 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=226
leader log:
[{snapshot 26 209} {5029900836933239497 26 210} {8946656224698091151 26 211} {1419784957761286890 26 212} {1874747718321379537 26 213} {6716320869201247097 26 214} {6716320869201247097 28 215} {9097099659524965491 29 216} {9074677539802150022 29 217} {5250108957989920975 29 218} {2779406583235346184 29 219} {5622585098216137505 29 220} {8939660418348102640 29 221} {6631623183045266410 29 222} {5239387170032902224 29 223} {4835200230147411462 29 224} {7448820588096387859 29 225} {4120471881481004999 29 226}]
------------------------------------------------------
term 29 Server2 start snapshot! index=219
term 29 server2 snapshot success
lastIncludedIndex=219 lastApplied=220 lastIndex=226
-------------------------------------------------------------
flag 10710 term 28 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 28 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 28 leaderCommit: 215 
------------------------------------------------------
flag 93935 term 28 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 28 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 28 leaderCommit: 215 
------------------------------------------------------
flag 56328 term 29 leader 2 nextIndex[0]: 227  matchIndex[0]: 226
term 29 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 29 leaderCommit: 226 
------------------------------------------------------
term 29 leader 2 nextIndex[1]: 216  matchIndex[1]: 0
term 29 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 29
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=226
leader log:
[{snapshot 29 219} {5622585098216137505 29 220} {8939660418348102640 29 221} {6631623183045266410 29 222} {5239387170032902224 29 223} {4835200230147411462 29 224} {7448820588096387859 29 225} {4120471881481004999 29 226}]
------------------------------------------------------
term 29 Server0 start snapshot! index=219
term 29 server0 snapshot success
lastIncludedIndex=219 lastApplied=220 lastIndex=226
-------------------------------------------------------------
!!!!!!connect server 1
client write log 7118884797045473348 (index 216) to leader 1
flag 66221 term 28 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 28 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 28 leaderCommit: 215 
------------------------------------------------------
flag 44953 term 28 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 28 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 28 leaderCommit: 215 
------------------------------------------------------
term 29 server 2 AppendEntries false 领导者任期过期 args.Term 28
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 29 server 0 AppendEntries false 领导者任期过期 args.Term 28
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50350 term 29 leader 2 nextIndex[0]: 227  matchIndex[0]: 226
term 29 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 29 leaderCommit: 226 
------------------------------------------------------
term 29 leader 2 nextIndex[1]: 216  matchIndex[1]: 0
term 29 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 29
------------------------------------------------------
term 29 server 1 InstallSnapshot success
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
term 29 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 220 matchIndex[1] 219 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=226
leader log:
[{snapshot 29 219} {5622585098216137505 29 220} {8939660418348102640 29 221} {6631623183045266410 29 222} {5239387170032902224 29 223} {4835200230147411462 29 224} {7448820588096387859 29 225} {4120471881481004999 29 226}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 219 rf.lastIncludedTerm 29 rf.commitIndex 219 rf.lastApplied 219
term 29 server 1 not vote for server 2, 任期不够新
term 29 server 2 get outdate rpc reply from server 1
flag 41114 term 29 leader 2 nextIndex[0]: 227  matchIndex[0]: 226
term 29 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 29 leaderCommit: 226 
------------------------------------------------------
flag 35911 term 29 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 29 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 29 leaderCommit: 226 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 29 219} {5622585098216137505 29 220} {8939660418348102640 29 221} {6631623183045266410 29 222} {5239387170032902224 29 223} {4835200230147411462 29 224} {7448820588096387859 29 225} {4120471881481004999 29 226}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=226
leader log:
[{snapshot 29 219} {5622585098216137505 29 220} {8939660418348102640 29 221} {6631623183045266410 29 222} {5239387170032902224 29 223} {4835200230147411462 29 224} {7448820588096387859 29 225} {4120471881481004999 29 226}]
------------------------------------------------------
flag 11534 term 29 leader 2 nextIndex[0]: 227  matchIndex[0]: 226
term 29 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 29 leaderCommit: 226 
------------------------------------------------------
flag 5904 term 29 leader 2 nextIndex[1]: 227  matchIndex[1]: 226
term 29 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 29 leaderCommit: 226 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 29 219} {5622585098216137505 29 220} {8939660418348102640 29 221} {6631623183045266410 29 222} {5239387170032902224 29 223} {4835200230147411462 29 224} {7448820588096387859 29 225} {4120471881481004999 29 226}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=226
leader log:
[{snapshot 29 219} {5622585098216137505 29 220} {8939660418348102640 29 221} {6631623183045266410 29 222} {5239387170032902224 29 223} {4835200230147411462 29 224} {7448820588096387859 29 225} {4120471881481004999 29 226}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 227->226
------------------------------------------------------
flag 46088 term 29 leader 2 nextIndex[0]: 227  matchIndex[0]: 226
term 29 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 29 leaderCommit: 226 
------------------------------------------------------
term 29 leader 2 nextIndex[1]: 0  matchIndex[1]: 226
term 29 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 29
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=226
leader log:
[{snapshot 29 219} {5622585098216137505 29 220} {8939660418348102640 29 221} {6631623183045266410 29 222} {5239387170032902224 29 223} {4835200230147411462 29 224} {7448820588096387859 29 225} {4120471881481004999 29 226}]
------------------------------------------------------
term 29 server 1 InstallSnapshot fail
rf.commitIndex 226 args.LastIncludedIndex 219
------------------------------------------------------
term 29 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 220 matchIndex[1] 219 
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61015 term 29 leader 2 nextIndex[0]: 227  matchIndex[0]: 226
term 29 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 29 leaderCommit: 226 
------------------------------------------------------
flag 54113 term 29 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 29 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 29 leaderCommit: 226 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 29 219} {5622585098216137505 29 220} {8939660418348102640 29 221} {6631623183045266410 29 222} {5239387170032902224 29 223} {4835200230147411462 29 224} {7448820588096387859 29 225} {4120471881481004999 29 226}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=226
leader log:
[{snapshot 29 219} {5622585098216137505 29 220} {8939660418348102640 29 221} {6631623183045266410 29 222} {5239387170032902224 29 223} {4835200230147411462 29 224} {7448820588096387859 29 225} {4120471881481004999 29 226}]
------------------------------------------------------
term 29 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 52328 term 29 leader 2 nextIndex[0]: 227  matchIndex[0]: 226
term 29 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 29 leaderCommit: 226 
------------------------------------------------------
flag 7523 term 29 leader 2 nextIndex[1]: 227  matchIndex[1]: 226
term 29 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 29 leaderCommit: 226 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 29 219} {5622585098216137505 29 220} {8939660418348102640 29 221} {6631623183045266410 29 222} {5239387170032902224 29 223} {4835200230147411462 29 224} {7448820588096387859 29 225} {4120471881481004999 29 226}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=226
leader log:
[{snapshot 29 219} {5622585098216137505 29 220} {8939660418348102640 29 221} {6631623183045266410 29 222} {5239387170032902224 29 223} {4835200230147411462 29 224} {7448820588096387859 29 225} {4120471881481004999 29 226}]
------------------------------------------------------
flag 41698 term 29 leader 2 nextIndex[0]: 227  matchIndex[0]: 226
term 29 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 29 leaderCommit: 226 
------------------------------------------------------
flag 32627 term 29 leader 2 nextIndex[1]: 227  matchIndex[1]: 226
term 29 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 29 leaderCommit: 226 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 29 219} {5622585098216137505 29 220} {8939660418348102640 29 221} {6631623183045266410 29 222} {5239387170032902224 29 223} {4835200230147411462 29 224} {7448820588096387859 29 225} {4120471881481004999 29 226}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=226
leader log:
[{snapshot 29 219} {5622585098216137505 29 220} {8939660418348102640 29 221} {6631623183045266410 29 222} {5239387170032902224 29 223} {4835200230147411462 29 224} {7448820588096387859 29 225} {4120471881481004999 29 226}]
------------------------------------------------------
flag 81321 term 29 leader 2 nextIndex[0]: 227  matchIndex[0]: 226
term 29 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 29 leaderCommit: 226 
------------------------------------------------------
flag 85582 term 29 leader 2 nextIndex[1]: 227  matchIndex[1]: 226
term 29 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 29 leaderCommit: 226 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 29 219} {5622585098216137505 29 220} {8939660418348102640 29 221} {6631623183045266410 29 222} {5239387170032902224 29 223} {4835200230147411462 29 224} {7448820588096387859 29 225} {4120471881481004999 29 226}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=226
leader log:
[{snapshot 29 219} {5622585098216137505 29 220} {8939660418348102640 29 221} {6631623183045266410 29 222} {5239387170032902224 29 223} {4835200230147411462 29 224} {7448820588096387859 29 225} {4120471881481004999 29 226}]
------------------------------------------------------
flag 94948 term 29 leader 2 nextIndex[0]: 227  matchIndex[0]: 226
term 29 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 29 leaderCommit: 226 
------------------------------------------------------
flag 74625 term 29 leader 2 nextIndex[1]: 227  matchIndex[1]: 226
term 29 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 29 leaderCommit: 226 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 29 219} {5622585098216137505 29 220} {8939660418348102640 29 221} {6631623183045266410 29 222} {5239387170032902224 29 223} {4835200230147411462 29 224} {7448820588096387859 29 225} {4120471881481004999 29 226}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=226
leader log:
[{snapshot 29 219} {5622585098216137505 29 220} {8939660418348102640 29 221} {6631623183045266410 29 222} {5239387170032902224 29 223} {4835200230147411462 29 224} {7448820588096387859 29 225} {4120471881481004999 29 226}]
------------------------------------------------------
flag 95669 term 29 leader 2 nextIndex[0]: 227  matchIndex[0]: 226
term 29 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 29 leaderCommit: 226 
------------------------------------------------------
flag 74982 term 29 leader 2 nextIndex[1]: 227  matchIndex[1]: 226
term 29 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 29 leaderCommit: 226 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 29 219} {5622585098216137505 29 220} {8939660418348102640 29 221} {6631623183045266410 29 222} {5239387170032902224 29 223} {4835200230147411462 29 224} {7448820588096387859 29 225} {4120471881481004999 29 226}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=226
leader log:
[{snapshot 29 219} {5622585098216137505 29 220} {8939660418348102640 29 221} {6631623183045266410 29 222} {5239387170032902224 29 223} {4835200230147411462 29 224} {7448820588096387859 29 225} {4120471881481004999 29 226}]
------------------------------------------------------
flag 31412 term 29 leader 2 nextIndex[0]: 227  matchIndex[0]: 226
term 29 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 29 leaderCommit: 226 
------------------------------------------------------
flag 66131 term 29 leader 2 nextIndex[1]: 227  matchIndex[1]: 226
term 29 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 29 leaderCommit: 226 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 29 219} {5622585098216137505 29 220} {8939660418348102640 29 221} {6631623183045266410 29 222} {5239387170032902224 29 223} {4835200230147411462 29 224} {7448820588096387859 29 225} {4120471881481004999 29 226}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=226
leader log:
[{snapshot 29 219} {5622585098216137505 29 220} {8939660418348102640 29 221} {6631623183045266410 29 222} {5239387170032902224 29 223} {4835200230147411462 29 224} {7448820588096387859 29 225} {4120471881481004999 29 226}]
------------------------------------------------------
flag 64707 term 29 leader 2 nextIndex[0]: 227  matchIndex[0]: 226
term 29 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 29 leaderCommit: 226 
------------------------------------------------------
flag 70535 term 29 leader 2 nextIndex[1]: 227  matchIndex[1]: 226
term 29 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 29 leaderCommit: 226 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 29 219} {5622585098216137505 29 220} {8939660418348102640 29 221} {6631623183045266410 29 222} {5239387170032902224 29 223} {4835200230147411462 29 224} {7448820588096387859 29 225} {4120471881481004999 29 226}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=226
leader log:
[{snapshot 29 219} {5622585098216137505 29 220} {8939660418348102640 29 221} {6631623183045266410 29 222} {5239387170032902224 29 223} {4835200230147411462 29 224} {7448820588096387859 29 225} {4120471881481004999 29 226}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 227->226
------------------------------------------------------
flag 14019 term 29 leader 2 nextIndex[0]: 227  matchIndex[0]: 226
term 29 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 29 leaderCommit: 226 
------------------------------------------------------
term 29 leader 2 nextIndex[1]: 0  matchIndex[1]: 226
term 29 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 29
------------------------------------------------------
term 29 server 1 InstallSnapshot fail
rf.commitIndex 226 args.LastIncludedIndex 219
------------------------------------------------------
term 29 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 220 matchIndex[1] 219 
------------------------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=226
leader log:
[{snapshot 29 219} {5622585098216137505 29 220} {8939660418348102640 29 221} {6631623183045266410 29 222} {5239387170032902224 29 223} {4835200230147411462 29 224} {7448820588096387859 29 225} {4120471881481004999 29 226}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14818 term 29 leader 2 nextIndex[0]: 227  matchIndex[0]: 226
term 29 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 29 leaderCommit: 226 
------------------------------------------------------
flag 78612 term 29 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 29 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 29 leaderCommit: 226 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 29 219} {5622585098216137505 29 220} {8939660418348102640 29 221} {6631623183045266410 29 222} {5239387170032902224 29 223} {4835200230147411462 29 224} {7448820588096387859 29 225} {4120471881481004999 29 226}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=226
leader log:
[{snapshot 29 219} {5622585098216137505 29 220} {8939660418348102640 29 221} {6631623183045266410 29 222} {5239387170032902224 29 223} {4835200230147411462 29 224} {7448820588096387859 29 225} {4120471881481004999 29 226}]
------------------------------------------------------
flag 42320 term 29 leader 2 nextIndex[0]: 227  matchIndex[0]: 226
term 29 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 29 leaderCommit: 226 
------------------------------------------------------
flag 65090 term 29 leader 2 nextIndex[1]: 227  matchIndex[1]: 226
term 29 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 29 leaderCommit: 226 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 29 219} {5622585098216137505 29 220} {8939660418348102640 29 221} {6631623183045266410 29 222} {5239387170032902224 29 223} {4835200230147411462 29 224} {7448820588096387859 29 225} {4120471881481004999 29 226}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=226
leader log:
[{snapshot 29 219} {5622585098216137505 29 220} {8939660418348102640 29 221} {6631623183045266410 29 222} {5239387170032902224 29 223} {4835200230147411462 29 224} {7448820588096387859 29 225} {4120471881481004999 29 226}]
------------------------------------------------------
flag 38333 term 29 leader 2 nextIndex[0]: 227  matchIndex[0]: 226
term 29 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 29 leaderCommit: 226 
------------------------------------------------------
flag 89220 term 29 leader 2 nextIndex[1]: 227  matchIndex[1]: 226
term 29 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 29 leaderCommit: 226 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 29 219} {5622585098216137505 29 220} {8939660418348102640 29 221} {6631623183045266410 29 222} {5239387170032902224 29 223} {4835200230147411462 29 224} {7448820588096387859 29 225} {4120471881481004999 29 226}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=226
leader log:
[{snapshot 29 219} {5622585098216137505 29 220} {8939660418348102640 29 221} {6631623183045266410 29 222} {5239387170032902224 29 223} {4835200230147411462 29 224} {7448820588096387859 29 225} {4120471881481004999 29 226}]
------------------------------------------------------
flag 28688 term 29 leader 2 nextIndex[0]: 227  matchIndex[0]: 226
term 29 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 29 leaderCommit: 226 
------------------------------------------------------
flag 5279 term 29 leader 2 nextIndex[1]: 227  matchIndex[1]: 226
term 29 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 29 leaderCommit: 226 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 29 219} {5622585098216137505 29 220} {8939660418348102640 29 221} {6631623183045266410 29 222} {5239387170032902224 29 223} {4835200230147411462 29 224} {7448820588096387859 29 225} {4120471881481004999 29 226}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=226
leader log:
[{snapshot 29 219} {5622585098216137505 29 220} {8939660418348102640 29 221} {6631623183045266410 29 222} {5239387170032902224 29 223} {4835200230147411462 29 224} {7448820588096387859 29 225} {4120471881481004999 29 226}]
------------------------------------------------------
flag 49348 term 29 leader 2 nextIndex[0]: 227  matchIndex[0]: 226
term 29 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 29 leaderCommit: 226 
------------------------------------------------------
flag 18441 term 29 leader 2 nextIndex[1]: 227  matchIndex[1]: 226
term 29 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 29 leaderCommit: 226 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 29 219} {5622585098216137505 29 220} {8939660418348102640 29 221} {6631623183045266410 29 222} {5239387170032902224 29 223} {4835200230147411462 29 224} {7448820588096387859 29 225} {4120471881481004999 29 226}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=226
leader log:
[{snapshot 29 219} {5622585098216137505 29 220} {8939660418348102640 29 221} {6631623183045266410 29 222} {5239387170032902224 29 223} {4835200230147411462 29 224} {7448820588096387859 29 225} {4120471881481004999 29 226}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54152 term 29 leader 2 nextIndex[0]: 227  matchIndex[0]: 226
term 29 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 29 leaderCommit: 226 
------------------------------------------------------
flag 65744 term 29 leader 2 nextIndex[1]: 227  matchIndex[1]: 226
term 29 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 29 leaderCommit: 226 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 29 219} {5622585098216137505 29 220} {8939660418348102640 29 221} {6631623183045266410 29 222} {5239387170032902224 29 223} {4835200230147411462 29 224} {7448820588096387859 29 225} {4120471881481004999 29 226}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=226
leader log:
[{snapshot 29 219} {5622585098216137505 29 220} {8939660418348102640 29 221} {6631623183045266410 29 222} {5239387170032902224 29 223} {4835200230147411462 29 224} {7448820588096387859 29 225} {4120471881481004999 29 226}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20131 term 29 leader 2 nextIndex[0]: 227  matchIndex[0]: 226
term 29 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 29 leaderCommit: 226 
------------------------------------------------------
flag 49818 term 29 leader 2 nextIndex[1]: 227  matchIndex[1]: 226
term 29 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 29 leaderCommit: 226 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=226
leader log:
[{snapshot 29 219} {5622585098216137505 29 220} {8939660418348102640 29 221} {6631623183045266410 29 222} {5239387170032902224 29 223} {4835200230147411462 29 224} {7448820588096387859 29 225} {4120471881481004999 29 226}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 29 219} {5622585098216137505 29 220} {8939660418348102640 29 221} {6631623183045266410 29 222} {5239387170032902224 29 223} {4835200230147411462 29 224} {7448820588096387859 29 225} {4120471881481004999 29 226}]
------------------------------------------------------
client write log 7118884797045473348 (index 227) to leader 2
flag 62840 term 29 leader 2 nextIndex[0]: 227  matchIndex[0]: 226
term 29 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 29 leaderCommit: 226 
------------------------------------------------------
flag 64309 term 29 leader 2 nextIndex[1]: 227  matchIndex[1]: 226
term 29 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 29 leaderCommit: 226 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=227
leader log:
[{snapshot 29 219} {5622585098216137505 29 220} {8939660418348102640 29 221} {6631623183045266410 29 222} {5239387170032902224 29 223} {4835200230147411462 29 224} {7448820588096387859 29 225} {4120471881481004999 29 226} {7118884797045473348 29 227}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 29 219} {5622585098216137505 29 220} {8939660418348102640 29 221} {6631623183045266410 29 222} {5239387170032902224 29 223} {4835200230147411462 29 224} {7448820588096387859 29 225} {4120471881481004999 29 226} {7118884797045473348 29 227}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13981 term 29 leader 2 nextIndex[0]: 228  matchIndex[0]: 227
term 29 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 29 leaderCommit: 227 
------------------------------------------------------
flag 59293 term 29 leader 2 nextIndex[1]: 228  matchIndex[1]: 227
term 29 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 29 leaderCommit: 227 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=227
leader log:
[{snapshot 29 219} {5622585098216137505 29 220} {8939660418348102640 29 221} {6631623183045266410 29 222} {5239387170032902224 29 223} {4835200230147411462 29 224} {7448820588096387859 29 225} {4120471881481004999 29 226} {7118884797045473348 29 227}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 29 219} {5622585098216137505 29 220} {8939660418348102640 29 221} {6631623183045266410 29 222} {5239387170032902224 29 223} {4835200230147411462 29 224} {7448820588096387859 29 225} {4120471881481004999 29 226} {7118884797045473348 29 227}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55303 term 29 leader 2 nextIndex[0]: 228  matchIndex[0]: 227
term 29 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 29 leaderCommit: 227 
------------------------------------------------------
flag 38497 term 29 leader 2 nextIndex[1]: 228  matchIndex[1]: 227
term 29 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 29 leaderCommit: 227 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=227
leader log:
term 29 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
[{snapshot 29 219} {5622585098216137505 29 220} {8939660418348102640 29 221} {6631623183045266410 29 222} {5239387170032902224 29 223} {4835200230147411462 29 224} {7448820588096387859 29 225} {4120471881481004999 29 226} {7118884797045473348 29 227}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 29 219} {5622585098216137505 29 220} {8939660418348102640 29 221} {6631623183045266410 29 222} {5239387170032902224 29 223} {4835200230147411462 29 224} {7448820588096387859 29 225} {4120471881481004999 29 226} {7118884797045473348 29 227}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35062 term 29 leader 2 nextIndex[0]: 228  matchIndex[0]: 227
term 29 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 29 leaderCommit: 227 
------------------------------------------------------
flag 4526 term 29 leader 2 nextIndex[1]: 228  matchIndex[1]: 227
term 29 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 29 leaderCommit: 227 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=227
leader log:
[{snapshot 29 219} {5622585098216137505 29 220} {8939660418348102640 29 221} {6631623183045266410 29 222} {5239387170032902224 29 223} {4835200230147411462 29 224} {7448820588096387859 29 225} {4120471881481004999 29 226} {7118884797045473348 29 227}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 29 219} {5622585098216137505 29 220} {8939660418348102640 29 221} {6631623183045266410 29 222} {5239387170032902224 29 223} {4835200230147411462 29 224} {7448820588096387859 29 225} {4120471881481004999 29 226} {7118884797045473348 29 227}]
------------------------------------------------------
flag 96523 term 29 leader 2 nextIndex[0]: 228  matchIndex[0]: 227
term 29 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 29 leaderCommit: 227 
------------------------------------------------------
flag 85203 term 29 leader 2 nextIndex[1]: 228  matchIndex[1]: 227
term 29 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 29 leaderCommit: 227 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=227
leader log:
[{snapshot 29 219} {5622585098216137505 29 220} {8939660418348102640 29 221} {6631623183045266410 29 222} {5239387170032902224 29 223} {4835200230147411462 29 224} {7448820588096387859 29 225} {4120471881481004999 29 226} {7118884797045473348 29 227}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 29 219} {5622585098216137505 29 220} {8939660418348102640 29 221} {6631623183045266410 29 222} {5239387170032902224 29 223} {4835200230147411462 29 224} {7448820588096387859 29 225} {4120471881481004999 29 226} {7118884797045473348 29 227}]
------------------------------------------------------
flag 96436 term 29 leader 2 nextIndex[0]: 228  matchIndex[0]: 227
term 29 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 29 leaderCommit: 227 
------------------------------------------------------
flag 90023 term 29 leader 2 nextIndex[1]: 228  matchIndex[1]: 227
term 29 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 29 leaderCommit: 227 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 29 219} {5622585098216137505 29 220} {8939660418348102640 29 221} {6631623183045266410 29 222} {5239387170032902224 29 223} {4835200230147411462 29 224} {7448820588096387859 29 225} {4120471881481004999 29 226} {7118884797045473348 29 227}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=227
leader log:
[{snapshot 29 219} {5622585098216137505 29 220} {8939660418348102640 29 221} {6631623183045266410 29 222} {5239387170032902224 29 223} {4835200230147411462 29 224} {7448820588096387859 29 225} {4120471881481004999 29 226} {7118884797045473348 29 227}]
------------------------------------------------------
flag 79182 term 29 leader 2 nextIndex[0]: 228  matchIndex[0]: 227
term 29 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 29 leaderCommit: 227 
------------------------------------------------------
flag 92307 term 29 leader 2 nextIndex[1]: 228  matchIndex[1]: 227
term 29 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 29 leaderCommit: 227 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:227 
term 29 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 29 219} {5622585098216137505 29 220} {8939660418348102640 29 221} {6631623183045266410 29 222} {5239387170032902224 29 223} {4835200230147411462 29 224} {7448820588096387859 29 225} {4120471881481004999 29 226} {7118884797045473348 29 227}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=227
leader log:
[{snapshot 29 219} {5622585098216137505 29 220} {8939660418348102640 29 221} {6631623183045266410 29 222} {5239387170032902224 29 223} {4835200230147411462 29 224} {7448820588096387859 29 225} {4120471881481004999 29 226} {7118884797045473348 29 227}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 5806164635681465475 (index 228) to leader 2
flag 91145 term 29 leader 2 nextIndex[0]: 228  matchIndex[0]: 227
term 29 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 29 leaderCommit: 227 
------------------------------------------------------
flag 29356 term 29 leader 2 nextIndex[1]: 228  matchIndex[1]: 227
term 29 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 29 leaderCommit: 227 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=228
leader log:
[{snapshot 29 219} {5622585098216137505 29 220} {8939660418348102640 29 221} {6631623183045266410 29 222} {5239387170032902224 29 223} {4835200230147411462 29 224} {7448820588096387859 29 225} {4120471881481004999 29 226} {7118884797045473348 29 227} {5806164635681465475 29 228}]
------------------------------------------------------
flag 13846 term 29 leader 2 nextIndex[0]: 228  matchIndex[0]: 227
term 29 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 29 leaderCommit: 228 
------------------------------------------------------
flag 46010 term 29 leader 2 nextIndex[1]: 229  matchIndex[1]: 228
term 29 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 29 leaderCommit: 228 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=228
leader log:
[{snapshot 29 219} {5622585098216137505 29 220} {8939660418348102640 29 221} {6631623183045266410 29 222} {5239387170032902224 29 223} {4835200230147411462 29 224} {7448820588096387859 29 225} {4120471881481004999 29 226} {7118884797045473348 29 227} {5806164635681465475 29 228}]
------------------------------------------------------
client write log 7965691790700038775 (index 229) to leader 2
client write log 7939515295596832671 (index 230) to leader 2
client write log 3117495435454517228 (index 231) to leader 2
client write log 3948718197206529119 (index 232) to leader 2
client write log 6927812859648515611 (index 233) to leader 2
client write log 1417653634202462642 (index 234) to leader 2
client write log 9139986501771222939 (index 235) to leader 2
client write log 2651381931386584144 (index 236) to leader 2
client write log 1369439186293222966 (index 237) to leader 2
client write log 5646915453082599112 (index 238) to leader 2
client write log 1516734138661266692 (index 239) to leader 2
client write log 992548280805195231 (index 240) to leader 2
client write log 5868502559092393378 (index 241) to leader 2
flag 15589 term 29 leader 2 nextIndex[0]: 228  matchIndex[0]: 227
term 29 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 29 leaderCommit: 228 
------------------------------------------------------
flag 29637 term 29 leader 2 nextIndex[1]: 229  matchIndex[1]: 228
term 29 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 29 leaderCommit: 228 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=242
update matchIndex[1]=241
update leader CommitIndex=241
leader log:
[{snapshot 29 219} {5622585098216137505 29 220} {8939660418348102640 29 221} {6631623183045266410 29 222} {5239387170032902224 29 223} {4835200230147411462 29 224} {7448820588096387859 29 225} {4120471881481004999 29 226} {7118884797045473348 29 227} {5806164635681465475 29 228} {7965691790700038775 29 229} {7939515295596832671 29 230} {3117495435454517228 29 231} {3948718197206529119 29 232} {6927812859648515611 29 233} {1417653634202462642 29 234} {9139986501771222939 29 235} {2651381931386584144 29 236} {1369439186293222966 29 237} {5646915453082599112 29 238} {1516734138661266692 29 239} {992548280805195231 29 240} {5868502559092393378 29 241}]
------------------------------------------------------
term 29 Server2 start snapshot! index=229
term 29 server2 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=241
-------------------------------------------------------------
term 29 Server2 start snapshot! index=239
term 29 server2 snapshot success
lastIncludedIndex=239 lastApplied=240 lastIndex=241
-------------------------------------------------------------
term 29 leader 2 nextIndex[0]: 228  matchIndex[0]: 227
term 29 leader 2 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 29
------------------------------------------------------
flag 69403 term 29 leader 2 nextIndex[1]: 242  matchIndex[1]: 241
term 29 leader 2 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 29 leaderCommit: 241 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=242
update matchIndex[1]=241
update leader CommitIndex=241
leader log:
[{snapshot 29 239} {992548280805195231 29 240} {5868502559092393378 29 241}]
------------------------------------------------------
term 29 Server1 start snapshot! index=229
term 29 server1 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=241
-------------------------------------------------------------
term 29 Server1 start snapshot! index=239
term 29 server1 snapshot success
lastIncludedIndex=239 lastApplied=240 lastIndex=241
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!connect server 0
client write log 4097780844574329888 (index 242) to leader 2
term 29 server 2 not vote for server 0, 日志不够新
term 29 server 1 not vote for server 0, 日志不够新
term 31 server 1 vote for server 2
term 31 server 0 vote for server 2
term 31 server 2 get vote from server 0
term 31 server 2 become leader
------------------------------------------------------
term 31 server 2 get outdate rpc reply from server 1
flag 87354 term 31 leader 2 nextIndex[0]: 243  matchIndex[0]: 0
term 31 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 29 leaderCommit: 241 
------------------------------------------------------
flag 91340 term 31 leader 2 nextIndex[1]: 243  matchIndex[1]: 0
term 31 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 29 leaderCommit: 241 
------------------------------------------------------
term 31 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 31 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 243->242
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 243->242
------------------------------------------------------
term 31 leader 2 nextIndex[0]: 228  matchIndex[0]: 0
term 31 leader 2 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 29
------------------------------------------------------
flag 26319 term 31 leader 2 nextIndex[1]: 242  matchIndex[1]: 0
term 31 leader 2 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 29 leaderCommit: 241 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=241
leader log:
[{snapshot 29 239} {992548280805195231 29 240} {5868502559092393378 29 241} {4097780844574329888 29 242}]
------------------------------------------------------
term 31 server 0 InstallSnapshot success
------------------------------------------------------
term 31 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 240 matchIndex[0] 239 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 239 rf.lastIncludedTerm 29 rf.commitIndex 239 rf.lastApplied 239
flag 29610 term 31 leader 2 nextIndex[0]: 240  matchIndex[0]: 239
term 31 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 29 leaderCommit: 241 
------------------------------------------------------
flag 66784 term 31 leader 2 nextIndex[1]: 243  matchIndex[1]: 242
term 31 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 29 leaderCommit: 241 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:241 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=241
leader log:
[{snapshot 29 239} {992548280805195231 29 240} {5868502559092393378 29 241} {4097780844574329888 29 242}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=241
leader log:
[{snapshot 29 239} {992548280805195231 29 240} {5868502559092393378 29 241} {4097780844574329888 29 242}]
------------------------------------------------------
flag 46694 term 31 leader 2 nextIndex[0]: 243  matchIndex[0]: 242
term 31 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 29 leaderCommit: 241 
------------------------------------------------------
flag 94198 term 31 leader 2 nextIndex[1]: 243  matchIndex[1]: 242
term 31 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 29 leaderCommit: 241 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=241
leader log:
[{snapshot 29 239} {992548280805195231 29 240} {5868502559092393378 29 241} {4097780844574329888 29 242}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=241
leader log:
[{snapshot 29 239} {992548280805195231 29 240} {5868502559092393378 29 241} {4097780844574329888 29 242}]
------------------------------------------------------
flag 70020 term 31 leader 2 nextIndex[0]: 243  matchIndex[0]: 242
term 31 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 29 leaderCommit: 241 
------------------------------------------------------
flag 52360 term 31 leader 2 nextIndex[1]: 243  matchIndex[1]: 242
term 31 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 29 leaderCommit: 241 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=241
leader log:
[{snapshot 29 239} {992548280805195231 29 240} {5868502559092393378 29 241} {4097780844574329888 29 242}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=241
leader log:
[{snapshot 29 239} {992548280805195231 29 240} {5868502559092393378 29 241} {4097780844574329888 29 242}]
------------------------------------------------------
flag 69276 term 31 leader 2 nextIndex[0]: 243  matchIndex[0]: 242
term 31 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 29 leaderCommit: 241 
------------------------------------------------------
flag 50240 term 31 leader 2 nextIndex[1]: 243  matchIndex[1]: 242
term 31 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 29 leaderCommit: 241 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=241
leader log:
[{snapshot 29 239} {992548280805195231 29 240} {5868502559092393378 29 241} {4097780844574329888 29 242}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=241
leader log:
[{snapshot 29 239} {992548280805195231 29 240} {5868502559092393378 29 241} {4097780844574329888 29 242}]
------------------------------------------------------
flag 72004 term 31 leader 2 nextIndex[0]: 243  matchIndex[0]: 242
term 31 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 29 leaderCommit: 241 
------------------------------------------------------
flag 41752 term 31 leader 2 nextIndex[1]: 243  matchIndex[1]: 242
term 31 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 29 leaderCommit: 241 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=241
leader log:
[{snapshot 29 239} {992548280805195231 29 240} {5868502559092393378 29 241} {4097780844574329888 29 242}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=241
leader log:
[{snapshot 29 239} {992548280805195231 29 240} {5868502559092393378 29 241} {4097780844574329888 29 242}]
------------------------------------------------------
flag 63519 term 31 leader 2 nextIndex[0]: 243  matchIndex[0]: 242
term 31 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 29 leaderCommit: 241 
------------------------------------------------------
flag 80549 term 31 leader 2 nextIndex[1]: 243  matchIndex[1]: 242
term 31 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 29 leaderCommit: 241 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=241
leader log:
[{snapshot 29 239} {992548280805195231 29 240} {5868502559092393378 29 241} {4097780844574329888 29 242}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=241
leader log:
[{snapshot 29 239} {992548280805195231 29 240} {5868502559092393378 29 241} {4097780844574329888 29 242}]
------------------------------------------------------
flag 58769 term 31 leader 2 nextIndex[0]: 243  matchIndex[0]: 242
term 31 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 29 leaderCommit: 241 
------------------------------------------------------
flag 7412 term 31 leader 2 nextIndex[1]: 243  matchIndex[1]: 242
term 31 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 29 leaderCommit: 241 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=241
leader log:
[{snapshot 29 239} {992548280805195231 29 240} {5868502559092393378 29 241} {4097780844574329888 29 242}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=241
leader log:
[{snapshot 29 239} {992548280805195231 29 240} {5868502559092393378 29 241} {4097780844574329888 29 242}]
------------------------------------------------------
flag 23478 term 31 leader 2 nextIndex[0]: 243  matchIndex[0]: 242
term 31 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 29 leaderCommit: 241 
------------------------------------------------------
flag 69796 term 31 leader 2 nextIndex[1]: 243  matchIndex[1]: 242
term 31 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 29 leaderCommit: 241 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=241
leader log:
[{snapshot 29 239} {992548280805195231 29 240} {5868502559092393378 29 241} {4097780844574329888 29 242}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=241
leader log:
[{snapshot 29 239} {992548280805195231 29 240} {5868502559092393378 29 241} {4097780844574329888 29 242}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44203 term 31 leader 2 nextIndex[0]: 243  matchIndex[0]: 242
term 31 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 29 leaderCommit: 241 
------------------------------------------------------
flag 54 term 31 leader 2 nextIndex[1]: 243  matchIndex[1]: 242
term 31 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 29 leaderCommit: 241 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=241
leader log:
[{snapshot 29 239} {992548280805195231 29 240} {5868502559092393378 29 241} {4097780844574329888 29 242}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=241
leader log:
[{snapshot 29 239} {992548280805195231 29 240} {5868502559092393378 29 241} {4097780844574329888 29 242}]
------------------------------------------------------
flag 55887 term 31 leader 2 nextIndex[0]: 243  matchIndex[0]: 242
term 31 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 29 leaderCommit: 241 
------------------------------------------------------
flag 35823 term 31 leader 2 nextIndex[1]: 243  matchIndex[1]: 242
term 31 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 29 leaderCommit: 241 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:241 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=241
leader log:
[{snapshot 29 239} {992548280805195231 29 240} {5868502559092393378 29 241} {4097780844574329888 29 242}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=241
leader log:
[{snapshot 29 239} {992548280805195231 29 240} {5868502559092393378 29 241} {4097780844574329888 29 242}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28486 term 31 leader 2 nextIndex[0]: 243  matchIndex[0]: 242
term 31 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 29 leaderCommit: 241 
------------------------------------------------------
flag 73445 term 31 leader 2 nextIndex[1]: 243  matchIndex[1]: 242
term 31 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 29 leaderCommit: 241 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=241
leader log:
[{snapshot 29 239} {992548280805195231 29 240} {5868502559092393378 29 241} {4097780844574329888 29 242}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=241
leader log:
[{snapshot 29 239} {992548280805195231 29 240} {5868502559092393378 29 241} {4097780844574329888 29 242}]
------------------------------------------------------
flag 94245 term 31 leader 2 nextIndex[0]: 243  matchIndex[0]: 242
term 31 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 29 leaderCommit: 241 
------------------------------------------------------
flag 23784 term 31 leader 2 nextIndex[1]: 243  matchIndex[1]: 242
term 31 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 29 leaderCommit: 241 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:241 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=241
leader log:
[{snapshot 29 239} {992548280805195231 29 240} {5868502559092393378 29 241} {4097780844574329888 29 242}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=241
leader log:
[{snapshot 29 239} {992548280805195231 29 240} {5868502559092393378 29 241} {4097780844574329888 29 242}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72172 term 31 leader 2 nextIndex[0]: 243  matchIndex[0]: 242
term 31 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 29 leaderCommit: 241 
------------------------------------------------------
flag 64798 term 31 leader 2 nextIndex[1]: 243  matchIndex[1]: 242
term 31 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 29 leaderCommit: 241 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=241
leader log:
[{snapshot 29 239} {992548280805195231 29 240} {5868502559092393378 29 241} {4097780844574329888 29 242}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=241
leader log:
[{snapshot 29 239} {992548280805195231 29 240} {5868502559092393378 29 241} {4097780844574329888 29 242}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97064 term 31 leader 2 nextIndex[0]: 243  matchIndex[0]: 242
term 31 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 29 leaderCommit: 241 
------------------------------------------------------
flag 80907 term 31 leader 2 nextIndex[1]: 243  matchIndex[1]: 242
term 31 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 29 leaderCommit: 241 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:241 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=241
leader log:
[{snapshot 29 239} {992548280805195231 29 240} {5868502559092393378 29 241} {4097780844574329888 29 242}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=241
leader log:
[{snapshot 29 239} {992548280805195231 29 240} {5868502559092393378 29 241} {4097780844574329888 29 242}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84973 term 31 leader 2 nextIndex[0]: 243  matchIndex[0]: 242
term 31 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 29 leaderCommit: 241 
------------------------------------------------------
flag 25896 term 31 leader 2 nextIndex[1]: 243  matchIndex[1]: 242
term 31 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 29 leaderCommit: 241 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:241 
term 31 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=241
leader log:
[{snapshot 29 239} {992548280805195231 29 240} {5868502559092393378 29 241} {4097780844574329888 29 242}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=241
leader log:
[{snapshot 29 239} {992548280805195231 29 240} {5868502559092393378 29 241} {4097780844574329888 29 242}]
------------------------------------------------------
flag 71298 term 31 leader 2 nextIndex[0]: 243  matchIndex[0]: 242
term 31 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 29 leaderCommit: 241 
------------------------------------------------------
flag 28035 term 31 leader 2 nextIndex[1]: 243  matchIndex[1]: 242
term 31 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 29 leaderCommit: 241 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:241 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=241
leader log:
[{snapshot 29 239} {992548280805195231 29 240} {5868502559092393378 29 241} {4097780844574329888 29 242}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=241
leader log:
[{snapshot 29 239} {992548280805195231 29 240} {5868502559092393378 29 241} {4097780844574329888 29 242}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88535 term 31 leader 2 nextIndex[0]: 243  matchIndex[0]: 242
term 31 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 29 leaderCommit: 241 
------------------------------------------------------
flag 72613 term 31 leader 2 nextIndex[1]: 243  matchIndex[1]: 242
term 31 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 29 leaderCommit: 241 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=241
leader log:
[{snapshot 29 239} {992548280805195231 29 240} {5868502559092393378 29 241} {4097780844574329888 29 242}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=241
leader log:
[{snapshot 29 239} {992548280805195231 29 240} {5868502559092393378 29 241} {4097780844574329888 29 242}]
------------------------------------------------------
flag 86085 term 31 leader 2 nextIndex[0]: 243  matchIndex[0]: 242
term 31 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 29 leaderCommit: 241 
------------------------------------------------------
flag 2233 term 31 leader 2 nextIndex[1]: 243  matchIndex[1]: 242
term 31 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 29 leaderCommit: 241 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=241
leader log:
[{snapshot 29 239} {992548280805195231 29 240} {5868502559092393378 29 241} {4097780844574329888 29 242}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=241
leader log:
[{snapshot 29 239} {992548280805195231 29 240} {5868502559092393378 29 241} {4097780844574329888 29 242}]
------------------------------------------------------
client write log 4097780844574329888 (index 243) to leader 2
flag 9103 term 31 leader 2 nextIndex[0]: 243  matchIndex[0]: 242
term 31 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 29 leaderCommit: 241 
------------------------------------------------------
flag 76517 term 31 leader 2 nextIndex[1]: 243  matchIndex[1]: 242
term 31 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 29 leaderCommit: 241 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=243
leader log:
[{snapshot 29 239} {992548280805195231 29 240} {5868502559092393378 29 241} {4097780844574329888 29 242} {4097780844574329888 31 243}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=243
leader log:
[{snapshot 29 239} {992548280805195231 29 240} {5868502559092393378 29 241} {4097780844574329888 29 242} {4097780844574329888 31 243}]
------------------------------------------------------
flag 16101 term 31 leader 2 nextIndex[0]: 244  matchIndex[0]: 243
term 31 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 31 leaderCommit: 243 
------------------------------------------------------
flag 54046 term 31 leader 2 nextIndex[1]: 244  matchIndex[1]: 243
term 31 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 31 leaderCommit: 243 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=243
leader log:
[{snapshot 29 239} {992548280805195231 29 240} {5868502559092393378 29 241} {4097780844574329888 29 242} {4097780844574329888 31 243}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=243
leader log:
[{snapshot 29 239} {992548280805195231 29 240} {5868502559092393378 29 241} {4097780844574329888 29 242} {4097780844574329888 31 243}]
------------------------------------------------------
flag 22040 term 31 leader 2 nextIndex[0]: 244  matchIndex[0]: 243
term 31 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 31 leaderCommit: 243 
------------------------------------------------------
flag 39493 term 31 leader 2 nextIndex[1]: 244  matchIndex[1]: 243
term 31 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 31 leaderCommit: 243 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=243
leader log:
[{snapshot 29 239} {992548280805195231 29 240} {5868502559092393378 29 241} {4097780844574329888 29 242} {4097780844574329888 31 243}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=243
leader log:
[{snapshot 29 239} {992548280805195231 29 240} {5868502559092393378 29 241} {4097780844574329888 29 242} {4097780844574329888 31 243}]
------------------------------------------------------
flag 55250 term 31 leader 2 nextIndex[0]: 244  matchIndex[0]: 243
term 31 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 31 leaderCommit: 243 
------------------------------------------------------
flag 67598 term 31 leader 2 nextIndex[1]: 244  matchIndex[1]: 243
term 31 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 31 leaderCommit: 243 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=243
leader log:
[{snapshot 29 239} {992548280805195231 29 240} {5868502559092393378 29 241} {4097780844574329888 29 242} {4097780844574329888 31 243}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=243
leader log:
[{snapshot 29 239} {992548280805195231 29 240} {5868502559092393378 29 241} {4097780844574329888 29 242} {4097780844574329888 31 243}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93764 term 31 leader 2 nextIndex[0]: 244  matchIndex[0]: 243
term 31 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 31 leaderCommit: 243 
------------------------------------------------------
flag 44474 term 31 leader 2 nextIndex[1]: 244  matchIndex[1]: 243
term 31 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 31 leaderCommit: 243 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=243
leader log:
[{snapshot 29 239} {992548280805195231 29 240} {5868502559092393378 29 241} {4097780844574329888 29 242} {4097780844574329888 31 243}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=243
leader log:
[{snapshot 29 239} {992548280805195231 29 240} {5868502559092393378 29 241} {4097780844574329888 29 242} {4097780844574329888 31 243}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18926 term 31 leader 2 nextIndex[0]: 244  matchIndex[0]: 243
term 31 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 31 leaderCommit: 243 
------------------------------------------------------
flag 90404 term 31 leader 2 nextIndex[1]: 244  matchIndex[1]: 243
term 31 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 31 leaderCommit: 243 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=243
leader log:
[{snapshot 29 239} {992548280805195231 29 240} {5868502559092393378 29 241} {4097780844574329888 29 242} {4097780844574329888 31 243}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=243
leader log:
[{snapshot 29 239} {992548280805195231 29 240} {5868502559092393378 29 241} {4097780844574329888 29 242} {4097780844574329888 31 243}]
------------------------------------------------------
flag 33045 term 31 leader 2 nextIndex[0]: 244  matchIndex[0]: 243
term 31 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 31 leaderCommit: 243 
------------------------------------------------------
flag 40986 term 31 leader 2 nextIndex[1]: 244  matchIndex[1]: 243
term 31 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 31 leaderCommit: 243 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=243
leader log:
[{snapshot 29 239} {992548280805195231 29 240} {5868502559092393378 29 241} {4097780844574329888 29 242} {4097780844574329888 31 243}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=243
leader log:
[{snapshot 29 239} {992548280805195231 29 240} {5868502559092393378 29 241} {4097780844574329888 29 242} {4097780844574329888 31 243}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 1607656785828673506 (index 244) to leader 2
flag 61561 term 31 leader 2 nextIndex[0]: 244  matchIndex[0]: 243
term 31 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 31 leaderCommit: 243 
------------------------------------------------------
flag 79357 term 31 leader 2 nextIndex[1]: 244  matchIndex[1]: 243
term 31 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 31 leaderCommit: 243 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 29 239} {992548280805195231 29 240} {5868502559092393378 29 241} {4097780844574329888 29 242} {4097780844574329888 31 243} {1607656785828673506 31 244}]
------------------------------------------------------
flag 31777 term 31 leader 2 nextIndex[0]: 244  matchIndex[0]: 243
term 31 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 31 leaderCommit: 244 
------------------------------------------------------
flag 48778 term 31 leader 2 nextIndex[1]: 245  matchIndex[1]: 244
term 31 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 31 leaderCommit: 244 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 29 239} {992548280805195231 29 240} {5868502559092393378 29 241} {4097780844574329888 29 242} {4097780844574329888 31 243} {1607656785828673506 31 244}]
------------------------------------------------------
client write log 8099552331431675355 (index 245) to leader 2
client write log 558098932612057506 (index 246) to leader 2
client write log 762057176411643985 (index 247) to leader 2
client write log 6640188457807248966 (index 248) to leader 2
client write log 95677652947734061 (index 249) to leader 2
client write log 2693541937564387281 (index 250) to leader 2
client write log 2584700713002170262 (index 251) to leader 2
client write log 7035989347478746919 (index 252) to leader 2
client write log 2014984534628056392 (index 253) to leader 2
client write log 6128731339802993553 (index 254) to leader 2
client write log 2069591660847786008 (index 255) to leader 2
client write log 6262911754017909574 (index 256) to leader 2
client write log 4531060284485961882 (index 257) to leader 2
client write log 5688685077089565073 (index 258) to leader 2
client write log 1427932564238274435 (index 259) to leader 2
flag 9470 term 31 leader 2 nextIndex[0]: 244  matchIndex[0]: 243
term 31 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 31 leaderCommit: 244 
------------------------------------------------------
flag 14178 term 31 leader 2 nextIndex[1]: 245  matchIndex[1]: 244
term 31 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 31 leaderCommit: 244 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=259
leader log:
[{snapshot 29 239} {992548280805195231 29 240} {5868502559092393378 29 241} {4097780844574329888 29 242} {4097780844574329888 31 243} {1607656785828673506 31 244} {8099552331431675355 31 245} {558098932612057506 31 246} {762057176411643985 31 247} {6640188457807248966 31 248} {95677652947734061 31 249} {2693541937564387281 31 250} {2584700713002170262 31 251} {7035989347478746919 31 252} {2014984534628056392 31 253} {6128731339802993553 31 254} {2069591660847786008 31 255} {6262911754017909574 31 256} {4531060284485961882 31 257} {5688685077089565073 31 258} {1427932564238274435 31 259}]
------------------------------------------------------
term 31 Server2 start snapshot! index=249
term 31 server2 snapshot success
lastIncludedIndex=249 lastApplied=250 lastIndex=259
-------------------------------------------------------------
term 31 Server2 start snapshot! index=259
term 31 server2 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=259
-------------------------------------------------------------
term 31 server 1 not vote for server 2, 任期不够新
term 31 server 2 get outdate rpc reply from server 1
term 31 leader 2 nextIndex[0]: 244  matchIndex[0]: 243
term 31 leader 2 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 31
------------------------------------------------------
flag 74369 term 31 leader 2 nextIndex[1]: 260  matchIndex[1]: 259
term 31 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 31 leaderCommit: 259 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=259
leader log:
[{snapshot 31 259}]
------------------------------------------------------
term 31 Server1 start snapshot! index=249
term 31 server1 snapshot success
lastIncludedIndex=249 lastApplied=250 lastIndex=259
-------------------------------------------------------------
term 31 Server1 start snapshot! index=259
term 31 server1 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=259
-------------------------------------------------------------
!!!!!!connect server 0
client write log 8144020916044248040 (index 260) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 31 server 2 not vote for server 0, 日志不够新
term 33 server 1 vote for server 2
term 33 server 0 vote for server 2
term 33 server 2 get vote from server 1
term 33 server 2 become leader
------------------------------------------------------
term 33 server 2 get outdate rpc reply from server 0
flag 8498 term 33 leader 2 nextIndex[0]: 261  matchIndex[0]: 0
term 33 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 31 leaderCommit: 259 
------------------------------------------------------
flag 51794 term 33 leader 2 nextIndex[1]: 261  matchIndex[1]: 0
term 33 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 31 leaderCommit: 259 
------------------------------------------------------
term 33 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 261->260
------------------------------------------------------
term 33 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 261->260
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 33 leader 2 nextIndex[0]: 244  matchIndex[0]: 0
term 33 leader 2 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 31
------------------------------------------------------
flag 84608 term 33 leader 2 nextIndex[1]: 260  matchIndex[1]: 0
term 33 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 31 leaderCommit: 259 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=259
leader log:
[{snapshot 31 259} {8144020916044248040 31 260}]
------------------------------------------------------
term 33 server 0 InstallSnapshot success
------------------------------------------------------
term 33 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 260 matchIndex[0] 259 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 259 rf.lastIncludedTerm 31 rf.commitIndex 259 rf.lastApplied 259
flag 41240 term 33 leader 2 nextIndex[0]: 260  matchIndex[0]: 259
term 33 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 31 leaderCommit: 259 
------------------------------------------------------
flag 83188 term 33 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 33 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 31 leaderCommit: 259 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 31 259} {8144020916044248040 31 260}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=259
leader log:
[{snapshot 31 259} {8144020916044248040 31 260}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84251 term 33 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 33 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 31 leaderCommit: 259 
------------------------------------------------------
flag 79263 term 33 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 33 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 31 leaderCommit: 259 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=259
leader log:
[{snapshot 31 259} {8144020916044248040 31 260}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 31 259} {8144020916044248040 31 260}]
------------------------------------------------------
flag 4727 term 33 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 33 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 31 leaderCommit: 259 
------------------------------------------------------
flag 99121 term 33 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 33 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 31 leaderCommit: 259 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=259
leader log:
[{snapshot 31 259} {8144020916044248040 31 260}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 31 259} {8144020916044248040 31 260}]
------------------------------------------------------
term 33 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 38660 term 33 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 33 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 31 leaderCommit: 259 
------------------------------------------------------
flag 23652 term 33 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 33 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 31 leaderCommit: 259 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=259
leader log:
[{snapshot 31 259} {8144020916044248040 31 260}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 31 259} {8144020916044248040 31 260}]
------------------------------------------------------
flag 18853 term 33 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 33 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 31 leaderCommit: 259 
------------------------------------------------------
flag 95696 term 33 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 33 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 31 leaderCommit: 259 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=259
leader log:
[{snapshot 31 259} {8144020916044248040 31 260}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 31 259} {8144020916044248040 31 260}]
------------------------------------------------------
flag 75411 term 33 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 33 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 31 leaderCommit: 259 
------------------------------------------------------
flag 59989 term 33 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 33 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 31 leaderCommit: 259 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=259
leader log:
[{snapshot 31 259} {8144020916044248040 31 260}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 31 259} {8144020916044248040 31 260}]
------------------------------------------------------
flag 40131 term 33 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 33 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 31 leaderCommit: 259 
------------------------------------------------------
flag 89535 term 33 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 33 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 31 leaderCommit: 259 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=259
leader log:
[{snapshot 31 259} {8144020916044248040 31 260}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 31 259} {8144020916044248040 31 260}]
------------------------------------------------------
flag 40030 term 33 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 33 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 31 leaderCommit: 259 
------------------------------------------------------
flag 55409 term 33 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 33 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 31 leaderCommit: 259 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=259
leader log:
[{snapshot 31 259} {8144020916044248040 31 260}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 31 259} {8144020916044248040 31 260}]
------------------------------------------------------
flag 18710 term 33 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 33 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 31 leaderCommit: 259 
------------------------------------------------------
flag 107 term 33 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 33 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 31 leaderCommit: 259 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=259
leader log:
[{snapshot 31 259} {8144020916044248040 31 260}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 31 259} {8144020916044248040 31 260}]
------------------------------------------------------
flag 84943 term 33 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 33 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 31 leaderCommit: 259 
------------------------------------------------------
flag 18762 term 33 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 33 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 31 leaderCommit: 259 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=259
leader log:
[{snapshot 31 259} {8144020916044248040 31 260}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 31 259} {8144020916044248040 31 260}]
------------------------------------------------------
flag 37400 term 33 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 33 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 31 leaderCommit: 259 
------------------------------------------------------
flag 32761 term 33 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 33 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 31 leaderCommit: 259 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueterm 33 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
update nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=259
leader log:
[{snapshot 31 259} {8144020916044248040 31 260}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 31 259} {8144020916044248040 31 260}]
------------------------------------------------------
flag 27107 term 33 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 33 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 31 leaderCommit: 259 
------------------------------------------------------
flag 45539 term 33 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 33 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 31 leaderCommit: 259 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=259
leader log:
[{snapshot 31 259} {8144020916044248040 31 260}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 31 259} {8144020916044248040 31 260}]
------------------------------------------------------
flag 33423 term 33 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 33 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 31 leaderCommit: 259 
------------------------------------------------------
flag 25095 term 33 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 33 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 31 leaderCommit: 259 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=259
leader log:
[{snapshot 31 259} {8144020916044248040 31 260}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 31 259} {8144020916044248040 31 260}]
------------------------------------------------------
flag 94230 term 33 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 33 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 31 leaderCommit: 259 
------------------------------------------------------
flag 66336 term 33 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 33 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 31 leaderCommit: 259 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=259
leader log:
[{snapshot 31 259} {8144020916044248040 31 260}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 31 259} {8144020916044248040 31 260}]
------------------------------------------------------
flag 67492 term 33 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 33 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 31 leaderCommit: 259 
------------------------------------------------------
flag 79720 term 33 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 33 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 31 leaderCommit: 259 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=259
leader log:
[{snapshot 31 259} {8144020916044248040 31 260}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 31 259} {8144020916044248040 31 260}]
------------------------------------------------------
flag 93418 term 33 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 33 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 31 leaderCommit: 259 
------------------------------------------------------
flag 34796 term 33 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 33 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 31 leaderCommit: 259 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=259
leader log:
[{snapshot 31 259} {8144020916044248040 31 260}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 31 259} {8144020916044248040 31 260}]
------------------------------------------------------
flag 80332 term 33 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 33 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 31 leaderCommit: 259 
------------------------------------------------------
flag 69679 term 33 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 33 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 31 leaderCommit: 259 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 31 259} {8144020916044248040 31 260}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=259
leader log:
[{snapshot 31 259} {8144020916044248040 31 260}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47601 term 33 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 33 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 31 leaderCommit: 259 
------------------------------------------------------
flag 96786 term 33 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 33 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 31 leaderCommit: 259 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=259
leader log:
[{snapshot 31 259} {8144020916044248040 31 260}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=259
leader log:
[{snapshot 31 259} {8144020916044248040 31 260}]
------------------------------------------------------
client write log 8144020916044248040 (index 261) to leader 2
term 33 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 58825 term 33 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 33 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 31 leaderCommit: 259 
------------------------------------------------------
flag 19036 term 33 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 33 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 31 leaderCommit: 259 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=261
leader log:
[{snapshot 31 259} {8144020916044248040 31 260} {8144020916044248040 33 261}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=261
leader log:
[{snapshot 31 259} {8144020916044248040 31 260} {8144020916044248040 33 261}]
------------------------------------------------------
flag 1153 term 33 leader 2 nextIndex[0]: 262  matchIndex[0]: 261
term 33 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 33 leaderCommit: 261 
------------------------------------------------------
flag 85569 term 33 leader 2 nextIndex[1]: 262  matchIndex[1]: 261
term 33 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 33 leaderCommit: 261 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=261
leader log:
[{snapshot 31 259} {8144020916044248040 31 260} {8144020916044248040 33 261}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=261
leader log:
[{snapshot 31 259} {8144020916044248040 31 260} {8144020916044248040 33 261}]
------------------------------------------------------
flag 6152 term 33 leader 2 nextIndex[0]: 262  matchIndex[0]: 261
term 33 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 33 leaderCommit: 261 
------------------------------------------------------
flag 40980 term 33 leader 2 nextIndex[1]: 262  matchIndex[1]: 261
term 33 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 33 leaderCommit: 261 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=261
leader log:
[{snapshot 31 259} {8144020916044248040 31 260} {8144020916044248040 33 261}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=261
leader log:
[{snapshot 31 259} {8144020916044248040 31 260} {8144020916044248040 33 261}]
------------------------------------------------------
flag 86220 term 33 leader 2 nextIndex[0]: 262  matchIndex[0]: 261
term 33 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 33 leaderCommit: 261 
------------------------------------------------------
flag 87996 term 33 leader 2 nextIndex[1]: 262  matchIndex[1]: 261
term 33 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 33 leaderCommit: 261 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=261
leader log:
[{snapshot 31 259} {8144020916044248040 31 260} {8144020916044248040 33 261}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=261
leader log:
[{snapshot 31 259} {8144020916044248040 31 260} {8144020916044248040 33 261}]
------------------------------------------------------
flag 82752 term 33 leader 2 nextIndex[0]: 262  matchIndex[0]: 261
term 33 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 33 leaderCommit: 261 
------------------------------------------------------
flag 1325 term 33 leader 2 nextIndex[1]: 262  matchIndex[1]: 261
term 33 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 33 leaderCommit: 261 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=261
leader log:
[{snapshot 31 259} {8144020916044248040 31 260} {8144020916044248040 33 261}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=261
leader log:
[{snapshot 31 259} {8144020916044248040 31 260} {8144020916044248040 33 261}]
------------------------------------------------------
flag 54880 term 33 leader 2 nextIndex[0]: 262  matchIndex[0]: 261
term 33 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 33 leaderCommit: 261 
------------------------------------------------------
flag 27650 term 33 leader 2 nextIndex[1]: 262  matchIndex[1]: 261
term 33 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 33 leaderCommit: 261 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=261
leader log:
[{snapshot 31 259} {8144020916044248040 31 260} {8144020916044248040 33 261}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=261
leader log:
[{snapshot 31 259} {8144020916044248040 31 260} {8144020916044248040 33 261}]
------------------------------------------------------
flag 56304 term 33 leader 2 nextIndex[0]: 262  matchIndex[0]: 261
term 33 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 33 leaderCommit: 261 
------------------------------------------------------
flag 91777 term 33 leader 2 nextIndex[1]: 262  matchIndex[1]: 261
term 33 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 33 leaderCommit: 261 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:261 
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=261
leader log:
[{snapshot 31 259} {8144020916044248040 31 260} {8144020916044248040 33 261}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=261
leader log:
[{snapshot 31 259} {8144020916044248040 31 260} {8144020916044248040 33 261}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 76950 term 33 leader 2 nextIndex[0]: 262  matchIndex[0]: 261
term 33 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 33 leaderCommit: 261 
------------------------------------------------------
flag 45185 term 33 leader 2 nextIndex[1]: 262  matchIndex[1]: 261
term 33 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 33 leaderCommit: 261 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84511 term 33 leader 2 nextIndex[0]: 262  matchIndex[0]: 261
term 33 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 33 leaderCommit: 261 
------------------------------------------------------
flag 73650 term 33 leader 2 nextIndex[1]: 262  matchIndex[1]: 261
term 33 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 33 leaderCommit: 261 
------------------------------------------------------
flag 68303 term 33 leader 2 nextIndex[0]: 262  matchIndex[0]: 261
term 33 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 33 leaderCommit: 261 
------------------------------------------------------
flag 75375 term 33 leader 2 nextIndex[1]: 262  matchIndex[1]: 261
term 33 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 33 leaderCommit: 261 
------------------------------------------------------
flag 16054 term 33 leader 2 nextIndex[0]: 262  matchIndex[0]: 261
term 33 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 33 leaderCommit: 261 
------------------------------------------------------
flag 18233 term 33 leader 2 nextIndex[1]: 262  matchIndex[1]: 261
term 33 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 33 leaderCommit: 261 
------------------------------------------------------
term 34 server 1 vote for server 0
term 34 server 0 get vote from server 1
term 34 server 0 become leader
------------------------------------------------------
flag 27106 term 34 leader 0 nextIndex[1]: 262  matchIndex[1]: 0
term 34 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 33 leaderCommit: 261 
------------------------------------------------------
flag 13847 term 34 leader 0 nextIndex[2]: 262  matchIndex[2]: 0
term 34 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 33 leaderCommit: 261 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=261
leader log:
[{snapshot 31 259} {8144020916044248040 31 260} {8144020916044248040 33 261}]
------------------------------------------------------
client write log 872997226922405089 (index 262) to leader 0
flag 98398 term 33 leader 2 nextIndex[0]: 262  matchIndex[0]: 261
term 33 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 33 leaderCommit: 261 
------------------------------------------------------
flag 9049 term 33 leader 2 nextIndex[1]: 262  matchIndex[1]: 261
term 33 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 33 leaderCommit: 261 
------------------------------------------------------
flag 50020 term 34 leader 0 nextIndex[1]: 262  matchIndex[1]: 261
term 34 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 33 leaderCommit: 261 
------------------------------------------------------
flag 37238 term 34 leader 0 nextIndex[2]: 262  matchIndex[2]: 0
term 34 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 33 leaderCommit: 261 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=262
leader log:
[{snapshot 31 259} {8144020916044248040 31 260} {8144020916044248040 33 261} {872997226922405089 34 262}]
------------------------------------------------------
term 34 server 1 not vote for server 0, 任期不够新
term 34 server 0 get outdate rpc reply from server 1
flag 83136 term 33 leader 2 nextIndex[0]: 262  matchIndex[0]: 261
term 33 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 33 leaderCommit: 261 
------------------------------------------------------
flag 48369 term 33 leader 2 nextIndex[1]: 262  matchIndex[1]: 261
term 33 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 33 leaderCommit: 261 
------------------------------------------------------
flag 51994 term 34 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 34 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 34 leaderCommit: 262 
------------------------------------------------------
flag 1436 term 34 leader 0 nextIndex[2]: 262  matchIndex[2]: 0
term 34 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 33 leaderCommit: 262 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=262
leader log:
[{snapshot 31 259} {8144020916044248040 31 260} {8144020916044248040 33 261} {872997226922405089 34 262}]
------------------------------------------------------
client write log 1485678057005988538 (index 263) to leader 0
client write log 5351564306879450772 (index 264) to leader 0
client write log 806691105435034385 (index 265) to leader 0
client write log 6520478100785271748 (index 266) to leader 0
client write log 882233175728065932 (index 267) to leader 0
client write log 6381430583272905610 (index 268) to leader 0
client write log 96150449138662466 (index 269) to leader 0
flag 21641 term 33 leader 2 nextIndex[0]: 262  matchIndex[0]: 261
term 33 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 33 leaderCommit: 261 
------------------------------------------------------
flag 80455 term 33 leader 2 nextIndex[1]: 262  matchIndex[1]: 261
term 33 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 33 leaderCommit: 261 
------------------------------------------------------
flag 37269 term 34 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 34 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 34 leaderCommit: 262 
------------------------------------------------------
flag 73166 term 34 leader 0 nextIndex[2]: 262  matchIndex[2]: 0
term 34 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 33 leaderCommit: 262 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=269
leader log:
[{snapshot 31 259} {8144020916044248040 31 260} {8144020916044248040 33 261} {872997226922405089 34 262} {1485678057005988538 34 263} {5351564306879450772 34 264} {806691105435034385 34 265} {6520478100785271748 34 266} {882233175728065932 34 267} {6381430583272905610 34 268} {96150449138662466 34 269}]
------------------------------------------------------
term 34 Server0 start snapshot! index=269
term 34 server0 snapshot success
lastIncludedIndex=269 lastApplied=269 lastIndex=269
-------------------------------------------------------------
flag 65392 term 33 leader 2 nextIndex[0]: 262  matchIndex[0]: 261
term 33 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 33 leaderCommit: 261 
------------------------------------------------------
flag 37795 term 33 leader 2 nextIndex[1]: 262  matchIndex[1]: 261
term 33 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 33 leaderCommit: 261 
------------------------------------------------------
flag 83247 term 34 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 34 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 34 leaderCommit: 269 
------------------------------------------------------
term 34 leader 0 nextIndex[2]: 262  matchIndex[2]: 0
term 34 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 34
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=269
leader log:
[{snapshot 34 269}]
------------------------------------------------------
term 34 Server1 start snapshot! index=269
term 34 server1 snapshot success
lastIncludedIndex=269 lastApplied=269 lastIndex=269
-------------------------------------------------------------
!!!!!!connect server 2
client write log 6849687247254192886 (index 262) to leader 2
flag 70830 term 33 leader 2 nextIndex[0]: 262  matchIndex[0]: 261
term 33 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 33 leaderCommit: 261 
------------------------------------------------------
flag 96486 term 33 leader 2 nextIndex[1]: 262  matchIndex[1]: 261
term 33 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 33 leaderCommit: 261 
------------------------------------------------------
term 34 server 1 AppendEntries false 领导者任期过期 args.Term 33
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 34 server 0 AppendEntries false 领导者任期过期 args.Term 33
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72645 term 34 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 34 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 34 leaderCommit: 269 
------------------------------------------------------
term 34 leader 0 nextIndex[2]: 262  matchIndex[2]: 0
term 34 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 34
------------------------------------------------------
term 34 server 2 InstallSnapshot success
------------------------------------------------------
term 34 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 270 matchIndex[2] 269 
------------------------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=269
leader log:
[{snapshot 34 269}]
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 269 rf.lastIncludedTerm 34 rf.commitIndex 269 rf.lastApplied 269
flag 79549 term 34 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 34 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 34 leaderCommit: 269 
------------------------------------------------------
flag 15758 term 34 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 34 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 34 leaderCommit: 269 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=269
leader log:
[{snapshot 34 269}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=269
leader log:
[{snapshot 34 269}]
------------------------------------------------------
flag 53086 term 34 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 34 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 34 leaderCommit: 269 
------------------------------------------------------
flag 36098 term 34 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 34 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 34 leaderCommit: 269 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:269 
term 34 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=269
leader log:
[{snapshot 34 269}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=269
leader log:
[{snapshot 34 269}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34286 term 34 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 34 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 34 leaderCommit: 269 
------------------------------------------------------
flag 52800 term 34 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 34 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 34 leaderCommit: 269 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=269
leader log:
[{snapshot 34 269}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=269
leader log:
[{snapshot 34 269}]
------------------------------------------------------
flag 61537 term 34 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 34 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 34 leaderCommit: 269 
------------------------------------------------------
flag 78238 term 34 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 34 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 34 leaderCommit: 269 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=269
leader log:
[{snapshot 34 269}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=269
leader log:
[{snapshot 34 269}]
------------------------------------------------------
term 34 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 270 matchIndex[2] 269 
------------------------------------------------------------------------
flag 13037 term 34 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 34 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 34 leaderCommit: 269 
------------------------------------------------------
flag 10336 term 34 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 34 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 34 leaderCommit: 269 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=269
leader log:
[{snapshot 34 269}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=269
leader log:
[{snapshot 34 269}]
------------------------------------------------------
flag 4857 term 34 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 34 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 34 leaderCommit: 269 
------------------------------------------------------
flag 2846 term 34 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 34 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 34 leaderCommit: 269 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=269
leader log:
[{snapshot 34 269}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=269
leader log:
[{snapshot 34 269}]
------------------------------------------------------
flag 70869 term 34 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 34 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 34 leaderCommit: 269 
------------------------------------------------------
flag 94805 term 34 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 34 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 34 leaderCommit: 269 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=269
leader log:
[{snapshot 34 269}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=269
leader log:
[{snapshot 34 269}]
------------------------------------------------------
flag 24769 term 34 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 34 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 34 leaderCommit: 269 
------------------------------------------------------
flag 40873 term 34 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 34 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 34 leaderCommit: 269 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=269
leader log:
[{snapshot 34 269}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=269
leader log:
[{snapshot 34 269}]
------------------------------------------------------
flag 30824 term 34 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 34 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 34 leaderCommit: 269 
------------------------------------------------------
flag 1645 term 34 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 34 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 34 leaderCommit: 269 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=269
leader log:
[{snapshot 34 269}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=269
leader log:
[{snapshot 34 269}]
------------------------------------------------------
flag 42883 term 34 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 34 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 34 leaderCommit: 269 
------------------------------------------------------
flag 57792 term 34 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 34 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 34 leaderCommit: 269 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=269
leader log:
[{snapshot 34 269}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=269
leader log:
[{snapshot 34 269}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21128 term 34 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 34 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 34 leaderCommit: 269 
------------------------------------------------------
flag 44857 term 34 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 34 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 34 leaderCommit: 269 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=269
leader log:
[{snapshot 34 269}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=269
leader log:
[{snapshot 34 269}]
------------------------------------------------------
flag 3260 term 34 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 34 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 34 leaderCommit: 269 
------------------------------------------------------
flag 65779 term 34 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 34 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 34 leaderCommit: 269 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=269
leader log:
[{snapshot 34 269}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=269
leader log:
[{snapshot 34 269}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57526 term 34 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 34 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 34 leaderCommit: 269 
------------------------------------------------------
flag 90054 term 34 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 34 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 34 leaderCommit: 269 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=269
leader log:
[{snapshot 34 269}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=269
leader log:
[{snapshot 34 269}]
------------------------------------------------------
flag 9102 term 34 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 34 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 34 leaderCommit: 269 
------------------------------------------------------
flag 77313 term 34 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 34 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 34 leaderCommit: 269 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=269
leader log:
[{snapshot 34 269}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=269
leader log:
[{snapshot 34 269}]
------------------------------------------------------
flag 59429 term 34 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 34 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 34 leaderCommit: 269 
------------------------------------------------------
flag 24875 term 34 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 34 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 34 leaderCommit: 269 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=269
leader log:
[{snapshot 34 269}]
term 34 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=269
leader log:
[{snapshot 34 269}]
------------------------------------------------------
flag 4407 term 34 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 34 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 34 leaderCommit: 269 
------------------------------------------------------
flag 63049 term 34 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 34 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 34 leaderCommit: 269 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=269
leader log:
[{snapshot 34 269}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=269
leader log:
[{snapshot 34 269}]
------------------------------------------------------
flag 76504 term 34 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 34 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 34 leaderCommit: 269 
------------------------------------------------------
flag 98097 term 34 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 34 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 34 leaderCommit: 269 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=269
leader log:
[{snapshot 34 269}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=269
leader log:
[{snapshot 34 269}]
------------------------------------------------------
term 34 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 52577 term 34 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 34 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 34 leaderCommit: 269 
------------------------------------------------------
flag 938 term 34 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 34 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 34 leaderCommit: 269 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=269
leader log:
[{snapshot 34 269}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=269
leader log:
[{snapshot 34 269}]
------------------------------------------------------
flag 99390 term 34 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 34 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 34 leaderCommit: 269 
------------------------------------------------------
flag 56403 term 34 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 34 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 34 leaderCommit: 269 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=269
leader log:
[{snapshot 34 269}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=269
leader log:
[{snapshot 34 269}]
------------------------------------------------------
client write log 6849687247254192886 (index 270) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66982 term 34 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 34 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 34 leaderCommit: 269 
------------------------------------------------------
flag 56383 term 34 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 34 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 34 leaderCommit: 269 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=271
update matchIndex[2]=270
update leader CommitIndex=270
leader log:
[{snapshot 34 269} {6849687247254192886 34 270}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=271
update matchIndex[1]=270
update leader CommitIndex=270
leader log:
[{snapshot 34 269} {6849687247254192886 34 270}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 271->270
------------------------------------------------------
flag 91694 term 34 leader 0 nextIndex[1]: 271  matchIndex[1]: 270
term 34 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 34 leaderCommit: 270 
------------------------------------------------------
term 34 leader 0 nextIndex[2]: 0  matchIndex[2]: 270
term 34 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 34
------------------------------------------------------
term 34 server 2 InstallSnapshot fail
rf.commitIndex 269 args.LastIncludedIndex 269
------------------------------------------------------
term 34 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 270 matchIndex[2] 269 
------------------------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=271
update matchIndex[1]=270
update leader CommitIndex=270
leader log:
[{snapshot 34 269} {6849687247254192886 34 270}]
------------------------------------------------------
flag 35653 term 34 leader 0 nextIndex[1]: 271  matchIndex[1]: 270
term 34 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 34 leaderCommit: 270 
------------------------------------------------------
flag 40387 term 34 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 34 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 34 leaderCommit: 270 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:270 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=271
update matchIndex[2]=270
update leader CommitIndex=270
leader log:
[{snapshot 34 269} {6849687247254192886 34 270}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=271
update matchIndex[1]=270
update leader CommitIndex=270
leader log:
[{snapshot 34 269} {6849687247254192886 34 270}]
------------------------------------------------------
flag 82689 term 34 leader 0 nextIndex[1]: 271  matchIndex[1]: 270
term 34 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 34 leaderCommit: 270 
------------------------------------------------------
flag 16269 term 34 leader 0 nextIndex[2]: 271  matchIndex[2]: 270
term 34 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 34 leaderCommit: 270 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=271
update matchIndex[2]=270
update leader CommitIndex=270
leader log:
[{snapshot 34 269} {6849687247254192886 34 270}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=271
update matchIndex[1]=270
update leader CommitIndex=270
leader log:
[{snapshot 34 269} {6849687247254192886 34 270}]
------------------------------------------------------
flag 6504 term 34 leader 0 nextIndex[1]: 271  matchIndex[1]: 270
term 34 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 34 leaderCommit: 270 
------------------------------------------------------
flag 65617 term 34 leader 0 nextIndex[2]: 271  matchIndex[2]: 270
term 34 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 34 leaderCommit: 270 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=271
update matchIndex[2]=270
update leader CommitIndex=270
leader log:
[{snapshot 34 269} {6849687247254192886 34 270}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=271
update matchIndex[1]=270
update leader CommitIndex=270
leader log:
[{snapshot 34 269} {6849687247254192886 34 270}]
------------------------------------------------------
flag 93121 term 34 leader 0 nextIndex[1]: 271  matchIndex[1]: 270
term 34 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 34 leaderCommit: 270 
------------------------------------------------------
flag 38866 term 34 leader 0 nextIndex[2]: 271  matchIndex[2]: 270
term 34 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 34 leaderCommit: 270 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=271
update matchIndex[2]=270
update leader CommitIndex=270
leader log:
[{snapshot 34 269} {6849687247254192886 34 270}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=271
update matchIndex[1]=270
update leader CommitIndex=270
leader log:
[{snapshot 34 269} {6849687247254192886 34 270}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11505 term 34 leader 0 nextIndex[1]: 271  matchIndex[1]: 270
term 34 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 34 leaderCommit: 270 
------------------------------------------------------
flag 18252 term 34 leader 0 nextIndex[2]: 271  matchIndex[2]: 270
term 34 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 34 leaderCommit: 270 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=271
update matchIndex[2]=270
update leader CommitIndex=270
leader log:
[{snapshot 34 269} {6849687247254192886 34 270}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=271
update matchIndex[1]=270
update leader CommitIndex=270
leader log:
[{snapshot 34 269} {6849687247254192886 34 270}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 7378226021792930185 (index 271) to leader 0
flag 17470 term 34 leader 0 nextIndex[1]: 271  matchIndex[1]: 270
term 34 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 34 leaderCommit: 270 
------------------------------------------------------
flag 49351 term 34 leader 0 nextIndex[2]: 271  matchIndex[2]: 270
term 34 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 34 leaderCommit: 270 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=271
leader log:
[{snapshot 34 269} {6849687247254192886 34 270} {7378226021792930185 34 271}]
------------------------------------------------------
flag 55451 term 34 leader 0 nextIndex[1]: 271  matchIndex[1]: 270
term 34 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 34 leaderCommit: 271 
------------------------------------------------------
flag 60068 term 34 leader 0 nextIndex[2]: 272  matchIndex[2]: 271
term 34 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 34 leaderCommit: 271 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=271
leader log:
[{snapshot 34 269} {6849687247254192886 34 270} {7378226021792930185 34 271}]
------------------------------------------------------
client write log 7756011900625117940 (index 272) to leader 0
client write log 6228558175002549062 (index 273) to leader 0
client write log 3091281432587131956 (index 274) to leader 0
client write log 7215849877094813195 (index 275) to leader 0
client write log 8363642350949807685 (index 276) to leader 0
client write log 427472077015421322 (index 277) to leader 0
client write log 1597390481264674142 (index 278) to leader 0
client write log 4632236991233423339 (index 279) to leader 0
client write log 3166005116182157639 (index 280) to leader 0
client write log 4273126131579992394 (index 281) to leader 0
client write log 4226406123550260179 (index 282) to leader 0
client write log 1920134829836055602 (index 283) to leader 0
client write log 6357970552689691463 (index 284) to leader 0
client write log 7346905019018068820 (index 285) to leader 0
client write log 330405837698124928 (index 286) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10512 term 34 leader 0 nextIndex[1]: 271  matchIndex[1]: 270
term 34 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 34 leaderCommit: 271 
------------------------------------------------------
flag 94394 term 34 leader 0 nextIndex[2]: 272  matchIndex[2]: 271
term 34 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 34 leaderCommit: 271 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 34 269} {6849687247254192886 34 270} {7378226021792930185 34 271} {7756011900625117940 34 272} {6228558175002549062 34 273} {3091281432587131956 34 274} {7215849877094813195 34 275} {8363642350949807685 34 276} {427472077015421322 34 277} {1597390481264674142 34 278} {4632236991233423339 34 279} {3166005116182157639 34 280} {4273126131579992394 34 281} {4226406123550260179 34 282} {1920134829836055602 34 283} {6357970552689691463 34 284} {7346905019018068820 34 285} {330405837698124928 34 286}]
------------------------------------------------------
term 34 Server0 start snapshot! index=279
term 34 server0 snapshot success
lastIncludedIndex=279 lastApplied=280 lastIndex=286
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 34 leader 0 nextIndex[1]: 271  matchIndex[1]: 270
term 34 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 34
------------------------------------------------------
flag 88528 term 34 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 34 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 34 leaderCommit: 286 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 34 279} {3166005116182157639 34 280} {4273126131579992394 34 281} {4226406123550260179 34 282} {1920134829836055602 34 283} {6357970552689691463 34 284} {7346905019018068820 34 285} {330405837698124928 34 286}]
------------------------------------------------------
term 34 Server2 start snapshot! index=279
term 34 server2 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=286
-------------------------------------------------------------
!!!!!!connect server 1
client write log 3261446830625882848 (index 287) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 34 server 2 not vote for server 1, 日志不够新
term 34 server 0 not vote for server 1, 日志不够新
term 36 server 2 vote for server 0
term 36 server 1 vote for server 0
term 36 server 0 get vote from server 1
term 36 server 0 become leader
------------------------------------------------------
term 36 server 0 get outdate rpc reply from server 2
flag 91443 term 36 leader 0 nextIndex[1]: 288  matchIndex[1]: 0
term 36 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 34 leaderCommit: 286 
------------------------------------------------------
flag 77975 term 36 leader 0 nextIndex[2]: 288  matchIndex[2]: 0
term 36 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 34 leaderCommit: 286 
------------------------------------------------------
term 36 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 288->287
------------------------------------------------------
term 36 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 36 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 288->287
------------------------------------------------------
term 36 server 2 not vote for server 0, 任期不够新
term 36 server 0 get outdate rpc reply from server 2
term 36 leader 0 nextIndex[1]: 271  matchIndex[1]: 0
term 36 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 34
------------------------------------------------------
flag 98983 term 36 leader 0 nextIndex[2]: 287  matchIndex[2]: 0
term 36 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 34 leaderCommit: 286 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
term 36 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 34 279} {3166005116182157639 34 280} {4273126131579992394 34 281} {4226406123550260179 34 282} {1920134829836055602 34 283} {6357970552689691463 34 284} {7346905019018068820 34 285} {330405837698124928 34 286} {3261446830625882848 34 287}]
------------------------------------------------------
term 36 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 280 matchIndex[1] 279 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 279 rf.lastIncludedTerm 34 rf.commitIndex 279 rf.lastApplied 279
flag 13777 term 36 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 36 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 34 leaderCommit: 286 
------------------------------------------------------
flag 77458 term 36 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 36 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 34 leaderCommit: 286 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 34 279} {3166005116182157639 34 280} {4273126131579992394 34 281} {4226406123550260179 34 282} {1920134829836055602 34 283} {6357970552689691463 34 284} {7346905019018068820 34 285} {330405837698124928 34 286} {3261446830625882848 34 287}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 34 279} {3166005116182157639 34 280} {4273126131579992394 34 281} {4226406123550260179 34 282} {1920134829836055602 34 283} {6357970552689691463 34 284} {7346905019018068820 34 285} {330405837698124928 34 286} {3261446830625882848 34 287}]
------------------------------------------------------
flag 94273 term 36 leader 0 nextIndex[1]: 288  matchIndex[1]: 287
term 36 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 34 leaderCommit: 286 
------------------------------------------------------
flag 92642 term 36 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 36 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 34 leaderCommit: 286 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 34 279} {3166005116182157639 34 280} {4273126131579992394 34 281} {4226406123550260179 34 282} {1920134829836055602 34 283} {6357970552689691463 34 284} {7346905019018068820 34 285} {330405837698124928 34 286} {3261446830625882848 34 287}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 34 279} {3166005116182157639 34 280} {4273126131579992394 34 281} {4226406123550260179 34 282} {1920134829836055602 34 283} {6357970552689691463 34 284} {7346905019018068820 34 285} {330405837698124928 34 286} {3261446830625882848 34 287}]
------------------------------------------------------
flag 27515 term 36 leader 0 nextIndex[1]: 288  matchIndex[1]: 287
term 36 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 34 leaderCommit: 286 
------------------------------------------------------
flag 15265 term 36 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 36 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 34 leaderCommit: 286 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 34 279} {3166005116182157639 34 280} {4273126131579992394 34 281} {4226406123550260179 34 282} {1920134829836055602 34 283} {6357970552689691463 34 284} {7346905019018068820 34 285} {330405837698124928 34 286} {3261446830625882848 34 287}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 34 279} {3166005116182157639 34 280} {4273126131579992394 34 281} {4226406123550260179 34 282} {1920134829836055602 34 283} {6357970552689691463 34 284} {7346905019018068820 34 285} {330405837698124928 34 286} {3261446830625882848 34 287}]
------------------------------------------------------
flag 32426 term 36 leader 0 nextIndex[1]: 288  matchIndex[1]: 287
term 36 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 34 leaderCommit: 286 
------------------------------------------------------
flag 28508 term 36 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 36 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 34 leaderCommit: 286 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 34 279} {3166005116182157639 34 280} {4273126131579992394 34 281} {4226406123550260179 34 282} {1920134829836055602 34 283} {6357970552689691463 34 284} {7346905019018068820 34 285} {330405837698124928 34 286} {3261446830625882848 34 287}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 34 279} {3166005116182157639 34 280} {4273126131579992394 34 281} {4226406123550260179 34 282} {1920134829836055602 34 283} {6357970552689691463 34 284} {7346905019018068820 34 285} {330405837698124928 34 286} {3261446830625882848 34 287}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92511 term 36 leader 0 nextIndex[1]: 288  matchIndex[1]: 287
term 36 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 34 leaderCommit: 286 
------------------------------------------------------
flag 62098 term 36 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 36 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 34 leaderCommit: 286 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 34 279} {3166005116182157639 34 280} {4273126131579992394 34 281} {4226406123550260179 34 282} {1920134829836055602 34 283} {6357970552689691463 34 284} {7346905019018068820 34 285} {330405837698124928 34 286} {3261446830625882848 34 287}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 34 279} {3166005116182157639 34 280} {4273126131579992394 34 281} {4226406123550260179 34 282} {1920134829836055602 34 283} {6357970552689691463 34 284} {7346905019018068820 34 285} {330405837698124928 34 286} {3261446830625882848 34 287}]
------------------------------------------------------
flag 31264 term 36 leader 0 nextIndex[1]: 288  matchIndex[1]: 287
term 36 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 34 leaderCommit: 286 
------------------------------------------------------
flag 22031 term 36 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 36 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 34 leaderCommit: 286 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 34 279} {3166005116182157639 34 280} {4273126131579992394 34 281} {4226406123550260179 34 282} {1920134829836055602 34 283} {6357970552689691463 34 284} {7346905019018068820 34 285} {330405837698124928 34 286} {3261446830625882848 34 287}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 34 279} {3166005116182157639 34 280} {4273126131579992394 34 281} {4226406123550260179 34 282} {1920134829836055602 34 283} {6357970552689691463 34 284} {7346905019018068820 34 285} {330405837698124928 34 286} {3261446830625882848 34 287}]
------------------------------------------------------
flag 80673 term 36 leader 0 nextIndex[1]: 288  matchIndex[1]: 287
term 36 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 34 leaderCommit: 286 
------------------------------------------------------
flag 45274 term 36 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 36 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 34 leaderCommit: 286 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 34 279} {3166005116182157639 34 280} {4273126131579992394 34 281} {4226406123550260179 34 282} {1920134829836055602 34 283} {6357970552689691463 34 284} {7346905019018068820 34 285} {330405837698124928 34 286} {3261446830625882848 34 287}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 34 279} {3166005116182157639 34 280} {4273126131579992394 34 281} {4226406123550260179 34 282} {1920134829836055602 34 283} {6357970552689691463 34 284} {7346905019018068820 34 285} {330405837698124928 34 286} {3261446830625882848 34 287}]
------------------------------------------------------
flag 11610 term 36 leader 0 nextIndex[1]: 288  matchIndex[1]: 287
term 36 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 34 leaderCommit: 286 
------------------------------------------------------
flag 53773 term 36 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 36 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 34 leaderCommit: 286 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 34 279} {3166005116182157639 34 280} {4273126131579992394 34 281} {4226406123550260179 34 282} {1920134829836055602 34 283} {6357970552689691463 34 284} {7346905019018068820 34 285} {330405837698124928 34 286} {3261446830625882848 34 287}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 34 279} {3166005116182157639 34 280} {4273126131579992394 34 281} {4226406123550260179 34 282} {1920134829836055602 34 283} {6357970552689691463 34 284} {7346905019018068820 34 285} {330405837698124928 34 286} {3261446830625882848 34 287}]
------------------------------------------------------
flag 72750 term 36 leader 0 nextIndex[1]: 288  matchIndex[1]: 287
term 36 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 34 leaderCommit: 286 
------------------------------------------------------
flag 96823 term 36 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 36 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 34 leaderCommit: 286 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 34 279} {3166005116182157639 34 280} {4273126131579992394 34 281} {4226406123550260179 34 282} {1920134829836055602 34 283} {6357970552689691463 34 284} {7346905019018068820 34 285} {330405837698124928 34 286} {3261446830625882848 34 287}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 34 279} {3166005116182157639 34 280} {4273126131579992394 34 281} {4226406123550260179 34 282} {1920134829836055602 34 283} {6357970552689691463 34 284} {7346905019018068820 34 285} {330405837698124928 34 286} {3261446830625882848 34 287}]
------------------------------------------------------
flag 79909 term 36 leader 0 nextIndex[1]: 288  matchIndex[1]: 287
term 36 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 34 leaderCommit: 286 
------------------------------------------------------
flag 86021 term 36 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 36 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 34 leaderCommit: 286 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 34 279} {3166005116182157639 34 280} {4273126131579992394 34 281} {4226406123550260179 34 282} {1920134829836055602 34 283} {6357970552689691463 34 284} {7346905019018068820 34 285} {330405837698124928 34 286} {3261446830625882848 34 287}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 34 279} {3166005116182157639 34 280} {4273126131579992394 34 281} {4226406123550260179 34 282} {1920134829836055602 34 283} {6357970552689691463 34 284} {7346905019018068820 34 285} {330405837698124928 34 286} {3261446830625882848 34 287}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52276 term 36 leader 0 nextIndex[1]: 288  matchIndex[1]: 287
term 36 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 34 leaderCommit: 286 
------------------------------------------------------
flag 58647 term 36 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 36 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 34 leaderCommit: 286 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 34 279} {3166005116182157639 34 280} {4273126131579992394 34 281} {4226406123550260179 34 282} {1920134829836055602 34 283} {6357970552689691463 34 284} {7346905019018068820 34 285} {330405837698124928 34 286} {3261446830625882848 34 287}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 34 279} {3166005116182157639 34 280} {4273126131579992394 34 281} {4226406123550260179 34 282} {1920134829836055602 34 283} {6357970552689691463 34 284} {7346905019018068820 34 285} {330405837698124928 34 286} {3261446830625882848 34 287}]
------------------------------------------------------
flag 5316 term 36 leader 0 nextIndex[1]: 288  matchIndex[1]: 287
term 36 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 34 leaderCommit: 286 
------------------------------------------------------
flag 17071 term 36 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 36 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 34 leaderCommit: 286 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 34 279} {3166005116182157639 34 280} {4273126131579992394 34 281} {4226406123550260179 34 282} {1920134829836055602 34 283} {6357970552689691463 34 284} {7346905019018068820 34 285} {330405837698124928 34 286} {3261446830625882848 34 287}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 34 279} {3166005116182157639 34 280} {4273126131579992394 34 281} {4226406123550260179 34 282} {1920134829836055602 34 283} {6357970552689691463 34 284} {7346905019018068820 34 285} {330405837698124928 34 286} {3261446830625882848 34 287}]
------------------------------------------------------
flag 58588 term 36 leader 0 nextIndex[1]: 288  matchIndex[1]: 287
term 36 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 34 leaderCommit: 286 
------------------------------------------------------
flag 80716 term 36 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 36 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 34 leaderCommit: 286 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 34 279} {3166005116182157639 34 280} {4273126131579992394 34 281} {4226406123550260179 34 282} {1920134829836055602 34 283} {6357970552689691463 34 284} {7346905019018068820 34 285} {330405837698124928 34 286} {3261446830625882848 34 287}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 34 279} {3166005116182157639 34 280} {4273126131579992394 34 281} {4226406123550260179 34 282} {1920134829836055602 34 283} {6357970552689691463 34 284} {7346905019018068820 34 285} {330405837698124928 34 286} {3261446830625882848 34 287}]
------------------------------------------------------
flag 36619 term 36 leader 0 nextIndex[1]: 288  matchIndex[1]: 287
term 36 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 34 leaderCommit: 286 
------------------------------------------------------
flag 57841 term 36 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 36 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 34 leaderCommit: 286 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 34 279} {3166005116182157639 34 280} {4273126131579992394 34 281} {4226406123550260179 34 282} {1920134829836055602 34 283} {6357970552689691463 34 284} {7346905019018068820 34 285} {330405837698124928 34 286} {3261446830625882848 34 287}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 34 279} {3166005116182157639 34 280} {4273126131579992394 34 281} {4226406123550260179 34 282} {1920134829836055602 34 283} {6357970552689691463 34 284} {7346905019018068820 34 285} {330405837698124928 34 286} {3261446830625882848 34 287}]
------------------------------------------------------
flag 96210 term 36 leader 0 nextIndex[1]: 288  matchIndex[1]: 287
term 36 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 34 leaderCommit: 286 
------------------------------------------------------
flag 94777 term 36 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 36 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 34 leaderCommit: 286 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 34 279} {3166005116182157639 34 280} {4273126131579992394 34 281} {4226406123550260179 34 282} {1920134829836055602 34 283} {6357970552689691463 34 284} {7346905019018068820 34 285} {330405837698124928 34 286} {3261446830625882848 34 287}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 34 279} {3166005116182157639 34 280} {4273126131579992394 34 281} {4226406123550260179 34 282} {1920134829836055602 34 283} {6357970552689691463 34 284} {7346905019018068820 34 285} {330405837698124928 34 286} {3261446830625882848 34 287}]
------------------------------------------------------
flag 66817 term 36 leader 0 nextIndex[1]: 288  matchIndex[1]: 287
term 36 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 34 leaderCommit: 286 
------------------------------------------------------
flag 83674 term 36 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 36 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 34 leaderCommit: 286 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 34 279} {3166005116182157639 34 280} {4273126131579992394 34 281} {4226406123550260179 34 282} {1920134829836055602 34 283} {6357970552689691463 34 284} {7346905019018068820 34 285} {330405837698124928 34 286} {3261446830625882848 34 287}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 34 279} {3166005116182157639 34 280} {4273126131579992394 34 281} {4226406123550260179 34 282} {1920134829836055602 34 283} {6357970552689691463 34 284} {7346905019018068820 34 285} {330405837698124928 34 286} {3261446830625882848 34 287}]
------------------------------------------------------
flag 8443 term 36 leader 0 nextIndex[1]: 288  matchIndex[1]: 287
term 36 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 34 leaderCommit: 286 
------------------------------------------------------
flag 40599 term 36 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 36 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 34 leaderCommit: 286 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 34 279} {3166005116182157639 34 280} {4273126131579992394 34 281} {4226406123550260179 34 282} {1920134829836055602 34 283} {6357970552689691463 34 284} {7346905019018068820 34 285} {330405837698124928 34 286} {3261446830625882848 34 287}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 34 279} {3166005116182157639 34 280} {4273126131579992394 34 281} {4226406123550260179 34 282} {1920134829836055602 34 283} {6357970552689691463 34 284} {7346905019018068820 34 285} {330405837698124928 34 286} {3261446830625882848 34 287}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 3261446830625882848 (index 288) to leader 0
flag 41120 term 36 leader 0 nextIndex[1]: 288  matchIndex[1]: 287
term 36 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 34 leaderCommit: 286 
------------------------------------------------------
flag 57676 term 36 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 36 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 34 leaderCommit: 286 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=288
leader log:
[{snapshot 34 279} {3166005116182157639 34 280} {4273126131579992394 34 281} {4226406123550260179 34 282} {1920134829836055602 34 283} {6357970552689691463 34 284} {7346905019018068820 34 285} {330405837698124928 34 286} {3261446830625882848 34 287} {3261446830625882848 36 288}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=289
update matchIndex[2]=288
update leader CommitIndex=288
leader log:
[{snapshot 34 279} {3166005116182157639 34 280} {4273126131579992394 34 281} {4226406123550260179 34 282} {1920134829836055602 34 283} {6357970552689691463 34 284} {7346905019018068820 34 285} {330405837698124928 34 286} {3261446830625882848 34 287} {3261446830625882848 36 288}]
------------------------------------------------------
flag 84404 term 36 leader 0 nextIndex[1]: 289  matchIndex[1]: 288
term 36 leader 0 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 36 leaderCommit: 288 
------------------------------------------------------
flag 88607 term 36 leader 0 nextIndex[2]: 289  matchIndex[2]: 288
term 36 leader 0 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 36 leaderCommit: 288 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=289
update matchIndex[2]=288
update leader CommitIndex=288
leader log:
[{snapshot 34 279} {3166005116182157639 34 280} {4273126131579992394 34 281} {4226406123550260179 34 282} {1920134829836055602 34 283} {6357970552689691463 34 284} {7346905019018068820 34 285} {330405837698124928 34 286} {3261446830625882848 34 287} {3261446830625882848 36 288}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=288
leader log:
[{snapshot 34 279} {3166005116182157639 34 280} {4273126131579992394 34 281} {4226406123550260179 34 282} {1920134829836055602 34 283} {6357970552689691463 34 284} {7346905019018068820 34 285} {330405837698124928 34 286} {3261446830625882848 34 287} {3261446830625882848 36 288}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85726 term 36 leader 0 nextIndex[1]: 289  matchIndex[1]: 288
term 36 leader 0 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 36 leaderCommit: 288 
------------------------------------------------------
flag 19778 term 36 leader 0 nextIndex[2]: 289  matchIndex[2]: 288
term 36 leader 0 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 36 leaderCommit: 288 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=288
leader log:
[{snapshot 34 279} {3166005116182157639 34 280} {4273126131579992394 34 281} {4226406123550260179 34 282} {1920134829836055602 34 283} {6357970552689691463 34 284} {7346905019018068820 34 285} {330405837698124928 34 286} {3261446830625882848 34 287} {3261446830625882848 36 288}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=289
update matchIndex[2]=288
update leader CommitIndex=288
leader log:
[{snapshot 34 279} {3166005116182157639 34 280} {4273126131579992394 34 281} {4226406123550260179 34 282} {1920134829836055602 34 283} {6357970552689691463 34 284} {7346905019018068820 34 285} {330405837698124928 34 286} {3261446830625882848 34 287} {3261446830625882848 36 288}]
------------------------------------------------------
flag 6806 term 36 leader 0 nextIndex[1]: 289  matchIndex[1]: 288
term 36 leader 0 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 36 leaderCommit: 288 
------------------------------------------------------
flag 68105 term 36 leader 0 nextIndex[2]: 289  matchIndex[2]: 288
term 36 leader 0 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 36 leaderCommit: 288 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=289
update matchIndex[2]=288
update leader CommitIndex=288
leader log:
[{snapshot 34 279} {3166005116182157639 34 280} {4273126131579992394 34 281} {4226406123550260179 34 282} {1920134829836055602 34 283} {6357970552689691463 34 284} {7346905019018068820 34 285} {330405837698124928 34 286} {3261446830625882848 34 287} {3261446830625882848 36 288}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=288
leader log:
[{snapshot 34 279} {3166005116182157639 34 280} {4273126131579992394 34 281} {4226406123550260179 34 282} {1920134829836055602 34 283} {6357970552689691463 34 284} {7346905019018068820 34 285} {330405837698124928 34 286} {3261446830625882848 34 287} {3261446830625882848 36 288}]
------------------------------------------------------
flag 14223 term 36 leader 0 nextIndex[1]: 289  matchIndex[1]: 288
term 36 leader 0 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 36 leaderCommit: 288 
------------------------------------------------------
flag 95259 term 36 leader 0 nextIndex[2]: 289  matchIndex[2]: 288
term 36 leader 0 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 36 leaderCommit: 288 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=289
update matchIndex[2]=288
update leader CommitIndex=288
leader log:
[{snapshot 34 279} {3166005116182157639 34 280} {4273126131579992394 34 281} {4226406123550260179 34 282} {1920134829836055602 34 283} {6357970552689691463 34 284} {7346905019018068820 34 285} {330405837698124928 34 286} {3261446830625882848 34 287} {3261446830625882848 36 288}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=288
leader log:
[{snapshot 34 279} {3166005116182157639 34 280} {4273126131579992394 34 281} {4226406123550260179 34 282} {1920134829836055602 34 283} {6357970552689691463 34 284} {7346905019018068820 34 285} {330405837698124928 34 286} {3261446830625882848 34 287} {3261446830625882848 36 288}]
------------------------------------------------------
flag 58260 term 36 leader 0 nextIndex[1]: 289  matchIndex[1]: 288
term 36 leader 0 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 36 leaderCommit: 288 
------------------------------------------------------
flag 2839 term 36 leader 0 nextIndex[2]: 289  matchIndex[2]: 288
term 36 leader 0 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 36 leaderCommit: 288 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=289
update matchIndex[2]=288
update leader CommitIndex=288
leader log:
[{snapshot 34 279} {3166005116182157639 34 280} {4273126131579992394 34 281} {4226406123550260179 34 282} {1920134829836055602 34 283} {6357970552689691463 34 284} {7346905019018068820 34 285} {330405837698124928 34 286} {3261446830625882848 34 287} {3261446830625882848 36 288}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=288
leader log:
[{snapshot 34 279} {3166005116182157639 34 280} {4273126131579992394 34 281} {4226406123550260179 34 282} {1920134829836055602 34 283} {6357970552689691463 34 284} {7346905019018068820 34 285} {330405837698124928 34 286} {3261446830625882848 34 287} {3261446830625882848 36 288}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 5319095927775505877 (index 289) to leader 0
flag 4216 term 36 leader 0 nextIndex[1]: 289  matchIndex[1]: 288
term 36 leader 0 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 36 leaderCommit: 288 
------------------------------------------------------
flag 25236 term 36 leader 0 nextIndex[2]: 289  matchIndex[2]: 288
term 36 leader 0 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 36 leaderCommit: 288 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=290
update matchIndex[2]=289
update leader CommitIndex=289
leader log:
[{snapshot 34 279} {3166005116182157639 34 280} {4273126131579992394 34 281} {4226406123550260179 34 282} {1920134829836055602 34 283} {6357970552689691463 34 284} {7346905019018068820 34 285} {330405837698124928 34 286} {3261446830625882848 34 287} {3261446830625882848 36 288} {5319095927775505877 36 289}]
------------------------------------------------------
term 36 Server0 start snapshot! index=289
term 36 server0 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=289
-------------------------------------------------------------
term 36 leader 0 nextIndex[1]: 289  matchIndex[1]: 288
term 36 leader 0 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 36
------------------------------------------------------
flag 24729 term 36 leader 0 nextIndex[2]: 290  matchIndex[2]: 289
term 36 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 36 leaderCommit: 289 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=290
update matchIndex[2]=289
update leader CommitIndex=289
leader log:
[{snapshot 36 289}]
------------------------------------------------------
term 36 Server2 start snapshot! index=289
term 36 server2 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=289
-------------------------------------------------------------
client write log 782412042434103607 (index 290) to leader 0
client write log 3574675753447888543 (index 291) to leader 0
client write log 2964223182099595277 (index 292) to leader 0
client write log 1559407775282382119 (index 293) to leader 0
client write log 5855547949400197536 (index 294) to leader 0
client write log 3076977438664307669 (index 295) to leader 0
client write log 5233816065151925833 (index 296) to leader 0
client write log 9114232452333563627 (index 297) to leader 0
client write log 6787694499414642415 (index 298) to leader 0
client write log 4404696360641250832 (index 299) to leader 0
client write log 2595815966652862864 (index 300) to leader 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 36 leader 0 nextIndex[1]: 289  matchIndex[1]: 288
term 36 leader 0 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 36
------------------------------------------------------
flag 15632 term 36 leader 0 nextIndex[2]: 290  matchIndex[2]: 289
term 36 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 36 leaderCommit: 289 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=301
update matchIndex[2]=300
update leader CommitIndex=300
leader log:
[{snapshot 36 289} {782412042434103607 36 290} {3574675753447888543 36 291} {2964223182099595277 36 292} {1559407775282382119 36 293} {5855547949400197536 36 294} {3076977438664307669 36 295} {5233816065151925833 36 296} {9114232452333563627 36 297} {6787694499414642415 36 298} {4404696360641250832 36 299} {2595815966652862864 36 300}]
------------------------------------------------------
term 36 Server0 start snapshot! index=299
term 36 server0 snapshot success
lastIncludedIndex=299 lastApplied=299 lastIndex=300
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 36 leader 0 nextIndex[1]: 289  matchIndex[1]: 288
term 36 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 36
------------------------------------------------------
flag 61669 term 36 leader 0 nextIndex[2]: 301  matchIndex[2]: 300
term 36 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 36 leaderCommit: 300 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=301
update matchIndex[2]=300
update leader CommitIndex=300
leader log:
[{snapshot 36 299} {2595815966652862864 36 300}]
------------------------------------------------------
term 36 Server2 start snapshot! index=299
term 36 server2 snapshot success
lastIncludedIndex=299 lastApplied=299 lastIndex=300
-------------------------------------------------------------
!!!!!!connect server 1
client write log 5126755374998117196 (index 301) to leader 0
term 36 server 2 not vote for server 1, 日志不够新
term 36 server 0 not vote for server 1, 日志不够新
term 38 server 2 vote for server 0
term 38 server 1 vote for server 0
term 38 server 0 get vote from server 2
term 38 server 0 become leader
------------------------------------------------------
term 38 server 0 get outdate rpc reply from server 1
flag 3083 term 38 leader 0 nextIndex[1]: 302  matchIndex[1]: 0
term 38 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 36 leaderCommit: 300 
------------------------------------------------------
flag 68300 term 38 leader 0 nextIndex[2]: 302  matchIndex[2]: 0
term 38 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 36 leaderCommit: 300 
------------------------------------------------------
term 38 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 38 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 302->301
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 302->301
------------------------------------------------------
term 38 leader 0 nextIndex[1]: 289  matchIndex[1]: 0
term 38 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 36
------------------------------------------------------
flag 45396 term 38 leader 0 nextIndex[2]: 301  matchIndex[2]: 0
term 38 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 36 leaderCommit: 300 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:300 
------------------------------------------------------
term 38 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=300
leader log:
[{snapshot 36 299} {2595815966652862864 36 300} {5126755374998117196 36 301}]
------------------------------------------------------
term 38 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 300 matchIndex[1] 299 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 299 rf.lastIncludedTerm 36 rf.commitIndex 299 rf.lastApplied 299
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21749 term 38 leader 0 nextIndex[1]: 300  matchIndex[1]: 299
term 38 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 36 leaderCommit: 300 
------------------------------------------------------
flag 38841 term 38 leader 0 nextIndex[2]: 302  matchIndex[2]: 301
term 38 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 36 leaderCommit: 300 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
term 38 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
update leader CommitIndex=300
leader log:
[{snapshot 36 299} {2595815966652862864 36 300} {5126755374998117196 36 301}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=300
leader log:
[{snapshot 36 299} {2595815966652862864 36 300} {5126755374998117196 36 301}]
------------------------------------------------------
flag 1956 term 38 leader 0 nextIndex[1]: 302  matchIndex[1]: 301
term 38 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 36 leaderCommit: 300 
------------------------------------------------------
flag 5400 term 38 leader 0 nextIndex[2]: 302  matchIndex[2]: 301
term 38 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 36 leaderCommit: 300 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=300
leader log:
[{snapshot 36 299} {2595815966652862864 36 300} {5126755374998117196 36 301}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=300
leader log:
[{snapshot 36 299} {2595815966652862864 36 300} {5126755374998117196 36 301}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 710 term 38 leader 0 nextIndex[1]: 302  matchIndex[1]: 301
term 38 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 36 leaderCommit: 300 
------------------------------------------------------
flag 65244 term 38 leader 0 nextIndex[2]: 302  matchIndex[2]: 301
term 38 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 36 leaderCommit: 300 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:300 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=300
leader log:
[{snapshot 36 299} {2595815966652862864 36 300} {5126755374998117196 36 301}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=300
leader log:
[{snapshot 36 299} {2595815966652862864 36 300} {5126755374998117196 36 301}]
------------------------------------------------------
flag 1849 term 38 leader 0 nextIndex[1]: 302  matchIndex[1]: 301
term 38 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 36 leaderCommit: 300 
------------------------------------------------------
flag 55708 term 38 leader 0 nextIndex[2]: 302  matchIndex[2]: 301
term 38 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 36 leaderCommit: 300 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=300
leader log:
[{snapshot 36 299} {2595815966652862864 36 300} {5126755374998117196 36 301}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=300
leader log:
[{snapshot 36 299} {2595815966652862864 36 300} {5126755374998117196 36 301}]
------------------------------------------------------
flag 76530 term 38 leader 0 nextIndex[1]: 302  matchIndex[1]: 301
term 38 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 36 leaderCommit: 300 
------------------------------------------------------
flag 91483 term 38 leader 0 nextIndex[2]: 302  matchIndex[2]: 301
term 38 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 36 leaderCommit: 300 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=300
leader log:
[{snapshot 36 299} {2595815966652862864 36 300} {5126755374998117196 36 301}]
term 38 server 1 AppendEntries true commitIndex:300 
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=300
leader log:
[{snapshot 36 299} {2595815966652862864 36 300} {5126755374998117196 36 301}]
------------------------------------------------------
flag 7432 term 38 leader 0 nextIndex[1]: 302  matchIndex[1]: 301
term 38 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 36 leaderCommit: 300 
------------------------------------------------------
flag 19813 term 38 leader 0 nextIndex[2]: 302  matchIndex[2]: 301
term 38 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 36 leaderCommit: 300 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=300
leader log:
[{snapshot 36 299} {2595815966652862864 36 300} {5126755374998117196 36 301}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=300
leader log:
[{snapshot 36 299} {2595815966652862864 36 300} {5126755374998117196 36 301}]
------------------------------------------------------
flag 62555 term 38 leader 0 nextIndex[1]: 302  matchIndex[1]: 301
term 38 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 36 leaderCommit: 300 
------------------------------------------------------
flag 22928 term 38 leader 0 nextIndex[2]: 302  matchIndex[2]: 301
term 38 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 36 leaderCommit: 300 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:300 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=300
leader log:
[{snapshot 36 299} {2595815966652862864 36 300} {5126755374998117196 36 301}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=300
leader log:
[{snapshot 36 299} {2595815966652862864 36 300} {5126755374998117196 36 301}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6089 term 38 leader 0 nextIndex[1]: 302  matchIndex[1]: 301
term 38 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 36 leaderCommit: 300 
------------------------------------------------------
flag 36995 term 38 leader 0 nextIndex[2]: 302  matchIndex[2]: 301
term 38 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 36 leaderCommit: 300 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:300 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=300
leader log:
[{snapshot 36 299} {2595815966652862864 36 300} {5126755374998117196 36 301}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=300
leader log:
[{snapshot 36 299} {2595815966652862864 36 300} {5126755374998117196 36 301}]
------------------------------------------------------
flag 17630 term 38 leader 0 nextIndex[1]: 302  matchIndex[1]: 301
term 38 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 36 leaderCommit: 300 
------------------------------------------------------
flag 35562 term 38 leader 0 nextIndex[2]: 302  matchIndex[2]: 301
term 38 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 36 leaderCommit: 300 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=300
leader log:
[{snapshot 36 299} {2595815966652862864 36 300} {5126755374998117196 36 301}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=300
leader log:
[{snapshot 36 299} {2595815966652862864 36 300} {5126755374998117196 36 301}]
------------------------------------------------------
flag 98588 term 38 leader 0 nextIndex[1]: 302  matchIndex[1]: 301
term 38 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 36 leaderCommit: 300 
------------------------------------------------------
flag 38347 term 38 leader 0 nextIndex[2]: 302  matchIndex[2]: 301
term 38 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 36 leaderCommit: 300 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=300
leader log:
[{snapshot 36 299} {2595815966652862864 36 300} {5126755374998117196 36 301}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=300
leader log:
[{snapshot 36 299} {2595815966652862864 36 300} {5126755374998117196 36 301}]
------------------------------------------------------
flag 78420 term 38 leader 0 nextIndex[1]: 302  matchIndex[1]: 301
term 38 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 36 leaderCommit: 300 
------------------------------------------------------
flag 12701 term 38 leader 0 nextIndex[2]: 302  matchIndex[2]: 301
term 38 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 36 leaderCommit: 300 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=300
leader log:
[{snapshot 36 299} {2595815966652862864 36 300} {5126755374998117196 36 301}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=300
leader log:
[{snapshot 36 299} {2595815966652862864 36 300} {5126755374998117196 36 301}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47063 term 38 leader 0 nextIndex[1]: 302  matchIndex[1]: 301
term 38 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 36 leaderCommit: 300 
------------------------------------------------------
flag 77698 term 38 leader 0 nextIndex[2]: 302  matchIndex[2]: 301
term 38 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 36 leaderCommit: 300 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:300 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=300
leader log:
[{snapshot 36 299} {2595815966652862864 36 300} {5126755374998117196 36 301}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=300
leader log:
[{snapshot 36 299} {2595815966652862864 36 300} {5126755374998117196 36 301}]
------------------------------------------------------
flag 30679 term 38 leader 0 nextIndex[1]: 302  matchIndex[1]: 301
term 38 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 36 leaderCommit: 300 
------------------------------------------------------
flag 41240 term 38 leader 0 nextIndex[2]: 302  matchIndex[2]: 301
term 38 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 36 leaderCommit: 300 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=300
leader log:
[{snapshot 36 299} {2595815966652862864 36 300} {5126755374998117196 36 301}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=300
leader log:
[{snapshot 36 299} {2595815966652862864 36 300} {5126755374998117196 36 301}]
------------------------------------------------------
flag 28515 term 38 leader 0 nextIndex[1]: 302  matchIndex[1]: 301
term 38 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 36 leaderCommit: 300 
------------------------------------------------------
flag 68003 term 38 leader 0 nextIndex[2]: 302  matchIndex[2]: 301
term 38 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 36 leaderCommit: 300 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:300 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=300
leader log:
[{snapshot 36 299} {2595815966652862864 36 300} {5126755374998117196 36 301}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=300
leader log:
[{snapshot 36 299} {2595815966652862864 36 300} {5126755374998117196 36 301}]
------------------------------------------------------
flag 37643 term 38 leader 0 nextIndex[1]: 302  matchIndex[1]: 301
term 38 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 36 leaderCommit: 300 
------------------------------------------------------
flag 31764 term 38 leader 0 nextIndex[2]: 302  matchIndex[2]: 301
term 38 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 36 leaderCommit: 300 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=300
leader log:
[{snapshot 36 299} {2595815966652862864 36 300} {5126755374998117196 36 301}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=300
leader log:
[{snapshot 36 299} {2595815966652862864 36 300} {5126755374998117196 36 301}]
------------------------------------------------------
flag 68356 term 38 leader 0 nextIndex[1]: 302  matchIndex[1]: 301
term 38 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 36 leaderCommit: 300 
------------------------------------------------------
flag 65937 term 38 leader 0 nextIndex[2]: 302  matchIndex[2]: 301
term 38 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 36 leaderCommit: 300 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=300
leader log:
[{snapshot 36 299} {2595815966652862864 36 300} {5126755374998117196 36 301}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=300
leader log:
[{snapshot 36 299} {2595815966652862864 36 300} {5126755374998117196 36 301}]
------------------------------------------------------
flag 71901 term 38 leader 0 nextIndex[1]: 302  matchIndex[1]: 301
term 38 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 36 leaderCommit: 300 
------------------------------------------------------
flag 16661 term 38 leader 0 nextIndex[2]: 302  matchIndex[2]: 301
term 38 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 36 leaderCommit: 300 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:300 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:300 
leader 0 sendAppendEntries -> server 2 true------------------------------------------------------
update nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=300
leader log:
[{snapshot 36 299} {2595815966652862864 36 300} {5126755374998117196 36 301}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=300
leader log:
[{snapshot 36 299} {2595815966652862864 36 300} {5126755374998117196 36 301}]
------------------------------------------------------
flag 78430 term 38 leader 0 nextIndex[1]: 302  matchIndex[1]: 301
term 38 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 36 leaderCommit: 300 
------------------------------------------------------
flag 62702 term 38 leader 0 nextIndex[2]: 302  matchIndex[2]: 301
term 38 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 36 leaderCommit: 300 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=300
leader log:
[{snapshot 36 299} {2595815966652862864 36 300} {5126755374998117196 36 301}]
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=300
leader log:
[{snapshot 36 299} {2595815966652862864 36 300} {5126755374998117196 36 301}]
------------------------------------------------------
client write log 5126755374998117196 (index 302) to leader 0
flag 8443 term 38 leader 0 nextIndex[1]: 302  matchIndex[1]: 301
term 38 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 36 leaderCommit: 300 
------------------------------------------------------
flag 1732 term 38 leader 0 nextIndex[2]: 302  matchIndex[2]: 301
term 38 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 36 leaderCommit: 300 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:300 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=303
update matchIndex[1]=302
update leader CommitIndex=302
leader log:
[{snapshot 36 299} {2595815966652862864 36 300} {5126755374998117196 36 301} {5126755374998117196 38 302}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=302
leader log:
[{snapshot 36 299} {2595815966652862864 36 300} {5126755374998117196 36 301} {5126755374998117196 38 302}]
------------------------------------------------------
flag 58644 term 38 leader 0 nextIndex[1]: 303  matchIndex[1]: 302
term 38 leader 0 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 38 leaderCommit: 302 
------------------------------------------------------
flag 24647 term 38 leader 0 nextIndex[2]: 303  matchIndex[2]: 302
term 38 leader 0 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 38 leaderCommit: 302 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:302 
term 38 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=302
leader log:
[{snapshot 36 299} {2595815966652862864 36 300} {5126755374998117196 36 301} {5126755374998117196 38 302}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=303
update matchIndex[1]=302
update leader CommitIndex=302
leader log:
[{snapshot 36 299} {2595815966652862864 36 300} {5126755374998117196 36 301} {5126755374998117196 38 302}]
------------------------------------------------------
flag 45809 term 38 leader 0 nextIndex[1]: 303  matchIndex[1]: 302
term 38 leader 0 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 38 leaderCommit: 302 
------------------------------------------------------
flag 10104 term 38 leader 0 nextIndex[2]: 303  matchIndex[2]: 302
term 38 leader 0 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 38 leaderCommit: 302 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueterm 38 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
update nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=302
leader log:
[{snapshot 36 299} {2595815966652862864 36 300} {5126755374998117196 36 301} {5126755374998117196 38 302}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=303
update matchIndex[1]=302
update leader CommitIndex=302
leader log:
[{snapshot 36 299} {2595815966652862864 36 300} {5126755374998117196 36 301} {5126755374998117196 38 302}]
------------------------------------------------------
flag 23860 term 38 leader 0 nextIndex[1]: 303  matchIndex[1]: 302
term 38 leader 0 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 38 leaderCommit: 302 
------------------------------------------------------
flag 79301 term 38 leader 0 nextIndex[2]: 303  matchIndex[2]: 302
term 38 leader 0 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 38 leaderCommit: 302 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=302
leader log:
[{snapshot 36 299} {2595815966652862864 36 300} {5126755374998117196 36 301} {5126755374998117196 38 302}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=303
update matchIndex[1]=302
update leader CommitIndex=302
leader log:
[{snapshot 36 299} {2595815966652862864 36 300} {5126755374998117196 36 301} {5126755374998117196 38 302}]
------------------------------------------------------
flag 23803 term 38 leader 0 nextIndex[1]: 303  matchIndex[1]: 302
term 38 leader 0 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 38 leaderCommit: 302 
------------------------------------------------------
flag 97681 term 38 leader 0 nextIndex[2]: 303  matchIndex[2]: 302
term 38 leader 0 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 38 leaderCommit: 302 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=302
leader log:
[{snapshot 36 299} {2595815966652862864 36 300} {5126755374998117196 36 301} {5126755374998117196 38 302}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=303
update matchIndex[1]=302
update leader CommitIndex=302
leader log:
[{snapshot 36 299} {2595815966652862864 36 300} {5126755374998117196 36 301} {5126755374998117196 38 302}]
------------------------------------------------------
flag 16243 term 38 leader 0 nextIndex[1]: 303  matchIndex[1]: 302
term 38 leader 0 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 38 leaderCommit: 302 
------------------------------------------------------
flag 77558 term 38 leader 0 nextIndex[2]: 303  matchIndex[2]: 302
term 38 leader 0 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 38 leaderCommit: 302 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=302
leader log:
[{snapshot 36 299} {2595815966652862864 36 300} {5126755374998117196 36 301} {5126755374998117196 38 302}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=303
update matchIndex[1]=302
update leader CommitIndex=302
leader log:
[{snapshot 36 299} {2595815966652862864 36 300} {5126755374998117196 36 301} {5126755374998117196 38 302}]
------------------------------------------------------
flag 74098 term 38 leader 0 nextIndex[1]: 303  matchIndex[1]: 302
term 38 leader 0 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 38 leaderCommit: 302 
------------------------------------------------------
flag 44769 term 38 leader 0 nextIndex[2]: 303  matchIndex[2]: 302
term 38 leader 0 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 38 leaderCommit: 302 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
term 38 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
update leader CommitIndex=302
leader log:
[{snapshot 36 299} {2595815966652862864 36 300} {5126755374998117196 36 301} {5126755374998117196 38 302}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=303
update matchIndex[1]=302
update leader CommitIndex=302
leader log:
[{snapshot 36 299} {2595815966652862864 36 300} {5126755374998117196 36 301} {5126755374998117196 38 302}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 80747 term 38 leader 0 nextIndex[1]: 303  matchIndex[1]: 302
term 38 leader 0 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 38 leaderCommit: 302 
------------------------------------------------------
flag 92700 term 38 leader 0 nextIndex[2]: 303  matchIndex[2]: 302
term 38 leader 0 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 38 leaderCommit: 302 
------------------------------------------------------
flag 40556 term 38 leader 0 nextIndex[1]: 303  matchIndex[1]: 302
term 38 leader 0 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 38 leaderCommit: 302 
------------------------------------------------------
flag 9938 term 38 leader 0 nextIndex[2]: 303  matchIndex[2]: 302
term 38 leader 0 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 38 leaderCommit: 302 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36059 term 38 leader 0 nextIndex[1]: 303  matchIndex[1]: 302
term 38 leader 0 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 38 leaderCommit: 302 
------------------------------------------------------
flag 20942 term 38 leader 0 nextIndex[2]: 303  matchIndex[2]: 302
term 38 leader 0 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 38 leaderCommit: 302 
------------------------------------------------------
flag 86434 term 38 leader 0 nextIndex[1]: 303  matchIndex[1]: 302
term 38 leader 0 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 38 leaderCommit: 302 
------------------------------------------------------
flag 82137 term 38 leader 0 nextIndex[2]: 303  matchIndex[2]: 302
term 38 leader 0 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 38 leaderCommit: 302 
------------------------------------------------------
term 39 server 2 vote for server 1
term 39 server 1 get vote from server 2
term 39 server 1 become leader
------------------------------------------------------
flag 98005 term 39 leader 1 nextIndex[0]: 303  matchIndex[0]: 0
term 39 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 38 leaderCommit: 302 
------------------------------------------------------
flag 95506 term 39 leader 1 nextIndex[2]: 303  matchIndex[2]: 0
term 39 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 38 leaderCommit: 302 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=302
leader log:
[{snapshot 36 299} {2595815966652862864 36 300} {5126755374998117196 36 301} {5126755374998117196 38 302}]
------------------------------------------------------
client write log 6334153638210607799 (index 303) to leader 1
flag 39996 term 38 leader 0 nextIndex[1]: 303  matchIndex[1]: 302
term 38 leader 0 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 38 leaderCommit: 302 
------------------------------------------------------
flag 34729 term 38 leader 0 nextIndex[2]: 303  matchIndex[2]: 302
term 38 leader 0 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 38 leaderCommit: 302 
------------------------------------------------------
flag 27880 term 39 leader 1 nextIndex[0]: 303  matchIndex[0]: 0
term 39 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 38 leaderCommit: 302 
------------------------------------------------------
flag 24647 term 39 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 39 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 38 leaderCommit: 302 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=303
leader log:
[{snapshot 36 299} {2595815966652862864 36 300} {5126755374998117196 36 301} {5126755374998117196 38 302} {6334153638210607799 39 303}]
------------------------------------------------------
flag 21098 term 38 leader 0 nextIndex[1]: 303  matchIndex[1]: 302
term 38 leader 0 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 38 leaderCommit: 302 
------------------------------------------------------
flag 46970 term 38 leader 0 nextIndex[2]: 303  matchIndex[2]: 302
term 38 leader 0 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 38 leaderCommit: 302 
------------------------------------------------------
flag 5569 term 39 leader 1 nextIndex[0]: 303  matchIndex[0]: 0
term 39 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 38 leaderCommit: 303 
------------------------------------------------------
flag 64009 term 39 leader 1 nextIndex[2]: 304  matchIndex[2]: 303
term 39 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 39 leaderCommit: 303 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=303
leader log:
[{snapshot 36 299} {2595815966652862864 36 300} {5126755374998117196 36 301} {5126755374998117196 38 302} {6334153638210607799 39 303}]
------------------------------------------------------
client write log 7817125320859295440 (index 304) to leader 1
client write log 6937100380199528624 (index 305) to leader 1
client write log 9188174927486971407 (index 306) to leader 1
client write log 5634231270271317184 (index 307) to leader 1
client write log 867456965008543396 (index 308) to leader 1
client write log 5511904551653133272 (index 309) to leader 1
client write log 803946427790987406 (index 310) to leader 1
client write log 6836081993272266815 (index 311) to leader 1
client write log 1120173887276960810 (index 312) to leader 1
client write log 5920275260249080349 (index 313) to leader 1
client write log 6851946193397324860 (index 314) to leader 1
client write log 7771517237937707515 (index 315) to leader 1
client write log 4312820525831197717 (index 316) to leader 1
client write log 5951352687014097489 (index 317) to leader 1
client write log 7653547123491112766 (index 318) to leader 1
flag 220 term 38 leader 0 nextIndex[1]: 303  matchIndex[1]: 302
term 38 leader 0 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 38 leaderCommit: 302 
------------------------------------------------------
flag 30891 term 38 leader 0 nextIndex[2]: 303  matchIndex[2]: 302
term 38 leader 0 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 38 leaderCommit: 302 
------------------------------------------------------
flag 16265 term 39 leader 1 nextIndex[0]: 303  matchIndex[0]: 0
term 39 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 38 leaderCommit: 303 
------------------------------------------------------
flag 57273 term 39 leader 1 nextIndex[2]: 304  matchIndex[2]: 303
term 39 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 39 leaderCommit: 303 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=318
leader log:
[{snapshot 36 299} {2595815966652862864 36 300} {5126755374998117196 36 301} {5126755374998117196 38 302} {6334153638210607799 39 303} {7817125320859295440 39 304} {6937100380199528624 39 305} {9188174927486971407 39 306} {5634231270271317184 39 307} {867456965008543396 39 308} {5511904551653133272 39 309} {803946427790987406 39 310} {6836081993272266815 39 311} {1120173887276960810 39 312} {5920275260249080349 39 313} {6851946193397324860 39 314} {7771517237937707515 39 315} {4312820525831197717 39 316} {5951352687014097489 39 317} {7653547123491112766 39 318}]
------------------------------------------------------
term 39 Server1 start snapshot! index=309
term 39 server1 snapshot success
lastIncludedIndex=309 lastApplied=310 lastIndex=318
-------------------------------------------------------------
flag 2910 term 38 leader 0 nextIndex[1]: 303  matchIndex[1]: 302
term 38 leader 0 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 38 leaderCommit: 302 
------------------------------------------------------
flag 35242 term 38 leader 0 nextIndex[2]: 303  matchIndex[2]: 302
term 38 leader 0 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 38 leaderCommit: 302 
------------------------------------------------------
term 39 leader 1 nextIndex[0]: 303  matchIndex[0]: 0
term 39 leader 1 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 39
------------------------------------------------------
flag 3448 term 39 leader 1 nextIndex[2]: 319  matchIndex[2]: 318
term 39 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 39 leaderCommit: 318 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=318
leader log:
[{snapshot 39 309} {803946427790987406 39 310} {6836081993272266815 39 311} {1120173887276960810 39 312} {5920275260249080349 39 313} {6851946193397324860 39 314} {7771517237937707515 39 315} {4312820525831197717 39 316} {5951352687014097489 39 317} {7653547123491112766 39 318}]
------------------------------------------------------
term 39 Server2 start snapshot! index=309
term 39 server2 snapshot success
lastIncludedIndex=309 lastApplied=310 lastIndex=318
-------------------------------------------------------------
!!!!!!connect server 0
client write log 4270922611176066857 (index 319) to leader 1
term 38 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 48675 term 38 leader 0 nextIndex[1]: 303  matchIndex[1]: 302
term 38 leader 0 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 38 leaderCommit: 302 
------------------------------------------------------
flag 445 term 38 leader 0 nextIndex[2]: 303  matchIndex[2]: 302
term 38 leader 0 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 38 leaderCommit: 302 
------------------------------------------------------
term 39 server 2 AppendEntries false 领导者任期过期 args.Term 38
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 39 server 1 AppendEntries false 领导者任期过期 args.Term 38
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 39 leader 1 nextIndex[0]: 303  matchIndex[0]: 0
term 39 leader 1 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 39
------------------------------------------------------
flag 46057 term 39 leader 1 nextIndex[2]: 319  matchIndex[2]: 318
term 39 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 39 leaderCommit: 318 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=320
update matchIndex[2]=319
update leader CommitIndex=319
leader log:
[{snapshot 39 309} {803946427790987406 39 310} {6836081993272266815 39 311} {1120173887276960810 39 312} {5920275260249080349 39 313} {6851946193397324860 39 314} {7771517237937707515 39 315} {4312820525831197717 39 316} {5951352687014097489 39 317} {7653547123491112766 39 318} {4270922611176066857 39 319}]
------------------------------------------------------
term 39 server 0 InstallSnapshot success
------------------------------------------------------
term 39 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 310 matchIndex[0] 309 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 309 rf.lastIncludedTerm 39 rf.commitIndex 309 rf.lastApplied 309
term 39 Server1 start snapshot! index=319
term 39 server1 snapshot success
lastIncludedIndex=319 lastApplied=319 lastIndex=319
-------------------------------------------------------------
term 39 leader 1 nextIndex[0]: 310  matchIndex[0]: 309
term 39 leader 1 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 39
------------------------------------------------------
flag 59897 term 39 leader 1 nextIndex[2]: 320  matchIndex[2]: 319
term 39 leader 1 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 39 leaderCommit: 319 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=320
update matchIndex[2]=319
update leader CommitIndex=319
leader log:
[{snapshot 39 319}]
term 39 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 319 rf.lastIncludedTerm 39 rf.commitIndex 319 rf.lastApplied 319
------------------------------------------------------
term 39 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 320 matchIndex[0] 319 
------------------------------------------------------------------------
term 39 Server2 start snapshot! index=319
term 39 server2 snapshot success
lastIncludedIndex=319 lastApplied=319 lastIndex=319
-------------------------------------------------------------
flag 64047 term 39 leader 1 nextIndex[0]: 320  matchIndex[0]: 319
term 39 leader 1 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 39 leaderCommit: 319 
------------------------------------------------------
flag 44874 term 39 leader 1 nextIndex[2]: 320  matchIndex[2]: 319
term 39 leader 1 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 39 leaderCommit: 319 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=320
update matchIndex[2]=319
update leader CommitIndex=319
leader log:
[{snapshot 39 319}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=320
update matchIndex[0]=319
update leader CommitIndex=319
leader log:
[{snapshot 39 319}]
------------------------------------------------------
flag 13239 term 39 leader 1 nextIndex[0]: 320  matchIndex[0]: 319
term 39 leader 1 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 39 leaderCommit: 319 
------------------------------------------------------
flag 72303 term 39 leader 1 nextIndex[2]: 320  matchIndex[2]: 319
term 39 leader 1 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 39 leaderCommit: 319 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=320
update matchIndex[2]=319
update leader CommitIndex=319
leader log:
[{snapshot 39 319}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=320
update matchIndex[0]=319
update leader CommitIndex=319
leader log:
[{snapshot 39 319}]
------------------------------------------------------
flag 16098 term 39 leader 1 nextIndex[0]: 320  matchIndex[0]: 319
term 39 leader 1 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 39 leaderCommit: 319 
------------------------------------------------------
flag 87905 term 39 leader 1 nextIndex[2]: 320  matchIndex[2]: 319
term 39 leader 1 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 39 leaderCommit: 319 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=320
update matchIndex[2]=319
update leader CommitIndex=319
leader log:
[{snapshot 39 319}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=320
update matchIndex[0]=319
update leader CommitIndex=319
leader log:
[{snapshot 39 319}]
------------------------------------------------------
term 39 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87861 term 39 leader 1 nextIndex[0]: 320  matchIndex[0]: 319
term 39 leader 1 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 39 leaderCommit: 319 
------------------------------------------------------
flag 2783 term 39 leader 1 nextIndex[2]: 320  matchIndex[2]: 319
term 39 leader 1 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 39 leaderCommit: 319 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=320
update matchIndex[2]=319
update leader CommitIndex=319
leader log:
[{snapshot 39 319}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=320
update matchIndex[0]=319
update leader CommitIndex=319
leader log:
[{snapshot 39 319}]
------------------------------------------------------
flag 66825 term 39 leader 1 nextIndex[0]: 320  matchIndex[0]: 319
term 39 leader 1 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 39 leaderCommit: 319 
------------------------------------------------------
flag 65226 term 39 leader 1 nextIndex[2]: 320  matchIndex[2]: 319
term 39 leader 1 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 39 leaderCommit: 319 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=320
update matchIndex[2]=319
update leader CommitIndex=319
leader log:
[{snapshot 39 319}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=320
update matchIndex[0]=319
update leader CommitIndex=319
leader log:
[{snapshot 39 319}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 8034111345375857231 (index 320) to leader 1
flag 71105 term 39 leader 1 nextIndex[0]: 320  matchIndex[0]: 319
term 39 leader 1 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 39 leaderCommit: 319 
------------------------------------------------------
flag 57653 term 39 leader 1 nextIndex[2]: 320  matchIndex[2]: 319
term 39 leader 1 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 39 leaderCommit: 319 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=320
leader log:
[{snapshot 39 319} {8034111345375857231 39 320}]
------------------------------------------------------
flag 95750 term 39 leader 1 nextIndex[0]: 321  matchIndex[0]: 320
term 39 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 39 leaderCommit: 320 
------------------------------------------------------
flag 60144 term 39 leader 1 nextIndex[2]: 320  matchIndex[2]: 319
term 39 leader 1 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 39 leaderCommit: 320 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=320
leader log:
[{snapshot 39 319} {8034111345375857231 39 320}]
------------------------------------------------------
client write log 1432983825687401021 (index 321) to leader 1
client write log 3260220717841998864 (index 322) to leader 1
client write log 3583603249099250786 (index 323) to leader 1
client write log 1248268788214476431 (index 324) to leader 1
client write log 2080690847311489783 (index 325) to leader 1
client write log 7151292870065506429 (index 326) to leader 1
client write log 2992399820679162725 (index 327) to leader 1
client write log 3474115293507717793 (index 328) to leader 1
client write log 1106995485082575643 (index 329) to leader 1
client write log 2092169580175462603 (index 330) to leader 1
client write log 455822940259411307 (index 331) to leader 1
client write log 7739870274713363999 (index 332) to leader 1
client write log 1943197806465072223 (index 333) to leader 1
term 39 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 83647 term 39 leader 1 nextIndex[0]: 321  matchIndex[0]: 320
term 39 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 39 leaderCommit: 320 
------------------------------------------------------
flag 64790 term 39 leader 1 nextIndex[2]: 320  matchIndex[2]: 319
term 39 leader 1 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 39 leaderCommit: 320 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=334
update matchIndex[0]=333
update leader CommitIndex=333
leader log:
[{snapshot 39 319} {8034111345375857231 39 320} {1432983825687401021 39 321} {3260220717841998864 39 322} {3583603249099250786 39 323} {1248268788214476431 39 324} {2080690847311489783 39 325} {7151292870065506429 39 326} {2992399820679162725 39 327} {3474115293507717793 39 328} {1106995485082575643 39 329} {2092169580175462603 39 330} {455822940259411307 39 331} {7739870274713363999 39 332} {1943197806465072223 39 333}]
------------------------------------------------------
term 39 Server1 start snapshot! index=329
term 39 server1 snapshot success
lastIncludedIndex=329 lastApplied=330 lastIndex=333
-------------------------------------------------------------
flag 98640 term 39 leader 1 nextIndex[0]: 334  matchIndex[0]: 333
term 39 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 39 leaderCommit: 333 
------------------------------------------------------
term 39 leader 1 nextIndex[2]: 320  matchIndex[2]: 319
term 39 leader 1 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 39
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=334
update matchIndex[0]=333
update leader CommitIndex=333
leader log:
[{snapshot 39 329} {2092169580175462603 39 330} {455822940259411307 39 331} {7739870274713363999 39 332} {1943197806465072223 39 333}]
------------------------------------------------------
term 39 Server0 start snapshot! index=329
term 39 server0 snapshot success
lastIncludedIndex=329 lastApplied=330 lastIndex=333
-------------------------------------------------------------
!!!!!!connect server 2
client write log 5645333947568488110 (index 334) to leader 1
term 39 server 1 not vote for server 2, 日志不够新
term 39 server 0 not vote for server 2, 日志不够新
term 41 server 2 vote for server 1
term 41 server 1 get vote from server 2
term 41 server 0 vote for server 1
term 41 server 1 become leader
------------------------------------------------------
term 41 server 1 get outdate rpc reply from server 0
flag 12526 term 41 leader 1 nextIndex[0]: 335  matchIndex[0]: 0
term 41 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 39 leaderCommit: 333 
------------------------------------------------------
flag 21722 term 41 leader 1 nextIndex[2]: 335  matchIndex[2]: 0
term 41 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 39 leaderCommit: 333 
------------------------------------------------------
term 41 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 335->334
------------------------------------------------------
term 41 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 335->334
------------------------------------------------------
flag 24009 term 41 leader 1 nextIndex[0]: 334  matchIndex[0]: 0
term 41 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 39 leaderCommit: 333 
------------------------------------------------------
term 41 leader 1 nextIndex[2]: 320  matchIndex[2]: 0
term 41 leader 1 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 39
------------------------------------------------------
term 41 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
term 41 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 330 matchIndex[2] 329 
------------------------------------------------------------------------
rf.lastIncludedIndex 329 rf.lastIncludedTerm 39 rf.commitIndex 329 rf.lastApplied 329
term 41 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=333
leader log:
[{snapshot 39 329} {2092169580175462603 39 330} {455822940259411307 39 331} {7739870274713363999 39 332} {1943197806465072223 39 333} {5645333947568488110 39 334}]
------------------------------------------------------
flag 47155 term 41 leader 1 nextIndex[0]: 335  matchIndex[0]: 334
term 41 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 39 leaderCommit: 333 
------------------------------------------------------
flag 44677 term 41 leader 1 nextIndex[2]: 330  matchIndex[2]: 329
term 41 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 39 leaderCommit: 333 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=333
leader log:
[{snapshot 39 329} {2092169580175462603 39 330} {455822940259411307 39 331} {7739870274713363999 39 332} {1943197806465072223 39 333} {5645333947568488110 39 334}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=333
leader log:
[{snapshot 39 329} {2092169580175462603 39 330} {455822940259411307 39 331} {7739870274713363999 39 332} {1943197806465072223 39 333} {5645333947568488110 39 334}]
------------------------------------------------------
flag 96628 term 41 leader 1 nextIndex[0]: 335  matchIndex[0]: 334
term 41 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 39 leaderCommit: 333 
------------------------------------------------------
flag 49987 term 41 leader 1 nextIndex[2]: 335  matchIndex[2]: 334
term 41 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 39 leaderCommit: 333 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=333
leader log:
[{snapshot 39 329} {2092169580175462603 39 330} {455822940259411307 39 331} {7739870274713363999 39 332} {1943197806465072223 39 333} {5645333947568488110 39 334}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=333
leader log:
[{snapshot 39 329} {2092169580175462603 39 330} {455822940259411307 39 331} {7739870274713363999 39 332} {1943197806465072223 39 333} {5645333947568488110 39 334}]
------------------------------------------------------
flag 97389 term 41 leader 1 nextIndex[0]: 335  matchIndex[0]: 334
term 41 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 39 leaderCommit: 333 
------------------------------------------------------
flag 10440 term 41 leader 1 nextIndex[2]: 335  matchIndex[2]: 334
term 41 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 39 leaderCommit: 333 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=333
leader log:
[{snapshot 39 329} {2092169580175462603 39 330} {455822940259411307 39 331} {7739870274713363999 39 332} {1943197806465072223 39 333} {5645333947568488110 39 334}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=333
leader log:
[{snapshot 39 329} {2092169580175462603 39 330} {455822940259411307 39 331} {7739870274713363999 39 332} {1943197806465072223 39 333} {5645333947568488110 39 334}]
------------------------------------------------------
flag 19521 term 41 leader 1 nextIndex[0]: 335  matchIndex[0]: 334
term 41 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 39 leaderCommit: 333 
------------------------------------------------------
flag 29505 term 41 leader 1 nextIndex[2]: 335  matchIndex[2]: 334
term 41 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 39 leaderCommit: 333 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=333
leader log:
[{snapshot 39 329} {2092169580175462603 39 330} {455822940259411307 39 331} {7739870274713363999 39 332} {1943197806465072223 39 333} {5645333947568488110 39 334}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=333
leader log:
[{snapshot 39 329} {2092169580175462603 39 330} {455822940259411307 39 331} {7739870274713363999 39 332} {1943197806465072223 39 333} {5645333947568488110 39 334}]
------------------------------------------------------
flag 72908 term 41 leader 1 nextIndex[0]: 335  matchIndex[0]: 334
term 41 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 39 leaderCommit: 333 
------------------------------------------------------
flag 69799 term 41 leader 1 nextIndex[2]: 335  matchIndex[2]: 334
term 41 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 39 leaderCommit: 333 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=333
leader log:
[{snapshot 39 329} {2092169580175462603 39 330} {455822940259411307 39 331} {7739870274713363999 39 332} {1943197806465072223 39 333} {5645333947568488110 39 334}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=333
leader log:
[{snapshot 39 329} {2092169580175462603 39 330} {455822940259411307 39 331} {7739870274713363999 39 332} {1943197806465072223 39 333} {5645333947568488110 39 334}]
------------------------------------------------------
flag 26260 term 41 leader 1 nextIndex[0]: 335  matchIndex[0]: 334
term 41 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 39 leaderCommit: 333 
------------------------------------------------------
flag 62324 term 41 leader 1 nextIndex[2]: 335  matchIndex[2]: 334
term 41 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 39 leaderCommit: 333 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=333
leader log:
[{snapshot 39 329} {2092169580175462603 39 330} {455822940259411307 39 331} {7739870274713363999 39 332} {1943197806465072223 39 333} {5645333947568488110 39 334}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=333
leader log:
[{snapshot 39 329} {2092169580175462603 39 330} {455822940259411307 39 331} {7739870274713363999 39 332} {1943197806465072223 39 333} {5645333947568488110 39 334}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10324 term 41 leader 1 nextIndex[0]: 335  matchIndex[0]: 334
term 41 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 39 leaderCommit: 333 
------------------------------------------------------
flag 3947 term 41 leader 1 nextIndex[2]: 335  matchIndex[2]: 334
term 41 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 39 leaderCommit: 333 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=333
leader log:
[{snapshot 39 329} {2092169580175462603 39 330} {455822940259411307 39 331} {7739870274713363999 39 332} {1943197806465072223 39 333} {5645333947568488110 39 334}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=333
leader log:
[{snapshot 39 329} {2092169580175462603 39 330} {455822940259411307 39 331} {7739870274713363999 39 332} {1943197806465072223 39 333} {5645333947568488110 39 334}]
------------------------------------------------------
flag 85854 term 41 leader 1 nextIndex[0]: 335  matchIndex[0]: 334
term 41 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 39 leaderCommit: 333 
------------------------------------------------------
flag 30051 term 41 leader 1 nextIndex[2]: 335  matchIndex[2]: 334
term 41 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 39 leaderCommit: 333 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=333
leader log:
[{snapshot 39 329} {2092169580175462603 39 330} {455822940259411307 39 331} {7739870274713363999 39 332} {1943197806465072223 39 333} {5645333947568488110 39 334}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=333
leader log:
[{snapshot 39 329} {2092169580175462603 39 330} {455822940259411307 39 331} {7739870274713363999 39 332} {1943197806465072223 39 333} {5645333947568488110 39 334}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73055 term 41 leader 1 nextIndex[0]: 335  matchIndex[0]: 334
term 41 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 39 leaderCommit: 333 
------------------------------------------------------
flag 47760 term 41 leader 1 nextIndex[2]: 335  matchIndex[2]: 334
term 41 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 39 leaderCommit: 333 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=333
leader log:
[{snapshot 39 329} {2092169580175462603 39 330} {455822940259411307 39 331} {7739870274713363999 39 332} {1943197806465072223 39 333} {5645333947568488110 39 334}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=333
leader log:
[{snapshot 39 329} {2092169580175462603 39 330} {455822940259411307 39 331} {7739870274713363999 39 332} {1943197806465072223 39 333} {5645333947568488110 39 334}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46536 term 41 leader 1 nextIndex[0]: 335  matchIndex[0]: 334
term 41 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 39 leaderCommit: 333 
------------------------------------------------------
flag 47485 term 41 leader 1 nextIndex[2]: 335  matchIndex[2]: 334
term 41 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 39 leaderCommit: 333 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=333
leader log:
[{snapshot 39 329} {2092169580175462603 39 330} {455822940259411307 39 331} {7739870274713363999 39 332} {1943197806465072223 39 333} {5645333947568488110 39 334}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=333
leader log:
[{snapshot 39 329} {2092169580175462603 39 330} {455822940259411307 39 331} {7739870274713363999 39 332} {1943197806465072223 39 333} {5645333947568488110 39 334}]
------------------------------------------------------
flag 92350 term 41 leader 1 nextIndex[0]: 335  matchIndex[0]: 334
term 41 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 39 leaderCommit: 333 
------------------------------------------------------
flag 83426 term 41 leader 1 nextIndex[2]: 335  matchIndex[2]: 334
term 41 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 39 leaderCommit: 333 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=333
leader log:
[{snapshot 39 329} {2092169580175462603 39 330} {455822940259411307 39 331} {7739870274713363999 39 332} {1943197806465072223 39 333} {5645333947568488110 39 334}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=333
leader log:
[{snapshot 39 329} {2092169580175462603 39 330} {455822940259411307 39 331} {7739870274713363999 39 332} {1943197806465072223 39 333} {5645333947568488110 39 334}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54107 term 41 leader 1 nextIndex[0]: 335  matchIndex[0]: 334
term 41 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 39 leaderCommit: 333 
------------------------------------------------------
flag 75342 term 41 leader 1 nextIndex[2]: 335  matchIndex[2]: 334
term 41 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 39 leaderCommit: 333 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=333
leader log:
[{snapshot 39 329} {2092169580175462603 39 330} {455822940259411307 39 331} {7739870274713363999 39 332} {1943197806465072223 39 333} {5645333947568488110 39 334}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=333
leader log:
[{snapshot 39 329} {2092169580175462603 39 330} {455822940259411307 39 331} {7739870274713363999 39 332} {1943197806465072223 39 333} {5645333947568488110 39 334}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57856 term 41 leader 1 nextIndex[0]: 335  matchIndex[0]: 334
term 41 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 39 leaderCommit: 333 
------------------------------------------------------
flag 5650 term 41 leader 1 nextIndex[2]: 335  matchIndex[2]: 334
term 41 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 39 leaderCommit: 333 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=333
leader log:
[{snapshot 39 329} {2092169580175462603 39 330} {455822940259411307 39 331} {7739870274713363999 39 332} {1943197806465072223 39 333} {5645333947568488110 39 334}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=333
leader log:
[{snapshot 39 329} {2092169580175462603 39 330} {455822940259411307 39 331} {7739870274713363999 39 332} {1943197806465072223 39 333} {5645333947568488110 39 334}]
------------------------------------------------------
flag 19301 term 41 leader 1 nextIndex[0]: 335  matchIndex[0]: 334
term 41 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 39 leaderCommit: 333 
------------------------------------------------------
flag 77086 term 41 leader 1 nextIndex[2]: 335  matchIndex[2]: 334
term 41 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 39 leaderCommit: 333 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=333
leader log:
[{snapshot 39 329} {2092169580175462603 39 330} {455822940259411307 39 331} {7739870274713363999 39 332} {1943197806465072223 39 333} {5645333947568488110 39 334}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=333
leader log:
[{snapshot 39 329} {2092169580175462603 39 330} {455822940259411307 39 331} {7739870274713363999 39 332} {1943197806465072223 39 333} {5645333947568488110 39 334}]
------------------------------------------------------
flag 74922 term 41 leader 1 nextIndex[0]: 335  matchIndex[0]: 334
term 41 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 39 leaderCommit: 333 
------------------------------------------------------
flag 62084 term 41 leader 1 nextIndex[2]: 335  matchIndex[2]: 334
term 41 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 39 leaderCommit: 333 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=333
leader log:
[{snapshot 39 329} {2092169580175462603 39 330} {455822940259411307 39 331} {7739870274713363999 39 332} {1943197806465072223 39 333} {5645333947568488110 39 334}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=333
leader log:
[{snapshot 39 329} {2092169580175462603 39 330} {455822940259411307 39 331} {7739870274713363999 39 332} {1943197806465072223 39 333} {5645333947568488110 39 334}]
------------------------------------------------------
flag 70801 term 41 leader 1 nextIndex[0]: 335  matchIndex[0]: 334
term 41 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 39 leaderCommit: 333 
------------------------------------------------------
flag 19631 term 41 leader 1 nextIndex[2]: 335  matchIndex[2]: 334
term 41 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 39 leaderCommit: 333 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=333
leader log:
[{snapshot 39 329} {2092169580175462603 39 330} {455822940259411307 39 331} {7739870274713363999 39 332} {1943197806465072223 39 333} {5645333947568488110 39 334}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=333
leader log:
[{snapshot 39 329} {2092169580175462603 39 330} {455822940259411307 39 331} {7739870274713363999 39 332} {1943197806465072223 39 333} {5645333947568488110 39 334}]
------------------------------------------------------
flag 2676 term 41 leader 1 nextIndex[0]: 335  matchIndex[0]: 334
term 41 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 39 leaderCommit: 333 
------------------------------------------------------
flag 45238 term 41 leader 1 nextIndex[2]: 335  matchIndex[2]: 334
term 41 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 39 leaderCommit: 333 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=333
leader log:
[{snapshot 39 329} {2092169580175462603 39 330} {455822940259411307 39 331} {7739870274713363999 39 332} {1943197806465072223 39 333} {5645333947568488110 39 334}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=333
leader log:
[{snapshot 39 329} {2092169580175462603 39 330} {455822940259411307 39 331} {7739870274713363999 39 332} {1943197806465072223 39 333} {5645333947568488110 39 334}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 5645333947568488110 (index 335) to leader 1
flag 76340 term 41 leader 1 nextIndex[0]: 335  matchIndex[0]: 334
term 41 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 39 leaderCommit: 333 
------------------------------------------------------
flag 24451 term 41 leader 1 nextIndex[2]: 335  matchIndex[2]: 334
term 41 leader 1 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 39 leaderCommit: 333 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=336
update matchIndex[0]=335
update leader CommitIndex=335
leader log:
[{snapshot 39 329} {2092169580175462603 39 330} {455822940259411307 39 331} {7739870274713363999 39 332} {1943197806465072223 39 333} {5645333947568488110 39 334} {5645333947568488110 41 335}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=336
update matchIndex[2]=335
update leader CommitIndex=335
leader log:
[{snapshot 39 329} {2092169580175462603 39 330} {455822940259411307 39 331} {7739870274713363999 39 332} {1943197806465072223 39 333} {5645333947568488110 39 334} {5645333947568488110 41 335}]
------------------------------------------------------
flag 49971 term 41 leader 1 nextIndex[0]: 336  matchIndex[0]: 335
term 41 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 41 leaderCommit: 335 
------------------------------------------------------
flag 76448 term 41 leader 1 nextIndex[2]: 336  matchIndex[2]: 335
term 41 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 41 leaderCommit: 335 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=336
update matchIndex[0]=335
update leader CommitIndex=335
leader log:
[{snapshot 39 329} {2092169580175462603 39 330} {455822940259411307 39 331} {7739870274713363999 39 332} {1943197806465072223 39 333} {5645333947568488110 39 334} {5645333947568488110 41 335}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=336
update matchIndex[2]=335
update leader CommitIndex=335
leader log:
[{snapshot 39 329} {2092169580175462603 39 330} {455822940259411307 39 331} {7739870274713363999 39 332} {1943197806465072223 39 333} {5645333947568488110 39 334} {5645333947568488110 41 335}]
------------------------------------------------------
flag 83376 term 41 leader 1 nextIndex[0]: 336  matchIndex[0]: 335
term 41 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 41 leaderCommit: 335 
------------------------------------------------------
flag 89327 term 41 leader 1 nextIndex[2]: 336  matchIndex[2]: 335
term 41 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 41 leaderCommit: 335 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=336
update matchIndex[2]=335
update leader CommitIndex=335
leader log:
[{snapshot 39 329} {2092169580175462603 39 330} {455822940259411307 39 331} {7739870274713363999 39 332} {1943197806465072223 39 333} {5645333947568488110 39 334} {5645333947568488110 41 335}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=336
update matchIndex[0]=335
update leader CommitIndex=335
leader log:
[{snapshot 39 329} {2092169580175462603 39 330} {455822940259411307 39 331} {7739870274713363999 39 332} {1943197806465072223 39 333} {5645333947568488110 39 334} {5645333947568488110 41 335}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7516 term 41 leader 1 nextIndex[0]: 336  matchIndex[0]: 335
term 41 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 41 leaderCommit: 335 
------------------------------------------------------
flag 80070 term 41 leader 1 nextIndex[2]: 336  matchIndex[2]: 335
term 41 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 41 leaderCommit: 335 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=336
update matchIndex[2]=335
update leader CommitIndex=335
leader log:
[{snapshot 39 329} {2092169580175462603 39 330} {455822940259411307 39 331} {7739870274713363999 39 332} {1943197806465072223 39 333} {5645333947568488110 39 334} {5645333947568488110 41 335}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=336
update matchIndex[0]=335
update leader CommitIndex=335
leader log:
[{snapshot 39 329} {2092169580175462603 39 330} {455822940259411307 39 331} {7739870274713363999 39 332} {1943197806465072223 39 333} {5645333947568488110 39 334} {5645333947568488110 41 335}]
------------------------------------------------------
term 41 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 91917 term 41 leader 1 nextIndex[0]: 336  matchIndex[0]: 335
term 41 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 41 leaderCommit: 335 
------------------------------------------------------
flag 18958 term 41 leader 1 nextIndex[2]: 336  matchIndex[2]: 335
term 41 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 41 leaderCommit: 335 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=336
update matchIndex[2]=335
update leader CommitIndex=335
leader log:
[{snapshot 39 329} {2092169580175462603 39 330} {455822940259411307 39 331} {7739870274713363999 39 332} {1943197806465072223 39 333} {5645333947568488110 39 334} {5645333947568488110 41 335}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=336
update matchIndex[0]=335
update leader CommitIndex=335
leader log:
[{snapshot 39 329} {2092169580175462603 39 330} {455822940259411307 39 331} {7739870274713363999 39 332} {1943197806465072223 39 333} {5645333947568488110 39 334} {5645333947568488110 41 335}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89020 term 41 leader 1 nextIndex[0]: 336  matchIndex[0]: 335
term 41 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 41 leaderCommit: 335 
------------------------------------------------------
flag 6635 term 41 leader 1 nextIndex[2]: 336  matchIndex[2]: 335
term 41 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 41 leaderCommit: 335 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=336
update matchIndex[2]=335
term 41 server 0 AppendEntries true commitIndex:335 
------------------------------------------------------
update leader CommitIndex=335
leader log:
[{snapshot 39 329} {2092169580175462603 39 330} {455822940259411307 39 331} {7739870274713363999 39 332} {1943197806465072223 39 333} {5645333947568488110 39 334} {5645333947568488110 41 335}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=336
update matchIndex[0]=335
update leader CommitIndex=335
leader log:
[{snapshot 39 329} {2092169580175462603 39 330} {455822940259411307 39 331} {7739870274713363999 39 332} {1943197806465072223 39 333} {5645333947568488110 39 334} {5645333947568488110 41 335}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57067 term 41 leader 1 nextIndex[0]: 336  matchIndex[0]: 335
term 41 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 41 leaderCommit: 335 
------------------------------------------------------
flag 23387 term 41 leader 1 nextIndex[2]: 336  matchIndex[2]: 335
term 41 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 41 leaderCommit: 335 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:335 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=336
update matchIndex[2]=335
update leader CommitIndex=335
leader log:
[{snapshot 39 329} {2092169580175462603 39 330} {455822940259411307 39 331} {7739870274713363999 39 332} {1943197806465072223 39 333} {5645333947568488110 39 334} {5645333947568488110 41 335}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=336
update matchIndex[0]=335
update leader CommitIndex=335
leader log:
[{snapshot 39 329} {2092169580175462603 39 330} {455822940259411307 39 331} {7739870274713363999 39 332} {1943197806465072223 39 333} {5645333947568488110 39 334} {5645333947568488110 41 335}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 3302340879287745823 (index 336) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17577 term 41 leader 1 nextIndex[0]: 336  matchIndex[0]: 335
term 41 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 41 leaderCommit: 335 
------------------------------------------------------
flag 52576 term 41 leader 1 nextIndex[2]: 336  matchIndex[2]: 335
term 41 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 41 leaderCommit: 335 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=337
update matchIndex[0]=336
update leader CommitIndex=336
leader log:
[{snapshot 39 329} {2092169580175462603 39 330} {455822940259411307 39 331} {7739870274713363999 39 332} {1943197806465072223 39 333} {5645333947568488110 39 334} {5645333947568488110 41 335} {3302340879287745823 41 336}]
------------------------------------------------------
flag 18044 term 41 leader 1 nextIndex[0]: 337  matchIndex[0]: 336
term 41 leader 1 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 41 leaderCommit: 336 
------------------------------------------------------
flag 40156 term 41 leader 1 nextIndex[2]: 336  matchIndex[2]: 335
term 41 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 41 leaderCommit: 336 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=337
update matchIndex[0]=336
update leader CommitIndex=336
leader log:
[{snapshot 39 329} {2092169580175462603 39 330} {455822940259411307 39 331} {7739870274713363999 39 332} {1943197806465072223 39 333} {5645333947568488110 39 334} {5645333947568488110 41 335} {3302340879287745823 41 336}]
------------------------------------------------------
client write log 2378761570919222584 (index 337) to leader 1
client write log 2610628839738979556 (index 338) to leader 1
client write log 2006055038088961110 (index 339) to leader 1
client write log 8714604759302687983 (index 340) to leader 1
client write log 8594893073286115475 (index 341) to leader 1
client write log 2791552840555647679 (index 342) to leader 1
client write log 8652129902169960762 (index 343) to leader 1
client write log 5396696515539209796 (index 344) to leader 1
client write log 8684046166655584243 (index 345) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34055 term 41 leader 1 nextIndex[0]: 337  matchIndex[0]: 336
term 41 leader 1 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 41 leaderCommit: 336 
------------------------------------------------------
flag 4071 term 41 leader 1 nextIndex[2]: 336  matchIndex[2]: 335
term 41 leader 1 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 41 leaderCommit: 336 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=345
leader log:
[{snapshot 39 329} {2092169580175462603 39 330} {455822940259411307 39 331} {7739870274713363999 39 332} {1943197806465072223 39 333} {5645333947568488110 39 334} {5645333947568488110 41 335} {3302340879287745823 41 336} {2378761570919222584 41 337} {2610628839738979556 41 338} {2006055038088961110 41 339} {8714604759302687983 41 340} {8594893073286115475 41 341} {2791552840555647679 41 342} {8652129902169960762 41 343} {5396696515539209796 41 344} {8684046166655584243 41 345}]
------------------------------------------------------
term 41 Server1 start snapshot! index=339
term 41 server1 snapshot success
lastIncludedIndex=339 lastApplied=340 lastIndex=345
-------------------------------------------------------------
flag 79652 term 41 leader 1 nextIndex[0]: 346  matchIndex[0]: 345
term 41 leader 1 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 41 leaderCommit: 345 
------------------------------------------------------
term 41 leader 1 nextIndex[2]: 336  matchIndex[2]: 335
term 41 leader 1 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 41
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=345
leader log:
[{snapshot 41 339} {8714604759302687983 41 340} {8594893073286115475 41 341} {2791552840555647679 41 342} {8652129902169960762 41 343} {5396696515539209796 41 344} {8684046166655584243 41 345}]
------------------------------------------------------
term 41 Server0 start snapshot! index=339
term 41 server0 snapshot success
lastIncludedIndex=339 lastApplied=340 lastIndex=345
-------------------------------------------------------------
!!!!!!connect server 2
client write log 243712176884888113 (index 346) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22471 term 41 leader 1 nextIndex[0]: 346  matchIndex[0]: 345
term 41 leader 1 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 41 leaderCommit: 345 
------------------------------------------------------
term 41 leader 1 nextIndex[2]: 336  matchIndex[2]: 335
term 41 leader 1 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 41
------------------------------------------------------
term 42 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 41 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 43 server 2 vote for server 1
term 43 server 0 vote for server 1
term 43 server 1 get vote from server 2
term 43 server 1 become leader
------------------------------------------------------
term 43 server 1 get outdate rpc reply from server 0
flag 56076 term 43 leader 1 nextIndex[0]: 347  matchIndex[0]: 0
term 43 leader 1 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 41 leaderCommit: 345 
------------------------------------------------------
flag 359 term 43 leader 1 nextIndex[2]: 347  matchIndex[2]: 0
term 43 leader 1 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 41 leaderCommit: 345 
------------------------------------------------------
term 43 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 347->346
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=347
update matchIndex[0]=346
update leader CommitIndex=345
leader log:
[{snapshot 41 339} {8714604759302687983 41 340} {8594893073286115475 41 341} {2791552840555647679 41 342} {8652129902169960762 41 343} {5396696515539209796 41 344} {8684046166655584243 41 345} {243712176884888113 41 346}]
------------------------------------------------------
flag 77192 term 43 leader 1 nextIndex[0]: 347  matchIndex[0]: 346
term 43 leader 1 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 41 leaderCommit: 345 
------------------------------------------------------
term 43 leader 1 nextIndex[2]: 336  matchIndex[2]: 0
term 43 leader 1 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 41
------------------------------------------------------
term 43 server 2 InstallSnapshot success
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:345 
------------------------------------------------------
term 43 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 340 matchIndex[2] 339 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 339 rf.lastIncludedTerm 41 rf.commitIndex 339 rf.lastApplied 339
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=347
update matchIndex[0]=346
update leader CommitIndex=345
leader log:
[{snapshot 41 339} {8714604759302687983 41 340} {8594893073286115475 41 341} {2791552840555647679 41 342} {8652129902169960762 41 343} {5396696515539209796 41 344} {8684046166655584243 41 345} {243712176884888113 41 346}]
------------------------------------------------------
term 43 server 0 not vote for server 1, 任期不够新
term 43 server 1 get outdate rpc reply from server 0
flag 99993 term 43 leader 1 nextIndex[0]: 347  matchIndex[0]: 346
term 43 leader 1 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 41 leaderCommit: 345 
------------------------------------------------------
flag 46127 term 43 leader 1 nextIndex[2]: 340  matchIndex[2]: 339
term 43 leader 1 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 41 leaderCommit: 345 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=347
update matchIndex[2]=346
update leader CommitIndex=345
leader log:
[{snapshot 41 339} {8714604759302687983 41 340} {8594893073286115475 41 341} {2791552840555647679 41 342} {8652129902169960762 41 343} {5396696515539209796 41 344} {8684046166655584243 41 345} {243712176884888113 41 346}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=347
update matchIndex[0]=346
update leader CommitIndex=345
leader log:
[{snapshot 41 339} {8714604759302687983 41 340} {8594893073286115475 41 341} {2791552840555647679 41 342} {8652129902169960762 41 343} {5396696515539209796 41 344} {8684046166655584243 41 345} {243712176884888113 41 346}]
------------------------------------------------------
flag 98255 term 43 leader 1 nextIndex[0]: 347  matchIndex[0]: 346
term 43 leader 1 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 41 leaderCommit: 345 
------------------------------------------------------
flag 2191 term 43 leader 1 nextIndex[2]: 347  matchIndex[2]: 346
term 43 leader 1 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 41 leaderCommit: 345 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=347
update matchIndex[2]=346
update leader CommitIndex=345
leader log:
[{snapshot 41 339} {8714604759302687983 41 340} {8594893073286115475 41 341} {2791552840555647679 41 342} {8652129902169960762 41 343} {5396696515539209796 41 344} {8684046166655584243 41 345} {243712176884888113 41 346}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=347
update matchIndex[0]=346
update leader CommitIndex=345
leader log:
[{snapshot 41 339} {8714604759302687983 41 340} {8594893073286115475 41 341} {2791552840555647679 41 342} {8652129902169960762 41 343} {5396696515539209796 41 344} {8684046166655584243 41 345} {243712176884888113 41 346}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23364 term 43 leader 1 nextIndex[0]: 347  matchIndex[0]: 346
term 43 leader 1 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 41 leaderCommit: 345 
------------------------------------------------------
flag 46440 term 43 leader 1 nextIndex[2]: 347  matchIndex[2]: 346
term 43 leader 1 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 41 leaderCommit: 345 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=347
update matchIndex[0]=346
update leader CommitIndex=345
leader log:
[{snapshot 41 339} {8714604759302687983 41 340} {8594893073286115475 41 341} {2791552840555647679 41 342} {8652129902169960762 41 343} {5396696515539209796 41 344} {8684046166655584243 41 345} {243712176884888113 41 346}]
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=347
update matchIndex[2]=346
update leader CommitIndex=345
leader log:
[{snapshot 41 339} {8714604759302687983 41 340} {8594893073286115475 41 341} {2791552840555647679 41 342} {8652129902169960762 41 343} {5396696515539209796 41 344} {8684046166655584243 41 345} {243712176884888113 41 346}]
------------------------------------------------------
flag 11732 term 43 leader 1 nextIndex[0]: 347  matchIndex[0]: 346
term 43 leader 1 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 41 leaderCommit: 345 
------------------------------------------------------
flag 67932 term 43 leader 1 nextIndex[2]: 347  matchIndex[2]: 346
term 43 leader 1 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 41 leaderCommit: 345 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:345 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=347
update matchIndex[0]=346
update leader CommitIndex=345
leader log:
[{snapshot 41 339} {8714604759302687983 41 340} {8594893073286115475 41 341} {2791552840555647679 41 342} {8652129902169960762 41 343} {5396696515539209796 41 344} {8684046166655584243 41 345} {243712176884888113 41 346}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=347
update matchIndex[2]=346
update leader CommitIndex=345
leader log:
[{snapshot 41 339} {8714604759302687983 41 340} {8594893073286115475 41 341} {2791552840555647679 41 342} {8652129902169960762 41 343} {5396696515539209796 41 344} {8684046166655584243 41 345} {243712176884888113 41 346}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25486 term 43 leader 1 nextIndex[0]: 347  matchIndex[0]: 346
term 43 leader 1 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 41 leaderCommit: 345 
------------------------------------------------------
flag 26060 term 43 leader 1 nextIndex[2]: 347  matchIndex[2]: 346
term 43 leader 1 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 41 leaderCommit: 345 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=347
update matchIndex[2]=346
update leader CommitIndex=345
leader log:
[{snapshot 41 339} {8714604759302687983 41 340} {8594893073286115475 41 341} {2791552840555647679 41 342} {8652129902169960762 41 343} {5396696515539209796 41 344} {8684046166655584243 41 345} {243712176884888113 41 346}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=347
update matchIndex[0]=346
update leader CommitIndex=345
leader log:
[{snapshot 41 339} {8714604759302687983 41 340} {8594893073286115475 41 341} {2791552840555647679 41 342} {8652129902169960762 41 343} {5396696515539209796 41 344} {8684046166655584243 41 345} {243712176884888113 41 346}]
------------------------------------------------------
flag 36132 term 43 leader 1 nextIndex[0]: 347  matchIndex[0]: 346
term 43 leader 1 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 41 leaderCommit: 345 
------------------------------------------------------
flag 94291 term 43 leader 1 nextIndex[2]: 347  matchIndex[2]: 346
term 43 leader 1 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 41 leaderCommit: 345 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=347
update matchIndex[2]=346
update leader CommitIndex=345
leader log:
[{snapshot 41 339} {8714604759302687983 41 340} {8594893073286115475 41 341} {2791552840555647679 41 342} {8652129902169960762 41 343} {5396696515539209796 41 344} {8684046166655584243 41 345} {243712176884888113 41 346}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=347
update matchIndex[0]=346
update leader CommitIndex=345
leader log:
[{snapshot 41 339} {8714604759302687983 41 340} {8594893073286115475 41 341} {2791552840555647679 41 342} {8652129902169960762 41 343} {5396696515539209796 41 344} {8684046166655584243 41 345} {243712176884888113 41 346}]
------------------------------------------------------
flag 92644 term 43 leader 1 nextIndex[0]: 347  matchIndex[0]: 346
term 43 leader 1 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 41 leaderCommit: 345 
------------------------------------------------------
flag 776 term 43 leader 1 nextIndex[2]: 347  matchIndex[2]: 346
term 43 leader 1 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 41 leaderCommit: 345 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:345 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=347
update matchIndex[0]=346
update leader CommitIndex=345
leader log:
[{snapshot 41 339} {8714604759302687983 41 340} {8594893073286115475 41 341} {2791552840555647679 41 342} {8652129902169960762 41 343} {5396696515539209796 41 344} {8684046166655584243 41 345} {243712176884888113 41 346}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=347
update matchIndex[2]=346
update leader CommitIndex=345
leader log:
[{snapshot 41 339} {8714604759302687983 41 340} {8594893073286115475 41 341} {2791552840555647679 41 342} {8652129902169960762 41 343} {5396696515539209796 41 344} {8684046166655584243 41 345} {243712176884888113 41 346}]
------------------------------------------------------
flag 62679 term 43 leader 1 nextIndex[0]: 347  matchIndex[0]: 346
term 43 leader 1 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 41 leaderCommit: 345 
------------------------------------------------------
flag 74944 term 43 leader 1 nextIndex[2]: 347  matchIndex[2]: 346
term 43 leader 1 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 41 leaderCommit: 345 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=347
update matchIndex[2]=346
update leader CommitIndex=345
leader log:
[{snapshot 41 339} {8714604759302687983 41 340} {8594893073286115475 41 341} {2791552840555647679 41 342} {8652129902169960762 41 343} {5396696515539209796 41 344} {8684046166655584243 41 345} {243712176884888113 41 346}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=347
update matchIndex[0]=346
update leader CommitIndex=345
leader log:
[{snapshot 41 339} {8714604759302687983 41 340} {8594893073286115475 41 341} {2791552840555647679 41 342} {8652129902169960762 41 343} {5396696515539209796 41 344} {8684046166655584243 41 345} {243712176884888113 41 346}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60435 term 43 leader 1 nextIndex[0]: 347  matchIndex[0]: 346
term 43 leader 1 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 41 leaderCommit: 345 
------------------------------------------------------
flag 50393 term 43 leader 1 nextIndex[2]: 347  matchIndex[2]: 346
term 43 leader 1 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 41 leaderCommit: 345 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=347
update matchIndex[2]=346
update leader CommitIndex=345
leader log:
[{snapshot 41 339} {8714604759302687983 41 340} {8594893073286115475 41 341} {2791552840555647679 41 342} {8652129902169960762 41 343} {5396696515539209796 41 344} {8684046166655584243 41 345} {243712176884888113 41 346}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=347
update matchIndex[0]=346
update leader CommitIndex=345
leader log:
[{snapshot 41 339} {8714604759302687983 41 340} {8594893073286115475 41 341} {2791552840555647679 41 342} {8652129902169960762 41 343} {5396696515539209796 41 344} {8684046166655584243 41 345} {243712176884888113 41 346}]
------------------------------------------------------
flag 26819 term 43 leader 1 nextIndex[0]: 347  matchIndex[0]: 346
term 43 leader 1 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 41 leaderCommit: 345 
------------------------------------------------------
flag 24115 term 43 leader 1 nextIndex[2]: 347  matchIndex[2]: 346
term 43 leader 1 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 41 leaderCommit: 345 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:345 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=347
update matchIndex[2]=346
update leader CommitIndex=345
leader log:
[{snapshot 41 339} {8714604759302687983 41 340} {8594893073286115475 41 341} {2791552840555647679 41 342} {8652129902169960762 41 343} {5396696515539209796 41 344} {8684046166655584243 41 345} {243712176884888113 41 346}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=347
update matchIndex[0]=346
update leader CommitIndex=345
leader log:
[{snapshot 41 339} {8714604759302687983 41 340} {8594893073286115475 41 341} {2791552840555647679 41 342} {8652129902169960762 41 343} {5396696515539209796 41 344} {8684046166655584243 41 345} {243712176884888113 41 346}]
------------------------------------------------------
flag 11138 term 43 leader 1 nextIndex[0]: 347  matchIndex[0]: 346
term 43 leader 1 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 41 leaderCommit: 345 
------------------------------------------------------
flag 15452 term 43 leader 1 nextIndex[2]: 347  matchIndex[2]: 346
term 43 leader 1 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 41 leaderCommit: 345 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=347
update matchIndex[2]=346
update leader CommitIndex=345
leader log:
[{snapshot 41 339} {8714604759302687983 41 340} {8594893073286115475 41 341} {2791552840555647679 41 342} {8652129902169960762 41 343} {5396696515539209796 41 344} {8684046166655584243 41 345} {243712176884888113 41 346}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=347
update matchIndex[0]=346
update leader CommitIndex=345
leader log:
[{snapshot 41 339} {8714604759302687983 41 340} {8594893073286115475 41 341} {2791552840555647679 41 342} {8652129902169960762 41 343} {5396696515539209796 41 344} {8684046166655584243 41 345} {243712176884888113 41 346}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17882 term 43 leader 1 nextIndex[0]: 347  matchIndex[0]: 346
term 43 leader 1 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 41 leaderCommit: 345 
------------------------------------------------------
flag 89550 term 43 leader 1 nextIndex[2]: 347  matchIndex[2]: 346
term 43 leader 1 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 41 leaderCommit: 345 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=347
update matchIndex[2]=346
update leader CommitIndex=345
leader log:
[{snapshot 41 339} {8714604759302687983 41 340} {8594893073286115475 41 341} {2791552840555647679 41 342} {8652129902169960762 41 343} {5396696515539209796 41 344} {8684046166655584243 41 345} {243712176884888113 41 346}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=347
update matchIndex[0]=346
update leader CommitIndex=345
leader log:
[{snapshot 41 339} {8714604759302687983 41 340} {8594893073286115475 41 341} {2791552840555647679 41 342} {8652129902169960762 41 343} {5396696515539209796 41 344} {8684046166655584243 41 345} {243712176884888113 41 346}]
------------------------------------------------------
flag 46881 term 43 leader 1 nextIndex[0]: 347  matchIndex[0]: 346
term 43 leader 1 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 41 leaderCommit: 345 
------------------------------------------------------
flag 66827 term 43 leader 1 nextIndex[2]: 347  matchIndex[2]: 346
term 43 leader 1 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 41 leaderCommit: 345 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=347
update matchIndex[2]=346
update leader CommitIndex=345
leader log:
[{snapshot 41 339} {8714604759302687983 41 340} {8594893073286115475 41 341} {2791552840555647679 41 342} {8652129902169960762 41 343} {5396696515539209796 41 344} {8684046166655584243 41 345} {243712176884888113 41 346}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=347
update matchIndex[0]=346
update leader CommitIndex=345
leader log:
[{snapshot 41 339} {8714604759302687983 41 340} {8594893073286115475 41 341} {2791552840555647679 41 342} {8652129902169960762 41 343} {5396696515539209796 41 344} {8684046166655584243 41 345} {243712176884888113 41 346}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57559 term 43 leader 1 nextIndex[0]: 347  matchIndex[0]: 346
term 43 leader 1 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 41 leaderCommit: 345 
------------------------------------------------------
flag 50466 term 43 leader 1 nextIndex[2]: 347  matchIndex[2]: 346
term 43 leader 1 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 41 leaderCommit: 345 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=347
update matchIndex[2]=346
update leader CommitIndex=345
leader log:
[{snapshot 41 339} {8714604759302687983 41 340} {8594893073286115475 41 341} {2791552840555647679 41 342} {8652129902169960762 41 343} {5396696515539209796 41 344} {8684046166655584243 41 345} {243712176884888113 41 346}]
term 43 server 0 AppendEntries true commitIndex:345 
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=347
update matchIndex[0]=346
update leader CommitIndex=345
leader log:
[{snapshot 41 339} {8714604759302687983 41 340} {8594893073286115475 41 341} {2791552840555647679 41 342} {8652129902169960762 41 343} {5396696515539209796 41 344} {8684046166655584243 41 345} {243712176884888113 41 346}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26941 term 43 leader 1 nextIndex[0]: 347  matchIndex[0]: 346
term 43 leader 1 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 41 leaderCommit: 345 
------------------------------------------------------
flag 3670 term 43 leader 1 nextIndex[2]: 347  matchIndex[2]: 346
term 43 leader 1 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 41 leaderCommit: 345 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=347
update matchIndex[2]=346
update leader CommitIndex=345
leader log:
[{snapshot 41 339} {8714604759302687983 41 340} {8594893073286115475 41 341} {2791552840555647679 41 342} {8652129902169960762 41 343} {5396696515539209796 41 344} {8684046166655584243 41 345} {243712176884888113 41 346}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=347
update matchIndex[0]=346
update leader CommitIndex=345
leader log:
[{snapshot 41 339} {8714604759302687983 41 340} {8594893073286115475 41 341} {2791552840555647679 41 342} {8652129902169960762 41 343} {5396696515539209796 41 344} {8684046166655584243 41 345} {243712176884888113 41 346}]
------------------------------------------------------
flag 95060 term 43 leader 1 nextIndex[0]: 347  matchIndex[0]: 346
term 43 leader 1 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 41 leaderCommit: 345 
------------------------------------------------------
flag 55523 term 43 leader 1 nextIndex[2]: 347  matchIndex[2]: 346
term 43 leader 1 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 41 leaderCommit: 345 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=347
update matchIndex[2]=346
update leader CommitIndex=345
leader log:
[{snapshot 41 339} {8714604759302687983 41 340} {8594893073286115475 41 341} {2791552840555647679 41 342} {8652129902169960762 41 343} {5396696515539209796 41 344} {8684046166655584243 41 345} {243712176884888113 41 346}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=347
update matchIndex[0]=346
update leader CommitIndex=345
leader log:
[{snapshot 41 339} {8714604759302687983 41 340} {8594893073286115475 41 341} {2791552840555647679 41 342} {8652129902169960762 41 343} {5396696515539209796 41 344} {8684046166655584243 41 345} {243712176884888113 41 346}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38182 term 43 leader 1 nextIndex[0]: 347  matchIndex[0]: 346
term 43 leader 1 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 41 leaderCommit: 345 
------------------------------------------------------
flag 17221 term 43 leader 1 nextIndex[2]: 347  matchIndex[2]: 346
term 43 leader 1 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 41 leaderCommit: 345 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=347
update matchIndex[2]=346
update leader CommitIndex=345
leader log:
[{snapshot 41 339} {8714604759302687983 41 340} {8594893073286115475 41 341} {2791552840555647679 41 342} {8652129902169960762 41 343} {5396696515539209796 41 344} {8684046166655584243 41 345} {243712176884888113 41 346}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=347
update matchIndex[0]=346
update leader CommitIndex=345
leader log:
[{snapshot 41 339} {8714604759302687983 41 340} {8594893073286115475 41 341} {2791552840555647679 41 342} {8652129902169960762 41 343} {5396696515539209796 41 344} {8684046166655584243 41 345} {243712176884888113 41 346}]
------------------------------------------------------
client write log 243712176884888113 (index 347) to leader 1
flag 37252 term 43 leader 1 nextIndex[0]: 347  matchIndex[0]: 346
term 43 leader 1 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 41 leaderCommit: 345 
------------------------------------------------------
flag 74656 term 43 leader 1 nextIndex[2]: 347  matchIndex[2]: 346
term 43 leader 1 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 41 leaderCommit: 345 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=348
update matchIndex[2]=347
update leader CommitIndex=347
leader log:
[{snapshot 41 339} {8714604759302687983 41 340} {8594893073286115475 41 341} {2791552840555647679 41 342} {8652129902169960762 41 343} {5396696515539209796 41 344} {8684046166655584243 41 345} {243712176884888113 41 346} {243712176884888113 43 347}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=348
update matchIndex[0]=347
update leader CommitIndex=347
leader log:
[{snapshot 41 339} {8714604759302687983 41 340} {8594893073286115475 41 341} {2791552840555647679 41 342} {8652129902169960762 41 343} {5396696515539209796 41 344} {8684046166655584243 41 345} {243712176884888113 41 346} {243712176884888113 43 347}]
------------------------------------------------------
flag 72172 term 43 leader 1 nextIndex[0]: 348  matchIndex[0]: 347
term 43 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 43 leaderCommit: 347 
------------------------------------------------------
flag 88547 term 43 leader 1 nextIndex[2]: 348  matchIndex[2]: 347
term 43 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 43 leaderCommit: 347 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=348
update matchIndex[2]=347
update leader CommitIndex=347
leader log:
term 43 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
[{snapshot 41 339} {8714604759302687983 41 340} {8594893073286115475 41 341} {2791552840555647679 41 342} {8652129902169960762 41 343} {5396696515539209796 41 344} {8684046166655584243 41 345} {243712176884888113 41 346} {243712176884888113 43 347}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=348
update matchIndex[0]=347
update leader CommitIndex=347
leader log:
[{snapshot 41 339} {8714604759302687983 41 340} {8594893073286115475 41 341} {2791552840555647679 41 342} {8652129902169960762 41 343} {5396696515539209796 41 344} {8684046166655584243 41 345} {243712176884888113 41 346} {243712176884888113 43 347}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30556 term 43 leader 1 nextIndex[0]: 348  matchIndex[0]: 347
term 43 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 43 leaderCommit: 347 
------------------------------------------------------
flag 41843 term 43 leader 1 nextIndex[2]: 348  matchIndex[2]: 347
term 43 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 43 leaderCommit: 347 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=348
update matchIndex[2]=347
update leader CommitIndex=347
leader log:
[{snapshot 41 339} {8714604759302687983 41 340} {8594893073286115475 41 341} {2791552840555647679 41 342} {8652129902169960762 41 343} {5396696515539209796 41 344} {8684046166655584243 41 345} {243712176884888113 41 346} {243712176884888113 43 347}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=348
update matchIndex[0]=347
update leader CommitIndex=347
leader log:
[{snapshot 41 339} {8714604759302687983 41 340} {8594893073286115475 41 341} {2791552840555647679 41 342} {8652129902169960762 41 343} {5396696515539209796 41 344} {8684046166655584243 41 345} {243712176884888113 41 346} {243712176884888113 43 347}]
------------------------------------------------------
flag 50631 term 43 leader 1 nextIndex[0]: 348  matchIndex[0]: 347
term 43 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 43 leaderCommit: 347 
------------------------------------------------------
flag 28766 term 43 leader 1 nextIndex[2]: 348  matchIndex[2]: 347
term 43 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 43 leaderCommit: 347 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=348
update matchIndex[2]=347
update leader CommitIndex=347
leader log:
[{snapshot 41 339} {8714604759302687983 41 340} {8594893073286115475 41 341} {2791552840555647679 41 342} {8652129902169960762 41 343} {5396696515539209796 41 344} {8684046166655584243 41 345} {243712176884888113 41 346} {243712176884888113 43 347}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=348
update matchIndex[0]=347
update leader CommitIndex=347
leader log:
[{snapshot 41 339} {8714604759302687983 41 340} {8594893073286115475 41 341} {2791552840555647679 41 342} {8652129902169960762 41 343} {5396696515539209796 41 344} {8684046166655584243 41 345} {243712176884888113 41 346} {243712176884888113 43 347}]
------------------------------------------------------
flag 81359 term 43 leader 1 nextIndex[0]: 348  matchIndex[0]: 347
term 43 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 43 leaderCommit: 347 
------------------------------------------------------
flag 52625 term 43 leader 1 nextIndex[2]: 348  matchIndex[2]: 347
term 43 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 43 leaderCommit: 347 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=348
update matchIndex[2]=347
update leader CommitIndex=347
leader log:
[{snapshot 41 339} {8714604759302687983 41 340} {8594893073286115475 41 341} {2791552840555647679 41 342} {8652129902169960762 41 343} {5396696515539209796 41 344} {8684046166655584243 41 345} {243712176884888113 41 346} {243712176884888113 43 347}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=348
update matchIndex[0]=347
update leader CommitIndex=347
leader log:
[{snapshot 41 339} {8714604759302687983 41 340} {8594893073286115475 41 341} {2791552840555647679 41 342} {8652129902169960762 41 343} {5396696515539209796 41 344} {8684046166655584243 41 345} {243712176884888113 41 346} {243712176884888113 43 347}]
------------------------------------------------------
term 43 server 0 not vote for server 2, 任期不够新
term 43 server 2 get outdate rpc reply from server 0
flag 41658 term 43 leader 1 nextIndex[0]: 348  matchIndex[0]: 347
term 43 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 43 leaderCommit: 347 
------------------------------------------------------
flag 4416 term 43 leader 1 nextIndex[2]: 348  matchIndex[2]: 347
term 43 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 43 leaderCommit: 347 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=348
update matchIndex[2]=347
update leader CommitIndex=347
leader log:
[{snapshot 41 339} {8714604759302687983 41 340} {8594893073286115475 41 341} {2791552840555647679 41 342} {8652129902169960762 41 343} {5396696515539209796 41 344} {8684046166655584243 41 345} {243712176884888113 41 346} {243712176884888113 43 347}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=348
update matchIndex[0]=347
update leader CommitIndex=347
leader log:
[{snapshot 41 339} {8714604759302687983 41 340} {8594893073286115475 41 341} {2791552840555647679 41 342} {8652129902169960762 41 343} {5396696515539209796 41 344} {8684046166655584243 41 345} {243712176884888113 41 346} {243712176884888113 43 347}]
------------------------------------------------------
flag 73069 term 43 leader 1 nextIndex[0]: 348  matchIndex[0]: 347
term 43 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 43 leaderCommit: 347 
------------------------------------------------------
flag 35597 term 43 leader 1 nextIndex[2]: 348  matchIndex[2]: 347
term 43 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 43 leaderCommit: 347 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=348
update matchIndex[2]=347
update leader CommitIndex=347
leader log:
term 43 server 0 AppendEntries true commitIndex:347 
------------------------------------------------------
[{snapshot 41 339} {8714604759302687983 41 340} {8594893073286115475 41 341} {2791552840555647679 41 342} {8652129902169960762 41 343} {5396696515539209796 41 344} {8684046166655584243 41 345} {243712176884888113 41 346} {243712176884888113 43 347}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=348
update matchIndex[0]=347
update leader CommitIndex=347
leader log:
[{snapshot 41 339} {8714604759302687983 41 340} {8594893073286115475 41 341} {2791552840555647679 41 342} {8652129902169960762 41 343} {5396696515539209796 41 344} {8684046166655584243 41 345} {243712176884888113 41 346} {243712176884888113 43 347}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 52327 term 43 leader 1 nextIndex[0]: 348  matchIndex[0]: 347
term 43 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 43 leaderCommit: 347 
------------------------------------------------------
flag 40075 term 43 leader 1 nextIndex[2]: 348  matchIndex[2]: 347
term 43 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 43 leaderCommit: 347 
------------------------------------------------------
flag 79801 term 43 leader 1 nextIndex[0]: 348  matchIndex[0]: 347
term 43 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 43 leaderCommit: 347 
------------------------------------------------------
flag 50667 term 43 leader 1 nextIndex[2]: 348  matchIndex[2]: 347
term 43 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 43 leaderCommit: 347 
------------------------------------------------------
flag 87916 term 43 leader 1 nextIndex[0]: 348  matchIndex[0]: 347
term 43 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 43 leaderCommit: 347 
------------------------------------------------------
flag 74120 term 43 leader 1 nextIndex[2]: 348  matchIndex[2]: 347
term 43 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 43 leaderCommit: 347 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50884 term 43 leader 1 nextIndex[0]: 348  matchIndex[0]: 347
term 43 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 43 leaderCommit: 347 
------------------------------------------------------
flag 47037 term 43 leader 1 nextIndex[2]: 348  matchIndex[2]: 347
term 43 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 43 leaderCommit: 347 
------------------------------------------------------
term 44 server 2 vote for server 0
term 44 server 0 get vote from server 2
term 44 server 0 become leader
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 348->347
------------------------------------------------------
flag 31263 term 44 leader 0 nextIndex[1]: 348  matchIndex[1]: 0
term 44 leader 0 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 43 leaderCommit: 347 
------------------------------------------------------
flag 3174 term 44 leader 0 nextIndex[2]: 348  matchIndex[2]: 0
term 44 leader 0 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 43 leaderCommit: 347 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=348
update matchIndex[2]=347
update leader CommitIndex=347
leader log:
[{snapshot 41 339} {8714604759302687983 41 340} {8594893073286115475 41 341} {2791552840555647679 41 342} {8652129902169960762 41 343} {5396696515539209796 41 344} {8684046166655584243 41 345} {243712176884888113 41 346} {243712176884888113 43 347}]
------------------------------------------------------
client write log 2758404040205746220 (index 348) to leader 0
term 43 leader 1 nextIndex[0]: 0  matchIndex[0]: 347
term 43 leader 1 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 41
------------------------------------------------------
flag 95665 term 43 leader 1 nextIndex[2]: 348  matchIndex[2]: 347
term 43 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 43 leaderCommit: 347 
------------------------------------------------------
flag 448 term 44 leader 0 nextIndex[1]: 348  matchIndex[1]: 0
term 44 leader 0 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 43 leaderCommit: 347 
------------------------------------------------------
flag 61405 term 44 leader 0 nextIndex[2]: 348  matchIndex[2]: 347
term 44 leader 0 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 43 leaderCommit: 347 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=348
leader log:
[{snapshot 41 339} {8714604759302687983 41 340} {8594893073286115475 41 341} {2791552840555647679 41 342} {8652129902169960762 41 343} {5396696515539209796 41 344} {8684046166655584243 41 345} {243712176884888113 41 346} {243712176884888113 43 347} {2758404040205746220 44 348}]
------------------------------------------------------
term 43 leader 1 nextIndex[0]: 0  matchIndex[0]: 347
term 43 leader 1 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 41
------------------------------------------------------
flag 49213 term 43 leader 1 nextIndex[2]: 348  matchIndex[2]: 347
term 43 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 43 leaderCommit: 347 
------------------------------------------------------
flag 87709 term 44 leader 0 nextIndex[1]: 348  matchIndex[1]: 0
term 44 leader 0 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 43 leaderCommit: 348 
------------------------------------------------------
flag 39566 term 44 leader 0 nextIndex[2]: 349  matchIndex[2]: 348
term 44 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 44 leaderCommit: 348 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=348
leader log:
[{snapshot 41 339} {8714604759302687983 41 340} {8594893073286115475 41 341} {2791552840555647679 41 342} {8652129902169960762 41 343} {5396696515539209796 41 344} {8684046166655584243 41 345} {243712176884888113 41 346} {243712176884888113 43 347} {2758404040205746220 44 348}]
------------------------------------------------------
client write log 3627272252196996410 (index 349) to leader 0
term 43 leader 1 nextIndex[0]: 0  matchIndex[0]: 347
term 43 leader 1 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 41
------------------------------------------------------
flag 96236 term 43 leader 1 nextIndex[2]: 348  matchIndex[2]: 347
term 43 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 43 leaderCommit: 347 
------------------------------------------------------
term 43 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 348->347
------------------------------------------------------
term 44 leader 0 nextIndex[1]: 0  matchIndex[1]: 0
term 44 leader 0 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 41
------------------------------------------------------
flag 96316 term 44 leader 0 nextIndex[2]: 349  matchIndex[2]: 348
term 44 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 44 leaderCommit: 348 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=350
update matchIndex[2]=349
update leader CommitIndex=349
leader log:
[{snapshot 41 339} {8714604759302687983 41 340} {8594893073286115475 41 341} {2791552840555647679 41 342} {8652129902169960762 41 343} {5396696515539209796 41 344} {8684046166655584243 41 345} {243712176884888113 41 346} {243712176884888113 43 347} {2758404040205746220 44 348} {3627272252196996410 44 349}]
------------------------------------------------------
term 44 Server0 start snapshot! index=349
term 44 server0 snapshot success
lastIncludedIndex=349 lastApplied=349 lastIndex=349
-------------------------------------------------------------
term 43 leader 1 nextIndex[0]: 0  matchIndex[0]: 347
term 43 leader 1 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 41
------------------------------------------------------
flag 668 term 43 leader 1 nextIndex[2]: 348  matchIndex[2]: 347
term 43 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 43 leaderCommit: 347 
------------------------------------------------------
term 44 leader 0 nextIndex[1]: 0  matchIndex[1]: 0
term 44 leader 0 sendInstallSnapshot LastIncludedIndex: 349  LastIncludedTerm: 44
------------------------------------------------------
flag 41734 term 44 leader 0 nextIndex[2]: 350  matchIndex[2]: 349
term 44 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 44 leaderCommit: 349 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=350
update matchIndex[2]=349
update leader CommitIndex=349
leader log:
[{snapshot 44 349}]
------------------------------------------------------
term 44 Server2 start snapshot! index=349
term 44 server2 snapshot success
lastIncludedIndex=349 lastApplied=349 lastIndex=349
-------------------------------------------------------------
!!!!!!connect server 1
client write log 6056382983692491745 (index 348) to leader 1
term 43 leader 1 nextIndex[0]: 0  matchIndex[0]: 347
term 43 leader 1 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 41
------------------------------------------------------
flag 39590 term 43 leader 1 nextIndex[2]: 348  matchIndex[2]: 347
term 43 leader 1 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 43 leaderCommit: 347 
------------------------------------------------------
term 44 server 2 AppendEntries false 领导者任期过期 args.Term 43
------------------------------------------------------
term 44 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 44 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 44 leader 0 nextIndex[1]: 0  matchIndex[1]: 0
term 44 leader 0 sendInstallSnapshot LastIncludedIndex: 349  LastIncludedTerm: 44
------------------------------------------------------
flag 47017 term 44 leader 0 nextIndex[2]: 350  matchIndex[2]: 349
term 44 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 44 leaderCommit: 349 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=350
update matchIndex[2]=349
update leader CommitIndex=349
leader log:
[{snapshot 44 349}]
------------------------------------------------------
term 44 server 1 InstallSnapshot success
------------------------------------------------------
term 44 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 350 matchIndex[1] 349 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 349 rf.lastIncludedTerm 44 rf.commitIndex 349 rf.lastApplied 349
flag 51475 term 44 leader 0 nextIndex[1]: 350  matchIndex[1]: 349
term 44 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 44 leaderCommit: 349 
------------------------------------------------------
flag 298 term 44 leader 0 nextIndex[2]: 350  matchIndex[2]: 349
term 44 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 44 leaderCommit: 349 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=350
update matchIndex[2]=349
update leader CommitIndex=349
leader log:
[{snapshot 44 349}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=350
update matchIndex[1]=349
update leader CommitIndex=349
leader log:
[{snapshot 44 349}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1420 term 44 leader 0 nextIndex[1]: 350  matchIndex[1]: 349
term 44 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 44 leaderCommit: 349 
------------------------------------------------------
flag 31912 term 44 leader 0 nextIndex[2]: 350  matchIndex[2]: 349
term 44 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 44 leaderCommit: 349 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=350
update matchIndex[2]=349
update leader CommitIndex=349
leader log:
[{snapshot 44 349}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=350
update matchIndex[1]=349
update leader CommitIndex=349
leader log:
[{snapshot 44 349}]
------------------------------------------------------
flag 28480 term 44 leader 0 nextIndex[1]: 350  matchIndex[1]: 349
term 44 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 44 leaderCommit: 349 
------------------------------------------------------
flag 27607 term 44 leader 0 nextIndex[2]: 350  matchIndex[2]: 349
term 44 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 44 leaderCommit: 349 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=350
update matchIndex[2]=349
update leader CommitIndex=349
leader log:
[{snapshot 44 349}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=350
update matchIndex[1]=349
update leader CommitIndex=349
leader log:
[{snapshot 44 349}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38564 term 44 leader 0 nextIndex[1]: 350  matchIndex[1]: 349
term 44 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 44 leaderCommit: 349 
------------------------------------------------------
flag 50793 term 44 leader 0 nextIndex[2]: 350  matchIndex[2]: 349
term 44 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 44 leaderCommit: 349 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=350
update matchIndex[2]=349
update leader CommitIndex=349
leader log:
[{snapshot 44 349}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=350
update matchIndex[1]=349
update leader CommitIndex=349
leader log:
[{snapshot 44 349}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53115 term 44 leader 0 nextIndex[1]: 350  matchIndex[1]: 349
term 44 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 44 leaderCommit: 349 
------------------------------------------------------
flag 31833 term 44 leader 0 nextIndex[2]: 350  matchIndex[2]: 349
term 44 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 44 leaderCommit: 349 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=350
update matchIndex[2]=349
update leader CommitIndex=349
leader log:
[{snapshot 44 349}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=350
update matchIndex[1]=349
update leader CommitIndex=349
leader log:
[{snapshot 44 349}]
------------------------------------------------------
term 44 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 44 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 350 matchIndex[1] 349 
------------------------------------------------------------------------
flag 22141 term 44 leader 0 nextIndex[1]: 350  matchIndex[1]: 349
term 44 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 44 leaderCommit: 349 
------------------------------------------------------
flag 93034 term 44 leader 0 nextIndex[2]: 350  matchIndex[2]: 349
term 44 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 44 leaderCommit: 349 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=350
update matchIndex[2]=349
update leader CommitIndex=349
leader log:
[{snapshot 44 349}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=350
update matchIndex[1]=349
update leader CommitIndex=349
leader log:
[{snapshot 44 349}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95491 term 44 leader 0 nextIndex[1]: 350  matchIndex[1]: 349
term 44 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 44 leaderCommit: 349 
------------------------------------------------------
flag 3672 term 44 leader 0 nextIndex[2]: 350  matchIndex[2]: 349
term 44 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 44 leaderCommit: 349 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=350
update matchIndex[2]=349
update leader CommitIndex=349
leader log:
[{snapshot 44 349}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=350
update matchIndex[1]=349
update leader CommitIndex=349
leader log:
[{snapshot 44 349}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 350->349
------------------------------------------------------
term 44 leader 0 nextIndex[1]: 0  matchIndex[1]: 349
term 44 leader 0 sendInstallSnapshot LastIncludedIndex: 349  LastIncludedTerm: 44
------------------------------------------------------
flag 95531 term 44 leader 0 nextIndex[2]: 350  matchIndex[2]: 349
term 44 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 44 leaderCommit: 349 
------------------------------------------------------
term 44 server 1 InstallSnapshot fail
rf.commitIndex 349 args.LastIncludedIndex 349
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=350
update matchIndex[2]=349
update leader CommitIndex=349
leader log:
[{snapshot 44 349}]
------------------------------------------------------
term 44 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 350 matchIndex[1] 349 
------------------------------------------------------------------------
flag 23448 term 44 leader 0 nextIndex[1]: 350  matchIndex[1]: 349
term 44 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 44 leaderCommit: 349 
------------------------------------------------------
flag 54756 term 44 leader 0 nextIndex[2]: 350  matchIndex[2]: 349
term 44 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 44 leaderCommit: 349 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:349 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=350
update matchIndex[1]=349
update leader CommitIndex=349
leader log:
[{snapshot 44 349}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=350
update matchIndex[2]=349
update leader CommitIndex=349
leader log:
[{snapshot 44 349}]
------------------------------------------------------
flag 23378 term 44 leader 0 nextIndex[1]: 350  matchIndex[1]: 349
term 44 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 44 leaderCommit: 349 
------------------------------------------------------
flag 63275 term 44 leader 0 nextIndex[2]: 350  matchIndex[2]: 349
term 44 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 44 leaderCommit: 349 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:349 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=350
update matchIndex[2]=349
update leader CommitIndex=349
leader log:
[{snapshot 44 349}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=350
update matchIndex[1]=349
update leader CommitIndex=349
leader log:
[{snapshot 44 349}]
------------------------------------------------------
flag 97801 term 44 leader 0 nextIndex[1]: 350  matchIndex[1]: 349
term 44 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 44 leaderCommit: 349 
------------------------------------------------------
flag 42495 term 44 leader 0 nextIndex[2]: 350  matchIndex[2]: 349
term 44 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 44 leaderCommit: 349 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=350
update matchIndex[2]=349
update leader CommitIndex=349
leader log:
[{snapshot 44 349}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=350
update matchIndex[1]=349
update leader CommitIndex=349
leader log:
[{snapshot 44 349}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64132 term 44 leader 0 nextIndex[1]: 350  matchIndex[1]: 349
term 44 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 44 leaderCommit: 349 
------------------------------------------------------
flag 16508 term 44 leader 0 nextIndex[2]: 350  matchIndex[2]: 349
term 44 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 44 leaderCommit: 349 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:349 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=350
update matchIndex[2]=349
update leader CommitIndex=349
leader log:
[{snapshot 44 349}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=350
update matchIndex[1]=349
update leader CommitIndex=349
leader log:
[{snapshot 44 349}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67349 term 44 leader 0 nextIndex[1]: 350  matchIndex[1]: 349
term 44 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 44 leaderCommit: 349 
------------------------------------------------------
flag 50662 term 44 leader 0 nextIndex[2]: 350  matchIndex[2]: 349
term 44 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 44 leaderCommit: 349 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:349 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=350
update matchIndex[1]=349
update leader CommitIndex=349
leader log:
[{snapshot 44 349}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=350
update matchIndex[2]=349
update leader CommitIndex=349
leader log:
[{snapshot 44 349}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81796 term 44 leader 0 nextIndex[1]: 350  matchIndex[1]: 349
term 44 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 44 leaderCommit: 349 
------------------------------------------------------
flag 18362 term 44 leader 0 nextIndex[2]: 350  matchIndex[2]: 349
term 44 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 44 leaderCommit: 349 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=350
update matchIndex[2]=349
update leader CommitIndex=349
leader log:
[{snapshot 44 349}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=350
update matchIndex[1]=349
update leader CommitIndex=349
leader log:
[{snapshot 44 349}]
------------------------------------------------------
flag 22042 term 44 leader 0 nextIndex[1]: 350  matchIndex[1]: 349
term 44 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 44 leaderCommit: 349 
------------------------------------------------------
flag 11293 term 44 leader 0 nextIndex[2]: 350  matchIndex[2]: 349
term 44 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 44 leaderCommit: 349 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:349 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=350
update matchIndex[2]=349
update leader CommitIndex=349
leader log:
[{snapshot 44 349}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=350
update matchIndex[1]=349
update leader CommitIndex=349
leader log:
[{snapshot 44 349}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52031 term 44 leader 0 nextIndex[1]: 350  matchIndex[1]: 349
term 44 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 44 leaderCommit: 349 
------------------------------------------------------
flag 90655 term 44 leader 0 nextIndex[2]: 350  matchIndex[2]: 349
term 44 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 44 leaderCommit: 349 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:349 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=350
update matchIndex[2]=349
update leader CommitIndex=349
leader log:
[{snapshot 44 349}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=350
update matchIndex[1]=349
update leader CommitIndex=349
leader log:
[{snapshot 44 349}]
------------------------------------------------------
term 44 server 1 not vote for server 0, 日志不够新
term 44 server 0 get outdate rpc reply from server 1
flag 55094 term 44 leader 0 nextIndex[1]: 350  matchIndex[1]: 349
term 44 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 44 leaderCommit: 349 
------------------------------------------------------
flag 77550 term 44 leader 0 nextIndex[2]: 350  matchIndex[2]: 349
term 44 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 44 leaderCommit: 349 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=350
update matchIndex[2]=349
update leader CommitIndex=349
leader log:
[{snapshot 44 349}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=350
update matchIndex[1]=349
update leader CommitIndex=349
leader log:
[{snapshot 44 349}]
------------------------------------------------------
flag 59828 term 44 leader 0 nextIndex[1]: 350  matchIndex[1]: 349
term 44 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 44 leaderCommit: 349 
------------------------------------------------------
flag 86649 term 44 leader 0 nextIndex[2]: 350  matchIndex[2]: 349
term 44 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 44 leaderCommit: 349 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=350
update matchIndex[2]=349
update leader CommitIndex=349
leader log:
[{snapshot 44 349}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=350
update matchIndex[1]=349
update leader CommitIndex=349
leader log:
[{snapshot 44 349}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87622 term 44 leader 0 nextIndex[1]: 350  matchIndex[1]: 349
term 44 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 44 leaderCommit: 349 
------------------------------------------------------
flag 24916 term 44 leader 0 nextIndex[2]: 350  matchIndex[2]: 349
term 44 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 44 leaderCommit: 349 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=350
update matchIndex[2]=349
update leader CommitIndex=349
leader log:
[{snapshot 44 349}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=350
update matchIndex[1]=349
update leader CommitIndex=349
leader log:
[{snapshot 44 349}]
------------------------------------------------------
client write log 6056382983692491745 (index 350) to leader 0
flag 37274 term 44 leader 0 nextIndex[1]: 350  matchIndex[1]: 349
term 44 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 44 leaderCommit: 349 
------------------------------------------------------
flag 68141 term 44 leader 0 nextIndex[2]: 350  matchIndex[2]: 349
term 44 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 44 leaderCommit: 349 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:349 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:349 
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=351
update matchIndex[2]=350
update leader CommitIndex=350
leader log:
[{snapshot 44 349} {6056382983692491745 44 350}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=351
update matchIndex[1]=350
update leader CommitIndex=350
leader log:
[{snapshot 44 349} {6056382983692491745 44 350}]
------------------------------------------------------
term 44 server 1 not vote for server 2, 任期不够新
term 44 server 2 get outdate rpc reply from server 1
flag 95447 term 44 leader 0 nextIndex[1]: 351  matchIndex[1]: 350
term 44 leader 0 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 44 leaderCommit: 350 
------------------------------------------------------
flag 42666 term 44 leader 0 nextIndex[2]: 351  matchIndex[2]: 350
term 44 leader 0 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 44 leaderCommit: 350 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:350 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=351
update matchIndex[1]=350
update leader CommitIndex=350
leader log:
[{snapshot 44 349} {6056382983692491745 44 350}]
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:350 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=351
update matchIndex[2]=350
update leader CommitIndex=350
leader log:
[{snapshot 44 349} {6056382983692491745 44 350}]
------------------------------------------------------
flag 9215 term 44 leader 0 nextIndex[1]: 351  matchIndex[1]: 350
term 44 leader 0 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 44 leaderCommit: 350 
------------------------------------------------------
flag 96611 term 44 leader 0 nextIndex[2]: 351  matchIndex[2]: 350
term 44 leader 0 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 44 leaderCommit: 350 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:350 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=351
update matchIndex[1]=350
update leader CommitIndex=350
leader log:
[{snapshot 44 349} {6056382983692491745 44 350}]
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:350 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=351
update matchIndex[2]=350
update leader CommitIndex=350
leader log:
[{snapshot 44 349} {6056382983692491745 44 350}]
------------------------------------------------------
term 44 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 266 term 44 leader 0 nextIndex[1]: 351  matchIndex[1]: 350
term 44 leader 0 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 44 leaderCommit: 350 
------------------------------------------------------
flag 85741 term 44 leader 0 nextIndex[2]: 351  matchIndex[2]: 350
term 44 leader 0 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 44 leaderCommit: 350 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:350 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=351
update matchIndex[1]=350
update leader CommitIndex=350
leader log:
[{snapshot 44 349} {6056382983692491745 44 350}]
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:350 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=351
update matchIndex[2]=350
update leader CommitIndex=350
leader log:
[{snapshot 44 349} {6056382983692491745 44 350}]
------------------------------------------------------
flag 81989 term 44 leader 0 nextIndex[1]: 351  matchIndex[1]: 350
term 44 leader 0 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 44 leaderCommit: 350 
------------------------------------------------------
flag 9750 term 44 leader 0 nextIndex[2]: 351  matchIndex[2]: 350
term 44 leader 0 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 44 leaderCommit: 350 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:350 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=351
update matchIndex[2]=350
update leader CommitIndex=350
leader log:
[{snapshot 44 349} {6056382983692491745 44 350}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:350 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=351
update matchIndex[1]=350
update leader CommitIndex=350
leader log:
[{snapshot 44 349} {6056382983692491745 44 350}]
------------------------------------------------------
flag 91268 term 44 leader 0 nextIndex[1]: 351  matchIndex[1]: 350
term 44 leader 0 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 44 leaderCommit: 350 
------------------------------------------------------
flag 90726 term 44 leader 0 nextIndex[2]: 351  matchIndex[2]: 350
term 44 leader 0 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 44 leaderCommit: 350 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:350 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:350 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=351
update matchIndex[1]=350
update leader CommitIndex=350
leader log:
[{snapshot 44 349} {6056382983692491745 44 350}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=351
update matchIndex[2]=350
update leader CommitIndex=350
leader log:
[{snapshot 44 349} {6056382983692491745 44 350}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 1657335652848153320 (index 351) to leader 0
flag 50849 term 44 leader 0 nextIndex[1]: 351  matchIndex[1]: 350
term 44 leader 0 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 44 leaderCommit: 350 
------------------------------------------------------
flag 13061 term 44 leader 0 nextIndex[2]: 351  matchIndex[2]: 350
term 44 leader 0 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 44 leaderCommit: 350 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:350 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=352
update matchIndex[2]=351
update leader CommitIndex=351
leader log:
[{snapshot 44 349} {6056382983692491745 44 350} {1657335652848153320 44 351}]
------------------------------------------------------
term 44 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 44 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 350 matchIndex[1] 349 
------------------------------------------------------------------------
flag 24256 term 44 leader 0 nextIndex[1]: 350  matchIndex[1]: 349
term 44 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 44 leaderCommit: 351 
------------------------------------------------------
flag 8485 term 44 leader 0 nextIndex[2]: 352  matchIndex[2]: 351
term 44 leader 0 sendAppendEntries PrevLogIndex: 351  PrevLogTerm: 44 leaderCommit: 351 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:351 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=352
update matchIndex[2]=351
update leader CommitIndex=351
leader log:
[{snapshot 44 349} {6056382983692491745 44 350} {1657335652848153320 44 351}]
------------------------------------------------------
client write log 3895117670519364432 (index 352) to leader 0
client write log 6657256116059290541 (index 353) to leader 0
client write log 454401235818938413 (index 354) to leader 0
client write log 2675188543052255111 (index 355) to leader 0
client write log 745306614256587496 (index 356) to leader 0
client write log 5183676754713599201 (index 357) to leader 0
flag 88148 term 44 leader 0 nextIndex[1]: 350  matchIndex[1]: 349
term 44 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 44 leaderCommit: 351 
------------------------------------------------------
flag 22827 term 44 leader 0 nextIndex[2]: 352  matchIndex[2]: 351
term 44 leader 0 sendAppendEntries PrevLogIndex: 351  PrevLogTerm: 44 leaderCommit: 351 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:351 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=358
update matchIndex[2]=357
update leader CommitIndex=357
leader log:
[{snapshot 44 349} {6056382983692491745 44 350} {1657335652848153320 44 351} {3895117670519364432 44 352} {6657256116059290541 44 353} {454401235818938413 44 354} {2675188543052255111 44 355} {745306614256587496 44 356} {5183676754713599201 44 357}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 350->349
------------------------------------------------------
term 44 leader 0 nextIndex[1]: 0  matchIndex[1]: 349
term 44 leader 0 sendInstallSnapshot LastIncludedIndex: 349  LastIncludedTerm: 44
------------------------------------------------------
flag 58808 term 44 leader 0 nextIndex[2]: 358  matchIndex[2]: 357
term 44 leader 0 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 44 leaderCommit: 357 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=358
update matchIndex[2]=357
update leader CommitIndex=357
leader log:
[{snapshot 44 349} {6056382983692491745 44 350} {1657335652848153320 44 351} {3895117670519364432 44 352} {6657256116059290541 44 353} {454401235818938413 44 354} {2675188543052255111 44 355} {745306614256587496 44 356} {5183676754713599201 44 357}]
------------------------------------------------------
!!!!!!connect server 1
client write log 2969666952529880045 (index 358) to leader 0
term 44 server 2 not vote for server 1, 日志不够新
term 44 server 0 not vote for server 1, 日志不够新
term 45 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 46 server 2 vote for server 0
term 46 server 1 vote for server 0
term 46 server 0 get vote from server 2
term 46 server 0 become leader
------------------------------------------------------
term 46 server 0 get outdate rpc reply from server 1
flag 75419 term 46 leader 0 nextIndex[1]: 359  matchIndex[1]: 0
term 46 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 44 leaderCommit: 357 
------------------------------------------------------
flag 3834 term 46 leader 0 nextIndex[2]: 359  matchIndex[2]: 0
term 46 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 44 leaderCommit: 357 
------------------------------------------------------
term 46 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 359->358
------------------------------------------------------
term 46 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 359->358
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40582 term 46 leader 0 nextIndex[1]: 351  matchIndex[1]: 0
term 46 leader 0 sendAppendEntries PrevLogIndex: 350  PrevLogTerm: 44 leaderCommit: 357 
------------------------------------------------------
flag 12087 term 46 leader 0 nextIndex[2]: 358  matchIndex[2]: 0
term 46 leader 0 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 44 leaderCommit: 357 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:350 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=359
update matchIndex[1]=358
update leader CommitIndex=357
leader log:
[{snapshot 44 349} {6056382983692491745 44 350} {1657335652848153320 44 351} {3895117670519364432 44 352} {6657256116059290541 44 353} {454401235818938413 44 354} {2675188543052255111 44 355} {745306614256587496 44 356} {5183676754713599201 44 357} {2969666952529880045 44 358}]
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=359
update matchIndex[2]=358
update leader CommitIndex=357
leader log:
[{snapshot 44 349} {6056382983692491745 44 350} {1657335652848153320 44 351} {3895117670519364432 44 352} {6657256116059290541 44 353} {454401235818938413 44 354} {2675188543052255111 44 355} {745306614256587496 44 356} {5183676754713599201 44 357} {2969666952529880045 44 358}]
------------------------------------------------------
flag 19237 term 46 leader 0 nextIndex[1]: 359  matchIndex[1]: 358
term 46 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 44 leaderCommit: 357 
------------------------------------------------------
flag 11175 term 46 leader 0 nextIndex[2]: 359  matchIndex[2]: 358
term 46 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 44 leaderCommit: 357 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:357 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=359
update matchIndex[2]=358
update leader CommitIndex=357
leader log:
[{snapshot 44 349} {6056382983692491745 44 350} {1657335652848153320 44 351} {3895117670519364432 44 352} {6657256116059290541 44 353} {454401235818938413 44 354} {2675188543052255111 44 355} {745306614256587496 44 356} {5183676754713599201 44 357} {2969666952529880045 44 358}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=359
update matchIndex[1]=358
update leader CommitIndex=357
leader log:
[{snapshot 44 349} {6056382983692491745 44 350} {1657335652848153320 44 351} {3895117670519364432 44 352} {6657256116059290541 44 353} {454401235818938413 44 354} {2675188543052255111 44 355} {745306614256587496 44 356} {5183676754713599201 44 357} {2969666952529880045 44 358}]
------------------------------------------------------
flag 74582 term 46 leader 0 nextIndex[1]: 359  matchIndex[1]: 358
term 46 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 44 leaderCommit: 357 
------------------------------------------------------
flag 10896 term 46 leader 0 nextIndex[2]: 359  matchIndex[2]: 358
term 46 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 44 leaderCommit: 357 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=359
update matchIndex[2]=358
update leader CommitIndex=357
leader log:
[{snapshot 44 349} {6056382983692491745 44 350} {1657335652848153320 44 351} {3895117670519364432 44 352} {6657256116059290541 44 353} {454401235818938413 44 354} {2675188543052255111 44 355} {745306614256587496 44 356} {5183676754713599201 44 357} {2969666952529880045 44 358}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=359
update matchIndex[1]=358
update leader CommitIndex=357
leader log:
[{snapshot 44 349} {6056382983692491745 44 350} {1657335652848153320 44 351} {3895117670519364432 44 352} {6657256116059290541 44 353} {454401235818938413 44 354} {2675188543052255111 44 355} {745306614256587496 44 356} {5183676754713599201 44 357} {2969666952529880045 44 358}]
------------------------------------------------------
flag 45633 term 46 leader 0 nextIndex[1]: 359  matchIndex[1]: 358
term 46 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 44 leaderCommit: 357 
------------------------------------------------------
flag 22009 term 46 leader 0 nextIndex[2]: 359  matchIndex[2]: 358
term 46 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 44 leaderCommit: 357 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:357 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=359
update matchIndex[2]=358
update leader CommitIndex=357
leader log:
[{snapshot 44 349} {6056382983692491745 44 350} {1657335652848153320 44 351} {3895117670519364432 44 352} {6657256116059290541 44 353} {454401235818938413 44 354} {2675188543052255111 44 355} {745306614256587496 44 356} {5183676754713599201 44 357} {2969666952529880045 44 358}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=359
update matchIndex[1]=358
update leader CommitIndex=357
leader log:
[{snapshot 44 349} {6056382983692491745 44 350} {1657335652848153320 44 351} {3895117670519364432 44 352} {6657256116059290541 44 353} {454401235818938413 44 354} {2675188543052255111 44 355} {745306614256587496 44 356} {5183676754713599201 44 357} {2969666952529880045 44 358}]
------------------------------------------------------
flag 72996 term 46 leader 0 nextIndex[1]: 359  matchIndex[1]: 358
term 46 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 44 leaderCommit: 357 
------------------------------------------------------
flag 71600 term 46 leader 0 nextIndex[2]: 359  matchIndex[2]: 358
term 46 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 44 leaderCommit: 357 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=359
update matchIndex[1]=358
update leader CommitIndex=357
leader log:
[{snapshot 44 349} {6056382983692491745 44 350} {1657335652848153320 44 351} {3895117670519364432 44 352} {6657256116059290541 44 353} {454401235818938413 44 354} {2675188543052255111 44 355} {745306614256587496 44 356} {5183676754713599201 44 357} {2969666952529880045 44 358}]
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=359
update matchIndex[2]=358
update leader CommitIndex=357
leader log:
[{snapshot 44 349} {6056382983692491745 44 350} {1657335652848153320 44 351} {3895117670519364432 44 352} {6657256116059290541 44 353} {454401235818938413 44 354} {2675188543052255111 44 355} {745306614256587496 44 356} {5183676754713599201 44 357} {2969666952529880045 44 358}]
------------------------------------------------------
flag 52160 term 46 leader 0 nextIndex[1]: 359  matchIndex[1]: 358
term 46 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 44 leaderCommit: 357 
------------------------------------------------------
flag 4002 term 46 leader 0 nextIndex[2]: 359  matchIndex[2]: 358
term 46 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 44 leaderCommit: 357 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:357 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=359
update matchIndex[2]=358
update leader CommitIndex=357
leader log:
[{snapshot 44 349} {6056382983692491745 44 350} {1657335652848153320 44 351} {3895117670519364432 44 352} {6657256116059290541 44 353} {454401235818938413 44 354} {2675188543052255111 44 355} {745306614256587496 44 356} {5183676754713599201 44 357} {2969666952529880045 44 358}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=359
update matchIndex[1]=358
update leader CommitIndex=357
leader log:
[{snapshot 44 349} {6056382983692491745 44 350} {1657335652848153320 44 351} {3895117670519364432 44 352} {6657256116059290541 44 353} {454401235818938413 44 354} {2675188543052255111 44 355} {745306614256587496 44 356} {5183676754713599201 44 357} {2969666952529880045 44 358}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52698 term 46 leader 0 nextIndex[1]: 359  matchIndex[1]: 358
term 46 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 44 leaderCommit: 357 
------------------------------------------------------
flag 61623 term 46 leader 0 nextIndex[2]: 359  matchIndex[2]: 358
term 46 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 44 leaderCommit: 357 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=359
update matchIndex[1]=358
term 46 server 2 AppendEntries true commitIndex:357 
------------------------------------------------------
update leader CommitIndex=357
leader log:
[{snapshot 44 349} {6056382983692491745 44 350} {1657335652848153320 44 351} {3895117670519364432 44 352} {6657256116059290541 44 353} {454401235818938413 44 354} {2675188543052255111 44 355} {745306614256587496 44 356} {5183676754713599201 44 357} {2969666952529880045 44 358}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=359
update matchIndex[2]=358
update leader CommitIndex=357
leader log:
[{snapshot 44 349} {6056382983692491745 44 350} {1657335652848153320 44 351} {3895117670519364432 44 352} {6657256116059290541 44 353} {454401235818938413 44 354} {2675188543052255111 44 355} {745306614256587496 44 356} {5183676754713599201 44 357} {2969666952529880045 44 358}]
------------------------------------------------------
flag 88513 term 46 leader 0 nextIndex[1]: 359  matchIndex[1]: 358
term 46 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 44 leaderCommit: 357 
------------------------------------------------------
flag 58447 term 46 leader 0 nextIndex[2]: 359  matchIndex[2]: 358
term 46 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 44 leaderCommit: 357 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=359
update matchIndex[1]=358
update leader CommitIndex=357
leader log:
[{snapshot 44 349} {6056382983692491745 44 350} {1657335652848153320 44 351} {3895117670519364432 44 352} {6657256116059290541 44 353} {454401235818938413 44 354} {2675188543052255111 44 355} {745306614256587496 44 356} {5183676754713599201 44 357} {2969666952529880045 44 358}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=359
update matchIndex[2]=358
update leader CommitIndex=357
leader log:
[{snapshot 44 349} {6056382983692491745 44 350} {1657335652848153320 44 351} {3895117670519364432 44 352} {6657256116059290541 44 353} {454401235818938413 44 354} {2675188543052255111 44 355} {745306614256587496 44 356} {5183676754713599201 44 357} {2969666952529880045 44 358}]
------------------------------------------------------
flag 96370 term 46 leader 0 nextIndex[1]: 359  matchIndex[1]: 358
term 46 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 44 leaderCommit: 357 
------------------------------------------------------
flag 79388 term 46 leader 0 nextIndex[2]: 359  matchIndex[2]: 358
term 46 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 44 leaderCommit: 357 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:357 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=359
update matchIndex[2]=358
update leader CommitIndex=357
leader log:
[{snapshot 44 349} {6056382983692491745 44 350} {1657335652848153320 44 351} {3895117670519364432 44 352} {6657256116059290541 44 353} {454401235818938413 44 354} {2675188543052255111 44 355} {745306614256587496 44 356} {5183676754713599201 44 357} {2969666952529880045 44 358}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=359
update matchIndex[1]=358
update leader CommitIndex=357
leader log:
[{snapshot 44 349} {6056382983692491745 44 350} {1657335652848153320 44 351} {3895117670519364432 44 352} {6657256116059290541 44 353} {454401235818938413 44 354} {2675188543052255111 44 355} {745306614256587496 44 356} {5183676754713599201 44 357} {2969666952529880045 44 358}]
------------------------------------------------------
flag 65461 term 46 leader 0 nextIndex[1]: 359  matchIndex[1]: 358
term 46 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 44 leaderCommit: 357 
------------------------------------------------------
flag 96579 term 46 leader 0 nextIndex[2]: 359  matchIndex[2]: 358
term 46 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 44 leaderCommit: 357 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=359
update matchIndex[1]=358
update leader CommitIndex=357
leader log:
[{snapshot 44 349} {6056382983692491745 44 350} {1657335652848153320 44 351} {3895117670519364432 44 352} {6657256116059290541 44 353} {454401235818938413 44 354} {2675188543052255111 44 355} {745306614256587496 44 356} {5183676754713599201 44 357} {2969666952529880045 44 358}]
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=359
update matchIndex[2]=358
update leader CommitIndex=357
leader log:
[{snapshot 44 349} {6056382983692491745 44 350} {1657335652848153320 44 351} {3895117670519364432 44 352} {6657256116059290541 44 353} {454401235818938413 44 354} {2675188543052255111 44 355} {745306614256587496 44 356} {5183676754713599201 44 357} {2969666952529880045 44 358}]
------------------------------------------------------
flag 38163 term 46 leader 0 nextIndex[1]: 359  matchIndex[1]: 358
term 46 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 44 leaderCommit: 357 
------------------------------------------------------
flag 88164 term 46 leader 0 nextIndex[2]: 359  matchIndex[2]: 358
term 46 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 44 leaderCommit: 357 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=359
update matchIndex[2]=358
update leader CommitIndex=357
leader log:
[{snapshot 44 349} {6056382983692491745 44 350} {1657335652848153320 44 351} {3895117670519364432 44 352} {6657256116059290541 44 353} {454401235818938413 44 354} {2675188543052255111 44 355} {745306614256587496 44 356} {5183676754713599201 44 357} {2969666952529880045 44 358}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=359
update matchIndex[1]=358
update leader CommitIndex=357
leader log:
[{snapshot 44 349} {6056382983692491745 44 350} {1657335652848153320 44 351} {3895117670519364432 44 352} {6657256116059290541 44 353} {454401235818938413 44 354} {2675188543052255111 44 355} {745306614256587496 44 356} {5183676754713599201 44 357} {2969666952529880045 44 358}]
------------------------------------------------------
flag 73145 term 46 leader 0 nextIndex[1]: 359  matchIndex[1]: 358
term 46 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 44 leaderCommit: 357 
------------------------------------------------------
flag 50429 term 46 leader 0 nextIndex[2]: 359  matchIndex[2]: 358
term 46 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 44 leaderCommit: 357 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=359
update matchIndex[2]=358
update leader CommitIndex=357
leader log:
[{snapshot 44 349} {6056382983692491745 44 350} {1657335652848153320 44 351} {3895117670519364432 44 352} {6657256116059290541 44 353} {454401235818938413 44 354} {2675188543052255111 44 355} {745306614256587496 44 356} {5183676754713599201 44 357} {2969666952529880045 44 358}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=359
update matchIndex[1]=358
update leader CommitIndex=357
leader log:
[{snapshot 44 349} {6056382983692491745 44 350} {1657335652848153320 44 351} {3895117670519364432 44 352} {6657256116059290541 44 353} {454401235818938413 44 354} {2675188543052255111 44 355} {745306614256587496 44 356} {5183676754713599201 44 357} {2969666952529880045 44 358}]
------------------------------------------------------
flag 20878 term 46 leader 0 nextIndex[1]: 359  matchIndex[1]: 358
term 46 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 44 leaderCommit: 357 
------------------------------------------------------
flag 4911 term 46 leader 0 nextIndex[2]: 359  matchIndex[2]: 358
term 46 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 44 leaderCommit: 357 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=359
update matchIndex[1]=358
update leader CommitIndex=357
leader log:
[{snapshot 44 349} {6056382983692491745 44 350} {1657335652848153320 44 351} {3895117670519364432 44 352} {6657256116059290541 44 353} {454401235818938413 44 354} {2675188543052255111 44 355} {745306614256587496 44 356} {5183676754713599201 44 357} {2969666952529880045 44 358}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=359
update matchIndex[2]=358
update leader CommitIndex=357
leader log:
[{snapshot 44 349} {6056382983692491745 44 350} {1657335652848153320 44 351} {3895117670519364432 44 352} {6657256116059290541 44 353} {454401235818938413 44 354} {2675188543052255111 44 355} {745306614256587496 44 356} {5183676754713599201 44 357} {2969666952529880045 44 358}]
------------------------------------------------------
flag 41592 term 46 leader 0 nextIndex[1]: 359  matchIndex[1]: 358
term 46 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 44 leaderCommit: 357 
------------------------------------------------------
flag 69138 term 46 leader 0 nextIndex[2]: 359  matchIndex[2]: 358
term 46 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 44 leaderCommit: 357 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=359
update matchIndex[2]=358
update leader CommitIndex=357
leader log:
[{snapshot 44 349} {6056382983692491745 44 350} {1657335652848153320 44 351} {3895117670519364432 44 352} {6657256116059290541 44 353} {454401235818938413 44 354} {2675188543052255111 44 355} {745306614256587496 44 356} {5183676754713599201 44 357} {2969666952529880045 44 358}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=359
update matchIndex[1]=358
update leader CommitIndex=357
leader log:
[{snapshot 44 349} {6056382983692491745 44 350} {1657335652848153320 44 351} {3895117670519364432 44 352} {6657256116059290541 44 353} {454401235818938413 44 354} {2675188543052255111 44 355} {745306614256587496 44 356} {5183676754713599201 44 357} {2969666952529880045 44 358}]
------------------------------------------------------
flag 85826 term 46 leader 0 nextIndex[1]: 359  matchIndex[1]: 358
term 46 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 44 leaderCommit: 357 
------------------------------------------------------
flag 71697 term 46 leader 0 nextIndex[2]: 359  matchIndex[2]: 358
term 46 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 44 leaderCommit: 357 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=359
update matchIndex[2]=358
update leader CommitIndex=357
leader log:
[{snapshot 44 349} {6056382983692491745 44 350} {1657335652848153320 44 351} {3895117670519364432 44 352} {6657256116059290541 44 353} {454401235818938413 44 354} {2675188543052255111 44 355} {745306614256587496 44 356} {5183676754713599201 44 357} {2969666952529880045 44 358}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=359
update matchIndex[1]=358
update leader CommitIndex=357
leader log:
[{snapshot 44 349} {6056382983692491745 44 350} {1657335652848153320 44 351} {3895117670519364432 44 352} {6657256116059290541 44 353} {454401235818938413 44 354} {2675188543052255111 44 355} {745306614256587496 44 356} {5183676754713599201 44 357} {2969666952529880045 44 358}]
------------------------------------------------------
flag 17600 term 46 leader 0 nextIndex[1]: 359  matchIndex[1]: 358
term 46 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 44 leaderCommit: 357 
------------------------------------------------------
flag 31273 term 46 leader 0 nextIndex[2]: 359  matchIndex[2]: 358
term 46 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 44 leaderCommit: 357 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=359
update matchIndex[2]=358
update leader CommitIndex=357
leader log:
[{snapshot 44 349} {6056382983692491745 44 350} {1657335652848153320 44 351} {3895117670519364432 44 352} {6657256116059290541 44 353} {454401235818938413 44 354} {2675188543052255111 44 355} {745306614256587496 44 356} {5183676754713599201 44 357} {2969666952529880045 44 358}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=359
update matchIndex[1]=358
update leader CommitIndex=357
leader log:
[{snapshot 44 349} {6056382983692491745 44 350} {1657335652848153320 44 351} {3895117670519364432 44 352} {6657256116059290541 44 353} {454401235818938413 44 354} {2675188543052255111 44 355} {745306614256587496 44 356} {5183676754713599201 44 357} {2969666952529880045 44 358}]
------------------------------------------------------
term 46 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 47954 term 46 leader 0 nextIndex[1]: 359  matchIndex[1]: 358
term 46 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 44 leaderCommit: 357 
------------------------------------------------------
flag 22717 term 46 leader 0 nextIndex[2]: 359  matchIndex[2]: 358
term 46 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 44 leaderCommit: 357 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=359
update matchIndex[1]=358
update leader CommitIndex=357
leader log:
[{snapshot 44 349} {6056382983692491745 44 350} {1657335652848153320 44 351} {3895117670519364432 44 352} {6657256116059290541 44 353} {454401235818938413 44 354} {2675188543052255111 44 355} {745306614256587496 44 356} {5183676754713599201 44 357} {2969666952529880045 44 358}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=359
update matchIndex[2]=358
update leader CommitIndex=357
leader log:
[{snapshot 44 349} {6056382983692491745 44 350} {1657335652848153320 44 351} {3895117670519364432 44 352} {6657256116059290541 44 353} {454401235818938413 44 354} {2675188543052255111 44 355} {745306614256587496 44 356} {5183676754713599201 44 357} {2969666952529880045 44 358}]
------------------------------------------------------
flag 9025 term 46 leader 0 nextIndex[1]: 359  matchIndex[1]: 358
term 46 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 44 leaderCommit: 357 
------------------------------------------------------
flag 50337 term 46 leader 0 nextIndex[2]: 359  matchIndex[2]: 358
term 46 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 44 leaderCommit: 357 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:357 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=359
update matchIndex[2]=358
update leader CommitIndex=357
leader log:
[{snapshot 44 349} {6056382983692491745 44 350} {1657335652848153320 44 351} {3895117670519364432 44 352} {6657256116059290541 44 353} {454401235818938413 44 354} {2675188543052255111 44 355} {745306614256587496 44 356} {5183676754713599201 44 357} {2969666952529880045 44 358}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=359
update matchIndex[1]=358
update leader CommitIndex=357
leader log:
[{snapshot 44 349} {6056382983692491745 44 350} {1657335652848153320 44 351} {3895117670519364432 44 352} {6657256116059290541 44 353} {454401235818938413 44 354} {2675188543052255111 44 355} {745306614256587496 44 356} {5183676754713599201 44 357} {2969666952529880045 44 358}]
------------------------------------------------------
flag 26886 term 46 leader 0 nextIndex[1]: 359  matchIndex[1]: 358
term 46 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 44 leaderCommit: 357 
------------------------------------------------------
flag 57362 term 46 leader 0 nextIndex[2]: 359  matchIndex[2]: 358
term 46 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 44 leaderCommit: 357 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=359
update matchIndex[2]=358
update leader CommitIndex=357
leader log:
term 46 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
[{snapshot 44 349} {6056382983692491745 44 350} {1657335652848153320 44 351} {3895117670519364432 44 352} {6657256116059290541 44 353} {454401235818938413 44 354} {2675188543052255111 44 355} {745306614256587496 44 356} {5183676754713599201 44 357} {2969666952529880045 44 358}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=359
update matchIndex[1]=358
update leader CommitIndex=357
leader log:
[{snapshot 44 349} {6056382983692491745 44 350} {1657335652848153320 44 351} {3895117670519364432 44 352} {6657256116059290541 44 353} {454401235818938413 44 354} {2675188543052255111 44 355} {745306614256587496 44 356} {5183676754713599201 44 357} {2969666952529880045 44 358}]
------------------------------------------------------
client write log 2969666952529880045 (index 359) to leader 0
flag 33518 term 46 leader 0 nextIndex[1]: 359  matchIndex[1]: 358
term 46 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 44 leaderCommit: 357 
------------------------------------------------------
flag 63165 term 46 leader 0 nextIndex[2]: 359  matchIndex[2]: 358
term 46 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 44 leaderCommit: 357 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=360
update matchIndex[1]=359
update leader CommitIndex=359
leader log:
[{snapshot 44 349} {6056382983692491745 44 350} {1657335652848153320 44 351} {3895117670519364432 44 352} {6657256116059290541 44 353} {454401235818938413 44 354} {2675188543052255111 44 355} {745306614256587496 44 356} {5183676754713599201 44 357} {2969666952529880045 44 358} {2969666952529880045 46 359}]
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=360
update matchIndex[2]=359
update leader CommitIndex=359
leader log:
[{snapshot 44 349} {6056382983692491745 44 350} {1657335652848153320 44 351} {3895117670519364432 44 352} {6657256116059290541 44 353} {454401235818938413 44 354} {2675188543052255111 44 355} {745306614256587496 44 356} {5183676754713599201 44 357} {2969666952529880045 44 358} {2969666952529880045 46 359}]
------------------------------------------------------
term 46 Server0 start snapshot! index=359
term 46 server0 snapshot success
lastIncludedIndex=359 lastApplied=359 lastIndex=359
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44655 term 46 leader 0 nextIndex[1]: 360  matchIndex[1]: 359
term 46 leader 0 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 46 leaderCommit: 359 
------------------------------------------------------
flag 47311 term 46 leader 0 nextIndex[2]: 360  matchIndex[2]: 359
term 46 leader 0 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 46 leaderCommit: 359 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:359 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:359 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=360
update matchIndex[1]=359
update leader CommitIndex=359
leader log:
[{snapshot 46 359}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=360
update matchIndex[2]=359
update leader CommitIndex=359
leader log:
[{snapshot 46 359}]
------------------------------------------------------
term 46 Server1 start snapshot! index=359
term 46 server1 snapshot success
lastIncludedIndex=359 lastApplied=359 lastIndex=359
-------------------------------------------------------------
term 46 Server2 start snapshot! index=359
term 46 server2 snapshot success
lastIncludedIndex=359 lastApplied=359 lastIndex=359
-------------------------------------------------------------
flag 47539 term 46 leader 0 nextIndex[1]: 360  matchIndex[1]: 359
term 46 leader 0 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 46 leaderCommit: 359 
------------------------------------------------------
flag 47257 term 46 leader 0 nextIndex[2]: 360  matchIndex[2]: 359
term 46 leader 0 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 46 leaderCommit: 359 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:359 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=360
update matchIndex[2]=359
update leader CommitIndex=359
leader log:
[{snapshot 46 359}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:359 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=360
update matchIndex[1]=359
update leader CommitIndex=359
leader log:
[{snapshot 46 359}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80496 term 46 leader 0 nextIndex[1]: 360  matchIndex[1]: 359
term 46 leader 0 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 46 leaderCommit: 359 
------------------------------------------------------
flag 70267 term 46 leader 0 nextIndex[2]: 360  matchIndex[2]: 359
term 46 leader 0 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 46 leaderCommit: 359 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:359 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=360
update matchIndex[2]=359
update leader CommitIndex=359
leader log:
[{snapshot 46 359}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:359 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=360
update matchIndex[1]=359
update leader CommitIndex=359
leader log:
[{snapshot 46 359}]
------------------------------------------------------
flag 63252 term 46 leader 0 nextIndex[1]: 360  matchIndex[1]: 359
term 46 leader 0 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 46 leaderCommit: 359 
------------------------------------------------------
flag 66701 term 46 leader 0 nextIndex[2]: 360  matchIndex[2]: 359
term 46 leader 0 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 46 leaderCommit: 359 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:359 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:359 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=360
update matchIndex[2]=359
update leader CommitIndex=359
leader log:
[{snapshot 46 359}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=360
update matchIndex[1]=359
update leader CommitIndex=359
leader log:
[{snapshot 46 359}]
------------------------------------------------------
flag 20175 term 46 leader 0 nextIndex[1]: 360  matchIndex[1]: 359
term 46 leader 0 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 46 leaderCommit: 359 
------------------------------------------------------
flag 25139 term 46 leader 0 nextIndex[2]: 360  matchIndex[2]: 359
term 46 leader 0 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 46 leaderCommit: 359 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:359 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=360
update matchIndex[1]=359
update leader CommitIndex=359
leader log:
[{snapshot 46 359}]
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:359 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=360
update matchIndex[2]=359
update leader CommitIndex=359
leader log:
[{snapshot 46 359}]
------------------------------------------------------
flag 33451 term 46 leader 0 nextIndex[1]: 360  matchIndex[1]: 359
term 46 leader 0 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 46 leaderCommit: 359 
------------------------------------------------------
flag 93674 term 46 leader 0 nextIndex[2]: 360  matchIndex[2]: 359
term 46 leader 0 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 46 leaderCommit: 359 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:359 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=360
update matchIndex[2]=359
update leader CommitIndex=359
leader log:
[{snapshot 46 359}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:359 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=360
update matchIndex[1]=359
update leader CommitIndex=359
leader log:
[{snapshot 46 359}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 1566792504167665290 (index 360) to leader 0
flag 67115 term 46 leader 0 nextIndex[1]: 360  matchIndex[1]: 359
term 46 leader 0 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 46 leaderCommit: 359 
------------------------------------------------------
flag 15816 term 46 leader 0 nextIndex[2]: 360  matchIndex[2]: 359
term 46 leader 0 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 46 leaderCommit: 359 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:359 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=361
update matchIndex[2]=360
update leader CommitIndex=360
leader log:
[{snapshot 46 359} {1566792504167665290 46 360}]
------------------------------------------------------
flag 16191 term 46 leader 0 nextIndex[1]: 360  matchIndex[1]: 359
term 46 leader 0 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 46 leaderCommit: 360 
------------------------------------------------------
flag 90789 term 46 leader 0 nextIndex[2]: 361  matchIndex[2]: 360
term 46 leader 0 sendAppendEntries PrevLogIndex: 360  PrevLogTerm: 46 leaderCommit: 360 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:360 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=361
update matchIndex[2]=360
update leader CommitIndex=360
leader log:
[{snapshot 46 359} {1566792504167665290 46 360}]
------------------------------------------------------
client write log 2511359339680469073 (index 361) to leader 0
client write log 7000457760398647324 (index 362) to leader 0
client write log 2517975240731611971 (index 363) to leader 0
client write log 2515587722114700277 (index 364) to leader 0
client write log 4917940249034638612 (index 365) to leader 0
client write log 6908321250063508095 (index 366) to leader 0
client write log 1295017450935047984 (index 367) to leader 0
client write log 4761799683068944443 (index 368) to leader 0
client write log 2214635308305767372 (index 369) to leader 0
client write log 6423465649508949452 (index 370) to leader 0
client write log 5817192893850953566 (index 371) to leader 0
client write log 9121744382515139241 (index 372) to leader 0
client write log 7731720625373338575 (index 373) to leader 0
flag 7236 term 46 leader 0 nextIndex[1]: 360  matchIndex[1]: 359
term 46 leader 0 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 46 leaderCommit: 360 
------------------------------------------------------
flag 40188 term 46 leader 0 nextIndex[2]: 361  matchIndex[2]: 360
term 46 leader 0 sendAppendEntries PrevLogIndex: 360  PrevLogTerm: 46 leaderCommit: 360 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:360 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=374
update matchIndex[2]=373
update leader CommitIndex=373
leader log:
[{snapshot 46 359} {1566792504167665290 46 360} {2511359339680469073 46 361} {7000457760398647324 46 362} {2517975240731611971 46 363} {2515587722114700277 46 364} {4917940249034638612 46 365} {6908321250063508095 46 366} {1295017450935047984 46 367} {4761799683068944443 46 368} {2214635308305767372 46 369} {6423465649508949452 46 370} {5817192893850953566 46 371} {9121744382515139241 46 372} {7731720625373338575 46 373}]
------------------------------------------------------
term 46 Server0 start snapshot! index=369
term 46 server0 snapshot success
lastIncludedIndex=369 lastApplied=370 lastIndex=373
-------------------------------------------------------------
term 46 leader 0 nextIndex[1]: 360  matchIndex[1]: 359
term 46 leader 0 sendInstallSnapshot LastIncludedIndex: 369  LastIncludedTerm: 46
------------------------------------------------------
flag 42412 term 46 leader 0 nextIndex[2]: 374  matchIndex[2]: 373
term 46 leader 0 sendAppendEntries PrevLogIndex: 373  PrevLogTerm: 46 leaderCommit: 373 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:373 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=374
update matchIndex[2]=373
update leader CommitIndex=373
leader log:
[{snapshot 46 369} {6423465649508949452 46 370} {5817192893850953566 46 371} {9121744382515139241 46 372} {7731720625373338575 46 373}]
------------------------------------------------------
term 46 Server2 start snapshot! index=369
term 46 server2 snapshot success
lastIncludedIndex=369 lastApplied=370 lastIndex=373
-------------------------------------------------------------
!!!!!!connect server 1
client write log 872592449923223781 (index 374) to leader 0
term 46 server 2 not vote for server 1, 日志不够新
term 46 server 0 not vote for server 1, 日志不够新
term 48 server 2 vote for server 0
term 48 server 0 get vote from server 2
term 48 server 0 become leader
------------------------------------------------------
term 48 server 1 vote for server 0
term 48 server 0 get outdate rpc reply from server 1
flag 89564 term 48 leader 0 nextIndex[1]: 375  matchIndex[1]: 0
term 48 leader 0 sendAppendEntries PrevLogIndex: 374  PrevLogTerm: 46 leaderCommit: 373 
------------------------------------------------------
flag 98244 term 48 leader 0 nextIndex[2]: 375  matchIndex[2]: 0
term 48 leader 0 sendAppendEntries PrevLogIndex: 374  PrevLogTerm: 46 leaderCommit: 373 
------------------------------------------------------
term 48 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 375->374
------------------------------------------------------
term 48 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 375->374
------------------------------------------------------
term 48 leader 0 nextIndex[1]: 360  matchIndex[1]: 0
term 48 leader 0 sendInstallSnapshot LastIncludedIndex: 369  LastIncludedTerm: 46
------------------------------------------------------
flag 99273 term 48 leader 0 nextIndex[2]: 374  matchIndex[2]: 0
term 48 leader 0 sendAppendEntries PrevLogIndex: 373  PrevLogTerm: 46 leaderCommit: 373 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:373 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=375
update matchIndex[2]=374
update leader CommitIndex=373
leader log:
[{snapshot 46 369} {6423465649508949452 46 370} {5817192893850953566 46 371} {9121744382515139241 46 372} {7731720625373338575 46 373} {872592449923223781 46 374}]
------------------------------------------------------
term 48 server 1 InstallSnapshot success
------------------------------------------------------
term 48 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 370 matchIndex[1] 369 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 369 rf.lastIncludedTerm 46 rf.commitIndex 369 rf.lastApplied 369
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23796 term 48 leader 0 nextIndex[1]: 370  matchIndex[1]: 369
term 48 leader 0 sendAppendEntries PrevLogIndex: 369  PrevLogTerm: 46 leaderCommit: 373 
------------------------------------------------------
flag 28764 term 48 leader 0 nextIndex[2]: 375  matchIndex[2]: 374
term 48 leader 0 sendAppendEntries PrevLogIndex: 374  PrevLogTerm: 46 leaderCommit: 373 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:373 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=375
update matchIndex[2]=374
update leader CommitIndex=373
leader log:
[{snapshot 46 369} {6423465649508949452 46 370} {5817192893850953566 46 371} {9121744382515139241 46 372} {7731720625373338575 46 373} {872592449923223781 46 374}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:369 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=375
update matchIndex[1]=374
update leader CommitIndex=373
leader log:
[{snapshot 46 369} {6423465649508949452 46 370} {5817192893850953566 46 371} {9121744382515139241 46 372} {7731720625373338575 46 373} {872592449923223781 46 374}]
------------------------------------------------------
flag 58029 term 48 leader 0 nextIndex[1]: 375  matchIndex[1]: 374
term 48 leader 0 sendAppendEntries PrevLogIndex: 374  PrevLogTerm: 46 leaderCommit: 373 
------------------------------------------------------
flag 22937 term 48 leader 0 nextIndex[2]: 375  matchIndex[2]: 374
term 48 leader 0 sendAppendEntries PrevLogIndex: 374  PrevLogTerm: 46 leaderCommit: 373 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:373 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=375
update matchIndex[2]=374
update leader CommitIndex=373
leader log:
[{snapshot 46 369} {6423465649508949452 46 370} {5817192893850953566 46 371} {9121744382515139241 46 372} {7731720625373338575 46 373} {872592449923223781 46 374}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:373 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=375
update matchIndex[1]=374
update leader CommitIndex=373
leader log:
[{snapshot 46 369} {6423465649508949452 46 370} {5817192893850953566 46 371} {9121744382515139241 46 372} {7731720625373338575 46 373} {872592449923223781 46 374}]
------------------------------------------------------
flag 3355 term 48 leader 0 nextIndex[1]: 375  matchIndex[1]: 374
term 48 leader 0 sendAppendEntries PrevLogIndex: 374  PrevLogTerm: 46 leaderCommit: 373 
------------------------------------------------------
flag 95924 term 48 leader 0 nextIndex[2]: 375  matchIndex[2]: 374
term 48 leader 0 sendAppendEntries PrevLogIndex: 374  PrevLogTerm: 46 leaderCommit: 373 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:373 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:373 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=375
update matchIndex[2]=374
update leader CommitIndex=373
leader log:
[{snapshot 46 369} {6423465649508949452 46 370} {5817192893850953566 46 371} {9121744382515139241 46 372} {7731720625373338575 46 373} {872592449923223781 46 374}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=375
update matchIndex[1]=374
update leader CommitIndex=373
leader log:
[{snapshot 46 369} {6423465649508949452 46 370} {5817192893850953566 46 371} {9121744382515139241 46 372} {7731720625373338575 46 373} {872592449923223781 46 374}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12329 term 48 leader 0 nextIndex[1]: 375  matchIndex[1]: 374
term 48 leader 0 sendAppendEntries PrevLogIndex: 374  PrevLogTerm: 46 leaderCommit: 373 
------------------------------------------------------
flag 54802 term 48 leader 0 nextIndex[2]: 375  matchIndex[2]: 374
term 48 leader 0 sendAppendEntries PrevLogIndex: 374  PrevLogTerm: 46 leaderCommit: 373 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:373 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=375
update matchIndex[1]=374
update leader CommitIndex=373
leader log:
term 48 server 2 AppendEntries true commitIndex:373 
------------------------------------------------------
[{snapshot 46 369} {6423465649508949452 46 370} {5817192893850953566 46 371} {9121744382515139241 46 372} {7731720625373338575 46 373} {872592449923223781 46 374}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=375
update matchIndex[2]=374
update leader CommitIndex=373
leader log:
[{snapshot 46 369} {6423465649508949452 46 370} {5817192893850953566 46 371} {9121744382515139241 46 372} {7731720625373338575 46 373} {872592449923223781 46 374}]
------------------------------------------------------
flag 83806 term 48 leader 0 nextIndex[1]: 375  matchIndex[1]: 374
term 48 leader 0 sendAppendEntries PrevLogIndex: 374  PrevLogTerm: 46 leaderCommit: 373 
------------------------------------------------------
flag 28020 term 48 leader 0 nextIndex[2]: 375  matchIndex[2]: 374
term 48 leader 0 sendAppendEntries PrevLogIndex: 374  PrevLogTerm: 46 leaderCommit: 373 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:373 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:373 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=375
update matchIndex[1]=374
update leader CommitIndex=373
leader log:
[{snapshot 46 369} {6423465649508949452 46 370} {5817192893850953566 46 371} {9121744382515139241 46 372} {7731720625373338575 46 373} {872592449923223781 46 374}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=375
update matchIndex[2]=374
update leader CommitIndex=373
leader log:
[{snapshot 46 369} {6423465649508949452 46 370} {5817192893850953566 46 371} {9121744382515139241 46 372} {7731720625373338575 46 373} {872592449923223781 46 374}]
------------------------------------------------------
flag 17214 term 48 leader 0 nextIndex[1]: 375  matchIndex[1]: 374
term 48 leader 0 sendAppendEntries PrevLogIndex: 374  PrevLogTerm: 46 leaderCommit: 373 
------------------------------------------------------
flag 30830 term 48 leader 0 nextIndex[2]: 375  matchIndex[2]: 374
term 48 leader 0 sendAppendEntries PrevLogIndex: 374  PrevLogTerm: 46 leaderCommit: 373 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:373 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=375
update matchIndex[2]=374
update leader CommitIndex=373
leader log:
[{snapshot 46 369} {6423465649508949452 46 370} {5817192893850953566 46 371} {9121744382515139241 46 372} {7731720625373338575 46 373} {872592449923223781 46 374}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:373 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=375
update matchIndex[1]=374
update leader CommitIndex=373
leader log:
[{snapshot 46 369} {6423465649508949452 46 370} {5817192893850953566 46 371} {9121744382515139241 46 372} {7731720625373338575 46 373} {872592449923223781 46 374}]
------------------------------------------------------
flag 74869 term 48 leader 0 nextIndex[1]: 375  matchIndex[1]: 374
term 48 leader 0 sendAppendEntries PrevLogIndex: 374  PrevLogTerm: 46 leaderCommit: 373 
------------------------------------------------------
flag 7790 term 48 leader 0 nextIndex[2]: 375  matchIndex[2]: 374
term 48 leader 0 sendAppendEntries PrevLogIndex: 374  PrevLogTerm: 46 leaderCommit: 373 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:373 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:373 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=375
update matchIndex[1]=374
update leader CommitIndex=373
leader log:
[{snapshot 46 369} {6423465649508949452 46 370} {5817192893850953566 46 371} {9121744382515139241 46 372} {7731720625373338575 46 373} {872592449923223781 46 374}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=375
update matchIndex[2]=374
update leader CommitIndex=373
leader log:
[{snapshot 46 369} {6423465649508949452 46 370} {5817192893850953566 46 371} {9121744382515139241 46 372} {7731720625373338575 46 373} {872592449923223781 46 374}]
------------------------------------------------------
flag 51966 term 48 leader 0 nextIndex[1]: 375  matchIndex[1]: 374
term 48 leader 0 sendAppendEntries PrevLogIndex: 374  PrevLogTerm: 46 leaderCommit: 373 
------------------------------------------------------
flag 52275 term 48 leader 0 nextIndex[2]: 375  matchIndex[2]: 374
term 48 leader 0 sendAppendEntries PrevLogIndex: 374  PrevLogTerm: 46 leaderCommit: 373 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:373 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=375
update matchIndex[2]=374
update leader CommitIndex=373
leader log:
[{snapshot 46 369} {6423465649508949452 46 370} {5817192893850953566 46 371} {9121744382515139241 46 372} {7731720625373338575 46 373} {872592449923223781 46 374}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:373 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=375
update matchIndex[1]=374
update leader CommitIndex=373
leader log:
[{snapshot 46 369} {6423465649508949452 46 370} {5817192893850953566 46 371} {9121744382515139241 46 372} {7731720625373338575 46 373} {872592449923223781 46 374}]
------------------------------------------------------
flag 97740 term 48 leader 0 nextIndex[1]: 375  matchIndex[1]: 374
term 48 leader 0 sendAppendEntries PrevLogIndex: 374  PrevLogTerm: 46 leaderCommit: 373 
------------------------------------------------------
flag 52831 term 48 leader 0 nextIndex[2]: 375  matchIndex[2]: 374
term 48 leader 0 sendAppendEntries PrevLogIndex: 374  PrevLogTerm: 46 leaderCommit: 373 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:373 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:373 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=375
update matchIndex[2]=374
update leader CommitIndex=373
leader log:
[{snapshot 46 369} {6423465649508949452 46 370} {5817192893850953566 46 371} {9121744382515139241 46 372} {7731720625373338575 46 373} {872592449923223781 46 374}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=375
update matchIndex[1]=374
update leader CommitIndex=373
leader log:
[{snapshot 46 369} {6423465649508949452 46 370} {5817192893850953566 46 371} {9121744382515139241 46 372} {7731720625373338575 46 373} {872592449923223781 46 374}]
------------------------------------------------------
flag 71708 term 48 leader 0 nextIndex[1]: 375  matchIndex[1]: 374
term 48 leader 0 sendAppendEntries PrevLogIndex: 374  PrevLogTerm: 46 leaderCommit: 373 
------------------------------------------------------
flag 60610 term 48 leader 0 nextIndex[2]: 375  matchIndex[2]: 374
term 48 leader 0 sendAppendEntries PrevLogIndex: 374  PrevLogTerm: 46 leaderCommit: 373 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:373 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:373 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=375
update matchIndex[2]=374
update leader CommitIndex=373
leader log:
[{snapshot 46 369} {6423465649508949452 46 370} {5817192893850953566 46 371} {9121744382515139241 46 372} {7731720625373338575 46 373} {872592449923223781 46 374}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=375
update matchIndex[1]=374
update leader CommitIndex=373
leader log:
[{snapshot 46 369} {6423465649508949452 46 370} {5817192893850953566 46 371} {9121744382515139241 46 372} {7731720625373338575 46 373} {872592449923223781 46 374}]
------------------------------------------------------
flag 36729 term 48 leader 0 nextIndex[1]: 375  matchIndex[1]: 374
term 48 leader 0 sendAppendEntries PrevLogIndex: 374  PrevLogTerm: 46 leaderCommit: 373 
------------------------------------------------------
flag 89241 term 48 leader 0 nextIndex[2]: 375  matchIndex[2]: 374
term 48 leader 0 sendAppendEntries PrevLogIndex: 374  PrevLogTerm: 46 leaderCommit: 373 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:373 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=375
term 48 server 1 AppendEntries true commitIndex:373 
------------------------------------------------------
update matchIndex[2]=374
update leader CommitIndex=373
leader log:
[{snapshot 46 369} {6423465649508949452 46 370} {5817192893850953566 46 371} {9121744382515139241 46 372} {7731720625373338575 46 373} {872592449923223781 46 374}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=375
update matchIndex[1]=374
update leader CommitIndex=373
leader log:
[{snapshot 46 369} {6423465649508949452 46 370} {5817192893850953566 46 371} {9121744382515139241 46 372} {7731720625373338575 46 373} {872592449923223781 46 374}]
------------------------------------------------------
flag 55656 term 48 leader 0 nextIndex[1]: 375  matchIndex[1]: 374
term 48 leader 0 sendAppendEntries PrevLogIndex: 374  PrevLogTerm: 46 leaderCommit: 373 
------------------------------------------------------
flag 15882 term 48 leader 0 nextIndex[2]: 375  matchIndex[2]: 374
term 48 leader 0 sendAppendEntries PrevLogIndex: 374  PrevLogTerm: 46 leaderCommit: 373 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:373 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:373 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=375
update matchIndex[2]=374
update leader CommitIndex=373
leader log:
[{snapshot 46 369} {6423465649508949452 46 370} {5817192893850953566 46 371} {9121744382515139241 46 372} {7731720625373338575 46 373} {872592449923223781 46 374}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=375
update matchIndex[1]=374
update leader CommitIndex=373
leader log:
[{snapshot 46 369} {6423465649508949452 46 370} {5817192893850953566 46 371} {9121744382515139241 46 372} {7731720625373338575 46 373} {872592449923223781 46 374}]
------------------------------------------------------
flag 28783 term 48 leader 0 nextIndex[1]: 375  matchIndex[1]: 374
term 48 leader 0 sendAppendEntries PrevLogIndex: 374  PrevLogTerm: 46 leaderCommit: 373 
------------------------------------------------------
flag 6391 term 48 leader 0 nextIndex[2]: 375  matchIndex[2]: 374
term 48 leader 0 sendAppendEntries PrevLogIndex: 374  PrevLogTerm: 46 leaderCommit: 373 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:373 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=375
update matchIndex[2]=374
update leader CommitIndex=373
leader log:
[{snapshot 46 369} {6423465649508949452 46 370} {5817192893850953566 46 371} {9121744382515139241 46 372} {7731720625373338575 46 373} {872592449923223781 46 374}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:373 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=375
update matchIndex[1]=374
update leader CommitIndex=373
leader log:
[{snapshot 46 369} {6423465649508949452 46 370} {5817192893850953566 46 371} {9121744382515139241 46 372} {7731720625373338575 46 373} {872592449923223781 46 374}]
------------------------------------------------------
flag 63016 term 48 leader 0 nextIndex[1]: 375  matchIndex[1]: 374
term 48 leader 0 sendAppendEntries PrevLogIndex: 374  PrevLogTerm: 46 leaderCommit: 373 
------------------------------------------------------
flag 70014 term 48 leader 0 nextIndex[2]: 375  matchIndex[2]: 374
term 48 leader 0 sendAppendEntries PrevLogIndex: 374  PrevLogTerm: 46 leaderCommit: 373 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:373 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=375
update matchIndex[2]=374
update leader CommitIndex=373
leader log:
[{snapshot 46 369} {6423465649508949452 46 370} {5817192893850953566 46 371} {9121744382515139241 46 372} {7731720625373338575 46 373} {872592449923223781 46 374}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:373 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=375
update matchIndex[1]=374
update leader CommitIndex=373
leader log:
[{snapshot 46 369} {6423465649508949452 46 370} {5817192893850953566 46 371} {9121744382515139241 46 372} {7731720625373338575 46 373} {872592449923223781 46 374}]
------------------------------------------------------
flag 98447 term 48 leader 0 nextIndex[1]: 375  matchIndex[1]: 374
term 48 leader 0 sendAppendEntries PrevLogIndex: 374  PrevLogTerm: 46 leaderCommit: 373 
------------------------------------------------------
flag 85315 term 48 leader 0 nextIndex[2]: 375  matchIndex[2]: 374
term 48 leader 0 sendAppendEntries PrevLogIndex: 374  PrevLogTerm: 46 leaderCommit: 373 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:373 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=375
update matchIndex[2]=374
update leader CommitIndex=373
leader log:
[{snapshot 46 369} {6423465649508949452 46 370} {5817192893850953566 46 371} {9121744382515139241 46 372} {7731720625373338575 46 373} {872592449923223781 46 374}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:373 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=375
update matchIndex[1]=374
update leader CommitIndex=373
leader log:
[{snapshot 46 369} {6423465649508949452 46 370} {5817192893850953566 46 371} {9121744382515139241 46 372} {7731720625373338575 46 373} {872592449923223781 46 374}]
------------------------------------------------------
flag 43992 term 48 leader 0 nextIndex[1]: 375  matchIndex[1]: 374
term 48 leader 0 sendAppendEntries PrevLogIndex: 374  PrevLogTerm: 46 leaderCommit: 373 
------------------------------------------------------
flag 54441 term 48 leader 0 nextIndex[2]: 375  matchIndex[2]: 374
term 48 leader 0 sendAppendEntries PrevLogIndex: 374  PrevLogTerm: 46 leaderCommit: 373 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:373 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:373 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=375
update matchIndex[2]=374
update leader CommitIndex=373
leader log:
[{snapshot 46 369} {6423465649508949452 46 370} {5817192893850953566 46 371} {9121744382515139241 46 372} {7731720625373338575 46 373} {872592449923223781 46 374}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=375
update matchIndex[1]=374
update leader CommitIndex=373
leader log:
[{snapshot 46 369} {6423465649508949452 46 370} {5817192893850953566 46 371} {9121744382515139241 46 372} {7731720625373338575 46 373} {872592449923223781 46 374}]
------------------------------------------------------
flag 94587 term 48 leader 0 nextIndex[1]: 375  matchIndex[1]: 374
term 48 leader 0 sendAppendEntries PrevLogIndex: 374  PrevLogTerm: 46 leaderCommit: 373 
------------------------------------------------------
flag 88626 term 48 leader 0 nextIndex[2]: 375  matchIndex[2]: 374
term 48 leader 0 sendAppendEntries PrevLogIndex: 374  PrevLogTerm: 46 leaderCommit: 373 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:373 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:373 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=375
update matchIndex[2]=374
update leader CommitIndex=373
leader log:
[{snapshot 46 369} {6423465649508949452 46 370} {5817192893850953566 46 371} {9121744382515139241 46 372} {7731720625373338575 46 373} {872592449923223781 46 374}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=375
update matchIndex[1]=374
update leader CommitIndex=373
leader log:
[{snapshot 46 369} {6423465649508949452 46 370} {5817192893850953566 46 371} {9121744382515139241 46 372} {7731720625373338575 46 373} {872592449923223781 46 374}]
------------------------------------------------------
client write log 872592449923223781 (index 375) to leader 0
flag 55033 term 48 leader 0 nextIndex[1]: 375  matchIndex[1]: 374
term 48 leader 0 sendAppendEntries PrevLogIndex: 374  PrevLogTerm: 46 leaderCommit: 373 
------------------------------------------------------
flag 24729 term 48 leader 0 nextIndex[2]: 375  matchIndex[2]: 374
term 48 leader 0 sendAppendEntries PrevLogIndex: 374  PrevLogTerm: 46 leaderCommit: 373 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:373 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=376
update matchIndex[2]=375
update leader CommitIndex=375
leader log:
[{snapshot 46 369} {6423465649508949452 46 370} {5817192893850953566 46 371} {9121744382515139241 46 372} {7731720625373338575 46 373} {872592449923223781 46 374} {872592449923223781 48 375}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:373 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=376
update matchIndex[1]=375
update leader CommitIndex=375
leader log:
[{snapshot 46 369} {6423465649508949452 46 370} {5817192893850953566 46 371} {9121744382515139241 46 372} {7731720625373338575 46 373} {872592449923223781 46 374} {872592449923223781 48 375}]
------------------------------------------------------
flag 63179 term 48 leader 0 nextIndex[1]: 376  matchIndex[1]: 375
term 48 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 48 leaderCommit: 375 
------------------------------------------------------
flag 36777 term 48 leader 0 nextIndex[2]: 376  matchIndex[2]: 375
term 48 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 48 leaderCommit: 375 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:375 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=376
update matchIndex[2]=375
update leader CommitIndex=375
leader log:
term 48 server 1 AppendEntries true commitIndex:375 
------------------------------------------------------
[{snapshot 46 369} {6423465649508949452 46 370} {5817192893850953566 46 371} {9121744382515139241 46 372} {7731720625373338575 46 373} {872592449923223781 46 374} {872592449923223781 48 375}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=376
update matchIndex[1]=375
update leader CommitIndex=375
leader log:
[{snapshot 46 369} {6423465649508949452 46 370} {5817192893850953566 46 371} {9121744382515139241 46 372} {7731720625373338575 46 373} {872592449923223781 46 374} {872592449923223781 48 375}]
------------------------------------------------------
flag 36441 term 48 leader 0 nextIndex[1]: 376  matchIndex[1]: 375
term 48 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 48 leaderCommit: 375 
------------------------------------------------------
flag 22126 term 48 leader 0 nextIndex[2]: 376  matchIndex[2]: 375
term 48 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 48 leaderCommit: 375 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:375 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=376
update matchIndex[1]=375
update leader CommitIndex=375
leader log:
[{snapshot 46 369} {6423465649508949452 46 370} {5817192893850953566 46 371} {9121744382515139241 46 372} {7731720625373338575 46 373} {872592449923223781 46 374} {872592449923223781 48 375}]
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:375 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=376
update matchIndex[2]=375
update leader CommitIndex=375
leader log:
[{snapshot 46 369} {6423465649508949452 46 370} {5817192893850953566 46 371} {9121744382515139241 46 372} {7731720625373338575 46 373} {872592449923223781 46 374} {872592449923223781 48 375}]
------------------------------------------------------
flag 18274 term 48 leader 0 nextIndex[1]: 376  matchIndex[1]: 375
term 48 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 48 leaderCommit: 375 
------------------------------------------------------
flag 53853 term 48 leader 0 nextIndex[2]: 376  matchIndex[2]: 375
term 48 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 48 leaderCommit: 375 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:375 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=376
update matchIndex[2]=375
update leader CommitIndex=375
leader log:
[{snapshot 46 369} {6423465649508949452 46 370} {5817192893850953566 46 371} {9121744382515139241 46 372} {7731720625373338575 46 373} {872592449923223781 46 374} {872592449923223781 48 375}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:375 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=376
update matchIndex[1]=375
update leader CommitIndex=375
leader log:
[{snapshot 46 369} {6423465649508949452 46 370} {5817192893850953566 46 371} {9121744382515139241 46 372} {7731720625373338575 46 373} {872592449923223781 46 374} {872592449923223781 48 375}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52655 term 48 leader 0 nextIndex[1]: 376  matchIndex[1]: 375
term 48 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 48 leaderCommit: 375 
------------------------------------------------------
flag 8491 term 48 leader 0 nextIndex[2]: 376  matchIndex[2]: 375
term 48 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 48 leaderCommit: 375 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:375 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:375 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=376
update matchIndex[2]=375
update leader CommitIndex=375
leader log:
[{snapshot 46 369} {6423465649508949452 46 370} {5817192893850953566 46 371} {9121744382515139241 46 372} {7731720625373338575 46 373} {872592449923223781 46 374} {872592449923223781 48 375}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=376
update matchIndex[1]=375
update leader CommitIndex=375
leader log:
[{snapshot 46 369} {6423465649508949452 46 370} {5817192893850953566 46 371} {9121744382515139241 46 372} {7731720625373338575 46 373} {872592449923223781 46 374} {872592449923223781 48 375}]
------------------------------------------------------
flag 75033 term 48 leader 0 nextIndex[1]: 376  matchIndex[1]: 375
term 48 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 48 leaderCommit: 375 
------------------------------------------------------
flag 39572 term 48 leader 0 nextIndex[2]: 376  matchIndex[2]: 375
term 48 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 48 leaderCommit: 375 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:375 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=376
update matchIndex[2]=375
update leader CommitIndex=375
leader log:
[{snapshot 46 369} {6423465649508949452 46 370} {5817192893850953566 46 371} {9121744382515139241 46 372} {7731720625373338575 46 373} {872592449923223781 46 374} {872592449923223781 48 375}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:375 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=376
update matchIndex[1]=375
update leader CommitIndex=375
leader log:
[{snapshot 46 369} {6423465649508949452 46 370} {5817192893850953566 46 371} {9121744382515139241 46 372} {7731720625373338575 46 373} {872592449923223781 46 374} {872592449923223781 48 375}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 67704 term 48 leader 0 nextIndex[1]: 376  matchIndex[1]: 375
term 48 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 48 leaderCommit: 375 
------------------------------------------------------
flag 67212 term 48 leader 0 nextIndex[2]: 376  matchIndex[2]: 375
term 48 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 48 leaderCommit: 375 
------------------------------------------------------
flag 70914 term 48 leader 0 nextIndex[1]: 376  matchIndex[1]: 375
term 48 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 48 leaderCommit: 375 
------------------------------------------------------
flag 22019 term 48 leader 0 nextIndex[2]: 376  matchIndex[2]: 375
term 48 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 48 leaderCommit: 375 
------------------------------------------------------
flag 45303 term 48 leader 0 nextIndex[1]: 376  matchIndex[1]: 375
term 48 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 48 leaderCommit: 375 
------------------------------------------------------
flag 27932 term 48 leader 0 nextIndex[2]: 376  matchIndex[2]: 375
term 48 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 48 leaderCommit: 375 
------------------------------------------------------
flag 37094 term 48 leader 0 nextIndex[1]: 376  matchIndex[1]: 375
term 48 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 48 leaderCommit: 375 
------------------------------------------------------
flag 78602 term 48 leader 0 nextIndex[2]: 376  matchIndex[2]: 375
term 48 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 48 leaderCommit: 375 
------------------------------------------------------
term 48 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 49 server 2 vote for server 1
term 49 server 1 get vote from server 2
term 49 server 1 become leader
------------------------------------------------------
client write log 3588002525406782824 (index 376) to leader 1
flag 95017 term 49 leader 1 nextIndex[0]: 376  matchIndex[0]: 0
term 49 leader 1 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 48 leaderCommit: 375 
------------------------------------------------------
flag 10224 term 49 leader 1 nextIndex[2]: 376  matchIndex[2]: 0
term 49 leader 1 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 48 leaderCommit: 375 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:375 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=377
update matchIndex[2]=376
update leader CommitIndex=376
leader log:
[{snapshot 46 369} {6423465649508949452 46 370} {5817192893850953566 46 371} {9121744382515139241 46 372} {7731720625373338575 46 373} {872592449923223781 46 374} {872592449923223781 48 375} {3588002525406782824 49 376}]
------------------------------------------------------
flag 69718 term 48 leader 0 nextIndex[1]: 376  matchIndex[1]: 375
term 48 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 48 leaderCommit: 375 
------------------------------------------------------
flag 86535 term 48 leader 0 nextIndex[2]: 376  matchIndex[2]: 375
term 48 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 48 leaderCommit: 375 
------------------------------------------------------
flag 49986 term 49 leader 1 nextIndex[0]: 376  matchIndex[0]: 0
term 49 leader 1 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 48 leaderCommit: 376 
------------------------------------------------------
flag 90503 term 49 leader 1 nextIndex[2]: 377  matchIndex[2]: 376
term 49 leader 1 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 49 leaderCommit: 376 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:376 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=377
update matchIndex[2]=376
update leader CommitIndex=376
leader log:
[{snapshot 46 369} {6423465649508949452 46 370} {5817192893850953566 46 371} {9121744382515139241 46 372} {7731720625373338575 46 373} {872592449923223781 46 374} {872592449923223781 48 375} {3588002525406782824 49 376}]
------------------------------------------------------
client write log 6796615950581926530 (index 377) to leader 1
client write log 6024372926597158782 (index 378) to leader 1
client write log 816697670651290939 (index 379) to leader 1
client write log 2118440363444515225 (index 380) to leader 1
client write log 7795566500332746538 (index 381) to leader 1
client write log 2327900500128192668 (index 382) to leader 1
client write log 5000457608136457979 (index 383) to leader 1
client write log 3573546350353608063 (index 384) to leader 1
client write log 5896121439278361959 (index 385) to leader 1
client write log 5868290996179882104 (index 386) to leader 1
flag 81735 term 48 leader 0 nextIndex[1]: 376  matchIndex[1]: 375
term 48 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 48 leaderCommit: 375 
------------------------------------------------------
flag 54988 term 48 leader 0 nextIndex[2]: 376  matchIndex[2]: 375
term 48 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 48 leaderCommit: 375 
------------------------------------------------------
flag 50419 term 49 leader 1 nextIndex[0]: 376  matchIndex[0]: 0
term 49 leader 1 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 48 leaderCommit: 376 
------------------------------------------------------
flag 61101 term 49 leader 1 nextIndex[2]: 377  matchIndex[2]: 376
term 49 leader 1 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 49 leaderCommit: 376 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:376 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=387
update matchIndex[2]=386
update leader CommitIndex=386
leader log:
[{snapshot 46 369} {6423465649508949452 46 370} {5817192893850953566 46 371} {9121744382515139241 46 372} {7731720625373338575 46 373} {872592449923223781 46 374} {872592449923223781 48 375} {3588002525406782824 49 376} {6796615950581926530 49 377} {6024372926597158782 49 378} {816697670651290939 49 379} {2118440363444515225 49 380} {7795566500332746538 49 381} {2327900500128192668 49 382} {5000457608136457979 49 383} {3573546350353608063 49 384} {5896121439278361959 49 385} {5868290996179882104 49 386}]
------------------------------------------------------
term 49 Server1 start snapshot! index=379
term 49 server1 snapshot success
lastIncludedIndex=379 lastApplied=380 lastIndex=386
-------------------------------------------------------------
flag 44958 term 48 leader 0 nextIndex[1]: 376  matchIndex[1]: 375
term 48 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 48 leaderCommit: 375 
------------------------------------------------------
flag 96233 term 48 leader 0 nextIndex[2]: 376  matchIndex[2]: 375
term 48 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 48 leaderCommit: 375 
------------------------------------------------------
term 49 leader 1 nextIndex[0]: 376  matchIndex[0]: 0
term 49 leader 1 sendInstallSnapshot LastIncludedIndex: 379  LastIncludedTerm: 49
------------------------------------------------------
flag 7107 term 49 leader 1 nextIndex[2]: 387  matchIndex[2]: 386
term 49 leader 1 sendAppendEntries PrevLogIndex: 386  PrevLogTerm: 49 leaderCommit: 386 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:386 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=387
update matchIndex[2]=386
update leader CommitIndex=386
leader log:
[{snapshot 49 379} {2118440363444515225 49 380} {7795566500332746538 49 381} {2327900500128192668 49 382} {5000457608136457979 49 383} {3573546350353608063 49 384} {5896121439278361959 49 385} {5868290996179882104 49 386}]
------------------------------------------------------
term 49 Server2 start snapshot! index=379
term 49 server2 snapshot success
lastIncludedIndex=379 lastApplied=380 lastIndex=386
-------------------------------------------------------------
!!!!!!connect server 0
client write log 7705585199413591760 (index 387) to leader 1
flag 84095 term 48 leader 0 nextIndex[1]: 376  matchIndex[1]: 375
term 48 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 48 leaderCommit: 375 
------------------------------------------------------
flag 15378 term 48 leader 0 nextIndex[2]: 376  matchIndex[2]: 375
term 48 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 48 leaderCommit: 375 
------------------------------------------------------
term 49 server 2 AppendEntries false 领导者任期过期 args.Term 48
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 49 server 1 AppendEntries false 领导者任期过期 args.Term 48
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 49 leader 1 nextIndex[0]: 376  matchIndex[0]: 0
term 49 leader 1 sendInstallSnapshot LastIncludedIndex: 379  LastIncludedTerm: 49
------------------------------------------------------
flag 87770 term 49 leader 1 nextIndex[2]: 387  matchIndex[2]: 386
term 49 leader 1 sendAppendEntries PrevLogIndex: 386  PrevLogTerm: 49 leaderCommit: 386 
------------------------------------------------------
term 49 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 379 rf.lastIncludedTerm 49 rf.commitIndex 379 rf.lastApplied 379
term 49 server 2 AppendEntries true commitIndex:386 
------------------------------------------------------
term 49 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 380 matchIndex[0] 379 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=388
update matchIndex[2]=387
update leader CommitIndex=387
leader log:
[{snapshot 49 379} {2118440363444515225 49 380} {7795566500332746538 49 381} {2327900500128192668 49 382} {5000457608136457979 49 383} {3573546350353608063 49 384} {5896121439278361959 49 385} {5868290996179882104 49 386} {7705585199413591760 49 387}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 380->379
------------------------------------------------------
term 49 leader 1 nextIndex[0]: 0  matchIndex[0]: 379
term 49 leader 1 sendInstallSnapshot LastIncludedIndex: 379  LastIncludedTerm: 49
------------------------------------------------------
flag 48592 term 49 leader 1 nextIndex[2]: 388  matchIndex[2]: 387
term 49 leader 1 sendAppendEntries PrevLogIndex: 387  PrevLogTerm: 49 leaderCommit: 387 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:387 
------------------------------------------------------
term 49 server 0 InstallSnapshot fail
rf.commitIndex 379 args.LastIncludedIndex 379
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=388
update matchIndex[2]=387
update leader CommitIndex=387
leader log:
[{snapshot 49 379} {2118440363444515225 49 380} {7795566500332746538 49 381} {2327900500128192668 49 382} {5000457608136457979 49 383} {3573546350353608063 49 384} {5896121439278361959 49 385} {5868290996179882104 49 386} {7705585199413591760 49 387}]
------------------------------------------------------
term 49 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 380 matchIndex[0] 379 
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71203 term 49 leader 1 nextIndex[0]: 380  matchIndex[0]: 379
term 49 leader 1 sendAppendEntries PrevLogIndex: 379  PrevLogTerm: 49 leaderCommit: 387 
------------------------------------------------------
flag 52817 term 49 leader 1 nextIndex[2]: 388  matchIndex[2]: 387
term 49 leader 1 sendAppendEntries PrevLogIndex: 387  PrevLogTerm: 49 leaderCommit: 387 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:387 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=388
update matchIndex[2]=387
update leader CommitIndex=387
leader log:
[{snapshot 49 379} {2118440363444515225 49 380} {7795566500332746538 49 381} {2327900500128192668 49 382} {5000457608136457979 49 383} {3573546350353608063 49 384} {5896121439278361959 49 385} {5868290996179882104 49 386} {7705585199413591760 49 387}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:379 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=388
update matchIndex[0]=387
update leader CommitIndex=387
leader log:
[{snapshot 49 379} {2118440363444515225 49 380} {7795566500332746538 49 381} {2327900500128192668 49 382} {5000457608136457979 49 383} {3573546350353608063 49 384} {5896121439278361959 49 385} {5868290996179882104 49 386} {7705585199413591760 49 387}]
------------------------------------------------------
flag 65454 term 49 leader 1 nextIndex[0]: 388  matchIndex[0]: 387
term 49 leader 1 sendAppendEntries PrevLogIndex: 387  PrevLogTerm: 49 leaderCommit: 387 
------------------------------------------------------
flag 42706 term 49 leader 1 nextIndex[2]: 388  matchIndex[2]: 387
term 49 leader 1 sendAppendEntries PrevLogIndex: 387  PrevLogTerm: 49 leaderCommit: 387 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:387 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=388
update matchIndex[2]=387
update leader CommitIndex=387
leader log:
[{snapshot 49 379} {2118440363444515225 49 380} {7795566500332746538 49 381} {2327900500128192668 49 382} {5000457608136457979 49 383} {3573546350353608063 49 384} {5896121439278361959 49 385} {5868290996179882104 49 386} {7705585199413591760 49 387}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:387 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=388
update matchIndex[0]=387
update leader CommitIndex=387
leader log:
[{snapshot 49 379} {2118440363444515225 49 380} {7795566500332746538 49 381} {2327900500128192668 49 382} {5000457608136457979 49 383} {3573546350353608063 49 384} {5896121439278361959 49 385} {5868290996179882104 49 386} {7705585199413591760 49 387}]
------------------------------------------------------
flag 6707 term 49 leader 1 nextIndex[0]: 388  matchIndex[0]: 387
term 49 leader 1 sendAppendEntries PrevLogIndex: 387  PrevLogTerm: 49 leaderCommit: 387 
------------------------------------------------------
flag 53432 term 49 leader 1 nextIndex[2]: 388  matchIndex[2]: 387
term 49 leader 1 sendAppendEntries PrevLogIndex: 387  PrevLogTerm: 49 leaderCommit: 387 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:387 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=388
update matchIndex[2]=387
update leader CommitIndex=387
leader log:
[{snapshot 49 379} {2118440363444515225 49 380} {7795566500332746538 49 381} {2327900500128192668 49 382} {5000457608136457979 49 383} {3573546350353608063 49 384} {5896121439278361959 49 385} {5868290996179882104 49 386} {7705585199413591760 49 387}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:387 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=388
update matchIndex[0]=387
update leader CommitIndex=387
leader log:
[{snapshot 49 379} {2118440363444515225 49 380} {7795566500332746538 49 381} {2327900500128192668 49 382} {5000457608136457979 49 383} {3573546350353608063 49 384} {5896121439278361959 49 385} {5868290996179882104 49 386} {7705585199413591760 49 387}]
------------------------------------------------------
flag 96869 term 49 leader 1 nextIndex[0]: 388  matchIndex[0]: 387
term 49 leader 1 sendAppendEntries PrevLogIndex: 387  PrevLogTerm: 49 leaderCommit: 387 
------------------------------------------------------
flag 92787 term 49 leader 1 nextIndex[2]: 388  matchIndex[2]: 387
term 49 leader 1 sendAppendEntries PrevLogIndex: 387  PrevLogTerm: 49 leaderCommit: 387 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:387 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=388
update matchIndex[2]=387
update leader CommitIndex=387
leader log:
[{snapshot 49 379} {2118440363444515225 49 380} {7795566500332746538 49 381} {2327900500128192668 49 382} {5000457608136457979 49 383} {3573546350353608063 49 384} {5896121439278361959 49 385} {5868290996179882104 49 386} {7705585199413591760 49 387}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:387 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=388
update matchIndex[0]=387
update leader CommitIndex=387
leader log:
[{snapshot 49 379} {2118440363444515225 49 380} {7795566500332746538 49 381} {2327900500128192668 49 382} {5000457608136457979 49 383} {3573546350353608063 49 384} {5896121439278361959 49 385} {5868290996179882104 49 386} {7705585199413591760 49 387}]
------------------------------------------------------
flag 72843 term 49 leader 1 nextIndex[0]: 388  matchIndex[0]: 387
term 49 leader 1 sendAppendEntries PrevLogIndex: 387  PrevLogTerm: 49 leaderCommit: 387 
------------------------------------------------------
flag 51686 term 49 leader 1 nextIndex[2]: 388  matchIndex[2]: 387
term 49 leader 1 sendAppendEntries PrevLogIndex: 387  PrevLogTerm: 49 leaderCommit: 387 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:387 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=388
update matchIndex[2]=387
update leader CommitIndex=387
leader log:
[{snapshot 49 379} {2118440363444515225 49 380} {7795566500332746538 49 381} {2327900500128192668 49 382} {5000457608136457979 49 383} {3573546350353608063 49 384} {5896121439278361959 49 385} {5868290996179882104 49 386} {7705585199413591760 49 387}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:387 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=388
update matchIndex[0]=387
update leader CommitIndex=387
leader log:
[{snapshot 49 379} {2118440363444515225 49 380} {7795566500332746538 49 381} {2327900500128192668 49 382} {5000457608136457979 49 383} {3573546350353608063 49 384} {5896121439278361959 49 385} {5868290996179882104 49 386} {7705585199413591760 49 387}]
------------------------------------------------------
flag 11550 term 49 leader 1 nextIndex[0]: 388  matchIndex[0]: 387
term 49 leader 1 sendAppendEntries PrevLogIndex: 387  PrevLogTerm: 49 leaderCommit: 387 
------------------------------------------------------
flag 18969 term 49 leader 1 nextIndex[2]: 388  matchIndex[2]: 387
term 49 leader 1 sendAppendEntries PrevLogIndex: 387  PrevLogTerm: 49 leaderCommit: 387 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:387 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:387 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=388
update matchIndex[2]=387
update leader CommitIndex=387
leader log:
[{snapshot 49 379} {2118440363444515225 49 380} {7795566500332746538 49 381} {2327900500128192668 49 382} {5000457608136457979 49 383} {3573546350353608063 49 384} {5896121439278361959 49 385} {5868290996179882104 49 386} {7705585199413591760 49 387}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=388
update matchIndex[0]=387
update leader CommitIndex=387
leader log:
[{snapshot 49 379} {2118440363444515225 49 380} {7795566500332746538 49 381} {2327900500128192668 49 382} {5000457608136457979 49 383} {3573546350353608063 49 384} {5896121439278361959 49 385} {5868290996179882104 49 386} {7705585199413591760 49 387}]
------------------------------------------------------
flag 82341 term 49 leader 1 nextIndex[0]: 388  matchIndex[0]: 387
term 49 leader 1 sendAppendEntries PrevLogIndex: 387  PrevLogTerm: 49 leaderCommit: 387 
------------------------------------------------------
flag 62421 term 49 leader 1 nextIndex[2]: 388  matchIndex[2]: 387
term 49 leader 1 sendAppendEntries PrevLogIndex: 387  PrevLogTerm: 49 leaderCommit: 387 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:387 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=388
update matchIndex[2]=387
update leader CommitIndex=387
leader log:
[{snapshot 49 379} {2118440363444515225 49 380} {7795566500332746538 49 381} {2327900500128192668 49 382} {5000457608136457979 49 383} {3573546350353608063 49 384} {5896121439278361959 49 385} {5868290996179882104 49 386} {7705585199413591760 49 387}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:387 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=388
update matchIndex[0]=387
update leader CommitIndex=387
leader log:
[{snapshot 49 379} {2118440363444515225 49 380} {7795566500332746538 49 381} {2327900500128192668 49 382} {5000457608136457979 49 383} {3573546350353608063 49 384} {5896121439278361959 49 385} {5868290996179882104 49 386} {7705585199413591760 49 387}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 3396238524088445751 (index 388) to leader 1
flag 54696 term 49 leader 1 nextIndex[0]: 388  matchIndex[0]: 387
term 49 leader 1 sendAppendEntries PrevLogIndex: 387  PrevLogTerm: 49 leaderCommit: 387 
------------------------------------------------------
flag 13607 term 49 leader 1 nextIndex[2]: 388  matchIndex[2]: 387
term 49 leader 1 sendAppendEntries PrevLogIndex: 387  PrevLogTerm: 49 leaderCommit: 387 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:387 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=389
update matchIndex[0]=388
update leader CommitIndex=388
leader log:
[{snapshot 49 379} {2118440363444515225 49 380} {7795566500332746538 49 381} {2327900500128192668 49 382} {5000457608136457979 49 383} {3573546350353608063 49 384} {5896121439278361959 49 385} {5868290996179882104 49 386} {7705585199413591760 49 387} {3396238524088445751 49 388}]
------------------------------------------------------
term 49 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31122 term 49 leader 1 nextIndex[0]: 389  matchIndex[0]: 388
term 49 leader 1 sendAppendEntries PrevLogIndex: 388  PrevLogTerm: 49 leaderCommit: 388 
------------------------------------------------------
flag 41314 term 49 leader 1 nextIndex[2]: 388  matchIndex[2]: 387
term 49 leader 1 sendAppendEntries PrevLogIndex: 387  PrevLogTerm: 49 leaderCommit: 388 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:388 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=389
update matchIndex[0]=388
update leader CommitIndex=388
leader log:
[{snapshot 49 379} {2118440363444515225 49 380} {7795566500332746538 49 381} {2327900500128192668 49 382} {5000457608136457979 49 383} {3573546350353608063 49 384} {5896121439278361959 49 385} {5868290996179882104 49 386} {7705585199413591760 49 387} {3396238524088445751 49 388}]
------------------------------------------------------
client write log 2090613784048971441 (index 389) to leader 1
client write log 5157197900795133922 (index 390) to leader 1
client write log 4100755220579116057 (index 391) to leader 1
client write log 4261891132485695723 (index 392) to leader 1
client write log 2337576372831984043 (index 393) to leader 1
client write log 7453748278625968166 (index 394) to leader 1
flag 78618 term 49 leader 1 nextIndex[0]: 389  matchIndex[0]: 388
term 49 leader 1 sendAppendEntries PrevLogIndex: 388  PrevLogTerm: 49 leaderCommit: 388 
------------------------------------------------------
flag 88616 term 49 leader 1 nextIndex[2]: 388  matchIndex[2]: 387
term 49 leader 1 sendAppendEntries PrevLogIndex: 387  PrevLogTerm: 49 leaderCommit: 388 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:388 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=395
update matchIndex[0]=394
update leader CommitIndex=394
leader log:
[{snapshot 49 379} {2118440363444515225 49 380} {7795566500332746538 49 381} {2327900500128192668 49 382} {5000457608136457979 49 383} {3573546350353608063 49 384} {5896121439278361959 49 385} {5868290996179882104 49 386} {7705585199413591760 49 387} {3396238524088445751 49 388} {2090613784048971441 49 389} {5157197900795133922 49 390} {4100755220579116057 49 391} {4261891132485695723 49 392} {2337576372831984043 49 393} {7453748278625968166 49 394}]
------------------------------------------------------
term 49 Server1 start snapshot! index=389
term 49 server1 snapshot success
lastIncludedIndex=389 lastApplied=390 lastIndex=394
-------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 395->394
------------------------------------------------------
term 49 leader 1 nextIndex[0]: 0  matchIndex[0]: 394
term 49 leader 1 sendInstallSnapshot LastIncludedIndex: 389  LastIncludedTerm: 49
------------------------------------------------------
term 49 leader 1 nextIndex[2]: 388  matchIndex[2]: 387
term 49 leader 1 sendInstallSnapshot LastIncludedIndex: 389  LastIncludedTerm: 49
------------------------------------------------------
term 49 server 0 InstallSnapshot success
------------------------------------------------------
term 49 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 390 matchIndex[0] 389 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 389 rf.lastIncludedTerm 49 rf.commitIndex 389 rf.lastApplied 389
flag 30719 term 49 leader 1 nextIndex[0]: 390  matchIndex[0]: 389
term 49 leader 1 sendAppendEntries PrevLogIndex: 389  PrevLogTerm: 49 leaderCommit: 394 
------------------------------------------------------
term 49 leader 1 nextIndex[2]: 388  matchIndex[2]: 387
term 49 leader 1 sendInstallSnapshot LastIncludedIndex: 389  LastIncludedTerm: 49
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:394 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=395
update matchIndex[0]=394
update leader CommitIndex=394
leader log:
[{snapshot 49 389} {5157197900795133922 49 390} {4100755220579116057 49 391} {4261891132485695723 49 392} {2337576372831984043 49 393} {7453748278625968166 49 394}]
------------------------------------------------------
!!!!!!connect server 2
client write log 3172181607336444953 (index 395) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 49 server 1 not vote for server 2, 日志不够新
term 51 server 2 vote for server 1
term 51 server 1 get vote from server 2
term 51 server 1 become leader
------------------------------------------------------
term 51 server 0 vote for server 1
term 51 server 1 get outdate rpc reply from server 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19443 term 51 leader 1 nextIndex[0]: 396  matchIndex[0]: 0
term 51 leader 1 sendAppendEntries PrevLogIndex: 395  PrevLogTerm: 49 leaderCommit: 394 
------------------------------------------------------
flag 66922 term 51 leader 1 nextIndex[2]: 396  matchIndex[2]: 0
term 51 leader 1 sendAppendEntries PrevLogIndex: 395  PrevLogTerm: 49 leaderCommit: 394 
------------------------------------------------------
term 51 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 51 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 396->395
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 396->395
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25718 term 51 leader 1 nextIndex[0]: 395  matchIndex[0]: 0
term 51 leader 1 sendAppendEntries PrevLogIndex: 394  PrevLogTerm: 49 leaderCommit: 394 
------------------------------------------------------
term 51 leader 1 nextIndex[2]: 388  matchIndex[2]: 0
term 51 leader 1 sendInstallSnapshot LastIncludedIndex: 389  LastIncludedTerm: 49
------------------------------------------------------
term 51 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 389 rf.lastIncludedTerm 49 rf.commitIndex 389 rf.lastApplied 389
term 51 server 0 AppendEntries true commitIndex:394 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=396
update matchIndex[0]=395
update leader CommitIndex=394
leader log:
[{snapshot 49 389} {5157197900795133922 49 390} {4100755220579116057 49 391} {4261891132485695723 49 392} {2337576372831984043 49 393} {7453748278625968166 49 394} {3172181607336444953 49 395}]
------------------------------------------------------
term 51 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 390 matchIndex[2] 389 
------------------------------------------------------------------------
flag 7514 term 51 leader 1 nextIndex[0]: 396  matchIndex[0]: 395
term 51 leader 1 sendAppendEntries PrevLogIndex: 395  PrevLogTerm: 49 leaderCommit: 394 
------------------------------------------------------
flag 10244 term 51 leader 1 nextIndex[2]: 390  matchIndex[2]: 389
term 51 leader 1 sendAppendEntries PrevLogIndex: 389  PrevLogTerm: 49 leaderCommit: 394 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:389 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=396
update matchIndex[2]=395
update leader CommitIndex=394
leader log:
term 51 server 0 AppendEntries true commitIndex:394 
------------------------------------------------------
[{snapshot 49 389} {5157197900795133922 49 390} {4100755220579116057 49 391} {4261891132485695723 49 392} {2337576372831984043 49 393} {7453748278625968166 49 394} {3172181607336444953 49 395}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=396
update matchIndex[0]=395
update leader CommitIndex=394
leader log:
[{snapshot 49 389} {5157197900795133922 49 390} {4100755220579116057 49 391} {4261891132485695723 49 392} {2337576372831984043 49 393} {7453748278625968166 49 394} {3172181607336444953 49 395}]
------------------------------------------------------
flag 3747 term 51 leader 1 nextIndex[0]: 396  matchIndex[0]: 395
term 51 leader 1 sendAppendEntries PrevLogIndex: 395  PrevLogTerm: 49 leaderCommit: 394 
------------------------------------------------------
flag 37427 term 51 leader 1 nextIndex[2]: 396  matchIndex[2]: 395
term 51 leader 1 sendAppendEntries PrevLogIndex: 395  PrevLogTerm: 49 leaderCommit: 394 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:394 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=396
update matchIndex[2]=395
update leader CommitIndex=394
leader log:
[{snapshot 49 389} {5157197900795133922 49 390} {4100755220579116057 49 391} {4261891132485695723 49 392} {2337576372831984043 49 393} {7453748278625968166 49 394} {3172181607336444953 49 395}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:394 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=396
update matchIndex[0]=395
update leader CommitIndex=394
leader log:
[{snapshot 49 389} {5157197900795133922 49 390} {4100755220579116057 49 391} {4261891132485695723 49 392} {2337576372831984043 49 393} {7453748278625968166 49 394} {3172181607336444953 49 395}]
------------------------------------------------------
flag 84326 term 51 leader 1 nextIndex[0]: 396  matchIndex[0]: 395
term 51 leader 1 sendAppendEntries PrevLogIndex: 395  PrevLogTerm: 49 leaderCommit: 394 
------------------------------------------------------
flag 18785 term 51 leader 1 nextIndex[2]: 396  matchIndex[2]: 395
term 51 leader 1 sendAppendEntries PrevLogIndex: 395  PrevLogTerm: 49 leaderCommit: 394 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:394 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueterm 51 server 0 AppendEntries true commitIndex:394 
------------------------------------------------------
update nextIndex[2]=396
update matchIndex[2]=395
update leader CommitIndex=394
leader log:
[{snapshot 49 389} {5157197900795133922 49 390} {4100755220579116057 49 391} {4261891132485695723 49 392} {2337576372831984043 49 393} {7453748278625968166 49 394} {3172181607336444953 49 395}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=396
update matchIndex[0]=395
update leader CommitIndex=394
leader log:
[{snapshot 49 389} {5157197900795133922 49 390} {4100755220579116057 49 391} {4261891132485695723 49 392} {2337576372831984043 49 393} {7453748278625968166 49 394} {3172181607336444953 49 395}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33448 term 51 leader 1 nextIndex[0]: 396  matchIndex[0]: 395
term 51 leader 1 sendAppendEntries PrevLogIndex: 395  PrevLogTerm: 49 leaderCommit: 394 
------------------------------------------------------
flag 18243 term 51 leader 1 nextIndex[2]: 396  matchIndex[2]: 395
term 51 leader 1 sendAppendEntries PrevLogIndex: 395  PrevLogTerm: 49 leaderCommit: 394 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:394 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=396
update matchIndex[2]=395
update leader CommitIndex=394
leader log:
[{snapshot 49 389} {5157197900795133922 49 390} {4100755220579116057 49 391} {4261891132485695723 49 392} {2337576372831984043 49 393} {7453748278625968166 49 394} {3172181607336444953 49 395}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:394 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=396
update matchIndex[0]=395
update leader CommitIndex=394
leader log:
[{snapshot 49 389} {5157197900795133922 49 390} {4100755220579116057 49 391} {4261891132485695723 49 392} {2337576372831984043 49 393} {7453748278625968166 49 394} {3172181607336444953 49 395}]
------------------------------------------------------
term 51 server 0 not vote for server 2, 任期不够新
term 51 server 2 get outdate rpc reply from server 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57524 term 51 leader 1 nextIndex[0]: 396  matchIndex[0]: 395
term 51 leader 1 sendAppendEntries PrevLogIndex: 395  PrevLogTerm: 49 leaderCommit: 394 
------------------------------------------------------
flag 20579 term 51 leader 1 nextIndex[2]: 396  matchIndex[2]: 395
term 51 leader 1 sendAppendEntries PrevLogIndex: 395  PrevLogTerm: 49 leaderCommit: 394 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:394 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=396
update matchIndex[2]=395
update leader CommitIndex=394
leader log:
[{snapshot 49 389} {5157197900795133922 49 390} {4100755220579116057 49 391} {4261891132485695723 49 392} {2337576372831984043 49 393} {7453748278625968166 49 394} {3172181607336444953 49 395}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:394 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=396
update matchIndex[0]=395
update leader CommitIndex=394
leader log:
[{snapshot 49 389} {5157197900795133922 49 390} {4100755220579116057 49 391} {4261891132485695723 49 392} {2337576372831984043 49 393} {7453748278625968166 49 394} {3172181607336444953 49 395}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34675 term 51 leader 1 nextIndex[0]: 396  matchIndex[0]: 395
term 51 leader 1 sendAppendEntries PrevLogIndex: 395  PrevLogTerm: 49 leaderCommit: 394 
------------------------------------------------------
flag 39978 term 51 leader 1 nextIndex[2]: 396  matchIndex[2]: 395
term 51 leader 1 sendAppendEntries PrevLogIndex: 395  PrevLogTerm: 49 leaderCommit: 394 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:394 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=396
update matchIndex[2]=395
update leader CommitIndex=394
leader log:
[{snapshot 49 389} {5157197900795133922 49 390} {4100755220579116057 49 391} {4261891132485695723 49 392} {2337576372831984043 49 393} {7453748278625968166 49 394} {3172181607336444953 49 395}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:394 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=396
update matchIndex[0]=395
update leader CommitIndex=394
leader log:
[{snapshot 49 389} {5157197900795133922 49 390} {4100755220579116057 49 391} {4261891132485695723 49 392} {2337576372831984043 49 393} {7453748278625968166 49 394} {3172181607336444953 49 395}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61863 term 51 leader 1 nextIndex[0]: 396  matchIndex[0]: 395
term 51 leader 1 sendAppendEntries PrevLogIndex: 395  PrevLogTerm: 49 leaderCommit: 394 
------------------------------------------------------
flag 64917 term 51 leader 1 nextIndex[2]: 396  matchIndex[2]: 395
term 51 leader 1 sendAppendEntries PrevLogIndex: 395  PrevLogTerm: 49 leaderCommit: 394 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:394 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:394 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=396
update matchIndex[2]=395
update leader CommitIndex=394
leader log:
[{snapshot 49 389} {5157197900795133922 49 390} {4100755220579116057 49 391} {4261891132485695723 49 392} {2337576372831984043 49 393} {7453748278625968166 49 394} {3172181607336444953 49 395}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=396
update matchIndex[0]=395
update leader CommitIndex=394
leader log:
[{snapshot 49 389} {5157197900795133922 49 390} {4100755220579116057 49 391} {4261891132485695723 49 392} {2337576372831984043 49 393} {7453748278625968166 49 394} {3172181607336444953 49 395}]
------------------------------------------------------
flag 42384 term 51 leader 1 nextIndex[0]: 396  matchIndex[0]: 395
term 51 leader 1 sendAppendEntries PrevLogIndex: 395  PrevLogTerm: 49 leaderCommit: 394 
------------------------------------------------------
flag 70862 term 51 leader 1 nextIndex[2]: 396  matchIndex[2]: 395
term 51 leader 1 sendAppendEntries PrevLogIndex: 395  PrevLogTerm: 49 leaderCommit: 394 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:394 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=396
update matchIndex[2]=395
update leader CommitIndex=394
leader log:
[{snapshot 49 389} {5157197900795133922 49 390} {4100755220579116057 49 391} {4261891132485695723 49 392} {2337576372831984043 49 393} {7453748278625968166 49 394} {3172181607336444953 49 395}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:394 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=396
update matchIndex[0]=395
update leader CommitIndex=394
leader log:
[{snapshot 49 389} {5157197900795133922 49 390} {4100755220579116057 49 391} {4261891132485695723 49 392} {2337576372831984043 49 393} {7453748278625968166 49 394} {3172181607336444953 49 395}]
------------------------------------------------------
flag 48144 term 51 leader 1 nextIndex[0]: 396  matchIndex[0]: 395
term 51 leader 1 sendAppendEntries PrevLogIndex: 395  PrevLogTerm: 49 leaderCommit: 394 
------------------------------------------------------
flag 58213 term 51 leader 1 nextIndex[2]: 396  matchIndex[2]: 395
term 51 leader 1 sendAppendEntries PrevLogIndex: 395  PrevLogTerm: 49 leaderCommit: 394 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:394 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=396
update matchIndex[2]=395
update leader CommitIndex=394
leader log:
[{snapshot 49 389} {5157197900795133922 49 390} {4100755220579116057 49 391} {4261891132485695723 49 392} {2337576372831984043 49 393} {7453748278625968166 49 394} {3172181607336444953 49 395}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:394 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=396
update matchIndex[0]=395
update leader CommitIndex=394
leader log:
[{snapshot 49 389} {5157197900795133922 49 390} {4100755220579116057 49 391} {4261891132485695723 49 392} {2337576372831984043 49 393} {7453748278625968166 49 394} {3172181607336444953 49 395}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68931 term 51 leader 1 nextIndex[0]: 396  matchIndex[0]: 395
term 51 leader 1 sendAppendEntries PrevLogIndex: 395  PrevLogTerm: 49 leaderCommit: 394 
------------------------------------------------------
flag 6337 term 51 leader 1 nextIndex[2]: 396  matchIndex[2]: 395
term 51 leader 1 sendAppendEntries PrevLogIndex: 395  PrevLogTerm: 49 leaderCommit: 394 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:394 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:394 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=396
update matchIndex[2]=395
update leader CommitIndex=394
leader log:
[{snapshot 49 389} {5157197900795133922 49 390} {4100755220579116057 49 391} {4261891132485695723 49 392} {2337576372831984043 49 393} {7453748278625968166 49 394} {3172181607336444953 49 395}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=396
update matchIndex[0]=395
update leader CommitIndex=394
leader log:
[{snapshot 49 389} {5157197900795133922 49 390} {4100755220579116057 49 391} {4261891132485695723 49 392} {2337576372831984043 49 393} {7453748278625968166 49 394} {3172181607336444953 49 395}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6550 term 51 leader 1 nextIndex[0]: 396  matchIndex[0]: 395
term 51 leader 1 sendAppendEntries PrevLogIndex: 395  PrevLogTerm: 49 leaderCommit: 394 
------------------------------------------------------
flag 32486 term 51 leader 1 nextIndex[2]: 396  matchIndex[2]: 395
term 51 leader 1 sendAppendEntries PrevLogIndex: 395  PrevLogTerm: 49 leaderCommit: 394 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:394 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:394 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=396
update matchIndex[0]=395
update leader CommitIndex=394
leader log:
[{snapshot 49 389} {5157197900795133922 49 390} {4100755220579116057 49 391} {4261891132485695723 49 392} {2337576372831984043 49 393} {7453748278625968166 49 394} {3172181607336444953 49 395}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=396
update matchIndex[2]=395
update leader CommitIndex=394
leader log:
[{snapshot 49 389} {5157197900795133922 49 390} {4100755220579116057 49 391} {4261891132485695723 49 392} {2337576372831984043 49 393} {7453748278625968166 49 394} {3172181607336444953 49 395}]
------------------------------------------------------
flag 28395 term 51 leader 1 nextIndex[0]: 396  matchIndex[0]: 395
term 51 leader 1 sendAppendEntries PrevLogIndex: 395  PrevLogTerm: 49 leaderCommit: 394 
------------------------------------------------------
flag 25996 term 51 leader 1 nextIndex[2]: 396  matchIndex[2]: 395
term 51 leader 1 sendAppendEntries PrevLogIndex: 395  PrevLogTerm: 49 leaderCommit: 394 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:394 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=396
update matchIndex[2]=395
update leader CommitIndex=394
leader log:
[{snapshot 49 389} {5157197900795133922 49 390} {4100755220579116057 49 391} {4261891132485695723 49 392} {2337576372831984043 49 393} {7453748278625968166 49 394} {3172181607336444953 49 395}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:394 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=396
update matchIndex[0]=395
update leader CommitIndex=394
leader log:
[{snapshot 49 389} {5157197900795133922 49 390} {4100755220579116057 49 391} {4261891132485695723 49 392} {2337576372831984043 49 393} {7453748278625968166 49 394} {3172181607336444953 49 395}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91033 term 51 leader 1 nextIndex[0]: 396  matchIndex[0]: 395
term 51 leader 1 sendAppendEntries PrevLogIndex: 395  PrevLogTerm: 49 leaderCommit: 394 
------------------------------------------------------
flag 75801 term 51 leader 1 nextIndex[2]: 396  matchIndex[2]: 395
term 51 leader 1 sendAppendEntries PrevLogIndex: 395  PrevLogTerm: 49 leaderCommit: 394 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:394 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=396
update matchIndex[2]=395
update leader CommitIndex=394
leader log:
[{snapshot 49 389} {5157197900795133922 49 390} {4100755220579116057 49 391} {4261891132485695723 49 392} {2337576372831984043 49 393} {7453748278625968166 49 394} {3172181607336444953 49 395}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:394 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=396
update matchIndex[0]=395
update leader CommitIndex=394
leader log:
[{snapshot 49 389} {5157197900795133922 49 390} {4100755220579116057 49 391} {4261891132485695723 49 392} {2337576372831984043 49 393} {7453748278625968166 49 394} {3172181607336444953 49 395}]
------------------------------------------------------
flag 49676 term 51 leader 1 nextIndex[0]: 396  matchIndex[0]: 395
term 51 leader 1 sendAppendEntries PrevLogIndex: 395  PrevLogTerm: 49 leaderCommit: 394 
------------------------------------------------------
flag 93291 term 51 leader 1 nextIndex[2]: 396  matchIndex[2]: 395
term 51 leader 1 sendAppendEntries PrevLogIndex: 395  PrevLogTerm: 49 leaderCommit: 394 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:394 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:394 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=396
update matchIndex[2]=395
update leader CommitIndex=394
leader log:
[{snapshot 49 389} {5157197900795133922 49 390} {4100755220579116057 49 391} {4261891132485695723 49 392} {2337576372831984043 49 393} {7453748278625968166 49 394} {3172181607336444953 49 395}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=396
update matchIndex[0]=395
update leader CommitIndex=394
leader log:
[{snapshot 49 389} {5157197900795133922 49 390} {4100755220579116057 49 391} {4261891132485695723 49 392} {2337576372831984043 49 393} {7453748278625968166 49 394} {3172181607336444953 49 395}]
------------------------------------------------------
flag 22881 term 51 leader 1 nextIndex[0]: 396  matchIndex[0]: 395
term 51 leader 1 sendAppendEntries PrevLogIndex: 395  PrevLogTerm: 49 leaderCommit: 394 
------------------------------------------------------
flag 76067 term 51 leader 1 nextIndex[2]: 396  matchIndex[2]: 395
term 51 leader 1 sendAppendEntries PrevLogIndex: 395  PrevLogTerm: 49 leaderCommit: 394 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:394 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=396
update matchIndex[2]=395
update leader CommitIndex=394
leader log:
[{snapshot 49 389} {5157197900795133922 49 390} {4100755220579116057 49 391} {4261891132485695723 49 392} {2337576372831984043 49 393} {7453748278625968166 49 394} {3172181607336444953 49 395}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:394 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=396
update matchIndex[0]=395
update leader CommitIndex=394
leader log:
[{snapshot 49 389} {5157197900795133922 49 390} {4100755220579116057 49 391} {4261891132485695723 49 392} {2337576372831984043 49 393} {7453748278625968166 49 394} {3172181607336444953 49 395}]
------------------------------------------------------
flag 16817 term 51 leader 1 nextIndex[0]: 396  matchIndex[0]: 395
term 51 leader 1 sendAppendEntries PrevLogIndex: 395  PrevLogTerm: 49 leaderCommit: 394 
------------------------------------------------------
flag 76494 term 51 leader 1 nextIndex[2]: 396  matchIndex[2]: 395
term 51 leader 1 sendAppendEntries PrevLogIndex: 395  PrevLogTerm: 49 leaderCommit: 394 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:394 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=396
update matchIndex[2]=395
update leader CommitIndex=394
leader log:
[{snapshot 49 389} {5157197900795133922 49 390} {4100755220579116057 49 391} {4261891132485695723 49 392} {2337576372831984043 49 393} {7453748278625968166 49 394} {3172181607336444953 49 395}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:394 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=396
update matchIndex[0]=395
update leader CommitIndex=394
leader log:
[{snapshot 49 389} {5157197900795133922 49 390} {4100755220579116057 49 391} {4261891132485695723 49 392} {2337576372831984043 49 393} {7453748278625968166 49 394} {3172181607336444953 49 395}]
------------------------------------------------------
flag 15596 term 51 leader 1 nextIndex[0]: 396  matchIndex[0]: 395
term 51 leader 1 sendAppendEntries PrevLogIndex: 395  PrevLogTerm: 49 leaderCommit: 394 
------------------------------------------------------
flag 89371 term 51 leader 1 nextIndex[2]: 396  matchIndex[2]: 395
term 51 leader 1 sendAppendEntries PrevLogIndex: 395  PrevLogTerm: 49 leaderCommit: 394 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:394 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:394 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=396
update matchIndex[2]=395
update leader CommitIndex=394
leader log:
[{snapshot 49 389} {5157197900795133922 49 390} {4100755220579116057 49 391} {4261891132485695723 49 392} {2337576372831984043 49 393} {7453748278625968166 49 394} {3172181607336444953 49 395}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=396
update matchIndex[0]=395
update leader CommitIndex=394
leader log:
[{snapshot 49 389} {5157197900795133922 49 390} {4100755220579116057 49 391} {4261891132485695723 49 392} {2337576372831984043 49 393} {7453748278625968166 49 394} {3172181607336444953 49 395}]
------------------------------------------------------
flag 68463 term 51 leader 1 nextIndex[0]: 396  matchIndex[0]: 395
term 51 leader 1 sendAppendEntries PrevLogIndex: 395  PrevLogTerm: 49 leaderCommit: 394 
------------------------------------------------------
flag 18539 term 51 leader 1 nextIndex[2]: 396  matchIndex[2]: 395
term 51 leader 1 sendAppendEntries PrevLogIndex: 395  PrevLogTerm: 49 leaderCommit: 394 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:394 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:394 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=396
update matchIndex[2]=395
update leader CommitIndex=394
leader log:
[{snapshot 49 389} {5157197900795133922 49 390} {4100755220579116057 49 391} {4261891132485695723 49 392} {2337576372831984043 49 393} {7453748278625968166 49 394} {3172181607336444953 49 395}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=396
update matchIndex[0]=395
update leader CommitIndex=394
leader log:
[{snapshot 49 389} {5157197900795133922 49 390} {4100755220579116057 49 391} {4261891132485695723 49 392} {2337576372831984043 49 393} {7453748278625968166 49 394} {3172181607336444953 49 395}]
------------------------------------------------------
client write log 3172181607336444953 (index 396) to leader 1
flag 40228 term 51 leader 1 nextIndex[0]: 396  matchIndex[0]: 395
term 51 leader 1 sendAppendEntries PrevLogIndex: 395  PrevLogTerm: 49 leaderCommit: 394 
------------------------------------------------------
flag 59934 term 51 leader 1 nextIndex[2]: 396  matchIndex[2]: 395
term 51 leader 1 sendAppendEntries PrevLogIndex: 395  PrevLogTerm: 49 leaderCommit: 394 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:394 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=397
update matchIndex[2]=396
update leader CommitIndex=396
leader log:
[{snapshot 49 389} {5157197900795133922 49 390} {4100755220579116057 49 391} {4261891132485695723 49 392} {2337576372831984043 49 393} {7453748278625968166 49 394} {3172181607336444953 49 395} {3172181607336444953 51 396}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:394 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=397
update matchIndex[0]=396
update leader CommitIndex=396
leader log:
[{snapshot 49 389} {5157197900795133922 49 390} {4100755220579116057 49 391} {4261891132485695723 49 392} {2337576372831984043 49 393} {7453748278625968166 49 394} {3172181607336444953 49 395} {3172181607336444953 51 396}]
------------------------------------------------------
flag 74053 term 51 leader 1 nextIndex[0]: 397  matchIndex[0]: 396
term 51 leader 1 sendAppendEntries PrevLogIndex: 396  PrevLogTerm: 51 leaderCommit: 396 
------------------------------------------------------
flag 38364 term 51 leader 1 nextIndex[2]: 397  matchIndex[2]: 396
term 51 leader 1 sendAppendEntries PrevLogIndex: 396  PrevLogTerm: 51 leaderCommit: 396 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:396 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=397
update matchIndex[2]=396
update leader CommitIndex=396
leader log:
[{snapshot 49 389} {5157197900795133922 49 390} {4100755220579116057 49 391} {4261891132485695723 49 392} {2337576372831984043 49 393} {7453748278625968166 49 394} {3172181607336444953 49 395} {3172181607336444953 51 396}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:396 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=397
update matchIndex[0]=396
update leader CommitIndex=396
leader log:
[{snapshot 49 389} {5157197900795133922 49 390} {4100755220579116057 49 391} {4261891132485695723 49 392} {2337576372831984043 49 393} {7453748278625968166 49 394} {3172181607336444953 49 395} {3172181607336444953 51 396}]
------------------------------------------------------
flag 42641 term 51 leader 1 nextIndex[0]: 397  matchIndex[0]: 396
term 51 leader 1 sendAppendEntries PrevLogIndex: 396  PrevLogTerm: 51 leaderCommit: 396 
------------------------------------------------------
flag 67530 term 51 leader 1 nextIndex[2]: 397  matchIndex[2]: 396
term 51 leader 1 sendAppendEntries PrevLogIndex: 396  PrevLogTerm: 51 leaderCommit: 396 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:396 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=397
update matchIndex[2]=396
update leader CommitIndex=396
leader log:
[{snapshot 49 389} {5157197900795133922 49 390} {4100755220579116057 49 391} {4261891132485695723 49 392} {2337576372831984043 49 393} {7453748278625968166 49 394} {3172181607336444953 49 395} {3172181607336444953 51 396}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:396 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=397
update matchIndex[0]=396
update leader CommitIndex=396
leader log:
[{snapshot 49 389} {5157197900795133922 49 390} {4100755220579116057 49 391} {4261891132485695723 49 392} {2337576372831984043 49 393} {7453748278625968166 49 394} {3172181607336444953 49 395} {3172181607336444953 51 396}]
------------------------------------------------------
flag 65634 term 51 leader 1 nextIndex[0]: 397  matchIndex[0]: 396
term 51 leader 1 sendAppendEntries PrevLogIndex: 396  PrevLogTerm: 51 leaderCommit: 396 
------------------------------------------------------
flag 42170 term 51 leader 1 nextIndex[2]: 397  matchIndex[2]: 396
term 51 leader 1 sendAppendEntries PrevLogIndex: 396  PrevLogTerm: 51 leaderCommit: 396 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:396 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=397
update matchIndex[2]=396
update leader CommitIndex=396
leader log:
[{snapshot 49 389} {5157197900795133922 49 390} {4100755220579116057 49 391} {4261891132485695723 49 392} {2337576372831984043 49 393} {7453748278625968166 49 394} {3172181607336444953 49 395} {3172181607336444953 51 396}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:396 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=397
update matchIndex[0]=396
update leader CommitIndex=396
leader log:
[{snapshot 49 389} {5157197900795133922 49 390} {4100755220579116057 49 391} {4261891132485695723 49 392} {2337576372831984043 49 393} {7453748278625968166 49 394} {3172181607336444953 49 395} {3172181607336444953 51 396}]
------------------------------------------------------
flag 44031 term 51 leader 1 nextIndex[0]: 397  matchIndex[0]: 396
term 51 leader 1 sendAppendEntries PrevLogIndex: 396  PrevLogTerm: 51 leaderCommit: 396 
------------------------------------------------------
flag 53412 term 51 leader 1 nextIndex[2]: 397  matchIndex[2]: 396
term 51 leader 1 sendAppendEntries PrevLogIndex: 396  PrevLogTerm: 51 leaderCommit: 396 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:396 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=397
update matchIndex[0]=396
update leader CommitIndex=396
leader log:
[{snapshot 49 389} {5157197900795133922 49 390} {4100755220579116057 49 391} {4261891132485695723 49 392} {2337576372831984043 49 393} {7453748278625968166 49 394} {3172181607336444953 49 395} {3172181607336444953 51 396}]
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:396 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=397
update matchIndex[2]=396
update leader CommitIndex=396
leader log:
[{snapshot 49 389} {5157197900795133922 49 390} {4100755220579116057 49 391} {4261891132485695723 49 392} {2337576372831984043 49 393} {7453748278625968166 49 394} {3172181607336444953 49 395} {3172181607336444953 51 396}]
------------------------------------------------------
flag 24761 term 51 leader 1 nextIndex[0]: 397  matchIndex[0]: 396
term 51 leader 1 sendAppendEntries PrevLogIndex: 396  PrevLogTerm: 51 leaderCommit: 396 
------------------------------------------------------
flag 61142 term 51 leader 1 nextIndex[2]: 397  matchIndex[2]: 396
term 51 leader 1 sendAppendEntries PrevLogIndex: 396  PrevLogTerm: 51 leaderCommit: 396 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:396 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=397
update matchIndex[2]=396
update leader CommitIndex=396
leader log:
[{snapshot 49 389} {5157197900795133922 49 390} {4100755220579116057 49 391} {4261891132485695723 49 392} {2337576372831984043 49 393} {7453748278625968166 49 394} {3172181607336444953 49 395} {3172181607336444953 51 396}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:396 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=397
update matchIndex[0]=396
update leader CommitIndex=396
leader log:
[{snapshot 49 389} {5157197900795133922 49 390} {4100755220579116057 49 391} {4261891132485695723 49 392} {2337576372831984043 49 393} {7453748278625968166 49 394} {3172181607336444953 49 395} {3172181607336444953 51 396}]
------------------------------------------------------
flag 64478 term 51 leader 1 nextIndex[0]: 397  matchIndex[0]: 396
term 51 leader 1 sendAppendEntries PrevLogIndex: 396  PrevLogTerm: 51 leaderCommit: 396 
------------------------------------------------------
flag 96499 term 51 leader 1 nextIndex[2]: 397  matchIndex[2]: 396
term 51 leader 1 sendAppendEntries PrevLogIndex: 396  PrevLogTerm: 51 leaderCommit: 396 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:396 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=397
update matchIndex[2]=396
update leader CommitIndex=396
leader log:
[{snapshot 49 389} {5157197900795133922 49 390} {4100755220579116057 49 391} {4261891132485695723 49 392} {2337576372831984043 49 393} {7453748278625968166 49 394} {3172181607336444953 49 395} {3172181607336444953 51 396}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:396 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=397
update matchIndex[0]=396
update leader CommitIndex=396
leader log:
[{snapshot 49 389} {5157197900795133922 49 390} {4100755220579116057 49 391} {4261891132485695723 49 392} {2337576372831984043 49 393} {7453748278625968166 49 394} {3172181607336444953 49 395} {3172181607336444953 51 396}]
------------------------------------------------------
  ... Passed --  84.5  3 1913  867477  396
--- PASS: TestSnapshotInstall2D (84.52s)
PASS
