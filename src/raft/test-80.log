=== RUN   TestSnapshotInstall2D
Test (2D): install snapshots (disconnect) ...
term 1 server 2 vote for server 1
term 1 server 1 get vote from server 2
term 1 server 1 become leader
------------------------------------------------------
term 1 server 0 vote for server 1
term 1 server 1 get outdate rpc reply from server 0
flag 43823 term 1 leader 1 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 38730 term 1 leader 1 nextIndex[2]: 1  matchIndex[2]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=1
update matchIndex[2]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=1
update matchIndex[0]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
client write log 2672640769725511865 (index 1) to leader 1
flag 43912 term 1 leader 1 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 58856 term 1 leader 1 nextIndex[2]: 1  matchIndex[2]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2672640769725511865 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2672640769725511865 1 1}]
------------------------------------------------------
flag 22664 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 32686 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2672640769725511865 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2672640769725511865 1 1}]
------------------------------------------------------
flag 29219 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 51063 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2672640769725511865 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2672640769725511865 1 1}]
------------------------------------------------------
flag 43685 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 98557 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2672640769725511865 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2672640769725511865 1 1}]
------------------------------------------------------
flag 23453 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 30644 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2672640769725511865 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2672640769725511865 1 1}]
------------------------------------------------------
flag 79588 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 91991 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2672640769725511865 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2672640769725511865 1 1}]
------------------------------------------------------
flag 55231 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 93656 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2672640769725511865 1 1}]
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2672640769725511865 1 1}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 8374028425708093538 (index 2) to leader 1
flag 46153 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 90129 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=3
update matchIndex[0]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {2672640769725511865 1 1} {8374028425708093538 1 2}]
------------------------------------------------------
flag 25399 term 1 leader 1 nextIndex[0]: 3  matchIndex[0]: 2
term 1 leader 1 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 22781 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=3
update matchIndex[0]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {2672640769725511865 1 1} {8374028425708093538 1 2}]
------------------------------------------------------
client write log 7506312784236353605 (index 3) to leader 1
client write log 2646339523639893180 (index 4) to leader 1
client write log 34211181043683127 (index 5) to leader 1
client write log 4503000808551092568 (index 6) to leader 1
client write log 5743775619634237476 (index 7) to leader 1
client write log 5995773764004899222 (index 8) to leader 1
client write log 3591416244572726893 (index 9) to leader 1
client write log 8856751280750880601 (index 10) to leader 1
client write log 2989863165333811742 (index 11) to leader 1
client write log 2325353671473118460 (index 12) to leader 1
client write log 5719054850175088716 (index 13) to leader 1
client write log 2832225366417635862 (index 14) to leader 1
flag 10475 term 1 leader 1 nextIndex[0]: 3  matchIndex[0]: 2
term 1 leader 1 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 63388 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{<nil> 0 0} {2672640769725511865 1 1} {8374028425708093538 1 2} {7506312784236353605 1 3} {2646339523639893180 1 4} {34211181043683127 1 5} {4503000808551092568 1 6} {5743775619634237476 1 7} {5995773764004899222 1 8} {3591416244572726893 1 9} {8856751280750880601 1 10} {2989863165333811742 1 11} {2325353671473118460 1 12} {5719054850175088716 1 13} {2832225366417635862 1 14}]
------------------------------------------------------
term 1 Server1 start snapshot! index=9
term 1 server1 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=14
-------------------------------------------------------------
flag 58589 term 1 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 1 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8856751280750880601 1 10} {2989863165333811742 1 11} {2325353671473118460 1 12} {5719054850175088716 1 13} {2832225366417635862 1 14}]
------------------------------------------------------
term 1 Server0 start snapshot! index=9
term 1 server0 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=14
-------------------------------------------------------------
!!!!!!connect server 2
client write log 5678563066748525246 (index 15) to leader 1
flag 3295 term 1 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 1 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 2 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 1 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 3 server 2 vote for server 1
term 3 server 1 get vote from server 2
term 3 server 1 become leader
------------------------------------------------------
term 3 server 0 vote for server 1
term 3 server 1 get outdate rpc reply from server 0
flag 30479 term 3 leader 1 nextIndex[0]: 16  matchIndex[0]: 0
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 22967 term 3 leader 1 nextIndex[2]: 16  matchIndex[2]: 0
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 16->15
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8856751280750880601 1 10} {2989863165333811742 1 11} {2325353671473118460 1 12} {5719054850175088716 1 13} {2832225366417635862 1 14} {5678563066748525246 1 15}]
------------------------------------------------------
flag 26379 term 3 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 leader 1 nextIndex[2]: 2  matchIndex[2]: 0
term 3 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 3 server 2 InstallSnapshot success
------------------------------------------------------
term 3 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 10 matchIndex[2] 9 
------------------------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8856751280750880601 1 10} {2989863165333811742 1 11} {2325353671473118460 1 12} {5719054850175088716 1 13} {2832225366417635862 1 14} {5678563066748525246 1 15}]
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 9 rf.lastIncludedTerm 1 rf.commitIndex 9 rf.lastApplied 9
flag 29072 term 3 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 42883 term 3 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8856751280750880601 1 10} {2989863165333811742 1 11} {2325353671473118460 1 12} {5719054850175088716 1 13} {2832225366417635862 1 14} {5678563066748525246 1 15}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8856751280750880601 1 10} {2989863165333811742 1 11} {2325353671473118460 1 12} {5719054850175088716 1 13} {2832225366417635862 1 14} {5678563066748525246 1 15}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22497 term 3 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 75688 term 3 leader 1 nextIndex[2]: 16  matchIndex[2]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8856751280750880601 1 10} {2989863165333811742 1 11} {2325353671473118460 1 12} {5719054850175088716 1 13} {2832225366417635862 1 14} {5678563066748525246 1 15}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8856751280750880601 1 10} {2989863165333811742 1 11} {2325353671473118460 1 12} {5719054850175088716 1 13} {2832225366417635862 1 14} {5678563066748525246 1 15}]
------------------------------------------------------
flag 24694 term 3 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 91937 term 3 leader 1 nextIndex[2]: 16  matchIndex[2]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8856751280750880601 1 10} {2989863165333811742 1 11} {2325353671473118460 1 12} {5719054850175088716 1 13} {2832225366417635862 1 14} {5678563066748525246 1 15}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8856751280750880601 1 10} {2989863165333811742 1 11} {2325353671473118460 1 12} {5719054850175088716 1 13} {2832225366417635862 1 14} {5678563066748525246 1 15}]
------------------------------------------------------
flag 75895 term 3 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 11756 term 3 leader 1 nextIndex[2]: 16  matchIndex[2]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8856751280750880601 1 10} {2989863165333811742 1 11} {2325353671473118460 1 12} {5719054850175088716 1 13} {2832225366417635862 1 14} {5678563066748525246 1 15}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8856751280750880601 1 10} {2989863165333811742 1 11} {2325353671473118460 1 12} {5719054850175088716 1 13} {2832225366417635862 1 14} {5678563066748525246 1 15}]
------------------------------------------------------
flag 66644 term 3 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 1547 term 3 leader 1 nextIndex[2]: 16  matchIndex[2]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8856751280750880601 1 10} {2989863165333811742 1 11} {2325353671473118460 1 12} {5719054850175088716 1 13} {2832225366417635862 1 14} {5678563066748525246 1 15}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8856751280750880601 1 10} {2989863165333811742 1 11} {2325353671473118460 1 12} {5719054850175088716 1 13} {2832225366417635862 1 14} {5678563066748525246 1 15}]
------------------------------------------------------
flag 70901 term 3 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 44057 term 3 leader 1 nextIndex[2]: 16  matchIndex[2]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8856751280750880601 1 10} {2989863165333811742 1 11} {2325353671473118460 1 12} {5719054850175088716 1 13} {2832225366417635862 1 14} {5678563066748525246 1 15}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8856751280750880601 1 10} {2989863165333811742 1 11} {2325353671473118460 1 12} {5719054850175088716 1 13} {2832225366417635862 1 14} {5678563066748525246 1 15}]
------------------------------------------------------
flag 22866 term 3 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 95474 term 3 leader 1 nextIndex[2]: 16  matchIndex[2]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8856751280750880601 1 10} {2989863165333811742 1 11} {2325353671473118460 1 12} {5719054850175088716 1 13} {2832225366417635862 1 14} {5678563066748525246 1 15}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8856751280750880601 1 10} {2989863165333811742 1 11} {2325353671473118460 1 12} {5719054850175088716 1 13} {2832225366417635862 1 14} {5678563066748525246 1 15}]
------------------------------------------------------
flag 18574 term 3 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 94897 term 3 leader 1 nextIndex[2]: 16  matchIndex[2]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8856751280750880601 1 10} {2989863165333811742 1 11} {2325353671473118460 1 12} {5719054850175088716 1 13} {2832225366417635862 1 14} {5678563066748525246 1 15}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8856751280750880601 1 10} {2989863165333811742 1 11} {2325353671473118460 1 12} {5719054850175088716 1 13} {2832225366417635862 1 14} {5678563066748525246 1 15}]
------------------------------------------------------
flag 42922 term 3 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 52013 term 3 leader 1 nextIndex[2]: 16  matchIndex[2]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8856751280750880601 1 10} {2989863165333811742 1 11} {2325353671473118460 1 12} {5719054850175088716 1 13} {2832225366417635862 1 14} {5678563066748525246 1 15}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8856751280750880601 1 10} {2989863165333811742 1 11} {2325353671473118460 1 12} {5719054850175088716 1 13} {2832225366417635862 1 14} {5678563066748525246 1 15}]
------------------------------------------------------
flag 58948 term 3 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 66036 term 3 leader 1 nextIndex[2]: 16  matchIndex[2]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8856751280750880601 1 10} {2989863165333811742 1 11} {2325353671473118460 1 12} {5719054850175088716 1 13} {2832225366417635862 1 14} {5678563066748525246 1 15}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8856751280750880601 1 10} {2989863165333811742 1 11} {2325353671473118460 1 12} {5719054850175088716 1 13} {2832225366417635862 1 14} {5678563066748525246 1 15}]
------------------------------------------------------
flag 26077 term 3 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 13312 term 3 leader 1 nextIndex[2]: 16  matchIndex[2]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8856751280750880601 1 10} {2989863165333811742 1 11} {2325353671473118460 1 12} {5719054850175088716 1 13} {2832225366417635862 1 14} {5678563066748525246 1 15}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8856751280750880601 1 10} {2989863165333811742 1 11} {2325353671473118460 1 12} {5719054850175088716 1 13} {2832225366417635862 1 14} {5678563066748525246 1 15}]
------------------------------------------------------
flag 99726 term 3 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 35043 term 3 leader 1 nextIndex[2]: 16  matchIndex[2]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8856751280750880601 1 10} {2989863165333811742 1 11} {2325353671473118460 1 12} {5719054850175088716 1 13} {2832225366417635862 1 14} {5678563066748525246 1 15}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8856751280750880601 1 10} {2989863165333811742 1 11} {2325353671473118460 1 12} {5719054850175088716 1 13} {2832225366417635862 1 14} {5678563066748525246 1 15}]
------------------------------------------------------
flag 14186 term 3 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 83108 term 3 leader 1 nextIndex[2]: 16  matchIndex[2]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8856751280750880601 1 10} {2989863165333811742 1 11} {2325353671473118460 1 12} {5719054850175088716 1 13} {2832225366417635862 1 14} {5678563066748525246 1 15}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8856751280750880601 1 10} {2989863165333811742 1 11} {2325353671473118460 1 12} {5719054850175088716 1 13} {2832225366417635862 1 14} {5678563066748525246 1 15}]
------------------------------------------------------
flag 81263 term 3 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 7435 term 3 leader 1 nextIndex[2]: 16  matchIndex[2]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8856751280750880601 1 10} {2989863165333811742 1 11} {2325353671473118460 1 12} {5719054850175088716 1 13} {2832225366417635862 1 14} {5678563066748525246 1 15}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8856751280750880601 1 10} {2989863165333811742 1 11} {2325353671473118460 1 12} {5719054850175088716 1 13} {2832225366417635862 1 14} {5678563066748525246 1 15}]
------------------------------------------------------
flag 93766 term 3 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 50796 term 3 leader 1 nextIndex[2]: 16  matchIndex[2]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8856751280750880601 1 10} {2989863165333811742 1 11} {2325353671473118460 1 12} {5719054850175088716 1 13} {2832225366417635862 1 14} {5678563066748525246 1 15}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8856751280750880601 1 10} {2989863165333811742 1 11} {2325353671473118460 1 12} {5719054850175088716 1 13} {2832225366417635862 1 14} {5678563066748525246 1 15}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 3 server 1 not vote for server 2, 任期不够新
term 3 server 2 get outdate rpc reply from server 1
flag 82500 term 3 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 74373 term 3 leader 1 nextIndex[2]: 16  matchIndex[2]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8856751280750880601 1 10} {2989863165333811742 1 11} {2325353671473118460 1 12} {5719054850175088716 1 13} {2832225366417635862 1 14} {5678563066748525246 1 15}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8856751280750880601 1 10} {2989863165333811742 1 11} {2325353671473118460 1 12} {5719054850175088716 1 13} {2832225366417635862 1 14} {5678563066748525246 1 15}]
------------------------------------------------------
flag 38805 term 3 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 79225 term 3 leader 1 nextIndex[2]: 16  matchIndex[2]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8856751280750880601 1 10} {2989863165333811742 1 11} {2325353671473118460 1 12} {5719054850175088716 1 13} {2832225366417635862 1 14} {5678563066748525246 1 15}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8856751280750880601 1 10} {2989863165333811742 1 11} {2325353671473118460 1 12} {5719054850175088716 1 13} {2832225366417635862 1 14} {5678563066748525246 1 15}]
------------------------------------------------------
client write log 5678563066748525246 (index 16) to leader 1
flag 93448 term 3 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 44881 term 3 leader 1 nextIndex[2]: 16  matchIndex[2]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {8856751280750880601 1 10} {2989863165333811742 1 11} {2325353671473118460 1 12} {5719054850175088716 1 13} {2832225366417635862 1 14} {5678563066748525246 1 15} {5678563066748525246 3 16}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {8856751280750880601 1 10} {2989863165333811742 1 11} {2325353671473118460 1 12} {5719054850175088716 1 13} {2832225366417635862 1 14} {5678563066748525246 1 15} {5678563066748525246 3 16}]
------------------------------------------------------
flag 3048 term 3 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 76873 term 3 leader 1 nextIndex[2]: 17  matchIndex[2]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {8856751280750880601 1 10} {2989863165333811742 1 11} {2325353671473118460 1 12} {5719054850175088716 1 13} {2832225366417635862 1 14} {5678563066748525246 1 15} {5678563066748525246 3 16}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {8856751280750880601 1 10} {2989863165333811742 1 11} {2325353671473118460 1 12} {5719054850175088716 1 13} {2832225366417635862 1 14} {5678563066748525246 1 15} {5678563066748525246 3 16}]
------------------------------------------------------
flag 85569 term 3 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 59666 term 3 leader 1 nextIndex[2]: 17  matchIndex[2]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
term 3 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
[{snapshot 1 9} {8856751280750880601 1 10} {2989863165333811742 1 11} {2325353671473118460 1 12} {5719054850175088716 1 13} {2832225366417635862 1 14} {5678563066748525246 1 15} {5678563066748525246 3 16}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {8856751280750880601 1 10} {2989863165333811742 1 11} {2325353671473118460 1 12} {5719054850175088716 1 13} {2832225366417635862 1 14} {5678563066748525246 1 15} {5678563066748525246 3 16}]
------------------------------------------------------
flag 50745 term 3 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 44842 term 3 leader 1 nextIndex[2]: 17  matchIndex[2]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {8856751280750880601 1 10} {2989863165333811742 1 11} {2325353671473118460 1 12} {5719054850175088716 1 13} {2832225366417635862 1 14} {5678563066748525246 1 15} {5678563066748525246 3 16}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {8856751280750880601 1 10} {2989863165333811742 1 11} {2325353671473118460 1 12} {5719054850175088716 1 13} {2832225366417635862 1 14} {5678563066748525246 1 15} {5678563066748525246 3 16}]
------------------------------------------------------
flag 71806 term 3 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 62251 term 3 leader 1 nextIndex[2]: 17  matchIndex[2]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {8856751280750880601 1 10} {2989863165333811742 1 11} {2325353671473118460 1 12} {5719054850175088716 1 13} {2832225366417635862 1 14} {5678563066748525246 1 15} {5678563066748525246 3 16}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {8856751280750880601 1 10} {2989863165333811742 1 11} {2325353671473118460 1 12} {5719054850175088716 1 13} {2832225366417635862 1 14} {5678563066748525246 1 15} {5678563066748525246 3 16}]
------------------------------------------------------
flag 89243 term 3 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 75442 term 3 leader 1 nextIndex[2]: 17  matchIndex[2]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {8856751280750880601 1 10} {2989863165333811742 1 11} {2325353671473118460 1 12} {5719054850175088716 1 13} {2832225366417635862 1 14} {5678563066748525246 1 15} {5678563066748525246 3 16}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {8856751280750880601 1 10} {2989863165333811742 1 11} {2325353671473118460 1 12} {5719054850175088716 1 13} {2832225366417635862 1 14} {5678563066748525246 1 15} {5678563066748525246 3 16}]
------------------------------------------------------
flag 68976 term 3 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 5500 term 3 leader 1 nextIndex[2]: 17  matchIndex[2]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {8856751280750880601 1 10} {2989863165333811742 1 11} {2325353671473118460 1 12} {5719054850175088716 1 13} {2832225366417635862 1 14} {5678563066748525246 1 15} {5678563066748525246 3 16}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {8856751280750880601 1 10} {2989863165333811742 1 11} {2325353671473118460 1 12} {5719054850175088716 1 13} {2832225366417635862 1 14} {5678563066748525246 1 15} {5678563066748525246 3 16}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 9561 term 3 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 90901 term 3 leader 1 nextIndex[2]: 17  matchIndex[2]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 48713 term 3 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 84161 term 3 leader 1 nextIndex[2]: 17  matchIndex[2]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 45716 term 3 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 89111 term 3 leader 1 nextIndex[2]: 17  matchIndex[2]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
term 3 server 0 not vote for server 2, 任期不够新
term 3 server 2 get outdate rpc reply from server 0
flag 40961 term 3 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 31536 term 3 leader 1 nextIndex[2]: 17  matchIndex[2]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
term 4 server 0 vote for server 2
term 4 server 2 get vote from server 0
term 4 server 2 become leader
------------------------------------------------------
flag 71506 term 4 leader 2 nextIndex[0]: 17  matchIndex[0]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 42264 term 4 leader 2 nextIndex[1]: 17  matchIndex[1]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {8856751280750880601 1 10} {2989863165333811742 1 11} {2325353671473118460 1 12} {5719054850175088716 1 13} {2832225366417635862 1 14} {5678563066748525246 1 15} {5678563066748525246 3 16}]
------------------------------------------------------
client write log 421342376445154592 (index 17) to leader 2
flag 41446 term 3 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 63674 term 3 leader 1 nextIndex[2]: 17  matchIndex[2]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 73680 term 4 leader 2 nextIndex[0]: 17  matchIndex[0]: 16
term 4 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 506 term 4 leader 2 nextIndex[1]: 17  matchIndex[1]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8856751280750880601 1 10} {2989863165333811742 1 11} {2325353671473118460 1 12} {5719054850175088716 1 13} {2832225366417635862 1 14} {5678563066748525246 1 15} {5678563066748525246 3 16} {421342376445154592 4 17}]
------------------------------------------------------
flag 90619 term 3 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 89865 term 3 leader 1 nextIndex[2]: 17  matchIndex[2]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 29693 term 4 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 4 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
flag 23972 term 4 leader 2 nextIndex[1]: 17  matchIndex[1]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 17 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8856751280750880601 1 10} {2989863165333811742 1 11} {2325353671473118460 1 12} {5719054850175088716 1 13} {2832225366417635862 1 14} {5678563066748525246 1 15} {5678563066748525246 3 16} {421342376445154592 4 17}]
------------------------------------------------------
client write log 7588079638166767226 (index 18) to leader 2
client write log 6204951673742420318 (index 19) to leader 2
client write log 8403880298146377962 (index 20) to leader 2
client write log 7449797303905138791 (index 21) to leader 2
client write log 3857116855246535578 (index 22) to leader 2
client write log 4503888774532873821 (index 23) to leader 2
flag 89315 term 3 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 19824 term 3 leader 1 nextIndex[2]: 17  matchIndex[2]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 17->16
------------------------------------------------------
flag 8861 term 4 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 4 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
term 4 leader 2 nextIndex[1]: 0  matchIndex[1]: 0
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 1 9} {8856751280750880601 1 10} {2989863165333811742 1 11} {2325353671473118460 1 12} {5719054850175088716 1 13} {2832225366417635862 1 14} {5678563066748525246 1 15} {5678563066748525246 3 16} {421342376445154592 4 17} {7588079638166767226 4 18} {6204951673742420318 4 19} {8403880298146377962 4 20} {7449797303905138791 4 21} {3857116855246535578 4 22} {4503888774532873821 4 23}]
------------------------------------------------------
term 4 Server2 start snapshot! index=19
term 4 server2 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=23
-------------------------------------------------------------
flag 52458 term 3 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 66734 term 3 leader 1 nextIndex[2]: 17  matchIndex[2]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72234 term 4 leader 2 nextIndex[0]: 24  matchIndex[0]: 23
term 4 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 leader 2 nextIndex[1]: 0  matchIndex[1]: 0
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {8403880298146377962 4 20} {7449797303905138791 4 21} {3857116855246535578 4 22} {4503888774532873821 4 23}]
------------------------------------------------------
term 4 Server0 start snapshot! index=19
term 4 server0 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=23
-------------------------------------------------------------
!!!!!!connect server 1
client write log 1101552059190293805 (index 17) to leader 1
flag 76520 term 3 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 86242 term 3 leader 1 nextIndex[2]: 17  matchIndex[2]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
term 4 server 2 AppendEntries false 领导者任期过期 args.Term 3
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 4 server 0 AppendEntries false 领导者任期过期 args.Term 3
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55415 term 4 leader 2 nextIndex[0]: 24  matchIndex[0]: 23
term 4 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 leader 2 nextIndex[1]: 0  matchIndex[1]: 0
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 1 InstallSnapshot success
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 19 rf.lastIncludedTerm 4 rf.commitIndex 19 rf.lastApplied 19
term 4 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 20 matchIndex[1] 19 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {8403880298146377962 4 20} {7449797303905138791 4 21} {3857116855246535578 4 22} {4503888774532873821 4 23}]
------------------------------------------------------
flag 34928 term 4 leader 2 nextIndex[0]: 24  matchIndex[0]: 23
term 4 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 40607 term 4 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {8403880298146377962 4 20} {7449797303905138791 4 21} {3857116855246535578 4 22} {4503888774532873821 4 23}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {8403880298146377962 4 20} {7449797303905138791 4 21} {3857116855246535578 4 22} {4503888774532873821 4 23}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28335 term 4 leader 2 nextIndex[0]: 24  matchIndex[0]: 23
term 4 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 4401 term 4 leader 2 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {8403880298146377962 4 20} {7449797303905138791 4 21} {3857116855246535578 4 22} {4503888774532873821 4 23}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {8403880298146377962 4 20} {7449797303905138791 4 21} {3857116855246535578 4 22} {4503888774532873821 4 23}]
------------------------------------------------------
flag 47787 term 4 leader 2 nextIndex[0]: 24  matchIndex[0]: 23
term 4 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 99864 term 4 leader 2 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {8403880298146377962 4 20} {7449797303905138791 4 21} {3857116855246535578 4 22} {4503888774532873821 4 23}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {8403880298146377962 4 20} {7449797303905138791 4 21} {3857116855246535578 4 22} {4503888774532873821 4 23}]
------------------------------------------------------
flag 56377 term 4 leader 2 nextIndex[0]: 24  matchIndex[0]: 23
term 4 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 14896 term 4 leader 2 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {8403880298146377962 4 20} {7449797303905138791 4 21} {3857116855246535578 4 22} {4503888774532873821 4 23}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {8403880298146377962 4 20} {7449797303905138791 4 21} {3857116855246535578 4 22} {4503888774532873821 4 23}]
------------------------------------------------------
flag 88187 term 4 leader 2 nextIndex[0]: 24  matchIndex[0]: 23
term 4 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 29678 term 4 leader 2 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {8403880298146377962 4 20} {7449797303905138791 4 21} {3857116855246535578 4 22} {4503888774532873821 4 23}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {8403880298146377962 4 20} {7449797303905138791 4 21} {3857116855246535578 4 22} {4503888774532873821 4 23}]
------------------------------------------------------
flag 33095 term 4 leader 2 nextIndex[0]: 24  matchIndex[0]: 23
term 4 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 34295 term 4 leader 2 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {8403880298146377962 4 20} {7449797303905138791 4 21} {3857116855246535578 4 22} {4503888774532873821 4 23}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {8403880298146377962 4 20} {7449797303905138791 4 21} {3857116855246535578 4 22} {4503888774532873821 4 23}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53208 term 4 leader 2 nextIndex[0]: 24  matchIndex[0]: 23
term 4 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 92356 term 4 leader 2 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {8403880298146377962 4 20} {7449797303905138791 4 21} {3857116855246535578 4 22} {4503888774532873821 4 23}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {8403880298146377962 4 20} {7449797303905138791 4 21} {3857116855246535578 4 22} {4503888774532873821 4 23}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 24->23
------------------------------------------------------
flag 42562 term 4 leader 2 nextIndex[0]: 24  matchIndex[0]: 23
term 4 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 leader 2 nextIndex[1]: 0  matchIndex[1]: 23
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 1 InstallSnapshot fail
rf.commitIndex 23 args.LastIncludedIndex 19
------------------------------------------------------
term 4 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 20 matchIndex[1] 19 
------------------------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {8403880298146377962 4 20} {7449797303905138791 4 21} {3857116855246535578 4 22} {4503888774532873821 4 23}]
------------------------------------------------------
flag 77999 term 4 leader 2 nextIndex[0]: 24  matchIndex[0]: 23
term 4 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 77508 term 4 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {8403880298146377962 4 20} {7449797303905138791 4 21} {3857116855246535578 4 22} {4503888774532873821 4 23}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {8403880298146377962 4 20} {7449797303905138791 4 21} {3857116855246535578 4 22} {4503888774532873821 4 23}]
------------------------------------------------------
flag 92545 term 4 leader 2 nextIndex[0]: 24  matchIndex[0]: 23
term 4 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 67421 term 4 leader 2 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {8403880298146377962 4 20} {7449797303905138791 4 21} {3857116855246535578 4 22} {4503888774532873821 4 23}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {8403880298146377962 4 20} {7449797303905138791 4 21} {3857116855246535578 4 22} {4503888774532873821 4 23}]
------------------------------------------------------
flag 8327 term 4 leader 2 nextIndex[0]: 24  matchIndex[0]: 23
term 4 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 34764 term 4 leader 2 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {8403880298146377962 4 20} {7449797303905138791 4 21} {3857116855246535578 4 22} {4503888774532873821 4 23}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {8403880298146377962 4 20} {7449797303905138791 4 21} {3857116855246535578 4 22} {4503888774532873821 4 23}]
------------------------------------------------------
flag 19848 term 4 leader 2 nextIndex[0]: 24  matchIndex[0]: 23
term 4 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 9772 term 4 leader 2 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {8403880298146377962 4 20} {7449797303905138791 4 21} {3857116855246535578 4 22} {4503888774532873821 4 23}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {8403880298146377962 4 20} {7449797303905138791 4 21} {3857116855246535578 4 22} {4503888774532873821 4 23}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 24->23
------------------------------------------------------
flag 76208 term 4 leader 2 nextIndex[0]: 24  matchIndex[0]: 23
term 4 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 leader 2 nextIndex[1]: 0  matchIndex[1]: 23
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 1 InstallSnapshot fail
rf.commitIndex 23 args.LastIncludedIndex 19
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
term 4 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 20 matchIndex[1] 19 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {8403880298146377962 4 20} {7449797303905138791 4 21} {3857116855246535578 4 22} {4503888774532873821 4 23}]
------------------------------------------------------
flag 6351 term 4 leader 2 nextIndex[0]: 24  matchIndex[0]: 23
term 4 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 85603 term 4 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {8403880298146377962 4 20} {7449797303905138791 4 21} {3857116855246535578 4 22} {4503888774532873821 4 23}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {8403880298146377962 4 20} {7449797303905138791 4 21} {3857116855246535578 4 22} {4503888774532873821 4 23}]
------------------------------------------------------
flag 37129 term 4 leader 2 nextIndex[0]: 24  matchIndex[0]: 23
term 4 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 40405 term 4 leader 2 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {8403880298146377962 4 20} {7449797303905138791 4 21} {3857116855246535578 4 22} {4503888774532873821 4 23}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {8403880298146377962 4 20} {7449797303905138791 4 21} {3857116855246535578 4 22} {4503888774532873821 4 23}]
------------------------------------------------------
flag 24207 term 4 leader 2 nextIndex[0]: 24  matchIndex[0]: 23
term 4 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 71007 term 4 leader 2 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
term 4 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
[{snapshot 4 19} {8403880298146377962 4 20} {7449797303905138791 4 21} {3857116855246535578 4 22} {4503888774532873821 4 23}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {8403880298146377962 4 20} {7449797303905138791 4 21} {3857116855246535578 4 22} {4503888774532873821 4 23}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90143 term 4 leader 2 nextIndex[0]: 24  matchIndex[0]: 23
term 4 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 80647 term 4 leader 2 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {8403880298146377962 4 20} {7449797303905138791 4 21} {3857116855246535578 4 22} {4503888774532873821 4 23}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {8403880298146377962 4 20} {7449797303905138791 4 21} {3857116855246535578 4 22} {4503888774532873821 4 23}]
------------------------------------------------------
flag 80602 term 4 leader 2 nextIndex[0]: 24  matchIndex[0]: 23
term 4 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 19601 term 4 leader 2 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {8403880298146377962 4 20} {7449797303905138791 4 21} {3857116855246535578 4 22} {4503888774532873821 4 23}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {8403880298146377962 4 20} {7449797303905138791 4 21} {3857116855246535578 4 22} {4503888774532873821 4 23}]
------------------------------------------------------
flag 48876 term 4 leader 2 nextIndex[0]: 24  matchIndex[0]: 23
term 4 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 14334 term 4 leader 2 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {8403880298146377962 4 20} {7449797303905138791 4 21} {3857116855246535578 4 22} {4503888774532873821 4 23}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {8403880298146377962 4 20} {7449797303905138791 4 21} {3857116855246535578 4 22} {4503888774532873821 4 23}]
------------------------------------------------------
client write log 1101552059190293805 (index 24) to leader 2
flag 12065 term 4 leader 2 nextIndex[0]: 24  matchIndex[0]: 23
term 4 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 49613 term 4 leader 2 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {8403880298146377962 4 20} {7449797303905138791 4 21} {3857116855246535578 4 22} {4503888774532873821 4 23} {1101552059190293805 4 24}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {8403880298146377962 4 20} {7449797303905138791 4 21} {3857116855246535578 4 22} {4503888774532873821 4 23} {1101552059190293805 4 24}]
------------------------------------------------------
flag 89462 term 4 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 60012 term 4 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {8403880298146377962 4 20} {7449797303905138791 4 21} {3857116855246535578 4 22} {4503888774532873821 4 23} {1101552059190293805 4 24}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {8403880298146377962 4 20} {7449797303905138791 4 21} {3857116855246535578 4 22} {4503888774532873821 4 23} {1101552059190293805 4 24}]
------------------------------------------------------
flag 17140 term 4 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 1851 term 4 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {8403880298146377962 4 20} {7449797303905138791 4 21} {3857116855246535578 4 22} {4503888774532873821 4 23} {1101552059190293805 4 24}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {8403880298146377962 4 20} {7449797303905138791 4 21} {3857116855246535578 4 22} {4503888774532873821 4 23} {1101552059190293805 4 24}]
------------------------------------------------------
flag 10763 term 4 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 49093 term 4 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
term 4 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
[{snapshot 4 19} {8403880298146377962 4 20} {7449797303905138791 4 21} {3857116855246535578 4 22} {4503888774532873821 4 23} {1101552059190293805 4 24}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {8403880298146377962 4 20} {7449797303905138791 4 21} {3857116855246535578 4 22} {4503888774532873821 4 23} {1101552059190293805 4 24}]
------------------------------------------------------
term 4 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67595 term 4 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 33726 term 4 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {8403880298146377962 4 20} {7449797303905138791 4 21} {3857116855246535578 4 22} {4503888774532873821 4 23} {1101552059190293805 4 24}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {8403880298146377962 4 20} {7449797303905138791 4 21} {3857116855246535578 4 22} {4503888774532873821 4 23} {1101552059190293805 4 24}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19190 term 4 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 30750 term 4 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {8403880298146377962 4 20} {7449797303905138791 4 21} {3857116855246535578 4 22} {4503888774532873821 4 23} {1101552059190293805 4 24}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {8403880298146377962 4 20} {7449797303905138791 4 21} {3857116855246535578 4 22} {4503888774532873821 4 23} {1101552059190293805 4 24}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 0
client write log 3509015839161279827 (index 25) to leader 2
flag 47714 term 4 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 32087 term 4 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {8403880298146377962 4 20} {7449797303905138791 4 21} {3857116855246535578 4 22} {4503888774532873821 4 23} {1101552059190293805 4 24} {3509015839161279827 4 25}]
------------------------------------------------------
flag 44051 term 4 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 21810 term 4 leader 2 nextIndex[1]: 26  matchIndex[1]: 25
term 4 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {8403880298146377962 4 20} {7449797303905138791 4 21} {3857116855246535578 4 22} {4503888774532873821 4 23} {1101552059190293805 4 24} {3509015839161279827 4 25}]
------------------------------------------------------
client write log 2333745345358132955 (index 26) to leader 2
client write log 934064566920923067 (index 27) to leader 2
client write log 3992830158161398903 (index 28) to leader 2
client write log 7786814464877190458 (index 29) to leader 2
client write log 3769466695645525512 (index 30) to leader 2
client write log 4113255955996961387 (index 31) to leader 2
client write log 2562090388690765765 (index 32) to leader 2
client write log 8140346770834744370 (index 33) to leader 2
client write log 7812732374531734270 (index 34) to leader 2
client write log 8366583559087627876 (index 35) to leader 2
client write log 7831655904008777838 (index 36) to leader 2
client write log 6470142693993682063 (index 37) to leader 2
client write log 9153324875811615526 (index 38) to leader 2
flag 15322 term 4 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 16246 term 4 leader 2 nextIndex[1]: 26  matchIndex[1]: 25
term 4 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=38
leader log:
[{snapshot 4 19} {8403880298146377962 4 20} {7449797303905138791 4 21} {3857116855246535578 4 22} {4503888774532873821 4 23} {1101552059190293805 4 24} {3509015839161279827 4 25} {2333745345358132955 4 26} {934064566920923067 4 27} {3992830158161398903 4 28} {7786814464877190458 4 29} {3769466695645525512 4 30} {4113255955996961387 4 31} {2562090388690765765 4 32} {8140346770834744370 4 33} {7812732374531734270 4 34} {8366583559087627876 4 35} {7831655904008777838 4 36} {6470142693993682063 4 37} {9153324875811615526 4 38}]
------------------------------------------------------
term 4 Server2 start snapshot! index=29
term 4 server2 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=38
-------------------------------------------------------------
term 4 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
flag 43486 term 4 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
term 4 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {3769466695645525512 4 30} {4113255955996961387 4 31} {2562090388690765765 4 32} {8140346770834744370 4 33} {7812732374531734270 4 34} {8366583559087627876 4 35} {7831655904008777838 4 36} {6470142693993682063 4 37} {9153324875811615526 4 38}]
------------------------------------------------------
term 4 Server1 start snapshot! index=29
term 4 server1 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=38
-------------------------------------------------------------
!!!!!!connect server 0
client write log 8415099747552826395 (index 39) to leader 2
term 4 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
flag 51384 term 4 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
term 4 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=39
leader log:
[{snapshot 4 29} {3769466695645525512 4 30} {4113255955996961387 4 31} {2562090388690765765 4 32} {8140346770834744370 4 33} {7812732374531734270 4 34} {8366583559087627876 4 35} {7831655904008777838 4 36} {6470142693993682063 4 37} {9153324875811615526 4 38} {8415099747552826395 4 39}]
------------------------------------------------------
term 5 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 4 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 5 Server2 start snapshot! index=39
term 5 server2 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=39
-------------------------------------------------------------
term 6 server 1 vote for server 2
term 6 server 0 vote for server 2
term 6 server 2 get vote from server 0
term 6 server 2 become leader
------------------------------------------------------
term 6 server 2 get outdate rpc reply from server 1
flag 24329 term 6 leader 2 nextIndex[0]: 40  matchIndex[0]: 0
term 6 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
flag 46164 term 6 leader 2 nextIndex[1]: 40  matchIndex[1]: 0
term 6 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
term 6 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 40->39
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=39
leader log:
[{snapshot 4 39}]
------------------------------------------------------
term 6 Server1 start snapshot! index=39
term 6 server1 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=39
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 6 leader 2 nextIndex[0]: 25  matchIndex[0]: 0
term 6 leader 2 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 4
------------------------------------------------------
flag 7807 term 6 leader 2 nextIndex[1]: 40  matchIndex[1]: 39
term 6 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=39
leader log:
[{snapshot 4 39}]
term 6 server 0 InstallSnapshot success
------------------------------------------------------
------------------------------------------------------
term 6 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 40 matchIndex[0] 39 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 39 rf.lastIncludedTerm 4 rf.commitIndex 39 rf.lastApplied 39
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16879 term 6 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 6 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
flag 16468 term 6 leader 2 nextIndex[1]: 40  matchIndex[1]: 39
term 6 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=39
leader log:
[{snapshot 4 39}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=39
leader log:
[{snapshot 4 39}]
------------------------------------------------------
flag 135 term 6 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 6 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
flag 37169 term 6 leader 2 nextIndex[1]: 40  matchIndex[1]: 39
term 6 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=39
leader log:
[{snapshot 4 39}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=39
leader log:
[{snapshot 4 39}]
------------------------------------------------------
flag 87494 term 6 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 6 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
flag 50056 term 6 leader 2 nextIndex[1]: 40  matchIndex[1]: 39
term 6 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=39
leader log:
[{snapshot 4 39}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=39
leader log:
[{snapshot 4 39}]
------------------------------------------------------
flag 94394 term 6 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 6 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
flag 39760 term 6 leader 2 nextIndex[1]: 40  matchIndex[1]: 39
term 6 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=39
leader log:
[{snapshot 4 39}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=39
leader log:
[{snapshot 4 39}]
------------------------------------------------------
flag 67861 term 6 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 6 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
flag 62931 term 6 leader 2 nextIndex[1]: 40  matchIndex[1]: 39
term 6 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=39
leader log:
[{snapshot 4 39}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=39
leader log:
[{snapshot 4 39}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 4003944765195112422 (index 40) to leader 2
flag 28317 term 6 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 6 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
flag 20901 term 6 leader 2 nextIndex[1]: 40  matchIndex[1]: 39
term 6 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {4003944765195112422 6 40}]
------------------------------------------------------
flag 20558 term 6 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 6 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 40 
------------------------------------------------------
flag 32290 term 6 leader 2 nextIndex[1]: 41  matchIndex[1]: 40
term 6 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {4003944765195112422 6 40}]
------------------------------------------------------
client write log 6963173809978806436 (index 41) to leader 2
client write log 4083784896361252733 (index 42) to leader 2
client write log 6574687285359058526 (index 43) to leader 2
client write log 3016487173480113090 (index 44) to leader 2
client write log 8717760456633637910 (index 45) to leader 2
client write log 7140663526518685292 (index 46) to leader 2
flag 4309 term 6 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 6 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 40 
------------------------------------------------------
flag 67234 term 6 leader 2 nextIndex[1]: 41  matchIndex[1]: 40
term 6 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {4003944765195112422 6 40} {6963173809978806436 6 41} {4083784896361252733 6 42} {6574687285359058526 6 43} {3016487173480113090 6 44} {8717760456633637910 6 45} {7140663526518685292 6 46}]
------------------------------------------------------
flag 40901 term 6 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 6 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 46 
------------------------------------------------------
flag 12100 term 6 leader 2 nextIndex[1]: 47  matchIndex[1]: 46
term 6 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {4003944765195112422 6 40} {6963173809978806436 6 41} {4083784896361252733 6 42} {6574687285359058526 6 43} {3016487173480113090 6 44} {8717760456633637910 6 45} {7140663526518685292 6 46}]
------------------------------------------------------
!!!!!!connect server 0
client write log 41589781169276317 (index 47) to leader 2
term 6 server 2 not vote for server 0, 日志不够新
term 6 server 1 not vote for server 0, 日志不够新
term 8 server 1 vote for server 2
term 8 server 0 vote for server 2
term 8 server 2 get vote from server 1
term 8 server 2 become leader
------------------------------------------------------
term 8 server 2 get outdate rpc reply from server 0
flag 42042 term 8 leader 2 nextIndex[0]: 48  matchIndex[0]: 0
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 66366 term 8 leader 2 nextIndex[1]: 48  matchIndex[1]: 0
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 8 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 48->47
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 48->47
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23082 term 8 leader 2 nextIndex[0]: 40  matchIndex[0]: 0
term 8 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 46 
------------------------------------------------------
flag 86671 term 8 leader 2 nextIndex[1]: 47  matchIndex[1]: 0
term 8 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {4003944765195112422 6 40} {6963173809978806436 6 41} {4083784896361252733 6 42} {6574687285359058526 6 43} {3016487173480113090 6 44} {8717760456633637910 6 45} {7140663526518685292 6 46} {41589781169276317 6 47}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {4003944765195112422 6 40} {6963173809978806436 6 41} {4083784896361252733 6 42} {6574687285359058526 6 43} {3016487173480113090 6 44} {8717760456633637910 6 45} {7140663526518685292 6 46} {41589781169276317 6 47}]
------------------------------------------------------
flag 42223 term 8 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 8210 term 8 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=46
leader log:
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
[{snapshot 4 39} {4003944765195112422 6 40} {6963173809978806436 6 41} {4083784896361252733 6 42} {6574687285359058526 6 43} {3016487173480113090 6 44} {8717760456633637910 6 45} {7140663526518685292 6 46} {41589781169276317 6 47}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {4003944765195112422 6 40} {6963173809978806436 6 41} {4083784896361252733 6 42} {6574687285359058526 6 43} {3016487173480113090 6 44} {8717760456633637910 6 45} {7140663526518685292 6 46} {41589781169276317 6 47}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28713 term 8 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 48321 term 8 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {4003944765195112422 6 40} {6963173809978806436 6 41} {4083784896361252733 6 42} {6574687285359058526 6 43} {3016487173480113090 6 44} {8717760456633637910 6 45} {7140663526518685292 6 46} {41589781169276317 6 47}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {4003944765195112422 6 40} {6963173809978806436 6 41} {4083784896361252733 6 42} {6574687285359058526 6 43} {3016487173480113090 6 44} {8717760456633637910 6 45} {7140663526518685292 6 46} {41589781169276317 6 47}]
------------------------------------------------------
flag 85898 term 8 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 31125 term 8 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {4003944765195112422 6 40} {6963173809978806436 6 41} {4083784896361252733 6 42} {6574687285359058526 6 43} {3016487173480113090 6 44} {8717760456633637910 6 45} {7140663526518685292 6 46} {41589781169276317 6 47}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {4003944765195112422 6 40} {6963173809978806436 6 41} {4083784896361252733 6 42} {6574687285359058526 6 43} {3016487173480113090 6 44} {8717760456633637910 6 45} {7140663526518685292 6 46} {41589781169276317 6 47}]
------------------------------------------------------
flag 73385 term 8 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 78027 term 8 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=46
leader log:
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
[{snapshot 4 39} {4003944765195112422 6 40} {6963173809978806436 6 41} {4083784896361252733 6 42} {6574687285359058526 6 43} {3016487173480113090 6 44} {8717760456633637910 6 45} {7140663526518685292 6 46} {41589781169276317 6 47}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {4003944765195112422 6 40} {6963173809978806436 6 41} {4083784896361252733 6 42} {6574687285359058526 6 43} {3016487173480113090 6 44} {8717760456633637910 6 45} {7140663526518685292 6 46} {41589781169276317 6 47}]
------------------------------------------------------
flag 68047 term 8 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 36248 term 8 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {4003944765195112422 6 40} {6963173809978806436 6 41} {4083784896361252733 6 42} {6574687285359058526 6 43} {3016487173480113090 6 44} {8717760456633637910 6 45} {7140663526518685292 6 46} {41589781169276317 6 47}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {4003944765195112422 6 40} {6963173809978806436 6 41} {4083784896361252733 6 42} {6574687285359058526 6 43} {3016487173480113090 6 44} {8717760456633637910 6 45} {7140663526518685292 6 46} {41589781169276317 6 47}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60928 term 8 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 35180 term 8 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {4003944765195112422 6 40} {6963173809978806436 6 41} {4083784896361252733 6 42} {6574687285359058526 6 43} {3016487173480113090 6 44} {8717760456633637910 6 45} {7140663526518685292 6 46} {41589781169276317 6 47}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {4003944765195112422 6 40} {6963173809978806436 6 41} {4083784896361252733 6 42} {6574687285359058526 6 43} {3016487173480113090 6 44} {8717760456633637910 6 45} {7140663526518685292 6 46} {41589781169276317 6 47}]
------------------------------------------------------
flag 94781 term 8 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 98467 term 8 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
term 8 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {4003944765195112422 6 40} {6963173809978806436 6 41} {4083784896361252733 6 42} {6574687285359058526 6 43} {3016487173480113090 6 44} {8717760456633637910 6 45} {7140663526518685292 6 46} {41589781169276317 6 47}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {4003944765195112422 6 40} {6963173809978806436 6 41} {4083784896361252733 6 42} {6574687285359058526 6 43} {3016487173480113090 6 44} {8717760456633637910 6 45} {7140663526518685292 6 46} {41589781169276317 6 47}]
------------------------------------------------------
term 8 server 2 not vote for server 0, 任期不够新
term 8 server 0 get outdate rpc reply from server 2
flag 72630 term 8 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 34412 term 8 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {4003944765195112422 6 40} {6963173809978806436 6 41} {4083784896361252733 6 42} {6574687285359058526 6 43} {3016487173480113090 6 44} {8717760456633637910 6 45} {7140663526518685292 6 46} {41589781169276317 6 47}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {4003944765195112422 6 40} {6963173809978806436 6 41} {4083784896361252733 6 42} {6574687285359058526 6 43} {3016487173480113090 6 44} {8717760456633637910 6 45} {7140663526518685292 6 46} {41589781169276317 6 47}]
------------------------------------------------------
flag 14875 term 8 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 71663 term 8 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {4003944765195112422 6 40} {6963173809978806436 6 41} {4083784896361252733 6 42} {6574687285359058526 6 43} {3016487173480113090 6 44} {8717760456633637910 6 45} {7140663526518685292 6 46} {41589781169276317 6 47}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {4003944765195112422 6 40} {6963173809978806436 6 41} {4083784896361252733 6 42} {6574687285359058526 6 43} {3016487173480113090 6 44} {8717760456633637910 6 45} {7140663526518685292 6 46} {41589781169276317 6 47}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1172 term 8 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 77573 term 8 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {4003944765195112422 6 40} {6963173809978806436 6 41} {4083784896361252733 6 42} {6574687285359058526 6 43} {3016487173480113090 6 44} {8717760456633637910 6 45} {7140663526518685292 6 46} {41589781169276317 6 47}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {4003944765195112422 6 40} {6963173809978806436 6 41} {4083784896361252733 6 42} {6574687285359058526 6 43} {3016487173480113090 6 44} {8717760456633637910 6 45} {7140663526518685292 6 46} {41589781169276317 6 47}]
------------------------------------------------------
flag 58262 term 8 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 2959 term 8 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=46
leader log:
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
[{snapshot 4 39} {4003944765195112422 6 40} {6963173809978806436 6 41} {4083784896361252733 6 42} {6574687285359058526 6 43} {3016487173480113090 6 44} {8717760456633637910 6 45} {7140663526518685292 6 46} {41589781169276317 6 47}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {4003944765195112422 6 40} {6963173809978806436 6 41} {4083784896361252733 6 42} {6574687285359058526 6 43} {3016487173480113090 6 44} {8717760456633637910 6 45} {7140663526518685292 6 46} {41589781169276317 6 47}]
------------------------------------------------------
term 8 server 1 not vote for server 2, 任期不够新
term 8 server 2 get outdate rpc reply from server 1
flag 71667 term 8 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 60668 term 8 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {4003944765195112422 6 40} {6963173809978806436 6 41} {4083784896361252733 6 42} {6574687285359058526 6 43} {3016487173480113090 6 44} {8717760456633637910 6 45} {7140663526518685292 6 46} {41589781169276317 6 47}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {4003944765195112422 6 40} {6963173809978806436 6 41} {4083784896361252733 6 42} {6574687285359058526 6 43} {3016487173480113090 6 44} {8717760456633637910 6 45} {7140663526518685292 6 46} {41589781169276317 6 47}]
------------------------------------------------------
term 8 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 79270 term 8 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 30340 term 8 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {4003944765195112422 6 40} {6963173809978806436 6 41} {4083784896361252733 6 42} {6574687285359058526 6 43} {3016487173480113090 6 44} {8717760456633637910 6 45} {7140663526518685292 6 46} {41589781169276317 6 47}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {4003944765195112422 6 40} {6963173809978806436 6 41} {4083784896361252733 6 42} {6574687285359058526 6 43} {3016487173480113090 6 44} {8717760456633637910 6 45} {7140663526518685292 6 46} {41589781169276317 6 47}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53206 term 8 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 9616 term 8 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {4003944765195112422 6 40} {6963173809978806436 6 41} {4083784896361252733 6 42} {6574687285359058526 6 43} {3016487173480113090 6 44} {8717760456633637910 6 45} {7140663526518685292 6 46} {41589781169276317 6 47}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {4003944765195112422 6 40} {6963173809978806436 6 41} {4083784896361252733 6 42} {6574687285359058526 6 43} {3016487173480113090 6 44} {8717760456633637910 6 45} {7140663526518685292 6 46} {41589781169276317 6 47}]
------------------------------------------------------
flag 86302 term 8 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 15788 term 8 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {4003944765195112422 6 40} {6963173809978806436 6 41} {4083784896361252733 6 42} {6574687285359058526 6 43} {3016487173480113090 6 44} {8717760456633637910 6 45} {7140663526518685292 6 46} {41589781169276317 6 47}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {4003944765195112422 6 40} {6963173809978806436 6 41} {4083784896361252733 6 42} {6574687285359058526 6 43} {3016487173480113090 6 44} {8717760456633637910 6 45} {7140663526518685292 6 46} {41589781169276317 6 47}]
------------------------------------------------------
flag 82033 term 8 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 85502 term 8 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {4003944765195112422 6 40} {6963173809978806436 6 41} {4083784896361252733 6 42} {6574687285359058526 6 43} {3016487173480113090 6 44} {8717760456633637910 6 45} {7140663526518685292 6 46} {41589781169276317 6 47}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {4003944765195112422 6 40} {6963173809978806436 6 41} {4083784896361252733 6 42} {6574687285359058526 6 43} {3016487173480113090 6 44} {8717760456633637910 6 45} {7140663526518685292 6 46} {41589781169276317 6 47}]
------------------------------------------------------
flag 40477 term 8 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 93685 term 8 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {4003944765195112422 6 40} {6963173809978806436 6 41} {4083784896361252733 6 42} {6574687285359058526 6 43} {3016487173480113090 6 44} {8717760456633637910 6 45} {7140663526518685292 6 46} {41589781169276317 6 47}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {4003944765195112422 6 40} {6963173809978806436 6 41} {4083784896361252733 6 42} {6574687285359058526 6 43} {3016487173480113090 6 44} {8717760456633637910 6 45} {7140663526518685292 6 46} {41589781169276317 6 47}]
------------------------------------------------------
flag 27612 term 8 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 34890 term 8 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {4003944765195112422 6 40} {6963173809978806436 6 41} {4083784896361252733 6 42} {6574687285359058526 6 43} {3016487173480113090 6 44} {8717760456633637910 6 45} {7140663526518685292 6 46} {41589781169276317 6 47}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {4003944765195112422 6 40} {6963173809978806436 6 41} {4083784896361252733 6 42} {6574687285359058526 6 43} {3016487173480113090 6 44} {8717760456633637910 6 45} {7140663526518685292 6 46} {41589781169276317 6 47}]
------------------------------------------------------
client write log 41589781169276317 (index 48) to leader 2
flag 92213 term 8 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 70932 term 8 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {4003944765195112422 6 40} {6963173809978806436 6 41} {4083784896361252733 6 42} {6574687285359058526 6 43} {3016487173480113090 6 44} {8717760456633637910 6 45} {7140663526518685292 6 46} {41589781169276317 6 47} {41589781169276317 8 48}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {4003944765195112422 6 40} {6963173809978806436 6 41} {4083784896361252733 6 42} {6574687285359058526 6 43} {3016487173480113090 6 44} {8717760456633637910 6 45} {7140663526518685292 6 46} {41589781169276317 6 47} {41589781169276317 8 48}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 8 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 35260 term 8 leader 2 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 68916 term 8 leader 2 nextIndex[1]: 49  matchIndex[1]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {4003944765195112422 6 40} {6963173809978806436 6 41} {4083784896361252733 6 42} {6574687285359058526 6 43} {3016487173480113090 6 44} {8717760456633637910 6 45} {7140663526518685292 6 46} {41589781169276317 6 47} {41589781169276317 8 48}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {4003944765195112422 6 40} {6963173809978806436 6 41} {4083784896361252733 6 42} {6574687285359058526 6 43} {3016487173480113090 6 44} {8717760456633637910 6 45} {7140663526518685292 6 46} {41589781169276317 6 47} {41589781169276317 8 48}]
------------------------------------------------------
flag 14214 term 8 leader 2 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 20231 term 8 leader 2 nextIndex[1]: 49  matchIndex[1]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {4003944765195112422 6 40} {6963173809978806436 6 41} {4083784896361252733 6 42} {6574687285359058526 6 43} {3016487173480113090 6 44} {8717760456633637910 6 45} {7140663526518685292 6 46} {41589781169276317 6 47} {41589781169276317 8 48}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {4003944765195112422 6 40} {6963173809978806436 6 41} {4083784896361252733 6 42} {6574687285359058526 6 43} {3016487173480113090 6 44} {8717760456633637910 6 45} {7140663526518685292 6 46} {41589781169276317 6 47} {41589781169276317 8 48}]
------------------------------------------------------
flag 39128 term 8 leader 2 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 69007 term 8 leader 2 nextIndex[1]: 49  matchIndex[1]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {4003944765195112422 6 40} {6963173809978806436 6 41} {4083784896361252733 6 42} {6574687285359058526 6 43} {3016487173480113090 6 44} {8717760456633637910 6 45} {7140663526518685292 6 46} {41589781169276317 6 47} {41589781169276317 8 48}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {4003944765195112422 6 40} {6963173809978806436 6 41} {4083784896361252733 6 42} {6574687285359058526 6 43} {3016487173480113090 6 44} {8717760456633637910 6 45} {7140663526518685292 6 46} {41589781169276317 6 47} {41589781169276317 8 48}]
------------------------------------------------------
flag 4841 term 8 leader 2 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 19320 term 8 leader 2 nextIndex[1]: 49  matchIndex[1]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {4003944765195112422 6 40} {6963173809978806436 6 41} {4083784896361252733 6 42} {6574687285359058526 6 43} {3016487173480113090 6 44} {8717760456633637910 6 45} {7140663526518685292 6 46} {41589781169276317 6 47} {41589781169276317 8 48}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {4003944765195112422 6 40} {6963173809978806436 6 41} {4083784896361252733 6 42} {6574687285359058526 6 43} {3016487173480113090 6 44} {8717760456633637910 6 45} {7140663526518685292 6 46} {41589781169276317 6 47} {41589781169276317 8 48}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9266 term 8 leader 2 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 14699 term 8 leader 2 nextIndex[1]: 49  matchIndex[1]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {4003944765195112422 6 40} {6963173809978806436 6 41} {4083784896361252733 6 42} {6574687285359058526 6 43} {3016487173480113090 6 44} {8717760456633637910 6 45} {7140663526518685292 6 46} {41589781169276317 6 47} {41589781169276317 8 48}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {4003944765195112422 6 40} {6963173809978806436 6 41} {4083784896361252733 6 42} {6574687285359058526 6 43} {3016487173480113090 6 44} {8717760456633637910 6 45} {7140663526518685292 6 46} {41589781169276317 6 47} {41589781169276317 8 48}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 74413 term 8 leader 2 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 68804 term 8 leader 2 nextIndex[1]: 49  matchIndex[1]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 95751 term 8 leader 2 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 20429 term 8 leader 2 nextIndex[1]: 49  matchIndex[1]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 91194 term 8 leader 2 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 40963 term 8 leader 2 nextIndex[1]: 49  matchIndex[1]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 9 server 1 vote for server 0
term 9 server 0 get vote from server 1
term 9 server 0 become leader
------------------------------------------------------
client write log 4416909201623676538 (index 49) to leader 0
flag 69612 term 9 leader 0 nextIndex[1]: 49  matchIndex[1]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 36021 term 9 leader 0 nextIndex[2]: 49  matchIndex[2]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=49
leader log:
[{snapshot 4 39} {4003944765195112422 6 40} {6963173809978806436 6 41} {4083784896361252733 6 42} {6574687285359058526 6 43} {3016487173480113090 6 44} {8717760456633637910 6 45} {7140663526518685292 6 46} {41589781169276317 6 47} {41589781169276317 8 48} {4416909201623676538 9 49}]
------------------------------------------------------
term 9 Server0 start snapshot! index=49
term 9 server0 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=49
-------------------------------------------------------------
flag 12100 term 8 leader 2 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 1892 term 8 leader 2 nextIndex[1]: 49  matchIndex[1]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 83253 term 9 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 9 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 9 leaderCommit: 49 
------------------------------------------------------
term 9 leader 0 nextIndex[2]: 49  matchIndex[2]: 0
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=49
leader log:
[{snapshot 9 49}]
------------------------------------------------------
term 9 Server1 start snapshot! index=49
term 9 server1 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=49
-------------------------------------------------------------
client write log 4117646638613586912 (index 50) to leader 0
client write log 5216055361910640361 (index 51) to leader 0
client write log 652372662250325571 (index 52) to leader 0
client write log 8137899610456888532 (index 53) to leader 0
client write log 8578126396412262225 (index 54) to leader 0
client write log 7876853479122453440 (index 55) to leader 0
client write log 28210420326107857 (index 56) to leader 0
client write log 8835175466040191937 (index 57) to leader 0
flag 91185 term 8 leader 2 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 6556 term 8 leader 2 nextIndex[1]: 49  matchIndex[1]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 33599 term 9 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 9 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 9 leaderCommit: 49 
------------------------------------------------------
term 9 leader 0 nextIndex[2]: 49  matchIndex[2]: 0
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {4117646638613586912 9 50} {5216055361910640361 9 51} {652372662250325571 9 52} {8137899610456888532 9 53} {8578126396412262225 9 54} {7876853479122453440 9 55} {28210420326107857 9 56} {8835175466040191937 9 57}]
------------------------------------------------------
flag 67473 term 8 leader 2 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 26988 term 8 leader 2 nextIndex[1]: 49  matchIndex[1]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 75046 term 9 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
term 9 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 9 leader 0 nextIndex[2]: 49  matchIndex[2]: 0
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {4117646638613586912 9 50} {5216055361910640361 9 51} {652372662250325571 9 52} {8137899610456888532 9 53} {8578126396412262225 9 54} {7876853479122453440 9 55} {28210420326107857 9 56} {8835175466040191937 9 57}]
------------------------------------------------------
!!!!!!connect server 2
client write log 1360406742964745747 (index 49) to leader 2
flag 46835 term 8 leader 2 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 14103 term 8 leader 2 nextIndex[1]: 49  matchIndex[1]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 9 server 1 AppendEntries false 领导者任期过期 args.Term 8
------------------------------------------------------
term 9 server 0 AppendEntries false 领导者任期过期 args.Term 8
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82694 term 9 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
term 9 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 9 leader 0 nextIndex[2]: 49  matchIndex[2]: 0
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 2 InstallSnapshot success
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
term 9 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 50 matchIndex[2] 49 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 49 rf.lastIncludedTerm 9 rf.commitIndex 49 rf.lastApplied 49
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {4117646638613586912 9 50} {5216055361910640361 9 51} {652372662250325571 9 52} {8137899610456888532 9 53} {8578126396412262225 9 54} {7876853479122453440 9 55} {28210420326107857 9 56} {8835175466040191937 9 57}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71751 term 9 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
term 9 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
flag 71509 term 9 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 9 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {4117646638613586912 9 50} {5216055361910640361 9 51} {652372662250325571 9 52} {8137899610456888532 9 53} {8578126396412262225 9 54} {7876853479122453440 9 55} {28210420326107857 9 56} {8835175466040191937 9 57}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {4117646638613586912 9 50} {5216055361910640361 9 51} {652372662250325571 9 52} {8137899610456888532 9 53} {8578126396412262225 9 54} {7876853479122453440 9 55} {28210420326107857 9 56} {8835175466040191937 9 57}]
------------------------------------------------------
flag 12396 term 9 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
term 9 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
flag 4115 term 9 leader 0 nextIndex[2]: 58  matchIndex[2]: 57
term 9 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {4117646638613586912 9 50} {5216055361910640361 9 51} {652372662250325571 9 52} {8137899610456888532 9 53} {8578126396412262225 9 54} {7876853479122453440 9 55} {28210420326107857 9 56} {8835175466040191937 9 57}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {4117646638613586912 9 50} {5216055361910640361 9 51} {652372662250325571 9 52} {8137899610456888532 9 53} {8578126396412262225 9 54} {7876853479122453440 9 55} {28210420326107857 9 56} {8835175466040191937 9 57}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38529 term 9 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
term 9 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
flag 1008 term 9 leader 0 nextIndex[2]: 58  matchIndex[2]: 57
term 9 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {4117646638613586912 9 50} {5216055361910640361 9 51} {652372662250325571 9 52} {8137899610456888532 9 53} {8578126396412262225 9 54} {7876853479122453440 9 55} {28210420326107857 9 56} {8835175466040191937 9 57}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {4117646638613586912 9 50} {5216055361910640361 9 51} {652372662250325571 9 52} {8137899610456888532 9 53} {8578126396412262225 9 54} {7876853479122453440 9 55} {28210420326107857 9 56} {8835175466040191937 9 57}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79366 term 9 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
term 9 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
flag 85833 term 9 leader 0 nextIndex[2]: 58  matchIndex[2]: 57
term 9 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {4117646638613586912 9 50} {5216055361910640361 9 51} {652372662250325571 9 52} {8137899610456888532 9 53} {8578126396412262225 9 54} {7876853479122453440 9 55} {28210420326107857 9 56} {8835175466040191937 9 57}]
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {4117646638613586912 9 50} {5216055361910640361 9 51} {652372662250325571 9 52} {8137899610456888532 9 53} {8578126396412262225 9 54} {7876853479122453440 9 55} {28210420326107857 9 56} {8835175466040191937 9 57}]
------------------------------------------------------
flag 50329 term 9 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
term 9 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
flag 22922 term 9 leader 0 nextIndex[2]: 58  matchIndex[2]: 57
term 9 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {4117646638613586912 9 50} {5216055361910640361 9 51} {652372662250325571 9 52} {8137899610456888532 9 53} {8578126396412262225 9 54} {7876853479122453440 9 55} {28210420326107857 9 56} {8835175466040191937 9 57}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {4117646638613586912 9 50} {5216055361910640361 9 51} {652372662250325571 9 52} {8137899610456888532 9 53} {8578126396412262225 9 54} {7876853479122453440 9 55} {28210420326107857 9 56} {8835175466040191937 9 57}]
------------------------------------------------------
flag 31330 term 9 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
term 9 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
flag 76738 term 9 leader 0 nextIndex[2]: 58  matchIndex[2]: 57
term 9 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {4117646638613586912 9 50} {5216055361910640361 9 51} {652372662250325571 9 52} {8137899610456888532 9 53} {8578126396412262225 9 54} {7876853479122453440 9 55} {28210420326107857 9 56} {8835175466040191937 9 57}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {4117646638613586912 9 50} {5216055361910640361 9 51} {652372662250325571 9 52} {8137899610456888532 9 53} {8578126396412262225 9 54} {7876853479122453440 9 55} {28210420326107857 9 56} {8835175466040191937 9 57}]
------------------------------------------------------
term 9 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 63657 term 9 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
term 9 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
flag 30601 term 9 leader 0 nextIndex[2]: 58  matchIndex[2]: 57
term 9 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {4117646638613586912 9 50} {5216055361910640361 9 51} {652372662250325571 9 52} {8137899610456888532 9 53} {8578126396412262225 9 54} {7876853479122453440 9 55} {28210420326107857 9 56} {8835175466040191937 9 57}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {4117646638613586912 9 50} {5216055361910640361 9 51} {652372662250325571 9 52} {8137899610456888532 9 53} {8578126396412262225 9 54} {7876853479122453440 9 55} {28210420326107857 9 56} {8835175466040191937 9 57}]
------------------------------------------------------
term 9 server 1 not vote for server 0, 任期不够新
term 9 server 0 get outdate rpc reply from server 1
flag 60648 term 9 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
term 9 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
flag 52709 term 9 leader 0 nextIndex[2]: 58  matchIndex[2]: 57
term 9 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {4117646638613586912 9 50} {5216055361910640361 9 51} {652372662250325571 9 52} {8137899610456888532 9 53} {8578126396412262225 9 54} {7876853479122453440 9 55} {28210420326107857 9 56} {8835175466040191937 9 57}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {4117646638613586912 9 50} {5216055361910640361 9 51} {652372662250325571 9 52} {8137899610456888532 9 53} {8578126396412262225 9 54} {7876853479122453440 9 55} {28210420326107857 9 56} {8835175466040191937 9 57}]
------------------------------------------------------
flag 51370 term 9 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
term 9 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
flag 61983 term 9 leader 0 nextIndex[2]: 58  matchIndex[2]: 57
term 9 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {4117646638613586912 9 50} {5216055361910640361 9 51} {652372662250325571 9 52} {8137899610456888532 9 53} {8578126396412262225 9 54} {7876853479122453440 9 55} {28210420326107857 9 56} {8835175466040191937 9 57}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {4117646638613586912 9 50} {5216055361910640361 9 51} {652372662250325571 9 52} {8137899610456888532 9 53} {8578126396412262225 9 54} {7876853479122453440 9 55} {28210420326107857 9 56} {8835175466040191937 9 57}]
------------------------------------------------------
term 9 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 50 matchIndex[2] 49 
------------------------------------------------------------------------
flag 76719 term 9 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
term 9 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
flag 43428 term 9 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 9 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {4117646638613586912 9 50} {5216055361910640361 9 51} {652372662250325571 9 52} {8137899610456888532 9 53} {8578126396412262225 9 54} {7876853479122453440 9 55} {28210420326107857 9 56} {8835175466040191937 9 57}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {4117646638613586912 9 50} {5216055361910640361 9 51} {652372662250325571 9 52} {8137899610456888532 9 53} {8578126396412262225 9 54} {7876853479122453440 9 55} {28210420326107857 9 56} {8835175466040191937 9 57}]
------------------------------------------------------
flag 9999 term 9 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
term 9 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
flag 13837 term 9 leader 0 nextIndex[2]: 58  matchIndex[2]: 57
term 9 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {4117646638613586912 9 50} {5216055361910640361 9 51} {652372662250325571 9 52} {8137899610456888532 9 53} {8578126396412262225 9 54} {7876853479122453440 9 55} {28210420326107857 9 56} {8835175466040191937 9 57}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {4117646638613586912 9 50} {5216055361910640361 9 51} {652372662250325571 9 52} {8137899610456888532 9 53} {8578126396412262225 9 54} {7876853479122453440 9 55} {28210420326107857 9 56} {8835175466040191937 9 57}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55544 term 9 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
term 9 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
flag 98996 term 9 leader 0 nextIndex[2]: 58  matchIndex[2]: 57
term 9 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {4117646638613586912 9 50} {5216055361910640361 9 51} {652372662250325571 9 52} {8137899610456888532 9 53} {8578126396412262225 9 54} {7876853479122453440 9 55} {28210420326107857 9 56} {8835175466040191937 9 57}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {4117646638613586912 9 50} {5216055361910640361 9 51} {652372662250325571 9 52} {8137899610456888532 9 53} {8578126396412262225 9 54} {7876853479122453440 9 55} {28210420326107857 9 56} {8835175466040191937 9 57}]
------------------------------------------------------
flag 13120 term 9 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
term 9 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
flag 13048 term 9 leader 0 nextIndex[2]: 58  matchIndex[2]: 57
term 9 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {4117646638613586912 9 50} {5216055361910640361 9 51} {652372662250325571 9 52} {8137899610456888532 9 53} {8578126396412262225 9 54} {7876853479122453440 9 55} {28210420326107857 9 56} {8835175466040191937 9 57}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {4117646638613586912 9 50} {5216055361910640361 9 51} {652372662250325571 9 52} {8137899610456888532 9 53} {8578126396412262225 9 54} {7876853479122453440 9 55} {28210420326107857 9 56} {8835175466040191937 9 57}]
------------------------------------------------------
flag 55862 term 9 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
term 9 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
flag 64957 term 9 leader 0 nextIndex[2]: 58  matchIndex[2]: 57
term 9 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {4117646638613586912 9 50} {5216055361910640361 9 51} {652372662250325571 9 52} {8137899610456888532 9 53} {8578126396412262225 9 54} {7876853479122453440 9 55} {28210420326107857 9 56} {8835175466040191937 9 57}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {4117646638613586912 9 50} {5216055361910640361 9 51} {652372662250325571 9 52} {8137899610456888532 9 53} {8578126396412262225 9 54} {7876853479122453440 9 55} {28210420326107857 9 56} {8835175466040191937 9 57}]
------------------------------------------------------
flag 11450 term 9 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
term 9 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
flag 93066 term 9 leader 0 nextIndex[2]: 58  matchIndex[2]: 57
term 9 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {4117646638613586912 9 50} {5216055361910640361 9 51} {652372662250325571 9 52} {8137899610456888532 9 53} {8578126396412262225 9 54} {7876853479122453440 9 55} {28210420326107857 9 56} {8835175466040191937 9 57}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {4117646638613586912 9 50} {5216055361910640361 9 51} {652372662250325571 9 52} {8137899610456888532 9 53} {8578126396412262225 9 54} {7876853479122453440 9 55} {28210420326107857 9 56} {8835175466040191937 9 57}]
------------------------------------------------------
flag 60096 term 9 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
term 9 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
flag 68240 term 9 leader 0 nextIndex[2]: 58  matchIndex[2]: 57
term 9 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {4117646638613586912 9 50} {5216055361910640361 9 51} {652372662250325571 9 52} {8137899610456888532 9 53} {8578126396412262225 9 54} {7876853479122453440 9 55} {28210420326107857 9 56} {8835175466040191937 9 57}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {4117646638613586912 9 50} {5216055361910640361 9 51} {652372662250325571 9 52} {8137899610456888532 9 53} {8578126396412262225 9 54} {7876853479122453440 9 55} {28210420326107857 9 56} {8835175466040191937 9 57}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 9 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 50 matchIndex[2] 49 
------------------------------------------------------------------------
flag 91416 term 9 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
term 9 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
flag 66763 term 9 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 9 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {4117646638613586912 9 50} {5216055361910640361 9 51} {652372662250325571 9 52} {8137899610456888532 9 53} {8578126396412262225 9 54} {7876853479122453440 9 55} {28210420326107857 9 56} {8835175466040191937 9 57}]
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {4117646638613586912 9 50} {5216055361910640361 9 51} {652372662250325571 9 52} {8137899610456888532 9 53} {8578126396412262225 9 54} {7876853479122453440 9 55} {28210420326107857 9 56} {8835175466040191937 9 57}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23959 term 9 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
term 9 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
flag 43530 term 9 leader 0 nextIndex[2]: 58  matchIndex[2]: 57
term 9 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
term 9 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
[{snapshot 9 49} {4117646638613586912 9 50} {5216055361910640361 9 51} {652372662250325571 9 52} {8137899610456888532 9 53} {8578126396412262225 9 54} {7876853479122453440 9 55} {28210420326107857 9 56} {8835175466040191937 9 57}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {4117646638613586912 9 50} {5216055361910640361 9 51} {652372662250325571 9 52} {8137899610456888532 9 53} {8578126396412262225 9 54} {7876853479122453440 9 55} {28210420326107857 9 56} {8835175466040191937 9 57}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16358 term 9 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
term 9 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
flag 3484 term 9 leader 0 nextIndex[2]: 58  matchIndex[2]: 57
term 9 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {4117646638613586912 9 50} {5216055361910640361 9 51} {652372662250325571 9 52} {8137899610456888532 9 53} {8578126396412262225 9 54} {7876853479122453440 9 55} {28210420326107857 9 56} {8835175466040191937 9 57}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {4117646638613586912 9 50} {5216055361910640361 9 51} {652372662250325571 9 52} {8137899610456888532 9 53} {8578126396412262225 9 54} {7876853479122453440 9 55} {28210420326107857 9 56} {8835175466040191937 9 57}]
------------------------------------------------------
client write log 1360406742964745747 (index 58) to leader 0
flag 76914 term 9 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
term 9 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
flag 46777 term 9 leader 0 nextIndex[2]: 58  matchIndex[2]: 57
term 9 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {4117646638613586912 9 50} {5216055361910640361 9 51} {652372662250325571 9 52} {8137899610456888532 9 53} {8578126396412262225 9 54} {7876853479122453440 9 55} {28210420326107857 9 56} {8835175466040191937 9 57} {1360406742964745747 9 58}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {4117646638613586912 9 50} {5216055361910640361 9 51} {652372662250325571 9 52} {8137899610456888532 9 53} {8578126396412262225 9 54} {7876853479122453440 9 55} {28210420326107857 9 56} {8835175466040191937 9 57} {1360406742964745747 9 58}]
------------------------------------------------------
flag 38695 term 9 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 9 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 41405 term 9 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 9 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {4117646638613586912 9 50} {5216055361910640361 9 51} {652372662250325571 9 52} {8137899610456888532 9 53} {8578126396412262225 9 54} {7876853479122453440 9 55} {28210420326107857 9 56} {8835175466040191937 9 57} {1360406742964745747 9 58}]
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {4117646638613586912 9 50} {5216055361910640361 9 51} {652372662250325571 9 52} {8137899610456888532 9 53} {8578126396412262225 9 54} {7876853479122453440 9 55} {28210420326107857 9 56} {8835175466040191937 9 57} {1360406742964745747 9 58}]
------------------------------------------------------
flag 96080 term 9 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 9 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 46256 term 9 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 9 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {4117646638613586912 9 50} {5216055361910640361 9 51} {652372662250325571 9 52} {8137899610456888532 9 53} {8578126396412262225 9 54} {7876853479122453440 9 55} {28210420326107857 9 56} {8835175466040191937 9 57} {1360406742964745747 9 58}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {4117646638613586912 9 50} {5216055361910640361 9 51} {652372662250325571 9 52} {8137899610456888532 9 53} {8578126396412262225 9 54} {7876853479122453440 9 55} {28210420326107857 9 56} {8835175466040191937 9 57} {1360406742964745747 9 58}]
------------------------------------------------------
flag 93508 term 9 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 9 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 43023 term 9 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 9 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {4117646638613586912 9 50} {5216055361910640361 9 51} {652372662250325571 9 52} {8137899610456888532 9 53} {8578126396412262225 9 54} {7876853479122453440 9 55} {28210420326107857 9 56} {8835175466040191937 9 57} {1360406742964745747 9 58}]
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {4117646638613586912 9 50} {5216055361910640361 9 51} {652372662250325571 9 52} {8137899610456888532 9 53} {8578126396412262225 9 54} {7876853479122453440 9 55} {28210420326107857 9 56} {8835175466040191937 9 57} {1360406742964745747 9 58}]
------------------------------------------------------
flag 52763 term 9 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 9 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 64361 term 9 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 9 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {4117646638613586912 9 50} {5216055361910640361 9 51} {652372662250325571 9 52} {8137899610456888532 9 53} {8578126396412262225 9 54} {7876853479122453440 9 55} {28210420326107857 9 56} {8835175466040191937 9 57} {1360406742964745747 9 58}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {4117646638613586912 9 50} {5216055361910640361 9 51} {652372662250325571 9 52} {8137899610456888532 9 53} {8578126396412262225 9 54} {7876853479122453440 9 55} {28210420326107857 9 56} {8835175466040191937 9 57} {1360406742964745747 9 58}]
------------------------------------------------------
flag 89979 term 9 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 9 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 96246 term 9 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 9 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {4117646638613586912 9 50} {5216055361910640361 9 51} {652372662250325571 9 52} {8137899610456888532 9 53} {8578126396412262225 9 54} {7876853479122453440 9 55} {28210420326107857 9 56} {8835175466040191937 9 57} {1360406742964745747 9 58}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {4117646638613586912 9 50} {5216055361910640361 9 51} {652372662250325571 9 52} {8137899610456888532 9 53} {8578126396412262225 9 54} {7876853479122453440 9 55} {28210420326107857 9 56} {8835175466040191937 9 57} {1360406742964745747 9 58}]
------------------------------------------------------
flag 98656 term 9 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 9 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 69010 term 9 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 9 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {4117646638613586912 9 50} {5216055361910640361 9 51} {652372662250325571 9 52} {8137899610456888532 9 53} {8578126396412262225 9 54} {7876853479122453440 9 55} {28210420326107857 9 56} {8835175466040191937 9 57} {1360406742964745747 9 58}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {4117646638613586912 9 50} {5216055361910640361 9 51} {652372662250325571 9 52} {8137899610456888532 9 53} {8578126396412262225 9 54} {7876853479122453440 9 55} {28210420326107857 9 56} {8835175466040191937 9 57} {1360406742964745747 9 58}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 932887174354099695 (index 59) to leader 0
flag 84922 term 9 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 9 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 24718 term 9 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 9 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=59
leader log:
[{snapshot 9 49} {4117646638613586912 9 50} {5216055361910640361 9 51} {652372662250325571 9 52} {8137899610456888532 9 53} {8578126396412262225 9 54} {7876853479122453440 9 55} {28210420326107857 9 56} {8835175466040191937 9 57} {1360406742964745747 9 58} {932887174354099695 9 59}]
------------------------------------------------------
term 9 Server0 start snapshot! index=59
term 9 server0 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=59
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 9 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 9
------------------------------------------------------
flag 66602 term 9 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 9 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=59
leader log:
[{snapshot 9 59}]
------------------------------------------------------
term 9 Server2 start snapshot! index=59
term 9 server2 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=59
-------------------------------------------------------------
client write log 4129976167238341456 (index 60) to leader 0
client write log 1177685287309673413 (index 61) to leader 0
client write log 1948839895745897435 (index 62) to leader 0
client write log 3844963514493750152 (index 63) to leader 0
client write log 6978387780527423972 (index 64) to leader 0
client write log 2107031106339216240 (index 65) to leader 0
client write log 56586449073599861 (index 66) to leader 0
client write log 3432586502839015028 (index 67) to leader 0
client write log 6179435822745352343 (index 68) to leader 0
client write log 5066415613613631864 (index 69) to leader 0
client write log 1055301597094499517 (index 70) to leader 0
term 9 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 9
------------------------------------------------------
flag 9208 term 9 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 9 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 59} {4129976167238341456 9 60} {1177685287309673413 9 61} {1948839895745897435 9 62} {3844963514493750152 9 63} {6978387780527423972 9 64} {2107031106339216240 9 65} {56586449073599861 9 66} {3432586502839015028 9 67} {6179435822745352343 9 68} {5066415613613631864 9 69} {1055301597094499517 9 70}]
------------------------------------------------------
term 9 Server0 start snapshot! index=69
term 9 server0 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=70
-------------------------------------------------------------
term 9 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 9
------------------------------------------------------
flag 96838 term 9 leader 0 nextIndex[2]: 71  matchIndex[2]: 70
term 9 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {1055301597094499517 9 70}]
------------------------------------------------------
term 9 Server2 start snapshot! index=69
term 9 server2 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=70
-------------------------------------------------------------
!!!!!!connect server 1
client write log 468288686743591300 (index 71) to leader 0
term 9 server 2 not vote for server 1, 日志不够新
term 9 server 0 not vote for server 1, 日志不够新
term 11 server 2 vote for server 0
term 11 server 1 vote for server 0
term 11 server 0 get vote from server 1
term 11 server 0 become leader
------------------------------------------------------
term 11 server 0 get outdate rpc reply from server 2
flag 89105 term 11 leader 0 nextIndex[1]: 72  matchIndex[1]: 0
term 11 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
flag 40263 term 11 leader 0 nextIndex[2]: 72  matchIndex[2]: 0
term 11 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
term 11 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 72->71
------------------------------------------------------
term 11 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 72->71
------------------------------------------------------
term 11 leader 0 nextIndex[1]: 59  matchIndex[1]: 0
term 11 leader 0 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 9
------------------------------------------------------
flag 75042 term 11 leader 0 nextIndex[2]: 71  matchIndex[2]: 0
term 11 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {1055301597094499517 9 70} {468288686743591300 9 71}]
------------------------------------------------------
term 11 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 69 rf.lastIncludedTerm 9 rf.commitIndex 69 rf.lastApplied 69
term 11 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 70 matchIndex[1] 69 
------------------------------------------------------------------------
flag 75829 term 11 leader 0 nextIndex[1]: 70  matchIndex[1]: 69
term 11 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
flag 59122 term 11 leader 0 nextIndex[2]: 72  matchIndex[2]: 71
term 11 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {1055301597094499517 9 70} {468288686743591300 9 71}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {1055301597094499517 9 70} {468288686743591300 9 71}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73906 term 11 leader 0 nextIndex[1]: 72  matchIndex[1]: 71
term 11 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
flag 25487 term 11 leader 0 nextIndex[2]: 72  matchIndex[2]: 71
term 11 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {1055301597094499517 9 70} {468288686743591300 9 71}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {1055301597094499517 9 70} {468288686743591300 9 71}]
------------------------------------------------------
flag 62433 term 11 leader 0 nextIndex[1]: 72  matchIndex[1]: 71
term 11 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
flag 83422 term 11 leader 0 nextIndex[2]: 72  matchIndex[2]: 71
term 11 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {1055301597094499517 9 70} {468288686743591300 9 71}]
term 11 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {1055301597094499517 9 70} {468288686743591300 9 71}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98216 term 11 leader 0 nextIndex[1]: 72  matchIndex[1]: 71
term 11 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
flag 26947 term 11 leader 0 nextIndex[2]: 72  matchIndex[2]: 71
term 11 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {1055301597094499517 9 70} {468288686743591300 9 71}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {1055301597094499517 9 70} {468288686743591300 9 71}]
------------------------------------------------------
flag 64698 term 11 leader 0 nextIndex[1]: 72  matchIndex[1]: 71
term 11 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
flag 40053 term 11 leader 0 nextIndex[2]: 72  matchIndex[2]: 71
term 11 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {1055301597094499517 9 70} {468288686743591300 9 71}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {1055301597094499517 9 70} {468288686743591300 9 71}]
------------------------------------------------------
flag 88685 term 11 leader 0 nextIndex[1]: 72  matchIndex[1]: 71
term 11 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
flag 64085 term 11 leader 0 nextIndex[2]: 72  matchIndex[2]: 71
term 11 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=70
leader log:
term 11 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
[{snapshot 9 69} {1055301597094499517 9 70} {468288686743591300 9 71}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {1055301597094499517 9 70} {468288686743591300 9 71}]
------------------------------------------------------
flag 74735 term 11 leader 0 nextIndex[1]: 72  matchIndex[1]: 71
term 11 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
flag 55288 term 11 leader 0 nextIndex[2]: 72  matchIndex[2]: 71
term 11 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {1055301597094499517 9 70} {468288686743591300 9 71}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {1055301597094499517 9 70} {468288686743591300 9 71}]
------------------------------------------------------
flag 10901 term 11 leader 0 nextIndex[1]: 72  matchIndex[1]: 71
term 11 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
flag 14400 term 11 leader 0 nextIndex[2]: 72  matchIndex[2]: 71
term 11 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {1055301597094499517 9 70} {468288686743591300 9 71}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {1055301597094499517 9 70} {468288686743591300 9 71}]
------------------------------------------------------
term 11 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 34209 term 11 leader 0 nextIndex[1]: 72  matchIndex[1]: 71
term 11 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
flag 48553 term 11 leader 0 nextIndex[2]: 72  matchIndex[2]: 71
term 11 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {1055301597094499517 9 70} {468288686743591300 9 71}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {1055301597094499517 9 70} {468288686743591300 9 71}]
------------------------------------------------------
flag 97488 term 11 leader 0 nextIndex[1]: 72  matchIndex[1]: 71
term 11 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
flag 57476 term 11 leader 0 nextIndex[2]: 72  matchIndex[2]: 71
term 11 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {1055301597094499517 9 70} {468288686743591300 9 71}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {1055301597094499517 9 70} {468288686743591300 9 71}]
------------------------------------------------------
flag 93876 term 11 leader 0 nextIndex[1]: 72  matchIndex[1]: 71
term 11 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
flag 62329 term 11 leader 0 nextIndex[2]: 72  matchIndex[2]: 71
term 11 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {1055301597094499517 9 70} {468288686743591300 9 71}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {1055301597094499517 9 70} {468288686743591300 9 71}]
------------------------------------------------------
flag 13228 term 11 leader 0 nextIndex[1]: 72  matchIndex[1]: 71
term 11 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
flag 53526 term 11 leader 0 nextIndex[2]: 72  matchIndex[2]: 71
term 11 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {1055301597094499517 9 70} {468288686743591300 9 71}]
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {1055301597094499517 9 70} {468288686743591300 9 71}]
------------------------------------------------------
flag 25975 term 11 leader 0 nextIndex[1]: 72  matchIndex[1]: 71
term 11 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
flag 57279 term 11 leader 0 nextIndex[2]: 72  matchIndex[2]: 71
term 11 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {1055301597094499517 9 70} {468288686743591300 9 71}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {1055301597094499517 9 70} {468288686743591300 9 71}]
------------------------------------------------------
flag 51779 term 11 leader 0 nextIndex[1]: 72  matchIndex[1]: 71
term 11 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
flag 97329 term 11 leader 0 nextIndex[2]: 72  matchIndex[2]: 71
term 11 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {1055301597094499517 9 70} {468288686743591300 9 71}]
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {1055301597094499517 9 70} {468288686743591300 9 71}]
------------------------------------------------------
flag 29221 term 11 leader 0 nextIndex[1]: 72  matchIndex[1]: 71
term 11 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
flag 86041 term 11 leader 0 nextIndex[2]: 72  matchIndex[2]: 71
term 11 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {1055301597094499517 9 70} {468288686743591300 9 71}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {1055301597094499517 9 70} {468288686743591300 9 71}]
------------------------------------------------------
flag 66626 term 11 leader 0 nextIndex[1]: 72  matchIndex[1]: 71
term 11 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
flag 92075 term 11 leader 0 nextIndex[2]: 72  matchIndex[2]: 71
term 11 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
term 11 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {1055301597094499517 9 70} {468288686743591300 9 71}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {1055301597094499517 9 70} {468288686743591300 9 71}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 11 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 59860 term 11 leader 0 nextIndex[1]: 72  matchIndex[1]: 71
term 11 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
flag 11079 term 11 leader 0 nextIndex[2]: 72  matchIndex[2]: 71
term 11 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=70
leader log:
term 11 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
[{snapshot 9 69} {1055301597094499517 9 70} {468288686743591300 9 71}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {1055301597094499517 9 70} {468288686743591300 9 71}]
------------------------------------------------------
client write log 468288686743591300 (index 72) to leader 0
flag 58190 term 11 leader 0 nextIndex[1]: 72  matchIndex[1]: 71
term 11 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
flag 7367 term 11 leader 0 nextIndex[2]: 72  matchIndex[2]: 71
term 11 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=72
leader log:
[{snapshot 9 69} {1055301597094499517 9 70} {468288686743591300 9 71} {468288686743591300 11 72}]
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=73
update matchIndex[2]=72
update leader CommitIndex=72
leader log:
[{snapshot 9 69} {1055301597094499517 9 70} {468288686743591300 9 71} {468288686743591300 11 72}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44729 term 11 leader 0 nextIndex[1]: 73  matchIndex[1]: 72
term 11 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 72 
------------------------------------------------------
flag 18576 term 11 leader 0 nextIndex[2]: 73  matchIndex[2]: 72
term 11 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 72 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=73
update matchIndex[2]=72
update leader CommitIndex=72
leader log:
term 11 server 1 AppendEntries true commitIndex:72 
------------------------------------------------------
[{snapshot 9 69} {1055301597094499517 9 70} {468288686743591300 9 71} {468288686743591300 11 72}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=72
leader log:
[{snapshot 9 69} {1055301597094499517 9 70} {468288686743591300 9 71} {468288686743591300 11 72}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86613 term 11 leader 0 nextIndex[1]: 73  matchIndex[1]: 72
term 11 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 72 
------------------------------------------------------
flag 81485 term 11 leader 0 nextIndex[2]: 73  matchIndex[2]: 72
term 11 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 72 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=73
update matchIndex[2]=72
term 11 server 1 AppendEntries true commitIndex:72 
------------------------------------------------------
update leader CommitIndex=72
leader log:
[{snapshot 9 69} {1055301597094499517 9 70} {468288686743591300 9 71} {468288686743591300 11 72}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=72
leader log:
[{snapshot 9 69} {1055301597094499517 9 70} {468288686743591300 9 71} {468288686743591300 11 72}]
------------------------------------------------------
flag 45428 term 11 leader 0 nextIndex[1]: 73  matchIndex[1]: 72
term 11 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 72 
------------------------------------------------------
flag 31363 term 11 leader 0 nextIndex[2]: 73  matchIndex[2]: 72
term 11 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 72 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=73
update matchIndex[2]=72
update leader CommitIndex=72
leader log:
[{snapshot 9 69} {1055301597094499517 9 70} {468288686743591300 9 71} {468288686743591300 11 72}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=72
leader log:
[{snapshot 9 69} {1055301597094499517 9 70} {468288686743591300 9 71} {468288686743591300 11 72}]
------------------------------------------------------
flag 5563 term 11 leader 0 nextIndex[1]: 73  matchIndex[1]: 72
term 11 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 72 
------------------------------------------------------
flag 53587 term 11 leader 0 nextIndex[2]: 73  matchIndex[2]: 72
term 11 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 72 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:72 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=73
update matchIndex[2]=72
update leader CommitIndex=72
leader log:
[{snapshot 9 69} {1055301597094499517 9 70} {468288686743591300 9 71} {468288686743591300 11 72}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=72
leader log:
[{snapshot 9 69} {1055301597094499517 9 70} {468288686743591300 9 71} {468288686743591300 11 72}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 11 server 2 not vote for server 0, 任期不够新
term 11 server 0 get outdate rpc reply from server 2
flag 35565 term 11 leader 0 nextIndex[1]: 73  matchIndex[1]: 72
term 11 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 72 
------------------------------------------------------
flag 29287 term 11 leader 0 nextIndex[2]: 73  matchIndex[2]: 72
term 11 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 72 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=73
update matchIndex[2]=72
update leader CommitIndex=72
leader log:
[{snapshot 9 69} {1055301597094499517 9 70} {468288686743591300 9 71} {468288686743591300 11 72}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=72
leader log:
[{snapshot 9 69} {1055301597094499517 9 70} {468288686743591300 9 71} {468288686743591300 11 72}]
------------------------------------------------------
flag 67427 term 11 leader 0 nextIndex[1]: 73  matchIndex[1]: 72
term 11 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 72 
------------------------------------------------------
flag 22542 term 11 leader 0 nextIndex[2]: 73  matchIndex[2]: 72
term 11 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 72 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:72 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=73
update matchIndex[2]=72
update leader CommitIndex=72
leader log:
[{snapshot 9 69} {1055301597094499517 9 70} {468288686743591300 9 71} {468288686743591300 11 72}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=72
leader log:
[{snapshot 9 69} {1055301597094499517 9 70} {468288686743591300 9 71} {468288686743591300 11 72}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 4497493369008936304 (index 73) to leader 0
flag 52064 term 11 leader 0 nextIndex[1]: 73  matchIndex[1]: 72
term 11 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 72 
------------------------------------------------------
flag 29284 term 11 leader 0 nextIndex[2]: 73  matchIndex[2]: 72
term 11 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 72 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=74
update matchIndex[2]=73
update leader CommitIndex=73
leader log:
[{snapshot 9 69} {1055301597094499517 9 70} {468288686743591300 9 71} {468288686743591300 11 72} {4497493369008936304 11 73}]
------------------------------------------------------
flag 2904 term 11 leader 0 nextIndex[1]: 73  matchIndex[1]: 72
term 11 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 73 
------------------------------------------------------
flag 99820 term 11 leader 0 nextIndex[2]: 74  matchIndex[2]: 73
term 11 leader 0 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 11 leaderCommit: 73 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=74
update matchIndex[2]=73
update leader CommitIndex=73
leader log:
[{snapshot 9 69} {1055301597094499517 9 70} {468288686743591300 9 71} {468288686743591300 11 72} {4497493369008936304 11 73}]
------------------------------------------------------
client write log 7027320093008338964 (index 74) to leader 0
client write log 95407885266716858 (index 75) to leader 0
client write log 8052940661966598153 (index 76) to leader 0
client write log 5142867315231832643 (index 77) to leader 0
client write log 4888709951128592057 (index 78) to leader 0
client write log 7285107449737600729 (index 79) to leader 0
client write log 2077701978578449533 (index 80) to leader 0
client write log 4058468094366813211 (index 81) to leader 0
flag 61934 term 11 leader 0 nextIndex[1]: 73  matchIndex[1]: 72
term 11 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 73 
------------------------------------------------------
flag 29743 term 11 leader 0 nextIndex[2]: 74  matchIndex[2]: 73
term 11 leader 0 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 11 leaderCommit: 73 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=81
leader log:
[{snapshot 9 69} {1055301597094499517 9 70} {468288686743591300 9 71} {468288686743591300 11 72} {4497493369008936304 11 73} {7027320093008338964 11 74} {95407885266716858 11 75} {8052940661966598153 11 76} {5142867315231832643 11 77} {4888709951128592057 11 78} {7285107449737600729 11 79} {2077701978578449533 11 80} {4058468094366813211 11 81}]
------------------------------------------------------
term 11 Server0 start snapshot! index=79
term 11 server0 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=81
-------------------------------------------------------------
term 11 leader 0 nextIndex[1]: 73  matchIndex[1]: 72
term 11 leader 0 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 11
------------------------------------------------------
flag 74775 term 11 leader 0 nextIndex[2]: 82  matchIndex[2]: 81
term 11 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {2077701978578449533 11 80} {4058468094366813211 11 81}]
------------------------------------------------------
term 11 Server2 start snapshot! index=79
term 11 server2 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=81
-------------------------------------------------------------
!!!!!!connect server 1
client write log 8662970593471751073 (index 82) to leader 0
term 11 leader 0 nextIndex[1]: 73  matchIndex[1]: 72
term 11 leader 0 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 11
------------------------------------------------------
flag 19895 term 11 leader 0 nextIndex[2]: 82  matchIndex[2]: 81
term 11 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:81 
term 12 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
------------------------------------------------------
term 11 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 13 server 2 vote for server 0
term 13 server 1 vote for server 0
term 13 server 0 get vote from server 2
term 13 server 0 become leader
------------------------------------------------------
term 13 server 0 get outdate rpc reply from server 1
flag 4847 term 13 leader 0 nextIndex[1]: 83  matchIndex[1]: 0
term 13 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
flag 22156 term 13 leader 0 nextIndex[2]: 83  matchIndex[2]: 0
term 13 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
term 13 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
[{snapshot 11 79} {2077701978578449533 11 80} {4058468094366813211 11 81} {8662970593471751073 11 82}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 83->82
------------------------------------------------------
term 13 leader 0 nextIndex[1]: 73  matchIndex[1]: 0
term 13 leader 0 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 11
------------------------------------------------------
flag 65604 term 13 leader 0 nextIndex[2]: 83  matchIndex[2]: 82
term 13 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
term 13 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {2077701978578449533 11 80} {4058468094366813211 11 81} {8662970593471751073 11 82}]
------------------------------------------------------
term 13 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 80 matchIndex[1] 79 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 79 rf.lastIncludedTerm 11 rf.commitIndex 79 rf.lastApplied 79
flag 37253 term 13 leader 0 nextIndex[1]: 80  matchIndex[1]: 79
term 13 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
flag 13696 term 13 leader 0 nextIndex[2]: 83  matchIndex[2]: 82
term 13 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {2077701978578449533 11 80} {4058468094366813211 11 81} {8662970593471751073 11 82}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {2077701978578449533 11 80} {4058468094366813211 11 81} {8662970593471751073 11 82}]
------------------------------------------------------
flag 74629 term 13 leader 0 nextIndex[1]: 83  matchIndex[1]: 82
term 13 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
flag 52561 term 13 leader 0 nextIndex[2]: 83  matchIndex[2]: 82
term 13 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {2077701978578449533 11 80} {4058468094366813211 11 81} {8662970593471751073 11 82}]
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {2077701978578449533 11 80} {4058468094366813211 11 81} {8662970593471751073 11 82}]
------------------------------------------------------
flag 20368 term 13 leader 0 nextIndex[1]: 83  matchIndex[1]: 82
term 13 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
flag 52259 term 13 leader 0 nextIndex[2]: 83  matchIndex[2]: 82
term 13 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {2077701978578449533 11 80} {4058468094366813211 11 81} {8662970593471751073 11 82}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {2077701978578449533 11 80} {4058468094366813211 11 81} {8662970593471751073 11 82}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60968 term 13 leader 0 nextIndex[1]: 83  matchIndex[1]: 82
term 13 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
flag 85427 term 13 leader 0 nextIndex[2]: 83  matchIndex[2]: 82
term 13 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {2077701978578449533 11 80} {4058468094366813211 11 81} {8662970593471751073 11 82}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {2077701978578449533 11 80} {4058468094366813211 11 81} {8662970593471751073 11 82}]
------------------------------------------------------
flag 96781 term 13 leader 0 nextIndex[1]: 83  matchIndex[1]: 82
term 13 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
flag 37974 term 13 leader 0 nextIndex[2]: 83  matchIndex[2]: 82
term 13 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {2077701978578449533 11 80} {4058468094366813211 11 81} {8662970593471751073 11 82}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {2077701978578449533 11 80} {4058468094366813211 11 81} {8662970593471751073 11 82}]
------------------------------------------------------
flag 11054 term 13 leader 0 nextIndex[1]: 83  matchIndex[1]: 82
term 13 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
flag 93146 term 13 leader 0 nextIndex[2]: 83  matchIndex[2]: 82
term 13 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {2077701978578449533 11 80} {4058468094366813211 11 81} {8662970593471751073 11 82}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {2077701978578449533 11 80} {4058468094366813211 11 81} {8662970593471751073 11 82}]
------------------------------------------------------
flag 8760 term 13 leader 0 nextIndex[1]: 83  matchIndex[1]: 82
term 13 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
flag 12392 term 13 leader 0 nextIndex[2]: 83  matchIndex[2]: 82
term 13 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {2077701978578449533 11 80} {4058468094366813211 11 81} {8662970593471751073 11 82}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {2077701978578449533 11 80} {4058468094366813211 11 81} {8662970593471751073 11 82}]
------------------------------------------------------
flag 6607 term 13 leader 0 nextIndex[1]: 83  matchIndex[1]: 82
term 13 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
flag 13479 term 13 leader 0 nextIndex[2]: 83  matchIndex[2]: 82
term 13 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {2077701978578449533 11 80} {4058468094366813211 11 81} {8662970593471751073 11 82}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {2077701978578449533 11 80} {4058468094366813211 11 81} {8662970593471751073 11 82}]
------------------------------------------------------
flag 52795 term 13 leader 0 nextIndex[1]: 83  matchIndex[1]: 82
term 13 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
flag 79073 term 13 leader 0 nextIndex[2]: 83  matchIndex[2]: 82
term 13 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {2077701978578449533 11 80} {4058468094366813211 11 81} {8662970593471751073 11 82}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {2077701978578449533 11 80} {4058468094366813211 11 81} {8662970593471751073 11 82}]
------------------------------------------------------
flag 7448 term 13 leader 0 nextIndex[1]: 83  matchIndex[1]: 82
term 13 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
flag 60263 term 13 leader 0 nextIndex[2]: 83  matchIndex[2]: 82
term 13 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {2077701978578449533 11 80} {4058468094366813211 11 81} {8662970593471751073 11 82}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {2077701978578449533 11 80} {4058468094366813211 11 81} {8662970593471751073 11 82}]
------------------------------------------------------
flag 49865 term 13 leader 0 nextIndex[1]: 83  matchIndex[1]: 82
term 13 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
flag 2820 term 13 leader 0 nextIndex[2]: 83  matchIndex[2]: 82
term 13 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueterm 13 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
update nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {2077701978578449533 11 80} {4058468094366813211 11 81} {8662970593471751073 11 82}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {2077701978578449533 11 80} {4058468094366813211 11 81} {8662970593471751073 11 82}]
------------------------------------------------------
flag 86168 term 13 leader 0 nextIndex[1]: 83  matchIndex[1]: 82
term 13 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
flag 91806 term 13 leader 0 nextIndex[2]: 83  matchIndex[2]: 82
term 13 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {2077701978578449533 11 80} {4058468094366813211 11 81} {8662970593471751073 11 82}]
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {2077701978578449533 11 80} {4058468094366813211 11 81} {8662970593471751073 11 82}]
------------------------------------------------------
flag 92845 term 13 leader 0 nextIndex[1]: 83  matchIndex[1]: 82
term 13 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
flag 39687 term 13 leader 0 nextIndex[2]: 83  matchIndex[2]: 82
term 13 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {2077701978578449533 11 80} {4058468094366813211 11 81} {8662970593471751073 11 82}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {2077701978578449533 11 80} {4058468094366813211 11 81} {8662970593471751073 11 82}]
------------------------------------------------------
flag 41906 term 13 leader 0 nextIndex[1]: 83  matchIndex[1]: 82
term 13 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
flag 13043 term 13 leader 0 nextIndex[2]: 83  matchIndex[2]: 82
term 13 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {2077701978578449533 11 80} {4058468094366813211 11 81} {8662970593471751073 11 82}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {2077701978578449533 11 80} {4058468094366813211 11 81} {8662970593471751073 11 82}]
------------------------------------------------------
flag 58184 term 13 leader 0 nextIndex[1]: 83  matchIndex[1]: 82
term 13 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
flag 14407 term 13 leader 0 nextIndex[2]: 83  matchIndex[2]: 82
term 13 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {2077701978578449533 11 80} {4058468094366813211 11 81} {8662970593471751073 11 82}]
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {2077701978578449533 11 80} {4058468094366813211 11 81} {8662970593471751073 11 82}]
------------------------------------------------------
flag 94436 term 13 leader 0 nextIndex[1]: 83  matchIndex[1]: 82
term 13 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
flag 85415 term 13 leader 0 nextIndex[2]: 83  matchIndex[2]: 82
term 13 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {2077701978578449533 11 80} {4058468094366813211 11 81} {8662970593471751073 11 82}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {2077701978578449533 11 80} {4058468094366813211 11 81} {8662970593471751073 11 82}]
------------------------------------------------------
flag 47236 term 13 leader 0 nextIndex[1]: 83  matchIndex[1]: 82
term 13 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
flag 93725 term 13 leader 0 nextIndex[2]: 83  matchIndex[2]: 82
term 13 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {2077701978578449533 11 80} {4058468094366813211 11 81} {8662970593471751073 11 82}]
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {2077701978578449533 11 80} {4058468094366813211 11 81} {8662970593471751073 11 82}]
------------------------------------------------------
client write log 8662970593471751073 (index 83) to leader 0
flag 87 term 13 leader 0 nextIndex[1]: 83  matchIndex[1]: 82
term 13 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
flag 97514 term 13 leader 0 nextIndex[2]: 83  matchIndex[2]: 82
term 13 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 11 leaderCommit: 81 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=84
update matchIndex[2]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {2077701978578449533 11 80} {4058468094366813211 11 81} {8662970593471751073 11 82} {8662970593471751073 13 83}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {2077701978578449533 11 80} {4058468094366813211 11 81} {8662970593471751073 11 82} {8662970593471751073 13 83}]
------------------------------------------------------
flag 51575 term 13 leader 0 nextIndex[1]: 84  matchIndex[1]: 83
term 13 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 22388 term 13 leader 0 nextIndex[2]: 84  matchIndex[2]: 83
term 13 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=84
update matchIndex[2]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {2077701978578449533 11 80} {4058468094366813211 11 81} {8662970593471751073 11 82} {8662970593471751073 13 83}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {2077701978578449533 11 80} {4058468094366813211 11 81} {8662970593471751073 11 82} {8662970593471751073 13 83}]
------------------------------------------------------
term 13 server 0 not vote for server 1, 任期不够新
term 13 server 1 get outdate rpc reply from server 0
term 13 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96959 term 13 leader 0 nextIndex[1]: 84  matchIndex[1]: 83
term 13 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 60553 term 13 leader 0 nextIndex[2]: 84  matchIndex[2]: 83
term 13 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=84
update matchIndex[2]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {2077701978578449533 11 80} {4058468094366813211 11 81} {8662970593471751073 11 82} {8662970593471751073 13 83}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {2077701978578449533 11 80} {4058468094366813211 11 81} {8662970593471751073 11 82} {8662970593471751073 13 83}]
------------------------------------------------------
flag 30721 term 13 leader 0 nextIndex[1]: 84  matchIndex[1]: 83
term 13 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 1651 term 13 leader 0 nextIndex[2]: 84  matchIndex[2]: 83
term 13 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=84
update matchIndex[2]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {2077701978578449533 11 80} {4058468094366813211 11 81} {8662970593471751073 11 82} {8662970593471751073 13 83}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {2077701978578449533 11 80} {4058468094366813211 11 81} {8662970593471751073 11 82} {8662970593471751073 13 83}]
------------------------------------------------------
flag 15893 term 13 leader 0 nextIndex[1]: 84  matchIndex[1]: 83
term 13 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 67161 term 13 leader 0 nextIndex[2]: 84  matchIndex[2]: 83
term 13 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=84
update matchIndex[2]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {2077701978578449533 11 80} {4058468094366813211 11 81} {8662970593471751073 11 82} {8662970593471751073 13 83}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {2077701978578449533 11 80} {4058468094366813211 11 81} {8662970593471751073 11 82} {8662970593471751073 13 83}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41637 term 13 leader 0 nextIndex[1]: 84  matchIndex[1]: 83
term 13 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 11748 term 13 leader 0 nextIndex[2]: 84  matchIndex[2]: 83
term 13 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=84
update matchIndex[2]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {2077701978578449533 11 80} {4058468094366813211 11 81} {8662970593471751073 11 82} {8662970593471751073 13 83}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {2077701978578449533 11 80} {4058468094366813211 11 81} {8662970593471751073 11 82} {8662970593471751073 13 83}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 32872 term 13 leader 0 nextIndex[1]: 84  matchIndex[1]: 83
term 13 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 14903 term 13 leader 0 nextIndex[2]: 84  matchIndex[2]: 83
term 13 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 13 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 8476 term 13 leader 0 nextIndex[1]: 84  matchIndex[1]: 83
term 13 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 37263 term 13 leader 0 nextIndex[2]: 84  matchIndex[2]: 83
term 13 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 17647 term 13 leader 0 nextIndex[1]: 84  matchIndex[1]: 83
term 13 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 30247 term 13 leader 0 nextIndex[2]: 84  matchIndex[2]: 83
term 13 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 16189 term 13 leader 0 nextIndex[1]: 84  matchIndex[1]: 83
term 13 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 93565 term 13 leader 0 nextIndex[2]: 84  matchIndex[2]: 83
term 13 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
term 14 server 1 vote for server 2
term 14 server 2 get vote from server 1
term 14 server 2 become leader
------------------------------------------------------
client write log 3479034523031873129 (index 84) to leader 2
flag 78212 term 14 leader 2 nextIndex[0]: 84  matchIndex[0]: 0
term 14 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 82866 term 14 leader 2 nextIndex[1]: 84  matchIndex[1]: 0
term 14 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=84
leader log:
[{snapshot 11 79} {2077701978578449533 11 80} {4058468094366813211 11 81} {8662970593471751073 11 82} {8662970593471751073 13 83} {3479034523031873129 14 84}]
------------------------------------------------------
flag 33688 term 13 leader 0 nextIndex[1]: 84  matchIndex[1]: 83
term 13 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 23018 term 13 leader 0 nextIndex[2]: 84  matchIndex[2]: 83
term 13 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 36485 term 14 leader 2 nextIndex[0]: 84  matchIndex[0]: 0
term 14 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 84 
------------------------------------------------------
flag 50360 term 14 leader 2 nextIndex[1]: 85  matchIndex[1]: 84
term 14 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=84
leader log:
[{snapshot 11 79} {2077701978578449533 11 80} {4058468094366813211 11 81} {8662970593471751073 11 82} {8662970593471751073 13 83} {3479034523031873129 14 84}]
------------------------------------------------------
client write log 494976059740054205 (index 85) to leader 2
flag 159 term 13 leader 0 nextIndex[1]: 84  matchIndex[1]: 83
term 13 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 76209 term 13 leader 0 nextIndex[2]: 84  matchIndex[2]: 83
term 13 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 84->83
------------------------------------------------------
flag 96465 term 14 leader 2 nextIndex[0]: 84  matchIndex[0]: 0
term 14 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 84 
------------------------------------------------------
flag 89543 term 14 leader 2 nextIndex[1]: 85  matchIndex[1]: 84
term 14 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {2077701978578449533 11 80} {4058468094366813211 11 81} {8662970593471751073 11 82} {8662970593471751073 13 83} {3479034523031873129 14 84} {494976059740054205 14 85}]
------------------------------------------------------
term 13 leader 0 nextIndex[1]: 0  matchIndex[1]: 83
term 13 leader 0 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 11
------------------------------------------------------
flag 83562 term 13 leader 0 nextIndex[2]: 84  matchIndex[2]: 83
term 13 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 84->83
------------------------------------------------------
flag 44834 term 14 leader 2 nextIndex[0]: 84  matchIndex[0]: 0
term 14 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 85 
------------------------------------------------------
flag 31971 term 14 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 14 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {2077701978578449533 11 80} {4058468094366813211 11 81} {8662970593471751073 11 82} {8662970593471751073 13 83} {3479034523031873129 14 84} {494976059740054205 14 85}]
------------------------------------------------------
!!!!!!connect server 0
client write log 8129213378144117011 (index 86) to leader 2
term 14 server 0 vote for server 2
term 14 server 2 get outdate rpc reply from server 0
flag 34946 term 14 leader 2 nextIndex[0]: 84  matchIndex[0]: 0
term 14 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 85 
------------------------------------------------------
flag 79875 term 14 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 14 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {2077701978578449533 11 80} {4058468094366813211 11 81} {8662970593471751073 11 82} {8662970593471751073 13 83} {3479034523031873129 14 84} {494976059740054205 14 85} {8129213378144117011 14 86}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {2077701978578449533 11 80} {4058468094366813211 11 81} {8662970593471751073 11 82} {8662970593471751073 13 83} {3479034523031873129 14 84} {494976059740054205 14 85} {8129213378144117011 14 86}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84856 term 14 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 14 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
flag 56983 term 14 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 14 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {2077701978578449533 11 80} {4058468094366813211 11 81} {8662970593471751073 11 82} {8662970593471751073 13 83} {3479034523031873129 14 84} {494976059740054205 14 85} {8129213378144117011 14 86}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {2077701978578449533 11 80} {4058468094366813211 11 81} {8662970593471751073 11 82} {8662970593471751073 13 83} {3479034523031873129 14 84} {494976059740054205 14 85} {8129213378144117011 14 86}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 14 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79044 term 14 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 14 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
flag 53632 term 14 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 14 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {2077701978578449533 11 80} {4058468094366813211 11 81} {8662970593471751073 11 82} {8662970593471751073 13 83} {3479034523031873129 14 84} {494976059740054205 14 85} {8129213378144117011 14 86}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {2077701978578449533 11 80} {4058468094366813211 11 81} {8662970593471751073 11 82} {8662970593471751073 13 83} {3479034523031873129 14 84} {494976059740054205 14 85} {8129213378144117011 14 86}]
------------------------------------------------------
flag 69065 term 14 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 14 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
flag 46738 term 14 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 14 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {2077701978578449533 11 80} {4058468094366813211 11 81} {8662970593471751073 11 82} {8662970593471751073 13 83} {3479034523031873129 14 84} {494976059740054205 14 85} {8129213378144117011 14 86}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {2077701978578449533 11 80} {4058468094366813211 11 81} {8662970593471751073 11 82} {8662970593471751073 13 83} {3479034523031873129 14 84} {494976059740054205 14 85} {8129213378144117011 14 86}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 87->86
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 14 leader 2 nextIndex[0]: 0  matchIndex[0]: 86
term 14 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 11
------------------------------------------------------
flag 21439 term 14 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 14 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {2077701978578449533 11 80} {4058468094366813211 11 81} {8662970593471751073 11 82} {8662970593471751073 13 83} {3479034523031873129 14 84} {494976059740054205 14 85} {8129213378144117011 14 86}]
------------------------------------------------------
term 14 server 0 InstallSnapshot fail
rf.commitIndex 86 args.LastIncludedIndex 79
------------------------------------------------------
term 14 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 80 matchIndex[0] 79 
------------------------------------------------------------------------
flag 61449 term 14 leader 2 nextIndex[0]: 80  matchIndex[0]: 79
term 14 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 86 
------------------------------------------------------
flag 56069 term 14 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 14 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {2077701978578449533 11 80} {4058468094366813211 11 81} {8662970593471751073 11 82} {8662970593471751073 13 83} {3479034523031873129 14 84} {494976059740054205 14 85} {8129213378144117011 14 86}]
------------------------------------------------------
term 14 server 2 not vote for server 1, 任期不够新
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {2077701978578449533 11 80} {4058468094366813211 11 81} {8662970593471751073 11 82} {8662970593471751073 13 83} {3479034523031873129 14 84} {494976059740054205 14 85} {8129213378144117011 14 86}]
------------------------------------------------------
term 14 server 1 get outdate rpc reply from server 2
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 87->86
------------------------------------------------------
!!!!!!diconnect server 0
client write log 2237559145442935017 (index 87) to leader 2
term 14 leader 2 nextIndex[0]: 0  matchIndex[0]: 86
term 14 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 11
------------------------------------------------------
flag 38239 term 14 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 14 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {2077701978578449533 11 80} {4058468094366813211 11 81} {8662970593471751073 11 82} {8662970593471751073 13 83} {3479034523031873129 14 84} {494976059740054205 14 85} {8129213378144117011 14 86} {2237559145442935017 14 87}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 0->-1
------------------------------------------------------
term 14 leader 2 nextIndex[0]: 0  matchIndex[0]: 86
term 14 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 11
------------------------------------------------------
flag 47328 term 14 leader 2 nextIndex[1]: 88  matchIndex[1]: 87
term 14 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {2077701978578449533 11 80} {4058468094366813211 11 81} {8662970593471751073 11 82} {8662970593471751073 13 83} {3479034523031873129 14 84} {494976059740054205 14 85} {8129213378144117011 14 86} {2237559145442935017 14 87}]
------------------------------------------------------
client write log 7233216120939313759 (index 88) to leader 2
client write log 5552796504203414296 (index 89) to leader 2
client write log 5166876749918259777 (index 90) to leader 2
client write log 7929361176288787168 (index 91) to leader 2
client write log 6879125569333868740 (index 92) to leader 2
client write log 6049573428754411975 (index 93) to leader 2
client write log 523932737985932511 (index 94) to leader 2
client write log 1776206483760074524 (index 95) to leader 2
client write log 1320438611455450084 (index 96) to leader 2
term 14 leader 2 nextIndex[0]: 0  matchIndex[0]: 86
term 14 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 11
------------------------------------------------------
flag 23030 term 14 leader 2 nextIndex[1]: 88  matchIndex[1]: 87
term 14 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=96
leader log:
[{snapshot 11 79} {2077701978578449533 11 80} {4058468094366813211 11 81} {8662970593471751073 11 82} {8662970593471751073 13 83} {3479034523031873129 14 84} {494976059740054205 14 85} {8129213378144117011 14 86} {2237559145442935017 14 87} {7233216120939313759 14 88} {5552796504203414296 14 89} {5166876749918259777 14 90} {7929361176288787168 14 91} {6879125569333868740 14 92} {6049573428754411975 14 93} {523932737985932511 14 94} {1776206483760074524 14 95} {1320438611455450084 14 96}]
------------------------------------------------------
term 14 Server2 start snapshot! index=89
term 14 server2 snapshot success
lastIncludedIndex=89 lastApplied=90 lastIndex=96
-------------------------------------------------------------
term 14 leader 2 nextIndex[0]: 0  matchIndex[0]: 86
term 14 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 14
------------------------------------------------------
flag 76821 term 14 leader 2 nextIndex[1]: 97  matchIndex[1]: 96
term 14 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {5166876749918259777 14 90} {7929361176288787168 14 91} {6879125569333868740 14 92} {6049573428754411975 14 93} {523932737985932511 14 94} {1776206483760074524 14 95} {1320438611455450084 14 96}]
------------------------------------------------------
term 14 Server1 start snapshot! index=89
term 14 server1 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=96
-------------------------------------------------------------
!!!!!!connect server 0
client write log 87895830484230296 (index 97) to leader 2
term 14 server 2 not vote for server 0, 日志不够新
term 14 server 1 not vote for server 0, 日志不够新
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 16 server 0 vote for server 2
term 16 server 2 get vote from server 0
term 16 server 2 become leader
------------------------------------------------------
term 16 server 1 vote for server 2
term 16 server 2 get outdate rpc reply from server 1
flag 95426 term 16 leader 2 nextIndex[0]: 98  matchIndex[0]: 0
term 16 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
flag 17601 term 16 leader 2 nextIndex[1]: 98  matchIndex[1]: 0
term 16 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
term 16 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 98->97
------------------------------------------------------
term 16 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 98->97
------------------------------------------------------
term 16 leader 2 nextIndex[0]: 87  matchIndex[0]: 0
term 16 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 14
------------------------------------------------------
flag 21215 term 16 leader 2 nextIndex[1]: 97  matchIndex[1]: 0
term 16 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
term 16 server 0 InstallSnapshot success
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
term 16 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 90 matchIndex[0] 89 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 89 rf.lastIncludedTerm 14 rf.commitIndex 89 rf.lastApplied 89
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {5166876749918259777 14 90} {7929361176288787168 14 91} {6879125569333868740 14 92} {6049573428754411975 14 93} {523932737985932511 14 94} {1776206483760074524 14 95} {1320438611455450084 14 96} {87895830484230296 14 97}]
------------------------------------------------------
flag 69081 term 16 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 16 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
flag 34497 term 16 leader 2 nextIndex[1]: 98  matchIndex[1]: 97
term 16 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {5166876749918259777 14 90} {7929361176288787168 14 91} {6879125569333868740 14 92} {6049573428754411975 14 93} {523932737985932511 14 94} {1776206483760074524 14 95} {1320438611455450084 14 96} {87895830484230296 14 97}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {5166876749918259777 14 90} {7929361176288787168 14 91} {6879125569333868740 14 92} {6049573428754411975 14 93} {523932737985932511 14 94} {1776206483760074524 14 95} {1320438611455450084 14 96} {87895830484230296 14 97}]
------------------------------------------------------
flag 49947 term 16 leader 2 nextIndex[0]: 98  matchIndex[0]: 97
term 16 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
flag 45776 term 16 leader 2 nextIndex[1]: 98  matchIndex[1]: 97
term 16 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {5166876749918259777 14 90} {7929361176288787168 14 91} {6879125569333868740 14 92} {6049573428754411975 14 93} {523932737985932511 14 94} {1776206483760074524 14 95} {1320438611455450084 14 96} {87895830484230296 14 97}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {5166876749918259777 14 90} {7929361176288787168 14 91} {6879125569333868740 14 92} {6049573428754411975 14 93} {523932737985932511 14 94} {1776206483760074524 14 95} {1320438611455450084 14 96} {87895830484230296 14 97}]
------------------------------------------------------
flag 92730 term 16 leader 2 nextIndex[0]: 98  matchIndex[0]: 97
term 16 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
flag 47274 term 16 leader 2 nextIndex[1]: 98  matchIndex[1]: 97
term 16 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {5166876749918259777 14 90} {7929361176288787168 14 91} {6879125569333868740 14 92} {6049573428754411975 14 93} {523932737985932511 14 94} {1776206483760074524 14 95} {1320438611455450084 14 96} {87895830484230296 14 97}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {5166876749918259777 14 90} {7929361176288787168 14 91} {6879125569333868740 14 92} {6049573428754411975 14 93} {523932737985932511 14 94} {1776206483760074524 14 95} {1320438611455450084 14 96} {87895830484230296 14 97}]
------------------------------------------------------
flag 55521 term 16 leader 2 nextIndex[0]: 98  matchIndex[0]: 97
term 16 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
flag 21205 term 16 leader 2 nextIndex[1]: 98  matchIndex[1]: 97
term 16 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {5166876749918259777 14 90} {7929361176288787168 14 91} {6879125569333868740 14 92} {6049573428754411975 14 93} {523932737985932511 14 94} {1776206483760074524 14 95} {1320438611455450084 14 96} {87895830484230296 14 97}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {5166876749918259777 14 90} {7929361176288787168 14 91} {6879125569333868740 14 92} {6049573428754411975 14 93} {523932737985932511 14 94} {1776206483760074524 14 95} {1320438611455450084 14 96} {87895830484230296 14 97}]
------------------------------------------------------
flag 51305 term 16 leader 2 nextIndex[0]: 98  matchIndex[0]: 97
term 16 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
flag 539 term 16 leader 2 nextIndex[1]: 98  matchIndex[1]: 97
term 16 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {5166876749918259777 14 90} {7929361176288787168 14 91} {6879125569333868740 14 92} {6049573428754411975 14 93} {523932737985932511 14 94} {1776206483760074524 14 95} {1320438611455450084 14 96} {87895830484230296 14 97}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {5166876749918259777 14 90} {7929361176288787168 14 91} {6879125569333868740 14 92} {6049573428754411975 14 93} {523932737985932511 14 94} {1776206483760074524 14 95} {1320438611455450084 14 96} {87895830484230296 14 97}]
------------------------------------------------------
flag 42894 term 16 leader 2 nextIndex[0]: 98  matchIndex[0]: 97
term 16 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
flag 42817 term 16 leader 2 nextIndex[1]: 98  matchIndex[1]: 97
term 16 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {5166876749918259777 14 90} {7929361176288787168 14 91} {6879125569333868740 14 92} {6049573428754411975 14 93} {523932737985932511 14 94} {1776206483760074524 14 95} {1320438611455450084 14 96} {87895830484230296 14 97}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {5166876749918259777 14 90} {7929361176288787168 14 91} {6879125569333868740 14 92} {6049573428754411975 14 93} {523932737985932511 14 94} {1776206483760074524 14 95} {1320438611455450084 14 96} {87895830484230296 14 97}]
------------------------------------------------------
flag 31138 term 16 leader 2 nextIndex[0]: 98  matchIndex[0]: 97
term 16 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
flag 47402 term 16 leader 2 nextIndex[1]: 98  matchIndex[1]: 97
term 16 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {5166876749918259777 14 90} {7929361176288787168 14 91} {6879125569333868740 14 92} {6049573428754411975 14 93} {523932737985932511 14 94} {1776206483760074524 14 95} {1320438611455450084 14 96} {87895830484230296 14 97}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {5166876749918259777 14 90} {7929361176288787168 14 91} {6879125569333868740 14 92} {6049573428754411975 14 93} {523932737985932511 14 94} {1776206483760074524 14 95} {1320438611455450084 14 96} {87895830484230296 14 97}]
------------------------------------------------------
flag 9858 term 16 leader 2 nextIndex[0]: 98  matchIndex[0]: 97
term 16 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
flag 5099 term 16 leader 2 nextIndex[1]: 98  matchIndex[1]: 97
term 16 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {5166876749918259777 14 90} {7929361176288787168 14 91} {6879125569333868740 14 92} {6049573428754411975 14 93} {523932737985932511 14 94} {1776206483760074524 14 95} {1320438611455450084 14 96} {87895830484230296 14 97}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {5166876749918259777 14 90} {7929361176288787168 14 91} {6879125569333868740 14 92} {6049573428754411975 14 93} {523932737985932511 14 94} {1776206483760074524 14 95} {1320438611455450084 14 96} {87895830484230296 14 97}]
------------------------------------------------------
flag 10350 term 16 leader 2 nextIndex[0]: 98  matchIndex[0]: 97
term 16 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
flag 73996 term 16 leader 2 nextIndex[1]: 98  matchIndex[1]: 97
term 16 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {5166876749918259777 14 90} {7929361176288787168 14 91} {6879125569333868740 14 92} {6049573428754411975 14 93} {523932737985932511 14 94} {1776206483760074524 14 95} {1320438611455450084 14 96} {87895830484230296 14 97}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {5166876749918259777 14 90} {7929361176288787168 14 91} {6879125569333868740 14 92} {6049573428754411975 14 93} {523932737985932511 14 94} {1776206483760074524 14 95} {1320438611455450084 14 96} {87895830484230296 14 97}]
------------------------------------------------------
term 16 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 28769 term 16 leader 2 nextIndex[0]: 98  matchIndex[0]: 97
term 16 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
flag 48641 term 16 leader 2 nextIndex[1]: 98  matchIndex[1]: 97
term 16 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {5166876749918259777 14 90} {7929361176288787168 14 91} {6879125569333868740 14 92} {6049573428754411975 14 93} {523932737985932511 14 94} {1776206483760074524 14 95} {1320438611455450084 14 96} {87895830484230296 14 97}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {5166876749918259777 14 90} {7929361176288787168 14 91} {6879125569333868740 14 92} {6049573428754411975 14 93} {523932737985932511 14 94} {1776206483760074524 14 95} {1320438611455450084 14 96} {87895830484230296 14 97}]
------------------------------------------------------
flag 30851 term 16 leader 2 nextIndex[0]: 98  matchIndex[0]: 97
term 16 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
flag 31327 term 16 leader 2 nextIndex[1]: 98  matchIndex[1]: 97
term 16 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {5166876749918259777 14 90} {7929361176288787168 14 91} {6879125569333868740 14 92} {6049573428754411975 14 93} {523932737985932511 14 94} {1776206483760074524 14 95} {1320438611455450084 14 96} {87895830484230296 14 97}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {5166876749918259777 14 90} {7929361176288787168 14 91} {6879125569333868740 14 92} {6049573428754411975 14 93} {523932737985932511 14 94} {1776206483760074524 14 95} {1320438611455450084 14 96} {87895830484230296 14 97}]
------------------------------------------------------
flag 5342 term 16 leader 2 nextIndex[0]: 98  matchIndex[0]: 97
term 16 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
flag 18670 term 16 leader 2 nextIndex[1]: 98  matchIndex[1]: 97
term 16 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {5166876749918259777 14 90} {7929361176288787168 14 91} {6879125569333868740 14 92} {6049573428754411975 14 93} {523932737985932511 14 94} {1776206483760074524 14 95} {1320438611455450084 14 96} {87895830484230296 14 97}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {5166876749918259777 14 90} {7929361176288787168 14 91} {6879125569333868740 14 92} {6049573428754411975 14 93} {523932737985932511 14 94} {1776206483760074524 14 95} {1320438611455450084 14 96} {87895830484230296 14 97}]
------------------------------------------------------
flag 18169 term 16 leader 2 nextIndex[0]: 98  matchIndex[0]: 97
term 16 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
flag 47623 term 16 leader 2 nextIndex[1]: 98  matchIndex[1]: 97
term 16 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {5166876749918259777 14 90} {7929361176288787168 14 91} {6879125569333868740 14 92} {6049573428754411975 14 93} {523932737985932511 14 94} {1776206483760074524 14 95} {1320438611455450084 14 96} {87895830484230296 14 97}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {5166876749918259777 14 90} {7929361176288787168 14 91} {6879125569333868740 14 92} {6049573428754411975 14 93} {523932737985932511 14 94} {1776206483760074524 14 95} {1320438611455450084 14 96} {87895830484230296 14 97}]
------------------------------------------------------
flag 23483 term 16 leader 2 nextIndex[0]: 98  matchIndex[0]: 97
term 16 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
flag 35231 term 16 leader 2 nextIndex[1]: 98  matchIndex[1]: 97
term 16 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {5166876749918259777 14 90} {7929361176288787168 14 91} {6879125569333868740 14 92} {6049573428754411975 14 93} {523932737985932511 14 94} {1776206483760074524 14 95} {1320438611455450084 14 96} {87895830484230296 14 97}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {5166876749918259777 14 90} {7929361176288787168 14 91} {6879125569333868740 14 92} {6049573428754411975 14 93} {523932737985932511 14 94} {1776206483760074524 14 95} {1320438611455450084 14 96} {87895830484230296 14 97}]
------------------------------------------------------
flag 30466 term 16 leader 2 nextIndex[0]: 98  matchIndex[0]: 97
term 16 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
flag 53208 term 16 leader 2 nextIndex[1]: 98  matchIndex[1]: 97
term 16 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:96 
term 16 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {5166876749918259777 14 90} {7929361176288787168 14 91} {6879125569333868740 14 92} {6049573428754411975 14 93} {523932737985932511 14 94} {1776206483760074524 14 95} {1320438611455450084 14 96} {87895830484230296 14 97}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {5166876749918259777 14 90} {7929361176288787168 14 91} {6879125569333868740 14 92} {6049573428754411975 14 93} {523932737985932511 14 94} {1776206483760074524 14 95} {1320438611455450084 14 96} {87895830484230296 14 97}]
------------------------------------------------------
flag 57416 term 16 leader 2 nextIndex[0]: 98  matchIndex[0]: 97
term 16 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
flag 70886 term 16 leader 2 nextIndex[1]: 98  matchIndex[1]: 97
term 16 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {5166876749918259777 14 90} {7929361176288787168 14 91} {6879125569333868740 14 92} {6049573428754411975 14 93} {523932737985932511 14 94} {1776206483760074524 14 95} {1320438611455450084 14 96} {87895830484230296 14 97}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {5166876749918259777 14 90} {7929361176288787168 14 91} {6879125569333868740 14 92} {6049573428754411975 14 93} {523932737985932511 14 94} {1776206483760074524 14 95} {1320438611455450084 14 96} {87895830484230296 14 97}]
------------------------------------------------------
flag 90077 term 16 leader 2 nextIndex[0]: 98  matchIndex[0]: 97
term 16 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
flag 5402 term 16 leader 2 nextIndex[1]: 98  matchIndex[1]: 97
term 16 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {5166876749918259777 14 90} {7929361176288787168 14 91} {6879125569333868740 14 92} {6049573428754411975 14 93} {523932737985932511 14 94} {1776206483760074524 14 95} {1320438611455450084 14 96} {87895830484230296 14 97}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=96
leader log:
[{snapshot 14 89} {5166876749918259777 14 90} {7929361176288787168 14 91} {6879125569333868740 14 92} {6049573428754411975 14 93} {523932737985932511 14 94} {1776206483760074524 14 95} {1320438611455450084 14 96} {87895830484230296 14 97}]
------------------------------------------------------
client write log 87895830484230296 (index 98) to leader 2
flag 84224 term 16 leader 2 nextIndex[0]: 98  matchIndex[0]: 97
term 16 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
flag 61142 term 16 leader 2 nextIndex[1]: 98  matchIndex[1]: 97
term 16 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 14 leaderCommit: 96 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {5166876749918259777 14 90} {7929361176288787168 14 91} {6879125569333868740 14 92} {6049573428754411975 14 93} {523932737985932511 14 94} {1776206483760074524 14 95} {1320438611455450084 14 96} {87895830484230296 14 97} {87895830484230296 16 98}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {5166876749918259777 14 90} {7929361176288787168 14 91} {6879125569333868740 14 92} {6049573428754411975 14 93} {523932737985932511 14 94} {1776206483760074524 14 95} {1320438611455450084 14 96} {87895830484230296 14 97} {87895830484230296 16 98}]
------------------------------------------------------
flag 69956 term 16 leader 2 nextIndex[0]: 99  matchIndex[0]: 98
term 16 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
flag 77689 term 16 leader 2 nextIndex[1]: 99  matchIndex[1]: 98
term 16 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {5166876749918259777 14 90} {7929361176288787168 14 91} {6879125569333868740 14 92} {6049573428754411975 14 93} {523932737985932511 14 94} {1776206483760074524 14 95} {1320438611455450084 14 96} {87895830484230296 14 97} {87895830484230296 16 98}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {5166876749918259777 14 90} {7929361176288787168 14 91} {6879125569333868740 14 92} {6049573428754411975 14 93} {523932737985932511 14 94} {1776206483760074524 14 95} {1320438611455450084 14 96} {87895830484230296 14 97} {87895830484230296 16 98}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62564 term 16 leader 2 nextIndex[0]: 99  matchIndex[0]: 98
term 16 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
flag 79634 term 16 leader 2 nextIndex[1]: 99  matchIndex[1]: 98
term 16 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {5166876749918259777 14 90} {7929361176288787168 14 91} {6879125569333868740 14 92} {6049573428754411975 14 93} {523932737985932511 14 94} {1776206483760074524 14 95} {1320438611455450084 14 96} {87895830484230296 14 97} {87895830484230296 16 98}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {5166876749918259777 14 90} {7929361176288787168 14 91} {6879125569333868740 14 92} {6049573428754411975 14 93} {523932737985932511 14 94} {1776206483760074524 14 95} {1320438611455450084 14 96} {87895830484230296 14 97} {87895830484230296 16 98}]
------------------------------------------------------
flag 99393 term 16 leader 2 nextIndex[0]: 99  matchIndex[0]: 98
term 16 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
flag 27490 term 16 leader 2 nextIndex[1]: 99  matchIndex[1]: 98
term 16 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {5166876749918259777 14 90} {7929361176288787168 14 91} {6879125569333868740 14 92} {6049573428754411975 14 93} {523932737985932511 14 94} {1776206483760074524 14 95} {1320438611455450084 14 96} {87895830484230296 14 97} {87895830484230296 16 98}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {5166876749918259777 14 90} {7929361176288787168 14 91} {6879125569333868740 14 92} {6049573428754411975 14 93} {523932737985932511 14 94} {1776206483760074524 14 95} {1320438611455450084 14 96} {87895830484230296 14 97} {87895830484230296 16 98}]
------------------------------------------------------
flag 17214 term 16 leader 2 nextIndex[0]: 99  matchIndex[0]: 98
term 16 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
flag 38647 term 16 leader 2 nextIndex[1]: 99  matchIndex[1]: 98
term 16 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {5166876749918259777 14 90} {7929361176288787168 14 91} {6879125569333868740 14 92} {6049573428754411975 14 93} {523932737985932511 14 94} {1776206483760074524 14 95} {1320438611455450084 14 96} {87895830484230296 14 97} {87895830484230296 16 98}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {5166876749918259777 14 90} {7929361176288787168 14 91} {6879125569333868740 14 92} {6049573428754411975 14 93} {523932737985932511 14 94} {1776206483760074524 14 95} {1320438611455450084 14 96} {87895830484230296 14 97} {87895830484230296 16 98}]
------------------------------------------------------
flag 76268 term 16 leader 2 nextIndex[0]: 99  matchIndex[0]: 98
term 16 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
flag 98954 term 16 leader 2 nextIndex[1]: 99  matchIndex[1]: 98
term 16 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {5166876749918259777 14 90} {7929361176288787168 14 91} {6879125569333868740 14 92} {6049573428754411975 14 93} {523932737985932511 14 94} {1776206483760074524 14 95} {1320438611455450084 14 96} {87895830484230296 14 97} {87895830484230296 16 98}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {5166876749918259777 14 90} {7929361176288787168 14 91} {6879125569333868740 14 92} {6049573428754411975 14 93} {523932737985932511 14 94} {1776206483760074524 14 95} {1320438611455450084 14 96} {87895830484230296 14 97} {87895830484230296 16 98}]
------------------------------------------------------
flag 3653 term 16 leader 2 nextIndex[0]: 99  matchIndex[0]: 98
term 16 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
flag 21045 term 16 leader 2 nextIndex[1]: 99  matchIndex[1]: 98
term 16 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {5166876749918259777 14 90} {7929361176288787168 14 91} {6879125569333868740 14 92} {6049573428754411975 14 93} {523932737985932511 14 94} {1776206483760074524 14 95} {1320438611455450084 14 96} {87895830484230296 14 97} {87895830484230296 16 98}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=98
leader log:
[{snapshot 14 89} {5166876749918259777 14 90} {7929361176288787168 14 91} {6879125569333868740 14 92} {6049573428754411975 14 93} {523932737985932511 14 94} {1776206483760074524 14 95} {1320438611455450084 14 96} {87895830484230296 14 97} {87895830484230296 16 98}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 466937646667217271 (index 99) to leader 2
flag 63098 term 16 leader 2 nextIndex[0]: 99  matchIndex[0]: 98
term 16 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
flag 93654 term 16 leader 2 nextIndex[1]: 99  matchIndex[1]: 98
term 16 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=99
leader log:
[{snapshot 14 89} {5166876749918259777 14 90} {7929361176288787168 14 91} {6879125569333868740 14 92} {6049573428754411975 14 93} {523932737985932511 14 94} {1776206483760074524 14 95} {1320438611455450084 14 96} {87895830484230296 14 97} {87895830484230296 16 98} {466937646667217271 16 99}]
------------------------------------------------------
term 16 Server2 start snapshot! index=99
term 16 server2 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=99
-------------------------------------------------------------
term 16 leader 2 nextIndex[0]: 99  matchIndex[0]: 98
term 16 leader 2 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 16
------------------------------------------------------
flag 75206 term 16 leader 2 nextIndex[1]: 100  matchIndex[1]: 99
term 16 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 99 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=99
leader log:
[{snapshot 16 99}]
------------------------------------------------------
client write log 83686331791379570 (index 100) to leader 2
client write log 963429171495725122 (index 101) to leader 2
client write log 6865400759094614894 (index 102) to leader 2
client write log 192215189787301303 (index 103) to leader 2
client write log 2277434605675469843 (index 104) to leader 2
client write log 8500101335194648789 (index 105) to leader 2
client write log 525979310303519768 (index 106) to leader 2
term 16 Server1 start snapshot! index=99
term 16 server1 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=99
-------------------------------------------------------------
client write log 3024015754516294734 (index 107) to leader 2
term 16 leader 2 nextIndex[0]: 99  matchIndex[0]: 98
term 16 leader 2 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 16
------------------------------------------------------
flag 28139 term 16 leader 2 nextIndex[1]: 100  matchIndex[1]: 99
term 16 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 99 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=108
update matchIndex[1]=107
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {83686331791379570 16 100} {963429171495725122 16 101} {6865400759094614894 16 102} {192215189787301303 16 103} {2277434605675469843 16 104} {8500101335194648789 16 105} {525979310303519768 16 106} {3024015754516294734 16 107}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 16 leader 2 nextIndex[0]: 99  matchIndex[0]: 98
term 16 leader 2 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 16
------------------------------------------------------
flag 66332 term 16 leader 2 nextIndex[1]: 108  matchIndex[1]: 107
term 16 leader 2 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=108
update matchIndex[1]=107
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {83686331791379570 16 100} {963429171495725122 16 101} {6865400759094614894 16 102} {192215189787301303 16 103} {2277434605675469843 16 104} {8500101335194648789 16 105} {525979310303519768 16 106} {3024015754516294734 16 107}]
------------------------------------------------------
!!!!!!connect server 0
client write log 6864456486651474766 (index 108) to leader 2
term 16 leader 2 nextIndex[0]: 99  matchIndex[0]: 98
term 16 leader 2 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 16
------------------------------------------------------
flag 94758 term 16 leader 2 nextIndex[1]: 108  matchIndex[1]: 107
term 16 leader 2 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
term 17 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=108
leader log:
[{snapshot 16 99} {83686331791379570 16 100} {963429171495725122 16 101} {6865400759094614894 16 102} {192215189787301303 16 103} {2277434605675469843 16 104} {8500101335194648789 16 105} {525979310303519768 16 106} {3024015754516294734 16 107} {6864456486651474766 16 108}]
------------------------------------------------------
term 16 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 18 server 1 vote for server 2
term 18 server 0 vote for server 2
term 18 server 2 get vote from server 1
term 18 server 2 become leader
------------------------------------------------------
term 18 server 2 get outdate rpc reply from server 0
flag 18394 term 18 leader 2 nextIndex[0]: 109  matchIndex[0]: 0
term 18 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
flag 2272 term 18 leader 2 nextIndex[1]: 109  matchIndex[1]: 0
term 18 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
term 18 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 109->108
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=108
leader log:
[{snapshot 16 99} {83686331791379570 16 100} {963429171495725122 16 101} {6865400759094614894 16 102} {192215189787301303 16 103} {2277434605675469843 16 104} {8500101335194648789 16 105} {525979310303519768 16 106} {3024015754516294734 16 107} {6864456486651474766 16 108}]
------------------------------------------------------
term 18 leader 2 nextIndex[0]: 99  matchIndex[0]: 0
term 18 leader 2 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 16
------------------------------------------------------
flag 19875 term 18 leader 2 nextIndex[1]: 109  matchIndex[1]: 108
term 18 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=108
leader log:
[{snapshot 16 99} {83686331791379570 16 100} {963429171495725122 16 101} {6865400759094614894 16 102} {192215189787301303 16 103} {2277434605675469843 16 104} {8500101335194648789 16 105} {525979310303519768 16 106} {3024015754516294734 16 107} {6864456486651474766 16 108}]
------------------------------------------------------
term 18 server 0 InstallSnapshot success
------------------------------------------------------
term 18 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 100 matchIndex[0] 99 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 99 rf.lastIncludedTerm 16 rf.commitIndex 99 rf.lastApplied 99
flag 75028 term 18 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 18 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
flag 19313 term 18 leader 2 nextIndex[1]: 109  matchIndex[1]: 108
term 18 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:108 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=108
leader log:
[{snapshot 16 99} {83686331791379570 16 100} {963429171495725122 16 101} {6865400759094614894 16 102} {192215189787301303 16 103} {2277434605675469843 16 104} {8500101335194648789 16 105} {525979310303519768 16 106} {3024015754516294734 16 107} {6864456486651474766 16 108}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=108
leader log:
[{snapshot 16 99} {83686331791379570 16 100} {963429171495725122 16 101} {6865400759094614894 16 102} {192215189787301303 16 103} {2277434605675469843 16 104} {8500101335194648789 16 105} {525979310303519768 16 106} {3024015754516294734 16 107} {6864456486651474766 16 108}]
------------------------------------------------------
flag 73891 term 18 leader 2 nextIndex[0]: 109  matchIndex[0]: 108
term 18 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
flag 88756 term 18 leader 2 nextIndex[1]: 109  matchIndex[1]: 108
term 18 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:108 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=108
leader log:
[{snapshot 16 99} {83686331791379570 16 100} {963429171495725122 16 101} {6865400759094614894 16 102} {192215189787301303 16 103} {2277434605675469843 16 104} {8500101335194648789 16 105} {525979310303519768 16 106} {3024015754516294734 16 107} {6864456486651474766 16 108}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=108
leader log:
[{snapshot 16 99} {83686331791379570 16 100} {963429171495725122 16 101} {6865400759094614894 16 102} {192215189787301303 16 103} {2277434605675469843 16 104} {8500101335194648789 16 105} {525979310303519768 16 106} {3024015754516294734 16 107} {6864456486651474766 16 108}]
------------------------------------------------------
flag 57299 term 18 leader 2 nextIndex[0]: 109  matchIndex[0]: 108
term 18 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
flag 23725 term 18 leader 2 nextIndex[1]: 109  matchIndex[1]: 108
term 18 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=108
leader log:
[{snapshot 16 99} {83686331791379570 16 100} {963429171495725122 16 101} {6865400759094614894 16 102} {192215189787301303 16 103} {2277434605675469843 16 104} {8500101335194648789 16 105} {525979310303519768 16 106} {3024015754516294734 16 107} {6864456486651474766 16 108}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=108
leader log:
[{snapshot 16 99} {83686331791379570 16 100} {963429171495725122 16 101} {6865400759094614894 16 102} {192215189787301303 16 103} {2277434605675469843 16 104} {8500101335194648789 16 105} {525979310303519768 16 106} {3024015754516294734 16 107} {6864456486651474766 16 108}]
------------------------------------------------------
flag 59127 term 18 leader 2 nextIndex[0]: 109  matchIndex[0]: 108
term 18 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
flag 69992 term 18 leader 2 nextIndex[1]: 109  matchIndex[1]: 108
term 18 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=108
leader log:
[{snapshot 16 99} {83686331791379570 16 100} {963429171495725122 16 101} {6865400759094614894 16 102} {192215189787301303 16 103} {2277434605675469843 16 104} {8500101335194648789 16 105} {525979310303519768 16 106} {3024015754516294734 16 107} {6864456486651474766 16 108}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=108
leader log:
[{snapshot 16 99} {83686331791379570 16 100} {963429171495725122 16 101} {6865400759094614894 16 102} {192215189787301303 16 103} {2277434605675469843 16 104} {8500101335194648789 16 105} {525979310303519768 16 106} {3024015754516294734 16 107} {6864456486651474766 16 108}]
------------------------------------------------------
flag 75094 term 18 leader 2 nextIndex[0]: 109  matchIndex[0]: 108
term 18 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
flag 48887 term 18 leader 2 nextIndex[1]: 109  matchIndex[1]: 108
term 18 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=108
leader log:
[{snapshot 16 99} {83686331791379570 16 100} {963429171495725122 16 101} {6865400759094614894 16 102} {192215189787301303 16 103} {2277434605675469843 16 104} {8500101335194648789 16 105} {525979310303519768 16 106} {3024015754516294734 16 107} {6864456486651474766 16 108}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=108
leader log:
[{snapshot 16 99} {83686331791379570 16 100} {963429171495725122 16 101} {6865400759094614894 16 102} {192215189787301303 16 103} {2277434605675469843 16 104} {8500101335194648789 16 105} {525979310303519768 16 106} {3024015754516294734 16 107} {6864456486651474766 16 108}]
------------------------------------------------------
flag 31640 term 18 leader 2 nextIndex[0]: 109  matchIndex[0]: 108
term 18 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
flag 24902 term 18 leader 2 nextIndex[1]: 109  matchIndex[1]: 108
term 18 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:108 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=108
leader log:
[{snapshot 16 99} {83686331791379570 16 100} {963429171495725122 16 101} {6865400759094614894 16 102} {192215189787301303 16 103} {2277434605675469843 16 104} {8500101335194648789 16 105} {525979310303519768 16 106} {3024015754516294734 16 107} {6864456486651474766 16 108}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=108
leader log:
[{snapshot 16 99} {83686331791379570 16 100} {963429171495725122 16 101} {6865400759094614894 16 102} {192215189787301303 16 103} {2277434605675469843 16 104} {8500101335194648789 16 105} {525979310303519768 16 106} {3024015754516294734 16 107} {6864456486651474766 16 108}]
------------------------------------------------------
flag 1104 term 18 leader 2 nextIndex[0]: 109  matchIndex[0]: 108
term 18 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
flag 9159 term 18 leader 2 nextIndex[1]: 109  matchIndex[1]: 108
term 18 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=108
leader log:
[{snapshot 16 99} {83686331791379570 16 100} {963429171495725122 16 101} {6865400759094614894 16 102} {192215189787301303 16 103} {2277434605675469843 16 104} {8500101335194648789 16 105} {525979310303519768 16 106} {3024015754516294734 16 107} {6864456486651474766 16 108}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=108
leader log:
[{snapshot 16 99} {83686331791379570 16 100} {963429171495725122 16 101} {6865400759094614894 16 102} {192215189787301303 16 103} {2277434605675469843 16 104} {8500101335194648789 16 105} {525979310303519768 16 106} {3024015754516294734 16 107} {6864456486651474766 16 108}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 2
flag 43368 term 18 leader 2 nextIndex[0]: 109  matchIndex[0]: 108
term 18 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
flag 89093 term 18 leader 2 nextIndex[1]: 109  matchIndex[1]: 108
term 18 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
flag 65780 term 18 leader 2 nextIndex[0]: 109  matchIndex[0]: 108
term 18 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
flag 9088 term 18 leader 2 nextIndex[1]: 109  matchIndex[1]: 108
term 18 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
flag 99296 term 18 leader 2 nextIndex[0]: 109  matchIndex[0]: 108
term 18 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
flag 19592 term 18 leader 2 nextIndex[1]: 109  matchIndex[1]: 108
term 18 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 109->108
------------------------------------------------------
flag 31652 term 18 leader 2 nextIndex[0]: 109  matchIndex[0]: 108
term 18 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
term 18 leader 2 nextIndex[1]: 0  matchIndex[1]: 108
term 18 leader 2 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 16
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 19 server 0 vote for server 1
term 19 server 1 get vote from server 0
term 19 server 1 become leader
------------------------------------------------------
flag 81828 term 19 leader 1 nextIndex[0]: 109  matchIndex[0]: 0
term 19 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
flag 98005 term 19 leader 1 nextIndex[2]: 109  matchIndex[2]: 0
term 19 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=108
leader log:
[{snapshot 16 99} {83686331791379570 16 100} {963429171495725122 16 101} {6865400759094614894 16 102} {192215189787301303 16 103} {2277434605675469843 16 104} {8500101335194648789 16 105} {525979310303519768 16 106} {3024015754516294734 16 107} {6864456486651474766 16 108}]
------------------------------------------------------
flag 32960 term 18 leader 2 nextIndex[0]: 109  matchIndex[0]: 108
term 18 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
term 18 leader 2 nextIndex[1]: 0  matchIndex[1]: 108
term 18 leader 2 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 16
------------------------------------------------------
client write log 1315041134185840152 (index 109) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60275 term 19 leader 1 nextIndex[0]: 109  matchIndex[0]: 108
term 19 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
flag 74569 term 19 leader 1 nextIndex[2]: 109  matchIndex[2]: 0
term 19 leader 1 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=110
update matchIndex[0]=109
update leader CommitIndex=109
leader log:
[{snapshot 16 99} {83686331791379570 16 100} {963429171495725122 16 101} {6865400759094614894 16 102} {192215189787301303 16 103} {2277434605675469843 16 104} {8500101335194648789 16 105} {525979310303519768 16 106} {3024015754516294734 16 107} {6864456486651474766 16 108} {1315041134185840152 19 109}]
------------------------------------------------------
term 19 Server1 start snapshot! index=109
term 19 server1 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=109
-------------------------------------------------------------
flag 85700 term 18 leader 2 nextIndex[0]: 109  matchIndex[0]: 108
term 18 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 16 leaderCommit: 108 
------------------------------------------------------
term 18 leader 2 nextIndex[1]: 0  matchIndex[1]: 108
term 18 leader 2 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 16
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 109->108
------------------------------------------------------
flag 27422 term 19 leader 1 nextIndex[0]: 110  matchIndex[0]: 109
term 19 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
term 19 leader 1 nextIndex[2]: 109  matchIndex[2]: 0
term 19 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 19
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=110
update matchIndex[0]=109
update leader CommitIndex=109
leader log:
[{snapshot 19 109}]
------------------------------------------------------
term 18 leader 2 nextIndex[0]: 0  matchIndex[0]: 108
term 18 leader 2 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 16
------------------------------------------------------
term 18 leader 2 nextIndex[1]: 0  matchIndex[1]: 108
term 18 leader 2 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 16
------------------------------------------------------
term 19 Server0 start snapshot! index=109
term 19 server0 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=109
-------------------------------------------------------------
client write log 6638601753613758902 (index 110) to leader 1
flag 97425 term 19 leader 1 nextIndex[0]: 110  matchIndex[0]: 109
term 19 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
term 19 leader 1 nextIndex[2]: 109  matchIndex[2]: 0
term 19 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 19
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=110
leader log:
[{snapshot 19 109} {6638601753613758902 19 110}]
------------------------------------------------------
term 18 leader 2 nextIndex[0]: 0  matchIndex[0]: 108
term 18 leader 2 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 16
------------------------------------------------------
term 18 leader 2 nextIndex[1]: 0  matchIndex[1]: 108
term 18 leader 2 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 16
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 109->108
------------------------------------------------------
flag 1181 term 19 leader 1 nextIndex[0]: 111  matchIndex[0]: 110
term 19 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 110 
------------------------------------------------------
term 19 leader 1 nextIndex[2]: 0  matchIndex[2]: 0
term 19 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 19
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=110
leader log:
[{snapshot 19 109} {6638601753613758902 19 110}]
------------------------------------------------------
term 18 leader 2 nextIndex[0]: 0  matchIndex[0]: 108
term 18 leader 2 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 16
------------------------------------------------------
term 18 leader 2 nextIndex[1]: 0  matchIndex[1]: 108
term 18 leader 2 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 16
------------------------------------------------------
!!!!!!connect server 2
client write log 7188431775258571193 (index 111) to leader 1
term 18 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 27080 term 19 leader 1 nextIndex[0]: 111  matchIndex[0]: 110
term 19 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 110 
------------------------------------------------------
term 19 leader 1 nextIndex[2]: 0  matchIndex[2]: 0
term 19 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 19
------------------------------------------------------
term 19 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 109 rf.lastIncludedTerm 19 rf.commitIndex 109 rf.lastApplied 109
term 19 server 0 AppendEntries true commitIndex:110 
------------------------------------------------------
term 19 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 110 matchIndex[2] 109 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=111
leader log:
[{snapshot 19 109} {6638601753613758902 19 110} {7188431775258571193 19 111}]
------------------------------------------------------
term 19 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 23097 term 19 leader 1 nextIndex[0]: 112  matchIndex[0]: 111
term 19 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 19 leaderCommit: 111 
------------------------------------------------------
flag 85443 term 19 leader 1 nextIndex[2]: 110  matchIndex[2]: 109
term 19 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 111 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=111
leader log:
[{snapshot 19 109} {6638601753613758902 19 110} {7188431775258571193 19 111}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=111
leader log:
[{snapshot 19 109} {6638601753613758902 19 110} {7188431775258571193 19 111}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 112->111
------------------------------------------------------
term 19 server 2 not vote for server 1, 日志不够新
term 19 server 1 get outdate rpc reply from server 2
flag 60320 term 19 leader 1 nextIndex[0]: 112  matchIndex[0]: 111
term 19 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 19 leaderCommit: 111 
------------------------------------------------------
term 19 leader 1 nextIndex[2]: 0  matchIndex[2]: 111
term 19 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 19
------------------------------------------------------
term 19 server 2 InstallSnapshot fail
rf.commitIndex 109 args.LastIncludedIndex 109
------------------------------------------------------
term 19 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 110 matchIndex[2] 109 
------------------------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=111
leader log:
[{snapshot 19 109} {6638601753613758902 19 110} {7188431775258571193 19 111}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91382 term 19 leader 1 nextIndex[0]: 112  matchIndex[0]: 111
term 19 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 19 leaderCommit: 111 
------------------------------------------------------
flag 89955 term 19 leader 1 nextIndex[2]: 110  matchIndex[2]: 109
term 19 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 111 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:111 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=111
leader log:
[{snapshot 19 109} {6638601753613758902 19 110} {7188431775258571193 19 111}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=111
leader log:
[{snapshot 19 109} {6638601753613758902 19 110} {7188431775258571193 19 111}]
------------------------------------------------------
flag 5400 term 19 leader 1 nextIndex[0]: 112  matchIndex[0]: 111
term 19 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 19 leaderCommit: 111 
------------------------------------------------------
flag 90815 term 19 leader 1 nextIndex[2]: 112  matchIndex[2]: 111
term 19 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 19 leaderCommit: 111 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=111
leader log:
[{snapshot 19 109} {6638601753613758902 19 110} {7188431775258571193 19 111}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=111
leader log:
[{snapshot 19 109} {6638601753613758902 19 110} {7188431775258571193 19 111}]
------------------------------------------------------
flag 60021 term 19 leader 1 nextIndex[0]: 112  matchIndex[0]: 111
term 19 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 19 leaderCommit: 111 
------------------------------------------------------
flag 1114 term 19 leader 1 nextIndex[2]: 112  matchIndex[2]: 111
term 19 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 19 leaderCommit: 111 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=111
leader log:
[{snapshot 19 109} {6638601753613758902 19 110} {7188431775258571193 19 111}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=111
leader log:
[{snapshot 19 109} {6638601753613758902 19 110} {7188431775258571193 19 111}]
------------------------------------------------------
flag 60831 term 19 leader 1 nextIndex[0]: 112  matchIndex[0]: 111
term 19 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 19 leaderCommit: 111 
------------------------------------------------------
flag 12885 term 19 leader 1 nextIndex[2]: 112  matchIndex[2]: 111
term 19 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 19 leaderCommit: 111 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
term 19 server 2 AppendEntries true commitIndex:111 
------------------------------------------------------
update matchIndex[0]=111
update leader CommitIndex=111
leader log:
[{snapshot 19 109} {6638601753613758902 19 110} {7188431775258571193 19 111}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=111
leader log:
[{snapshot 19 109} {6638601753613758902 19 110} {7188431775258571193 19 111}]
------------------------------------------------------
term 19 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 95562 term 19 leader 1 nextIndex[0]: 112  matchIndex[0]: 111
term 19 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 19 leaderCommit: 111 
------------------------------------------------------
flag 57858 term 19 leader 1 nextIndex[2]: 112  matchIndex[2]: 111
term 19 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 19 leaderCommit: 111 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=111
leader log:
[{snapshot 19 109} {6638601753613758902 19 110} {7188431775258571193 19 111}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=111
leader log:
[{snapshot 19 109} {6638601753613758902 19 110} {7188431775258571193 19 111}]
------------------------------------------------------
term 19 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 39956 term 19 leader 1 nextIndex[0]: 112  matchIndex[0]: 111
term 19 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 19 leaderCommit: 111 
------------------------------------------------------
flag 52651 term 19 leader 1 nextIndex[2]: 112  matchIndex[2]: 111
term 19 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 19 leaderCommit: 111 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=111
leader log:
[{snapshot 19 109} {6638601753613758902 19 110} {7188431775258571193 19 111}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=111
leader log:
[{snapshot 19 109} {6638601753613758902 19 110} {7188431775258571193 19 111}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 2
client write log 6050164056227548185 (index 112) to leader 1
term 19 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 8096 term 19 leader 1 nextIndex[0]: 112  matchIndex[0]: 111
term 19 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 19 leaderCommit: 111 
------------------------------------------------------
flag 1725 term 19 leader 1 nextIndex[2]: 112  matchIndex[2]: 111
term 19 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 19 leaderCommit: 111 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=113
update matchIndex[0]=112
update leader CommitIndex=112
leader log:
[{snapshot 19 109} {6638601753613758902 19 110} {7188431775258571193 19 111} {6050164056227548185 19 112}]
------------------------------------------------------
flag 1023 term 19 leader 1 nextIndex[0]: 113  matchIndex[0]: 112
term 19 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 19 leaderCommit: 112 
------------------------------------------------------
flag 76032 term 19 leader 1 nextIndex[2]: 112  matchIndex[2]: 111
term 19 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 19 leaderCommit: 112 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=113
update matchIndex[0]=112
update leader CommitIndex=112
leader log:
[{snapshot 19 109} {6638601753613758902 19 110} {7188431775258571193 19 111} {6050164056227548185 19 112}]
------------------------------------------------------
client write log 2426863449625699800 (index 113) to leader 1
client write log 7398164365365236332 (index 114) to leader 1
client write log 6949062851271591938 (index 115) to leader 1
client write log 7645454762330615230 (index 116) to leader 1
client write log 784336872141462544 (index 117) to leader 1
client write log 1177941298181780237 (index 118) to leader 1
client write log 5015930291067164239 (index 119) to leader 1
term 19 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 99820 term 19 leader 1 nextIndex[0]: 113  matchIndex[0]: 112
term 19 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 19 leaderCommit: 112 
------------------------------------------------------
flag 65486 term 19 leader 1 nextIndex[2]: 112  matchIndex[2]: 111
term 19 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 19 leaderCommit: 112 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=119
leader log:
[{snapshot 19 109} {6638601753613758902 19 110} {7188431775258571193 19 111} {6050164056227548185 19 112} {2426863449625699800 19 113} {7398164365365236332 19 114} {6949062851271591938 19 115} {7645454762330615230 19 116} {784336872141462544 19 117} {1177941298181780237 19 118} {5015930291067164239 19 119}]
------------------------------------------------------
term 19 Server1 start snapshot! index=119
term 19 server1 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=119
-------------------------------------------------------------
flag 88145 term 19 leader 1 nextIndex[0]: 120  matchIndex[0]: 119
term 19 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
term 19 leader 1 nextIndex[2]: 112  matchIndex[2]: 111
term 19 leader 1 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 19
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=119
leader log:
[{snapshot 19 119}]
------------------------------------------------------
term 19 Server0 start snapshot! index=119
term 19 server0 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=119
-------------------------------------------------------------
!!!!!!connect server 2
client write log 304112132204247906 (index 120) to leader 1
term 19 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 120 matchIndex[2] 119 
------------------------------------------------------------------------
term 19 server 1 not vote for server 2, 日志不够新
term 19 server 0 not vote for server 2, 日志不够新
term 21 server 2 vote for server 1
term 21 server 0 vote for server 1
term 21 server 1 get vote from server 2
term 21 server 1 become leader
------------------------------------------------------
term 21 server 1 get outdate rpc reply from server 0
flag 57398 term 21 leader 1 nextIndex[0]: 121  matchIndex[0]: 0
term 21 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
flag 4031 term 21 leader 1 nextIndex[2]: 121  matchIndex[2]: 0
term 21 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
term 21 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 21 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 121->120
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 121->120
------------------------------------------------------
term 21 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7926 term 21 leader 1 nextIndex[0]: 120  matchIndex[0]: 0
term 21 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
term 21 leader 1 nextIndex[2]: 112  matchIndex[2]: 0
term 21 leader 1 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 19
------------------------------------------------------
term 21 server 2 InstallSnapshot success
------------------------------------------------------
term 21 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 120 matchIndex[2] 119 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 119 rf.lastIncludedTerm 19 rf.commitIndex 119 rf.lastApplied 119
term 21 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {304112132204247906 19 120}]
------------------------------------------------------
flag 55514 term 21 leader 1 nextIndex[0]: 121  matchIndex[0]: 120
term 21 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
flag 42836 term 21 leader 1 nextIndex[2]: 120  matchIndex[2]: 119
term 21 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {304112132204247906 19 120}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {304112132204247906 19 120}]
------------------------------------------------------
flag 43424 term 21 leader 1 nextIndex[0]: 121  matchIndex[0]: 120
term 21 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
flag 85222 term 21 leader 1 nextIndex[2]: 121  matchIndex[2]: 120
term 21 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {304112132204247906 19 120}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {304112132204247906 19 120}]
------------------------------------------------------
flag 44160 term 21 leader 1 nextIndex[0]: 121  matchIndex[0]: 120
term 21 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
flag 99068 term 21 leader 1 nextIndex[2]: 121  matchIndex[2]: 120
term 21 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {304112132204247906 19 120}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {304112132204247906 19 120}]
------------------------------------------------------
flag 94204 term 21 leader 1 nextIndex[0]: 121  matchIndex[0]: 120
term 21 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
flag 81043 term 21 leader 1 nextIndex[2]: 121  matchIndex[2]: 120
term 21 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {304112132204247906 19 120}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {304112132204247906 19 120}]
------------------------------------------------------
flag 66324 term 21 leader 1 nextIndex[0]: 121  matchIndex[0]: 120
term 21 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
flag 81937 term 21 leader 1 nextIndex[2]: 121  matchIndex[2]: 120
term 21 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=119
leader log:
term 21 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
[{snapshot 19 119} {304112132204247906 19 120}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {304112132204247906 19 120}]
------------------------------------------------------
flag 67042 term 21 leader 1 nextIndex[0]: 121  matchIndex[0]: 120
term 21 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
flag 61105 term 21 leader 1 nextIndex[2]: 121  matchIndex[2]: 120
term 21 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {304112132204247906 19 120}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {304112132204247906 19 120}]
------------------------------------------------------
flag 19667 term 21 leader 1 nextIndex[0]: 121  matchIndex[0]: 120
term 21 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
flag 53234 term 21 leader 1 nextIndex[2]: 121  matchIndex[2]: 120
term 21 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {304112132204247906 19 120}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {304112132204247906 19 120}]
------------------------------------------------------
flag 78632 term 21 leader 1 nextIndex[0]: 121  matchIndex[0]: 120
term 21 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
flag 2406 term 21 leader 1 nextIndex[2]: 121  matchIndex[2]: 120
term 21 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {304112132204247906 19 120}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {304112132204247906 19 120}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62437 term 21 leader 1 nextIndex[0]: 121  matchIndex[0]: 120
term 21 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
flag 69613 term 21 leader 1 nextIndex[2]: 121  matchIndex[2]: 120
term 21 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {304112132204247906 19 120}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {304112132204247906 19 120}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62394 term 21 leader 1 nextIndex[0]: 121  matchIndex[0]: 120
term 21 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
flag 81833 term 21 leader 1 nextIndex[2]: 121  matchIndex[2]: 120
term 21 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {304112132204247906 19 120}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {304112132204247906 19 120}]
------------------------------------------------------
term 21 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 52390 term 21 leader 1 nextIndex[0]: 121  matchIndex[0]: 120
term 21 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
flag 77886 term 21 leader 1 nextIndex[2]: 121  matchIndex[2]: 120
term 21 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {304112132204247906 19 120}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {304112132204247906 19 120}]
------------------------------------------------------
flag 76852 term 21 leader 1 nextIndex[0]: 121  matchIndex[0]: 120
term 21 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
flag 57722 term 21 leader 1 nextIndex[2]: 121  matchIndex[2]: 120
term 21 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {304112132204247906 19 120}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {304112132204247906 19 120}]
------------------------------------------------------
flag 86518 term 21 leader 1 nextIndex[0]: 121  matchIndex[0]: 120
term 21 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
flag 29979 term 21 leader 1 nextIndex[2]: 121  matchIndex[2]: 120
term 21 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=119
leader log:
term 21 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
[{snapshot 19 119} {304112132204247906 19 120}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {304112132204247906 19 120}]
------------------------------------------------------
flag 4253 term 21 leader 1 nextIndex[0]: 121  matchIndex[0]: 120
term 21 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
flag 98664 term 21 leader 1 nextIndex[2]: 121  matchIndex[2]: 120
term 21 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {304112132204247906 19 120}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {304112132204247906 19 120}]
------------------------------------------------------
flag 10147 term 21 leader 1 nextIndex[0]: 121  matchIndex[0]: 120
term 21 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
flag 29802 term 21 leader 1 nextIndex[2]: 121  matchIndex[2]: 120
term 21 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {304112132204247906 19 120}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {304112132204247906 19 120}]
------------------------------------------------------
flag 62850 term 21 leader 1 nextIndex[0]: 121  matchIndex[0]: 120
term 21 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
flag 81853 term 21 leader 1 nextIndex[2]: 121  matchIndex[2]: 120
term 21 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {304112132204247906 19 120}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {304112132204247906 19 120}]
------------------------------------------------------
flag 92440 term 21 leader 1 nextIndex[0]: 121  matchIndex[0]: 120
term 21 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
flag 90864 term 21 leader 1 nextIndex[2]: 121  matchIndex[2]: 120
term 21 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {304112132204247906 19 120}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {304112132204247906 19 120}]
------------------------------------------------------
flag 79114 term 21 leader 1 nextIndex[0]: 121  matchIndex[0]: 120
term 21 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
flag 34924 term 21 leader 1 nextIndex[2]: 121  matchIndex[2]: 120
term 21 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=119
term 21 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
leader log:
[{snapshot 19 119} {304112132204247906 19 120}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=119
leader log:
[{snapshot 19 119} {304112132204247906 19 120}]
------------------------------------------------------
client write log 304112132204247906 (index 121) to leader 1
flag 58877 term 21 leader 1 nextIndex[0]: 121  matchIndex[0]: 120
term 21 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
flag 75706 term 21 leader 1 nextIndex[2]: 121  matchIndex[2]: 120
term 21 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=121
leader log:
[{snapshot 19 119} {304112132204247906 19 120} {304112132204247906 21 121}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=122
update matchIndex[0]=121
update leader CommitIndex=121
leader log:
[{snapshot 19 119} {304112132204247906 19 120} {304112132204247906 21 121}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30483 term 21 leader 1 nextIndex[0]: 122  matchIndex[0]: 121
term 21 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 121 
------------------------------------------------------
flag 21302 term 21 leader 1 nextIndex[2]: 122  matchIndex[2]: 121
term 21 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 121 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=121
leader log:
[{snapshot 19 119} {304112132204247906 19 120} {304112132204247906 21 121}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=122
update matchIndex[0]=121
update leader CommitIndex=121
leader log:
[{snapshot 19 119} {304112132204247906 19 120} {304112132204247906 21 121}]
------------------------------------------------------
flag 83181 term 21 leader 1 nextIndex[0]: 122  matchIndex[0]: 121
term 21 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 121 
------------------------------------------------------
flag 96911 term 21 leader 1 nextIndex[2]: 122  matchIndex[2]: 121
term 21 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 121 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=121
leader log:
[{snapshot 19 119} {304112132204247906 19 120} {304112132204247906 21 121}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=122
update matchIndex[0]=121
update leader CommitIndex=121
leader log:
[{snapshot 19 119} {304112132204247906 19 120} {304112132204247906 21 121}]
------------------------------------------------------
flag 35180 term 21 leader 1 nextIndex[0]: 122  matchIndex[0]: 121
term 21 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 121 
------------------------------------------------------
flag 5436 term 21 leader 1 nextIndex[2]: 122  matchIndex[2]: 121
term 21 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 121 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
term 21 server 0 AppendEntries true commitIndex:121 
------------------------------------------------------
update matchIndex[2]=121
update leader CommitIndex=121
leader log:
[{snapshot 19 119} {304112132204247906 19 120} {304112132204247906 21 121}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=122
update matchIndex[0]=121
update leader CommitIndex=121
leader log:
[{snapshot 19 119} {304112132204247906 19 120} {304112132204247906 21 121}]
------------------------------------------------------
flag 27698 term 21 leader 1 nextIndex[0]: 122  matchIndex[0]: 121
term 21 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 121 
------------------------------------------------------
flag 39562 term 21 leader 1 nextIndex[2]: 122  matchIndex[2]: 121
term 21 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 121 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=121
leader log:
[{snapshot 19 119} {304112132204247906 19 120} {304112132204247906 21 121}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=122
update matchIndex[0]=121
update leader CommitIndex=121
leader log:
[{snapshot 19 119} {304112132204247906 19 120} {304112132204247906 21 121}]
------------------------------------------------------
term 21 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 21 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 68202 term 21 leader 1 nextIndex[0]: 122  matchIndex[0]: 121
term 21 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 121 
------------------------------------------------------
flag 33431 term 21 leader 1 nextIndex[2]: 122  matchIndex[2]: 121
term 21 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 121 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=122
update matchIndex[0]=121
update leader CommitIndex=121
leader log:
[{snapshot 19 119} {304112132204247906 19 120} {304112132204247906 21 121}]
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=121
leader log:
[{snapshot 19 119} {304112132204247906 19 120} {304112132204247906 21 121}]
------------------------------------------------------
term 21 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 11376 term 21 leader 1 nextIndex[0]: 122  matchIndex[0]: 121
term 21 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 121 
------------------------------------------------------
flag 9428 term 21 leader 1 nextIndex[2]: 122  matchIndex[2]: 121
term 21 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 121 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=121
leader log:
[{snapshot 19 119} {304112132204247906 19 120} {304112132204247906 21 121}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=122
update matchIndex[0]=121
update leader CommitIndex=121
leader log:
[{snapshot 19 119} {304112132204247906 19 120} {304112132204247906 21 121}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 8594118956829718361 (index 122) to leader 1
flag 81336 term 21 leader 1 nextIndex[0]: 122  matchIndex[0]: 121
term 21 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 121 
------------------------------------------------------
flag 68306 term 21 leader 1 nextIndex[2]: 122  matchIndex[2]: 121
term 21 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 121 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=123
update matchIndex[0]=122
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {304112132204247906 19 120} {304112132204247906 21 121} {8594118956829718361 21 122}]
------------------------------------------------------
flag 45705 term 21 leader 1 nextIndex[0]: 123  matchIndex[0]: 122
term 21 leader 1 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
flag 23932 term 21 leader 1 nextIndex[2]: 122  matchIndex[2]: 121
term 21 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=123
update matchIndex[0]=122
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {304112132204247906 19 120} {304112132204247906 21 121} {8594118956829718361 21 122}]
------------------------------------------------------
client write log 8467118891945680854 (index 123) to leader 1
client write log 4872687362835682986 (index 124) to leader 1
client write log 8901300918626428178 (index 125) to leader 1
client write log 413120123434946462 (index 126) to leader 1
client write log 8265779368247541852 (index 127) to leader 1
client write log 7046695263958841573 (index 128) to leader 1
client write log 5729452410045616196 (index 129) to leader 1
client write log 3417834567220054520 (index 130) to leader 1
client write log 7485915164819283415 (index 131) to leader 1
flag 7076 term 21 leader 1 nextIndex[0]: 123  matchIndex[0]: 122
term 21 leader 1 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
flag 92125 term 21 leader 1 nextIndex[2]: 122  matchIndex[2]: 121
term 21 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=132
update matchIndex[0]=131
update leader CommitIndex=131
leader log:
[{snapshot 19 119} {304112132204247906 19 120} {304112132204247906 21 121} {8594118956829718361 21 122} {8467118891945680854 21 123} {4872687362835682986 21 124} {8901300918626428178 21 125} {413120123434946462 21 126} {8265779368247541852 21 127} {7046695263958841573 21 128} {5729452410045616196 21 129} {3417834567220054520 21 130} {7485915164819283415 21 131}]
------------------------------------------------------
term 21 Server1 start snapshot! index=129
term 21 server1 snapshot success
lastIncludedIndex=129 lastApplied=130 lastIndex=131
-------------------------------------------------------------
term 21 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 74844 term 21 leader 1 nextIndex[0]: 132  matchIndex[0]: 131
term 21 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 21 leaderCommit: 131 
------------------------------------------------------
term 21 leader 1 nextIndex[2]: 122  matchIndex[2]: 121
term 21 leader 1 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 21
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=132
update matchIndex[0]=131
update leader CommitIndex=131
leader log:
[{snapshot 21 129} {3417834567220054520 21 130} {7485915164819283415 21 131}]
------------------------------------------------------
term 21 Server0 start snapshot! index=129
term 21 server0 snapshot success
lastIncludedIndex=129 lastApplied=130 lastIndex=131
-------------------------------------------------------------
!!!!!!connect server 2
client write log 7598607065021440729 (index 132) to leader 1
term 21 server 1 not vote for server 2, 日志不够新
term 21 server 0 not vote for server 2, 日志不够新
term 22 server 1 not vote for server 0, 任期不够新
term 22 server 0 get outdate rpc reply from server 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 23 server 2 vote for server 1
term 23 server 0 vote for server 1
term 23 server 1 get vote from server 2
term 23 server 1 become leader
------------------------------------------------------
term 23 server 1 get outdate rpc reply from server 0
flag 41398 term 23 leader 1 nextIndex[0]: 133  matchIndex[0]: 0
term 23 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 21 leaderCommit: 131 
------------------------------------------------------
flag 52289 term 23 leader 1 nextIndex[2]: 133  matchIndex[2]: 0
term 23 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 21 leaderCommit: 131 
------------------------------------------------------
term 23 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 133->132
------------------------------------------------------
term 23 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 133->132
------------------------------------------------------
flag 61658 term 23 leader 1 nextIndex[0]: 132  matchIndex[0]: 0
term 23 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 21 leaderCommit: 131 
------------------------------------------------------
term 23 leader 1 nextIndex[2]: 122  matchIndex[2]: 0
term 23 leader 1 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 21
------------------------------------------------------
term 23 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 129 rf.lastIncludedTerm 21 rf.commitIndex 129 rf.lastApplied 129
term 23 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
term 23 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 130 matchIndex[2] 129 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=131
leader log:
[{snapshot 21 129} {3417834567220054520 21 130} {7485915164819283415 21 131} {7598607065021440729 21 132}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56765 term 23 leader 1 nextIndex[0]: 133  matchIndex[0]: 132
term 23 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 21 leaderCommit: 131 
------------------------------------------------------
flag 84693 term 23 leader 1 nextIndex[2]: 130  matchIndex[2]: 129
term 23 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 131 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=131
leader log:
[{snapshot 21 129} {3417834567220054520 21 130} {7485915164819283415 21 131} {7598607065021440729 21 132}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=131
leader log:
[{snapshot 21 129} {3417834567220054520 21 130} {7485915164819283415 21 131} {7598607065021440729 21 132}]
------------------------------------------------------
term 23 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 23 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 60315 term 23 leader 1 nextIndex[0]: 133  matchIndex[0]: 132
term 23 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 21 leaderCommit: 131 
------------------------------------------------------
flag 78153 term 23 leader 1 nextIndex[2]: 133  matchIndex[2]: 132
term 23 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 21 leaderCommit: 131 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=131
leader log:
[{snapshot 21 129} {3417834567220054520 21 130} {7485915164819283415 21 131} {7598607065021440729 21 132}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=131
leader log:
[{snapshot 21 129} {3417834567220054520 21 130} {7485915164819283415 21 131} {7598607065021440729 21 132}]
------------------------------------------------------
flag 86825 term 23 leader 1 nextIndex[0]: 133  matchIndex[0]: 132
term 23 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 21 leaderCommit: 131 
------------------------------------------------------
flag 86687 term 23 leader 1 nextIndex[2]: 133  matchIndex[2]: 132
term 23 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 21 leaderCommit: 131 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=131
leader log:
[{snapshot 21 129} {3417834567220054520 21 130} {7485915164819283415 21 131} {7598607065021440729 21 132}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=131
leader log:
[{snapshot 21 129} {3417834567220054520 21 130} {7485915164819283415 21 131} {7598607065021440729 21 132}]
------------------------------------------------------
flag 69851 term 23 leader 1 nextIndex[0]: 133  matchIndex[0]: 132
term 23 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 21 leaderCommit: 131 
------------------------------------------------------
flag 63395 term 23 leader 1 nextIndex[2]: 133  matchIndex[2]: 132
term 23 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 21 leaderCommit: 131 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=131
leader log:
[{snapshot 21 129} {3417834567220054520 21 130} {7485915164819283415 21 131} {7598607065021440729 21 132}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=131
leader log:
[{snapshot 21 129} {3417834567220054520 21 130} {7485915164819283415 21 131} {7598607065021440729 21 132}]
------------------------------------------------------
flag 64557 term 23 leader 1 nextIndex[0]: 133  matchIndex[0]: 132
term 23 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 21 leaderCommit: 131 
------------------------------------------------------
flag 2012 term 23 leader 1 nextIndex[2]: 133  matchIndex[2]: 132
term 23 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 21 leaderCommit: 131 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
term 23 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
update leader CommitIndex=131
leader log:
[{snapshot 21 129} {3417834567220054520 21 130} {7485915164819283415 21 131} {7598607065021440729 21 132}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=131
leader log:
[{snapshot 21 129} {3417834567220054520 21 130} {7485915164819283415 21 131} {7598607065021440729 21 132}]
------------------------------------------------------
flag 92616 term 23 leader 1 nextIndex[0]: 133  matchIndex[0]: 132
term 23 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 21 leaderCommit: 131 
------------------------------------------------------
flag 99772 term 23 leader 1 nextIndex[2]: 133  matchIndex[2]: 132
term 23 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 21 leaderCommit: 131 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=131
leader log:
[{snapshot 21 129} {3417834567220054520 21 130} {7485915164819283415 21 131} {7598607065021440729 21 132}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=131
leader log:
[{snapshot 21 129} {3417834567220054520 21 130} {7485915164819283415 21 131} {7598607065021440729 21 132}]
------------------------------------------------------
flag 96549 term 23 leader 1 nextIndex[0]: 133  matchIndex[0]: 132
term 23 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 21 leaderCommit: 131 
------------------------------------------------------
flag 11897 term 23 leader 1 nextIndex[2]: 133  matchIndex[2]: 132
term 23 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 21 leaderCommit: 131 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=131
leader log:
[{snapshot 21 129} {3417834567220054520 21 130} {7485915164819283415 21 131} {7598607065021440729 21 132}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=131
leader log:
[{snapshot 21 129} {3417834567220054520 21 130} {7485915164819283415 21 131} {7598607065021440729 21 132}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91009 term 23 leader 1 nextIndex[0]: 133  matchIndex[0]: 132
term 23 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 21 leaderCommit: 131 
------------------------------------------------------
flag 68977 term 23 leader 1 nextIndex[2]: 133  matchIndex[2]: 132
term 23 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 21 leaderCommit: 131 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=131
leader log:
[{snapshot 21 129} {3417834567220054520 21 130} {7485915164819283415 21 131} {7598607065021440729 21 132}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=131
leader log:
[{snapshot 21 129} {3417834567220054520 21 130} {7485915164819283415 21 131} {7598607065021440729 21 132}]
------------------------------------------------------
term 23 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 93409 term 23 leader 1 nextIndex[0]: 133  matchIndex[0]: 132
term 23 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 21 leaderCommit: 131 
------------------------------------------------------
flag 67014 term 23 leader 1 nextIndex[2]: 133  matchIndex[2]: 132
term 23 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 21 leaderCommit: 131 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=131
leader log:
[{snapshot 21 129} {3417834567220054520 21 130} {7485915164819283415 21 131} {7598607065021440729 21 132}]
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=131
leader log:
[{snapshot 21 129} {3417834567220054520 21 130} {7485915164819283415 21 131} {7598607065021440729 21 132}]
------------------------------------------------------
term 23 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 73492 term 23 leader 1 nextIndex[0]: 133  matchIndex[0]: 132
term 23 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 21 leaderCommit: 131 
------------------------------------------------------
flag 64669 term 23 leader 1 nextIndex[2]: 133  matchIndex[2]: 132
term 23 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 21 leaderCommit: 131 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=131
leader log:
[{snapshot 21 129} {3417834567220054520 21 130} {7485915164819283415 21 131} {7598607065021440729 21 132}]
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=131
leader log:
[{snapshot 21 129} {3417834567220054520 21 130} {7485915164819283415 21 131} {7598607065021440729 21 132}]
------------------------------------------------------
flag 6711 term 23 leader 1 nextIndex[0]: 133  matchIndex[0]: 132
term 23 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 21 leaderCommit: 131 
------------------------------------------------------
flag 99906 term 23 leader 1 nextIndex[2]: 133  matchIndex[2]: 132
term 23 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 21 leaderCommit: 131 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=131
leader log:
[{snapshot 21 129} {3417834567220054520 21 130} {7485915164819283415 21 131} {7598607065021440729 21 132}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=131
leader log:
[{snapshot 21 129} {3417834567220054520 21 130} {7485915164819283415 21 131} {7598607065021440729 21 132}]
------------------------------------------------------
flag 27689 term 23 leader 1 nextIndex[0]: 133  matchIndex[0]: 132
term 23 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 21 leaderCommit: 131 
------------------------------------------------------
flag 21513 term 23 leader 1 nextIndex[2]: 133  matchIndex[2]: 132
term 23 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 21 leaderCommit: 131 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=131
leader log:
term 23 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
[{snapshot 21 129} {3417834567220054520 21 130} {7485915164819283415 21 131} {7598607065021440729 21 132}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=131
leader log:
[{snapshot 21 129} {3417834567220054520 21 130} {7485915164819283415 21 131} {7598607065021440729 21 132}]
------------------------------------------------------
term 23 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 31929 term 23 leader 1 nextIndex[0]: 133  matchIndex[0]: 132
term 23 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 21 leaderCommit: 131 
------------------------------------------------------
flag 49515 term 23 leader 1 nextIndex[2]: 133  matchIndex[2]: 132
term 23 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 21 leaderCommit: 131 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=131
leader log:
[{snapshot 21 129} {3417834567220054520 21 130} {7485915164819283415 21 131} {7598607065021440729 21 132}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=131
leader log:
[{snapshot 21 129} {3417834567220054520 21 130} {7485915164819283415 21 131} {7598607065021440729 21 132}]
------------------------------------------------------
flag 33398 term 23 leader 1 nextIndex[0]: 133  matchIndex[0]: 132
term 23 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 21 leaderCommit: 131 
------------------------------------------------------
flag 12118 term 23 leader 1 nextIndex[2]: 133  matchIndex[2]: 132
term 23 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 21 leaderCommit: 131 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=131
leader log:
[{snapshot 21 129} {3417834567220054520 21 130} {7485915164819283415 21 131} {7598607065021440729 21 132}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=131
leader log:
[{snapshot 21 129} {3417834567220054520 21 130} {7485915164819283415 21 131} {7598607065021440729 21 132}]
------------------------------------------------------
flag 17964 term 23 leader 1 nextIndex[0]: 133  matchIndex[0]: 132
term 23 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 21 leaderCommit: 131 
------------------------------------------------------
flag 22248 term 23 leader 1 nextIndex[2]: 133  matchIndex[2]: 132
term 23 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 21 leaderCommit: 131 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=131
leader log:
[{snapshot 21 129} {3417834567220054520 21 130} {7485915164819283415 21 131} {7598607065021440729 21 132}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=131
leader log:
[{snapshot 21 129} {3417834567220054520 21 130} {7485915164819283415 21 131} {7598607065021440729 21 132}]
------------------------------------------------------
term 23 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 77077 term 23 leader 1 nextIndex[0]: 133  matchIndex[0]: 132
term 23 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 21 leaderCommit: 131 
------------------------------------------------------
flag 52907 term 23 leader 1 nextIndex[2]: 133  matchIndex[2]: 132
term 23 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 21 leaderCommit: 131 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=131
leader log:
[{snapshot 21 129} {3417834567220054520 21 130} {7485915164819283415 21 131} {7598607065021440729 21 132}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=131
leader log:
[{snapshot 21 129} {3417834567220054520 21 130} {7485915164819283415 21 131} {7598607065021440729 21 132}]
------------------------------------------------------
flag 63242 term 23 leader 1 nextIndex[0]: 133  matchIndex[0]: 132
term 23 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 21 leaderCommit: 131 
------------------------------------------------------
flag 8092 term 23 leader 1 nextIndex[2]: 133  matchIndex[2]: 132
term 23 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 21 leaderCommit: 131 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=131
leader log:
[{snapshot 21 129} {3417834567220054520 21 130} {7485915164819283415 21 131} {7598607065021440729 21 132}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=131
leader log:
[{snapshot 21 129} {3417834567220054520 21 130} {7485915164819283415 21 131} {7598607065021440729 21 132}]
------------------------------------------------------
term 23 server 2 not vote for server 0, 任期不够新
term 23 server 0 get outdate rpc reply from server 2
flag 67228 term 23 leader 1 nextIndex[0]: 133  matchIndex[0]: 132
term 23 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 21 leaderCommit: 131 
------------------------------------------------------
flag 96748 term 23 leader 1 nextIndex[2]: 133  matchIndex[2]: 132
term 23 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 21 leaderCommit: 131 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=131
leader log:
[{snapshot 21 129} {3417834567220054520 21 130} {7485915164819283415 21 131} {7598607065021440729 21 132}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=131
leader log:
[{snapshot 21 129} {3417834567220054520 21 130} {7485915164819283415 21 131} {7598607065021440729 21 132}]
------------------------------------------------------
client write log 7598607065021440729 (index 133) to leader 1
flag 86845 term 23 leader 1 nextIndex[0]: 133  matchIndex[0]: 132
term 23 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 21 leaderCommit: 131 
------------------------------------------------------
flag 15690 term 23 leader 1 nextIndex[2]: 133  matchIndex[2]: 132
term 23 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 21 leaderCommit: 131 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=133
leader log:
[{snapshot 21 129} {3417834567220054520 21 130} {7485915164819283415 21 131} {7598607065021440729 21 132} {7598607065021440729 23 133}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=133
leader log:
[{snapshot 21 129} {3417834567220054520 21 130} {7485915164819283415 21 131} {7598607065021440729 21 132} {7598607065021440729 23 133}]
------------------------------------------------------
term 23 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89213 term 23 leader 1 nextIndex[0]: 134  matchIndex[0]: 133
term 23 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
flag 5088 term 23 leader 1 nextIndex[2]: 134  matchIndex[2]: 133
term 23 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=133
leader log:
[{snapshot 21 129} {3417834567220054520 21 130} {7485915164819283415 21 131} {7598607065021440729 21 132} {7598607065021440729 23 133}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=133
leader log:
[{snapshot 21 129} {3417834567220054520 21 130} {7485915164819283415 21 131} {7598607065021440729 21 132} {7598607065021440729 23 133}]
------------------------------------------------------
term 23 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 17229 term 23 leader 1 nextIndex[0]: 134  matchIndex[0]: 133
term 23 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
flag 64839 term 23 leader 1 nextIndex[2]: 134  matchIndex[2]: 133
term 23 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=133
leader log:
[{snapshot 21 129} {3417834567220054520 21 130} {7485915164819283415 21 131} {7598607065021440729 21 132} {7598607065021440729 23 133}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=133
leader log:
[{snapshot 21 129} {3417834567220054520 21 130} {7485915164819283415 21 131} {7598607065021440729 21 132} {7598607065021440729 23 133}]
------------------------------------------------------
flag 12591 term 23 leader 1 nextIndex[0]: 134  matchIndex[0]: 133
term 23 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
flag 931 term 23 leader 1 nextIndex[2]: 134  matchIndex[2]: 133
term 23 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:133 
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=133
leader log:
[{snapshot 21 129} {3417834567220054520 21 130} {7485915164819283415 21 131} {7598607065021440729 21 132} {7598607065021440729 23 133}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=133
leader log:
[{snapshot 21 129} {3417834567220054520 21 130} {7485915164819283415 21 131} {7598607065021440729 21 132} {7598607065021440729 23 133}]
------------------------------------------------------
flag 74852 term 23 leader 1 nextIndex[0]: 134  matchIndex[0]: 133
term 23 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
flag 38271 term 23 leader 1 nextIndex[2]: 134  matchIndex[2]: 133
term 23 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=133
leader log:
[{snapshot 21 129} {3417834567220054520 21 130} {7485915164819283415 21 131} {7598607065021440729 21 132} {7598607065021440729 23 133}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=133
leader log:
[{snapshot 21 129} {3417834567220054520 21 130} {7485915164819283415 21 131} {7598607065021440729 21 132} {7598607065021440729 23 133}]
------------------------------------------------------
flag 47463 term 23 leader 1 nextIndex[0]: 134  matchIndex[0]: 133
term 23 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
flag 45624 term 23 leader 1 nextIndex[2]: 134  matchIndex[2]: 133
term 23 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=133
leader log:
[{snapshot 21 129} {3417834567220054520 21 130} {7485915164819283415 21 131} {7598607065021440729 21 132} {7598607065021440729 23 133}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=133
leader log:
[{snapshot 21 129} {3417834567220054520 21 130} {7485915164819283415 21 131} {7598607065021440729 21 132} {7598607065021440729 23 133}]
------------------------------------------------------
flag 73202 term 23 leader 1 nextIndex[0]: 134  matchIndex[0]: 133
term 23 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
flag 94613 term 23 leader 1 nextIndex[2]: 134  matchIndex[2]: 133
term 23 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=133
leader log:
term 23 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
[{snapshot 21 129} {3417834567220054520 21 130} {7485915164819283415 21 131} {7598607065021440729 21 132} {7598607065021440729 23 133}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=133
leader log:
[{snapshot 21 129} {3417834567220054520 21 130} {7485915164819283415 21 131} {7598607065021440729 21 132} {7598607065021440729 23 133}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 69046 term 23 leader 1 nextIndex[0]: 134  matchIndex[0]: 133
term 23 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
flag 70825 term 23 leader 1 nextIndex[2]: 134  matchIndex[2]: 133
term 23 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
flag 96764 term 23 leader 1 nextIndex[0]: 134  matchIndex[0]: 133
term 23 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
flag 50522 term 23 leader 1 nextIndex[2]: 134  matchIndex[2]: 133
term 23 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
flag 57926 term 23 leader 1 nextIndex[0]: 134  matchIndex[0]: 133
term 23 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
flag 82375 term 23 leader 1 nextIndex[2]: 134  matchIndex[2]: 133
term 23 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
flag 52605 term 23 leader 1 nextIndex[0]: 134  matchIndex[0]: 133
term 23 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
flag 40705 term 23 leader 1 nextIndex[2]: 134  matchIndex[2]: 133
term 23 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
term 24 server 0 vote for server 2
term 24 server 2 get vote from server 0
term 24 server 2 become leader
------------------------------------------------------
flag 43161 term 24 leader 2 nextIndex[0]: 134  matchIndex[0]: 0
term 24 leader 2 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
flag 57852 term 24 leader 2 nextIndex[1]: 134  matchIndex[1]: 0
term 24 leader 2 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=133
leader log:
[{snapshot 21 129} {3417834567220054520 21 130} {7485915164819283415 21 131} {7598607065021440729 21 132} {7598607065021440729 23 133}]
------------------------------------------------------
client write log 4861036212838384442 (index 134) to leader 2
flag 50192 term 23 leader 1 nextIndex[0]: 134  matchIndex[0]: 133
term 23 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
flag 4167 term 23 leader 1 nextIndex[2]: 134  matchIndex[2]: 133
term 23 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
flag 11838 term 24 leader 2 nextIndex[0]: 134  matchIndex[0]: 133
term 24 leader 2 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
flag 88252 term 24 leader 2 nextIndex[1]: 134  matchIndex[1]: 0
term 24 leader 2 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=134
leader log:
[{snapshot 21 129} {3417834567220054520 21 130} {7485915164819283415 21 131} {7598607065021440729 21 132} {7598607065021440729 23 133} {4861036212838384442 24 134}]
------------------------------------------------------
flag 85727 term 23 leader 1 nextIndex[0]: 134  matchIndex[0]: 133
term 23 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
flag 84701 term 23 leader 1 nextIndex[2]: 134  matchIndex[2]: 133
term 23 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
flag 94399 term 24 leader 2 nextIndex[0]: 135  matchIndex[0]: 134
term 24 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 24 leaderCommit: 134 
------------------------------------------------------
flag 73976 term 24 leader 2 nextIndex[1]: 134  matchIndex[1]: 0
term 24 leader 2 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=134
leader log:
[{snapshot 21 129} {3417834567220054520 21 130} {7485915164819283415 21 131} {7598607065021440729 21 132} {7598607065021440729 23 133} {4861036212838384442 24 134}]
------------------------------------------------------
client write log 6443226343983623100 (index 135) to leader 2
client write log 3967456497501503525 (index 136) to leader 2
client write log 4607800707092149144 (index 137) to leader 2
client write log 2759575198133930057 (index 138) to leader 2
client write log 5241053034839899799 (index 139) to leader 2
client write log 5354541930212929429 (index 140) to leader 2
client write log 5305554470199323563 (index 141) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55915 term 23 leader 1 nextIndex[0]: 134  matchIndex[0]: 133
term 23 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
flag 31306 term 23 leader 1 nextIndex[2]: 134  matchIndex[2]: 133
term 23 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
flag 3617 term 24 leader 2 nextIndex[0]: 135  matchIndex[0]: 134
term 24 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 24 leaderCommit: 134 
------------------------------------------------------
flag 90475 term 24 leader 2 nextIndex[1]: 134  matchIndex[1]: 0
term 24 leader 2 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=141
leader log:
[{snapshot 21 129} {3417834567220054520 21 130} {7485915164819283415 21 131} {7598607065021440729 21 132} {7598607065021440729 23 133} {4861036212838384442 24 134} {6443226343983623100 24 135} {3967456497501503525 24 136} {4607800707092149144 24 137} {2759575198133930057 24 138} {5241053034839899799 24 139} {5354541930212929429 24 140} {5305554470199323563 24 141}]
------------------------------------------------------
term 24 Server2 start snapshot! index=139
term 24 server2 snapshot success
lastIncludedIndex=139 lastApplied=140 lastIndex=141
-------------------------------------------------------------
flag 16121 term 23 leader 1 nextIndex[0]: 134  matchIndex[0]: 133
term 23 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
flag 18526 term 23 leader 1 nextIndex[2]: 134  matchIndex[2]: 133
term 23 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 134->133
------------------------------------------------------
flag 33978 term 24 leader 2 nextIndex[0]: 142  matchIndex[0]: 141
term 24 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
term 24 leader 2 nextIndex[1]: 134  matchIndex[1]: 0
term 24 leader 2 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 24
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=141
leader log:
[{snapshot 24 139} {5354541930212929429 24 140} {5305554470199323563 24 141}]
------------------------------------------------------
term 24 Server0 start snapshot! index=139
term 24 server0 snapshot success
lastIncludedIndex=139 lastApplied=140 lastIndex=141
-------------------------------------------------------------
!!!!!!connect server 1
client write log 4084080300546125653 (index 134) to leader 1
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 134->133
------------------------------------------------------
term 23 leader 1 nextIndex[0]: 0  matchIndex[0]: 133
term 23 leader 1 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 21
------------------------------------------------------
term 23 leader 1 nextIndex[2]: 0  matchIndex[2]: 133
term 23 leader 1 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 21
------------------------------------------------------
term 24 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 23 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 24 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 24 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 38415 term 24 leader 2 nextIndex[0]: 142  matchIndex[0]: 141
term 24 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
term 24 leader 2 nextIndex[1]: 134  matchIndex[1]: 0
term 24 leader 2 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 24
------------------------------------------------------
term 24 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 139 rf.lastIncludedTerm 24 rf.commitIndex 139 rf.lastApplied 139
term 24 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
term 24 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 140 matchIndex[1] 139 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=141
leader log:
[{snapshot 24 139} {5354541930212929429 24 140} {5305554470199323563 24 141}]
------------------------------------------------------
term 24 server 0 not vote for server 1, 日志不够新
term 24 server 2 not vote for server 1, 日志不够新
term 26 server 1 vote for server 2
term 26 server 2 get vote from server 1
term 26 server 2 become leader
------------------------------------------------------
term 26 server 0 vote for server 2
term 26 server 2 get outdate rpc reply from server 0
flag 31475 term 26 leader 2 nextIndex[0]: 142  matchIndex[0]: 0
term 26 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
flag 32683 term 26 leader 2 nextIndex[1]: 142  matchIndex[1]: 0
term 26 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
term 26 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 142->141
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=141
leader log:
[{snapshot 24 139} {5354541930212929429 24 140} {5305554470199323563 24 141}]
------------------------------------------------------
flag 18689 term 26 leader 2 nextIndex[0]: 142  matchIndex[0]: 141
term 26 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
flag 40014 term 26 leader 2 nextIndex[1]: 140  matchIndex[1]: 0
term 26 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=141
leader log:
[{snapshot 24 139} {5354541930212929429 24 140} {5305554470199323563 24 141}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 24 139} {5354541930212929429 24 140} {5305554470199323563 24 141}]
------------------------------------------------------
flag 85935 term 26 leader 2 nextIndex[0]: 142  matchIndex[0]: 141
term 26 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
flag 4996 term 26 leader 2 nextIndex[1]: 142  matchIndex[1]: 141
term 26 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=141
leader log:
[{snapshot 24 139} {5354541930212929429 24 140} {5305554470199323563 24 141}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 24 139} {5354541930212929429 24 140} {5305554470199323563 24 141}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42039 term 26 leader 2 nextIndex[0]: 142  matchIndex[0]: 141
term 26 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
flag 51185 term 26 leader 2 nextIndex[1]: 142  matchIndex[1]: 141
term 26 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 24 139} {5354541930212929429 24 140} {5305554470199323563 24 141}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=141
leader log:
[{snapshot 24 139} {5354541930212929429 24 140} {5305554470199323563 24 141}]
------------------------------------------------------
flag 55559 term 26 leader 2 nextIndex[0]: 142  matchIndex[0]: 141
term 26 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
flag 99203 term 26 leader 2 nextIndex[1]: 142  matchIndex[1]: 141
term 26 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=141
leader log:
[{snapshot 24 139} {5354541930212929429 24 140} {5305554470199323563 24 141}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 24 139} {5354541930212929429 24 140} {5305554470199323563 24 141}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69394 term 26 leader 2 nextIndex[0]: 142  matchIndex[0]: 141
term 26 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
flag 88971 term 26 leader 2 nextIndex[1]: 142  matchIndex[1]: 141
term 26 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 24 139} {5354541930212929429 24 140} {5305554470199323563 24 141}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=141
leader log:
[{snapshot 24 139} {5354541930212929429 24 140} {5305554470199323563 24 141}]
------------------------------------------------------
flag 93989 term 26 leader 2 nextIndex[0]: 142  matchIndex[0]: 141
term 26 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
flag 29256 term 26 leader 2 nextIndex[1]: 142  matchIndex[1]: 141
term 26 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 24 139} {5354541930212929429 24 140} {5305554470199323563 24 141}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=141
leader log:
[{snapshot 24 139} {5354541930212929429 24 140} {5305554470199323563 24 141}]
------------------------------------------------------
flag 18651 term 26 leader 2 nextIndex[0]: 142  matchIndex[0]: 141
term 26 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
flag 12315 term 26 leader 2 nextIndex[1]: 142  matchIndex[1]: 141
term 26 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
term 26 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
[{snapshot 24 139} {5354541930212929429 24 140} {5305554470199323563 24 141}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=141
leader log:
[{snapshot 24 139} {5354541930212929429 24 140} {5305554470199323563 24 141}]
------------------------------------------------------
flag 5817 term 26 leader 2 nextIndex[0]: 142  matchIndex[0]: 141
term 26 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
flag 8921 term 26 leader 2 nextIndex[1]: 142  matchIndex[1]: 141
term 26 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 24 139} {5354541930212929429 24 140} {5305554470199323563 24 141}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=141
leader log:
[{snapshot 24 139} {5354541930212929429 24 140} {5305554470199323563 24 141}]
------------------------------------------------------
flag 87646 term 26 leader 2 nextIndex[0]: 142  matchIndex[0]: 141
term 26 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
flag 40699 term 26 leader 2 nextIndex[1]: 142  matchIndex[1]: 141
term 26 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 24 139} {5354541930212929429 24 140} {5305554470199323563 24 141}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=141
leader log:
[{snapshot 24 139} {5354541930212929429 24 140} {5305554470199323563 24 141}]
------------------------------------------------------
flag 77686 term 26 leader 2 nextIndex[0]: 142  matchIndex[0]: 141
term 26 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
flag 68981 term 26 leader 2 nextIndex[1]: 142  matchIndex[1]: 141
term 26 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 24 139} {5354541930212929429 24 140} {5305554470199323563 24 141}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=141
leader log:
[{snapshot 24 139} {5354541930212929429 24 140} {5305554470199323563 24 141}]
------------------------------------------------------
flag 50840 term 26 leader 2 nextIndex[0]: 142  matchIndex[0]: 141
term 26 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
flag 1851 term 26 leader 2 nextIndex[1]: 142  matchIndex[1]: 141
term 26 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 24 139} {5354541930212929429 24 140} {5305554470199323563 24 141}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=141
leader log:
[{snapshot 24 139} {5354541930212929429 24 140} {5305554470199323563 24 141}]
------------------------------------------------------
flag 67148 term 26 leader 2 nextIndex[0]: 142  matchIndex[0]: 141
term 26 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
flag 99156 term 26 leader 2 nextIndex[1]: 142  matchIndex[1]: 141
term 26 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 24 139} {5354541930212929429 24 140} {5305554470199323563 24 141}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=141
leader log:
[{snapshot 24 139} {5354541930212929429 24 140} {5305554470199323563 24 141}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42012 term 26 leader 2 nextIndex[0]: 142  matchIndex[0]: 141
term 26 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
flag 62930 term 26 leader 2 nextIndex[1]: 142  matchIndex[1]: 141
term 26 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
term 26 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
[{snapshot 24 139} {5354541930212929429 24 140} {5305554470199323563 24 141}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=141
leader log:
[{snapshot 24 139} {5354541930212929429 24 140} {5305554470199323563 24 141}]
------------------------------------------------------
flag 8799 term 26 leader 2 nextIndex[0]: 142  matchIndex[0]: 141
term 26 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
flag 37762 term 26 leader 2 nextIndex[1]: 142  matchIndex[1]: 141
term 26 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=141
leader log:
[{snapshot 24 139} {5354541930212929429 24 140} {5305554470199323563 24 141}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 24 139} {5354541930212929429 24 140} {5305554470199323563 24 141}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29296 term 26 leader 2 nextIndex[0]: 142  matchIndex[0]: 141
term 26 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
flag 98615 term 26 leader 2 nextIndex[1]: 142  matchIndex[1]: 141
term 26 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 24 139} {5354541930212929429 24 140} {5305554470199323563 24 141}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=141
leader log:
[{snapshot 24 139} {5354541930212929429 24 140} {5305554470199323563 24 141}]
------------------------------------------------------
flag 53528 term 26 leader 2 nextIndex[0]: 142  matchIndex[0]: 141
term 26 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
flag 96003 term 26 leader 2 nextIndex[1]: 142  matchIndex[1]: 141
term 26 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=141
leader log:
[{snapshot 24 139} {5354541930212929429 24 140} {5305554470199323563 24 141}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 24 139} {5354541930212929429 24 140} {5305554470199323563 24 141}]
------------------------------------------------------
flag 19184 term 26 leader 2 nextIndex[0]: 142  matchIndex[0]: 141
term 26 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
flag 17011 term 26 leader 2 nextIndex[1]: 142  matchIndex[1]: 141
term 26 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 24 139} {5354541930212929429 24 140} {5305554470199323563 24 141}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=141
leader log:
[{snapshot 24 139} {5354541930212929429 24 140} {5305554470199323563 24 141}]
------------------------------------------------------
client write log 4084080300546125653 (index 142) to leader 2
flag 25444 term 26 leader 2 nextIndex[0]: 142  matchIndex[0]: 141
term 26 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
flag 50963 term 26 leader 2 nextIndex[1]: 142  matchIndex[1]: 141
term 26 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=142
leader log:
[{snapshot 24 139} {5354541930212929429 24 140} {5305554470199323563 24 141} {4084080300546125653 26 142}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=142
leader log:
[{snapshot 24 139} {5354541930212929429 24 140} {5305554470199323563 24 141} {4084080300546125653 26 142}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26431 term 26 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 26 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 26 leaderCommit: 142 
------------------------------------------------------
flag 74538 term 26 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 26 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 26 leaderCommit: 142 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=142
leader log:
[{snapshot 24 139} {5354541930212929429 24 140} {5305554470199323563 24 141} {4084080300546125653 26 142}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=142
leader log:
[{snapshot 24 139} {5354541930212929429 24 140} {5305554470199323563 24 141} {4084080300546125653 26 142}]
------------------------------------------------------
flag 7838 term 26 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 26 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 26 leaderCommit: 142 
------------------------------------------------------
flag 20465 term 26 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 26 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 26 leaderCommit: 142 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=142
leader log:
[{snapshot 24 139} {5354541930212929429 24 140} {5305554470199323563 24 141} {4084080300546125653 26 142}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=142
leader log:
[{snapshot 24 139} {5354541930212929429 24 140} {5305554470199323563 24 141} {4084080300546125653 26 142}]
------------------------------------------------------
term 26 server 1 not vote for server 2, 任期不够新
term 26 server 2 get outdate rpc reply from server 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25691 term 26 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 26 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 26 leaderCommit: 142 
------------------------------------------------------
flag 25568 term 26 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 26 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 26 leaderCommit: 142 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=142
leader log:
[{snapshot 24 139} {5354541930212929429 24 140} {5305554470199323563 24 141} {4084080300546125653 26 142}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=142
leader log:
[{snapshot 24 139} {5354541930212929429 24 140} {5305554470199323563 24 141} {4084080300546125653 26 142}]
------------------------------------------------------
flag 92588 term 26 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 26 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 26 leaderCommit: 142 
------------------------------------------------------
flag 54054 term 26 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 26 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 26 leaderCommit: 142 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=142
leader log:
[{snapshot 24 139} {5354541930212929429 24 140} {5305554470199323563 24 141} {4084080300546125653 26 142}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=142
leader log:
[{snapshot 24 139} {5354541930212929429 24 140} {5305554470199323563 24 141} {4084080300546125653 26 142}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21605 term 26 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 26 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 26 leaderCommit: 142 
------------------------------------------------------
flag 15257 term 26 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 26 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 26 leaderCommit: 142 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=142
leader log:
[{snapshot 24 139} {5354541930212929429 24 140} {5305554470199323563 24 141} {4084080300546125653 26 142}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=142
leader log:
[{snapshot 24 139} {5354541930212929429 24 140} {5305554470199323563 24 141} {4084080300546125653 26 142}]
------------------------------------------------------
term 26 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 69682 term 26 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 26 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 26 leaderCommit: 142 
------------------------------------------------------
flag 48428 term 26 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 26 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 26 leaderCommit: 142 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=142
leader log:
[{snapshot 24 139} {5354541930212929429 24 140} {5305554470199323563 24 141} {4084080300546125653 26 142}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=142
leader log:
[{snapshot 24 139} {5354541930212929429 24 140} {5305554470199323563 24 141} {4084080300546125653 26 142}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 8592681796700090353 (index 143) to leader 2
flag 48324 term 26 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 26 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 26 leaderCommit: 142 
------------------------------------------------------
flag 15656 term 26 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 26 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 26 leaderCommit: 142 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 24 139} {5354541930212929429 24 140} {5305554470199323563 24 141} {4084080300546125653 26 142} {8592681796700090353 26 143}]
------------------------------------------------------
flag 45058 term 26 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 26 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 26 leaderCommit: 143 
------------------------------------------------------
flag 93987 term 26 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 26 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 26 leaderCommit: 143 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 24 139} {5354541930212929429 24 140} {5305554470199323563 24 141} {4084080300546125653 26 142} {8592681796700090353 26 143}]
------------------------------------------------------
client write log 2260815397069190355 (index 144) to leader 2
client write log 3364164832939407705 (index 145) to leader 2
client write log 2855605891311041720 (index 146) to leader 2
client write log 4718442442295162514 (index 147) to leader 2
client write log 4392717031137128501 (index 148) to leader 2
client write log 8723741925173796075 (index 149) to leader 2
flag 65612 term 26 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 26 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 26 leaderCommit: 143 
------------------------------------------------------
flag 10602 term 26 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 26 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 26 leaderCommit: 143 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=150
update matchIndex[1]=149
update leader CommitIndex=149
leader log:
[{snapshot 24 139} {5354541930212929429 24 140} {5305554470199323563 24 141} {4084080300546125653 26 142} {8592681796700090353 26 143} {2260815397069190355 26 144} {3364164832939407705 26 145} {2855605891311041720 26 146} {4718442442295162514 26 147} {4392717031137128501 26 148} {8723741925173796075 26 149}]
------------------------------------------------------
term 26 Server2 start snapshot! index=149
term 26 server2 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=149
-------------------------------------------------------------
term 26 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 26 leader 2 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 26
------------------------------------------------------
flag 88298 term 26 leader 2 nextIndex[1]: 150  matchIndex[1]: 149
term 26 leader 2 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 26 leaderCommit: 149 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=150
update matchIndex[1]=149
update leader CommitIndex=149
leader log:
[{snapshot 26 149}]
------------------------------------------------------
term 26 Server1 start snapshot! index=149
term 26 server1 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=149
-------------------------------------------------------------
!!!!!!connect server 0
client write log 6994004653728414234 (index 150) to leader 2
term 26 server 1 not vote for server 0, 日志不够新
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 26 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 26 leader 2 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 26
------------------------------------------------------
flag 67482 term 26 leader 2 nextIndex[1]: 150  matchIndex[1]: 149
term 26 leader 2 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 26 leaderCommit: 149 
------------------------------------------------------
term 27 server 1 AppendEntries false 领导者任期过期 args.Term 26
------------------------------------------------------
term 27 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 27 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 27 server 2 not vote for server 1, 日志不够新
term 28 server 0 vote for server 1
term 28 server 1 get vote from server 0
term 28 server 1 become leader
------------------------------------------------------
flag 96754 term 28 leader 1 nextIndex[0]: 150  matchIndex[0]: 0
term 28 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 26 leaderCommit: 149 
------------------------------------------------------
flag 75121 term 28 leader 1 nextIndex[2]: 150  matchIndex[2]: 0
term 28 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 26 leaderCommit: 149 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=149
leader log:
[{snapshot 26 149}]
------------------------------------------------------
term 28 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 150->149
------------------------------------------------------
term 28 leader 1 nextIndex[0]: 143  matchIndex[0]: 0
term 28 leader 1 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 26
------------------------------------------------------
flag 31738 term 28 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 28 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 26 leaderCommit: 149 
------------------------------------------------------
term 28 server 0 InstallSnapshot success
------------------------------------------------------
term 28 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 150 matchIndex[0] 149 
------------------------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 149 rf.lastIncludedTerm 26 rf.commitIndex 149 rf.lastApplied 149
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=149
leader log:
[{snapshot 26 149}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58923 term 28 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 28 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 26 leaderCommit: 149 
------------------------------------------------------
flag 54912 term 28 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 28 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 26 leaderCommit: 149 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:149 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=149
leader log:
[{snapshot 26 149}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=149
leader log:
[{snapshot 26 149}]
------------------------------------------------------
flag 1302 term 28 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 28 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 26 leaderCommit: 149 
------------------------------------------------------
flag 65474 term 28 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 28 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 26 leaderCommit: 149 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=149
leader log:
[{snapshot 26 149}]
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=149
leader log:
[{snapshot 26 149}]
------------------------------------------------------
flag 81502 term 28 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 28 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 26 leaderCommit: 149 
------------------------------------------------------
flag 99673 term 28 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 28 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 26 leaderCommit: 149 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueterm 28 server 0 AppendEntries true commitIndex:149 
------------------------------------------------------
update nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=149
leader log:
[{snapshot 26 149}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=149
leader log:
[{snapshot 26 149}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13156 term 28 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 28 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 26 leaderCommit: 149 
------------------------------------------------------
flag 98008 term 28 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 28 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 26 leaderCommit: 149 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:149 
term 28 server 0 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=149
leader log:
[{snapshot 26 149}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=149
leader log:
[{snapshot 26 149}]
------------------------------------------------------
flag 36913 term 28 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 28 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 26 leaderCommit: 149 
------------------------------------------------------
flag 20831 term 28 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 28 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 26 leaderCommit: 149 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=149
leader log:
[{snapshot 26 149}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=149
leader log:
[{snapshot 26 149}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59417 term 28 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 28 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 26 leaderCommit: 149 
------------------------------------------------------
flag 131 term 28 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 28 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 26 leaderCommit: 149 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:149 
term 28 server 0 AppendEntries true commitIndex:149 
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=149
leader log:
[{snapshot 26 149}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=149
leader log:
[{snapshot 26 149}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29564 term 28 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 28 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 26 leaderCommit: 149 
------------------------------------------------------
flag 59807 term 28 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 28 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 26 leaderCommit: 149 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=149
leader log:
[{snapshot 26 149}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=149
leader log:
[{snapshot 26 149}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52336 term 28 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 28 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 26 leaderCommit: 149 
------------------------------------------------------
flag 98592 term 28 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 28 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 26 leaderCommit: 149 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=149
leader log:
[{snapshot 26 149}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=149
leader log:
[{snapshot 26 149}]
------------------------------------------------------
flag 92669 term 28 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 28 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 26 leaderCommit: 149 
------------------------------------------------------
flag 90727 term 28 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 28 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 26 leaderCommit: 149 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=149
leader log:
[{snapshot 26 149}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=149
leader log:
[{snapshot 26 149}]
------------------------------------------------------
flag 6437 term 28 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 28 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 26 leaderCommit: 149 
------------------------------------------------------
flag 43635 term 28 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 28 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 26 leaderCommit: 149 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=149
leader log:
[{snapshot 26 149}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=149
leader log:
[{snapshot 26 149}]
------------------------------------------------------
flag 95958 term 28 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 28 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 26 leaderCommit: 149 
------------------------------------------------------
flag 11461 term 28 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 28 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 26 leaderCommit: 149 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=149
leader log:
[{snapshot 26 149}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=149
leader log:
[{snapshot 26 149}]
------------------------------------------------------
flag 51988 term 28 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 28 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 26 leaderCommit: 149 
------------------------------------------------------
flag 15409 term 28 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 28 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 26 leaderCommit: 149 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=149
leader log:
[{snapshot 26 149}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=149
leader log:
[{snapshot 26 149}]
------------------------------------------------------
flag 46307 term 28 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 28 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 26 leaderCommit: 149 
------------------------------------------------------
flag 61904 term 28 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 28 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 26 leaderCommit: 149 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=149
leader log:
[{snapshot 26 149}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=149
leader log:
[{snapshot 26 149}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29951 term 28 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 28 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 26 leaderCommit: 149 
------------------------------------------------------
flag 65774 term 28 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 28 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 26 leaderCommit: 149 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=149
leader log:
[{snapshot 26 149}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=149
leader log:
[{snapshot 26 149}]
------------------------------------------------------
flag 82481 term 28 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 28 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 26 leaderCommit: 149 
------------------------------------------------------
flag 89296 term 28 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 28 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 26 leaderCommit: 149 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=150
update matchIndex[2]=149
update leader CommitIndex=149
leader log:
[{snapshot 26 149}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=149
leader log:
[{snapshot 26 149}]
------------------------------------------------------
client write log 6994004653728414234 (index 150) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1598 term 28 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 28 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 26 leaderCommit: 149 
------------------------------------------------------
flag 38002 term 28 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 28 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 26 leaderCommit: 149 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=151
update matchIndex[0]=150
update leader CommitIndex=150
leader log:
[{snapshot 26 149} {6994004653728414234 28 150}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=150
leader log:
[{snapshot 26 149} {6994004653728414234 28 150}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43232 term 28 leader 1 nextIndex[0]: 151  matchIndex[0]: 150
term 28 leader 1 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 28 leaderCommit: 150 
------------------------------------------------------
flag 57263 term 28 leader 1 nextIndex[2]: 151  matchIndex[2]: 150
term 28 leader 1 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 28 leaderCommit: 150 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=150
leader log:
[{snapshot 26 149} {6994004653728414234 28 150}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=151
update matchIndex[0]=150
update leader CommitIndex=150
leader log:
[{snapshot 26 149} {6994004653728414234 28 150}]
------------------------------------------------------
flag 60227 term 28 leader 1 nextIndex[0]: 151  matchIndex[0]: 150
term 28 leader 1 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 28 leaderCommit: 150 
------------------------------------------------------
flag 2385 term 28 leader 1 nextIndex[2]: 151  matchIndex[2]: 150
term 28 leader 1 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 28 leaderCommit: 150 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=150
leader log:
[{snapshot 26 149} {6994004653728414234 28 150}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=151
update matchIndex[0]=150
update leader CommitIndex=150
leader log:
[{snapshot 26 149} {6994004653728414234 28 150}]
------------------------------------------------------
flag 70088 term 28 leader 1 nextIndex[0]: 151  matchIndex[0]: 150
term 28 leader 1 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 28 leaderCommit: 150 
------------------------------------------------------
flag 65804 term 28 leader 1 nextIndex[2]: 151  matchIndex[2]: 150
term 28 leader 1 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 28 leaderCommit: 150 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=150
leader log:
[{snapshot 26 149} {6994004653728414234 28 150}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=151
update matchIndex[0]=150
update leader CommitIndex=150
leader log:
[{snapshot 26 149} {6994004653728414234 28 150}]
------------------------------------------------------
term 28 server 2 not vote for server 0, 任期不够新
term 28 server 0 get outdate rpc reply from server 2
flag 46532 term 28 leader 1 nextIndex[0]: 151  matchIndex[0]: 150
term 28 leader 1 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 28 leaderCommit: 150 
------------------------------------------------------
flag 38876 term 28 leader 1 nextIndex[2]: 151  matchIndex[2]: 150
term 28 leader 1 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 28 leaderCommit: 150 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=151
update matchIndex[0]=150
update leader CommitIndex=150
leader log:
[{snapshot 26 149} {6994004653728414234 28 150}]
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=150
leader log:
[{snapshot 26 149} {6994004653728414234 28 150}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11508 term 28 leader 1 nextIndex[0]: 151  matchIndex[0]: 150
term 28 leader 1 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 28 leaderCommit: 150 
------------------------------------------------------
flag 81738 term 28 leader 1 nextIndex[2]: 151  matchIndex[2]: 150
term 28 leader 1 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 28 leaderCommit: 150 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=151
update matchIndex[2]=150
update leader CommitIndex=150
leader log:
[{snapshot 26 149} {6994004653728414234 28 150}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=151
update matchIndex[0]=150
update leader CommitIndex=150
leader log:
[{snapshot 26 149} {6994004653728414234 28 150}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 8532239216728493872 (index 151) to leader 1
flag 26203 term 28 leader 1 nextIndex[0]: 151  matchIndex[0]: 150
term 28 leader 1 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 28 leaderCommit: 150 
------------------------------------------------------
flag 76533 term 28 leader 1 nextIndex[2]: 151  matchIndex[2]: 150
term 28 leader 1 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 28 leaderCommit: 150 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=152
update matchIndex[0]=151
update leader CommitIndex=151
leader log:
[{snapshot 26 149} {6994004653728414234 28 150} {8532239216728493872 28 151}]
------------------------------------------------------
flag 47600 term 28 leader 1 nextIndex[0]: 152  matchIndex[0]: 151
term 28 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 28 leaderCommit: 151 
------------------------------------------------------
flag 42885 term 28 leader 1 nextIndex[2]: 151  matchIndex[2]: 150
term 28 leader 1 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 28 leaderCommit: 151 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=152
update matchIndex[0]=151
update leader CommitIndex=151
leader log:
[{snapshot 26 149} {6994004653728414234 28 150} {8532239216728493872 28 151}]
------------------------------------------------------
client write log 1672901856999248734 (index 152) to leader 1
client write log 3993145043625927272 (index 153) to leader 1
client write log 3032015187509021672 (index 154) to leader 1
client write log 2637704906773488890 (index 155) to leader 1
client write log 7625267426892343300 (index 156) to leader 1
client write log 4367601307512268465 (index 157) to leader 1
client write log 5478854016234144678 (index 158) to leader 1
client write log 4507333571730664745 (index 159) to leader 1
client write log 3782677639436857534 (index 160) to leader 1
flag 86815 term 28 leader 1 nextIndex[0]: 152  matchIndex[0]: 151
term 28 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 28 leaderCommit: 151 
------------------------------------------------------
flag 95548 term 28 leader 1 nextIndex[2]: 151  matchIndex[2]: 150
term 28 leader 1 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 28 leaderCommit: 151 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=160
leader log:
[{snapshot 26 149} {6994004653728414234 28 150} {8532239216728493872 28 151} {1672901856999248734 28 152} {3993145043625927272 28 153} {3032015187509021672 28 154} {2637704906773488890 28 155} {7625267426892343300 28 156} {4367601307512268465 28 157} {5478854016234144678 28 158} {4507333571730664745 28 159} {3782677639436857534 28 160}]
------------------------------------------------------
term 28 Server1 start snapshot! index=159
term 28 server1 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=160
-------------------------------------------------------------
flag 97226 term 28 leader 1 nextIndex[0]: 161  matchIndex[0]: 160
term 28 leader 1 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 28 leaderCommit: 160 
------------------------------------------------------
term 28 leader 1 nextIndex[2]: 151  matchIndex[2]: 150
term 28 leader 1 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 28
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=160
leader log:
[{snapshot 28 159} {3782677639436857534 28 160}]
------------------------------------------------------
term 28 Server0 start snapshot! index=159
term 28 server0 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=160
-------------------------------------------------------------
!!!!!!connect server 2
client write log 5803311180381274818 (index 161) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 28 server 1 not vote for server 2, 日志不够新
term 28 server 0 not vote for server 2, 日志不够新
term 30 server 2 vote for server 1
term 30 server 1 get vote from server 2
term 30 server 1 become leader
------------------------------------------------------
term 30 server 0 vote for server 1
term 30 server 1 get outdate rpc reply from server 0
flag 49150 term 30 leader 1 nextIndex[0]: 162  matchIndex[0]: 0
term 30 leader 1 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 28 leaderCommit: 160 
------------------------------------------------------
flag 77827 term 30 leader 1 nextIndex[2]: 162  matchIndex[2]: 0
term 30 leader 1 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 28 leaderCommit: 160 
------------------------------------------------------
term 30 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 162->161
------------------------------------------------------
term 30 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 162->161
------------------------------------------------------
flag 30073 term 30 leader 1 nextIndex[0]: 161  matchIndex[0]: 0
term 30 leader 1 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 28 leaderCommit: 160 
------------------------------------------------------
term 30 leader 1 nextIndex[2]: 151  matchIndex[2]: 0
term 30 leader 1 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 28
------------------------------------------------------
term 30 server 2 InstallSnapshot success
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=160
leader log:
Server2 get CondInstallSnapshot!
[{snapshot 28 159} {3782677639436857534 28 160} {5803311180381274818 28 161}]
------------------------------------------------------
term 30 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 160 matchIndex[2] 159 
------------------------------------------------------------------------
rf.lastIncludedIndex 159 rf.lastIncludedTerm 28 rf.commitIndex 159 rf.lastApplied 159
flag 75217 term 30 leader 1 nextIndex[0]: 162  matchIndex[0]: 161
term 30 leader 1 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 28 leaderCommit: 160 
------------------------------------------------------
flag 24934 term 30 leader 1 nextIndex[2]: 160  matchIndex[2]: 159
term 30 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 160 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=162
update matchIndex[2]=161
update leader CommitIndex=160
leader log:
[{snapshot 28 159} {3782677639436857534 28 160} {5803311180381274818 28 161}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=160
leader log:
[{snapshot 28 159} {3782677639436857534 28 160} {5803311180381274818 28 161}]
------------------------------------------------------
flag 5054 term 30 leader 1 nextIndex[0]: 162  matchIndex[0]: 161
term 30 leader 1 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 28 leaderCommit: 160 
------------------------------------------------------
flag 52301 term 30 leader 1 nextIndex[2]: 162  matchIndex[2]: 161
term 30 leader 1 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 28 leaderCommit: 160 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:160 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=160
leader log:
[{snapshot 28 159} {3782677639436857534 28 160} {5803311180381274818 28 161}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=162
update matchIndex[2]=161
update leader CommitIndex=160
leader log:
[{snapshot 28 159} {3782677639436857534 28 160} {5803311180381274818 28 161}]
------------------------------------------------------
flag 84520 term 30 leader 1 nextIndex[0]: 162  matchIndex[0]: 161
term 30 leader 1 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 28 leaderCommit: 160 
------------------------------------------------------
flag 35713 term 30 leader 1 nextIndex[2]: 162  matchIndex[2]: 161
term 30 leader 1 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 28 leaderCommit: 160 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=162
term 30 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
update matchIndex[2]=161
update leader CommitIndex=160
leader log:
[{snapshot 28 159} {3782677639436857534 28 160} {5803311180381274818 28 161}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=160
leader log:
[{snapshot 28 159} {3782677639436857534 28 160} {5803311180381274818 28 161}]
------------------------------------------------------
flag 96883 term 30 leader 1 nextIndex[0]: 162  matchIndex[0]: 161
term 30 leader 1 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 28 leaderCommit: 160 
------------------------------------------------------
flag 79654 term 30 leader 1 nextIndex[2]: 162  matchIndex[2]: 161
term 30 leader 1 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 28 leaderCommit: 160 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=162
update matchIndex[2]=161
update leader CommitIndex=160
leader log:
[{snapshot 28 159} {3782677639436857534 28 160} {5803311180381274818 28 161}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=160
leader log:
[{snapshot 28 159} {3782677639436857534 28 160} {5803311180381274818 28 161}]
------------------------------------------------------
flag 40168 term 30 leader 1 nextIndex[0]: 162  matchIndex[0]: 161
term 30 leader 1 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 28 leaderCommit: 160 
------------------------------------------------------
flag 36348 term 30 leader 1 nextIndex[2]: 162  matchIndex[2]: 161
term 30 leader 1 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 28 leaderCommit: 160 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=162
update matchIndex[2]=161
update leader CommitIndex=160
leader log:
[{snapshot 28 159} {3782677639436857534 28 160} {5803311180381274818 28 161}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=160
leader log:
[{snapshot 28 159} {3782677639436857534 28 160} {5803311180381274818 28 161}]
------------------------------------------------------
flag 51144 term 30 leader 1 nextIndex[0]: 162  matchIndex[0]: 161
term 30 leader 1 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 28 leaderCommit: 160 
------------------------------------------------------
flag 51422 term 30 leader 1 nextIndex[2]: 162  matchIndex[2]: 161
term 30 leader 1 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 28 leaderCommit: 160 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=162
update matchIndex[2]=161
update leader CommitIndex=160
leader log:
[{snapshot 28 159} {3782677639436857534 28 160} {5803311180381274818 28 161}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=160
leader log:
[{snapshot 28 159} {3782677639436857534 28 160} {5803311180381274818 28 161}]
------------------------------------------------------
flag 60899 term 30 leader 1 nextIndex[0]: 162  matchIndex[0]: 161
term 30 leader 1 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 28 leaderCommit: 160 
------------------------------------------------------
flag 72611 term 30 leader 1 nextIndex[2]: 162  matchIndex[2]: 161
term 30 leader 1 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 28 leaderCommit: 160 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=162
update matchIndex[2]=161
update leader CommitIndex=160
leader log:
[{snapshot 28 159} {3782677639436857534 28 160} {5803311180381274818 28 161}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=160
leader log:
[{snapshot 28 159} {3782677639436857534 28 160} {5803311180381274818 28 161}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56876 term 30 leader 1 nextIndex[0]: 162  matchIndex[0]: 161
term 30 leader 1 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 28 leaderCommit: 160 
------------------------------------------------------
flag 62274 term 30 leader 1 nextIndex[2]: 162  matchIndex[2]: 161
term 30 leader 1 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 28 leaderCommit: 160 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=162
update matchIndex[2]=161
update leader CommitIndex=160
leader log:
[{snapshot 28 159} {3782677639436857534 28 160} {5803311180381274818 28 161}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=160
leader log:
[{snapshot 28 159} {3782677639436857534 28 160} {5803311180381274818 28 161}]
------------------------------------------------------
flag 26493 term 30 leader 1 nextIndex[0]: 162  matchIndex[0]: 161
term 30 leader 1 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 28 leaderCommit: 160 
------------------------------------------------------
flag 73426 term 30 leader 1 nextIndex[2]: 162  matchIndex[2]: 161
term 30 leader 1 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 28 leaderCommit: 160 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:160 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=162
update matchIndex[2]=161
update leader CommitIndex=160
leader log:
[{snapshot 28 159} {3782677639436857534 28 160} {5803311180381274818 28 161}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=160
leader log:
[{snapshot 28 159} {3782677639436857534 28 160} {5803311180381274818 28 161}]
------------------------------------------------------
flag 77046 term 30 leader 1 nextIndex[0]: 162  matchIndex[0]: 161
term 30 leader 1 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 28 leaderCommit: 160 
------------------------------------------------------
flag 22622 term 30 leader 1 nextIndex[2]: 162  matchIndex[2]: 161
term 30 leader 1 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 28 leaderCommit: 160 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:160 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=162
update matchIndex[2]=161
update leader CommitIndex=160
leader log:
[{snapshot 28 159} {3782677639436857534 28 160} {5803311180381274818 28 161}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=160
leader log:
[{snapshot 28 159} {3782677639436857534 28 160} {5803311180381274818 28 161}]
------------------------------------------------------
flag 20221 term 30 leader 1 nextIndex[0]: 162  matchIndex[0]: 161
term 30 leader 1 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 28 leaderCommit: 160 
------------------------------------------------------
flag 54388 term 30 leader 1 nextIndex[2]: 162  matchIndex[2]: 161
term 30 leader 1 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 28 leaderCommit: 160 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=162
update matchIndex[2]=161
update leader CommitIndex=160
leader log:
[{snapshot 28 159} {3782677639436857534 28 160} {5803311180381274818 28 161}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=160
leader log:
[{snapshot 28 159} {3782677639436857534 28 160} {5803311180381274818 28 161}]
------------------------------------------------------
flag 56464 term 30 leader 1 nextIndex[0]: 162  matchIndex[0]: 161
term 30 leader 1 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 28 leaderCommit: 160 
------------------------------------------------------
flag 74663 term 30 leader 1 nextIndex[2]: 162  matchIndex[2]: 161
term 30 leader 1 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 28 leaderCommit: 160 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=162
update matchIndex[2]=161
update leader CommitIndex=160
leader log:
[{snapshot 28 159} {3782677639436857534 28 160} {5803311180381274818 28 161}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=160
leader log:
[{snapshot 28 159} {3782677639436857534 28 160} {5803311180381274818 28 161}]
------------------------------------------------------
flag 33414 term 30 leader 1 nextIndex[0]: 162  matchIndex[0]: 161
term 30 leader 1 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 28 leaderCommit: 160 
------------------------------------------------------
flag 4213 term 30 leader 1 nextIndex[2]: 162  matchIndex[2]: 161
term 30 leader 1 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 28 leaderCommit: 160 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=162
update matchIndex[2]=161
update leader CommitIndex=160
leader log:
[{snapshot 28 159} {3782677639436857534 28 160} {5803311180381274818 28 161}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=160
leader log:
[{snapshot 28 159} {3782677639436857534 28 160} {5803311180381274818 28 161}]
------------------------------------------------------
flag 94219 term 30 leader 1 nextIndex[0]: 162  matchIndex[0]: 161
term 30 leader 1 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 28 leaderCommit: 160 
------------------------------------------------------
flag 82917 term 30 leader 1 nextIndex[2]: 162  matchIndex[2]: 161
term 30 leader 1 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 28 leaderCommit: 160 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=162
update matchIndex[2]=161
update leader CommitIndex=160
leader log:
[{snapshot 28 159} {3782677639436857534 28 160} {5803311180381274818 28 161}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=160
leader log:
[{snapshot 28 159} {3782677639436857534 28 160} {5803311180381274818 28 161}]
------------------------------------------------------
flag 40148 term 30 leader 1 nextIndex[0]: 162  matchIndex[0]: 161
term 30 leader 1 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 28 leaderCommit: 160 
------------------------------------------------------
flag 18285 term 30 leader 1 nextIndex[2]: 162  matchIndex[2]: 161
term 30 leader 1 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 28 leaderCommit: 160 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=160
leader log:
[{snapshot 28 159} {3782677639436857534 28 160} {5803311180381274818 28 161}]
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=162
update matchIndex[2]=161
update leader CommitIndex=160
leader log:
[{snapshot 28 159} {3782677639436857534 28 160} {5803311180381274818 28 161}]
------------------------------------------------------
flag 73171 term 30 leader 1 nextIndex[0]: 162  matchIndex[0]: 161
term 30 leader 1 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 28 leaderCommit: 160 
------------------------------------------------------
flag 88105 term 30 leader 1 nextIndex[2]: 162  matchIndex[2]: 161
term 30 leader 1 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 28 leaderCommit: 160 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:160 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=162
update matchIndex[2]=161
update leader CommitIndex=160
leader log:
[{snapshot 28 159} {3782677639436857534 28 160} {5803311180381274818 28 161}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=160
leader log:
[{snapshot 28 159} {3782677639436857534 28 160} {5803311180381274818 28 161}]
------------------------------------------------------
flag 72496 term 30 leader 1 nextIndex[0]: 162  matchIndex[0]: 161
term 30 leader 1 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 28 leaderCommit: 160 
------------------------------------------------------
flag 69103 term 30 leader 1 nextIndex[2]: 162  matchIndex[2]: 161
term 30 leader 1 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 28 leaderCommit: 160 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=162
update matchIndex[2]=161
update leader CommitIndex=160
leader log:
[{snapshot 28 159} {3782677639436857534 28 160} {5803311180381274818 28 161}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=160
leader log:
[{snapshot 28 159} {3782677639436857534 28 160} {5803311180381274818 28 161}]
------------------------------------------------------
flag 40975 term 30 leader 1 nextIndex[0]: 162  matchIndex[0]: 161
term 30 leader 1 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 28 leaderCommit: 160 
------------------------------------------------------
flag 58343 term 30 leader 1 nextIndex[2]: 162  matchIndex[2]: 161
term 30 leader 1 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 28 leaderCommit: 160 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=162
update matchIndex[2]=161
update leader CommitIndex=160
leader log:
[{snapshot 28 159} {3782677639436857534 28 160} {5803311180381274818 28 161}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=160
leader log:
[{snapshot 28 159} {3782677639436857534 28 160} {5803311180381274818 28 161}]
------------------------------------------------------
client write log 5803311180381274818 (index 162) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62201 term 30 leader 1 nextIndex[0]: 162  matchIndex[0]: 161
term 30 leader 1 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 28 leaderCommit: 160 
------------------------------------------------------
flag 51320 term 30 leader 1 nextIndex[2]: 162  matchIndex[2]: 161
term 30 leader 1 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 28 leaderCommit: 160 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:160 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=163
update matchIndex[2]=162
update leader CommitIndex=162
leader log:
[{snapshot 28 159} {3782677639436857534 28 160} {5803311180381274818 28 161} {5803311180381274818 30 162}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=163
update matchIndex[0]=162
update leader CommitIndex=162
leader log:
[{snapshot 28 159} {3782677639436857534 28 160} {5803311180381274818 28 161} {5803311180381274818 30 162}]
------------------------------------------------------
flag 65012 term 30 leader 1 nextIndex[0]: 163  matchIndex[0]: 162
term 30 leader 1 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 30 leaderCommit: 162 
------------------------------------------------------
flag 57796 term 30 leader 1 nextIndex[2]: 163  matchIndex[2]: 162
term 30 leader 1 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 30 leaderCommit: 162 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:162 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=163
update matchIndex[2]=162
update leader CommitIndex=162
leader log:
[{snapshot 28 159} {3782677639436857534 28 160} {5803311180381274818 28 161} {5803311180381274818 30 162}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=163
update matchIndex[0]=162
update leader CommitIndex=162
leader log:
[{snapshot 28 159} {3782677639436857534 28 160} {5803311180381274818 28 161} {5803311180381274818 30 162}]
------------------------------------------------------
flag 51124 term 30 leader 1 nextIndex[0]: 163  matchIndex[0]: 162
term 30 leader 1 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 30 leaderCommit: 162 
------------------------------------------------------
flag 10216 term 30 leader 1 nextIndex[2]: 163  matchIndex[2]: 162
term 30 leader 1 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 30 leaderCommit: 162 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=163
update matchIndex[2]=162
update leader CommitIndex=162
leader log:
[{snapshot 28 159} {3782677639436857534 28 160} {5803311180381274818 28 161} {5803311180381274818 30 162}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=163
update matchIndex[0]=162
update leader CommitIndex=162
leader log:
[{snapshot 28 159} {3782677639436857534 28 160} {5803311180381274818 28 161} {5803311180381274818 30 162}]
------------------------------------------------------
flag 48988 term 30 leader 1 nextIndex[0]: 163  matchIndex[0]: 162
term 30 leader 1 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 30 leaderCommit: 162 
------------------------------------------------------
flag 53833 term 30 leader 1 nextIndex[2]: 163  matchIndex[2]: 162
term 30 leader 1 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 30 leaderCommit: 162 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=163
update matchIndex[0]=162
update leader CommitIndex=162
leader log:
[{snapshot 28 159} {3782677639436857534 28 160} {5803311180381274818 28 161} {5803311180381274818 30 162}]
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=163
update matchIndex[2]=162
update leader CommitIndex=162
leader log:
[{snapshot 28 159} {3782677639436857534 28 160} {5803311180381274818 28 161} {5803311180381274818 30 162}]
------------------------------------------------------
flag 54864 term 30 leader 1 nextIndex[0]: 163  matchIndex[0]: 162
term 30 leader 1 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 30 leaderCommit: 162 
------------------------------------------------------
flag 78792 term 30 leader 1 nextIndex[2]: 163  matchIndex[2]: 162
term 30 leader 1 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 30 leaderCommit: 162 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=163
update matchIndex[2]=162
update leader CommitIndex=162
leader log:
[{snapshot 28 159} {3782677639436857534 28 160} {5803311180381274818 28 161} {5803311180381274818 30 162}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=163
update matchIndex[0]=162
update leader CommitIndex=162
leader log:
[{snapshot 28 159} {3782677639436857534 28 160} {5803311180381274818 28 161} {5803311180381274818 30 162}]
------------------------------------------------------
flag 51847 term 30 leader 1 nextIndex[0]: 163  matchIndex[0]: 162
term 30 leader 1 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 30 leaderCommit: 162 
------------------------------------------------------
flag 34337 term 30 leader 1 nextIndex[2]: 163  matchIndex[2]: 162
term 30 leader 1 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 30 leaderCommit: 162 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:162 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=163
update matchIndex[2]=162
update leader CommitIndex=162
leader log:
[{snapshot 28 159} {3782677639436857534 28 160} {5803311180381274818 28 161} {5803311180381274818 30 162}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=163
update matchIndex[0]=162
update leader CommitIndex=162
leader log:
[{snapshot 28 159} {3782677639436857534 28 160} {5803311180381274818 28 161} {5803311180381274818 30 162}]
------------------------------------------------------
flag 25056 term 30 leader 1 nextIndex[0]: 163  matchIndex[0]: 162
term 30 leader 1 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 30 leaderCommit: 162 
------------------------------------------------------
flag 88542 term 30 leader 1 nextIndex[2]: 163  matchIndex[2]: 162
term 30 leader 1 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 30 leaderCommit: 162 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=163
update matchIndex[2]=162
update leader CommitIndex=162
leader log:
[{snapshot 28 159} {3782677639436857534 28 160} {5803311180381274818 28 161} {5803311180381274818 30 162}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=163
update matchIndex[0]=162
update leader CommitIndex=162
leader log:
[{snapshot 28 159} {3782677639436857534 28 160} {5803311180381274818 28 161} {5803311180381274818 30 162}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 1381 term 30 leader 1 nextIndex[0]: 163  matchIndex[0]: 162
term 30 leader 1 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 30 leaderCommit: 162 
------------------------------------------------------
flag 61270 term 30 leader 1 nextIndex[2]: 163  matchIndex[2]: 162
term 30 leader 1 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 30 leaderCommit: 162 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17071 term 30 leader 1 nextIndex[0]: 163  matchIndex[0]: 162
term 30 leader 1 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 30 leaderCommit: 162 
------------------------------------------------------
flag 66534 term 30 leader 1 nextIndex[2]: 163  matchIndex[2]: 162
term 30 leader 1 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 30 leaderCommit: 162 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44911 term 30 leader 1 nextIndex[0]: 163  matchIndex[0]: 162
term 30 leader 1 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 30 leaderCommit: 162 
------------------------------------------------------
flag 40487 term 30 leader 1 nextIndex[2]: 163  matchIndex[2]: 162
term 30 leader 1 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 30 leaderCommit: 162 
------------------------------------------------------
term 30 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 86468 term 30 leader 1 nextIndex[0]: 163  matchIndex[0]: 162
term 30 leader 1 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 30 leaderCommit: 162 
------------------------------------------------------
flag 69626 term 30 leader 1 nextIndex[2]: 163  matchIndex[2]: 162
term 30 leader 1 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 30 leaderCommit: 162 
------------------------------------------------------
term 31 server 0 vote for server 2
term 31 server 2 get vote from server 0
term 31 server 2 become leader
------------------------------------------------------
flag 45089 term 31 leader 2 nextIndex[0]: 163  matchIndex[0]: 0
term 31 leader 2 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 30 leaderCommit: 162 
------------------------------------------------------
flag 42576 term 31 leader 2 nextIndex[1]: 163  matchIndex[1]: 0
term 31 leader 2 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 30 leaderCommit: 162 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=163
update matchIndex[0]=162
update leader CommitIndex=162
leader log:
[{snapshot 28 159} {3782677639436857534 28 160} {5803311180381274818 28 161} {5803311180381274818 30 162}]
------------------------------------------------------
client write log 4477712962405132986 (index 163) to leader 2
flag 64660 term 30 leader 1 nextIndex[0]: 163  matchIndex[0]: 162
term 30 leader 1 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 30 leaderCommit: 162 
------------------------------------------------------
flag 74734 term 30 leader 1 nextIndex[2]: 163  matchIndex[2]: 162
term 30 leader 1 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 30 leaderCommit: 162 
------------------------------------------------------
flag 33163 term 31 leader 2 nextIndex[0]: 163  matchIndex[0]: 162
term 31 leader 2 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 30 leaderCommit: 162 
------------------------------------------------------
flag 43946 term 31 leader 2 nextIndex[1]: 163  matchIndex[1]: 0
term 31 leader 2 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 30 leaderCommit: 162 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=164
update matchIndex[0]=163
update leader CommitIndex=163
leader log:
[{snapshot 28 159} {3782677639436857534 28 160} {5803311180381274818 28 161} {5803311180381274818 30 162} {4477712962405132986 31 163}]
------------------------------------------------------
flag 45123 term 30 leader 1 nextIndex[0]: 163  matchIndex[0]: 162
term 30 leader 1 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 30 leaderCommit: 162 
------------------------------------------------------
flag 18897 term 30 leader 1 nextIndex[2]: 163  matchIndex[2]: 162
term 30 leader 1 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 30 leaderCommit: 162 
------------------------------------------------------
flag 26771 term 31 leader 2 nextIndex[0]: 164  matchIndex[0]: 163
term 31 leader 2 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 31 leaderCommit: 163 
------------------------------------------------------
flag 51746 term 31 leader 2 nextIndex[1]: 163  matchIndex[1]: 0
term 31 leader 2 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 30 leaderCommit: 163 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=164
update matchIndex[0]=163
update leader CommitIndex=163
leader log:
[{snapshot 28 159} {3782677639436857534 28 160} {5803311180381274818 28 161} {5803311180381274818 30 162} {4477712962405132986 31 163}]
------------------------------------------------------
client write log 4254446438271507997 (index 164) to leader 2
client write log 7095098593973543989 (index 165) to leader 2
client write log 5515685848893098859 (index 166) to leader 2
client write log 2939677316888903544 (index 167) to leader 2
client write log 2207071535249229959 (index 168) to leader 2
client write log 6359604217296848765 (index 169) to leader 2
client write log 3014864455733295323 (index 170) to leader 2
client write log 9126213290843429932 (index 171) to leader 2
client write log 2649869826243805071 (index 172) to leader 2
flag 41936 term 30 leader 1 nextIndex[0]: 163  matchIndex[0]: 162
term 30 leader 1 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 30 leaderCommit: 162 
------------------------------------------------------
flag 88614 term 30 leader 1 nextIndex[2]: 163  matchIndex[2]: 162
term 30 leader 1 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 30 leaderCommit: 162 
------------------------------------------------------
flag 42096 term 31 leader 2 nextIndex[0]: 164  matchIndex[0]: 163
term 31 leader 2 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 31 leaderCommit: 163 
------------------------------------------------------
flag 34490 term 31 leader 2 nextIndex[1]: 163  matchIndex[1]: 0
term 31 leader 2 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 30 leaderCommit: 163 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=172
leader log:
[{snapshot 28 159} {3782677639436857534 28 160} {5803311180381274818 28 161} {5803311180381274818 30 162} {4477712962405132986 31 163} {4254446438271507997 31 164} {7095098593973543989 31 165} {5515685848893098859 31 166} {2939677316888903544 31 167} {2207071535249229959 31 168} {6359604217296848765 31 169} {3014864455733295323 31 170} {9126213290843429932 31 171} {2649869826243805071 31 172}]
------------------------------------------------------
term 31 Server2 start snapshot! index=169
term 31 server2 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=172
-------------------------------------------------------------
flag 2946 term 30 leader 1 nextIndex[0]: 163  matchIndex[0]: 162
term 30 leader 1 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 30 leaderCommit: 162 
------------------------------------------------------
flag 14002 term 30 leader 1 nextIndex[2]: 163  matchIndex[2]: 162
term 30 leader 1 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 30 leaderCommit: 162 
------------------------------------------------------
flag 53108 term 31 leader 2 nextIndex[0]: 173  matchIndex[0]: 172
term 31 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
term 31 leader 2 nextIndex[1]: 163  matchIndex[1]: 0
term 31 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 31
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {3014864455733295323 31 170} {9126213290843429932 31 171} {2649869826243805071 31 172}]
------------------------------------------------------
term 31 Server0 start snapshot! index=169
term 31 server0 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=172
-------------------------------------------------------------
!!!!!!connect server 1
client write log 5118618401193981573 (index 163) to leader 1
flag 15044 term 30 leader 1 nextIndex[0]: 163  matchIndex[0]: 162
term 30 leader 1 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 30 leaderCommit: 162 
------------------------------------------------------
flag 5355 term 30 leader 1 nextIndex[2]: 163  matchIndex[2]: 162
term 30 leader 1 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 30 leaderCommit: 162 
------------------------------------------------------
term 31 server 2 AppendEntries false 领导者任期过期 args.Term 30
------------------------------------------------------
term 31 server 0 AppendEntries false 领导者任期过期 args.Term 30
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28058 term 31 leader 2 nextIndex[0]: 173  matchIndex[0]: 172
term 31 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
term 31 leader 2 nextIndex[1]: 163  matchIndex[1]: 0
term 31 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 31
------------------------------------------------------
term 31 server 1 InstallSnapshot success
------------------------------------------------------
term 31 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 170 matchIndex[1] 169 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 169 rf.lastIncludedTerm 31 rf.commitIndex 169 rf.lastApplied 169
term 31 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {3014864455733295323 31 170} {9126213290843429932 31 171} {2649869826243805071 31 172}]
------------------------------------------------------
flag 38880 term 31 leader 2 nextIndex[0]: 173  matchIndex[0]: 172
term 31 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
flag 41967 term 31 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 31 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {3014864455733295323 31 170} {9126213290843429932 31 171} {2649869826243805071 31 172}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {3014864455733295323 31 170} {9126213290843429932 31 171} {2649869826243805071 31 172}]
------------------------------------------------------
flag 39515 term 31 leader 2 nextIndex[0]: 173  matchIndex[0]: 172
term 31 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
flag 28005 term 31 leader 2 nextIndex[1]: 173  matchIndex[1]: 172
term 31 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {3014864455733295323 31 170} {9126213290843429932 31 171} {2649869826243805071 31 172}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {3014864455733295323 31 170} {9126213290843429932 31 171} {2649869826243805071 31 172}]
------------------------------------------------------
flag 34919 term 31 leader 2 nextIndex[0]: 173  matchIndex[0]: 172
term 31 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
flag 56947 term 31 leader 2 nextIndex[1]: 173  matchIndex[1]: 172
term 31 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {3014864455733295323 31 170} {9126213290843429932 31 171} {2649869826243805071 31 172}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {3014864455733295323 31 170} {9126213290843429932 31 171} {2649869826243805071 31 172}]
------------------------------------------------------
flag 95102 term 31 leader 2 nextIndex[0]: 173  matchIndex[0]: 172
term 31 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
flag 65982 term 31 leader 2 nextIndex[1]: 173  matchIndex[1]: 172
term 31 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {3014864455733295323 31 170} {9126213290843429932 31 171} {2649869826243805071 31 172}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {3014864455733295323 31 170} {9126213290843429932 31 171} {2649869826243805071 31 172}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4349 term 31 leader 2 nextIndex[0]: 173  matchIndex[0]: 172
term 31 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
flag 77177 term 31 leader 2 nextIndex[1]: 173  matchIndex[1]: 172
term 31 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {3014864455733295323 31 170} {9126213290843429932 31 171} {2649869826243805071 31 172}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {3014864455733295323 31 170} {9126213290843429932 31 171} {2649869826243805071 31 172}]
------------------------------------------------------
flag 5833 term 31 leader 2 nextIndex[0]: 173  matchIndex[0]: 172
term 31 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
flag 2903 term 31 leader 2 nextIndex[1]: 173  matchIndex[1]: 172
term 31 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {3014864455733295323 31 170} {9126213290843429932 31 171} {2649869826243805071 31 172}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {3014864455733295323 31 170} {9126213290843429932 31 171} {2649869826243805071 31 172}]
------------------------------------------------------
flag 78969 term 31 leader 2 nextIndex[0]: 173  matchIndex[0]: 172
term 31 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
flag 58786 term 31 leader 2 nextIndex[1]: 173  matchIndex[1]: 172
term 31 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {3014864455733295323 31 170} {9126213290843429932 31 171} {2649869826243805071 31 172}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {3014864455733295323 31 170} {9126213290843429932 31 171} {2649869826243805071 31 172}]
------------------------------------------------------
flag 63705 term 31 leader 2 nextIndex[0]: 173  matchIndex[0]: 172
term 31 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
flag 64 term 31 leader 2 nextIndex[1]: 173  matchIndex[1]: 172
term 31 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {3014864455733295323 31 170} {9126213290843429932 31 171} {2649869826243805071 31 172}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {3014864455733295323 31 170} {9126213290843429932 31 171} {2649869826243805071 31 172}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78712 term 31 leader 2 nextIndex[0]: 173  matchIndex[0]: 172
term 31 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
flag 36575 term 31 leader 2 nextIndex[1]: 173  matchIndex[1]: 172
term 31 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {3014864455733295323 31 170} {9126213290843429932 31 171} {2649869826243805071 31 172}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {3014864455733295323 31 170} {9126213290843429932 31 171} {2649869826243805071 31 172}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 173->172
------------------------------------------------------
flag 57264 term 31 leader 2 nextIndex[0]: 173  matchIndex[0]: 172
term 31 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
term 31 leader 2 nextIndex[1]: 0  matchIndex[1]: 172
term 31 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 31
------------------------------------------------------
term 31 server 1 InstallSnapshot fail
rf.commitIndex 172 args.LastIncludedIndex 169
------------------------------------------------------
term 31 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 170 matchIndex[1] 169 
------------------------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {3014864455733295323 31 170} {9126213290843429932 31 171} {2649869826243805071 31 172}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71375 term 31 leader 2 nextIndex[0]: 173  matchIndex[0]: 172
term 31 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
flag 11494 term 31 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 31 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {3014864455733295323 31 170} {9126213290843429932 31 171} {2649869826243805071 31 172}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {3014864455733295323 31 170} {9126213290843429932 31 171} {2649869826243805071 31 172}]
------------------------------------------------------
flag 47050 term 31 leader 2 nextIndex[0]: 173  matchIndex[0]: 172
term 31 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
flag 80326 term 31 leader 2 nextIndex[1]: 173  matchIndex[1]: 172
term 31 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {3014864455733295323 31 170} {9126213290843429932 31 171} {2649869826243805071 31 172}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {3014864455733295323 31 170} {9126213290843429932 31 171} {2649869826243805071 31 172}]
------------------------------------------------------
flag 37617 term 31 leader 2 nextIndex[0]: 173  matchIndex[0]: 172
term 31 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
flag 87916 term 31 leader 2 nextIndex[1]: 173  matchIndex[1]: 172
term 31 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {3014864455733295323 31 170} {9126213290843429932 31 171} {2649869826243805071 31 172}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {3014864455733295323 31 170} {9126213290843429932 31 171} {2649869826243805071 31 172}]
------------------------------------------------------
flag 27140 term 31 leader 2 nextIndex[0]: 173  matchIndex[0]: 172
term 31 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
flag 2017 term 31 leader 2 nextIndex[1]: 173  matchIndex[1]: 172
term 31 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {3014864455733295323 31 170} {9126213290843429932 31 171} {2649869826243805071 31 172}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {3014864455733295323 31 170} {9126213290843429932 31 171} {2649869826243805071 31 172}]
------------------------------------------------------
flag 78612 term 31 leader 2 nextIndex[0]: 173  matchIndex[0]: 172
term 31 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
flag 79931 term 31 leader 2 nextIndex[1]: 173  matchIndex[1]: 172
term 31 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {3014864455733295323 31 170} {9126213290843429932 31 171} {2649869826243805071 31 172}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {3014864455733295323 31 170} {9126213290843429932 31 171} {2649869826243805071 31 172}]
------------------------------------------------------
flag 90595 term 31 leader 2 nextIndex[0]: 173  matchIndex[0]: 172
term 31 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
flag 29473 term 31 leader 2 nextIndex[1]: 173  matchIndex[1]: 172
term 31 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {3014864455733295323 31 170} {9126213290843429932 31 171} {2649869826243805071 31 172}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {3014864455733295323 31 170} {9126213290843429932 31 171} {2649869826243805071 31 172}]
------------------------------------------------------
term 31 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 54609 term 31 leader 2 nextIndex[0]: 173  matchIndex[0]: 172
term 31 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
flag 60178 term 31 leader 2 nextIndex[1]: 173  matchIndex[1]: 172
term 31 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {3014864455733295323 31 170} {9126213290843429932 31 171} {2649869826243805071 31 172}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {3014864455733295323 31 170} {9126213290843429932 31 171} {2649869826243805071 31 172}]
------------------------------------------------------
flag 74088 term 31 leader 2 nextIndex[0]: 173  matchIndex[0]: 172
term 31 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
flag 16984 term 31 leader 2 nextIndex[1]: 173  matchIndex[1]: 172
term 31 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {3014864455733295323 31 170} {9126213290843429932 31 171} {2649869826243805071 31 172}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {3014864455733295323 31 170} {9126213290843429932 31 171} {2649869826243805071 31 172}]
------------------------------------------------------
flag 1315 term 31 leader 2 nextIndex[0]: 173  matchIndex[0]: 172
term 31 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
flag 18516 term 31 leader 2 nextIndex[1]: 173  matchIndex[1]: 172
term 31 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {3014864455733295323 31 170} {9126213290843429932 31 171} {2649869826243805071 31 172}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {3014864455733295323 31 170} {9126213290843429932 31 171} {2649869826243805071 31 172}]
------------------------------------------------------
client write log 5118618401193981573 (index 173) to leader 2
flag 60302 term 31 leader 2 nextIndex[0]: 173  matchIndex[0]: 172
term 31 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
flag 32893 term 31 leader 2 nextIndex[1]: 173  matchIndex[1]: 172
term 31 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=173
leader log:
[{snapshot 31 169} {3014864455733295323 31 170} {9126213290843429932 31 171} {2649869826243805071 31 172} {5118618401193981573 31 173}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=173
leader log:
[{snapshot 31 169} {3014864455733295323 31 170} {9126213290843429932 31 171} {2649869826243805071 31 172} {5118618401193981573 31 173}]
------------------------------------------------------
flag 72935 term 31 leader 2 nextIndex[0]: 174  matchIndex[0]: 173
term 31 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 173 
------------------------------------------------------
flag 34320 term 31 leader 2 nextIndex[1]: 174  matchIndex[1]: 173
term 31 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 173 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=173
leader log:
term 31 server 0 AppendEntries true commitIndex:173 
------------------------------------------------------
[{snapshot 31 169} {3014864455733295323 31 170} {9126213290843429932 31 171} {2649869826243805071 31 172} {5118618401193981573 31 173}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=173
leader log:
[{snapshot 31 169} {3014864455733295323 31 170} {9126213290843429932 31 171} {2649869826243805071 31 172} {5118618401193981573 31 173}]
------------------------------------------------------
flag 41745 term 31 leader 2 nextIndex[0]: 174  matchIndex[0]: 173
term 31 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 173 
------------------------------------------------------
flag 78510 term 31 leader 2 nextIndex[1]: 174  matchIndex[1]: 173
term 31 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 173 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:173 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=173
leader log:
[{snapshot 31 169} {3014864455733295323 31 170} {9126213290843429932 31 171} {2649869826243805071 31 172} {5118618401193981573 31 173}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=173
leader log:
[{snapshot 31 169} {3014864455733295323 31 170} {9126213290843429932 31 171} {2649869826243805071 31 172} {5118618401193981573 31 173}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74906 term 31 leader 2 nextIndex[0]: 174  matchIndex[0]: 173
term 31 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 173 
------------------------------------------------------
flag 99835 term 31 leader 2 nextIndex[1]: 174  matchIndex[1]: 173
term 31 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 173 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=173
leader log:
[{snapshot 31 169} {3014864455733295323 31 170} {9126213290843429932 31 171} {2649869826243805071 31 172} {5118618401193981573 31 173}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=173
leader log:
[{snapshot 31 169} {3014864455733295323 31 170} {9126213290843429932 31 171} {2649869826243805071 31 172} {5118618401193981573 31 173}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54828 term 31 leader 2 nextIndex[0]: 174  matchIndex[0]: 173
term 31 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 173 
------------------------------------------------------
flag 75777 term 31 leader 2 nextIndex[1]: 174  matchIndex[1]: 173
term 31 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 173 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=173
leader log:
[{snapshot 31 169} {3014864455733295323 31 170} {9126213290843429932 31 171} {2649869826243805071 31 172} {5118618401193981573 31 173}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=173
leader log:
[{snapshot 31 169} {3014864455733295323 31 170} {9126213290843429932 31 171} {2649869826243805071 31 172} {5118618401193981573 31 173}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90961 term 31 leader 2 nextIndex[0]: 174  matchIndex[0]: 173
term 31 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 173 
------------------------------------------------------
flag 47431 term 31 leader 2 nextIndex[1]: 174  matchIndex[1]: 173
term 31 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 173 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:173 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=173
leader log:
[{snapshot 31 169} {3014864455733295323 31 170} {9126213290843429932 31 171} {2649869826243805071 31 172} {5118618401193981573 31 173}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=173
leader log:
[{snapshot 31 169} {3014864455733295323 31 170} {9126213290843429932 31 171} {2649869826243805071 31 172} {5118618401193981573 31 173}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83371 term 31 leader 2 nextIndex[0]: 174  matchIndex[0]: 173
term 31 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 173 
------------------------------------------------------
flag 48420 term 31 leader 2 nextIndex[1]: 174  matchIndex[1]: 173
term 31 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 173 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=173
leader log:
[{snapshot 31 169} {3014864455733295323 31 170} {9126213290843429932 31 171} {2649869826243805071 31 172} {5118618401193981573 31 173}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=173
leader log:
[{snapshot 31 169} {3014864455733295323 31 170} {9126213290843429932 31 171} {2649869826243805071 31 172} {5118618401193981573 31 173}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 2326274006918385117 (index 174) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19596 term 31 leader 2 nextIndex[0]: 174  matchIndex[0]: 173
term 31 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 173 
------------------------------------------------------
flag 21347 term 31 leader 2 nextIndex[1]: 174  matchIndex[1]: 173
term 31 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 173 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=175
update matchIndex[1]=174
update leader CommitIndex=174
leader log:
[{snapshot 31 169} {3014864455733295323 31 170} {9126213290843429932 31 171} {2649869826243805071 31 172} {5118618401193981573 31 173} {2326274006918385117 31 174}]
------------------------------------------------------
flag 85458 term 31 leader 2 nextIndex[0]: 174  matchIndex[0]: 173
term 31 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 174 
------------------------------------------------------
flag 48829 term 31 leader 2 nextIndex[1]: 175  matchIndex[1]: 174
term 31 leader 2 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 31 leaderCommit: 174 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=175
update matchIndex[1]=174
update leader CommitIndex=174
leader log:
[{snapshot 31 169} {3014864455733295323 31 170} {9126213290843429932 31 171} {2649869826243805071 31 172} {5118618401193981573 31 173} {2326274006918385117 31 174}]
------------------------------------------------------
client write log 1997820933065470750 (index 175) to leader 2
client write log 2569108275407048720 (index 176) to leader 2
client write log 5698528591027406803 (index 177) to leader 2
client write log 839364343324018568 (index 178) to leader 2
client write log 5654277001399365486 (index 179) to leader 2
client write log 8140000479283105874 (index 180) to leader 2
client write log 1811523140759765803 (index 181) to leader 2
client write log 7261382254147931799 (index 182) to leader 2
client write log 3012567876994973210 (index 183) to leader 2
client write log 7390120457483488119 (index 184) to leader 2
client write log 7555798598429224059 (index 185) to leader 2
flag 4060 term 31 leader 2 nextIndex[0]: 174  matchIndex[0]: 173
term 31 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 174 
------------------------------------------------------
flag 30463 term 31 leader 2 nextIndex[1]: 175  matchIndex[1]: 174
term 31 leader 2 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 31 leaderCommit: 174 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 31 169} {3014864455733295323 31 170} {9126213290843429932 31 171} {2649869826243805071 31 172} {5118618401193981573 31 173} {2326274006918385117 31 174} {1997820933065470750 31 175} {2569108275407048720 31 176} {5698528591027406803 31 177} {839364343324018568 31 178} {5654277001399365486 31 179} {8140000479283105874 31 180} {1811523140759765803 31 181} {7261382254147931799 31 182} {3012567876994973210 31 183} {7390120457483488119 31 184} {7555798598429224059 31 185}]
------------------------------------------------------
term 31 Server2 start snapshot! index=179
term 31 server2 snapshot success
lastIncludedIndex=179 lastApplied=180 lastIndex=185
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 31 leader 2 nextIndex[0]: 174  matchIndex[0]: 173
term 31 leader 2 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 31
------------------------------------------------------
flag 7068 term 31 leader 2 nextIndex[1]: 186  matchIndex[1]: 185
term 31 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {8140000479283105874 31 180} {1811523140759765803 31 181} {7261382254147931799 31 182} {3012567876994973210 31 183} {7390120457483488119 31 184} {7555798598429224059 31 185}]
------------------------------------------------------
term 31 Server1 start snapshot! index=179
term 31 server1 snapshot success
lastIncludedIndex=179 lastApplied=180 lastIndex=185
-------------------------------------------------------------
!!!!!!connect server 0
client write log 3689412406123665688 (index 186) to leader 2
term 31 server 2 not vote for server 0, 日志不够新
term 31 server 1 not vote for server 0, 日志不够新
term 33 server 1 vote for server 2
term 33 server 2 get vote from server 1
term 33 server 2 become leader
term 33 server 0 vote for server 2
------------------------------------------------------
term 33 server 2 get outdate rpc reply from server 0
flag 62773 term 33 leader 2 nextIndex[0]: 187  matchIndex[0]: 0
term 33 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
flag 23675 term 33 leader 2 nextIndex[1]: 187  matchIndex[1]: 0
term 33 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
term 33 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 33 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 187->186
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 187->186
------------------------------------------------------
term 33 leader 2 nextIndex[0]: 174  matchIndex[0]: 0
term 33 leader 2 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 31
------------------------------------------------------
flag 14620 term 33 leader 2 nextIndex[1]: 186  matchIndex[1]: 0
term 33 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {8140000479283105874 31 180} {1811523140759765803 31 181} {7261382254147931799 31 182} {3012567876994973210 31 183} {7390120457483488119 31 184} {7555798598429224059 31 185} {3689412406123665688 31 186}]
------------------------------------------------------
term 33 server 0 InstallSnapshot success
------------------------------------------------------
term 33 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 180 matchIndex[0] 179 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 179 rf.lastIncludedTerm 31 rf.commitIndex 179 rf.lastApplied 179
flag 2165 term 33 leader 2 nextIndex[0]: 180  matchIndex[0]: 179
term 33 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
flag 81051 term 33 leader 2 nextIndex[1]: 187  matchIndex[1]: 186
term 33 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {8140000479283105874 31 180} {1811523140759765803 31 181} {7261382254147931799 31 182} {3012567876994973210 31 183} {7390120457483488119 31 184} {7555798598429224059 31 185} {3689412406123665688 31 186}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {8140000479283105874 31 180} {1811523140759765803 31 181} {7261382254147931799 31 182} {3012567876994973210 31 183} {7390120457483488119 31 184} {7555798598429224059 31 185} {3689412406123665688 31 186}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14884 term 33 leader 2 nextIndex[0]: 187  matchIndex[0]: 186
term 33 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
flag 24794 term 33 leader 2 nextIndex[1]: 187  matchIndex[1]: 186
term 33 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {8140000479283105874 31 180} {1811523140759765803 31 181} {7261382254147931799 31 182} {3012567876994973210 31 183} {7390120457483488119 31 184} {7555798598429224059 31 185} {3689412406123665688 31 186}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {8140000479283105874 31 180} {1811523140759765803 31 181} {7261382254147931799 31 182} {3012567876994973210 31 183} {7390120457483488119 31 184} {7555798598429224059 31 185} {3689412406123665688 31 186}]
------------------------------------------------------
flag 52700 term 33 leader 2 nextIndex[0]: 187  matchIndex[0]: 186
term 33 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
flag 68665 term 33 leader 2 nextIndex[1]: 187  matchIndex[1]: 186
term 33 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {8140000479283105874 31 180} {1811523140759765803 31 181} {7261382254147931799 31 182} {3012567876994973210 31 183} {7390120457483488119 31 184} {7555798598429224059 31 185} {3689412406123665688 31 186}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {8140000479283105874 31 180} {1811523140759765803 31 181} {7261382254147931799 31 182} {3012567876994973210 31 183} {7390120457483488119 31 184} {7555798598429224059 31 185} {3689412406123665688 31 186}]
------------------------------------------------------
flag 21930 term 33 leader 2 nextIndex[0]: 187  matchIndex[0]: 186
term 33 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
flag 53963 term 33 leader 2 nextIndex[1]: 187  matchIndex[1]: 186
term 33 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {8140000479283105874 31 180} {1811523140759765803 31 181} {7261382254147931799 31 182} {3012567876994973210 31 183} {7390120457483488119 31 184} {7555798598429224059 31 185} {3689412406123665688 31 186}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {8140000479283105874 31 180} {1811523140759765803 31 181} {7261382254147931799 31 182} {3012567876994973210 31 183} {7390120457483488119 31 184} {7555798598429224059 31 185} {3689412406123665688 31 186}]
------------------------------------------------------
flag 35840 term 33 leader 2 nextIndex[0]: 187  matchIndex[0]: 186
term 33 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
flag 58964 term 33 leader 2 nextIndex[1]: 187  matchIndex[1]: 186
term 33 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {8140000479283105874 31 180} {1811523140759765803 31 181} {7261382254147931799 31 182} {3012567876994973210 31 183} {7390120457483488119 31 184} {7555798598429224059 31 185} {3689412406123665688 31 186}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {8140000479283105874 31 180} {1811523140759765803 31 181} {7261382254147931799 31 182} {3012567876994973210 31 183} {7390120457483488119 31 184} {7555798598429224059 31 185} {3689412406123665688 31 186}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25354 term 33 leader 2 nextIndex[0]: 187  matchIndex[0]: 186
term 33 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
flag 86473 term 33 leader 2 nextIndex[1]: 187  matchIndex[1]: 186
term 33 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {8140000479283105874 31 180} {1811523140759765803 31 181} {7261382254147931799 31 182} {3012567876994973210 31 183} {7390120457483488119 31 184} {7555798598429224059 31 185} {3689412406123665688 31 186}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {8140000479283105874 31 180} {1811523140759765803 31 181} {7261382254147931799 31 182} {3012567876994973210 31 183} {7390120457483488119 31 184} {7555798598429224059 31 185} {3689412406123665688 31 186}]
------------------------------------------------------
flag 47065 term 33 leader 2 nextIndex[0]: 187  matchIndex[0]: 186
term 33 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
flag 17934 term 33 leader 2 nextIndex[1]: 187  matchIndex[1]: 186
term 33 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {8140000479283105874 31 180} {1811523140759765803 31 181} {7261382254147931799 31 182} {3012567876994973210 31 183} {7390120457483488119 31 184} {7555798598429224059 31 185} {3689412406123665688 31 186}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {8140000479283105874 31 180} {1811523140759765803 31 181} {7261382254147931799 31 182} {3012567876994973210 31 183} {7390120457483488119 31 184} {7555798598429224059 31 185} {3689412406123665688 31 186}]
------------------------------------------------------
flag 59881 term 33 leader 2 nextIndex[0]: 187  matchIndex[0]: 186
term 33 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
flag 4290 term 33 leader 2 nextIndex[1]: 187  matchIndex[1]: 186
term 33 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {8140000479283105874 31 180} {1811523140759765803 31 181} {7261382254147931799 31 182} {3012567876994973210 31 183} {7390120457483488119 31 184} {7555798598429224059 31 185} {3689412406123665688 31 186}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {8140000479283105874 31 180} {1811523140759765803 31 181} {7261382254147931799 31 182} {3012567876994973210 31 183} {7390120457483488119 31 184} {7555798598429224059 31 185} {3689412406123665688 31 186}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92485 term 33 leader 2 nextIndex[0]: 187  matchIndex[0]: 186
term 33 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
flag 79059 term 33 leader 2 nextIndex[1]: 187  matchIndex[1]: 186
term 33 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueterm 33 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
update nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {8140000479283105874 31 180} {1811523140759765803 31 181} {7261382254147931799 31 182} {3012567876994973210 31 183} {7390120457483488119 31 184} {7555798598429224059 31 185} {3689412406123665688 31 186}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {8140000479283105874 31 180} {1811523140759765803 31 181} {7261382254147931799 31 182} {3012567876994973210 31 183} {7390120457483488119 31 184} {7555798598429224059 31 185} {3689412406123665688 31 186}]
------------------------------------------------------
flag 83435 term 33 leader 2 nextIndex[0]: 187  matchIndex[0]: 186
term 33 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
flag 27000 term 33 leader 2 nextIndex[1]: 187  matchIndex[1]: 186
term 33 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {8140000479283105874 31 180} {1811523140759765803 31 181} {7261382254147931799 31 182} {3012567876994973210 31 183} {7390120457483488119 31 184} {7555798598429224059 31 185} {3689412406123665688 31 186}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {8140000479283105874 31 180} {1811523140759765803 31 181} {7261382254147931799 31 182} {3012567876994973210 31 183} {7390120457483488119 31 184} {7555798598429224059 31 185} {3689412406123665688 31 186}]
------------------------------------------------------
flag 96151 term 33 leader 2 nextIndex[0]: 187  matchIndex[0]: 186
term 33 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
flag 18812 term 33 leader 2 nextIndex[1]: 187  matchIndex[1]: 186
term 33 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {8140000479283105874 31 180} {1811523140759765803 31 181} {7261382254147931799 31 182} {3012567876994973210 31 183} {7390120457483488119 31 184} {7555798598429224059 31 185} {3689412406123665688 31 186}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {8140000479283105874 31 180} {1811523140759765803 31 181} {7261382254147931799 31 182} {3012567876994973210 31 183} {7390120457483488119 31 184} {7555798598429224059 31 185} {3689412406123665688 31 186}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 33 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 12225 term 33 leader 2 nextIndex[0]: 187  matchIndex[0]: 186
term 33 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
flag 24788 term 33 leader 2 nextIndex[1]: 187  matchIndex[1]: 186
term 33 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {8140000479283105874 31 180} {1811523140759765803 31 181} {7261382254147931799 31 182} {3012567876994973210 31 183} {7390120457483488119 31 184} {7555798598429224059 31 185} {3689412406123665688 31 186}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {8140000479283105874 31 180} {1811523140759765803 31 181} {7261382254147931799 31 182} {3012567876994973210 31 183} {7390120457483488119 31 184} {7555798598429224059 31 185} {3689412406123665688 31 186}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34351 term 33 leader 2 nextIndex[0]: 187  matchIndex[0]: 186
term 33 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
flag 97230 term 33 leader 2 nextIndex[1]: 187  matchIndex[1]: 186
term 33 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=185
leader log:
term 33 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
[{snapshot 31 179} {8140000479283105874 31 180} {1811523140759765803 31 181} {7261382254147931799 31 182} {3012567876994973210 31 183} {7390120457483488119 31 184} {7555798598429224059 31 185} {3689412406123665688 31 186}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {8140000479283105874 31 180} {1811523140759765803 31 181} {7261382254147931799 31 182} {3012567876994973210 31 183} {7390120457483488119 31 184} {7555798598429224059 31 185} {3689412406123665688 31 186}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3732 term 33 leader 2 nextIndex[0]: 187  matchIndex[0]: 186
term 33 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
flag 55591 term 33 leader 2 nextIndex[1]: 187  matchIndex[1]: 186
term 33 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {8140000479283105874 31 180} {1811523140759765803 31 181} {7261382254147931799 31 182} {3012567876994973210 31 183} {7390120457483488119 31 184} {7555798598429224059 31 185} {3689412406123665688 31 186}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {8140000479283105874 31 180} {1811523140759765803 31 181} {7261382254147931799 31 182} {3012567876994973210 31 183} {7390120457483488119 31 184} {7555798598429224059 31 185} {3689412406123665688 31 186}]
------------------------------------------------------
flag 82532 term 33 leader 2 nextIndex[0]: 187  matchIndex[0]: 186
term 33 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
flag 69382 term 33 leader 2 nextIndex[1]: 187  matchIndex[1]: 186
term 33 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {8140000479283105874 31 180} {1811523140759765803 31 181} {7261382254147931799 31 182} {3012567876994973210 31 183} {7390120457483488119 31 184} {7555798598429224059 31 185} {3689412406123665688 31 186}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {8140000479283105874 31 180} {1811523140759765803 31 181} {7261382254147931799 31 182} {3012567876994973210 31 183} {7390120457483488119 31 184} {7555798598429224059 31 185} {3689412406123665688 31 186}]
------------------------------------------------------
flag 20032 term 33 leader 2 nextIndex[0]: 187  matchIndex[0]: 186
term 33 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
flag 73586 term 33 leader 2 nextIndex[1]: 187  matchIndex[1]: 186
term 33 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {8140000479283105874 31 180} {1811523140759765803 31 181} {7261382254147931799 31 182} {3012567876994973210 31 183} {7390120457483488119 31 184} {7555798598429224059 31 185} {3689412406123665688 31 186}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {8140000479283105874 31 180} {1811523140759765803 31 181} {7261382254147931799 31 182} {3012567876994973210 31 183} {7390120457483488119 31 184} {7555798598429224059 31 185} {3689412406123665688 31 186}]
------------------------------------------------------
flag 39240 term 33 leader 2 nextIndex[0]: 187  matchIndex[0]: 186
term 33 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
flag 75456 term 33 leader 2 nextIndex[1]: 187  matchIndex[1]: 186
term 33 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {8140000479283105874 31 180} {1811523140759765803 31 181} {7261382254147931799 31 182} {3012567876994973210 31 183} {7390120457483488119 31 184} {7555798598429224059 31 185} {3689412406123665688 31 186}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {8140000479283105874 31 180} {1811523140759765803 31 181} {7261382254147931799 31 182} {3012567876994973210 31 183} {7390120457483488119 31 184} {7555798598429224059 31 185} {3689412406123665688 31 186}]
------------------------------------------------------
flag 48910 term 33 leader 2 nextIndex[0]: 187  matchIndex[0]: 186
term 33 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
flag 81187 term 33 leader 2 nextIndex[1]: 187  matchIndex[1]: 186
term 33 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {8140000479283105874 31 180} {1811523140759765803 31 181} {7261382254147931799 31 182} {3012567876994973210 31 183} {7390120457483488119 31 184} {7555798598429224059 31 185} {3689412406123665688 31 186}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=185
leader log:
[{snapshot 31 179} {8140000479283105874 31 180} {1811523140759765803 31 181} {7261382254147931799 31 182} {3012567876994973210 31 183} {7390120457483488119 31 184} {7555798598429224059 31 185} {3689412406123665688 31 186}]
------------------------------------------------------
client write log 3689412406123665688 (index 187) to leader 2
flag 80507 term 33 leader 2 nextIndex[0]: 187  matchIndex[0]: 186
term 33 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
flag 38608 term 33 leader 2 nextIndex[1]: 187  matchIndex[1]: 186
term 33 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=188
update matchIndex[0]=187
update leader CommitIndex=187
leader log:
[{snapshot 31 179} {8140000479283105874 31 180} {1811523140759765803 31 181} {7261382254147931799 31 182} {3012567876994973210 31 183} {7390120457483488119 31 184} {7555798598429224059 31 185} {3689412406123665688 31 186} {3689412406123665688 33 187}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 31 179} {8140000479283105874 31 180} {1811523140759765803 31 181} {7261382254147931799 31 182} {3012567876994973210 31 183} {7390120457483488119 31 184} {7555798598429224059 31 185} {3689412406123665688 31 186} {3689412406123665688 33 187}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83538 term 33 leader 2 nextIndex[0]: 188  matchIndex[0]: 187
term 33 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 33 leaderCommit: 187 
------------------------------------------------------
flag 46443 term 33 leader 2 nextIndex[1]: 188  matchIndex[1]: 187
term 33 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 33 leaderCommit: 187 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 31 179} {8140000479283105874 31 180} {1811523140759765803 31 181} {7261382254147931799 31 182} {3012567876994973210 31 183} {7390120457483488119 31 184} {7555798598429224059 31 185} {3689412406123665688 31 186} {3689412406123665688 33 187}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=188
update matchIndex[0]=187
update leader CommitIndex=187
leader log:
[{snapshot 31 179} {8140000479283105874 31 180} {1811523140759765803 31 181} {7261382254147931799 31 182} {3012567876994973210 31 183} {7390120457483488119 31 184} {7555798598429224059 31 185} {3689412406123665688 31 186} {3689412406123665688 33 187}]
------------------------------------------------------
flag 94079 term 33 leader 2 nextIndex[0]: 188  matchIndex[0]: 187
term 33 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 33 leaderCommit: 187 
------------------------------------------------------
flag 24054 term 33 leader 2 nextIndex[1]: 188  matchIndex[1]: 187
term 33 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 33 leaderCommit: 187 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 31 179} {8140000479283105874 31 180} {1811523140759765803 31 181} {7261382254147931799 31 182} {3012567876994973210 31 183} {7390120457483488119 31 184} {7555798598429224059 31 185} {3689412406123665688 31 186} {3689412406123665688 33 187}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=188
update matchIndex[0]=187
update leader CommitIndex=187
leader log:
[{snapshot 31 179} {8140000479283105874 31 180} {1811523140759765803 31 181} {7261382254147931799 31 182} {3012567876994973210 31 183} {7390120457483488119 31 184} {7555798598429224059 31 185} {3689412406123665688 31 186} {3689412406123665688 33 187}]
------------------------------------------------------
flag 4972 term 33 leader 2 nextIndex[0]: 188  matchIndex[0]: 187
term 33 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 33 leaderCommit: 187 
------------------------------------------------------
flag 15178 term 33 leader 2 nextIndex[1]: 188  matchIndex[1]: 187
term 33 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 33 leaderCommit: 187 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 31 179} {8140000479283105874 31 180} {1811523140759765803 31 181} {7261382254147931799 31 182} {3012567876994973210 31 183} {7390120457483488119 31 184} {7555798598429224059 31 185} {3689412406123665688 31 186} {3689412406123665688 33 187}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=188
update matchIndex[0]=187
update leader CommitIndex=187
leader log:
[{snapshot 31 179} {8140000479283105874 31 180} {1811523140759765803 31 181} {7261382254147931799 31 182} {3012567876994973210 31 183} {7390120457483488119 31 184} {7555798598429224059 31 185} {3689412406123665688 31 186} {3689412406123665688 33 187}]
------------------------------------------------------
flag 32919 term 33 leader 2 nextIndex[0]: 188  matchIndex[0]: 187
term 33 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 33 leaderCommit: 187 
------------------------------------------------------
flag 6058 term 33 leader 2 nextIndex[1]: 188  matchIndex[1]: 187
term 33 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 33 leaderCommit: 187 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 31 179} {8140000479283105874 31 180} {1811523140759765803 31 181} {7261382254147931799 31 182} {3012567876994973210 31 183} {7390120457483488119 31 184} {7555798598429224059 31 185} {3689412406123665688 31 186} {3689412406123665688 33 187}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=188
update matchIndex[0]=187
update leader CommitIndex=187
leader log:
[{snapshot 31 179} {8140000479283105874 31 180} {1811523140759765803 31 181} {7261382254147931799 31 182} {3012567876994973210 31 183} {7390120457483488119 31 184} {7555798598429224059 31 185} {3689412406123665688 31 186} {3689412406123665688 33 187}]
------------------------------------------------------
flag 17512 term 33 leader 2 nextIndex[0]: 188  matchIndex[0]: 187
term 33 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 33 leaderCommit: 187 
------------------------------------------------------
flag 29565 term 33 leader 2 nextIndex[1]: 188  matchIndex[1]: 187
term 33 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 33 leaderCommit: 187 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 31 179} {8140000479283105874 31 180} {1811523140759765803 31 181} {7261382254147931799 31 182} {3012567876994973210 31 183} {7390120457483488119 31 184} {7555798598429224059 31 185} {3689412406123665688 31 186} {3689412406123665688 33 187}]
term 33 server 0 AppendEntries true commitIndex:187 
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=188
update matchIndex[0]=187
update leader CommitIndex=187
leader log:
[{snapshot 31 179} {8140000479283105874 31 180} {1811523140759765803 31 181} {7261382254147931799 31 182} {3012567876994973210 31 183} {7390120457483488119 31 184} {7555798598429224059 31 185} {3689412406123665688 31 186} {3689412406123665688 33 187}]
------------------------------------------------------
term 33 server 1 not vote for server 2, 任期不够新
term 33 server 2 get outdate rpc reply from server 1
flag 64101 term 33 leader 2 nextIndex[0]: 188  matchIndex[0]: 187
term 33 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 33 leaderCommit: 187 
------------------------------------------------------
flag 25394 term 33 leader 2 nextIndex[1]: 188  matchIndex[1]: 187
term 33 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 33 leaderCommit: 187 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:187 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=188
update matchIndex[0]=187
update leader CommitIndex=187
leader log:
[{snapshot 31 179} {8140000479283105874 31 180} {1811523140759765803 31 181} {7261382254147931799 31 182} {3012567876994973210 31 183} {7390120457483488119 31 184} {7555798598429224059 31 185} {3689412406123665688 31 186} {3689412406123665688 33 187}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 31 179} {8140000479283105874 31 180} {1811523140759765803 31 181} {7261382254147931799 31 182} {3012567876994973210 31 183} {7390120457483488119 31 184} {7555798598429224059 31 185} {3689412406123665688 31 186} {3689412406123665688 33 187}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 0
client write log 3039972983616393785 (index 188) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96114 term 33 leader 2 nextIndex[0]: 188  matchIndex[0]: 187
term 33 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 33 leaderCommit: 187 
------------------------------------------------------
flag 81327 term 33 leader 2 nextIndex[1]: 188  matchIndex[1]: 187
term 33 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 33 leaderCommit: 187 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=189
update matchIndex[1]=188
update leader CommitIndex=188
leader log:
[{snapshot 31 179} {8140000479283105874 31 180} {1811523140759765803 31 181} {7261382254147931799 31 182} {3012567876994973210 31 183} {7390120457483488119 31 184} {7555798598429224059 31 185} {3689412406123665688 31 186} {3689412406123665688 33 187} {3039972983616393785 33 188}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54367 term 33 leader 2 nextIndex[0]: 188  matchIndex[0]: 187
term 33 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 33 leaderCommit: 188 
------------------------------------------------------
flag 39918 term 33 leader 2 nextIndex[1]: 189  matchIndex[1]: 188
term 33 leader 2 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 33 leaderCommit: 188 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=189
update matchIndex[1]=188
update leader CommitIndex=188
leader log:
[{snapshot 31 179} {8140000479283105874 31 180} {1811523140759765803 31 181} {7261382254147931799 31 182} {3012567876994973210 31 183} {7390120457483488119 31 184} {7555798598429224059 31 185} {3689412406123665688 31 186} {3689412406123665688 33 187} {3039972983616393785 33 188}]
------------------------------------------------------
client write log 1368597925327547283 (index 189) to leader 2
client write log 4217264485123572416 (index 190) to leader 2
client write log 5767787108533498507 (index 191) to leader 2
client write log 1095126094123234838 (index 192) to leader 2
client write log 6419403248549404726 (index 193) to leader 2
client write log 494150362673023241 (index 194) to leader 2
client write log 3119502055502169636 (index 195) to leader 2
client write log 12648107430538787 (index 196) to leader 2
client write log 4008763336430446852 (index 197) to leader 2
client write log 7754081453955148433 (index 198) to leader 2
client write log 7390015499474932749 (index 199) to leader 2
client write log 622441758221600850 (index 200) to leader 2
client write log 4790849821789855397 (index 201) to leader 2
client write log 4923638950546736125 (index 202) to leader 2
client write log 4142105863325230835 (index 203) to leader 2
flag 30302 term 33 leader 2 nextIndex[0]: 188  matchIndex[0]: 187
term 33 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 33 leaderCommit: 188 
------------------------------------------------------
flag 27436 term 33 leader 2 nextIndex[1]: 189  matchIndex[1]: 188
term 33 leader 2 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 33 leaderCommit: 188 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 31 179} {8140000479283105874 31 180} {1811523140759765803 31 181} {7261382254147931799 31 182} {3012567876994973210 31 183} {7390120457483488119 31 184} {7555798598429224059 31 185} {3689412406123665688 31 186} {3689412406123665688 33 187} {3039972983616393785 33 188} {1368597925327547283 33 189} {4217264485123572416 33 190} {5767787108533498507 33 191} {1095126094123234838 33 192} {6419403248549404726 33 193} {494150362673023241 33 194} {3119502055502169636 33 195} {12648107430538787 33 196} {4008763336430446852 33 197} {7754081453955148433 33 198} {7390015499474932749 33 199} {622441758221600850 33 200} {4790849821789855397 33 201} {4923638950546736125 33 202} {4142105863325230835 33 203}]
------------------------------------------------------
term 33 Server2 start snapshot! index=189
term 33 server2 snapshot success
lastIncludedIndex=189 lastApplied=190 lastIndex=203
-------------------------------------------------------------
term 33 Server2 start snapshot! index=199
term 33 server2 snapshot success
lastIncludedIndex=199 lastApplied=200 lastIndex=203
-------------------------------------------------------------
term 33 leader 2 nextIndex[0]: 188  matchIndex[0]: 187
term 33 leader 2 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 33
------------------------------------------------------
flag 50243 term 33 leader 2 nextIndex[1]: 204  matchIndex[1]: 203
term 33 leader 2 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 33 leaderCommit: 203 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 33 199} {622441758221600850 33 200} {4790849821789855397 33 201} {4923638950546736125 33 202} {4142105863325230835 33 203}]
------------------------------------------------------
term 33 Server1 start snapshot! index=189
term 33 server1 snapshot success
lastIncludedIndex=189 lastApplied=190 lastIndex=203
-------------------------------------------------------------
term 33 Server1 start snapshot! index=199
term 33 server1 snapshot success
lastIncludedIndex=199 lastApplied=200 lastIndex=203
-------------------------------------------------------------
!!!!!!connect server 0
client write log 8459059421282839101 (index 204) to leader 2
term 33 leader 2 nextIndex[0]: 188  matchIndex[0]: 187
term 33 leader 2 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 33
------------------------------------------------------
flag 72363 term 33 leader 2 nextIndex[1]: 204  matchIndex[1]: 203
term 33 leader 2 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 33 leaderCommit: 203 
------------------------------------------------------
term 34 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
leader log:
[{snapshot 33 199} {622441758221600850 33 200} {4790849821789855397 33 201} {4923638950546736125 33 202} {4142105863325230835 33 203} {8459059421282839101 33 204}]
------------------------------------------------------
term 33 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 35 server 1 vote for server 2
term 35 server 2 get vote from server 1
term 35 server 2 become leader
------------------------------------------------------
term 35 server 0 vote for server 2
term 35 server 2 get outdate rpc reply from server 0
flag 37295 term 35 leader 2 nextIndex[0]: 205  matchIndex[0]: 0
term 35 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 98558 term 35 leader 2 nextIndex[1]: 205  matchIndex[1]: 0
term 35 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:204 
------------------------------------------------------
term 35 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
leader log:
[{snapshot 33 199} {622441758221600850 33 200} {4790849821789855397 33 201} {4923638950546736125 33 202} {4142105863325230835 33 203} {8459059421282839101 33 204}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 205->204
------------------------------------------------------
term 35 leader 2 nextIndex[0]: 188  matchIndex[0]: 0
term 35 leader 2 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 33
------------------------------------------------------
flag 27830 term 35 leader 2 nextIndex[1]: 205  matchIndex[1]: 204
term 35 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
term 35 server 0 InstallSnapshot success
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:204 
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 199 rf.lastIncludedTerm 33 rf.commitIndex 199 rf.lastApplied 199
term 35 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 200 matchIndex[0] 199 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
leader log:
[{snapshot 33 199} {622441758221600850 33 200} {4790849821789855397 33 201} {4923638950546736125 33 202} {4142105863325230835 33 203} {8459059421282839101 33 204}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47977 term 35 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 35 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 86402 term 35 leader 2 nextIndex[1]: 205  matchIndex[1]: 204
term 35 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 33 199} {622441758221600850 33 200} {4790849821789855397 33 201} {4923638950546736125 33 202} {4142105863325230835 33 203} {8459059421282839101 33 204}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
leader log:
[{snapshot 33 199} {622441758221600850 33 200} {4790849821789855397 33 201} {4923638950546736125 33 202} {4142105863325230835 33 203} {8459059421282839101 33 204}]
------------------------------------------------------
flag 84906 term 35 leader 2 nextIndex[0]: 205  matchIndex[0]: 204
term 35 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 41256 term 35 leader 2 nextIndex[1]: 205  matchIndex[1]: 204
term 35 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
leader log:
[{snapshot 33 199} {622441758221600850 33 200} {4790849821789855397 33 201} {4923638950546736125 33 202} {4142105863325230835 33 203} {8459059421282839101 33 204}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 33 199} {622441758221600850 33 200} {4790849821789855397 33 201} {4923638950546736125 33 202} {4142105863325230835 33 203} {8459059421282839101 33 204}]
------------------------------------------------------
flag 23292 term 35 leader 2 nextIndex[0]: 205  matchIndex[0]: 204
term 35 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 35951 term 35 leader 2 nextIndex[1]: 205  matchIndex[1]: 204
term 35 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
leader log:
[{snapshot 33 199} {622441758221600850 33 200} {4790849821789855397 33 201} {4923638950546736125 33 202} {4142105863325230835 33 203} {8459059421282839101 33 204}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 33 199} {622441758221600850 33 200} {4790849821789855397 33 201} {4923638950546736125 33 202} {4142105863325230835 33 203} {8459059421282839101 33 204}]
------------------------------------------------------
flag 79655 term 35 leader 2 nextIndex[0]: 205  matchIndex[0]: 204
term 35 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 66416 term 35 leader 2 nextIndex[1]: 205  matchIndex[1]: 204
term 35 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
leader log:
[{snapshot 33 199} {622441758221600850 33 200} {4790849821789855397 33 201} {4923638950546736125 33 202} {4142105863325230835 33 203} {8459059421282839101 33 204}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 33 199} {622441758221600850 33 200} {4790849821789855397 33 201} {4923638950546736125 33 202} {4142105863325230835 33 203} {8459059421282839101 33 204}]
------------------------------------------------------
term 35 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 29201 term 35 leader 2 nextIndex[0]: 205  matchIndex[0]: 204
term 35 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 99669 term 35 leader 2 nextIndex[1]: 205  matchIndex[1]: 204
term 35 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:204 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
leader log:
[{snapshot 33 199} {622441758221600850 33 200} {4790849821789855397 33 201} {4923638950546736125 33 202} {4142105863325230835 33 203} {8459059421282839101 33 204}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 33 199} {622441758221600850 33 200} {4790849821789855397 33 201} {4923638950546736125 33 202} {4142105863325230835 33 203} {8459059421282839101 33 204}]
------------------------------------------------------
flag 22554 term 35 leader 2 nextIndex[0]: 205  matchIndex[0]: 204
term 35 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 70417 term 35 leader 2 nextIndex[1]: 205  matchIndex[1]: 204
term 35 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 33 199} {622441758221600850 33 200} {4790849821789855397 33 201} {4923638950546736125 33 202} {4142105863325230835 33 203} {8459059421282839101 33 204}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
leader log:
[{snapshot 33 199} {622441758221600850 33 200} {4790849821789855397 33 201} {4923638950546736125 33 202} {4142105863325230835 33 203} {8459059421282839101 33 204}]
------------------------------------------------------
flag 44559 term 35 leader 2 nextIndex[0]: 205  matchIndex[0]: 204
term 35 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 81628 term 35 leader 2 nextIndex[1]: 205  matchIndex[1]: 204
term 35 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 33 199} {622441758221600850 33 200} {4790849821789855397 33 201} {4923638950546736125 33 202} {4142105863325230835 33 203} {8459059421282839101 33 204}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
leader log:
[{snapshot 33 199} {622441758221600850 33 200} {4790849821789855397 33 201} {4923638950546736125 33 202} {4142105863325230835 33 203} {8459059421282839101 33 204}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 69419 term 35 leader 2 nextIndex[0]: 205  matchIndex[0]: 204
term 35 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 39925 term 35 leader 2 nextIndex[1]: 205  matchIndex[1]: 204
term 35 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 31526 term 35 leader 2 nextIndex[0]: 205  matchIndex[0]: 204
term 35 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 13328 term 35 leader 2 nextIndex[1]: 205  matchIndex[1]: 204
term 35 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 33196 term 35 leader 2 nextIndex[0]: 205  matchIndex[0]: 204
term 35 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 88178 term 35 leader 2 nextIndex[1]: 205  matchIndex[1]: 204
term 35 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
term 36 server 0 vote for server 1
term 36 server 1 get vote from server 0
term 36 server 1 become leader
------------------------------------------------------
flag 18566 term 36 leader 1 nextIndex[0]: 205  matchIndex[0]: 0
term 36 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 6094 term 36 leader 1 nextIndex[2]: 205  matchIndex[2]: 0
term 36 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 33 199} {622441758221600850 33 200} {4790849821789855397 33 201} {4923638950546736125 33 202} {4142105863325230835 33 203} {8459059421282839101 33 204}]
------------------------------------------------------
client write log 6447008546535837317 (index 205) to leader 1
flag 64024 term 35 leader 2 nextIndex[0]: 205  matchIndex[0]: 204
term 35 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 85672 term 35 leader 2 nextIndex[1]: 205  matchIndex[1]: 204
term 35 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 91851 term 36 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 36 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 27538 term 36 leader 1 nextIndex[2]: 205  matchIndex[2]: 0
term 36 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=205
leader log:
[{snapshot 33 199} {622441758221600850 33 200} {4790849821789855397 33 201} {4923638950546736125 33 202} {4142105863325230835 33 203} {8459059421282839101 33 204} {6447008546535837317 36 205}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 205->204
------------------------------------------------------
flag 9722 term 35 leader 2 nextIndex[0]: 205  matchIndex[0]: 204
term 35 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
term 35 leader 2 nextIndex[1]: 0  matchIndex[1]: 204
term 35 leader 2 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 33
------------------------------------------------------
flag 60180 term 36 leader 1 nextIndex[0]: 206  matchIndex[0]: 205
term 36 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 36 leaderCommit: 205 
------------------------------------------------------
flag 82452 term 36 leader 1 nextIndex[2]: 205  matchIndex[2]: 0
term 36 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 205 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=205
leader log:
[{snapshot 33 199} {622441758221600850 33 200} {4790849821789855397 33 201} {4923638950546736125 33 202} {4142105863325230835 33 203} {8459059421282839101 33 204} {6447008546535837317 36 205}]
------------------------------------------------------
client write log 3870100935161523402 (index 206) to leader 1
flag 41417 term 35 leader 2 nextIndex[0]: 205  matchIndex[0]: 204
term 35 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
term 35 leader 2 nextIndex[1]: 0  matchIndex[1]: 204
term 35 leader 2 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 33
------------------------------------------------------
flag 41551 term 36 leader 1 nextIndex[0]: 206  matchIndex[0]: 205
term 36 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 36 leaderCommit: 205 
------------------------------------------------------
flag 11332 term 36 leader 1 nextIndex[2]: 205  matchIndex[2]: 0
term 36 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 205 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=206
leader log:
[{snapshot 33 199} {622441758221600850 33 200} {4790849821789855397 33 201} {4923638950546736125 33 202} {4142105863325230835 33 203} {8459059421282839101 33 204} {6447008546535837317 36 205} {3870100935161523402 36 206}]
------------------------------------------------------
flag 36728 term 35 leader 2 nextIndex[0]: 205  matchIndex[0]: 204
term 35 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
term 35 leader 2 nextIndex[1]: 0  matchIndex[1]: 204
term 35 leader 2 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 33
------------------------------------------------------
flag 1321 term 36 leader 1 nextIndex[0]: 207  matchIndex[0]: 206
term 36 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 36 leaderCommit: 206 
------------------------------------------------------
flag 2775 term 36 leader 1 nextIndex[2]: 205  matchIndex[2]: 0
term 36 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 206 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=206
leader log:
[{snapshot 33 199} {622441758221600850 33 200} {4790849821789855397 33 201} {4923638950546736125 33 202} {4142105863325230835 33 203} {8459059421282839101 33 204} {6447008546535837317 36 205} {3870100935161523402 36 206}]
------------------------------------------------------
!!!!!!connect server 2
client write log 4624696687578409736 (index 207) to leader 1
flag 76860 term 35 leader 2 nextIndex[0]: 205  matchIndex[0]: 204
term 35 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
term 35 leader 2 nextIndex[1]: 0  matchIndex[1]: 204
term 35 leader 2 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 33
------------------------------------------------------
term 36 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 35 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 36 server 0 AppendEntries false 领导者任期过期 args.Term 35
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75931 term 36 leader 1 nextIndex[0]: 207  matchIndex[0]: 206
term 36 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 36 leaderCommit: 206 
------------------------------------------------------
flag 67024 term 36 leader 1 nextIndex[2]: 205  matchIndex[2]: 0
term 36 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 206 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 33 199} {622441758221600850 33 200} {4790849821789855397 33 201} {4923638950546736125 33 202} {4142105863325230835 33 203} {8459059421282839101 33 204} {6447008546535837317 36 205} {3870100935161523402 36 206} {4624696687578409736 36 207}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=207
leader log:
[{snapshot 33 199} {622441758221600850 33 200} {4790849821789855397 33 201} {4923638950546736125 33 202} {4142105863325230835 33 203} {8459059421282839101 33 204} {6447008546535837317 36 205} {3870100935161523402 36 206} {4624696687578409736 36 207}]
------------------------------------------------------
flag 51215 term 36 leader 1 nextIndex[0]: 208  matchIndex[0]: 207
term 36 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 36 leaderCommit: 207 
------------------------------------------------------
flag 70353 term 36 leader 1 nextIndex[2]: 208  matchIndex[2]: 207
term 36 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 36 leaderCommit: 207 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=207
leader log:
[{snapshot 33 199} {622441758221600850 33 200} {4790849821789855397 33 201} {4923638950546736125 33 202} {4142105863325230835 33 203} {8459059421282839101 33 204} {6447008546535837317 36 205} {3870100935161523402 36 206} {4624696687578409736 36 207}]
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 33 199} {622441758221600850 33 200} {4790849821789855397 33 201} {4923638950546736125 33 202} {4142105863325230835 33 203} {8459059421282839101 33 204} {6447008546535837317 36 205} {3870100935161523402 36 206} {4624696687578409736 36 207}]
------------------------------------------------------
flag 27226 term 36 leader 1 nextIndex[0]: 208  matchIndex[0]: 207
term 36 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 36 leaderCommit: 207 
------------------------------------------------------
flag 62209 term 36 leader 1 nextIndex[2]: 208  matchIndex[2]: 207
term 36 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 36 leaderCommit: 207 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
term 36 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
update leader CommitIndex=207
leader log:
[{snapshot 33 199} {622441758221600850 33 200} {4790849821789855397 33 201} {4923638950546736125 33 202} {4142105863325230835 33 203} {8459059421282839101 33 204} {6447008546535837317 36 205} {3870100935161523402 36 206} {4624696687578409736 36 207}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=207
leader log:
[{snapshot 33 199} {622441758221600850 33 200} {4790849821789855397 33 201} {4923638950546736125 33 202} {4142105863325230835 33 203} {8459059421282839101 33 204} {6447008546535837317 36 205} {3870100935161523402 36 206} {4624696687578409736 36 207}]
------------------------------------------------------
flag 12385 term 36 leader 1 nextIndex[0]: 208  matchIndex[0]: 207
term 36 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 36 leaderCommit: 207 
------------------------------------------------------
flag 10983 term 36 leader 1 nextIndex[2]: 208  matchIndex[2]: 207
term 36 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 36 leaderCommit: 207 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 33 199} {622441758221600850 33 200} {4790849821789855397 33 201} {4923638950546736125 33 202} {4142105863325230835 33 203} {8459059421282839101 33 204} {6447008546535837317 36 205} {3870100935161523402 36 206} {4624696687578409736 36 207}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=207
leader log:
[{snapshot 33 199} {622441758221600850 33 200} {4790849821789855397 33 201} {4923638950546736125 33 202} {4142105863325230835 33 203} {8459059421282839101 33 204} {6447008546535837317 36 205} {3870100935161523402 36 206} {4624696687578409736 36 207}]
------------------------------------------------------
flag 13678 term 36 leader 1 nextIndex[0]: 208  matchIndex[0]: 207
term 36 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 36 leaderCommit: 207 
------------------------------------------------------
flag 37614 term 36 leader 1 nextIndex[2]: 208  matchIndex[2]: 207
term 36 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 36 leaderCommit: 207 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 33 199} {622441758221600850 33 200} {4790849821789855397 33 201} {4923638950546736125 33 202} {4142105863325230835 33 203} {8459059421282839101 33 204} {6447008546535837317 36 205} {3870100935161523402 36 206} {4624696687578409736 36 207}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=207
leader log:
[{snapshot 33 199} {622441758221600850 33 200} {4790849821789855397 33 201} {4923638950546736125 33 202} {4142105863325230835 33 203} {8459059421282839101 33 204} {6447008546535837317 36 205} {3870100935161523402 36 206} {4624696687578409736 36 207}]
------------------------------------------------------
flag 91140 term 36 leader 1 nextIndex[0]: 208  matchIndex[0]: 207
term 36 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 36 leaderCommit: 207 
------------------------------------------------------
flag 24383 term 36 leader 1 nextIndex[2]: 208  matchIndex[2]: 207
term 36 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 36 leaderCommit: 207 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 33 199} {622441758221600850 33 200} {4790849821789855397 33 201} {4923638950546736125 33 202} {4142105863325230835 33 203} {8459059421282839101 33 204} {6447008546535837317 36 205} {3870100935161523402 36 206} {4624696687578409736 36 207}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=207
leader log:
[{snapshot 33 199} {622441758221600850 33 200} {4790849821789855397 33 201} {4923638950546736125 33 202} {4142105863325230835 33 203} {8459059421282839101 33 204} {6447008546535837317 36 205} {3870100935161523402 36 206} {4624696687578409736 36 207}]
------------------------------------------------------
flag 33982 term 36 leader 1 nextIndex[0]: 208  matchIndex[0]: 207
term 36 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 36 leaderCommit: 207 
------------------------------------------------------
flag 17528 term 36 leader 1 nextIndex[2]: 208  matchIndex[2]: 207
term 36 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 36 leaderCommit: 207 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=207
leader log:
[{snapshot 33 199} {622441758221600850 33 200} {4790849821789855397 33 201} {4923638950546736125 33 202} {4142105863325230835 33 203} {8459059421282839101 33 204} {6447008546535837317 36 205} {3870100935161523402 36 206} {4624696687578409736 36 207}]
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 33 199} {622441758221600850 33 200} {4790849821789855397 33 201} {4923638950546736125 33 202} {4142105863325230835 33 203} {8459059421282839101 33 204} {6447008546535837317 36 205} {3870100935161523402 36 206} {4624696687578409736 36 207}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 3263750387442515537 (index 208) to leader 1
term 36 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 65499 term 36 leader 1 nextIndex[0]: 208  matchIndex[0]: 207
term 36 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 36 leaderCommit: 207 
------------------------------------------------------
flag 25173 term 36 leader 1 nextIndex[2]: 208  matchIndex[2]: 207
term 36 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 36 leaderCommit: 207 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=208
leader log:
[{snapshot 33 199} {622441758221600850 33 200} {4790849821789855397 33 201} {4923638950546736125 33 202} {4142105863325230835 33 203} {8459059421282839101 33 204} {6447008546535837317 36 205} {3870100935161523402 36 206} {4624696687578409736 36 207} {3263750387442515537 36 208}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93471 term 36 leader 1 nextIndex[0]: 209  matchIndex[0]: 208
term 36 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 36 leaderCommit: 208 
------------------------------------------------------
flag 76079 term 36 leader 1 nextIndex[2]: 208  matchIndex[2]: 207
term 36 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 36 leaderCommit: 208 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=208
leader log:
[{snapshot 33 199} {622441758221600850 33 200} {4790849821789855397 33 201} {4923638950546736125 33 202} {4142105863325230835 33 203} {8459059421282839101 33 204} {6447008546535837317 36 205} {3870100935161523402 36 206} {4624696687578409736 36 207} {3263750387442515537 36 208}]
------------------------------------------------------
client write log 4651263809690321432 (index 209) to leader 1
client write log 752189791865343528 (index 210) to leader 1
client write log 50213176277739965 (index 211) to leader 1
client write log 6524149902680588091 (index 212) to leader 1
client write log 362042431027110147 (index 213) to leader 1
client write log 5553330700553839525 (index 214) to leader 1
flag 41377 term 36 leader 1 nextIndex[0]: 209  matchIndex[0]: 208
term 36 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 36 leaderCommit: 208 
------------------------------------------------------
flag 41511 term 36 leader 1 nextIndex[2]: 208  matchIndex[2]: 207
term 36 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 36 leaderCommit: 208 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=214
leader log:
[{snapshot 33 199} {622441758221600850 33 200} {4790849821789855397 33 201} {4923638950546736125 33 202} {4142105863325230835 33 203} {8459059421282839101 33 204} {6447008546535837317 36 205} {3870100935161523402 36 206} {4624696687578409736 36 207} {3263750387442515537 36 208} {4651263809690321432 36 209} {752189791865343528 36 210} {50213176277739965 36 211} {6524149902680588091 36 212} {362042431027110147 36 213} {5553330700553839525 36 214}]
------------------------------------------------------
term 36 Server1 start snapshot! index=209
term 36 server1 snapshot success
lastIncludedIndex=209 lastApplied=210 lastIndex=214
-------------------------------------------------------------
flag 85257 term 36 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 36 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 36 leaderCommit: 214 
------------------------------------------------------
term 36 leader 1 nextIndex[2]: 208  matchIndex[2]: 207
term 36 leader 1 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 36
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=214
leader log:
[{snapshot 36 209} {752189791865343528 36 210} {50213176277739965 36 211} {6524149902680588091 36 212} {362042431027110147 36 213} {5553330700553839525 36 214}]
------------------------------------------------------
term 36 Server0 start snapshot! index=209
term 36 server0 snapshot success
lastIncludedIndex=209 lastApplied=210 lastIndex=214
-------------------------------------------------------------
!!!!!!connect server 2
client write log 1840501208685743649 (index 215) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 36 server 1 not vote for server 2, 日志不够新
term 36 server 0 not vote for server 2, 日志不够新
term 38 server 2 vote for server 1
term 38 server 0 vote for server 1
term 38 server 1 get vote from server 2
term 38 server 1 become leader
------------------------------------------------------
term 38 server 1 get outdate rpc reply from server 0
term 38 server 2 not vote for server 1, 任期不够新
term 38 server 1 get outdate rpc reply from server 2
flag 50289 term 38 leader 1 nextIndex[0]: 216  matchIndex[0]: 0
term 38 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 214 
------------------------------------------------------
flag 84494 term 38 leader 1 nextIndex[2]: 216  matchIndex[2]: 0
term 38 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 214 
------------------------------------------------------
term 38 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 216->215
------------------------------------------------------
term 38 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 216->215
------------------------------------------------------
flag 15719 term 38 leader 1 nextIndex[0]: 215  matchIndex[0]: 0
term 38 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 36 leaderCommit: 214 
------------------------------------------------------
term 38 leader 1 nextIndex[2]: 208  matchIndex[2]: 0
term 38 leader 1 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 36
------------------------------------------------------
term 38 server 2 InstallSnapshot success
------------------------------------------------------
term 38 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 210 matchIndex[2] 209 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 209 rf.lastIncludedTerm 36 rf.commitIndex 209 rf.lastApplied 209
term 38 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=214
leader log:
[{snapshot 36 209} {752189791865343528 36 210} {50213176277739965 36 211} {6524149902680588091 36 212} {362042431027110147 36 213} {5553330700553839525 36 214} {1840501208685743649 36 215}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92018 term 38 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 38 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 214 
------------------------------------------------------
flag 26361 term 38 leader 1 nextIndex[2]: 210  matchIndex[2]: 209
term 38 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 36 leaderCommit: 214 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=214
leader log:
[{snapshot 36 209} {752189791865343528 36 210} {50213176277739965 36 211} {6524149902680588091 36 212} {362042431027110147 36 213} {5553330700553839525 36 214} {1840501208685743649 36 215}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
[{snapshot 36 209} {752189791865343528 36 210} {50213176277739965 36 211} {6524149902680588091 36 212} {362042431027110147 36 213} {5553330700553839525 36 214} {1840501208685743649 36 215}]
------------------------------------------------------
flag 12632 term 38 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 38 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 214 
------------------------------------------------------
flag 36007 term 38 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 38 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 214 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
[{snapshot 36 209} {752189791865343528 36 210} {50213176277739965 36 211} {6524149902680588091 36 212} {362042431027110147 36 213} {5553330700553839525 36 214} {1840501208685743649 36 215}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=214
leader log:
[{snapshot 36 209} {752189791865343528 36 210} {50213176277739965 36 211} {6524149902680588091 36 212} {362042431027110147 36 213} {5553330700553839525 36 214} {1840501208685743649 36 215}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75819 term 38 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 38 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 214 
------------------------------------------------------
flag 41980 term 38 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 38 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 214 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
[{snapshot 36 209} {752189791865343528 36 210} {50213176277739965 36 211} {6524149902680588091 36 212} {362042431027110147 36 213} {5553330700553839525 36 214} {1840501208685743649 36 215}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=214
leader log:
[{snapshot 36 209} {752189791865343528 36 210} {50213176277739965 36 211} {6524149902680588091 36 212} {362042431027110147 36 213} {5553330700553839525 36 214} {1840501208685743649 36 215}]
------------------------------------------------------
term 38 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 75537 term 38 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 38 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 214 
------------------------------------------------------
flag 86295 term 38 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 38 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 214 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
[{snapshot 36 209} {752189791865343528 36 210} {50213176277739965 36 211} {6524149902680588091 36 212} {362042431027110147 36 213} {5553330700553839525 36 214} {1840501208685743649 36 215}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=214
leader log:
[{snapshot 36 209} {752189791865343528 36 210} {50213176277739965 36 211} {6524149902680588091 36 212} {362042431027110147 36 213} {5553330700553839525 36 214} {1840501208685743649 36 215}]
------------------------------------------------------
flag 95441 term 38 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 38 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 214 
------------------------------------------------------
flag 98992 term 38 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 38 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 214 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
[{snapshot 36 209} {752189791865343528 36 210} {50213176277739965 36 211} {6524149902680588091 36 212} {362042431027110147 36 213} {5553330700553839525 36 214} {1840501208685743649 36 215}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=214
leader log:
[{snapshot 36 209} {752189791865343528 36 210} {50213176277739965 36 211} {6524149902680588091 36 212} {362042431027110147 36 213} {5553330700553839525 36 214} {1840501208685743649 36 215}]
------------------------------------------------------
flag 89826 term 38 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 38 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 214 
------------------------------------------------------
flag 71722 term 38 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 38 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 214 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
[{snapshot 36 209} {752189791865343528 36 210} {50213176277739965 36 211} {6524149902680588091 36 212} {362042431027110147 36 213} {5553330700553839525 36 214} {1840501208685743649 36 215}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=214
leader log:
[{snapshot 36 209} {752189791865343528 36 210} {50213176277739965 36 211} {6524149902680588091 36 212} {362042431027110147 36 213} {5553330700553839525 36 214} {1840501208685743649 36 215}]
------------------------------------------------------
flag 64771 term 38 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 38 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 214 
------------------------------------------------------
flag 31084 term 38 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 38 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 214 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
[{snapshot 36 209} {752189791865343528 36 210} {50213176277739965 36 211} {6524149902680588091 36 212} {362042431027110147 36 213} {5553330700553839525 36 214} {1840501208685743649 36 215}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=214
leader log:
[{snapshot 36 209} {752189791865343528 36 210} {50213176277739965 36 211} {6524149902680588091 36 212} {362042431027110147 36 213} {5553330700553839525 36 214} {1840501208685743649 36 215}]
------------------------------------------------------
flag 26442 term 38 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 38 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 214 
------------------------------------------------------
flag 87574 term 38 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 38 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 214 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=214
leader log:
[{snapshot 36 209} {752189791865343528 36 210} {50213176277739965 36 211} {6524149902680588091 36 212} {362042431027110147 36 213} {5553330700553839525 36 214} {1840501208685743649 36 215}]
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
[{snapshot 36 209} {752189791865343528 36 210} {50213176277739965 36 211} {6524149902680588091 36 212} {362042431027110147 36 213} {5553330700553839525 36 214} {1840501208685743649 36 215}]
------------------------------------------------------
flag 79699 term 38 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 38 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 214 
------------------------------------------------------
flag 67170 term 38 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 38 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 214 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
[{snapshot 36 209} {752189791865343528 36 210} {50213176277739965 36 211} {6524149902680588091 36 212} {362042431027110147 36 213} {5553330700553839525 36 214} {1840501208685743649 36 215}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=214
leader log:
[{snapshot 36 209} {752189791865343528 36 210} {50213176277739965 36 211} {6524149902680588091 36 212} {362042431027110147 36 213} {5553330700553839525 36 214} {1840501208685743649 36 215}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43630 term 38 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 38 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 214 
------------------------------------------------------
flag 66600 term 38 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 38 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 214 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
[{snapshot 36 209} {752189791865343528 36 210} {50213176277739965 36 211} {6524149902680588091 36 212} {362042431027110147 36 213} {5553330700553839525 36 214} {1840501208685743649 36 215}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=214
leader log:
[{snapshot 36 209} {752189791865343528 36 210} {50213176277739965 36 211} {6524149902680588091 36 212} {362042431027110147 36 213} {5553330700553839525 36 214} {1840501208685743649 36 215}]
------------------------------------------------------
flag 48214 term 38 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 38 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 214 
------------------------------------------------------
flag 74095 term 38 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 38 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 214 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
[{snapshot 36 209} {752189791865343528 36 210} {50213176277739965 36 211} {6524149902680588091 36 212} {362042431027110147 36 213} {5553330700553839525 36 214} {1840501208685743649 36 215}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=214
leader log:
[{snapshot 36 209} {752189791865343528 36 210} {50213176277739965 36 211} {6524149902680588091 36 212} {362042431027110147 36 213} {5553330700553839525 36 214} {1840501208685743649 36 215}]
------------------------------------------------------
flag 49977 term 38 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 38 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 214 
------------------------------------------------------
flag 74052 term 38 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 38 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 214 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
term 38 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
[{snapshot 36 209} {752189791865343528 36 210} {50213176277739965 36 211} {6524149902680588091 36 212} {362042431027110147 36 213} {5553330700553839525 36 214} {1840501208685743649 36 215}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=214
leader log:
[{snapshot 36 209} {752189791865343528 36 210} {50213176277739965 36 211} {6524149902680588091 36 212} {362042431027110147 36 213} {5553330700553839525 36 214} {1840501208685743649 36 215}]
------------------------------------------------------
flag 16543 term 38 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 38 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 214 
------------------------------------------------------
flag 44299 term 38 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 38 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 214 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
[{snapshot 36 209} {752189791865343528 36 210} {50213176277739965 36 211} {6524149902680588091 36 212} {362042431027110147 36 213} {5553330700553839525 36 214} {1840501208685743649 36 215}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=214
leader log:
[{snapshot 36 209} {752189791865343528 36 210} {50213176277739965 36 211} {6524149902680588091 36 212} {362042431027110147 36 213} {5553330700553839525 36 214} {1840501208685743649 36 215}]
------------------------------------------------------
term 38 server 2 not vote for server 0, 任期不够新
term 38 server 0 get outdate rpc reply from server 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 194 term 38 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 38 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 214 
------------------------------------------------------
flag 52133 term 38 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 38 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 214 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
[{snapshot 36 209} {752189791865343528 36 210} {50213176277739965 36 211} {6524149902680588091 36 212} {362042431027110147 36 213} {5553330700553839525 36 214} {1840501208685743649 36 215}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=214
leader log:
[{snapshot 36 209} {752189791865343528 36 210} {50213176277739965 36 211} {6524149902680588091 36 212} {362042431027110147 36 213} {5553330700553839525 36 214} {1840501208685743649 36 215}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92450 term 38 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 38 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 214 
------------------------------------------------------
flag 26215 term 38 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 38 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 214 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
[{snapshot 36 209} {752189791865343528 36 210} {50213176277739965 36 211} {6524149902680588091 36 212} {362042431027110147 36 213} {5553330700553839525 36 214} {1840501208685743649 36 215}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=214
leader log:
[{snapshot 36 209} {752189791865343528 36 210} {50213176277739965 36 211} {6524149902680588091 36 212} {362042431027110147 36 213} {5553330700553839525 36 214} {1840501208685743649 36 215}]
------------------------------------------------------
flag 34067 term 38 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 38 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 214 
------------------------------------------------------
flag 88476 term 38 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 38 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 214 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
[{snapshot 36 209} {752189791865343528 36 210} {50213176277739965 36 211} {6524149902680588091 36 212} {362042431027110147 36 213} {5553330700553839525 36 214} {1840501208685743649 36 215}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=214
leader log:
[{snapshot 36 209} {752189791865343528 36 210} {50213176277739965 36 211} {6524149902680588091 36 212} {362042431027110147 36 213} {5553330700553839525 36 214} {1840501208685743649 36 215}]
------------------------------------------------------
flag 66691 term 38 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 38 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 214 
------------------------------------------------------
flag 68795 term 38 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 38 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 214 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
[{snapshot 36 209} {752189791865343528 36 210} {50213176277739965 36 211} {6524149902680588091 36 212} {362042431027110147 36 213} {5553330700553839525 36 214} {1840501208685743649 36 215}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=214
leader log:
[{snapshot 36 209} {752189791865343528 36 210} {50213176277739965 36 211} {6524149902680588091 36 212} {362042431027110147 36 213} {5553330700553839525 36 214} {1840501208685743649 36 215}]
------------------------------------------------------
flag 75941 term 38 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 38 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 214 
------------------------------------------------------
flag 46072 term 38 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 38 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 214 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
[{snapshot 36 209} {752189791865343528 36 210} {50213176277739965 36 211} {6524149902680588091 36 212} {362042431027110147 36 213} {5553330700553839525 36 214} {1840501208685743649 36 215}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=214
leader log:
[{snapshot 36 209} {752189791865343528 36 210} {50213176277739965 36 211} {6524149902680588091 36 212} {362042431027110147 36 213} {5553330700553839525 36 214} {1840501208685743649 36 215}]
------------------------------------------------------
client write log 1840501208685743649 (index 216) to leader 1
flag 12380 term 38 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 38 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 214 
------------------------------------------------------
flag 5294 term 38 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 38 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 214 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=216
leader log:
[{snapshot 36 209} {752189791865343528 36 210} {50213176277739965 36 211} {6524149902680588091 36 212} {362042431027110147 36 213} {5553330700553839525 36 214} {1840501208685743649 36 215} {1840501208685743649 38 216}]
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=216
leader log:
[{snapshot 36 209} {752189791865343528 36 210} {50213176277739965 36 211} {6524149902680588091 36 212} {362042431027110147 36 213} {5553330700553839525 36 214} {1840501208685743649 36 215} {1840501208685743649 38 216}]
------------------------------------------------------
term 38 server 1 not vote for server 0, 任期不够新
term 38 server 0 get outdate rpc reply from server 1
flag 9930 term 38 leader 1 nextIndex[0]: 217  matchIndex[0]: 216
term 38 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 38 leaderCommit: 216 
------------------------------------------------------
flag 84241 term 38 leader 1 nextIndex[2]: 217  matchIndex[2]: 216
term 38 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 38 leaderCommit: 216 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=216
leader log:
[{snapshot 36 209} {752189791865343528 36 210} {50213176277739965 36 211} {6524149902680588091 36 212} {362042431027110147 36 213} {5553330700553839525 36 214} {1840501208685743649 36 215} {1840501208685743649 38 216}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=216
leader log:
[{snapshot 36 209} {752189791865343528 36 210} {50213176277739965 36 211} {6524149902680588091 36 212} {362042431027110147 36 213} {5553330700553839525 36 214} {1840501208685743649 36 215} {1840501208685743649 38 216}]
------------------------------------------------------
flag 28562 term 38 leader 1 nextIndex[0]: 217  matchIndex[0]: 216
term 38 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 38 leaderCommit: 216 
------------------------------------------------------
flag 59762 term 38 leader 1 nextIndex[2]: 217  matchIndex[2]: 216
term 38 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 38 leaderCommit: 216 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=216
leader log:
[{snapshot 36 209} {752189791865343528 36 210} {50213176277739965 36 211} {6524149902680588091 36 212} {362042431027110147 36 213} {5553330700553839525 36 214} {1840501208685743649 36 215} {1840501208685743649 38 216}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=216
leader log:
[{snapshot 36 209} {752189791865343528 36 210} {50213176277739965 36 211} {6524149902680588091 36 212} {362042431027110147 36 213} {5553330700553839525 36 214} {1840501208685743649 36 215} {1840501208685743649 38 216}]
------------------------------------------------------
flag 1723 term 38 leader 1 nextIndex[0]: 217  matchIndex[0]: 216
term 38 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 38 leaderCommit: 216 
------------------------------------------------------
flag 60252 term 38 leader 1 nextIndex[2]: 217  matchIndex[2]: 216
term 38 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 38 leaderCommit: 216 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=216
leader log:
[{snapshot 36 209} {752189791865343528 36 210} {50213176277739965 36 211} {6524149902680588091 36 212} {362042431027110147 36 213} {5553330700553839525 36 214} {1840501208685743649 36 215} {1840501208685743649 38 216}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=216
leader log:
[{snapshot 36 209} {752189791865343528 36 210} {50213176277739965 36 211} {6524149902680588091 36 212} {362042431027110147 36 213} {5553330700553839525 36 214} {1840501208685743649 36 215} {1840501208685743649 38 216}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52570 term 38 leader 1 nextIndex[0]: 217  matchIndex[0]: 216
term 38 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 38 leaderCommit: 216 
------------------------------------------------------
flag 78403 term 38 leader 1 nextIndex[2]: 217  matchIndex[2]: 216
term 38 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 38 leaderCommit: 216 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=216
leader log:
[{snapshot 36 209} {752189791865343528 36 210} {50213176277739965 36 211} {6524149902680588091 36 212} {362042431027110147 36 213} {5553330700553839525 36 214} {1840501208685743649 36 215} {1840501208685743649 38 216}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=216
leader log:
[{snapshot 36 209} {752189791865343528 36 210} {50213176277739965 36 211} {6524149902680588091 36 212} {362042431027110147 36 213} {5553330700553839525 36 214} {1840501208685743649 36 215} {1840501208685743649 38 216}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80676 term 38 leader 1 nextIndex[0]: 217  matchIndex[0]: 216
term 38 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 38 leaderCommit: 216 
------------------------------------------------------
flag 52919 term 38 leader 1 nextIndex[2]: 217  matchIndex[2]: 216
term 38 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 38 leaderCommit: 216 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=216
leader log:
[{snapshot 36 209} {752189791865343528 36 210} {50213176277739965 36 211} {6524149902680588091 36 212} {362042431027110147 36 213} {5553330700553839525 36 214} {1840501208685743649 36 215} {1840501208685743649 38 216}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=216
leader log:
[{snapshot 36 209} {752189791865343528 36 210} {50213176277739965 36 211} {6524149902680588091 36 212} {362042431027110147 36 213} {5553330700553839525 36 214} {1840501208685743649 36 215} {1840501208685743649 38 216}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 2
client write log 6778258236568876945 (index 217) to leader 1
flag 52399 term 38 leader 1 nextIndex[0]: 217  matchIndex[0]: 216
term 38 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 38 leaderCommit: 216 
------------------------------------------------------
flag 42597 term 38 leader 1 nextIndex[2]: 217  matchIndex[2]: 216
term 38 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 38 leaderCommit: 216 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=217
leader log:
[{snapshot 36 209} {752189791865343528 36 210} {50213176277739965 36 211} {6524149902680588091 36 212} {362042431027110147 36 213} {5553330700553839525 36 214} {1840501208685743649 36 215} {1840501208685743649 38 216} {6778258236568876945 38 217}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63311 term 38 leader 1 nextIndex[0]: 218  matchIndex[0]: 217
term 38 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 38 leaderCommit: 217 
------------------------------------------------------
flag 59004 term 38 leader 1 nextIndex[2]: 217  matchIndex[2]: 216
term 38 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 38 leaderCommit: 217 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=217
leader log:
[{snapshot 36 209} {752189791865343528 36 210} {50213176277739965 36 211} {6524149902680588091 36 212} {362042431027110147 36 213} {5553330700553839525 36 214} {1840501208685743649 36 215} {1840501208685743649 38 216} {6778258236568876945 38 217}]
------------------------------------------------------
client write log 3842603334113822953 (index 218) to leader 1
client write log 7930875623483270777 (index 219) to leader 1
client write log 6783198831973481548 (index 220) to leader 1
client write log 924523053273595654 (index 221) to leader 1
client write log 3646089708873913338 (index 222) to leader 1
client write log 553540805043392178 (index 223) to leader 1
client write log 4186459925970011461 (index 224) to leader 1
client write log 7528907928572926859 (index 225) to leader 1
client write log 2796100642057489366 (index 226) to leader 1
client write log 4080357310540514549 (index 227) to leader 1
client write log 1562541103522552450 (index 228) to leader 1
client write log 2892349765825975056 (index 229) to leader 1
client write log 6734333078471820107 (index 230) to leader 1
client write log 7180196926553800750 (index 231) to leader 1
client write log 1272147334480621175 (index 232) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97492 term 38 leader 1 nextIndex[0]: 218  matchIndex[0]: 217
term 38 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 38 leaderCommit: 217 
------------------------------------------------------
flag 30348 term 38 leader 1 nextIndex[2]: 217  matchIndex[2]: 216
term 38 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 38 leaderCommit: 217 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=232
leader log:
[{snapshot 36 209} {752189791865343528 36 210} {50213176277739965 36 211} {6524149902680588091 36 212} {362042431027110147 36 213} {5553330700553839525 36 214} {1840501208685743649 36 215} {1840501208685743649 38 216} {6778258236568876945 38 217} {3842603334113822953 38 218} {7930875623483270777 38 219} {6783198831973481548 38 220} {924523053273595654 38 221} {3646089708873913338 38 222} {553540805043392178 38 223} {4186459925970011461 38 224} {7528907928572926859 38 225} {2796100642057489366 38 226} {4080357310540514549 38 227} {1562541103522552450 38 228} {2892349765825975056 38 229} {6734333078471820107 38 230} {7180196926553800750 38 231} {1272147334480621175 38 232}]
------------------------------------------------------
term 38 Server1 start snapshot! index=219
term 38 server1 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=232
-------------------------------------------------------------
term 38 Server1 start snapshot! index=229
term 38 server1 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=232
-------------------------------------------------------------
flag 40878 term 38 leader 1 nextIndex[0]: 233  matchIndex[0]: 232
term 38 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 38 leaderCommit: 232 
------------------------------------------------------
term 38 leader 1 nextIndex[2]: 217  matchIndex[2]: 216
term 38 leader 1 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 38
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=232
leader log:
[{snapshot 38 229} {6734333078471820107 38 230} {7180196926553800750 38 231} {1272147334480621175 38 232}]
------------------------------------------------------
term 38 Server0 start snapshot! index=219
term 38 server0 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=232
-------------------------------------------------------------
term 38 Server0 start snapshot! index=229
term 38 server0 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=232
-------------------------------------------------------------
!!!!!!connect server 2
client write log 504867580415008304 (index 233) to leader 1
term 38 server 1 not vote for server 2, 日志不够新
term 38 server 0 not vote for server 2, 日志不够新
term 40 server 0 vote for server 1
term 40 server 1 get vote from server 0
term 40 server 1 become leader
------------------------------------------------------
term 40 server 2 vote for server 1
term 40 server 1 get outdate rpc reply from server 2
flag 36041 term 40 leader 1 nextIndex[0]: 234  matchIndex[0]: 0
term 40 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 38 leaderCommit: 232 
------------------------------------------------------
flag 48664 term 40 leader 1 nextIndex[2]: 234  matchIndex[2]: 0
term 40 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 38 leaderCommit: 232 
------------------------------------------------------
term 40 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 234->233
------------------------------------------------------
term 40 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 234->233
------------------------------------------------------
term 40 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 54015 term 40 leader 1 nextIndex[0]: 233  matchIndex[0]: 0
term 40 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 38 leaderCommit: 232 
------------------------------------------------------
term 40 leader 1 nextIndex[2]: 217  matchIndex[2]: 0
term 40 leader 1 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 38
------------------------------------------------------
term 40 server 2 InstallSnapshot success
------------------------------------------------------
term 40 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 230 matchIndex[2] 229 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 229 rf.lastIncludedTerm 38 rf.commitIndex 229 rf.lastApplied 229
term 40 server 0 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=232
leader log:
[{snapshot 38 229} {6734333078471820107 38 230} {7180196926553800750 38 231} {1272147334480621175 38 232} {504867580415008304 38 233}]
------------------------------------------------------
flag 89907 term 40 leader 1 nextIndex[0]: 234  matchIndex[0]: 233
term 40 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 38 leaderCommit: 232 
------------------------------------------------------
flag 42754 term 40 leader 1 nextIndex[2]: 230  matchIndex[2]: 229
term 40 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 38 leaderCommit: 232 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=232
leader log:
[{snapshot 38 229} {6734333078471820107 38 230} {7180196926553800750 38 231} {1272147334480621175 38 232} {504867580415008304 38 233}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=232
leader log:
[{snapshot 38 229} {6734333078471820107 38 230} {7180196926553800750 38 231} {1272147334480621175 38 232} {504867580415008304 38 233}]
------------------------------------------------------
flag 57667 term 40 leader 1 nextIndex[0]: 234  matchIndex[0]: 233
term 40 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 38 leaderCommit: 232 
------------------------------------------------------
flag 56545 term 40 leader 1 nextIndex[2]: 234  matchIndex[2]: 233
term 40 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 38 leaderCommit: 232 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
term 40 server 0 AppendEntries true commitIndex:232 
------------------------------------------------------
update matchIndex[2]=233
update leader CommitIndex=232
leader log:
[{snapshot 38 229} {6734333078471820107 38 230} {7180196926553800750 38 231} {1272147334480621175 38 232} {504867580415008304 38 233}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=232
leader log:
[{snapshot 38 229} {6734333078471820107 38 230} {7180196926553800750 38 231} {1272147334480621175 38 232} {504867580415008304 38 233}]
------------------------------------------------------
flag 7727 term 40 leader 1 nextIndex[0]: 234  matchIndex[0]: 233
term 40 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 38 leaderCommit: 232 
------------------------------------------------------
flag 78413 term 40 leader 1 nextIndex[2]: 234  matchIndex[2]: 233
term 40 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 38 leaderCommit: 232 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=232
leader log:
[{snapshot 38 229} {6734333078471820107 38 230} {7180196926553800750 38 231} {1272147334480621175 38 232} {504867580415008304 38 233}]
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=232
leader log:
[{snapshot 38 229} {6734333078471820107 38 230} {7180196926553800750 38 231} {1272147334480621175 38 232} {504867580415008304 38 233}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59399 term 40 leader 1 nextIndex[0]: 234  matchIndex[0]: 233
term 40 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 38 leaderCommit: 232 
------------------------------------------------------
flag 42871 term 40 leader 1 nextIndex[2]: 234  matchIndex[2]: 233
term 40 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 38 leaderCommit: 232 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=232
term 40 server 0 AppendEntries true commitIndex:232 
------------------------------------------------------
leader log:
[{snapshot 38 229} {6734333078471820107 38 230} {7180196926553800750 38 231} {1272147334480621175 38 232} {504867580415008304 38 233}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=232
leader log:
[{snapshot 38 229} {6734333078471820107 38 230} {7180196926553800750 38 231} {1272147334480621175 38 232} {504867580415008304 38 233}]
------------------------------------------------------
flag 61003 term 40 leader 1 nextIndex[0]: 234  matchIndex[0]: 233
term 40 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 38 leaderCommit: 232 
------------------------------------------------------
flag 82788 term 40 leader 1 nextIndex[2]: 234  matchIndex[2]: 233
term 40 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 38 leaderCommit: 232 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=232
leader log:
[{snapshot 38 229} {6734333078471820107 38 230} {7180196926553800750 38 231} {1272147334480621175 38 232} {504867580415008304 38 233}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=232
leader log:
[{snapshot 38 229} {6734333078471820107 38 230} {7180196926553800750 38 231} {1272147334480621175 38 232} {504867580415008304 38 233}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20765 term 40 leader 1 nextIndex[0]: 234  matchIndex[0]: 233
term 40 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 38 leaderCommit: 232 
------------------------------------------------------
flag 3223 term 40 leader 1 nextIndex[2]: 234  matchIndex[2]: 233
term 40 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 38 leaderCommit: 232 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=232
leader log:
[{snapshot 38 229} {6734333078471820107 38 230} {7180196926553800750 38 231} {1272147334480621175 38 232} {504867580415008304 38 233}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=232
leader log:
[{snapshot 38 229} {6734333078471820107 38 230} {7180196926553800750 38 231} {1272147334480621175 38 232} {504867580415008304 38 233}]
------------------------------------------------------
flag 49654 term 40 leader 1 nextIndex[0]: 234  matchIndex[0]: 233
term 40 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 38 leaderCommit: 232 
------------------------------------------------------
flag 22285 term 40 leader 1 nextIndex[2]: 234  matchIndex[2]: 233
term 40 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 38 leaderCommit: 232 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=232
leader log:
[{snapshot 38 229} {6734333078471820107 38 230} {7180196926553800750 38 231} {1272147334480621175 38 232} {504867580415008304 38 233}]
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=232
leader log:
[{snapshot 38 229} {6734333078471820107 38 230} {7180196926553800750 38 231} {1272147334480621175 38 232} {504867580415008304 38 233}]
------------------------------------------------------
flag 39448 term 40 leader 1 nextIndex[0]: 234  matchIndex[0]: 233
term 40 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 38 leaderCommit: 232 
------------------------------------------------------
flag 88195 term 40 leader 1 nextIndex[2]: 234  matchIndex[2]: 233
term 40 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 38 leaderCommit: 232 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:232 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=232
leader log:
[{snapshot 38 229} {6734333078471820107 38 230} {7180196926553800750 38 231} {1272147334480621175 38 232} {504867580415008304 38 233}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=232
leader log:
[{snapshot 38 229} {6734333078471820107 38 230} {7180196926553800750 38 231} {1272147334480621175 38 232} {504867580415008304 38 233}]
------------------------------------------------------
flag 87189 term 40 leader 1 nextIndex[0]: 234  matchIndex[0]: 233
term 40 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 38 leaderCommit: 232 
------------------------------------------------------
flag 62248 term 40 leader 1 nextIndex[2]: 234  matchIndex[2]: 233
term 40 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 38 leaderCommit: 232 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=232
leader log:
[{snapshot 38 229} {6734333078471820107 38 230} {7180196926553800750 38 231} {1272147334480621175 38 232} {504867580415008304 38 233}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=232
leader log:
[{snapshot 38 229} {6734333078471820107 38 230} {7180196926553800750 38 231} {1272147334480621175 38 232} {504867580415008304 38 233}]
------------------------------------------------------
flag 76571 term 40 leader 1 nextIndex[0]: 234  matchIndex[0]: 233
term 40 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 38 leaderCommit: 232 
------------------------------------------------------
flag 71428 term 40 leader 1 nextIndex[2]: 234  matchIndex[2]: 233
term 40 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 38 leaderCommit: 232 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=232
leader log:
[{snapshot 38 229} {6734333078471820107 38 230} {7180196926553800750 38 231} {1272147334480621175 38 232} {504867580415008304 38 233}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=232
leader log:
[{snapshot 38 229} {6734333078471820107 38 230} {7180196926553800750 38 231} {1272147334480621175 38 232} {504867580415008304 38 233}]
------------------------------------------------------
flag 51143 term 40 leader 1 nextIndex[0]: 234  matchIndex[0]: 233
term 40 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 38 leaderCommit: 232 
------------------------------------------------------
flag 44048 term 40 leader 1 nextIndex[2]: 234  matchIndex[2]: 233
term 40 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 38 leaderCommit: 232 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:232 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=232
leader log:
[{snapshot 38 229} {6734333078471820107 38 230} {7180196926553800750 38 231} {1272147334480621175 38 232} {504867580415008304 38 233}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=232
leader log:
[{snapshot 38 229} {6734333078471820107 38 230} {7180196926553800750 38 231} {1272147334480621175 38 232} {504867580415008304 38 233}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67420 term 40 leader 1 nextIndex[0]: 234  matchIndex[0]: 233
term 40 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 38 leaderCommit: 232 
------------------------------------------------------
flag 87000 term 40 leader 1 nextIndex[2]: 234  matchIndex[2]: 233
term 40 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 38 leaderCommit: 232 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=232
leader log:
[{snapshot 38 229} {6734333078471820107 38 230} {7180196926553800750 38 231} {1272147334480621175 38 232} {504867580415008304 38 233}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=232
leader log:
[{snapshot 38 229} {6734333078471820107 38 230} {7180196926553800750 38 231} {1272147334480621175 38 232} {504867580415008304 38 233}]
------------------------------------------------------
flag 78099 term 40 leader 1 nextIndex[0]: 234  matchIndex[0]: 233
term 40 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 38 leaderCommit: 232 
------------------------------------------------------
flag 1946 term 40 leader 1 nextIndex[2]: 234  matchIndex[2]: 233
term 40 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 38 leaderCommit: 232 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=232
leader log:
[{snapshot 38 229} {6734333078471820107 38 230} {7180196926553800750 38 231} {1272147334480621175 38 232} {504867580415008304 38 233}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=232
leader log:
[{snapshot 38 229} {6734333078471820107 38 230} {7180196926553800750 38 231} {1272147334480621175 38 232} {504867580415008304 38 233}]
------------------------------------------------------
term 40 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 81187 term 40 leader 1 nextIndex[0]: 234  matchIndex[0]: 233
term 40 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 38 leaderCommit: 232 
------------------------------------------------------
flag 52897 term 40 leader 1 nextIndex[2]: 234  matchIndex[2]: 233
term 40 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 38 leaderCommit: 232 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=232
leader log:
[{snapshot 38 229} {6734333078471820107 38 230} {7180196926553800750 38 231} {1272147334480621175 38 232} {504867580415008304 38 233}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=232
leader log:
[{snapshot 38 229} {6734333078471820107 38 230} {7180196926553800750 38 231} {1272147334480621175 38 232} {504867580415008304 38 233}]
------------------------------------------------------
flag 30387 term 40 leader 1 nextIndex[0]: 234  matchIndex[0]: 233
term 40 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 38 leaderCommit: 232 
------------------------------------------------------
flag 14686 term 40 leader 1 nextIndex[2]: 234  matchIndex[2]: 233
term 40 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 38 leaderCommit: 232 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=232
leader log:
[{snapshot 38 229} {6734333078471820107 38 230} {7180196926553800750 38 231} {1272147334480621175 38 232} {504867580415008304 38 233}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=232
leader log:
[{snapshot 38 229} {6734333078471820107 38 230} {7180196926553800750 38 231} {1272147334480621175 38 232} {504867580415008304 38 233}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27523 term 40 leader 1 nextIndex[0]: 234  matchIndex[0]: 233
term 40 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 38 leaderCommit: 232 
------------------------------------------------------
flag 52138 term 40 leader 1 nextIndex[2]: 234  matchIndex[2]: 233
term 40 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 38 leaderCommit: 232 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=232
leader log:
[{snapshot 38 229} {6734333078471820107 38 230} {7180196926553800750 38 231} {1272147334480621175 38 232} {504867580415008304 38 233}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=232
leader log:
[{snapshot 38 229} {6734333078471820107 38 230} {7180196926553800750 38 231} {1272147334480621175 38 232} {504867580415008304 38 233}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72697 term 40 leader 1 nextIndex[0]: 234  matchIndex[0]: 233
term 40 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 38 leaderCommit: 232 
------------------------------------------------------
flag 14269 term 40 leader 1 nextIndex[2]: 234  matchIndex[2]: 233
term 40 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 38 leaderCommit: 232 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=232
leader log:
[{snapshot 38 229} {6734333078471820107 38 230} {7180196926553800750 38 231} {1272147334480621175 38 232} {504867580415008304 38 233}]
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=232
leader log:
[{snapshot 38 229} {6734333078471820107 38 230} {7180196926553800750 38 231} {1272147334480621175 38 232} {504867580415008304 38 233}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 504867580415008304 (index 234) to leader 1
flag 18156 term 40 leader 1 nextIndex[0]: 234  matchIndex[0]: 233
term 40 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 38 leaderCommit: 232 
------------------------------------------------------
flag 57186 term 40 leader 1 nextIndex[2]: 234  matchIndex[2]: 233
term 40 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 38 leaderCommit: 232 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=235
update matchIndex[2]=234
update leader CommitIndex=234
leader log:
[{snapshot 38 229} {6734333078471820107 38 230} {7180196926553800750 38 231} {1272147334480621175 38 232} {504867580415008304 38 233} {504867580415008304 40 234}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=234
leader log:
[{snapshot 38 229} {6734333078471820107 38 230} {7180196926553800750 38 231} {1272147334480621175 38 232} {504867580415008304 38 233} {504867580415008304 40 234}]
------------------------------------------------------
flag 72784 term 40 leader 1 nextIndex[0]: 235  matchIndex[0]: 234
term 40 leader 1 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 40 leaderCommit: 234 
------------------------------------------------------
flag 49954 term 40 leader 1 nextIndex[2]: 235  matchIndex[2]: 234
term 40 leader 1 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 40 leaderCommit: 234 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=235
update matchIndex[2]=234
update leader CommitIndex=234
leader log:
[{snapshot 38 229} {6734333078471820107 38 230} {7180196926553800750 38 231} {1272147334480621175 38 232} {504867580415008304 38 233} {504867580415008304 40 234}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=234
leader log:
[{snapshot 38 229} {6734333078471820107 38 230} {7180196926553800750 38 231} {1272147334480621175 38 232} {504867580415008304 38 233} {504867580415008304 40 234}]
------------------------------------------------------
flag 26393 term 40 leader 1 nextIndex[0]: 235  matchIndex[0]: 234
term 40 leader 1 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 40 leaderCommit: 234 
------------------------------------------------------
flag 51410 term 40 leader 1 nextIndex[2]: 235  matchIndex[2]: 234
term 40 leader 1 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 40 leaderCommit: 234 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=235
update matchIndex[2]=234
update leader CommitIndex=234
leader log:
[{snapshot 38 229} {6734333078471820107 38 230} {7180196926553800750 38 231} {1272147334480621175 38 232} {504867580415008304 38 233} {504867580415008304 40 234}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=234
leader log:
[{snapshot 38 229} {6734333078471820107 38 230} {7180196926553800750 38 231} {1272147334480621175 38 232} {504867580415008304 38 233} {504867580415008304 40 234}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 40 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 72555 term 40 leader 1 nextIndex[0]: 235  matchIndex[0]: 234
term 40 leader 1 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 40 leaderCommit: 234 
------------------------------------------------------
flag 78825 term 40 leader 1 nextIndex[2]: 235  matchIndex[2]: 234
term 40 leader 1 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 40 leaderCommit: 234 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=235
update matchIndex[2]=234
update leader CommitIndex=234
leader log:
[{snapshot 38 229} {6734333078471820107 38 230} {7180196926553800750 38 231} {1272147334480621175 38 232} {504867580415008304 38 233} {504867580415008304 40 234}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=234
leader log:
[{snapshot 38 229} {6734333078471820107 38 230} {7180196926553800750 38 231} {1272147334480621175 38 232} {504867580415008304 38 233} {504867580415008304 40 234}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29638 term 40 leader 1 nextIndex[0]: 235  matchIndex[0]: 234
term 40 leader 1 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 40 leaderCommit: 234 
------------------------------------------------------
flag 20196 term 40 leader 1 nextIndex[2]: 235  matchIndex[2]: 234
term 40 leader 1 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 40 leaderCommit: 234 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=235
update matchIndex[2]=234
update leader CommitIndex=234
leader log:
[{snapshot 38 229} {6734333078471820107 38 230} {7180196926553800750 38 231} {1272147334480621175 38 232} {504867580415008304 38 233} {504867580415008304 40 234}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=234
leader log:
[{snapshot 38 229} {6734333078471820107 38 230} {7180196926553800750 38 231} {1272147334480621175 38 232} {504867580415008304 38 233} {504867580415008304 40 234}]
------------------------------------------------------
flag 63691 term 40 leader 1 nextIndex[0]: 235  matchIndex[0]: 234
term 40 leader 1 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 40 leaderCommit: 234 
------------------------------------------------------
flag 68482 term 40 leader 1 nextIndex[2]: 235  matchIndex[2]: 234
term 40 leader 1 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 40 leaderCommit: 234 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=235
update matchIndex[2]=234
update leader CommitIndex=234
leader log:
[{snapshot 38 229} {6734333078471820107 38 230} {7180196926553800750 38 231} {1272147334480621175 38 232} {504867580415008304 38 233} {504867580415008304 40 234}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=234
leader log:
[{snapshot 38 229} {6734333078471820107 38 230} {7180196926553800750 38 231} {1272147334480621175 38 232} {504867580415008304 38 233} {504867580415008304 40 234}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 35143 term 40 leader 1 nextIndex[0]: 235  matchIndex[0]: 234
term 40 leader 1 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 40 leaderCommit: 234 
------------------------------------------------------
flag 47287 term 40 leader 1 nextIndex[2]: 235  matchIndex[2]: 234
term 40 leader 1 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 40 leaderCommit: 234 
------------------------------------------------------
flag 38523 term 40 leader 1 nextIndex[0]: 235  matchIndex[0]: 234
term 40 leader 1 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 40 leaderCommit: 234 
------------------------------------------------------
flag 81687 term 40 leader 1 nextIndex[2]: 235  matchIndex[2]: 234
term 40 leader 1 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 40 leaderCommit: 234 
------------------------------------------------------
flag 49132 term 40 leader 1 nextIndex[0]: 235  matchIndex[0]: 234
term 40 leader 1 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 40 leaderCommit: 234 
------------------------------------------------------
flag 20814 term 40 leader 1 nextIndex[2]: 235  matchIndex[2]: 234
term 40 leader 1 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 40 leaderCommit: 234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 235->234
------------------------------------------------------
term 40 leader 1 nextIndex[0]: 0  matchIndex[0]: 234
term 40 leader 1 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 38
------------------------------------------------------
flag 56910 term 40 leader 1 nextIndex[2]: 235  matchIndex[2]: 234
term 40 leader 1 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 40 leaderCommit: 234 
------------------------------------------------------
term 41 server 2 not vote for server 0, 投给了其他人
term 41 server 0 not vote for server 2, 投给了其他人
term 40 leader 1 nextIndex[0]: 0  matchIndex[0]: 234
term 40 leader 1 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 38
------------------------------------------------------
flag 69478 term 40 leader 1 nextIndex[2]: 235  matchIndex[2]: 234
term 40 leader 1 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 40 leaderCommit: 234 
------------------------------------------------------
term 40 leader 1 nextIndex[0]: 0  matchIndex[0]: 234
term 40 leader 1 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 38
------------------------------------------------------
flag 86229 term 40 leader 1 nextIndex[2]: 235  matchIndex[2]: 234
term 40 leader 1 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 40 leaderCommit: 234 
------------------------------------------------------
term 40 leader 1 nextIndex[0]: 0  matchIndex[0]: 234
term 40 leader 1 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 38
------------------------------------------------------
flag 86855 term 40 leader 1 nextIndex[2]: 235  matchIndex[2]: 234
term 40 leader 1 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 40 leaderCommit: 234 
------------------------------------------------------
term 40 leader 1 nextIndex[0]: 0  matchIndex[0]: 234
term 40 leader 1 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 38
------------------------------------------------------
flag 72512 term 40 leader 1 nextIndex[2]: 235  matchIndex[2]: 234
term 40 leader 1 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 40 leaderCommit: 234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 235->234
------------------------------------------------------
term 42 server 0 vote for server 2
term 42 server 2 get vote from server 0
term 42 server 2 become leader
------------------------------------------------------
flag 82108 term 42 leader 2 nextIndex[0]: 235  matchIndex[0]: 0
term 42 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 40 leaderCommit: 234 
------------------------------------------------------
flag 9127 term 42 leader 2 nextIndex[1]: 235  matchIndex[1]: 0
term 42 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 40 leaderCommit: 234 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=234
leader log:
[{snapshot 38 229} {6734333078471820107 38 230} {7180196926553800750 38 231} {1272147334480621175 38 232} {504867580415008304 38 233} {504867580415008304 40 234}]
------------------------------------------------------
client write log 8955770436180488587 (index 235) to leader 2
term 40 leader 1 nextIndex[0]: 0  matchIndex[0]: 234
term 40 leader 1 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 38
------------------------------------------------------
term 40 leader 1 nextIndex[2]: 0  matchIndex[2]: 234
term 40 leader 1 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 38
------------------------------------------------------
flag 28171 term 42 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 42 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 40 leaderCommit: 234 
------------------------------------------------------
flag 44424 term 42 leader 2 nextIndex[1]: 235  matchIndex[1]: 0
term 42 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 40 leaderCommit: 234 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 38 229} {6734333078471820107 38 230} {7180196926553800750 38 231} {1272147334480621175 38 232} {504867580415008304 38 233} {504867580415008304 40 234} {8955770436180488587 42 235}]
------------------------------------------------------
term 40 leader 1 nextIndex[0]: 0  matchIndex[0]: 234
term 40 leader 1 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 38
------------------------------------------------------
term 40 leader 1 nextIndex[2]: 0  matchIndex[2]: 234
term 40 leader 1 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 38
------------------------------------------------------
flag 30950 term 42 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 42 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 42 leaderCommit: 235 
------------------------------------------------------
flag 84251 term 42 leader 2 nextIndex[1]: 235  matchIndex[1]: 0
term 42 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 40 leaderCommit: 235 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 38 229} {6734333078471820107 38 230} {7180196926553800750 38 231} {1272147334480621175 38 232} {504867580415008304 38 233} {504867580415008304 40 234} {8955770436180488587 42 235}]
------------------------------------------------------
client write log 433233302283547328 (index 236) to leader 2
client write log 660458388938712489 (index 237) to leader 2
client write log 520113648752652364 (index 238) to leader 2
client write log 3749630684971196300 (index 239) to leader 2
client write log 8587430165149870693 (index 240) to leader 2
client write log 1746846546652234740 (index 241) to leader 2
client write log 7025413955887577638 (index 242) to leader 2
client write log 2202670205737150000 (index 243) to leader 2
client write log 6347834264801980172 (index 244) to leader 2
term 40 leader 1 nextIndex[0]: 0  matchIndex[0]: 234
term 40 leader 1 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 38
------------------------------------------------------
term 40 leader 1 nextIndex[2]: 0  matchIndex[2]: 234
term 40 leader 1 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 38
------------------------------------------------------
flag 7121 term 42 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 42 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 42 leaderCommit: 235 
------------------------------------------------------
flag 89388 term 42 leader 2 nextIndex[1]: 235  matchIndex[1]: 0
term 42 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 40 leaderCommit: 235 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 38 229} {6734333078471820107 38 230} {7180196926553800750 38 231} {1272147334480621175 38 232} {504867580415008304 38 233} {504867580415008304 40 234} {8955770436180488587 42 235} {433233302283547328 42 236} {660458388938712489 42 237} {520113648752652364 42 238} {3749630684971196300 42 239} {8587430165149870693 42 240} {1746846546652234740 42 241} {7025413955887577638 42 242} {2202670205737150000 42 243} {6347834264801980172 42 244}]
------------------------------------------------------
term 42 Server2 start snapshot! index=239
term 42 server2 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=244
-------------------------------------------------------------
term 40 leader 1 nextIndex[0]: 0  matchIndex[0]: 234
term 40 leader 1 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 38
------------------------------------------------------
term 40 leader 1 nextIndex[2]: 0  matchIndex[2]: 234
term 40 leader 1 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 38
------------------------------------------------------
flag 61533 term 42 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 42 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 42 leaderCommit: 244 
------------------------------------------------------
term 42 leader 2 nextIndex[1]: 235  matchIndex[1]: 0
term 42 leader 2 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 42
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 42 239} {8587430165149870693 42 240} {1746846546652234740 42 241} {7025413955887577638 42 242} {2202670205737150000 42 243} {6347834264801980172 42 244}]
------------------------------------------------------
term 42 Server0 start snapshot! index=239
term 42 server0 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=244
-------------------------------------------------------------
!!!!!!connect server 1
client write log 5806787809864263352 (index 235) to leader 1
term 40 leader 1 nextIndex[0]: 0  matchIndex[0]: 234
term 40 leader 1 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 38
------------------------------------------------------
term 40 leader 1 nextIndex[2]: 0  matchIndex[2]: 234
term 40 leader 1 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 38
------------------------------------------------------
term 42 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 40 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 42 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 42 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 2786 term 42 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 42 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 42 leaderCommit: 244 
------------------------------------------------------
term 42 leader 2 nextIndex[1]: 235  matchIndex[1]: 0
term 42 leader 2 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 42
------------------------------------------------------
term 42 server 1 InstallSnapshot success
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
term 42 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 240 matchIndex[1] 239 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 239 rf.lastIncludedTerm 42 rf.commitIndex 239 rf.lastApplied 239
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 42 239} {8587430165149870693 42 240} {1746846546652234740 42 241} {7025413955887577638 42 242} {2202670205737150000 42 243} {6347834264801980172 42 244}]
------------------------------------------------------
term 42 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 42 server 2 not vote for server 1, 日志不够新
term 42 server 0 not vote for server 1, 日志不够新
term 44 server 1 vote for server 2
term 44 server 2 get vote from server 1
term 44 server 2 become leader
------------------------------------------------------
term 44 server 0 vote for server 2
term 44 server 2 get outdate rpc reply from server 0
flag 73009 term 44 leader 2 nextIndex[0]: 245  matchIndex[0]: 0
term 44 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 42 leaderCommit: 244 
------------------------------------------------------
flag 37531 term 44 leader 2 nextIndex[1]: 245  matchIndex[1]: 0
term 44 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 42 leaderCommit: 244 
------------------------------------------------------
term 44 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 245->244
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 42 239} {8587430165149870693 42 240} {1746846546652234740 42 241} {7025413955887577638 42 242} {2202670205737150000 42 243} {6347834264801980172 42 244}]
------------------------------------------------------
term 44 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 34995 term 44 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 44 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 42 leaderCommit: 244 
------------------------------------------------------
flag 40538 term 44 leader 2 nextIndex[1]: 240  matchIndex[1]: 0
term 44 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 42 leaderCommit: 244 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:239 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 42 239} {8587430165149870693 42 240} {1746846546652234740 42 241} {7025413955887577638 42 242} {2202670205737150000 42 243} {6347834264801980172 42 244}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 42 239} {8587430165149870693 42 240} {1746846546652234740 42 241} {7025413955887577638 42 242} {2202670205737150000 42 243} {6347834264801980172 42 244}]
------------------------------------------------------
flag 70506 term 44 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 44 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 42 leaderCommit: 244 
------------------------------------------------------
flag 20769 term 44 leader 2 nextIndex[1]: 245  matchIndex[1]: 244
term 44 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 42 leaderCommit: 244 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 42 239} {8587430165149870693 42 240} {1746846546652234740 42 241} {7025413955887577638 42 242} {2202670205737150000 42 243} {6347834264801980172 42 244}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 42 239} {8587430165149870693 42 240} {1746846546652234740 42 241} {7025413955887577638 42 242} {2202670205737150000 42 243} {6347834264801980172 42 244}]
------------------------------------------------------
flag 75511 term 44 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 44 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 42 leaderCommit: 244 
------------------------------------------------------
flag 74130 term 44 leader 2 nextIndex[1]: 245  matchIndex[1]: 244
term 44 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 42 leaderCommit: 244 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
term 44 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
[{snapshot 42 239} {8587430165149870693 42 240} {1746846546652234740 42 241} {7025413955887577638 42 242} {2202670205737150000 42 243} {6347834264801980172 42 244}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 42 239} {8587430165149870693 42 240} {1746846546652234740 42 241} {7025413955887577638 42 242} {2202670205737150000 42 243} {6347834264801980172 42 244}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78924 term 44 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 44 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 42 leaderCommit: 244 
------------------------------------------------------
flag 65394 term 44 leader 2 nextIndex[1]: 245  matchIndex[1]: 244
term 44 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 42 leaderCommit: 244 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 42 239} {8587430165149870693 42 240} {1746846546652234740 42 241} {7025413955887577638 42 242} {2202670205737150000 42 243} {6347834264801980172 42 244}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 42 239} {8587430165149870693 42 240} {1746846546652234740 42 241} {7025413955887577638 42 242} {2202670205737150000 42 243} {6347834264801980172 42 244}]
------------------------------------------------------
flag 68353 term 44 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 44 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 42 leaderCommit: 244 
------------------------------------------------------
flag 84219 term 44 leader 2 nextIndex[1]: 245  matchIndex[1]: 244
term 44 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 42 leaderCommit: 244 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 42 239} {8587430165149870693 42 240} {1746846546652234740 42 241} {7025413955887577638 42 242} {2202670205737150000 42 243} {6347834264801980172 42 244}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 42 239} {8587430165149870693 42 240} {1746846546652234740 42 241} {7025413955887577638 42 242} {2202670205737150000 42 243} {6347834264801980172 42 244}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70982 term 44 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 44 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 42 leaderCommit: 244 
------------------------------------------------------
flag 96496 term 44 leader 2 nextIndex[1]: 245  matchIndex[1]: 244
term 44 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 42 leaderCommit: 244 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 42 239} {8587430165149870693 42 240} {1746846546652234740 42 241} {7025413955887577638 42 242} {2202670205737150000 42 243} {6347834264801980172 42 244}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 42 239} {8587430165149870693 42 240} {1746846546652234740 42 241} {7025413955887577638 42 242} {2202670205737150000 42 243} {6347834264801980172 42 244}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55000 term 44 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 44 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 42 leaderCommit: 244 
------------------------------------------------------
flag 47276 term 44 leader 2 nextIndex[1]: 245  matchIndex[1]: 244
term 44 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 42 leaderCommit: 244 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 42 239} {8587430165149870693 42 240} {1746846546652234740 42 241} {7025413955887577638 42 242} {2202670205737150000 42 243} {6347834264801980172 42 244}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 42 239} {8587430165149870693 42 240} {1746846546652234740 42 241} {7025413955887577638 42 242} {2202670205737150000 42 243} {6347834264801980172 42 244}]
------------------------------------------------------
flag 39380 term 44 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 44 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 42 leaderCommit: 244 
------------------------------------------------------
flag 9161 term 44 leader 2 nextIndex[1]: 245  matchIndex[1]: 244
term 44 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 42 leaderCommit: 244 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 42 239} {8587430165149870693 42 240} {1746846546652234740 42 241} {7025413955887577638 42 242} {2202670205737150000 42 243} {6347834264801980172 42 244}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 42 239} {8587430165149870693 42 240} {1746846546652234740 42 241} {7025413955887577638 42 242} {2202670205737150000 42 243} {6347834264801980172 42 244}]
------------------------------------------------------
term 44 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 28743 term 44 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 44 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 42 leaderCommit: 244 
------------------------------------------------------
flag 40509 term 44 leader 2 nextIndex[1]: 245  matchIndex[1]: 244
term 44 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 42 leaderCommit: 244 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 42 239} {8587430165149870693 42 240} {1746846546652234740 42 241} {7025413955887577638 42 242} {2202670205737150000 42 243} {6347834264801980172 42 244}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 42 239} {8587430165149870693 42 240} {1746846546652234740 42 241} {7025413955887577638 42 242} {2202670205737150000 42 243} {6347834264801980172 42 244}]
------------------------------------------------------
flag 36406 term 44 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 44 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 42 leaderCommit: 244 
------------------------------------------------------
flag 30838 term 44 leader 2 nextIndex[1]: 245  matchIndex[1]: 244
term 44 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 42 leaderCommit: 244 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 42 239} {8587430165149870693 42 240} {1746846546652234740 42 241} {7025413955887577638 42 242} {2202670205737150000 42 243} {6347834264801980172 42 244}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 42 239} {8587430165149870693 42 240} {1746846546652234740 42 241} {7025413955887577638 42 242} {2202670205737150000 42 243} {6347834264801980172 42 244}]
------------------------------------------------------
term 44 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 3853 term 44 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 44 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 42 leaderCommit: 244 
------------------------------------------------------
flag 85358 term 44 leader 2 nextIndex[1]: 245  matchIndex[1]: 244
term 44 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 42 leaderCommit: 244 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 42 239} {8587430165149870693 42 240} {1746846546652234740 42 241} {7025413955887577638 42 242} {2202670205737150000 42 243} {6347834264801980172 42 244}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 42 239} {8587430165149870693 42 240} {1746846546652234740 42 241} {7025413955887577638 42 242} {2202670205737150000 42 243} {6347834264801980172 42 244}]
------------------------------------------------------
term 44 server 1 not vote for server 2, 任期不够新
term 44 server 2 get outdate rpc reply from server 1
term 44 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 17475 term 44 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 44 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 42 leaderCommit: 244 
------------------------------------------------------
flag 53353 term 44 leader 2 nextIndex[1]: 245  matchIndex[1]: 244
term 44 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 42 leaderCommit: 244 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 42 239} {8587430165149870693 42 240} {1746846546652234740 42 241} {7025413955887577638 42 242} {2202670205737150000 42 243} {6347834264801980172 42 244}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 42 239} {8587430165149870693 42 240} {1746846546652234740 42 241} {7025413955887577638 42 242} {2202670205737150000 42 243} {6347834264801980172 42 244}]
------------------------------------------------------
flag 38023 term 44 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 44 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 42 leaderCommit: 244 
------------------------------------------------------
flag 99795 term 44 leader 2 nextIndex[1]: 245  matchIndex[1]: 244
term 44 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 42 leaderCommit: 244 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
term 44 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
[{snapshot 42 239} {8587430165149870693 42 240} {1746846546652234740 42 241} {7025413955887577638 42 242} {2202670205737150000 42 243} {6347834264801980172 42 244}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 42 239} {8587430165149870693 42 240} {1746846546652234740 42 241} {7025413955887577638 42 242} {2202670205737150000 42 243} {6347834264801980172 42 244}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74724 term 44 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 44 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 42 leaderCommit: 244 
------------------------------------------------------
flag 30222 term 44 leader 2 nextIndex[1]: 245  matchIndex[1]: 244
term 44 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 42 leaderCommit: 244 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 42 239} {8587430165149870693 42 240} {1746846546652234740 42 241} {7025413955887577638 42 242} {2202670205737150000 42 243} {6347834264801980172 42 244}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 42 239} {8587430165149870693 42 240} {1746846546652234740 42 241} {7025413955887577638 42 242} {2202670205737150000 42 243} {6347834264801980172 42 244}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88645 term 44 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 44 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 42 leaderCommit: 244 
------------------------------------------------------
flag 9219 term 44 leader 2 nextIndex[1]: 245  matchIndex[1]: 244
term 44 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 42 leaderCommit: 244 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 42 239} {8587430165149870693 42 240} {1746846546652234740 42 241} {7025413955887577638 42 242} {2202670205737150000 42 243} {6347834264801980172 42 244}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 42 239} {8587430165149870693 42 240} {1746846546652234740 42 241} {7025413955887577638 42 242} {2202670205737150000 42 243} {6347834264801980172 42 244}]
------------------------------------------------------
flag 71917 term 44 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 44 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 42 leaderCommit: 244 
------------------------------------------------------
flag 88594 term 44 leader 2 nextIndex[1]: 245  matchIndex[1]: 244
term 44 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 42 leaderCommit: 244 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:244 
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 42 239} {8587430165149870693 42 240} {1746846546652234740 42 241} {7025413955887577638 42 242} {2202670205737150000 42 243} {6347834264801980172 42 244}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 42 239} {8587430165149870693 42 240} {1746846546652234740 42 241} {7025413955887577638 42 242} {2202670205737150000 42 243} {6347834264801980172 42 244}]
------------------------------------------------------
flag 5836 term 44 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 44 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 42 leaderCommit: 244 
------------------------------------------------------
flag 52717 term 44 leader 2 nextIndex[1]: 245  matchIndex[1]: 244
term 44 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 42 leaderCommit: 244 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 42 239} {8587430165149870693 42 240} {1746846546652234740 42 241} {7025413955887577638 42 242} {2202670205737150000 42 243} {6347834264801980172 42 244}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 42 239} {8587430165149870693 42 240} {1746846546652234740 42 241} {7025413955887577638 42 242} {2202670205737150000 42 243} {6347834264801980172 42 244}]
------------------------------------------------------
client write log 5806787809864263352 (index 245) to leader 2
flag 27704 term 44 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 44 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 42 leaderCommit: 244 
------------------------------------------------------
flag 51153 term 44 leader 2 nextIndex[1]: 245  matchIndex[1]: 244
term 44 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 42 leaderCommit: 244 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 42 239} {8587430165149870693 42 240} {1746846546652234740 42 241} {7025413955887577638 42 242} {2202670205737150000 42 243} {6347834264801980172 42 244} {5806787809864263352 44 245}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=246
update matchIndex[0]=245
update leader CommitIndex=245
leader log:
[{snapshot 42 239} {8587430165149870693 42 240} {1746846546652234740 42 241} {7025413955887577638 42 242} {2202670205737150000 42 243} {6347834264801980172 42 244} {5806787809864263352 44 245}]
------------------------------------------------------
flag 26298 term 44 leader 2 nextIndex[0]: 246  matchIndex[0]: 245
term 44 leader 2 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 44 leaderCommit: 245 
------------------------------------------------------
flag 31505 term 44 leader 2 nextIndex[1]: 246  matchIndex[1]: 245
term 44 leader 2 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 44 leaderCommit: 245 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 42 239} {8587430165149870693 42 240} {1746846546652234740 42 241} {7025413955887577638 42 242} {2202670205737150000 42 243} {6347834264801980172 42 244} {5806787809864263352 44 245}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=246
update matchIndex[0]=245
update leader CommitIndex=245
leader log:
[{snapshot 42 239} {8587430165149870693 42 240} {1746846546652234740 42 241} {7025413955887577638 42 242} {2202670205737150000 42 243} {6347834264801980172 42 244} {5806787809864263352 44 245}]
------------------------------------------------------
flag 10060 term 44 leader 2 nextIndex[0]: 246  matchIndex[0]: 245
term 44 leader 2 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 44 leaderCommit: 245 
------------------------------------------------------
flag 44993 term 44 leader 2 nextIndex[1]: 246  matchIndex[1]: 245
term 44 leader 2 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 44 leaderCommit: 245 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 42 239} {8587430165149870693 42 240} {1746846546652234740 42 241} {7025413955887577638 42 242} {2202670205737150000 42 243} {6347834264801980172 42 244} {5806787809864263352 44 245}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=246
update matchIndex[0]=245
update leader CommitIndex=245
leader log:
[{snapshot 42 239} {8587430165149870693 42 240} {1746846546652234740 42 241} {7025413955887577638 42 242} {2202670205737150000 42 243} {6347834264801980172 42 244} {5806787809864263352 44 245}]
------------------------------------------------------
flag 24892 term 44 leader 2 nextIndex[0]: 246  matchIndex[0]: 245
term 44 leader 2 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 44 leaderCommit: 245 
------------------------------------------------------
flag 47473 term 44 leader 2 nextIndex[1]: 246  matchIndex[1]: 245
term 44 leader 2 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 44 leaderCommit: 245 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 42 239} {8587430165149870693 42 240} {1746846546652234740 42 241} {7025413955887577638 42 242} {2202670205737150000 42 243} {6347834264801980172 42 244} {5806787809864263352 44 245}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=246
update matchIndex[0]=245
update leader CommitIndex=245
leader log:
[{snapshot 42 239} {8587430165149870693 42 240} {1746846546652234740 42 241} {7025413955887577638 42 242} {2202670205737150000 42 243} {6347834264801980172 42 244} {5806787809864263352 44 245}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78208 term 44 leader 2 nextIndex[0]: 246  matchIndex[0]: 245
term 44 leader 2 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 44 leaderCommit: 245 
------------------------------------------------------
flag 73954 term 44 leader 2 nextIndex[1]: 246  matchIndex[1]: 245
term 44 leader 2 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 44 leaderCommit: 245 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 42 239} {8587430165149870693 42 240} {1746846546652234740 42 241} {7025413955887577638 42 242} {2202670205737150000 42 243} {6347834264801980172 42 244} {5806787809864263352 44 245}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=246
update matchIndex[0]=245
update leader CommitIndex=245
leader log:
[{snapshot 42 239} {8587430165149870693 42 240} {1746846546652234740 42 241} {7025413955887577638 42 242} {2202670205737150000 42 243} {6347834264801980172 42 244} {5806787809864263352 44 245}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40350 term 44 leader 2 nextIndex[0]: 246  matchIndex[0]: 245
term 44 leader 2 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 44 leaderCommit: 245 
------------------------------------------------------
flag 46859 term 44 leader 2 nextIndex[1]: 246  matchIndex[1]: 245
term 44 leader 2 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 44 leaderCommit: 245 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 42 239} {8587430165149870693 42 240} {1746846546652234740 42 241} {7025413955887577638 42 242} {2202670205737150000 42 243} {6347834264801980172 42 244} {5806787809864263352 44 245}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=246
update matchIndex[0]=245
update leader CommitIndex=245
leader log:
[{snapshot 42 239} {8587430165149870693 42 240} {1746846546652234740 42 241} {7025413955887577638 42 242} {2202670205737150000 42 243} {6347834264801980172 42 244} {5806787809864263352 44 245}]
------------------------------------------------------
flag 58217 term 44 leader 2 nextIndex[0]: 246  matchIndex[0]: 245
term 44 leader 2 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 44 leaderCommit: 245 
------------------------------------------------------
flag 51695 term 44 leader 2 nextIndex[1]: 246  matchIndex[1]: 245
term 44 leader 2 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 44 leaderCommit: 245 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=246
update matchIndex[0]=245
update leader CommitIndex=245
leader log:
[{snapshot 42 239} {8587430165149870693 42 240} {1746846546652234740 42 241} {7025413955887577638 42 242} {2202670205737150000 42 243} {6347834264801980172 42 244} {5806787809864263352 44 245}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 42 239} {8587430165149870693 42 240} {1746846546652234740 42 241} {7025413955887577638 42 242} {2202670205737150000 42 243} {6347834264801980172 42 244} {5806787809864263352 44 245}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 8184047820081750134 (index 246) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25722 term 44 leader 2 nextIndex[0]: 246  matchIndex[0]: 245
term 44 leader 2 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 44 leaderCommit: 245 
------------------------------------------------------
flag 5920 term 44 leader 2 nextIndex[1]: 246  matchIndex[1]: 245
term 44 leader 2 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 44 leaderCommit: 245 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=247
update matchIndex[1]=246
update leader CommitIndex=246
leader log:
[{snapshot 42 239} {8587430165149870693 42 240} {1746846546652234740 42 241} {7025413955887577638 42 242} {2202670205737150000 42 243} {6347834264801980172 42 244} {5806787809864263352 44 245} {8184047820081750134 44 246}]
------------------------------------------------------
flag 54625 term 44 leader 2 nextIndex[0]: 246  matchIndex[0]: 245
term 44 leader 2 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 44 leaderCommit: 246 
------------------------------------------------------
flag 69770 term 44 leader 2 nextIndex[1]: 247  matchIndex[1]: 246
term 44 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 44 leaderCommit: 246 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=247
update matchIndex[1]=246
update leader CommitIndex=246
leader log:
[{snapshot 42 239} {8587430165149870693 42 240} {1746846546652234740 42 241} {7025413955887577638 42 242} {2202670205737150000 42 243} {6347834264801980172 42 244} {5806787809864263352 44 245} {8184047820081750134 44 246}]
------------------------------------------------------
client write log 2757703192222927492 (index 247) to leader 2
client write log 7433192829280783145 (index 248) to leader 2
client write log 2261247619597986430 (index 249) to leader 2
client write log 334735992818468718 (index 250) to leader 2
client write log 4371895500244538415 (index 251) to leader 2
client write log 2637966424272648325 (index 252) to leader 2
client write log 838834188883360328 (index 253) to leader 2
client write log 2188958449369125403 (index 254) to leader 2
client write log 7951487262720937396 (index 255) to leader 2
client write log 6522895423834070929 (index 256) to leader 2
client write log 650901767349086702 (index 257) to leader 2
client write log 7391761410246073843 (index 258) to leader 2
client write log 771100047982300486 (index 259) to leader 2
client write log 1620764952520620284 (index 260) to leader 2
term 44 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 72528 term 44 leader 2 nextIndex[0]: 246  matchIndex[0]: 245
term 44 leader 2 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 44 leaderCommit: 246 
------------------------------------------------------
flag 53879 term 44 leader 2 nextIndex[1]: 247  matchIndex[1]: 246
term 44 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 44 leaderCommit: 246 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=260
leader log:
[{snapshot 42 239} {8587430165149870693 42 240} {1746846546652234740 42 241} {7025413955887577638 42 242} {2202670205737150000 42 243} {6347834264801980172 42 244} {5806787809864263352 44 245} {8184047820081750134 44 246} {2757703192222927492 44 247} {7433192829280783145 44 248} {2261247619597986430 44 249} {334735992818468718 44 250} {4371895500244538415 44 251} {2637966424272648325 44 252} {838834188883360328 44 253} {2188958449369125403 44 254} {7951487262720937396 44 255} {6522895423834070929 44 256} {650901767349086702 44 257} {7391761410246073843 44 258} {771100047982300486 44 259} {1620764952520620284 44 260}]
------------------------------------------------------
term 44 Server2 start snapshot! index=249
term 44 server2 snapshot success
lastIncludedIndex=249 lastApplied=250 lastIndex=260
-------------------------------------------------------------
term 44 Server2 start snapshot! index=259
term 44 server2 snapshot success
lastIncludedIndex=259 lastApplied=260 lastIndex=260
-------------------------------------------------------------
term 44 leader 2 nextIndex[0]: 246  matchIndex[0]: 245
term 44 leader 2 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 44
------------------------------------------------------
flag 59553 term 44 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 44 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 44 leaderCommit: 260 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=260
leader log:
[{snapshot 44 259} {1620764952520620284 44 260}]
------------------------------------------------------
term 44 Server1 start snapshot! index=249
term 44 server1 snapshot success
lastIncludedIndex=249 lastApplied=250 lastIndex=260
-------------------------------------------------------------
term 44 Server1 start snapshot! index=259
term 44 server1 snapshot success
lastIncludedIndex=259 lastApplied=260 lastIndex=260
-------------------------------------------------------------
!!!!!!connect server 0
client write log 4600185663736452480 (index 261) to leader 2
term 44 leader 2 nextIndex[0]: 246  matchIndex[0]: 245
term 44 leader 2 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 44
------------------------------------------------------
flag 51907 term 44 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 44 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 44 leaderCommit: 260 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
term 45 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=261
leader log:
[{snapshot 44 259} {1620764952520620284 44 260} {4600185663736452480 44 261}]
------------------------------------------------------
term 44 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 44 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 46 server 1 vote for server 2
term 46 server 2 get vote from server 1
term 46 server 2 become leader
------------------------------------------------------
term 46 server 0 vote for server 2
term 46 server 2 get outdate rpc reply from server 0
flag 88230 term 46 leader 2 nextIndex[0]: 262  matchIndex[0]: 0
term 46 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 44 leaderCommit: 261 
------------------------------------------------------
flag 60716 term 46 leader 2 nextIndex[1]: 262  matchIndex[1]: 0
term 46 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 44 leaderCommit: 261 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=261
leader log:
[{snapshot 44 259} {1620764952520620284 44 260} {4600185663736452480 44 261}]
------------------------------------------------------
term 46 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 262->261
------------------------------------------------------
term 46 leader 2 nextIndex[0]: 246  matchIndex[0]: 0
term 46 leader 2 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 44
------------------------------------------------------
flag 6325 term 46 leader 2 nextIndex[1]: 262  matchIndex[1]: 261
term 46 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 44 leaderCommit: 261 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=261
leader log:
[{snapshot 44 259} {1620764952520620284 44 260} {4600185663736452480 44 261}]
------------------------------------------------------
term 46 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 259 rf.lastIncludedTerm 44 rf.commitIndex 259 rf.lastApplied 259
term 46 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 260 matchIndex[0] 259 
------------------------------------------------------------------------
term 46 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 3345 term 46 leader 2 nextIndex[0]: 260  matchIndex[0]: 259
term 46 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 44 leaderCommit: 261 
------------------------------------------------------
flag 19355 term 46 leader 2 nextIndex[1]: 262  matchIndex[1]: 261
term 46 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 44 leaderCommit: 261 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:261 
term 46 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=261
leader log:
[{snapshot 44 259} {1620764952520620284 44 260} {4600185663736452480 44 261}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=261
leader log:
[{snapshot 44 259} {1620764952520620284 44 260} {4600185663736452480 44 261}]
------------------------------------------------------
flag 76229 term 46 leader 2 nextIndex[0]: 262  matchIndex[0]: 261
term 46 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 44 leaderCommit: 261 
------------------------------------------------------
flag 20831 term 46 leader 2 nextIndex[1]: 262  matchIndex[1]: 261
term 46 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 44 leaderCommit: 261 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:261 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=261
leader log:
[{snapshot 44 259} {1620764952520620284 44 260} {4600185663736452480 44 261}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=261
leader log:
[{snapshot 44 259} {1620764952520620284 44 260} {4600185663736452480 44 261}]
------------------------------------------------------
term 46 server 1 not vote for server 0, 任期不够新
term 46 server 0 get outdate rpc reply from server 1
flag 10043 term 46 leader 2 nextIndex[0]: 262  matchIndex[0]: 261
term 46 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 44 leaderCommit: 261 
------------------------------------------------------
flag 81103 term 46 leader 2 nextIndex[1]: 262  matchIndex[1]: 261
term 46 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 44 leaderCommit: 261 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=261
leader log:
[{snapshot 44 259} {1620764952520620284 44 260} {4600185663736452480 44 261}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=261
leader log:
[{snapshot 44 259} {1620764952520620284 44 260} {4600185663736452480 44 261}]
------------------------------------------------------
term 46 server 2 not vote for server 0, 任期不够新
term 46 server 0 get outdate rpc reply from server 2
term 46 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 56725 term 46 leader 2 nextIndex[0]: 262  matchIndex[0]: 261
term 46 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 44 leaderCommit: 261 
------------------------------------------------------
flag 68159 term 46 leader 2 nextIndex[1]: 262  matchIndex[1]: 261
term 46 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 44 leaderCommit: 261 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=261
leader log:
[{snapshot 44 259} {1620764952520620284 44 260} {4600185663736452480 44 261}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=261
leader log:
[{snapshot 44 259} {1620764952520620284 44 260} {4600185663736452480 44 261}]
------------------------------------------------------
flag 11604 term 46 leader 2 nextIndex[0]: 262  matchIndex[0]: 261
term 46 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 44 leaderCommit: 261 
------------------------------------------------------
flag 1039 term 46 leader 2 nextIndex[1]: 262  matchIndex[1]: 261
term 46 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 44 leaderCommit: 261 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=261
leader log:
[{snapshot 44 259} {1620764952520620284 44 260} {4600185663736452480 44 261}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=261
leader log:
[{snapshot 44 259} {1620764952520620284 44 260} {4600185663736452480 44 261}]
------------------------------------------------------
flag 79068 term 46 leader 2 nextIndex[0]: 262  matchIndex[0]: 261
term 46 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 44 leaderCommit: 261 
------------------------------------------------------
flag 55167 term 46 leader 2 nextIndex[1]: 262  matchIndex[1]: 261
term 46 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 44 leaderCommit: 261 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=261
leader log:
[{snapshot 44 259} {1620764952520620284 44 260} {4600185663736452480 44 261}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=261
leader log:
[{snapshot 44 259} {1620764952520620284 44 260} {4600185663736452480 44 261}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 0
client write log 5365489123467761173 (index 262) to leader 2
flag 19373 term 46 leader 2 nextIndex[0]: 262  matchIndex[0]: 261
term 46 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 44 leaderCommit: 261 
------------------------------------------------------
flag 31391 term 46 leader 2 nextIndex[1]: 262  matchIndex[1]: 261
term 46 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 44 leaderCommit: 261 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=262
leader log:
[{snapshot 44 259} {1620764952520620284 44 260} {4600185663736452480 44 261} {5365489123467761173 46 262}]
------------------------------------------------------
flag 57919 term 46 leader 2 nextIndex[0]: 262  matchIndex[0]: 261
term 46 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 44 leaderCommit: 262 
------------------------------------------------------
flag 81090 term 46 leader 2 nextIndex[1]: 263  matchIndex[1]: 262
term 46 leader 2 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 46 leaderCommit: 262 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=262
leader log:
[{snapshot 44 259} {1620764952520620284 44 260} {4600185663736452480 44 261} {5365489123467761173 46 262}]
------------------------------------------------------
term 46 server 1 not vote for server 2, 任期不够新
term 46 server 2 get outdate rpc reply from server 1
client write log 718906039130633182 (index 263) to leader 2
client write log 8489542502309780544 (index 264) to leader 2
client write log 6638692894107576745 (index 265) to leader 2
client write log 68510027565933005 (index 266) to leader 2
client write log 3605869942299728479 (index 267) to leader 2
client write log 6121024210287579156 (index 268) to leader 2
client write log 5607196381351439368 (index 269) to leader 2
client write log 1053495943844834688 (index 270) to leader 2
client write log 2607646892132139887 (index 271) to leader 2
client write log 4885788486470996069 (index 272) to leader 2
flag 95199 term 46 leader 2 nextIndex[0]: 262  matchIndex[0]: 261
term 46 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 44 leaderCommit: 262 
------------------------------------------------------
flag 79819 term 46 leader 2 nextIndex[1]: 263  matchIndex[1]: 262
term 46 leader 2 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 46 leaderCommit: 262 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=272
leader log:
[{snapshot 44 259} {1620764952520620284 44 260} {4600185663736452480 44 261} {5365489123467761173 46 262} {718906039130633182 46 263} {8489542502309780544 46 264} {6638692894107576745 46 265} {68510027565933005 46 266} {3605869942299728479 46 267} {6121024210287579156 46 268} {5607196381351439368 46 269} {1053495943844834688 46 270} {2607646892132139887 46 271} {4885788486470996069 46 272}]
------------------------------------------------------
term 46 Server2 start snapshot! index=269
term 46 server2 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=272
-------------------------------------------------------------
term 46 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 46 leader 2 nextIndex[0]: 262  matchIndex[0]: 261
term 46 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 46
------------------------------------------------------
flag 27047 term 46 leader 2 nextIndex[1]: 273  matchIndex[1]: 272
term 46 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 46 leaderCommit: 272 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=272
leader log:
[{snapshot 46 269} {1053495943844834688 46 270} {2607646892132139887 46 271} {4885788486470996069 46 272}]
------------------------------------------------------
term 46 Server1 start snapshot! index=269
term 46 server1 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=272
-------------------------------------------------------------
!!!!!!connect server 0
client write log 942260155536202701 (index 273) to leader 2
term 46 server 2 not vote for server 0, 日志不够新
term 46 server 1 not vote for server 0, 日志不够新
term 48 server 1 vote for server 2
term 48 server 2 get vote from server 1
term 48 server 2 become leader
------------------------------------------------------
term 48 server 0 vote for server 2
term 48 server 2 get outdate rpc reply from server 0
flag 65211 term 48 leader 2 nextIndex[0]: 274  matchIndex[0]: 0
term 48 leader 2 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 46 leaderCommit: 272 
------------------------------------------------------
flag 89734 term 48 leader 2 nextIndex[1]: 274  matchIndex[1]: 0
term 48 leader 2 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 46 leaderCommit: 272 
------------------------------------------------------
term 48 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 274->273
------------------------------------------------------
term 48 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 274->273
------------------------------------------------------
term 48 leader 2 nextIndex[0]: 262  matchIndex[0]: 0
term 48 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 46
------------------------------------------------------
flag 79002 term 48 leader 2 nextIndex[1]: 273  matchIndex[1]: 0
term 48 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 46 leaderCommit: 272 
------------------------------------------------------
term 48 server 0 InstallSnapshot success
------------------------------------------------------
term 48 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 270 matchIndex[0] 269 
------------------------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=272
leader log:
[{snapshot 46 269} {1053495943844834688 46 270} {2607646892132139887 46 271} {4885788486470996069 46 272} {942260155536202701 46 273}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 269 rf.lastIncludedTerm 46 rf.commitIndex 269 rf.lastApplied 269
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5263 term 48 leader 2 nextIndex[0]: 270  matchIndex[0]: 269
term 48 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 46 leaderCommit: 272 
------------------------------------------------------
flag 36254 term 48 leader 2 nextIndex[1]: 274  matchIndex[1]: 273
term 48 leader 2 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 46 leaderCommit: 272 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=272
leader log:
[{snapshot 46 269} {1053495943844834688 46 270} {2607646892132139887 46 271} {4885788486470996069 46 272} {942260155536202701 46 273}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=274
update matchIndex[0]=273
update leader CommitIndex=272
leader log:
[{snapshot 46 269} {1053495943844834688 46 270} {2607646892132139887 46 271} {4885788486470996069 46 272} {942260155536202701 46 273}]
------------------------------------------------------
flag 96192 term 48 leader 2 nextIndex[0]: 274  matchIndex[0]: 273
term 48 leader 2 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 46 leaderCommit: 272 
------------------------------------------------------
flag 21460 term 48 leader 2 nextIndex[1]: 274  matchIndex[1]: 273
term 48 leader 2 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 46 leaderCommit: 272 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=272
leader log:
[{snapshot 46 269} {1053495943844834688 46 270} {2607646892132139887 46 271} {4885788486470996069 46 272} {942260155536202701 46 273}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=274
update matchIndex[0]=273
update leader CommitIndex=272
leader log:
[{snapshot 46 269} {1053495943844834688 46 270} {2607646892132139887 46 271} {4885788486470996069 46 272} {942260155536202701 46 273}]
------------------------------------------------------
flag 65181 term 48 leader 2 nextIndex[0]: 274  matchIndex[0]: 273
term 48 leader 2 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 46 leaderCommit: 272 
------------------------------------------------------
flag 14540 term 48 leader 2 nextIndex[1]: 274  matchIndex[1]: 273
term 48 leader 2 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 46 leaderCommit: 272 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=272
leader log:
[{snapshot 46 269} {1053495943844834688 46 270} {2607646892132139887 46 271} {4885788486470996069 46 272} {942260155536202701 46 273}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=274
update matchIndex[0]=273
update leader CommitIndex=272
leader log:
[{snapshot 46 269} {1053495943844834688 46 270} {2607646892132139887 46 271} {4885788486470996069 46 272} {942260155536202701 46 273}]
------------------------------------------------------
flag 25592 term 48 leader 2 nextIndex[0]: 274  matchIndex[0]: 273
term 48 leader 2 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 46 leaderCommit: 272 
------------------------------------------------------
flag 92075 term 48 leader 2 nextIndex[1]: 274  matchIndex[1]: 273
term 48 leader 2 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 46 leaderCommit: 272 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=272
leader log:
[{snapshot 46 269} {1053495943844834688 46 270} {2607646892132139887 46 271} {4885788486470996069 46 272} {942260155536202701 46 273}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=274
update matchIndex[0]=273
update leader CommitIndex=272
leader log:
[{snapshot 46 269} {1053495943844834688 46 270} {2607646892132139887 46 271} {4885788486470996069 46 272} {942260155536202701 46 273}]
------------------------------------------------------
term 48 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 65749 term 48 leader 2 nextIndex[0]: 274  matchIndex[0]: 273
term 48 leader 2 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 46 leaderCommit: 272 
------------------------------------------------------
flag 84414 term 48 leader 2 nextIndex[1]: 274  matchIndex[1]: 273
term 48 leader 2 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 46 leaderCommit: 272 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=274
update matchIndex[0]=273
update leader CommitIndex=272
leader log:
[{snapshot 46 269} {1053495943844834688 46 270} {2607646892132139887 46 271} {4885788486470996069 46 272} {942260155536202701 46 273}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=272
leader log:
[{snapshot 46 269} {1053495943844834688 46 270} {2607646892132139887 46 271} {4885788486470996069 46 272} {942260155536202701 46 273}]
------------------------------------------------------
flag 90297 term 48 leader 2 nextIndex[0]: 274  matchIndex[0]: 273
term 48 leader 2 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 46 leaderCommit: 272 
------------------------------------------------------
flag 12998 term 48 leader 2 nextIndex[1]: 274  matchIndex[1]: 273
term 48 leader 2 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 46 leaderCommit: 272 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=274
update matchIndex[0]=273
update leader CommitIndex=272
leader log:
[{snapshot 46 269} {1053495943844834688 46 270} {2607646892132139887 46 271} {4885788486470996069 46 272} {942260155536202701 46 273}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=272
leader log:
[{snapshot 46 269} {1053495943844834688 46 270} {2607646892132139887 46 271} {4885788486470996069 46 272} {942260155536202701 46 273}]
------------------------------------------------------
term 48 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 48 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 90209 term 48 leader 2 nextIndex[0]: 274  matchIndex[0]: 273
term 48 leader 2 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 46 leaderCommit: 272 
------------------------------------------------------
flag 11991 term 48 leader 2 nextIndex[1]: 274  matchIndex[1]: 273
term 48 leader 2 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 46 leaderCommit: 272 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=272
leader log:
[{snapshot 46 269} {1053495943844834688 46 270} {2607646892132139887 46 271} {4885788486470996069 46 272} {942260155536202701 46 273}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=274
update matchIndex[0]=273
update leader CommitIndex=272
leader log:
[{snapshot 46 269} {1053495943844834688 46 270} {2607646892132139887 46 271} {4885788486470996069 46 272} {942260155536202701 46 273}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31022 term 48 leader 2 nextIndex[0]: 274  matchIndex[0]: 273
term 48 leader 2 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 46 leaderCommit: 272 
------------------------------------------------------
flag 78516 term 48 leader 2 nextIndex[1]: 274  matchIndex[1]: 273
term 48 leader 2 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 46 leaderCommit: 272 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=272
leader log:
[{snapshot 46 269} {1053495943844834688 46 270} {2607646892132139887 46 271} {4885788486470996069 46 272} {942260155536202701 46 273}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=274
update matchIndex[0]=273
update leader CommitIndex=272
leader log:
[{snapshot 46 269} {1053495943844834688 46 270} {2607646892132139887 46 271} {4885788486470996069 46 272} {942260155536202701 46 273}]
------------------------------------------------------
term 48 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 64344 term 48 leader 2 nextIndex[0]: 274  matchIndex[0]: 273
term 48 leader 2 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 46 leaderCommit: 272 
------------------------------------------------------
flag 69271 term 48 leader 2 nextIndex[1]: 274  matchIndex[1]: 273
term 48 leader 2 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 46 leaderCommit: 272 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=272
leader log:
[{snapshot 46 269} {1053495943844834688 46 270} {2607646892132139887 46 271} {4885788486470996069 46 272} {942260155536202701 46 273}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=274
update matchIndex[0]=273
update leader CommitIndex=272
leader log:
[{snapshot 46 269} {1053495943844834688 46 270} {2607646892132139887 46 271} {4885788486470996069 46 272} {942260155536202701 46 273}]
------------------------------------------------------
flag 75116 term 48 leader 2 nextIndex[0]: 274  matchIndex[0]: 273
term 48 leader 2 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 46 leaderCommit: 272 
------------------------------------------------------
flag 98252 term 48 leader 2 nextIndex[1]: 274  matchIndex[1]: 273
term 48 leader 2 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 46 leaderCommit: 272 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=272
leader log:
[{snapshot 46 269} {1053495943844834688 46 270} {2607646892132139887 46 271} {4885788486470996069 46 272} {942260155536202701 46 273}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=274
update matchIndex[0]=273
update leader CommitIndex=272
leader log:
[{snapshot 46 269} {1053495943844834688 46 270} {2607646892132139887 46 271} {4885788486470996069 46 272} {942260155536202701 46 273}]
------------------------------------------------------
flag 6567 term 48 leader 2 nextIndex[0]: 274  matchIndex[0]: 273
term 48 leader 2 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 46 leaderCommit: 272 
------------------------------------------------------
flag 21024 term 48 leader 2 nextIndex[1]: 274  matchIndex[1]: 273
term 48 leader 2 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 46 leaderCommit: 272 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=272
leader log:
[{snapshot 46 269} {1053495943844834688 46 270} {2607646892132139887 46 271} {4885788486470996069 46 272} {942260155536202701 46 273}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=274
update matchIndex[0]=273
update leader CommitIndex=272
leader log:
[{snapshot 46 269} {1053495943844834688 46 270} {2607646892132139887 46 271} {4885788486470996069 46 272} {942260155536202701 46 273}]
------------------------------------------------------
flag 39601 term 48 leader 2 nextIndex[0]: 274  matchIndex[0]: 273
term 48 leader 2 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 46 leaderCommit: 272 
------------------------------------------------------
flag 42520 term 48 leader 2 nextIndex[1]: 274  matchIndex[1]: 273
term 48 leader 2 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 46 leaderCommit: 272 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=274
update matchIndex[0]=273
update leader CommitIndex=272
leader log:
term 48 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
[{snapshot 46 269} {1053495943844834688 46 270} {2607646892132139887 46 271} {4885788486470996069 46 272} {942260155536202701 46 273}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=272
leader log:
[{snapshot 46 269} {1053495943844834688 46 270} {2607646892132139887 46 271} {4885788486470996069 46 272} {942260155536202701 46 273}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59037 term 48 leader 2 nextIndex[0]: 274  matchIndex[0]: 273
term 48 leader 2 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 46 leaderCommit: 272 
------------------------------------------------------
flag 6916 term 48 leader 2 nextIndex[1]: 274  matchIndex[1]: 273
term 48 leader 2 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 46 leaderCommit: 272 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=272
leader log:
[{snapshot 46 269} {1053495943844834688 46 270} {2607646892132139887 46 271} {4885788486470996069 46 272} {942260155536202701 46 273}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=274
update matchIndex[0]=273
update leader CommitIndex=272
leader log:
[{snapshot 46 269} {1053495943844834688 46 270} {2607646892132139887 46 271} {4885788486470996069 46 272} {942260155536202701 46 273}]
------------------------------------------------------
flag 91874 term 48 leader 2 nextIndex[0]: 274  matchIndex[0]: 273
term 48 leader 2 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 46 leaderCommit: 272 
------------------------------------------------------
flag 40092 term 48 leader 2 nextIndex[1]: 274  matchIndex[1]: 273
term 48 leader 2 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 46 leaderCommit: 272 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=272
leader log:
[{snapshot 46 269} {1053495943844834688 46 270} {2607646892132139887 46 271} {4885788486470996069 46 272} {942260155536202701 46 273}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=274
update matchIndex[0]=273
update leader CommitIndex=272
leader log:
[{snapshot 46 269} {1053495943844834688 46 270} {2607646892132139887 46 271} {4885788486470996069 46 272} {942260155536202701 46 273}]
------------------------------------------------------
flag 90574 term 48 leader 2 nextIndex[0]: 274  matchIndex[0]: 273
term 48 leader 2 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 46 leaderCommit: 272 
------------------------------------------------------
flag 92879 term 48 leader 2 nextIndex[1]: 274  matchIndex[1]: 273
term 48 leader 2 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 46 leaderCommit: 272 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=272
leader log:
[{snapshot 46 269} {1053495943844834688 46 270} {2607646892132139887 46 271} {4885788486470996069 46 272} {942260155536202701 46 273}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=274
update matchIndex[0]=273
update leader CommitIndex=272
leader log:
[{snapshot 46 269} {1053495943844834688 46 270} {2607646892132139887 46 271} {4885788486470996069 46 272} {942260155536202701 46 273}]
------------------------------------------------------
flag 84544 term 48 leader 2 nextIndex[0]: 274  matchIndex[0]: 273
term 48 leader 2 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 46 leaderCommit: 272 
------------------------------------------------------
flag 34642 term 48 leader 2 nextIndex[1]: 274  matchIndex[1]: 273
term 48 leader 2 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 46 leaderCommit: 272 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=272
leader log:
[{snapshot 46 269} {1053495943844834688 46 270} {2607646892132139887 46 271} {4885788486470996069 46 272} {942260155536202701 46 273}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=274
update matchIndex[0]=273
update leader CommitIndex=272
leader log:
[{snapshot 46 269} {1053495943844834688 46 270} {2607646892132139887 46 271} {4885788486470996069 46 272} {942260155536202701 46 273}]
------------------------------------------------------
flag 32103 term 48 leader 2 nextIndex[0]: 274  matchIndex[0]: 273
term 48 leader 2 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 46 leaderCommit: 272 
------------------------------------------------------
flag 53354 term 48 leader 2 nextIndex[1]: 274  matchIndex[1]: 273
term 48 leader 2 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 46 leaderCommit: 272 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=274
update matchIndex[0]=273
update leader CommitIndex=272
leader log:
[{snapshot 46 269} {1053495943844834688 46 270} {2607646892132139887 46 271} {4885788486470996069 46 272} {942260155536202701 46 273}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=272
leader log:
[{snapshot 46 269} {1053495943844834688 46 270} {2607646892132139887 46 271} {4885788486470996069 46 272} {942260155536202701 46 273}]
------------------------------------------------------
term 48 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 8530 term 48 leader 2 nextIndex[0]: 274  matchIndex[0]: 273
term 48 leader 2 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 46 leaderCommit: 272 
------------------------------------------------------
flag 41855 term 48 leader 2 nextIndex[1]: 274  matchIndex[1]: 273
term 48 leader 2 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 46 leaderCommit: 272 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=274
update matchIndex[0]=273
update leader CommitIndex=272
leader log:
[{snapshot 46 269} {1053495943844834688 46 270} {2607646892132139887 46 271} {4885788486470996069 46 272} {942260155536202701 46 273}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=272
leader log:
[{snapshot 46 269} {1053495943844834688 46 270} {2607646892132139887 46 271} {4885788486470996069 46 272} {942260155536202701 46 273}]
------------------------------------------------------
client write log 942260155536202701 (index 274) to leader 2
flag 75066 term 48 leader 2 nextIndex[0]: 274  matchIndex[0]: 273
term 48 leader 2 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 46 leaderCommit: 272 
------------------------------------------------------
flag 68370 term 48 leader 2 nextIndex[1]: 274  matchIndex[1]: 273
term 48 leader 2 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 46 leaderCommit: 272 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=274
leader log:
[{snapshot 46 269} {1053495943844834688 46 270} {2607646892132139887 46 271} {4885788486470996069 46 272} {942260155536202701 46 273} {942260155536202701 48 274}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=275
update matchIndex[0]=274
update leader CommitIndex=274
leader log:
[{snapshot 46 269} {1053495943844834688 46 270} {2607646892132139887 46 271} {4885788486470996069 46 272} {942260155536202701 46 273} {942260155536202701 48 274}]
------------------------------------------------------
flag 64900 term 48 leader 2 nextIndex[0]: 275  matchIndex[0]: 274
term 48 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 48 leaderCommit: 274 
------------------------------------------------------
flag 35369 term 48 leader 2 nextIndex[1]: 275  matchIndex[1]: 274
term 48 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 48 leaderCommit: 274 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=274
leader log:
[{snapshot 46 269} {1053495943844834688 46 270} {2607646892132139887 46 271} {4885788486470996069 46 272} {942260155536202701 46 273} {942260155536202701 48 274}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=275
update matchIndex[0]=274
update leader CommitIndex=274
leader log:
[{snapshot 46 269} {1053495943844834688 46 270} {2607646892132139887 46 271} {4885788486470996069 46 272} {942260155536202701 46 273} {942260155536202701 48 274}]
------------------------------------------------------
term 48 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 68476 term 48 leader 2 nextIndex[0]: 275  matchIndex[0]: 274
term 48 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 48 leaderCommit: 274 
------------------------------------------------------
flag 58376 term 48 leader 2 nextIndex[1]: 275  matchIndex[1]: 274
term 48 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 48 leaderCommit: 274 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=275
update matchIndex[0]=274
update leader CommitIndex=274
leader log:
[{snapshot 46 269} {1053495943844834688 46 270} {2607646892132139887 46 271} {4885788486470996069 46 272} {942260155536202701 46 273} {942260155536202701 48 274}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=274
leader log:
[{snapshot 46 269} {1053495943844834688 46 270} {2607646892132139887 46 271} {4885788486470996069 46 272} {942260155536202701 46 273} {942260155536202701 48 274}]
------------------------------------------------------
flag 28347 term 48 leader 2 nextIndex[0]: 275  matchIndex[0]: 274
term 48 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 48 leaderCommit: 274 
------------------------------------------------------
flag 4947 term 48 leader 2 nextIndex[1]: 275  matchIndex[1]: 274
term 48 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 48 leaderCommit: 274 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=274
leader log:
[{snapshot 46 269} {1053495943844834688 46 270} {2607646892132139887 46 271} {4885788486470996069 46 272} {942260155536202701 46 273} {942260155536202701 48 274}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=275
update matchIndex[0]=274
update leader CommitIndex=274
leader log:
[{snapshot 46 269} {1053495943844834688 46 270} {2607646892132139887 46 271} {4885788486470996069 46 272} {942260155536202701 46 273} {942260155536202701 48 274}]
------------------------------------------------------
flag 33577 term 48 leader 2 nextIndex[0]: 275  matchIndex[0]: 274
term 48 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 48 leaderCommit: 274 
------------------------------------------------------
flag 92204 term 48 leader 2 nextIndex[1]: 275  matchIndex[1]: 274
term 48 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 48 leaderCommit: 274 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=274
leader log:
[{snapshot 46 269} {1053495943844834688 46 270} {2607646892132139887 46 271} {4885788486470996069 46 272} {942260155536202701 46 273} {942260155536202701 48 274}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=275
update matchIndex[0]=274
update leader CommitIndex=274
leader log:
[{snapshot 46 269} {1053495943844834688 46 270} {2607646892132139887 46 271} {4885788486470996069 46 272} {942260155536202701 46 273} {942260155536202701 48 274}]
------------------------------------------------------
flag 14591 term 48 leader 2 nextIndex[0]: 275  matchIndex[0]: 274
term 48 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 48 leaderCommit: 274 
------------------------------------------------------
flag 64770 term 48 leader 2 nextIndex[1]: 275  matchIndex[1]: 274
term 48 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 48 leaderCommit: 274 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=274
leader log:
[{snapshot 46 269} {1053495943844834688 46 270} {2607646892132139887 46 271} {4885788486470996069 46 272} {942260155536202701 46 273} {942260155536202701 48 274}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=275
update matchIndex[0]=274
update leader CommitIndex=274
leader log:
[{snapshot 46 269} {1053495943844834688 46 270} {2607646892132139887 46 271} {4885788486470996069 46 272} {942260155536202701 46 273} {942260155536202701 48 274}]
------------------------------------------------------
flag 77117 term 48 leader 2 nextIndex[0]: 275  matchIndex[0]: 274
term 48 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 48 leaderCommit: 274 
------------------------------------------------------
flag 1864 term 48 leader 2 nextIndex[1]: 275  matchIndex[1]: 274
term 48 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 48 leaderCommit: 274 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=274
leader log:
[{snapshot 46 269} {1053495943844834688 46 270} {2607646892132139887 46 271} {4885788486470996069 46 272} {942260155536202701 46 273} {942260155536202701 48 274}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=275
update matchIndex[0]=274
update leader CommitIndex=274
leader log:
[{snapshot 46 269} {1053495943844834688 46 270} {2607646892132139887 46 271} {4885788486470996069 46 272} {942260155536202701 46 273} {942260155536202701 48 274}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 8450 term 48 leader 2 nextIndex[0]: 275  matchIndex[0]: 274
term 48 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 48 leaderCommit: 274 
------------------------------------------------------
flag 70920 term 48 leader 2 nextIndex[1]: 275  matchIndex[1]: 274
term 48 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 48 leaderCommit: 274 
------------------------------------------------------
flag 71559 term 48 leader 2 nextIndex[0]: 275  matchIndex[0]: 274
term 48 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 48 leaderCommit: 274 
------------------------------------------------------
flag 19877 term 48 leader 2 nextIndex[1]: 275  matchIndex[1]: 274
term 48 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 48 leaderCommit: 274 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 275->274
------------------------------------------------------
term 48 leader 2 nextIndex[0]: 0  matchIndex[0]: 274
term 48 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 46
------------------------------------------------------
flag 49165 term 48 leader 2 nextIndex[1]: 275  matchIndex[1]: 274
term 48 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 48 leaderCommit: 274 
------------------------------------------------------
term 48 leader 2 nextIndex[0]: 0  matchIndex[0]: 274
term 48 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 46
------------------------------------------------------
flag 76506 term 48 leader 2 nextIndex[1]: 275  matchIndex[1]: 274
term 48 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 48 leaderCommit: 274 
------------------------------------------------------
term 49 server 0 vote for server 1
term 49 server 1 get vote from server 0
term 49 server 1 become leader
------------------------------------------------------
flag 20403 term 49 leader 1 nextIndex[0]: 275  matchIndex[0]: 0
term 49 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 48 leaderCommit: 274 
------------------------------------------------------
flag 73852 term 49 leader 1 nextIndex[2]: 275  matchIndex[2]: 0
term 49 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 48 leaderCommit: 274 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=275
update matchIndex[0]=274
update leader CommitIndex=274
leader log:
[{snapshot 46 269} {1053495943844834688 46 270} {2607646892132139887 46 271} {4885788486470996069 46 272} {942260155536202701 46 273} {942260155536202701 48 274}]
------------------------------------------------------
client write log 331104123659788937 (index 275) to leader 1
term 48 leader 2 nextIndex[0]: 0  matchIndex[0]: 274
term 48 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 46
------------------------------------------------------
flag 49888 term 48 leader 2 nextIndex[1]: 275  matchIndex[1]: 274
term 48 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 48 leaderCommit: 274 
------------------------------------------------------
flag 77390 term 49 leader 1 nextIndex[0]: 275  matchIndex[0]: 274
term 49 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 48 leaderCommit: 274 
------------------------------------------------------
flag 20713 term 49 leader 1 nextIndex[2]: 275  matchIndex[2]: 0
term 49 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 48 leaderCommit: 274 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=275
leader log:
[{snapshot 46 269} {1053495943844834688 46 270} {2607646892132139887 46 271} {4885788486470996069 46 272} {942260155536202701 46 273} {942260155536202701 48 274} {331104123659788937 49 275}]
------------------------------------------------------
term 48 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 48 leader 2 nextIndex[0]: 0  matchIndex[0]: 274
term 48 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 46
------------------------------------------------------
flag 36092 term 48 leader 2 nextIndex[1]: 275  matchIndex[1]: 274
term 48 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 48 leaderCommit: 274 
------------------------------------------------------
flag 5748 term 49 leader 1 nextIndex[0]: 276  matchIndex[0]: 275
term 49 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 49 leaderCommit: 275 
------------------------------------------------------
flag 23128 term 49 leader 1 nextIndex[2]: 275  matchIndex[2]: 0
term 49 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 48 leaderCommit: 275 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=275
leader log:
[{snapshot 46 269} {1053495943844834688 46 270} {2607646892132139887 46 271} {4885788486470996069 46 272} {942260155536202701 46 273} {942260155536202701 48 274} {331104123659788937 49 275}]
------------------------------------------------------
client write log 3251074732279858260 (index 276) to leader 1
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 275->274
------------------------------------------------------
term 48 leader 2 nextIndex[0]: 0  matchIndex[0]: 274
term 48 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 46
------------------------------------------------------
term 48 leader 2 nextIndex[1]: 0  matchIndex[1]: 274
term 48 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 46
------------------------------------------------------
flag 7936 term 49 leader 1 nextIndex[0]: 276  matchIndex[0]: 275
term 49 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 49 leaderCommit: 275 
------------------------------------------------------
flag 32620 term 49 leader 1 nextIndex[2]: 275  matchIndex[2]: 0
term 49 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 48 leaderCommit: 275 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=276
leader log:
[{snapshot 46 269} {1053495943844834688 46 270} {2607646892132139887 46 271} {4885788486470996069 46 272} {942260155536202701 46 273} {942260155536202701 48 274} {331104123659788937 49 275} {3251074732279858260 49 276}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 48 leader 2 nextIndex[0]: 0  matchIndex[0]: 274
term 48 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 46
------------------------------------------------------
term 48 leader 2 nextIndex[1]: 0  matchIndex[1]: 274
term 48 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 46
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50220 term 49 leader 1 nextIndex[0]: 277  matchIndex[0]: 276
term 49 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 49 leaderCommit: 276 
------------------------------------------------------
flag 29702 term 49 leader 1 nextIndex[2]: 275  matchIndex[2]: 0
term 49 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 48 leaderCommit: 276 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=276
leader log:
[{snapshot 46 269} {1053495943844834688 46 270} {2607646892132139887 46 271} {4885788486470996069 46 272} {942260155536202701 46 273} {942260155536202701 48 274} {331104123659788937 49 275} {3251074732279858260 49 276}]
------------------------------------------------------
!!!!!!connect server 2
client write log 6115642072592403097 (index 277) to leader 1
term 48 leader 2 nextIndex[0]: 0  matchIndex[0]: 274
term 48 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 46
------------------------------------------------------
term 48 leader 2 nextIndex[1]: 0  matchIndex[1]: 274
term 48 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 46
------------------------------------------------------
term 49 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 48 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 49 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 49 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 56221 term 49 leader 1 nextIndex[0]: 277  matchIndex[0]: 276
term 49 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 49 leaderCommit: 276 
------------------------------------------------------
flag 68148 term 49 leader 1 nextIndex[2]: 275  matchIndex[2]: 0
term 49 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 48 leaderCommit: 276 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=277
leader log:
[{snapshot 46 269} {1053495943844834688 46 270} {2607646892132139887 46 271} {4885788486470996069 46 272} {942260155536202701 46 273} {942260155536202701 48 274} {331104123659788937 49 275} {3251074732279858260 49 276} {6115642072592403097 49 277}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=277
leader log:
[{snapshot 46 269} {1053495943844834688 46 270} {2607646892132139887 46 271} {4885788486470996069 46 272} {942260155536202701 46 273} {942260155536202701 48 274} {331104123659788937 49 275} {3251074732279858260 49 276} {6115642072592403097 49 277}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26145 term 49 leader 1 nextIndex[0]: 278  matchIndex[0]: 277
term 49 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 49 leaderCommit: 277 
------------------------------------------------------
flag 25091 term 49 leader 1 nextIndex[2]: 278  matchIndex[2]: 277
term 49 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 49 leaderCommit: 277 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:277 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=277
leader log:
[{snapshot 46 269} {1053495943844834688 46 270} {2607646892132139887 46 271} {4885788486470996069 46 272} {942260155536202701 46 273} {942260155536202701 48 274} {331104123659788937 49 275} {3251074732279858260 49 276} {6115642072592403097 49 277}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=277
leader log:
[{snapshot 46 269} {1053495943844834688 46 270} {2607646892132139887 46 271} {4885788486470996069 46 272} {942260155536202701 46 273} {942260155536202701 48 274} {331104123659788937 49 275} {3251074732279858260 49 276} {6115642072592403097 49 277}]
------------------------------------------------------
flag 4467 term 49 leader 1 nextIndex[0]: 278  matchIndex[0]: 277
term 49 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 49 leaderCommit: 277 
------------------------------------------------------
flag 72700 term 49 leader 1 nextIndex[2]: 278  matchIndex[2]: 277
term 49 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 49 leaderCommit: 277 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
term 49 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
update matchIndex[2]=277
update leader CommitIndex=277
leader log:
[{snapshot 46 269} {1053495943844834688 46 270} {2607646892132139887 46 271} {4885788486470996069 46 272} {942260155536202701 46 273} {942260155536202701 48 274} {331104123659788937 49 275} {3251074732279858260 49 276} {6115642072592403097 49 277}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=277
leader log:
[{snapshot 46 269} {1053495943844834688 46 270} {2607646892132139887 46 271} {4885788486470996069 46 272} {942260155536202701 46 273} {942260155536202701 48 274} {331104123659788937 49 275} {3251074732279858260 49 276} {6115642072592403097 49 277}]
------------------------------------------------------
term 49 server 1 not vote for server 0, 任期不够新
term 49 server 0 get outdate rpc reply from server 1
flag 2859 term 49 leader 1 nextIndex[0]: 278  matchIndex[0]: 277
term 49 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 49 leaderCommit: 277 
------------------------------------------------------
flag 78504 term 49 leader 1 nextIndex[2]: 278  matchIndex[2]: 277
term 49 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 49 leaderCommit: 277 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=277
leader log:
[{snapshot 46 269} {1053495943844834688 46 270} {2607646892132139887 46 271} {4885788486470996069 46 272} {942260155536202701 46 273} {942260155536202701 48 274} {331104123659788937 49 275} {3251074732279858260 49 276} {6115642072592403097 49 277}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=277
leader log:
[{snapshot 46 269} {1053495943844834688 46 270} {2607646892132139887 46 271} {4885788486470996069 46 272} {942260155536202701 46 273} {942260155536202701 48 274} {331104123659788937 49 275} {3251074732279858260 49 276} {6115642072592403097 49 277}]
------------------------------------------------------
flag 56379 term 49 leader 1 nextIndex[0]: 278  matchIndex[0]: 277
term 49 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 49 leaderCommit: 277 
------------------------------------------------------
flag 17472 term 49 leader 1 nextIndex[2]: 278  matchIndex[2]: 277
term 49 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 49 leaderCommit: 277 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=277
leader log:
[{snapshot 46 269} {1053495943844834688 46 270} {2607646892132139887 46 271} {4885788486470996069 46 272} {942260155536202701 46 273} {942260155536202701 48 274} {331104123659788937 49 275} {3251074732279858260 49 276} {6115642072592403097 49 277}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=277
leader log:
[{snapshot 46 269} {1053495943844834688 46 270} {2607646892132139887 46 271} {4885788486470996069 46 272} {942260155536202701 46 273} {942260155536202701 48 274} {331104123659788937 49 275} {3251074732279858260 49 276} {6115642072592403097 49 277}]
------------------------------------------------------
term 49 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 91089 term 49 leader 1 nextIndex[0]: 278  matchIndex[0]: 277
term 49 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 49 leaderCommit: 277 
------------------------------------------------------
flag 42832 term 49 leader 1 nextIndex[2]: 278  matchIndex[2]: 277
term 49 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 49 leaderCommit: 277 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=277
leader log:
[{snapshot 46 269} {1053495943844834688 46 270} {2607646892132139887 46 271} {4885788486470996069 46 272} {942260155536202701 46 273} {942260155536202701 48 274} {331104123659788937 49 275} {3251074732279858260 49 276} {6115642072592403097 49 277}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=277
leader log:
[{snapshot 46 269} {1053495943844834688 46 270} {2607646892132139887 46 271} {4885788486470996069 46 272} {942260155536202701 46 273} {942260155536202701 48 274} {331104123659788937 49 275} {3251074732279858260 49 276} {6115642072592403097 49 277}]
------------------------------------------------------
flag 46714 term 49 leader 1 nextIndex[0]: 278  matchIndex[0]: 277
term 49 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 49 leaderCommit: 277 
------------------------------------------------------
flag 77161 term 49 leader 1 nextIndex[2]: 278  matchIndex[2]: 277
term 49 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 49 leaderCommit: 277 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=277
leader log:
[{snapshot 46 269} {1053495943844834688 46 270} {2607646892132139887 46 271} {4885788486470996069 46 272} {942260155536202701 46 273} {942260155536202701 48 274} {331104123659788937 49 275} {3251074732279858260 49 276} {6115642072592403097 49 277}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=277
leader log:
[{snapshot 46 269} {1053495943844834688 46 270} {2607646892132139887 46 271} {4885788486470996069 46 272} {942260155536202701 46 273} {942260155536202701 48 274} {331104123659788937 49 275} {3251074732279858260 49 276} {6115642072592403097 49 277}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 2874034314221911147 (index 278) to leader 1
term 49 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 65500 term 49 leader 1 nextIndex[0]: 278  matchIndex[0]: 277
term 49 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 49 leaderCommit: 277 
------------------------------------------------------
flag 43682 term 49 leader 1 nextIndex[2]: 278  matchIndex[2]: 277
term 49 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 49 leaderCommit: 277 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=278
leader log:
[{snapshot 46 269} {1053495943844834688 46 270} {2607646892132139887 46 271} {4885788486470996069 46 272} {942260155536202701 46 273} {942260155536202701 48 274} {331104123659788937 49 275} {3251074732279858260 49 276} {6115642072592403097 49 277} {2874034314221911147 49 278}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51893 term 49 leader 1 nextIndex[0]: 279  matchIndex[0]: 278
term 49 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 49 leaderCommit: 278 
------------------------------------------------------
flag 93929 term 49 leader 1 nextIndex[2]: 278  matchIndex[2]: 277
term 49 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 49 leaderCommit: 278 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=278
leader log:
[{snapshot 46 269} {1053495943844834688 46 270} {2607646892132139887 46 271} {4885788486470996069 46 272} {942260155536202701 46 273} {942260155536202701 48 274} {331104123659788937 49 275} {3251074732279858260 49 276} {6115642072592403097 49 277} {2874034314221911147 49 278}]
------------------------------------------------------
client write log 2905721555454603531 (index 279) to leader 1
client write log 7620860344739277997 (index 280) to leader 1
client write log 6001603883566441647 (index 281) to leader 1
client write log 6205396508197012243 (index 282) to leader 1
client write log 3516215472689372087 (index 283) to leader 1
client write log 2974741472035703352 (index 284) to leader 1
client write log 3048028573785079376 (index 285) to leader 1
client write log 3796560391498251901 (index 286) to leader 1
client write log 6754357705589761952 (index 287) to leader 1
client write log 5360980430548354330 (index 288) to leader 1
client write log 8139052396290585864 (index 289) to leader 1
flag 4472 term 49 leader 1 nextIndex[0]: 279  matchIndex[0]: 278
term 49 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 49 leaderCommit: 278 
------------------------------------------------------
flag 44224 term 49 leader 1 nextIndex[2]: 278  matchIndex[2]: 277
term 49 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 49 leaderCommit: 278 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=290
update matchIndex[0]=289
update leader CommitIndex=289
leader log:
[{snapshot 46 269} {1053495943844834688 46 270} {2607646892132139887 46 271} {4885788486470996069 46 272} {942260155536202701 46 273} {942260155536202701 48 274} {331104123659788937 49 275} {3251074732279858260 49 276} {6115642072592403097 49 277} {2874034314221911147 49 278} {2905721555454603531 49 279} {7620860344739277997 49 280} {6001603883566441647 49 281} {6205396508197012243 49 282} {3516215472689372087 49 283} {2974741472035703352 49 284} {3048028573785079376 49 285} {3796560391498251901 49 286} {6754357705589761952 49 287} {5360980430548354330 49 288} {8139052396290585864 49 289}]
------------------------------------------------------
term 49 Server1 start snapshot! index=279
term 49 server1 snapshot success
lastIncludedIndex=279 lastApplied=280 lastIndex=289
-------------------------------------------------------------
term 49 Server1 start snapshot! index=289
term 49 server1 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=289
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25602 term 49 leader 1 nextIndex[0]: 290  matchIndex[0]: 289
term 49 leader 1 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 49 leaderCommit: 289 
------------------------------------------------------
term 49 leader 1 nextIndex[2]: 278  matchIndex[2]: 277
term 49 leader 1 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 49
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=290
update matchIndex[0]=289
update leader CommitIndex=289
leader log:
[{snapshot 49 289}]
------------------------------------------------------
term 49 Server0 start snapshot! index=279
term 49 server0 snapshot success
lastIncludedIndex=279 lastApplied=280 lastIndex=289
-------------------------------------------------------------
term 49 Server0 start snapshot! index=289
term 49 server0 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=289
-------------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 278->277
------------------------------------------------------
!!!!!!connect server 2
client write log 1368269464529682847 (index 290) to leader 1
flag 29374 term 49 leader 1 nextIndex[0]: 290  matchIndex[0]: 289
term 49 leader 1 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 49 leaderCommit: 289 
------------------------------------------------------
term 49 leader 1 nextIndex[2]: 0  matchIndex[2]: 277
term 49 leader 1 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 49
------------------------------------------------------
term 50 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 49 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 50 server 2 not vote for server 1, 任期不够新
term 50 server 1 get outdate rpc reply from server 2
term 51 server 2 vote for server 1
term 51 server 1 get vote from server 2
term 51 server 1 become leader
------------------------------------------------------
term 51 server 0 vote for server 1
term 51 server 1 get outdate rpc reply from server 0
flag 58854 term 51 leader 1 nextIndex[0]: 291  matchIndex[0]: 0
term 51 leader 1 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 49 leaderCommit: 289 
------------------------------------------------------
flag 51227 term 51 leader 1 nextIndex[2]: 291  matchIndex[2]: 0
term 51 leader 1 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 49 leaderCommit: 289 
------------------------------------------------------
term 51 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 291->290
term 51 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=291
update matchIndex[0]=290
update leader CommitIndex=289
leader log:
[{snapshot 49 289} {1368269464529682847 49 290}]
------------------------------------------------------
term 51 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 29075 term 51 leader 1 nextIndex[0]: 291  matchIndex[0]: 290
term 51 leader 1 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 49 leaderCommit: 289 
------------------------------------------------------
term 51 leader 1 nextIndex[2]: 278  matchIndex[2]: 0
term 51 leader 1 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 49
------------------------------------------------------
term 51 server 2 InstallSnapshot success
------------------------------------------------------
term 51 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 290 matchIndex[2] 289 
------------------------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=291
update matchIndex[0]=290
update leader CommitIndex=289
leader log:
[{snapshot 49 289} {1368269464529682847 49 290}]
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 289 rf.lastIncludedTerm 49 rf.commitIndex 289 rf.lastApplied 289
term 51 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40434 term 51 leader 1 nextIndex[0]: 291  matchIndex[0]: 290
term 51 leader 1 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 49 leaderCommit: 289 
------------------------------------------------------
flag 62895 term 51 leader 1 nextIndex[2]: 290  matchIndex[2]: 289
term 51 leader 1 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 49 leaderCommit: 289 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:289 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=289
leader log:
[{snapshot 49 289} {1368269464529682847 49 290}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=291
update matchIndex[0]=290
update leader CommitIndex=289
leader log:
[{snapshot 49 289} {1368269464529682847 49 290}]
------------------------------------------------------
flag 74748 term 51 leader 1 nextIndex[0]: 291  matchIndex[0]: 290
term 51 leader 1 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 49 leaderCommit: 289 
------------------------------------------------------
flag 95125 term 51 leader 1 nextIndex[2]: 291  matchIndex[2]: 290
term 51 leader 1 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 49 leaderCommit: 289 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:289 
term 51 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=291
update matchIndex[0]=290
update leader CommitIndex=289
leader log:
[{snapshot 49 289} {1368269464529682847 49 290}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=289
leader log:
[{snapshot 49 289} {1368269464529682847 49 290}]
------------------------------------------------------
flag 89486 term 51 leader 1 nextIndex[0]: 291  matchIndex[0]: 290
term 51 leader 1 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 49 leaderCommit: 289 
------------------------------------------------------
flag 35275 term 51 leader 1 nextIndex[2]: 291  matchIndex[2]: 290
term 51 leader 1 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 49 leaderCommit: 289 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:289 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=289
leader log:
[{snapshot 49 289} {1368269464529682847 49 290}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=291
update matchIndex[0]=290
update leader CommitIndex=289
leader log:
[{snapshot 49 289} {1368269464529682847 49 290}]
------------------------------------------------------
term 51 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 69027 term 51 leader 1 nextIndex[0]: 291  matchIndex[0]: 290
term 51 leader 1 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 49 leaderCommit: 289 
------------------------------------------------------
flag 42870 term 51 leader 1 nextIndex[2]: 291  matchIndex[2]: 290
term 51 leader 1 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 49 leaderCommit: 289 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=289
leader log:
[{snapshot 49 289} {1368269464529682847 49 290}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=291
update matchIndex[0]=290
update leader CommitIndex=289
leader log:
[{snapshot 49 289} {1368269464529682847 49 290}]
------------------------------------------------------
flag 37416 term 51 leader 1 nextIndex[0]: 291  matchIndex[0]: 290
term 51 leader 1 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 49 leaderCommit: 289 
------------------------------------------------------
flag 887 term 51 leader 1 nextIndex[2]: 291  matchIndex[2]: 290
term 51 leader 1 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 49 leaderCommit: 289 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=289
leader log:
[{snapshot 49 289} {1368269464529682847 49 290}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=291
update matchIndex[0]=290
update leader CommitIndex=289
leader log:
[{snapshot 49 289} {1368269464529682847 49 290}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4029 term 51 leader 1 nextIndex[0]: 291  matchIndex[0]: 290
term 51 leader 1 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 49 leaderCommit: 289 
------------------------------------------------------
flag 25586 term 51 leader 1 nextIndex[2]: 291  matchIndex[2]: 290
term 51 leader 1 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 49 leaderCommit: 289 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=289
leader log:
[{snapshot 49 289} {1368269464529682847 49 290}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=291
update matchIndex[0]=290
update leader CommitIndex=289
leader log:
[{snapshot 49 289} {1368269464529682847 49 290}]
------------------------------------------------------
term 51 server 0 not vote for server 2, 任期不够新
term 51 server 2 get outdate rpc reply from server 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87229 term 51 leader 1 nextIndex[0]: 291  matchIndex[0]: 290
term 51 leader 1 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 49 leaderCommit: 289 
------------------------------------------------------
flag 67008 term 51 leader 1 nextIndex[2]: 291  matchIndex[2]: 290
term 51 leader 1 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 49 leaderCommit: 289 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=289
leader log:
[{snapshot 49 289} {1368269464529682847 49 290}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=291
update matchIndex[0]=290
update leader CommitIndex=289
leader log:
[{snapshot 49 289} {1368269464529682847 49 290}]
------------------------------------------------------
flag 75847 term 51 leader 1 nextIndex[0]: 291  matchIndex[0]: 290
term 51 leader 1 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 49 leaderCommit: 289 
------------------------------------------------------
flag 28599 term 51 leader 1 nextIndex[2]: 291  matchIndex[2]: 290
term 51 leader 1 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 49 leaderCommit: 289 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=289
leader log:
[{snapshot 49 289} {1368269464529682847 49 290}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=291
update matchIndex[0]=290
update leader CommitIndex=289
leader log:
[{snapshot 49 289} {1368269464529682847 49 290}]
------------------------------------------------------
flag 60284 term 51 leader 1 nextIndex[0]: 291  matchIndex[0]: 290
term 51 leader 1 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 49 leaderCommit: 289 
------------------------------------------------------
flag 81245 term 51 leader 1 nextIndex[2]: 291  matchIndex[2]: 290
term 51 leader 1 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 49 leaderCommit: 289 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=289
leader log:
[{snapshot 49 289} {1368269464529682847 49 290}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=291
update matchIndex[0]=290
update leader CommitIndex=289
leader log:
[{snapshot 49 289} {1368269464529682847 49 290}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41194 term 51 leader 1 nextIndex[0]: 291  matchIndex[0]: 290
term 51 leader 1 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 49 leaderCommit: 289 
------------------------------------------------------
flag 57155 term 51 leader 1 nextIndex[2]: 291  matchIndex[2]: 290
term 51 leader 1 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 49 leaderCommit: 289 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:289 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=289
leader log:
[{snapshot 49 289} {1368269464529682847 49 290}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=291
update matchIndex[0]=290
update leader CommitIndex=289
leader log:
[{snapshot 49 289} {1368269464529682847 49 290}]
------------------------------------------------------
flag 97442 term 51 leader 1 nextIndex[0]: 291  matchIndex[0]: 290
term 51 leader 1 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 49 leaderCommit: 289 
------------------------------------------------------
flag 3029 term 51 leader 1 nextIndex[2]: 291  matchIndex[2]: 290
term 51 leader 1 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 49 leaderCommit: 289 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=289
leader log:
[{snapshot 49 289} {1368269464529682847 49 290}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=291
update matchIndex[0]=290
update leader CommitIndex=289
leader log:
[{snapshot 49 289} {1368269464529682847 49 290}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12174 term 51 leader 1 nextIndex[0]: 291  matchIndex[0]: 290
term 51 leader 1 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 49 leaderCommit: 289 
------------------------------------------------------
flag 4584 term 51 leader 1 nextIndex[2]: 291  matchIndex[2]: 290
term 51 leader 1 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 49 leaderCommit: 289 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:289 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=289
leader log:
[{snapshot 49 289} {1368269464529682847 49 290}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=291
update matchIndex[0]=290
update leader CommitIndex=289
leader log:
[{snapshot 49 289} {1368269464529682847 49 290}]
------------------------------------------------------
flag 72383 term 51 leader 1 nextIndex[0]: 291  matchIndex[0]: 290
term 51 leader 1 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 49 leaderCommit: 289 
------------------------------------------------------
flag 54340 term 51 leader 1 nextIndex[2]: 291  matchIndex[2]: 290
term 51 leader 1 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 49 leaderCommit: 289 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=291
update matchIndex[0]=290
update leader CommitIndex=289
leader log:
[{snapshot 49 289} {1368269464529682847 49 290}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=289
leader log:
[{snapshot 49 289} {1368269464529682847 49 290}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97166 term 51 leader 1 nextIndex[0]: 291  matchIndex[0]: 290
term 51 leader 1 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 49 leaderCommit: 289 
------------------------------------------------------
flag 62577 term 51 leader 1 nextIndex[2]: 291  matchIndex[2]: 290
term 51 leader 1 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 49 leaderCommit: 289 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=289
leader log:
[{snapshot 49 289} {1368269464529682847 49 290}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=291
update matchIndex[0]=290
update leader CommitIndex=289
leader log:
[{snapshot 49 289} {1368269464529682847 49 290}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60514 term 51 leader 1 nextIndex[0]: 291  matchIndex[0]: 290
term 51 leader 1 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 49 leaderCommit: 289 
------------------------------------------------------
flag 80864 term 51 leader 1 nextIndex[2]: 291  matchIndex[2]: 290
term 51 leader 1 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 49 leaderCommit: 289 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:289 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=289
leader log:
[{snapshot 49 289} {1368269464529682847 49 290}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=291
update matchIndex[0]=290
update leader CommitIndex=289
leader log:
[{snapshot 49 289} {1368269464529682847 49 290}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54260 term 51 leader 1 nextIndex[0]: 291  matchIndex[0]: 290
term 51 leader 1 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 49 leaderCommit: 289 
------------------------------------------------------
flag 14742 term 51 leader 1 nextIndex[2]: 291  matchIndex[2]: 290
term 51 leader 1 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 49 leaderCommit: 289 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=289
leader log:
[{snapshot 49 289} {1368269464529682847 49 290}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=291
update matchIndex[0]=290
update leader CommitIndex=289
leader log:
[{snapshot 49 289} {1368269464529682847 49 290}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62384 term 51 leader 1 nextIndex[0]: 291  matchIndex[0]: 290
term 51 leader 1 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 49 leaderCommit: 289 
------------------------------------------------------
flag 30030 term 51 leader 1 nextIndex[2]: 291  matchIndex[2]: 290
term 51 leader 1 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 49 leaderCommit: 289 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=291
update matchIndex[0]=290
update leader CommitIndex=289
leader log:
[{snapshot 49 289} {1368269464529682847 49 290}]
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=289
leader log:
[{snapshot 49 289} {1368269464529682847 49 290}]
------------------------------------------------------
client write log 1368269464529682847 (index 291) to leader 1
flag 17228 term 51 leader 1 nextIndex[0]: 291  matchIndex[0]: 290
term 51 leader 1 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 49 leaderCommit: 289 
------------------------------------------------------
flag 72724 term 51 leader 1 nextIndex[2]: 291  matchIndex[2]: 290
term 51 leader 1 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 49 leaderCommit: 289 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:289 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=291
leader log:
[{snapshot 49 289} {1368269464529682847 49 290} {1368269464529682847 51 291}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=291
leader log:
[{snapshot 49 289} {1368269464529682847 49 290} {1368269464529682847 51 291}]
------------------------------------------------------
flag 67665 term 51 leader 1 nextIndex[0]: 292  matchIndex[0]: 291
term 51 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 51 leaderCommit: 291 
------------------------------------------------------
flag 87283 term 51 leader 1 nextIndex[2]: 292  matchIndex[2]: 291
term 51 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 51 leaderCommit: 291 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=291
leader log:
[{snapshot 49 289} {1368269464529682847 49 290} {1368269464529682847 51 291}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=291
leader log:
[{snapshot 49 289} {1368269464529682847 49 290} {1368269464529682847 51 291}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82550 term 51 leader 1 nextIndex[0]: 292  matchIndex[0]: 291
term 51 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 51 leaderCommit: 291 
------------------------------------------------------
flag 4755 term 51 leader 1 nextIndex[2]: 292  matchIndex[2]: 291
term 51 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 51 leaderCommit: 291 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=291
leader log:
[{snapshot 49 289} {1368269464529682847 49 290} {1368269464529682847 51 291}]
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=291
leader log:
[{snapshot 49 289} {1368269464529682847 49 290} {1368269464529682847 51 291}]
------------------------------------------------------
flag 63083 term 51 leader 1 nextIndex[0]: 292  matchIndex[0]: 291
term 51 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 51 leaderCommit: 291 
------------------------------------------------------
flag 86611 term 51 leader 1 nextIndex[2]: 292  matchIndex[2]: 291
term 51 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 51 leaderCommit: 291 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=291
leader log:
[{snapshot 49 289} {1368269464529682847 49 290} {1368269464529682847 51 291}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=291
leader log:
[{snapshot 49 289} {1368269464529682847 49 290} {1368269464529682847 51 291}]
------------------------------------------------------
flag 42248 term 51 leader 1 nextIndex[0]: 292  matchIndex[0]: 291
term 51 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 51 leaderCommit: 291 
------------------------------------------------------
flag 33748 term 51 leader 1 nextIndex[2]: 292  matchIndex[2]: 291
term 51 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 51 leaderCommit: 291 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=291
leader log:
[{snapshot 49 289} {1368269464529682847 49 290} {1368269464529682847 51 291}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=291
leader log:
[{snapshot 49 289} {1368269464529682847 49 290} {1368269464529682847 51 291}]
------------------------------------------------------
flag 42113 term 51 leader 1 nextIndex[0]: 292  matchIndex[0]: 291
term 51 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 51 leaderCommit: 291 
------------------------------------------------------
flag 67174 term 51 leader 1 nextIndex[2]: 292  matchIndex[2]: 291
term 51 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 51 leaderCommit: 291 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:291 
term 51 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=291
leader log:
[{snapshot 49 289} {1368269464529682847 49 290} {1368269464529682847 51 291}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=291
leader log:
[{snapshot 49 289} {1368269464529682847 49 290} {1368269464529682847 51 291}]
------------------------------------------------------
term 51 server 1 not vote for server 2, 任期不够新
term 51 server 2 get outdate rpc reply from server 1
flag 73063 term 51 leader 1 nextIndex[0]: 292  matchIndex[0]: 291
term 51 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 51 leaderCommit: 291 
------------------------------------------------------
flag 66293 term 51 leader 1 nextIndex[2]: 292  matchIndex[2]: 291
term 51 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 51 leaderCommit: 291 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=291
leader log:
[{snapshot 49 289} {1368269464529682847 49 290} {1368269464529682847 51 291}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=291
leader log:
[{snapshot 49 289} {1368269464529682847 49 290} {1368269464529682847 51 291}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 8308777347762233024 (index 292) to leader 1
flag 17326 term 51 leader 1 nextIndex[0]: 292  matchIndex[0]: 291
term 51 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 51 leaderCommit: 291 
------------------------------------------------------
flag 66142 term 51 leader 1 nextIndex[2]: 292  matchIndex[2]: 291
term 51 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 51 leaderCommit: 291 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=292
leader log:
[{snapshot 49 289} {1368269464529682847 49 290} {1368269464529682847 51 291} {8308777347762233024 51 292}]
------------------------------------------------------
flag 99388 term 51 leader 1 nextIndex[0]: 293  matchIndex[0]: 292
term 51 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 51 leaderCommit: 292 
------------------------------------------------------
flag 45986 term 51 leader 1 nextIndex[2]: 292  matchIndex[2]: 291
term 51 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 51 leaderCommit: 292 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=292
leader log:
[{snapshot 49 289} {1368269464529682847 49 290} {1368269464529682847 51 291} {8308777347762233024 51 292}]
------------------------------------------------------
client write log 4228272706603712080 (index 293) to leader 1
client write log 399030659933448909 (index 294) to leader 1
client write log 5697114075404506337 (index 295) to leader 1
client write log 767645306242597088 (index 296) to leader 1
client write log 5292969456629350894 (index 297) to leader 1
client write log 4361971626724329107 (index 298) to leader 1
client write log 4962830992438533660 (index 299) to leader 1
client write log 6873752959055517111 (index 300) to leader 1
client write log 6694741115530986017 (index 301) to leader 1
client write log 6169976378259786846 (index 302) to leader 1
client write log 6278147178383516886 (index 303) to leader 1
client write log 3870932676640237033 (index 304) to leader 1
client write log 9141830778750783082 (index 305) to leader 1
client write log 3463993321297168236 (index 306) to leader 1
client write log 230905514882453739 (index 307) to leader 1
flag 72127 term 51 leader 1 nextIndex[0]: 293  matchIndex[0]: 292
term 51 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 51 leaderCommit: 292 
------------------------------------------------------
flag 98266 term 51 leader 1 nextIndex[2]: 292  matchIndex[2]: 291
term 51 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 51 leaderCommit: 292 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=307
leader log:
[{snapshot 49 289} {1368269464529682847 49 290} {1368269464529682847 51 291} {8308777347762233024 51 292} {4228272706603712080 51 293} {399030659933448909 51 294} {5697114075404506337 51 295} {767645306242597088 51 296} {5292969456629350894 51 297} {4361971626724329107 51 298} {4962830992438533660 51 299} {6873752959055517111 51 300} {6694741115530986017 51 301} {6169976378259786846 51 302} {6278147178383516886 51 303} {3870932676640237033 51 304} {9141830778750783082 51 305} {3463993321297168236 51 306} {230905514882453739 51 307}]
------------------------------------------------------
term 51 Server1 start snapshot! index=299
term 51 server1 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=307
-------------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 292->291
------------------------------------------------------
flag 81965 term 51 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 51 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 51 leaderCommit: 307 
------------------------------------------------------
term 51 leader 1 nextIndex[2]: 0  matchIndex[2]: 291
term 51 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 51
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=307
leader log:
[{snapshot 51 299} {6873752959055517111 51 300} {6694741115530986017 51 301} {6169976378259786846 51 302} {6278147178383516886 51 303} {3870932676640237033 51 304} {9141830778750783082 51 305} {3463993321297168236 51 306} {230905514882453739 51 307}]
------------------------------------------------------
term 51 Server0 start snapshot! index=299
term 51 server0 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=307
-------------------------------------------------------------
!!!!!!connect server 2
client write log 2529463445268022700 (index 308) to leader 1
term 51 server 1 not vote for server 2, 日志不够新
term 51 server 0 not vote for server 2, 日志不够新
term 53 server 2 vote for server 1
term 53 server 1 get vote from server 2
term 53 server 1 become leader
------------------------------------------------------
term 53 server 0 vote for server 1
term 53 server 1 get outdate rpc reply from server 0
flag 40051 term 53 leader 1 nextIndex[0]: 309  matchIndex[0]: 0
term 53 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 51 leaderCommit: 307 
------------------------------------------------------
flag 2664 term 53 leader 1 nextIndex[2]: 309  matchIndex[2]: 0
term 53 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 51 leaderCommit: 307 
------------------------------------------------------
term 53 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 309->308
------------------------------------------------------
term 53 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 309->308
------------------------------------------------------
flag 71040 term 53 leader 1 nextIndex[0]: 308  matchIndex[0]: 0
term 53 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 51 leaderCommit: 307 
------------------------------------------------------
term 53 leader 1 nextIndex[2]: 292  matchIndex[2]: 0
term 53 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 51
------------------------------------------------------
term 53 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
term 53 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 300 matchIndex[2] 299 
------------------------------------------------------------------------
rf.lastIncludedIndex 299 rf.lastIncludedTerm 51 rf.commitIndex 299 rf.lastApplied 299
term 53 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=307
leader log:
[{snapshot 51 299} {6873752959055517111 51 300} {6694741115530986017 51 301} {6169976378259786846 51 302} {6278147178383516886 51 303} {3870932676640237033 51 304} {9141830778750783082 51 305} {3463993321297168236 51 306} {230905514882453739 51 307} {2529463445268022700 51 308}]
------------------------------------------------------
flag 260 term 53 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 53 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 51 leaderCommit: 307 
------------------------------------------------------
flag 40092 term 53 leader 1 nextIndex[2]: 300  matchIndex[2]: 299
term 53 leader 1 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 51 leaderCommit: 307 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=307
leader log:
[{snapshot 51 299} {6873752959055517111 51 300} {6694741115530986017 51 301} {6169976378259786846 51 302} {6278147178383516886 51 303} {3870932676640237033 51 304} {9141830778750783082 51 305} {3463993321297168236 51 306} {230905514882453739 51 307} {2529463445268022700 51 308}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=307
leader log:
[{snapshot 51 299} {6873752959055517111 51 300} {6694741115530986017 51 301} {6169976378259786846 51 302} {6278147178383516886 51 303} {3870932676640237033 51 304} {9141830778750783082 51 305} {3463993321297168236 51 306} {230905514882453739 51 307} {2529463445268022700 51 308}]
------------------------------------------------------
flag 56455 term 53 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 53 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 51 leaderCommit: 307 
------------------------------------------------------
flag 20042 term 53 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 53 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 51 leaderCommit: 307 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=307
leader log:
[{snapshot 51 299} {6873752959055517111 51 300} {6694741115530986017 51 301} {6169976378259786846 51 302} {6278147178383516886 51 303} {3870932676640237033 51 304} {9141830778750783082 51 305} {3463993321297168236 51 306} {230905514882453739 51 307} {2529463445268022700 51 308}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=307
leader log:
[{snapshot 51 299} {6873752959055517111 51 300} {6694741115530986017 51 301} {6169976378259786846 51 302} {6278147178383516886 51 303} {3870932676640237033 51 304} {9141830778750783082 51 305} {3463993321297168236 51 306} {230905514882453739 51 307} {2529463445268022700 51 308}]
------------------------------------------------------
flag 67332 term 53 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 53 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 51 leaderCommit: 307 
------------------------------------------------------
flag 43350 term 53 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 53 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 51 leaderCommit: 307 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=307
leader log:
[{snapshot 51 299} {6873752959055517111 51 300} {6694741115530986017 51 301} {6169976378259786846 51 302} {6278147178383516886 51 303} {3870932676640237033 51 304} {9141830778750783082 51 305} {3463993321297168236 51 306} {230905514882453739 51 307} {2529463445268022700 51 308}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=307
leader log:
[{snapshot 51 299} {6873752959055517111 51 300} {6694741115530986017 51 301} {6169976378259786846 51 302} {6278147178383516886 51 303} {3870932676640237033 51 304} {9141830778750783082 51 305} {3463993321297168236 51 306} {230905514882453739 51 307} {2529463445268022700 51 308}]
------------------------------------------------------
flag 4354 term 53 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 53 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 51 leaderCommit: 307 
------------------------------------------------------
flag 9116 term 53 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 53 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 51 leaderCommit: 307 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=307
leader log:
[{snapshot 51 299} {6873752959055517111 51 300} {6694741115530986017 51 301} {6169976378259786846 51 302} {6278147178383516886 51 303} {3870932676640237033 51 304} {9141830778750783082 51 305} {3463993321297168236 51 306} {230905514882453739 51 307} {2529463445268022700 51 308}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=307
leader log:
[{snapshot 51 299} {6873752959055517111 51 300} {6694741115530986017 51 301} {6169976378259786846 51 302} {6278147178383516886 51 303} {3870932676640237033 51 304} {9141830778750783082 51 305} {3463993321297168236 51 306} {230905514882453739 51 307} {2529463445268022700 51 308}]
------------------------------------------------------
flag 2490 term 53 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 53 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 51 leaderCommit: 307 
------------------------------------------------------
flag 33752 term 53 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 53 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 51 leaderCommit: 307 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=307
leader log:
[{snapshot 51 299} {6873752959055517111 51 300} {6694741115530986017 51 301} {6169976378259786846 51 302} {6278147178383516886 51 303} {3870932676640237033 51 304} {9141830778750783082 51 305} {3463993321297168236 51 306} {230905514882453739 51 307} {2529463445268022700 51 308}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=307
leader log:
[{snapshot 51 299} {6873752959055517111 51 300} {6694741115530986017 51 301} {6169976378259786846 51 302} {6278147178383516886 51 303} {3870932676640237033 51 304} {9141830778750783082 51 305} {3463993321297168236 51 306} {230905514882453739 51 307} {2529463445268022700 51 308}]
------------------------------------------------------
flag 53390 term 53 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 53 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 51 leaderCommit: 307 
------------------------------------------------------
flag 84600 term 53 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 53 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 51 leaderCommit: 307 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=307
leader log:
[{snapshot 51 299} {6873752959055517111 51 300} {6694741115530986017 51 301} {6169976378259786846 51 302} {6278147178383516886 51 303} {3870932676640237033 51 304} {9141830778750783082 51 305} {3463993321297168236 51 306} {230905514882453739 51 307} {2529463445268022700 51 308}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=307
leader log:
[{snapshot 51 299} {6873752959055517111 51 300} {6694741115530986017 51 301} {6169976378259786846 51 302} {6278147178383516886 51 303} {3870932676640237033 51 304} {9141830778750783082 51 305} {3463993321297168236 51 306} {230905514882453739 51 307} {2529463445268022700 51 308}]
------------------------------------------------------
flag 13904 term 53 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 53 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 51 leaderCommit: 307 
------------------------------------------------------
flag 26016 term 53 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 53 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 51 leaderCommit: 307 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=307
leader log:
[{snapshot 51 299} {6873752959055517111 51 300} {6694741115530986017 51 301} {6169976378259786846 51 302} {6278147178383516886 51 303} {3870932676640237033 51 304} {9141830778750783082 51 305} {3463993321297168236 51 306} {230905514882453739 51 307} {2529463445268022700 51 308}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=307
leader log:
[{snapshot 51 299} {6873752959055517111 51 300} {6694741115530986017 51 301} {6169976378259786846 51 302} {6278147178383516886 51 303} {3870932676640237033 51 304} {9141830778750783082 51 305} {3463993321297168236 51 306} {230905514882453739 51 307} {2529463445268022700 51 308}]
------------------------------------------------------
flag 45184 term 53 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 53 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 51 leaderCommit: 307 
------------------------------------------------------
flag 5857 term 53 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 53 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 51 leaderCommit: 307 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=307
leader log:
[{snapshot 51 299} {6873752959055517111 51 300} {6694741115530986017 51 301} {6169976378259786846 51 302} {6278147178383516886 51 303} {3870932676640237033 51 304} {9141830778750783082 51 305} {3463993321297168236 51 306} {230905514882453739 51 307} {2529463445268022700 51 308}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=307
leader log:
[{snapshot 51 299} {6873752959055517111 51 300} {6694741115530986017 51 301} {6169976378259786846 51 302} {6278147178383516886 51 303} {3870932676640237033 51 304} {9141830778750783082 51 305} {3463993321297168236 51 306} {230905514882453739 51 307} {2529463445268022700 51 308}]
------------------------------------------------------
flag 46446 term 53 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 53 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 51 leaderCommit: 307 
------------------------------------------------------
flag 41004 term 53 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 53 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 51 leaderCommit: 307 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=307
leader log:
[{snapshot 51 299} {6873752959055517111 51 300} {6694741115530986017 51 301} {6169976378259786846 51 302} {6278147178383516886 51 303} {3870932676640237033 51 304} {9141830778750783082 51 305} {3463993321297168236 51 306} {230905514882453739 51 307} {2529463445268022700 51 308}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=307
leader log:
[{snapshot 51 299} {6873752959055517111 51 300} {6694741115530986017 51 301} {6169976378259786846 51 302} {6278147178383516886 51 303} {3870932676640237033 51 304} {9141830778750783082 51 305} {3463993321297168236 51 306} {230905514882453739 51 307} {2529463445268022700 51 308}]
------------------------------------------------------
term 53 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 82769 term 53 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 53 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 51 leaderCommit: 307 
------------------------------------------------------
flag 10572 term 53 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 53 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 51 leaderCommit: 307 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=307
leader log:
[{snapshot 51 299} {6873752959055517111 51 300} {6694741115530986017 51 301} {6169976378259786846 51 302} {6278147178383516886 51 303} {3870932676640237033 51 304} {9141830778750783082 51 305} {3463993321297168236 51 306} {230905514882453739 51 307} {2529463445268022700 51 308}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=307
leader log:
[{snapshot 51 299} {6873752959055517111 51 300} {6694741115530986017 51 301} {6169976378259786846 51 302} {6278147178383516886 51 303} {3870932676640237033 51 304} {9141830778750783082 51 305} {3463993321297168236 51 306} {230905514882453739 51 307} {2529463445268022700 51 308}]
------------------------------------------------------
flag 11692 term 53 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 53 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 51 leaderCommit: 307 
------------------------------------------------------
flag 26516 term 53 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 53 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 51 leaderCommit: 307 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=307
leader log:
term 53 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
[{snapshot 51 299} {6873752959055517111 51 300} {6694741115530986017 51 301} {6169976378259786846 51 302} {6278147178383516886 51 303} {3870932676640237033 51 304} {9141830778750783082 51 305} {3463993321297168236 51 306} {230905514882453739 51 307} {2529463445268022700 51 308}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=307
leader log:
[{snapshot 51 299} {6873752959055517111 51 300} {6694741115530986017 51 301} {6169976378259786846 51 302} {6278147178383516886 51 303} {3870932676640237033 51 304} {9141830778750783082 51 305} {3463993321297168236 51 306} {230905514882453739 51 307} {2529463445268022700 51 308}]
------------------------------------------------------
flag 1748 term 53 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 53 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 51 leaderCommit: 307 
------------------------------------------------------
flag 29446 term 53 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 53 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 51 leaderCommit: 307 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=307
leader log:
[{snapshot 51 299} {6873752959055517111 51 300} {6694741115530986017 51 301} {6169976378259786846 51 302} {6278147178383516886 51 303} {3870932676640237033 51 304} {9141830778750783082 51 305} {3463993321297168236 51 306} {230905514882453739 51 307} {2529463445268022700 51 308}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=307
leader log:
[{snapshot 51 299} {6873752959055517111 51 300} {6694741115530986017 51 301} {6169976378259786846 51 302} {6278147178383516886 51 303} {3870932676640237033 51 304} {9141830778750783082 51 305} {3463993321297168236 51 306} {230905514882453739 51 307} {2529463445268022700 51 308}]
------------------------------------------------------
flag 61578 term 53 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 53 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 51 leaderCommit: 307 
------------------------------------------------------
flag 22579 term 53 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 53 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 51 leaderCommit: 307 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=307
leader log:
[{snapshot 51 299} {6873752959055517111 51 300} {6694741115530986017 51 301} {6169976378259786846 51 302} {6278147178383516886 51 303} {3870932676640237033 51 304} {9141830778750783082 51 305} {3463993321297168236 51 306} {230905514882453739 51 307} {2529463445268022700 51 308}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=307
leader log:
[{snapshot 51 299} {6873752959055517111 51 300} {6694741115530986017 51 301} {6169976378259786846 51 302} {6278147178383516886 51 303} {3870932676640237033 51 304} {9141830778750783082 51 305} {3463993321297168236 51 306} {230905514882453739 51 307} {2529463445268022700 51 308}]
------------------------------------------------------
flag 33166 term 53 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 53 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 51 leaderCommit: 307 
------------------------------------------------------
flag 83248 term 53 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 53 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 51 leaderCommit: 307 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=307
leader log:
[{snapshot 51 299} {6873752959055517111 51 300} {6694741115530986017 51 301} {6169976378259786846 51 302} {6278147178383516886 51 303} {3870932676640237033 51 304} {9141830778750783082 51 305} {3463993321297168236 51 306} {230905514882453739 51 307} {2529463445268022700 51 308}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=307
leader log:
[{snapshot 51 299} {6873752959055517111 51 300} {6694741115530986017 51 301} {6169976378259786846 51 302} {6278147178383516886 51 303} {3870932676640237033 51 304} {9141830778750783082 51 305} {3463993321297168236 51 306} {230905514882453739 51 307} {2529463445268022700 51 308}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22832 term 53 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 53 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 51 leaderCommit: 307 
------------------------------------------------------
flag 74689 term 53 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 53 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 51 leaderCommit: 307 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=307
leader log:
[{snapshot 51 299} {6873752959055517111 51 300} {6694741115530986017 51 301} {6169976378259786846 51 302} {6278147178383516886 51 303} {3870932676640237033 51 304} {9141830778750783082 51 305} {3463993321297168236 51 306} {230905514882453739 51 307} {2529463445268022700 51 308}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=307
leader log:
[{snapshot 51 299} {6873752959055517111 51 300} {6694741115530986017 51 301} {6169976378259786846 51 302} {6278147178383516886 51 303} {3870932676640237033 51 304} {9141830778750783082 51 305} {3463993321297168236 51 306} {230905514882453739 51 307} {2529463445268022700 51 308}]
------------------------------------------------------
flag 99701 term 53 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 53 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 51 leaderCommit: 307 
------------------------------------------------------
flag 94159 term 53 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 53 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 51 leaderCommit: 307 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=307
leader log:
[{snapshot 51 299} {6873752959055517111 51 300} {6694741115530986017 51 301} {6169976378259786846 51 302} {6278147178383516886 51 303} {3870932676640237033 51 304} {9141830778750783082 51 305} {3463993321297168236 51 306} {230905514882453739 51 307} {2529463445268022700 51 308}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=307
leader log:
[{snapshot 51 299} {6873752959055517111 51 300} {6694741115530986017 51 301} {6169976378259786846 51 302} {6278147178383516886 51 303} {3870932676640237033 51 304} {9141830778750783082 51 305} {3463993321297168236 51 306} {230905514882453739 51 307} {2529463445268022700 51 308}]
------------------------------------------------------
term 53 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 11214 term 53 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 53 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 51 leaderCommit: 307 
------------------------------------------------------
flag 49758 term 53 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 53 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 51 leaderCommit: 307 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=307
leader log:
[{snapshot 51 299} {6873752959055517111 51 300} {6694741115530986017 51 301} {6169976378259786846 51 302} {6278147178383516886 51 303} {3870932676640237033 51 304} {9141830778750783082 51 305} {3463993321297168236 51 306} {230905514882453739 51 307} {2529463445268022700 51 308}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=307
leader log:
[{snapshot 51 299} {6873752959055517111 51 300} {6694741115530986017 51 301} {6169976378259786846 51 302} {6278147178383516886 51 303} {3870932676640237033 51 304} {9141830778750783082 51 305} {3463993321297168236 51 306} {230905514882453739 51 307} {2529463445268022700 51 308}]
------------------------------------------------------
flag 72995 term 53 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 53 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 51 leaderCommit: 307 
------------------------------------------------------
flag 2264 term 53 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 53 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 51 leaderCommit: 307 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=307
leader log:
[{snapshot 51 299} {6873752959055517111 51 300} {6694741115530986017 51 301} {6169976378259786846 51 302} {6278147178383516886 51 303} {3870932676640237033 51 304} {9141830778750783082 51 305} {3463993321297168236 51 306} {230905514882453739 51 307} {2529463445268022700 51 308}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=307
leader log:
[{snapshot 51 299} {6873752959055517111 51 300} {6694741115530986017 51 301} {6169976378259786846 51 302} {6278147178383516886 51 303} {3870932676640237033 51 304} {9141830778750783082 51 305} {3463993321297168236 51 306} {230905514882453739 51 307} {2529463445268022700 51 308}]
------------------------------------------------------
client write log 2529463445268022700 (index 309) to leader 1
term 53 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 11218 term 53 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 53 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 51 leaderCommit: 307 
------------------------------------------------------
flag 65594 term 53 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 53 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 51 leaderCommit: 307 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=310
update matchIndex[2]=309
update leader CommitIndex=309
leader log:
[{snapshot 51 299} {6873752959055517111 51 300} {6694741115530986017 51 301} {6169976378259786846 51 302} {6278147178383516886 51 303} {3870932676640237033 51 304} {9141830778750783082 51 305} {3463993321297168236 51 306} {230905514882453739 51 307} {2529463445268022700 51 308} {2529463445268022700 53 309}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=310
update matchIndex[0]=309
update leader CommitIndex=309
leader log:
[{snapshot 51 299} {6873752959055517111 51 300} {6694741115530986017 51 301} {6169976378259786846 51 302} {6278147178383516886 51 303} {3870932676640237033 51 304} {9141830778750783082 51 305} {3463993321297168236 51 306} {230905514882453739 51 307} {2529463445268022700 51 308} {2529463445268022700 53 309}]
------------------------------------------------------
term 53 Server1 start snapshot! index=309
term 53 server1 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=309
-------------------------------------------------------------
flag 45144 term 53 leader 1 nextIndex[0]: 310  matchIndex[0]: 309
term 53 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 309 
------------------------------------------------------
flag 15087 term 53 leader 1 nextIndex[2]: 310  matchIndex[2]: 309
term 53 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 309 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=310
update matchIndex[2]=309
update leader CommitIndex=309
leader log:
[{snapshot 53 309}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=310
update matchIndex[0]=309
update leader CommitIndex=309
leader log:
[{snapshot 53 309}]
------------------------------------------------------
term 53 Server2 start snapshot! index=309
term 53 server2 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=309
-------------------------------------------------------------
term 53 Server0 start snapshot! index=309
term 53 server0 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=309
-------------------------------------------------------------
flag 99050 term 53 leader 1 nextIndex[0]: 310  matchIndex[0]: 309
term 53 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 309 
------------------------------------------------------
flag 65814 term 53 leader 1 nextIndex[2]: 310  matchIndex[2]: 309
term 53 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 309 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=310
update matchIndex[2]=309
update leader CommitIndex=309
leader log:
[{snapshot 53 309}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=310
update matchIndex[0]=309
update leader CommitIndex=309
leader log:
[{snapshot 53 309}]
------------------------------------------------------
flag 70728 term 53 leader 1 nextIndex[0]: 310  matchIndex[0]: 309
term 53 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 309 
------------------------------------------------------
flag 51712 term 53 leader 1 nextIndex[2]: 310  matchIndex[2]: 309
term 53 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 309 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=310
update matchIndex[2]=309
update leader CommitIndex=309
leader log:
[{snapshot 53 309}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=310
update matchIndex[0]=309
update leader CommitIndex=309
leader log:
[{snapshot 53 309}]
------------------------------------------------------
flag 47018 term 53 leader 1 nextIndex[0]: 310  matchIndex[0]: 309
term 53 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 309 
------------------------------------------------------
flag 51529 term 53 leader 1 nextIndex[2]: 310  matchIndex[2]: 309
term 53 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 309 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=310
update matchIndex[2]=309
update leader CommitIndex=309
leader log:
[{snapshot 53 309}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=310
update matchIndex[0]=309
update leader CommitIndex=309
leader log:
[{snapshot 53 309}]
------------------------------------------------------
term 53 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 77261 term 53 leader 1 nextIndex[0]: 310  matchIndex[0]: 309
term 53 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 309 
------------------------------------------------------
flag 42509 term 53 leader 1 nextIndex[2]: 310  matchIndex[2]: 309
term 53 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 309 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=310
update matchIndex[2]=309
update leader CommitIndex=309
leader log:
[{snapshot 53 309}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=310
update matchIndex[0]=309
update leader CommitIndex=309
leader log:
[{snapshot 53 309}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 7886 term 53 leader 1 nextIndex[0]: 310  matchIndex[0]: 309
term 53 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 309 
------------------------------------------------------
flag 53916 term 53 leader 1 nextIndex[2]: 310  matchIndex[2]: 309
term 53 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 309 
------------------------------------------------------
flag 99945 term 53 leader 1 nextIndex[0]: 310  matchIndex[0]: 309
term 53 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 309 
------------------------------------------------------
flag 37968 term 53 leader 1 nextIndex[2]: 310  matchIndex[2]: 309
term 53 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 309 
------------------------------------------------------
flag 82003 term 53 leader 1 nextIndex[0]: 310  matchIndex[0]: 309
term 53 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 309 
------------------------------------------------------
flag 65660 term 53 leader 1 nextIndex[2]: 310  matchIndex[2]: 309
term 53 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 309 
------------------------------------------------------
flag 914 term 53 leader 1 nextIndex[0]: 310  matchIndex[0]: 309
term 53 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 309 
------------------------------------------------------
flag 45717 term 53 leader 1 nextIndex[2]: 310  matchIndex[2]: 309
term 53 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 309 
------------------------------------------------------
term 54 server 0 vote for server 2
term 54 server 2 get vote from server 0
term 54 server 2 become leader
------------------------------------------------------
flag 99372 term 54 leader 2 nextIndex[0]: 310  matchIndex[0]: 0
term 54 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 309 
------------------------------------------------------
flag 10106 term 54 leader 2 nextIndex[1]: 310  matchIndex[1]: 0
term 54 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 309 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=310
update matchIndex[0]=309
update leader CommitIndex=309
leader log:
[{snapshot 53 309}]
------------------------------------------------------
client write log 3363039378546415390 (index 310) to leader 2
flag 28270 term 53 leader 1 nextIndex[0]: 310  matchIndex[0]: 309
term 53 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 309 
------------------------------------------------------
flag 76512 term 53 leader 1 nextIndex[2]: 310  matchIndex[2]: 309
term 53 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 309 
------------------------------------------------------
flag 30515 term 54 leader 2 nextIndex[0]: 310  matchIndex[0]: 309
term 54 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 309 
------------------------------------------------------
flag 89177 term 54 leader 2 nextIndex[1]: 310  matchIndex[1]: 0
term 54 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 309 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=311
update matchIndex[0]=310
update leader CommitIndex=310
leader log:
[{snapshot 53 309} {3363039378546415390 54 310}]
------------------------------------------------------
flag 34897 term 53 leader 1 nextIndex[0]: 310  matchIndex[0]: 309
term 53 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 309 
------------------------------------------------------
flag 78162 term 53 leader 1 nextIndex[2]: 310  matchIndex[2]: 309
term 53 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 309 
------------------------------------------------------
flag 10205 term 54 leader 2 nextIndex[0]: 311  matchIndex[0]: 310
term 54 leader 2 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 54 leaderCommit: 310 
------------------------------------------------------
flag 4559 term 54 leader 2 nextIndex[1]: 310  matchIndex[1]: 0
term 54 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 310 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=311
update matchIndex[0]=310
update leader CommitIndex=310
leader log:
[{snapshot 53 309} {3363039378546415390 54 310}]
------------------------------------------------------
client write log 2287871303220378512 (index 311) to leader 2
client write log 616234838208603234 (index 312) to leader 2
client write log 5086709548197132584 (index 313) to leader 2
client write log 8856655196262391239 (index 314) to leader 2
client write log 6381181927771539919 (index 315) to leader 2
client write log 1258297355463604131 (index 316) to leader 2
client write log 7991060746874025888 (index 317) to leader 2
client write log 432225222882367093 (index 318) to leader 2
client write log 817285728903124839 (index 319) to leader 2
client write log 5499432704917885464 (index 320) to leader 2
client write log 2574781553335987235 (index 321) to leader 2
client write log 3547527611524602487 (index 322) to leader 2
client write log 1773669601449415983 (index 323) to leader 2
client write log 4638357806279838701 (index 324) to leader 2
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 310->309
------------------------------------------------------
term 53 leader 1 nextIndex[0]: 0  matchIndex[0]: 309
term 53 leader 1 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 53
------------------------------------------------------
flag 75863 term 53 leader 1 nextIndex[2]: 310  matchIndex[2]: 309
term 53 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 309 
------------------------------------------------------
flag 97744 term 54 leader 2 nextIndex[0]: 311  matchIndex[0]: 310
term 54 leader 2 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 54 leaderCommit: 310 
------------------------------------------------------
flag 36792 term 54 leader 2 nextIndex[1]: 310  matchIndex[1]: 0
term 54 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 310 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=324
leader log:
[{snapshot 53 309} {3363039378546415390 54 310} {2287871303220378512 54 311} {616234838208603234 54 312} {5086709548197132584 54 313} {8856655196262391239 54 314} {6381181927771539919 54 315} {1258297355463604131 54 316} {7991060746874025888 54 317} {432225222882367093 54 318} {817285728903124839 54 319} {5499432704917885464 54 320} {2574781553335987235 54 321} {3547527611524602487 54 322} {1773669601449415983 54 323} {4638357806279838701 54 324}]
------------------------------------------------------
term 54 Server2 start snapshot! index=319
term 54 server2 snapshot success
lastIncludedIndex=319 lastApplied=320 lastIndex=324
-------------------------------------------------------------
term 53 leader 1 nextIndex[0]: 0  matchIndex[0]: 309
term 53 leader 1 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 53
------------------------------------------------------
flag 83301 term 53 leader 1 nextIndex[2]: 310  matchIndex[2]: 309
term 53 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 309 
------------------------------------------------------
flag 80506 term 54 leader 2 nextIndex[0]: 325  matchIndex[0]: 324
term 54 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 54 leaderCommit: 324 
------------------------------------------------------
term 54 leader 2 nextIndex[1]: 310  matchIndex[1]: 0
term 54 leader 2 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 54
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=324
leader log:
[{snapshot 54 319} {5499432704917885464 54 320} {2574781553335987235 54 321} {3547527611524602487 54 322} {1773669601449415983 54 323} {4638357806279838701 54 324}]
------------------------------------------------------
term 54 Server0 start snapshot! index=319
term 54 server0 snapshot success
lastIncludedIndex=319 lastApplied=320 lastIndex=324
-------------------------------------------------------------
!!!!!!connect server 1
client write log 3162879795500684917 (index 310) to leader 1
term 53 leader 1 nextIndex[0]: 0  matchIndex[0]: 309
term 53 leader 1 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 53
------------------------------------------------------
flag 33112 term 53 leader 1 nextIndex[2]: 310  matchIndex[2]: 309
term 53 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 309 
------------------------------------------------------
term 54 server 2 AppendEntries false 领导者任期过期 args.Term 53
------------------------------------------------------
term 54 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 54 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 38946 term 54 leader 2 nextIndex[0]: 325  matchIndex[0]: 324
term 54 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 54 leaderCommit: 324 
------------------------------------------------------
term 54 leader 2 nextIndex[1]: 310  matchIndex[1]: 0
term 54 leader 2 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 54
------------------------------------------------------
term 54 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 319 rf.lastIncludedTerm 54 rf.commitIndex 319 rf.lastApplied 319
term 54 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=324
leader log:
[{snapshot 54 319} {5499432704917885464 54 320} {2574781553335987235 54 321} {3547527611524602487 54 322} {1773669601449415983 54 323} {4638357806279838701 54 324}]
------------------------------------------------------
term 54 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 320 matchIndex[1] 319 
------------------------------------------------------------------------
flag 27330 term 54 leader 2 nextIndex[0]: 325  matchIndex[0]: 324
term 54 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 54 leaderCommit: 324 
------------------------------------------------------
flag 61218 term 54 leader 2 nextIndex[1]: 320  matchIndex[1]: 319
term 54 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 54 leaderCommit: 324 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=324
leader log:
[{snapshot 54 319} {5499432704917885464 54 320} {2574781553335987235 54 321} {3547527611524602487 54 322} {1773669601449415983 54 323} {4638357806279838701 54 324}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=324
leader log:
[{snapshot 54 319} {5499432704917885464 54 320} {2574781553335987235 54 321} {3547527611524602487 54 322} {1773669601449415983 54 323} {4638357806279838701 54 324}]
------------------------------------------------------
flag 38737 term 54 leader 2 nextIndex[0]: 325  matchIndex[0]: 324
term 54 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 54 leaderCommit: 324 
------------------------------------------------------
flag 57409 term 54 leader 2 nextIndex[1]: 325  matchIndex[1]: 324
term 54 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 54 leaderCommit: 324 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=324
leader log:
[{snapshot 54 319} {5499432704917885464 54 320} {2574781553335987235 54 321} {3547527611524602487 54 322} {1773669601449415983 54 323} {4638357806279838701 54 324}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=324
leader log:
[{snapshot 54 319} {5499432704917885464 54 320} {2574781553335987235 54 321} {3547527611524602487 54 322} {1773669601449415983 54 323} {4638357806279838701 54 324}]
------------------------------------------------------
flag 41768 term 54 leader 2 nextIndex[0]: 325  matchIndex[0]: 324
term 54 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 54 leaderCommit: 324 
------------------------------------------------------
flag 54290 term 54 leader 2 nextIndex[1]: 325  matchIndex[1]: 324
term 54 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 54 leaderCommit: 324 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=324
leader log:
[{snapshot 54 319} {5499432704917885464 54 320} {2574781553335987235 54 321} {3547527611524602487 54 322} {1773669601449415983 54 323} {4638357806279838701 54 324}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=324
leader log:
[{snapshot 54 319} {5499432704917885464 54 320} {2574781553335987235 54 321} {3547527611524602487 54 322} {1773669601449415983 54 323} {4638357806279838701 54 324}]
------------------------------------------------------
flag 64383 term 54 leader 2 nextIndex[0]: 325  matchIndex[0]: 324
term 54 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 54 leaderCommit: 324 
------------------------------------------------------
flag 77323 term 54 leader 2 nextIndex[1]: 325  matchIndex[1]: 324
term 54 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 54 leaderCommit: 324 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=324
leader log:
[{snapshot 54 319} {5499432704917885464 54 320} {2574781553335987235 54 321} {3547527611524602487 54 322} {1773669601449415983 54 323} {4638357806279838701 54 324}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=324
leader log:
[{snapshot 54 319} {5499432704917885464 54 320} {2574781553335987235 54 321} {3547527611524602487 54 322} {1773669601449415983 54 323} {4638357806279838701 54 324}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19303 term 54 leader 2 nextIndex[0]: 325  matchIndex[0]: 324
term 54 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 54 leaderCommit: 324 
------------------------------------------------------
flag 62242 term 54 leader 2 nextIndex[1]: 325  matchIndex[1]: 324
term 54 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 54 leaderCommit: 324 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=324
leader log:
[{snapshot 54 319} {5499432704917885464 54 320} {2574781553335987235 54 321} {3547527611524602487 54 322} {1773669601449415983 54 323} {4638357806279838701 54 324}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=324
leader log:
[{snapshot 54 319} {5499432704917885464 54 320} {2574781553335987235 54 321} {3547527611524602487 54 322} {1773669601449415983 54 323} {4638357806279838701 54 324}]
------------------------------------------------------
flag 92468 term 54 leader 2 nextIndex[0]: 325  matchIndex[0]: 324
term 54 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 54 leaderCommit: 324 
------------------------------------------------------
flag 13763 term 54 leader 2 nextIndex[1]: 325  matchIndex[1]: 324
term 54 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 54 leaderCommit: 324 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=324
leader log:
[{snapshot 54 319} {5499432704917885464 54 320} {2574781553335987235 54 321} {3547527611524602487 54 322} {1773669601449415983 54 323} {4638357806279838701 54 324}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=324
leader log:
[{snapshot 54 319} {5499432704917885464 54 320} {2574781553335987235 54 321} {3547527611524602487 54 322} {1773669601449415983 54 323} {4638357806279838701 54 324}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10163 term 54 leader 2 nextIndex[0]: 325  matchIndex[0]: 324
term 54 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 54 leaderCommit: 324 
------------------------------------------------------
flag 35355 term 54 leader 2 nextIndex[1]: 325  matchIndex[1]: 324
term 54 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 54 leaderCommit: 324 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=324
leader log:
[{snapshot 54 319} {5499432704917885464 54 320} {2574781553335987235 54 321} {3547527611524602487 54 322} {1773669601449415983 54 323} {4638357806279838701 54 324}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=324
leader log:
[{snapshot 54 319} {5499432704917885464 54 320} {2574781553335987235 54 321} {3547527611524602487 54 322} {1773669601449415983 54 323} {4638357806279838701 54 324}]
------------------------------------------------------
term 54 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 96668 term 54 leader 2 nextIndex[0]: 325  matchIndex[0]: 324
term 54 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 54 leaderCommit: 324 
------------------------------------------------------
flag 75889 term 54 leader 2 nextIndex[1]: 325  matchIndex[1]: 324
term 54 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 54 leaderCommit: 324 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=324
leader log:
[{snapshot 54 319} {5499432704917885464 54 320} {2574781553335987235 54 321} {3547527611524602487 54 322} {1773669601449415983 54 323} {4638357806279838701 54 324}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=324
leader log:
[{snapshot 54 319} {5499432704917885464 54 320} {2574781553335987235 54 321} {3547527611524602487 54 322} {1773669601449415983 54 323} {4638357806279838701 54 324}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55095 term 54 leader 2 nextIndex[0]: 325  matchIndex[0]: 324
term 54 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 54 leaderCommit: 324 
------------------------------------------------------
flag 48039 term 54 leader 2 nextIndex[1]: 325  matchIndex[1]: 324
term 54 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 54 leaderCommit: 324 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=324
leader log:
[{snapshot 54 319} {5499432704917885464 54 320} {2574781553335987235 54 321} {3547527611524602487 54 322} {1773669601449415983 54 323} {4638357806279838701 54 324}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=324
leader log:
[{snapshot 54 319} {5499432704917885464 54 320} {2574781553335987235 54 321} {3547527611524602487 54 322} {1773669601449415983 54 323} {4638357806279838701 54 324}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80439 term 54 leader 2 nextIndex[0]: 325  matchIndex[0]: 324
term 54 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 54 leaderCommit: 324 
------------------------------------------------------
flag 59005 term 54 leader 2 nextIndex[1]: 325  matchIndex[1]: 324
term 54 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 54 leaderCommit: 324 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=324
leader log:
[{snapshot 54 319} {5499432704917885464 54 320} {2574781553335987235 54 321} {3547527611524602487 54 322} {1773669601449415983 54 323} {4638357806279838701 54 324}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=324
leader log:
[{snapshot 54 319} {5499432704917885464 54 320} {2574781553335987235 54 321} {3547527611524602487 54 322} {1773669601449415983 54 323} {4638357806279838701 54 324}]
------------------------------------------------------
flag 90041 term 54 leader 2 nextIndex[0]: 325  matchIndex[0]: 324
term 54 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 54 leaderCommit: 324 
------------------------------------------------------
flag 55989 term 54 leader 2 nextIndex[1]: 325  matchIndex[1]: 324
term 54 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 54 leaderCommit: 324 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=324
leader log:
[{snapshot 54 319} {5499432704917885464 54 320} {2574781553335987235 54 321} {3547527611524602487 54 322} {1773669601449415983 54 323} {4638357806279838701 54 324}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=324
leader log:
[{snapshot 54 319} {5499432704917885464 54 320} {2574781553335987235 54 321} {3547527611524602487 54 322} {1773669601449415983 54 323} {4638357806279838701 54 324}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6577 term 54 leader 2 nextIndex[0]: 325  matchIndex[0]: 324
term 54 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 54 leaderCommit: 324 
------------------------------------------------------
flag 72749 term 54 leader 2 nextIndex[1]: 325  matchIndex[1]: 324
term 54 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 54 leaderCommit: 324 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=324
leader log:
[{snapshot 54 319} {5499432704917885464 54 320} {2574781553335987235 54 321} {3547527611524602487 54 322} {1773669601449415983 54 323} {4638357806279838701 54 324}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=324
leader log:
[{snapshot 54 319} {5499432704917885464 54 320} {2574781553335987235 54 321} {3547527611524602487 54 322} {1773669601449415983 54 323} {4638357806279838701 54 324}]
------------------------------------------------------
flag 37448 term 54 leader 2 nextIndex[0]: 325  matchIndex[0]: 324
term 54 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 54 leaderCommit: 324 
------------------------------------------------------
flag 29920 term 54 leader 2 nextIndex[1]: 325  matchIndex[1]: 324
term 54 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 54 leaderCommit: 324 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=324
leader log:
[{snapshot 54 319} {5499432704917885464 54 320} {2574781553335987235 54 321} {3547527611524602487 54 322} {1773669601449415983 54 323} {4638357806279838701 54 324}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=324
leader log:
[{snapshot 54 319} {5499432704917885464 54 320} {2574781553335987235 54 321} {3547527611524602487 54 322} {1773669601449415983 54 323} {4638357806279838701 54 324}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85513 term 54 leader 2 nextIndex[0]: 325  matchIndex[0]: 324
term 54 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 54 leaderCommit: 324 
------------------------------------------------------
flag 2850 term 54 leader 2 nextIndex[1]: 325  matchIndex[1]: 324
term 54 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 54 leaderCommit: 324 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=324
leader log:
[{snapshot 54 319} {5499432704917885464 54 320} {2574781553335987235 54 321} {3547527611524602487 54 322} {1773669601449415983 54 323} {4638357806279838701 54 324}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=324
leader log:
[{snapshot 54 319} {5499432704917885464 54 320} {2574781553335987235 54 321} {3547527611524602487 54 322} {1773669601449415983 54 323} {4638357806279838701 54 324}]
------------------------------------------------------
flag 41291 term 54 leader 2 nextIndex[0]: 325  matchIndex[0]: 324
term 54 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 54 leaderCommit: 324 
------------------------------------------------------
flag 96395 term 54 leader 2 nextIndex[1]: 325  matchIndex[1]: 324
term 54 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 54 leaderCommit: 324 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=324
leader log:
[{snapshot 54 319} {5499432704917885464 54 320} {2574781553335987235 54 321} {3547527611524602487 54 322} {1773669601449415983 54 323} {4638357806279838701 54 324}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=324
leader log:
[{snapshot 54 319} {5499432704917885464 54 320} {2574781553335987235 54 321} {3547527611524602487 54 322} {1773669601449415983 54 323} {4638357806279838701 54 324}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19541 term 54 leader 2 nextIndex[0]: 325  matchIndex[0]: 324
term 54 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 54 leaderCommit: 324 
------------------------------------------------------
flag 7060 term 54 leader 2 nextIndex[1]: 325  matchIndex[1]: 324
term 54 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 54 leaderCommit: 324 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=324
leader log:
[{snapshot 54 319} {5499432704917885464 54 320} {2574781553335987235 54 321} {3547527611524602487 54 322} {1773669601449415983 54 323} {4638357806279838701 54 324}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=324
leader log:
[{snapshot 54 319} {5499432704917885464 54 320} {2574781553335987235 54 321} {3547527611524602487 54 322} {1773669601449415983 54 323} {4638357806279838701 54 324}]
------------------------------------------------------
term 54 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 425 term 54 leader 2 nextIndex[0]: 325  matchIndex[0]: 324
term 54 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 54 leaderCommit: 324 
------------------------------------------------------
flag 40671 term 54 leader 2 nextIndex[1]: 325  matchIndex[1]: 324
term 54 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 54 leaderCommit: 324 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=324
leader log:
[{snapshot 54 319} {5499432704917885464 54 320} {2574781553335987235 54 321} {3547527611524602487 54 322} {1773669601449415983 54 323} {4638357806279838701 54 324}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=324
leader log:
[{snapshot 54 319} {5499432704917885464 54 320} {2574781553335987235 54 321} {3547527611524602487 54 322} {1773669601449415983 54 323} {4638357806279838701 54 324}]
------------------------------------------------------
flag 21545 term 54 leader 2 nextIndex[0]: 325  matchIndex[0]: 324
term 54 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 54 leaderCommit: 324 
------------------------------------------------------
flag 41331 term 54 leader 2 nextIndex[1]: 325  matchIndex[1]: 324
term 54 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 54 leaderCommit: 324 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=324
leader log:
[{snapshot 54 319} {5499432704917885464 54 320} {2574781553335987235 54 321} {3547527611524602487 54 322} {1773669601449415983 54 323} {4638357806279838701 54 324}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=324
leader log:
[{snapshot 54 319} {5499432704917885464 54 320} {2574781553335987235 54 321} {3547527611524602487 54 322} {1773669601449415983 54 323} {4638357806279838701 54 324}]
------------------------------------------------------
flag 42011 term 54 leader 2 nextIndex[0]: 325  matchIndex[0]: 324
term 54 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 54 leaderCommit: 324 
------------------------------------------------------
flag 38951 term 54 leader 2 nextIndex[1]: 325  matchIndex[1]: 324
term 54 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 54 leaderCommit: 324 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=324
leader log:
[{snapshot 54 319} {5499432704917885464 54 320} {2574781553335987235 54 321} {3547527611524602487 54 322} {1773669601449415983 54 323} {4638357806279838701 54 324}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=324
leader log:
[{snapshot 54 319} {5499432704917885464 54 320} {2574781553335987235 54 321} {3547527611524602487 54 322} {1773669601449415983 54 323} {4638357806279838701 54 324}]
------------------------------------------------------
client write log 3162879795500684917 (index 325) to leader 2
flag 42186 term 54 leader 2 nextIndex[0]: 325  matchIndex[0]: 324
term 54 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 54 leaderCommit: 324 
------------------------------------------------------
flag 55379 term 54 leader 2 nextIndex[1]: 325  matchIndex[1]: 324
term 54 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 54 leaderCommit: 324 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=326
update matchIndex[1]=325
update leader CommitIndex=325
leader log:
[{snapshot 54 319} {5499432704917885464 54 320} {2574781553335987235 54 321} {3547527611524602487 54 322} {1773669601449415983 54 323} {4638357806279838701 54 324} {3162879795500684917 54 325}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=325
leader log:
[{snapshot 54 319} {5499432704917885464 54 320} {2574781553335987235 54 321} {3547527611524602487 54 322} {1773669601449415983 54 323} {4638357806279838701 54 324} {3162879795500684917 54 325}]
------------------------------------------------------
flag 73113 term 54 leader 2 nextIndex[0]: 326  matchIndex[0]: 325
term 54 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 54 leaderCommit: 325 
------------------------------------------------------
flag 79914 term 54 leader 2 nextIndex[1]: 326  matchIndex[1]: 325
term 54 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 54 leaderCommit: 325 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=326
update matchIndex[1]=325
update leader CommitIndex=325
leader log:
term 54 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
[{snapshot 54 319} {5499432704917885464 54 320} {2574781553335987235 54 321} {3547527611524602487 54 322} {1773669601449415983 54 323} {4638357806279838701 54 324} {3162879795500684917 54 325}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=325
leader log:
[{snapshot 54 319} {5499432704917885464 54 320} {2574781553335987235 54 321} {3547527611524602487 54 322} {1773669601449415983 54 323} {4638357806279838701 54 324} {3162879795500684917 54 325}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68713 term 54 leader 2 nextIndex[0]: 326  matchIndex[0]: 325
term 54 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 54 leaderCommit: 325 
------------------------------------------------------
flag 88563 term 54 leader 2 nextIndex[1]: 326  matchIndex[1]: 325
term 54 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 54 leaderCommit: 325 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=326
update matchIndex[1]=325
update leader CommitIndex=325
leader log:
[{snapshot 54 319} {5499432704917885464 54 320} {2574781553335987235 54 321} {3547527611524602487 54 322} {1773669601449415983 54 323} {4638357806279838701 54 324} {3162879795500684917 54 325}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=325
leader log:
[{snapshot 54 319} {5499432704917885464 54 320} {2574781553335987235 54 321} {3547527611524602487 54 322} {1773669601449415983 54 323} {4638357806279838701 54 324} {3162879795500684917 54 325}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 326->325
------------------------------------------------------
flag 39211 term 54 leader 2 nextIndex[0]: 326  matchIndex[0]: 325
term 54 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 54 leaderCommit: 325 
------------------------------------------------------
term 54 leader 2 nextIndex[1]: 0  matchIndex[1]: 325
term 54 leader 2 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 54
------------------------------------------------------
term 54 server 1 InstallSnapshot fail
rf.commitIndex 325 args.LastIncludedIndex 319
------------------------------------------------------
term 54 leader 2 -> server 1 sendInstallSnapshot success
term 54 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
nextIndex[1] 320 matchIndex[1] 319 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=325
leader log:
[{snapshot 54 319} {5499432704917885464 54 320} {2574781553335987235 54 321} {3547527611524602487 54 322} {1773669601449415983 54 323} {4638357806279838701 54 324} {3162879795500684917 54 325}]
------------------------------------------------------
flag 94067 term 54 leader 2 nextIndex[0]: 326  matchIndex[0]: 325
term 54 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 54 leaderCommit: 325 
------------------------------------------------------
flag 66112 term 54 leader 2 nextIndex[1]: 320  matchIndex[1]: 319
term 54 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 54 leaderCommit: 325 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=325
leader log:
[{snapshot 54 319} {5499432704917885464 54 320} {2574781553335987235 54 321} {3547527611524602487 54 322} {1773669601449415983 54 323} {4638357806279838701 54 324} {3162879795500684917 54 325}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=326
update matchIndex[1]=325
update leader CommitIndex=325
leader log:
[{snapshot 54 319} {5499432704917885464 54 320} {2574781553335987235 54 321} {3547527611524602487 54 322} {1773669601449415983 54 323} {4638357806279838701 54 324} {3162879795500684917 54 325}]
------------------------------------------------------
flag 29498 term 54 leader 2 nextIndex[0]: 326  matchIndex[0]: 325
term 54 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 54 leaderCommit: 325 
------------------------------------------------------
flag 40649 term 54 leader 2 nextIndex[1]: 326  matchIndex[1]: 325
term 54 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 54 leaderCommit: 325 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=326
update matchIndex[1]=325
update leader CommitIndex=325
leader log:
[{snapshot 54 319} {5499432704917885464 54 320} {2574781553335987235 54 321} {3547527611524602487 54 322} {1773669601449415983 54 323} {4638357806279838701 54 324} {3162879795500684917 54 325}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=325
leader log:
[{snapshot 54 319} {5499432704917885464 54 320} {2574781553335987235 54 321} {3547527611524602487 54 322} {1773669601449415983 54 323} {4638357806279838701 54 324} {3162879795500684917 54 325}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 326->325
------------------------------------------------------
!!!!!!diconnect server 0
client write log 2844022045796741890 (index 326) to leader 2
flag 83814 term 54 leader 2 nextIndex[0]: 326  matchIndex[0]: 325
term 54 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 54 leaderCommit: 325 
------------------------------------------------------
term 54 leader 2 nextIndex[1]: 0  matchIndex[1]: 325
term 54 leader 2 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 54
------------------------------------------------------
term 54 server 1 InstallSnapshot fail
rf.commitIndex 325 args.LastIncludedIndex 319
------------------------------------------------------
term 54 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 320 matchIndex[1] 319 
------------------------------------------------------------------------
flag 27185 term 54 leader 2 nextIndex[0]: 326  matchIndex[0]: 325
term 54 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 54 leaderCommit: 325 
------------------------------------------------------
flag 14864 term 54 leader 2 nextIndex[1]: 320  matchIndex[1]: 319
term 54 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 54 leaderCommit: 325 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=327
update matchIndex[1]=326
update leader CommitIndex=326
leader log:
[{snapshot 54 319} {5499432704917885464 54 320} {2574781553335987235 54 321} {3547527611524602487 54 322} {1773669601449415983 54 323} {4638357806279838701 54 324} {3162879795500684917 54 325} {2844022045796741890 54 326}]
------------------------------------------------------
flag 33511 term 54 leader 2 nextIndex[0]: 326  matchIndex[0]: 325
term 54 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 54 leaderCommit: 326 
------------------------------------------------------
flag 77480 term 54 leader 2 nextIndex[1]: 327  matchIndex[1]: 326
term 54 leader 2 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 54 leaderCommit: 326 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=327
update matchIndex[1]=326
update leader CommitIndex=326
leader log:
[{snapshot 54 319} {5499432704917885464 54 320} {2574781553335987235 54 321} {3547527611524602487 54 322} {1773669601449415983 54 323} {4638357806279838701 54 324} {3162879795500684917 54 325} {2844022045796741890 54 326}]
------------------------------------------------------
client write log 2949466594713990228 (index 327) to leader 2
client write log 6684190836821586528 (index 328) to leader 2
client write log 511011513244694392 (index 329) to leader 2
client write log 4113465129758484826 (index 330) to leader 2
client write log 4526943938128676963 (index 331) to leader 2
client write log 2824283359014272223 (index 332) to leader 2
client write log 3835443679341011082 (index 333) to leader 2
client write log 1253062863142665359 (index 334) to leader 2
client write log 94742406601630132 (index 335) to leader 2
client write log 6631689621358263711 (index 336) to leader 2
client write log 2498008006448184224 (index 337) to leader 2
client write log 1439193984005871517 (index 338) to leader 2
client write log 4806337365887964088 (index 339) to leader 2
client write log 4351190924632874702 (index 340) to leader 2
client write log 5855930810506954601 (index 341) to leader 2
flag 57831 term 54 leader 2 nextIndex[0]: 326  matchIndex[0]: 325
term 54 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 54 leaderCommit: 326 
------------------------------------------------------
flag 64899 term 54 leader 2 nextIndex[1]: 327  matchIndex[1]: 326
term 54 leader 2 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 54 leaderCommit: 326 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=341
leader log:
[{snapshot 54 319} {5499432704917885464 54 320} {2574781553335987235 54 321} {3547527611524602487 54 322} {1773669601449415983 54 323} {4638357806279838701 54 324} {3162879795500684917 54 325} {2844022045796741890 54 326} {2949466594713990228 54 327} {6684190836821586528 54 328} {511011513244694392 54 329} {4113465129758484826 54 330} {4526943938128676963 54 331} {2824283359014272223 54 332} {3835443679341011082 54 333} {1253062863142665359 54 334} {94742406601630132 54 335} {6631689621358263711 54 336} {2498008006448184224 54 337} {1439193984005871517 54 338} {4806337365887964088 54 339} {4351190924632874702 54 340} {5855930810506954601 54 341}]
------------------------------------------------------
term 54 Server2 start snapshot! index=329
term 54 server2 snapshot success
lastIncludedIndex=329 lastApplied=330 lastIndex=341
-------------------------------------------------------------
term 54 Server2 start snapshot! index=339
term 54 server2 snapshot success
lastIncludedIndex=339 lastApplied=340 lastIndex=341
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 54 leader 2 nextIndex[0]: 326  matchIndex[0]: 325
term 54 leader 2 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 54
------------------------------------------------------
flag 66426 term 54 leader 2 nextIndex[1]: 342  matchIndex[1]: 341
term 54 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 54 leaderCommit: 341 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=341
leader log:
[{snapshot 54 339} {4351190924632874702 54 340} {5855930810506954601 54 341}]
------------------------------------------------------
term 54 Server1 start snapshot! index=329
term 54 server1 snapshot success
lastIncludedIndex=329 lastApplied=330 lastIndex=341
-------------------------------------------------------------
term 54 Server1 start snapshot! index=339
term 54 server1 snapshot success
lastIncludedIndex=339 lastApplied=340 lastIndex=341
-------------------------------------------------------------
!!!!!!connect server 0
client write log 2922531156445271169 (index 342) to leader 2
term 54 leader 2 nextIndex[0]: 326  matchIndex[0]: 325
term 54 leader 2 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 54
------------------------------------------------------
flag 46093 term 54 leader 2 nextIndex[1]: 342  matchIndex[1]: 341
term 54 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 54 leaderCommit: 341 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=343
update matchIndex[1]=342
update leader CommitIndex=342
leader log:
[{snapshot 54 339} {4351190924632874702 54 340} {5855930810506954601 54 341} {2922531156445271169 54 342}]
------------------------------------------------------
term 55 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 54 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 56 server 1 vote for server 2
term 56 server 2 get vote from server 1
term 56 server 2 become leader
------------------------------------------------------
term 56 server 0 vote for server 2
term 56 server 2 get outdate rpc reply from server 0
flag 79661 term 56 leader 2 nextIndex[0]: 343  matchIndex[0]: 0
term 56 leader 2 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 54 leaderCommit: 342 
------------------------------------------------------
flag 63414 term 56 leader 2 nextIndex[1]: 343  matchIndex[1]: 0
term 56 leader 2 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 54 leaderCommit: 342 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
term 56 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=343
update matchIndex[1]=342
update leader CommitIndex=342
leader log:
[{snapshot 54 339} {4351190924632874702 54 340} {5855930810506954601 54 341} {2922531156445271169 54 342}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 343->342
------------------------------------------------------
term 56 server 1 not vote for server 2, 任期不够新
term 56 server 2 get outdate rpc reply from server 1
term 56 leader 2 nextIndex[0]: 326  matchIndex[0]: 0
term 56 leader 2 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 54
------------------------------------------------------
flag 35985 term 56 leader 2 nextIndex[1]: 343  matchIndex[1]: 342
term 56 leader 2 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 54 leaderCommit: 342 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=343
update matchIndex[1]=342
update leader CommitIndex=342
leader log:
[{snapshot 54 339} {4351190924632874702 54 340} {5855930810506954601 54 341} {2922531156445271169 54 342}]
------------------------------------------------------
term 56 server 0 InstallSnapshot success
------------------------------------------------------
term 56 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 340 matchIndex[0] 339 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 339 rf.lastIncludedTerm 54 rf.commitIndex 339 rf.lastApplied 339
flag 4175 term 56 leader 2 nextIndex[0]: 340  matchIndex[0]: 339
term 56 leader 2 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 54 leaderCommit: 342 
------------------------------------------------------
flag 48105 term 56 leader 2 nextIndex[1]: 343  matchIndex[1]: 342
term 56 leader 2 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 54 leaderCommit: 342 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=343
update matchIndex[1]=342
update leader CommitIndex=342
leader log:
[{snapshot 54 339} {4351190924632874702 54 340} {5855930810506954601 54 341} {2922531156445271169 54 342}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=343
update matchIndex[0]=342
update leader CommitIndex=342
leader log:
[{snapshot 54 339} {4351190924632874702 54 340} {5855930810506954601 54 341} {2922531156445271169 54 342}]
------------------------------------------------------
flag 43879 term 56 leader 2 nextIndex[0]: 343  matchIndex[0]: 342
term 56 leader 2 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 54 leaderCommit: 342 
------------------------------------------------------
flag 72715 term 56 leader 2 nextIndex[1]: 343  matchIndex[1]: 342
term 56 leader 2 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 54 leaderCommit: 342 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:342 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=343
update matchIndex[0]=342
update leader CommitIndex=342
leader log:
[{snapshot 54 339} {4351190924632874702 54 340} {5855930810506954601 54 341} {2922531156445271169 54 342}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=343
update matchIndex[1]=342
update leader CommitIndex=342
leader log:
[{snapshot 54 339} {4351190924632874702 54 340} {5855930810506954601 54 341} {2922531156445271169 54 342}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77024 term 56 leader 2 nextIndex[0]: 343  matchIndex[0]: 342
term 56 leader 2 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 54 leaderCommit: 342 
------------------------------------------------------
flag 39455 term 56 leader 2 nextIndex[1]: 343  matchIndex[1]: 342
term 56 leader 2 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 54 leaderCommit: 342 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=343
update matchIndex[1]=342
update leader CommitIndex=342
leader log:
[{snapshot 54 339} {4351190924632874702 54 340} {5855930810506954601 54 341} {2922531156445271169 54 342}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=343
update matchIndex[0]=342
update leader CommitIndex=342
leader log:
[{snapshot 54 339} {4351190924632874702 54 340} {5855930810506954601 54 341} {2922531156445271169 54 342}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8394 term 56 leader 2 nextIndex[0]: 343  matchIndex[0]: 342
term 56 leader 2 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 54 leaderCommit: 342 
------------------------------------------------------
flag 78718 term 56 leader 2 nextIndex[1]: 343  matchIndex[1]: 342
term 56 leader 2 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 54 leaderCommit: 342 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=343
update matchIndex[1]=342
update leader CommitIndex=342
leader log:
[{snapshot 54 339} {4351190924632874702 54 340} {5855930810506954601 54 341} {2922531156445271169 54 342}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=343
update matchIndex[0]=342
update leader CommitIndex=342
leader log:
[{snapshot 54 339} {4351190924632874702 54 340} {5855930810506954601 54 341} {2922531156445271169 54 342}]
------------------------------------------------------
flag 8058 term 56 leader 2 nextIndex[0]: 343  matchIndex[0]: 342
term 56 leader 2 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 54 leaderCommit: 342 
------------------------------------------------------
flag 45101 term 56 leader 2 nextIndex[1]: 343  matchIndex[1]: 342
term 56 leader 2 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 54 leaderCommit: 342 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=343
update matchIndex[1]=342
update leader CommitIndex=342
leader log:
[{snapshot 54 339} {4351190924632874702 54 340} {5855930810506954601 54 341} {2922531156445271169 54 342}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=343
update matchIndex[0]=342
update leader CommitIndex=342
leader log:
[{snapshot 54 339} {4351190924632874702 54 340} {5855930810506954601 54 341} {2922531156445271169 54 342}]
------------------------------------------------------
term 56 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 48771 term 56 leader 2 nextIndex[0]: 343  matchIndex[0]: 342
term 56 leader 2 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 54 leaderCommit: 342 
------------------------------------------------------
flag 54844 term 56 leader 2 nextIndex[1]: 343  matchIndex[1]: 342
term 56 leader 2 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 54 leaderCommit: 342 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=343
update matchIndex[1]=342
update leader CommitIndex=342
leader log:
[{snapshot 54 339} {4351190924632874702 54 340} {5855930810506954601 54 341} {2922531156445271169 54 342}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=343
update matchIndex[0]=342
update leader CommitIndex=342
leader log:
[{snapshot 54 339} {4351190924632874702 54 340} {5855930810506954601 54 341} {2922531156445271169 54 342}]
------------------------------------------------------
  ... Passed --  81.2  3 1852  872114  342
--- PASS: TestSnapshotInstall2D (81.25s)
PASS
