=== RUN   TestSnapshotInstall2D
Test (2D): install snapshots (disconnect) ...
term 1 server 2 vote for server 1
term 1 server 0 vote for server 1
term 1 server 1 get vote from server 0
term 1 server 1 become leader
------------------------------------------------------
term 1 server 1 get outdate rpc reply from server 2
flag 78877 term 1 leader 1 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 13982 term 1 leader 1 nextIndex[2]: 1  matchIndex[2]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=1
update matchIndex[0]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=1
update matchIndex[2]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
client write log 3234885562361979035 (index 1) to leader 1
flag 70574 term 1 leader 1 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 5529 term 1 leader 1 nextIndex[2]: 1  matchIndex[2]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3234885562361979035 1 1}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3234885562361979035 1 1}]
------------------------------------------------------
flag 31496 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 14742 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3234885562361979035 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3234885562361979035 1 1}]
------------------------------------------------------
flag 55735 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 72802 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3234885562361979035 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3234885562361979035 1 1}]
------------------------------------------------------
flag 93847 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 23928 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3234885562361979035 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3234885562361979035 1 1}]
------------------------------------------------------
flag 10616 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 48159 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3234885562361979035 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3234885562361979035 1 1}]
------------------------------------------------------
flag 42199 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 97488 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3234885562361979035 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3234885562361979035 1 1}]
------------------------------------------------------
flag 36217 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 83112 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3234885562361979035 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {3234885562361979035 1 1}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 6967904033144614416 (index 2) to leader 1
flag 8329 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 46654 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=3
update matchIndex[0]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {3234885562361979035 1 1} {6967904033144614416 1 2}]
------------------------------------------------------
flag 72825 term 1 leader 1 nextIndex[0]: 3  matchIndex[0]: 2
term 1 leader 1 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 6598 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=3
update matchIndex[0]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {3234885562361979035 1 1} {6967904033144614416 1 2}]
------------------------------------------------------
client write log 2817291068424917096 (index 3) to leader 1
client write log 8318660664239941801 (index 4) to leader 1
client write log 8852880337221083205 (index 5) to leader 1
client write log 1707172062786948066 (index 6) to leader 1
client write log 2861226235336003653 (index 7) to leader 1
client write log 6681544795653707849 (index 8) to leader 1
client write log 482724239218679685 (index 9) to leader 1
client write log 8343809573425814159 (index 10) to leader 1
client write log 9170346621110436361 (index 11) to leader 1
client write log 1763192941755783246 (index 12) to leader 1
client write log 809827299428991265 (index 13) to leader 1
client write log 6453806220936478885 (index 14) to leader 1
client write log 466034429377087198 (index 15) to leader 1
flag 71136 term 1 leader 1 nextIndex[0]: 3  matchIndex[0]: 2
term 1 leader 1 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 81647 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{<nil> 0 0} {3234885562361979035 1 1} {6967904033144614416 1 2} {2817291068424917096 1 3} {8318660664239941801 1 4} {8852880337221083205 1 5} {1707172062786948066 1 6} {2861226235336003653 1 7} {6681544795653707849 1 8} {482724239218679685 1 9} {8343809573425814159 1 10} {9170346621110436361 1 11} {1763192941755783246 1 12} {809827299428991265 1 13} {6453806220936478885 1 14} {466034429377087198 1 15}]
------------------------------------------------------
term 1 Server1 start snapshot! index=9
term 1 server1 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=15
-------------------------------------------------------------
flag 18249 term 1 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
term 1 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8343809573425814159 1 10} {9170346621110436361 1 11} {1763192941755783246 1 12} {809827299428991265 1 13} {6453806220936478885 1 14} {466034429377087198 1 15}]
------------------------------------------------------
term 1 Server0 start snapshot! index=9
term 1 server0 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=15
-------------------------------------------------------------
!!!!!!connect server 2
client write log 4148337322862504069 (index 16) to leader 1
flag 91428 term 1 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
term 1 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 2 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 1 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 3 server 2 vote for server 1
term 3 server 1 get vote from server 2
term 3 server 1 become leader
------------------------------------------------------
term 3 server 0 vote for server 1
term 3 server 1 get outdate rpc reply from server 0
flag 59804 term 3 leader 1 nextIndex[0]: 17  matchIndex[0]: 0
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 85957 term 3 leader 1 nextIndex[2]: 17  matchIndex[2]: 0
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 17->16
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8343809573425814159 1 10} {9170346621110436361 1 11} {1763192941755783246 1 12} {809827299428991265 1 13} {6453806220936478885 1 14} {466034429377087198 1 15} {4148337322862504069 1 16}]
------------------------------------------------------
flag 92944 term 3 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 leader 1 nextIndex[2]: 2  matchIndex[2]: 0
term 3 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 3 server 2 InstallSnapshot success
------------------------------------------------------
term 3 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 10 matchIndex[2] 9 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 9 rf.lastIncludedTerm 1 rf.commitIndex 9 rf.lastApplied 9
term 3 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8343809573425814159 1 10} {9170346621110436361 1 11} {1763192941755783246 1 12} {809827299428991265 1 13} {6453806220936478885 1 14} {466034429377087198 1 15} {4148337322862504069 1 16}]
------------------------------------------------------
flag 4349 term 3 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 29997 term 3 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8343809573425814159 1 10} {9170346621110436361 1 11} {1763192941755783246 1 12} {809827299428991265 1 13} {6453806220936478885 1 14} {466034429377087198 1 15} {4148337322862504069 1 16}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8343809573425814159 1 10} {9170346621110436361 1 11} {1763192941755783246 1 12} {809827299428991265 1 13} {6453806220936478885 1 14} {466034429377087198 1 15} {4148337322862504069 1 16}]
------------------------------------------------------
flag 52530 term 3 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 33678 term 3 leader 1 nextIndex[2]: 17  matchIndex[2]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8343809573425814159 1 10} {9170346621110436361 1 11} {1763192941755783246 1 12} {809827299428991265 1 13} {6453806220936478885 1 14} {466034429377087198 1 15} {4148337322862504069 1 16}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8343809573425814159 1 10} {9170346621110436361 1 11} {1763192941755783246 1 12} {809827299428991265 1 13} {6453806220936478885 1 14} {466034429377087198 1 15} {4148337322862504069 1 16}]
------------------------------------------------------
term 3 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 6518 term 3 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 96694 term 3 leader 1 nextIndex[2]: 17  matchIndex[2]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8343809573425814159 1 10} {9170346621110436361 1 11} {1763192941755783246 1 12} {809827299428991265 1 13} {6453806220936478885 1 14} {466034429377087198 1 15} {4148337322862504069 1 16}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8343809573425814159 1 10} {9170346621110436361 1 11} {1763192941755783246 1 12} {809827299428991265 1 13} {6453806220936478885 1 14} {466034429377087198 1 15} {4148337322862504069 1 16}]
------------------------------------------------------
flag 67755 term 3 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 94964 term 3 leader 1 nextIndex[2]: 17  matchIndex[2]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8343809573425814159 1 10} {9170346621110436361 1 11} {1763192941755783246 1 12} {809827299428991265 1 13} {6453806220936478885 1 14} {466034429377087198 1 15} {4148337322862504069 1 16}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8343809573425814159 1 10} {9170346621110436361 1 11} {1763192941755783246 1 12} {809827299428991265 1 13} {6453806220936478885 1 14} {466034429377087198 1 15} {4148337322862504069 1 16}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25137 term 3 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 88109 term 3 leader 1 nextIndex[2]: 17  matchIndex[2]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8343809573425814159 1 10} {9170346621110436361 1 11} {1763192941755783246 1 12} {809827299428991265 1 13} {6453806220936478885 1 14} {466034429377087198 1 15} {4148337322862504069 1 16}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8343809573425814159 1 10} {9170346621110436361 1 11} {1763192941755783246 1 12} {809827299428991265 1 13} {6453806220936478885 1 14} {466034429377087198 1 15} {4148337322862504069 1 16}]
------------------------------------------------------
flag 51446 term 3 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 12420 term 3 leader 1 nextIndex[2]: 17  matchIndex[2]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8343809573425814159 1 10} {9170346621110436361 1 11} {1763192941755783246 1 12} {809827299428991265 1 13} {6453806220936478885 1 14} {466034429377087198 1 15} {4148337322862504069 1 16}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8343809573425814159 1 10} {9170346621110436361 1 11} {1763192941755783246 1 12} {809827299428991265 1 13} {6453806220936478885 1 14} {466034429377087198 1 15} {4148337322862504069 1 16}]
------------------------------------------------------
flag 42288 term 3 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 54247 term 3 leader 1 nextIndex[2]: 17  matchIndex[2]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8343809573425814159 1 10} {9170346621110436361 1 11} {1763192941755783246 1 12} {809827299428991265 1 13} {6453806220936478885 1 14} {466034429377087198 1 15} {4148337322862504069 1 16}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8343809573425814159 1 10} {9170346621110436361 1 11} {1763192941755783246 1 12} {809827299428991265 1 13} {6453806220936478885 1 14} {466034429377087198 1 15} {4148337322862504069 1 16}]
------------------------------------------------------
flag 36127 term 3 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 61095 term 3 leader 1 nextIndex[2]: 17  matchIndex[2]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8343809573425814159 1 10} {9170346621110436361 1 11} {1763192941755783246 1 12} {809827299428991265 1 13} {6453806220936478885 1 14} {466034429377087198 1 15} {4148337322862504069 1 16}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8343809573425814159 1 10} {9170346621110436361 1 11} {1763192941755783246 1 12} {809827299428991265 1 13} {6453806220936478885 1 14} {466034429377087198 1 15} {4148337322862504069 1 16}]
------------------------------------------------------
flag 21009 term 3 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 11432 term 3 leader 1 nextIndex[2]: 17  matchIndex[2]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8343809573425814159 1 10} {9170346621110436361 1 11} {1763192941755783246 1 12} {809827299428991265 1 13} {6453806220936478885 1 14} {466034429377087198 1 15} {4148337322862504069 1 16}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8343809573425814159 1 10} {9170346621110436361 1 11} {1763192941755783246 1 12} {809827299428991265 1 13} {6453806220936478885 1 14} {466034429377087198 1 15} {4148337322862504069 1 16}]
------------------------------------------------------
flag 56855 term 3 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 21741 term 3 leader 1 nextIndex[2]: 17  matchIndex[2]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8343809573425814159 1 10} {9170346621110436361 1 11} {1763192941755783246 1 12} {809827299428991265 1 13} {6453806220936478885 1 14} {466034429377087198 1 15} {4148337322862504069 1 16}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8343809573425814159 1 10} {9170346621110436361 1 11} {1763192941755783246 1 12} {809827299428991265 1 13} {6453806220936478885 1 14} {466034429377087198 1 15} {4148337322862504069 1 16}]
------------------------------------------------------
flag 49519 term 3 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 43935 term 3 leader 1 nextIndex[2]: 17  matchIndex[2]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueterm 3 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
update nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8343809573425814159 1 10} {9170346621110436361 1 11} {1763192941755783246 1 12} {809827299428991265 1 13} {6453806220936478885 1 14} {466034429377087198 1 15} {4148337322862504069 1 16}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8343809573425814159 1 10} {9170346621110436361 1 11} {1763192941755783246 1 12} {809827299428991265 1 13} {6453806220936478885 1 14} {466034429377087198 1 15} {4148337322862504069 1 16}]
------------------------------------------------------
flag 92359 term 3 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 86055 term 3 leader 1 nextIndex[2]: 17  matchIndex[2]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8343809573425814159 1 10} {9170346621110436361 1 11} {1763192941755783246 1 12} {809827299428991265 1 13} {6453806220936478885 1 14} {466034429377087198 1 15} {4148337322862504069 1 16}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8343809573425814159 1 10} {9170346621110436361 1 11} {1763192941755783246 1 12} {809827299428991265 1 13} {6453806220936478885 1 14} {466034429377087198 1 15} {4148337322862504069 1 16}]
------------------------------------------------------
flag 45418 term 3 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 27248 term 3 leader 1 nextIndex[2]: 17  matchIndex[2]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8343809573425814159 1 10} {9170346621110436361 1 11} {1763192941755783246 1 12} {809827299428991265 1 13} {6453806220936478885 1 14} {466034429377087198 1 15} {4148337322862504069 1 16}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8343809573425814159 1 10} {9170346621110436361 1 11} {1763192941755783246 1 12} {809827299428991265 1 13} {6453806220936478885 1 14} {466034429377087198 1 15} {4148337322862504069 1 16}]
------------------------------------------------------
flag 90753 term 3 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 26549 term 3 leader 1 nextIndex[2]: 17  matchIndex[2]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8343809573425814159 1 10} {9170346621110436361 1 11} {1763192941755783246 1 12} {809827299428991265 1 13} {6453806220936478885 1 14} {466034429377087198 1 15} {4148337322862504069 1 16}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8343809573425814159 1 10} {9170346621110436361 1 11} {1763192941755783246 1 12} {809827299428991265 1 13} {6453806220936478885 1 14} {466034429377087198 1 15} {4148337322862504069 1 16}]
------------------------------------------------------
flag 11535 term 3 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 49319 term 3 leader 1 nextIndex[2]: 17  matchIndex[2]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8343809573425814159 1 10} {9170346621110436361 1 11} {1763192941755783246 1 12} {809827299428991265 1 13} {6453806220936478885 1 14} {466034429377087198 1 15} {4148337322862504069 1 16}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8343809573425814159 1 10} {9170346621110436361 1 11} {1763192941755783246 1 12} {809827299428991265 1 13} {6453806220936478885 1 14} {466034429377087198 1 15} {4148337322862504069 1 16}]
------------------------------------------------------
flag 3870 term 3 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 8604 term 3 leader 1 nextIndex[2]: 17  matchIndex[2]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8343809573425814159 1 10} {9170346621110436361 1 11} {1763192941755783246 1 12} {809827299428991265 1 13} {6453806220936478885 1 14} {466034429377087198 1 15} {4148337322862504069 1 16}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8343809573425814159 1 10} {9170346621110436361 1 11} {1763192941755783246 1 12} {809827299428991265 1 13} {6453806220936478885 1 14} {466034429377087198 1 15} {4148337322862504069 1 16}]
------------------------------------------------------
flag 47632 term 3 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 81934 term 3 leader 1 nextIndex[2]: 17  matchIndex[2]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8343809573425814159 1 10} {9170346621110436361 1 11} {1763192941755783246 1 12} {809827299428991265 1 13} {6453806220936478885 1 14} {466034429377087198 1 15} {4148337322862504069 1 16}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8343809573425814159 1 10} {9170346621110436361 1 11} {1763192941755783246 1 12} {809827299428991265 1 13} {6453806220936478885 1 14} {466034429377087198 1 15} {4148337322862504069 1 16}]
------------------------------------------------------
client write log 4148337322862504069 (index 17) to leader 1
flag 39433 term 3 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 80853 term 3 leader 1 nextIndex[2]: 17  matchIndex[2]: 16
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8343809573425814159 1 10} {9170346621110436361 1 11} {1763192941755783246 1 12} {809827299428991265 1 13} {6453806220936478885 1 14} {466034429377087198 1 15} {4148337322862504069 1 16} {4148337322862504069 3 17}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8343809573425814159 1 10} {9170346621110436361 1 11} {1763192941755783246 1 12} {809827299428991265 1 13} {6453806220936478885 1 14} {466034429377087198 1 15} {4148337322862504069 1 16} {4148337322862504069 3 17}]
------------------------------------------------------
flag 97931 term 3 leader 1 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 3 leaderCommit: 17 
------------------------------------------------------
flag 70856 term 3 leader 1 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 3 leaderCommit: 17 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8343809573425814159 1 10} {9170346621110436361 1 11} {1763192941755783246 1 12} {809827299428991265 1 13} {6453806220936478885 1 14} {466034429377087198 1 15} {4148337322862504069 1 16} {4148337322862504069 3 17}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8343809573425814159 1 10} {9170346621110436361 1 11} {1763192941755783246 1 12} {809827299428991265 1 13} {6453806220936478885 1 14} {466034429377087198 1 15} {4148337322862504069 1 16} {4148337322862504069 3 17}]
------------------------------------------------------
flag 55009 term 3 leader 1 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 3 leaderCommit: 17 
------------------------------------------------------
flag 9132 term 3 leader 1 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 3 leaderCommit: 17 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8343809573425814159 1 10} {9170346621110436361 1 11} {1763192941755783246 1 12} {809827299428991265 1 13} {6453806220936478885 1 14} {466034429377087198 1 15} {4148337322862504069 1 16} {4148337322862504069 3 17}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8343809573425814159 1 10} {9170346621110436361 1 11} {1763192941755783246 1 12} {809827299428991265 1 13} {6453806220936478885 1 14} {466034429377087198 1 15} {4148337322862504069 1 16} {4148337322862504069 3 17}]
------------------------------------------------------
flag 60427 term 3 leader 1 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 3 leaderCommit: 17 
------------------------------------------------------
flag 24189 term 3 leader 1 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 3 leaderCommit: 17 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8343809573425814159 1 10} {9170346621110436361 1 11} {1763192941755783246 1 12} {809827299428991265 1 13} {6453806220936478885 1 14} {466034429377087198 1 15} {4148337322862504069 1 16} {4148337322862504069 3 17}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8343809573425814159 1 10} {9170346621110436361 1 11} {1763192941755783246 1 12} {809827299428991265 1 13} {6453806220936478885 1 14} {466034429377087198 1 15} {4148337322862504069 1 16} {4148337322862504069 3 17}]
------------------------------------------------------
flag 44611 term 3 leader 1 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 3 leaderCommit: 17 
------------------------------------------------------
flag 25061 term 3 leader 1 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 3 leaderCommit: 17 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8343809573425814159 1 10} {9170346621110436361 1 11} {1763192941755783246 1 12} {809827299428991265 1 13} {6453806220936478885 1 14} {466034429377087198 1 15} {4148337322862504069 1 16} {4148337322862504069 3 17}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8343809573425814159 1 10} {9170346621110436361 1 11} {1763192941755783246 1 12} {809827299428991265 1 13} {6453806220936478885 1 14} {466034429377087198 1 15} {4148337322862504069 1 16} {4148337322862504069 3 17}]
------------------------------------------------------
flag 81800 term 3 leader 1 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 3 leaderCommit: 17 
------------------------------------------------------
flag 64078 term 3 leader 1 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 3 leaderCommit: 17 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8343809573425814159 1 10} {9170346621110436361 1 11} {1763192941755783246 1 12} {809827299428991265 1 13} {6453806220936478885 1 14} {466034429377087198 1 15} {4148337322862504069 1 16} {4148337322862504069 3 17}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8343809573425814159 1 10} {9170346621110436361 1 11} {1763192941755783246 1 12} {809827299428991265 1 13} {6453806220936478885 1 14} {466034429377087198 1 15} {4148337322862504069 1 16} {4148337322862504069 3 17}]
------------------------------------------------------
flag 94640 term 3 leader 1 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 3 leaderCommit: 17 
------------------------------------------------------
flag 26518 term 3 leader 1 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 3 leaderCommit: 17 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8343809573425814159 1 10} {9170346621110436361 1 11} {1763192941755783246 1 12} {809827299428991265 1 13} {6453806220936478885 1 14} {466034429377087198 1 15} {4148337322862504069 1 16} {4148337322862504069 3 17}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8343809573425814159 1 10} {9170346621110436361 1 11} {1763192941755783246 1 12} {809827299428991265 1 13} {6453806220936478885 1 14} {466034429377087198 1 15} {4148337322862504069 1 16} {4148337322862504069 3 17}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 53147 term 3 leader 1 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 3 leaderCommit: 17 
------------------------------------------------------
flag 25970 term 3 leader 1 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 3 leaderCommit: 17 
------------------------------------------------------
flag 72571 term 3 leader 1 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 3 leaderCommit: 17 
------------------------------------------------------
flag 62383 term 3 leader 1 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 3 leaderCommit: 17 
------------------------------------------------------
flag 972 term 3 leader 1 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 3 leaderCommit: 17 
------------------------------------------------------
flag 22473 term 3 leader 1 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 3 leaderCommit: 17 
------------------------------------------------------
flag 78302 term 3 leader 1 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 3 leaderCommit: 17 
------------------------------------------------------
flag 50505 term 3 leader 1 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 3 leaderCommit: 17 
------------------------------------------------------
term 4 server 0 vote for server 2
term 4 server 2 get vote from server 0
term 4 server 2 become leader
------------------------------------------------------
flag 11993 term 4 leader 2 nextIndex[0]: 18  matchIndex[0]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 3 leaderCommit: 17 
------------------------------------------------------
flag 84171 term 4 leader 2 nextIndex[1]: 18  matchIndex[1]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 3 leaderCommit: 17 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8343809573425814159 1 10} {9170346621110436361 1 11} {1763192941755783246 1 12} {809827299428991265 1 13} {6453806220936478885 1 14} {466034429377087198 1 15} {4148337322862504069 1 16} {4148337322862504069 3 17}]
------------------------------------------------------
client write log 9074631325118557092 (index 18) to leader 2
flag 99715 term 3 leader 1 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 3 leaderCommit: 17 
------------------------------------------------------
flag 55879 term 3 leader 1 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 3 leaderCommit: 17 
------------------------------------------------------
flag 16213 term 4 leader 2 nextIndex[0]: 18  matchIndex[0]: 17
term 4 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 3 leaderCommit: 17 
------------------------------------------------------
flag 97644 term 4 leader 2 nextIndex[1]: 18  matchIndex[1]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 3 leaderCommit: 17 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {8343809573425814159 1 10} {9170346621110436361 1 11} {1763192941755783246 1 12} {809827299428991265 1 13} {6453806220936478885 1 14} {466034429377087198 1 15} {4148337322862504069 1 16} {4148337322862504069 3 17} {9074631325118557092 4 18}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71429 term 3 leader 1 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 3 leaderCommit: 17 
------------------------------------------------------
flag 10755 term 3 leader 1 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 3 leaderCommit: 17 
------------------------------------------------------
flag 20933 term 4 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 4 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
flag 2603 term 4 leader 2 nextIndex[1]: 18  matchIndex[1]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {8343809573425814159 1 10} {9170346621110436361 1 11} {1763192941755783246 1 12} {809827299428991265 1 13} {6453806220936478885 1 14} {466034429377087198 1 15} {4148337322862504069 1 16} {4148337322862504069 3 17} {9074631325118557092 4 18}]
------------------------------------------------------
client write log 3545390472416456020 (index 19) to leader 2
client write log 5509405330866914084 (index 20) to leader 2
client write log 4645044668183195460 (index 21) to leader 2
client write log 6292643746871329104 (index 22) to leader 2
client write log 2502350303579871022 (index 23) to leader 2
client write log 5632234075156297146 (index 24) to leader 2
client write log 6189147304913197498 (index 25) to leader 2
client write log 7064996381030832246 (index 26) to leader 2
client write log 8121179361726568645 (index 27) to leader 2
client write log 928701162004721842 (index 28) to leader 2
client write log 8603320496837642183 (index 29) to leader 2
client write log 8759143314345439837 (index 30) to leader 2
client write log 6218459877797075633 (index 31) to leader 2
client write log 1710872476905724586 (index 32) to leader 2
flag 14368 term 3 leader 1 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 3 leaderCommit: 17 
------------------------------------------------------
flag 45114 term 3 leader 1 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 3 leaderCommit: 17 
------------------------------------------------------
flag 48544 term 4 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 4 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
flag 2105 term 4 leader 2 nextIndex[1]: 18  matchIndex[1]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=32
leader log:
[{snapshot 1 9} {8343809573425814159 1 10} {9170346621110436361 1 11} {1763192941755783246 1 12} {809827299428991265 1 13} {6453806220936478885 1 14} {466034429377087198 1 15} {4148337322862504069 1 16} {4148337322862504069 3 17} {9074631325118557092 4 18} {3545390472416456020 4 19} {5509405330866914084 4 20} {4645044668183195460 4 21} {6292643746871329104 4 22} {2502350303579871022 4 23} {5632234075156297146 4 24} {6189147304913197498 4 25} {7064996381030832246 4 26} {8121179361726568645 4 27} {928701162004721842 4 28} {8603320496837642183 4 29} {8759143314345439837 4 30} {6218459877797075633 4 31} {1710872476905724586 4 32}]
------------------------------------------------------
term 4 Server2 start snapshot! index=19
term 4 server2 snapshot success
lastIncludedIndex=19 lastApplied=20 lastIndex=32
-------------------------------------------------------------
term 4 Server2 start snapshot! index=29
term 4 server2 snapshot success
lastIncludedIndex=29 lastApplied=30 lastIndex=32
-------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 18->17
------------------------------------------------------
flag 84104 term 3 leader 1 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 3 leaderCommit: 17 
------------------------------------------------------
flag 1227 term 3 leader 1 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 3 leaderCommit: 17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 0->-1
------------------------------------------------------
flag 41315 term 4 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 4 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
term 4 leader 2 nextIndex[1]: 0  matchIndex[1]: 0
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {8759143314345439837 4 30} {6218459877797075633 4 31} {1710872476905724586 4 32}]
------------------------------------------------------
term 4 Server0 start snapshot! index=19
term 4 server0 snapshot success
lastIncludedIndex=19 lastApplied=20 lastIndex=32
-------------------------------------------------------------
term 4 Server0 start snapshot! index=29
term 4 server0 snapshot success
lastIncludedIndex=29 lastApplied=30 lastIndex=32
-------------------------------------------------------------
!!!!!!connect server 1
client write log 4110866148616443528 (index 18) to leader 1
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 18->17
------------------------------------------------------
flag 56290 term 3 leader 1 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 3 leaderCommit: 17 
------------------------------------------------------
term 3 leader 1 nextIndex[2]: 0  matchIndex[2]: 17
term 3 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 4 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 3 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 4 server 0 AppendEntries false 领导者任期过期 args.Term 3
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58789 term 4 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 4 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
term 4 leader 2 nextIndex[1]: 0  matchIndex[1]: 0
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 1 InstallSnapshot success
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {8759143314345439837 4 30} {6218459877797075633 4 31} {1710872476905724586 4 32}]
------------------------------------------------------
term 4 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 30 matchIndex[1] 29 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 29 rf.lastIncludedTerm 4 rf.commitIndex 29 rf.lastApplied 29
term 4 server 2 not vote for server 1, 日志不够新
term 4 server 0 not vote for server 1, 日志不够新
term 6 server 1 vote for server 2
term 6 server 0 vote for server 2
term 6 server 2 get vote from server 1
term 6 server 2 become leader
------------------------------------------------------
term 6 server 2 get outdate rpc reply from server 0
flag 12908 term 6 leader 2 nextIndex[0]: 33  matchIndex[0]: 0
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
flag 41432 term 6 leader 2 nextIndex[1]: 33  matchIndex[1]: 0
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:32 
------------------------------------------------------
term 6 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {8759143314345439837 4 30} {6218459877797075633 4 31} {1710872476905724586 4 32}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 33->32
------------------------------------------------------
flag 93534 term 6 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
flag 49055 term 6 leader 2 nextIndex[1]: 30  matchIndex[1]: 0
term 6 leader 2 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {8759143314345439837 4 30} {6218459877797075633 4 31} {1710872476905724586 4 32}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {8759143314345439837 4 30} {6218459877797075633 4 31} {1710872476905724586 4 32}]
------------------------------------------------------
flag 74910 term 6 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
flag 48249 term 6 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:32 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {8759143314345439837 4 30} {6218459877797075633 4 31} {1710872476905724586 4 32}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {8759143314345439837 4 30} {6218459877797075633 4 31} {1710872476905724586 4 32}]
------------------------------------------------------
flag 4583 term 6 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
flag 77176 term 6 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:32 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {8759143314345439837 4 30} {6218459877797075633 4 31} {1710872476905724586 4 32}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {8759143314345439837 4 30} {6218459877797075633 4 31} {1710872476905724586 4 32}]
------------------------------------------------------
flag 67222 term 6 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
flag 37526 term 6 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:32 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {8759143314345439837 4 30} {6218459877797075633 4 31} {1710872476905724586 4 32}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {8759143314345439837 4 30} {6218459877797075633 4 31} {1710872476905724586 4 32}]
------------------------------------------------------
flag 75511 term 6 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
flag 25153 term 6 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {8759143314345439837 4 30} {6218459877797075633 4 31} {1710872476905724586 4 32}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {8759143314345439837 4 30} {6218459877797075633 4 31} {1710872476905724586 4 32}]
------------------------------------------------------
flag 25441 term 6 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
flag 3367 term 6 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {8759143314345439837 4 30} {6218459877797075633 4 31} {1710872476905724586 4 32}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {8759143314345439837 4 30} {6218459877797075633 4 31} {1710872476905724586 4 32}]
------------------------------------------------------
flag 72199 term 6 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
flag 15008 term 6 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {8759143314345439837 4 30} {6218459877797075633 4 31} {1710872476905724586 4 32}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {8759143314345439837 4 30} {6218459877797075633 4 31} {1710872476905724586 4 32}]
------------------------------------------------------
flag 41050 term 6 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
flag 11011 term 6 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {8759143314345439837 4 30} {6218459877797075633 4 31} {1710872476905724586 4 32}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {8759143314345439837 4 30} {6218459877797075633 4 31} {1710872476905724586 4 32}]
------------------------------------------------------
flag 30983 term 6 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
flag 99612 term 6 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:32 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:32 
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {8759143314345439837 4 30} {6218459877797075633 4 31} {1710872476905724586 4 32}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {8759143314345439837 4 30} {6218459877797075633 4 31} {1710872476905724586 4 32}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66279 term 6 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
flag 10822 term 6 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:32 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {8759143314345439837 4 30} {6218459877797075633 4 31} {1710872476905724586 4 32}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {8759143314345439837 4 30} {6218459877797075633 4 31} {1710872476905724586 4 32}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64191 term 6 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
flag 28257 term 6 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:32 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {8759143314345439837 4 30} {6218459877797075633 4 31} {1710872476905724586 4 32}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {8759143314345439837 4 30} {6218459877797075633 4 31} {1710872476905724586 4 32}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43484 term 6 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
flag 44858 term 6 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=32
term 6 server 0 AppendEntries true commitIndex:32 
------------------------------------------------------
leader log:
[{snapshot 4 29} {8759143314345439837 4 30} {6218459877797075633 4 31} {1710872476905724586 4 32}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {8759143314345439837 4 30} {6218459877797075633 4 31} {1710872476905724586 4 32}]
------------------------------------------------------
flag 44724 term 6 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
flag 45341 term 6 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:32 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {8759143314345439837 4 30} {6218459877797075633 4 31} {1710872476905724586 4 32}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {8759143314345439837 4 30} {6218459877797075633 4 31} {1710872476905724586 4 32}]
------------------------------------------------------
flag 70611 term 6 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
flag 83723 term 6 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {8759143314345439837 4 30} {6218459877797075633 4 31} {1710872476905724586 4 32}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {8759143314345439837 4 30} {6218459877797075633 4 31} {1710872476905724586 4 32}]
------------------------------------------------------
flag 8480 term 6 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
flag 4411 term 6 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=32
leader log:
term 6 server 0 AppendEntries true commitIndex:32 
------------------------------------------------------
[{snapshot 4 29} {8759143314345439837 4 30} {6218459877797075633 4 31} {1710872476905724586 4 32}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {8759143314345439837 4 30} {6218459877797075633 4 31} {1710872476905724586 4 32}]
------------------------------------------------------
flag 28056 term 6 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
flag 99662 term 6 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {8759143314345439837 4 30} {6218459877797075633 4 31} {1710872476905724586 4 32}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {8759143314345439837 4 30} {6218459877797075633 4 31} {1710872476905724586 4 32}]
------------------------------------------------------
flag 91025 term 6 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
flag 31908 term 6 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {8759143314345439837 4 30} {6218459877797075633 4 31} {1710872476905724586 4 32}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {8759143314345439837 4 30} {6218459877797075633 4 31} {1710872476905724586 4 32}]
------------------------------------------------------
client write log 4110866148616443528 (index 33) to leader 2
flag 5190 term 6 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
flag 19182 term 6 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 6 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 4 leaderCommit: 32 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {8759143314345439837 4 30} {6218459877797075633 4 31} {1710872476905724586 4 32} {4110866148616443528 6 33}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {8759143314345439837 4 30} {6218459877797075633 4 31} {1710872476905724586 4 32} {4110866148616443528 6 33}]
------------------------------------------------------
flag 73795 term 6 leader 2 nextIndex[0]: 34  matchIndex[0]: 33
term 6 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
flag 77386 term 6 leader 2 nextIndex[1]: 34  matchIndex[1]: 33
term 6 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {8759143314345439837 4 30} {6218459877797075633 4 31} {1710872476905724586 4 32} {4110866148616443528 6 33}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {8759143314345439837 4 30} {6218459877797075633 4 31} {1710872476905724586 4 32} {4110866148616443528 6 33}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69034 term 6 leader 2 nextIndex[0]: 34  matchIndex[0]: 33
term 6 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
flag 72531 term 6 leader 2 nextIndex[1]: 34  matchIndex[1]: 33
term 6 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {8759143314345439837 4 30} {6218459877797075633 4 31} {1710872476905724586 4 32} {4110866148616443528 6 33}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {8759143314345439837 4 30} {6218459877797075633 4 31} {1710872476905724586 4 32} {4110866148616443528 6 33}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38298 term 6 leader 2 nextIndex[0]: 34  matchIndex[0]: 33
term 6 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
flag 15802 term 6 leader 2 nextIndex[1]: 34  matchIndex[1]: 33
term 6 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {8759143314345439837 4 30} {6218459877797075633 4 31} {1710872476905724586 4 32} {4110866148616443528 6 33}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {8759143314345439837 4 30} {6218459877797075633 4 31} {1710872476905724586 4 32} {4110866148616443528 6 33}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59276 term 6 leader 2 nextIndex[0]: 34  matchIndex[0]: 33
term 6 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
flag 38110 term 6 leader 2 nextIndex[1]: 34  matchIndex[1]: 33
term 6 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {8759143314345439837 4 30} {6218459877797075633 4 31} {1710872476905724586 4 32} {4110866148616443528 6 33}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {8759143314345439837 4 30} {6218459877797075633 4 31} {1710872476905724586 4 32} {4110866148616443528 6 33}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88800 term 6 leader 2 nextIndex[0]: 34  matchIndex[0]: 33
term 6 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
flag 65235 term 6 leader 2 nextIndex[1]: 34  matchIndex[1]: 33
term 6 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {8759143314345439837 4 30} {6218459877797075633 4 31} {1710872476905724586 4 32} {4110866148616443528 6 33}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {8759143314345439837 4 30} {6218459877797075633 4 31} {1710872476905724586 4 32} {4110866148616443528 6 33}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 3368264055574622818 (index 34) to leader 2
flag 59997 term 6 leader 2 nextIndex[0]: 34  matchIndex[0]: 33
term 6 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
flag 47163 term 6 leader 2 nextIndex[1]: 34  matchIndex[1]: 33
term 6 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {8759143314345439837 4 30} {6218459877797075633 4 31} {1710872476905724586 4 32} {4110866148616443528 6 33} {3368264055574622818 6 34}]
------------------------------------------------------
flag 33085 term 6 leader 2 nextIndex[0]: 34  matchIndex[0]: 33
term 6 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 34 
------------------------------------------------------
flag 59384 term 6 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 34 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {8759143314345439837 4 30} {6218459877797075633 4 31} {1710872476905724586 4 32} {4110866148616443528 6 33} {3368264055574622818 6 34}]
------------------------------------------------------
client write log 7912534309629636774 (index 35) to leader 2
client write log 2161925538258598002 (index 36) to leader 2
client write log 828104913738783089 (index 37) to leader 2
client write log 1046253722520533010 (index 38) to leader 2
client write log 3208369960438666956 (index 39) to leader 2
client write log 6710589185366141318 (index 40) to leader 2
client write log 7988628776094769533 (index 41) to leader 2
client write log 8968641737307126850 (index 42) to leader 2
client write log 2340276859868186763 (index 43) to leader 2
client write log 8001830952019086942 (index 44) to leader 2
client write log 5355331709196069283 (index 45) to leader 2
client write log 1140303956691725793 (index 46) to leader 2
flag 37145 term 6 leader 2 nextIndex[0]: 34  matchIndex[0]: 33
term 6 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 34 
------------------------------------------------------
flag 62591 term 6 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 6 leaderCommit: 34 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 4 29} {8759143314345439837 4 30} {6218459877797075633 4 31} {1710872476905724586 4 32} {4110866148616443528 6 33} {3368264055574622818 6 34} {7912534309629636774 6 35} {2161925538258598002 6 36} {828104913738783089 6 37} {1046253722520533010 6 38} {3208369960438666956 6 39} {6710589185366141318 6 40} {7988628776094769533 6 41} {8968641737307126850 6 42} {2340276859868186763 6 43} {8001830952019086942 6 44} {5355331709196069283 6 45} {1140303956691725793 6 46}]
------------------------------------------------------
term 6 Server2 start snapshot! index=39
term 6 server2 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=46
-------------------------------------------------------------
term 6 leader 2 nextIndex[0]: 34  matchIndex[0]: 33
term 6 leader 2 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 73812 term 6 leader 2 nextIndex[1]: 47  matchIndex[1]: 46
term 6 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {6710589185366141318 6 40} {7988628776094769533 6 41} {8968641737307126850 6 42} {2340276859868186763 6 43} {8001830952019086942 6 44} {5355331709196069283 6 45} {1140303956691725793 6 46}]
------------------------------------------------------
term 6 Server1 start snapshot! index=39
term 6 server1 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=46
-------------------------------------------------------------
!!!!!!connect server 0
client write log 8510617985296468689 (index 47) to leader 2
term 6 server 2 not vote for server 0, 日志不够新
term 6 server 1 not vote for server 0, 日志不够新
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 8 server 0 vote for server 2
term 8 server 1 vote for server 2
term 8 server 2 get vote from server 0
term 8 server 2 become leader
------------------------------------------------------
term 8 server 2 get outdate rpc reply from server 1
flag 16782 term 8 leader 2 nextIndex[0]: 48  matchIndex[0]: 0
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 9088 term 8 leader 2 nextIndex[1]: 48  matchIndex[1]: 0
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 48->47
------------------------------------------------------
term 8 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 48->47
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 8 leader 2 nextIndex[0]: 34  matchIndex[0]: 0
term 8 leader 2 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 37849 term 8 leader 2 nextIndex[1]: 47  matchIndex[1]: 0
term 8 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {6710589185366141318 6 40} {7988628776094769533 6 41} {8968641737307126850 6 42} {2340276859868186763 6 43} {8001830952019086942 6 44} {5355331709196069283 6 45} {1140303956691725793 6 46} {8510617985296468689 6 47}]
------------------------------------------------------
term 8 server 0 InstallSnapshot success
------------------------------------------------------
term 8 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 40 matchIndex[0] 39 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 39 rf.lastIncludedTerm 6 rf.commitIndex 39 rf.lastApplied 39
flag 84906 term 8 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 41640 term 8 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {6710589185366141318 6 40} {7988628776094769533 6 41} {8968641737307126850 6 42} {2340276859868186763 6 43} {8001830952019086942 6 44} {5355331709196069283 6 45} {1140303956691725793 6 46} {8510617985296468689 6 47}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {6710589185366141318 6 40} {7988628776094769533 6 41} {8968641737307126850 6 42} {2340276859868186763 6 43} {8001830952019086942 6 44} {5355331709196069283 6 45} {1140303956691725793 6 46} {8510617985296468689 6 47}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84068 term 8 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 68493 term 8 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {6710589185366141318 6 40} {7988628776094769533 6 41} {8968641737307126850 6 42} {2340276859868186763 6 43} {8001830952019086942 6 44} {5355331709196069283 6 45} {1140303956691725793 6 46} {8510617985296468689 6 47}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {6710589185366141318 6 40} {7988628776094769533 6 41} {8968641737307126850 6 42} {2340276859868186763 6 43} {8001830952019086942 6 44} {5355331709196069283 6 45} {1140303956691725793 6 46} {8510617985296468689 6 47}]
------------------------------------------------------
flag 98368 term 8 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 40858 term 8 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {6710589185366141318 6 40} {7988628776094769533 6 41} {8968641737307126850 6 42} {2340276859868186763 6 43} {8001830952019086942 6 44} {5355331709196069283 6 45} {1140303956691725793 6 46} {8510617985296468689 6 47}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {6710589185366141318 6 40} {7988628776094769533 6 41} {8968641737307126850 6 42} {2340276859868186763 6 43} {8001830952019086942 6 44} {5355331709196069283 6 45} {1140303956691725793 6 46} {8510617985296468689 6 47}]
------------------------------------------------------
term 8 server 1 not vote for server 2, 任期不够新
term 8 server 2 get outdate rpc reply from server 1
term 8 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 11836 term 8 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 78487 term 8 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {6710589185366141318 6 40} {7988628776094769533 6 41} {8968641737307126850 6 42} {2340276859868186763 6 43} {8001830952019086942 6 44} {5355331709196069283 6 45} {1140303956691725793 6 46} {8510617985296468689 6 47}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {6710589185366141318 6 40} {7988628776094769533 6 41} {8968641737307126850 6 42} {2340276859868186763 6 43} {8001830952019086942 6 44} {5355331709196069283 6 45} {1140303956691725793 6 46} {8510617985296468689 6 47}]
------------------------------------------------------
flag 91622 term 8 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 15490 term 8 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {6710589185366141318 6 40} {7988628776094769533 6 41} {8968641737307126850 6 42} {2340276859868186763 6 43} {8001830952019086942 6 44} {5355331709196069283 6 45} {1140303956691725793 6 46} {8510617985296468689 6 47}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {6710589185366141318 6 40} {7988628776094769533 6 41} {8968641737307126850 6 42} {2340276859868186763 6 43} {8001830952019086942 6 44} {5355331709196069283 6 45} {1140303956691725793 6 46} {8510617985296468689 6 47}]
------------------------------------------------------
flag 10529 term 8 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 15145 term 8 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {6710589185366141318 6 40} {7988628776094769533 6 41} {8968641737307126850 6 42} {2340276859868186763 6 43} {8001830952019086942 6 44} {5355331709196069283 6 45} {1140303956691725793 6 46} {8510617985296468689 6 47}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {6710589185366141318 6 40} {7988628776094769533 6 41} {8968641737307126850 6 42} {2340276859868186763 6 43} {8001830952019086942 6 44} {5355331709196069283 6 45} {1140303956691725793 6 46} {8510617985296468689 6 47}]
------------------------------------------------------
flag 34408 term 8 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 18510 term 8 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {6710589185366141318 6 40} {7988628776094769533 6 41} {8968641737307126850 6 42} {2340276859868186763 6 43} {8001830952019086942 6 44} {5355331709196069283 6 45} {1140303956691725793 6 46} {8510617985296468689 6 47}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {6710589185366141318 6 40} {7988628776094769533 6 41} {8968641737307126850 6 42} {2340276859868186763 6 43} {8001830952019086942 6 44} {5355331709196069283 6 45} {1140303956691725793 6 46} {8510617985296468689 6 47}]
------------------------------------------------------
flag 6966 term 8 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 44767 term 8 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {6710589185366141318 6 40} {7988628776094769533 6 41} {8968641737307126850 6 42} {2340276859868186763 6 43} {8001830952019086942 6 44} {5355331709196069283 6 45} {1140303956691725793 6 46} {8510617985296468689 6 47}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {6710589185366141318 6 40} {7988628776094769533 6 41} {8968641737307126850 6 42} {2340276859868186763 6 43} {8001830952019086942 6 44} {5355331709196069283 6 45} {1140303956691725793 6 46} {8510617985296468689 6 47}]
------------------------------------------------------
flag 77243 term 8 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 7215 term 8 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {6710589185366141318 6 40} {7988628776094769533 6 41} {8968641737307126850 6 42} {2340276859868186763 6 43} {8001830952019086942 6 44} {5355331709196069283 6 45} {1140303956691725793 6 46} {8510617985296468689 6 47}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {6710589185366141318 6 40} {7988628776094769533 6 41} {8968641737307126850 6 42} {2340276859868186763 6 43} {8001830952019086942 6 44} {5355331709196069283 6 45} {1140303956691725793 6 46} {8510617985296468689 6 47}]
------------------------------------------------------
flag 46461 term 8 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 50509 term 8 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {6710589185366141318 6 40} {7988628776094769533 6 41} {8968641737307126850 6 42} {2340276859868186763 6 43} {8001830952019086942 6 44} {5355331709196069283 6 45} {1140303956691725793 6 46} {8510617985296468689 6 47}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {6710589185366141318 6 40} {7988628776094769533 6 41} {8968641737307126850 6 42} {2340276859868186763 6 43} {8001830952019086942 6 44} {5355331709196069283 6 45} {1140303956691725793 6 46} {8510617985296468689 6 47}]
------------------------------------------------------
flag 39928 term 8 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 51079 term 8 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {6710589185366141318 6 40} {7988628776094769533 6 41} {8968641737307126850 6 42} {2340276859868186763 6 43} {8001830952019086942 6 44} {5355331709196069283 6 45} {1140303956691725793 6 46} {8510617985296468689 6 47}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {6710589185366141318 6 40} {7988628776094769533 6 41} {8968641737307126850 6 42} {2340276859868186763 6 43} {8001830952019086942 6 44} {5355331709196069283 6 45} {1140303956691725793 6 46} {8510617985296468689 6 47}]
------------------------------------------------------
flag 27361 term 8 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 52488 term 8 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {6710589185366141318 6 40} {7988628776094769533 6 41} {8968641737307126850 6 42} {2340276859868186763 6 43} {8001830952019086942 6 44} {5355331709196069283 6 45} {1140303956691725793 6 46} {8510617985296468689 6 47}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {6710589185366141318 6 40} {7988628776094769533 6 41} {8968641737307126850 6 42} {2340276859868186763 6 43} {8001830952019086942 6 44} {5355331709196069283 6 45} {1140303956691725793 6 46} {8510617985296468689 6 47}]
------------------------------------------------------
flag 42346 term 8 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 17159 term 8 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {6710589185366141318 6 40} {7988628776094769533 6 41} {8968641737307126850 6 42} {2340276859868186763 6 43} {8001830952019086942 6 44} {5355331709196069283 6 45} {1140303956691725793 6 46} {8510617985296468689 6 47}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {6710589185366141318 6 40} {7988628776094769533 6 41} {8968641737307126850 6 42} {2340276859868186763 6 43} {8001830952019086942 6 44} {5355331709196069283 6 45} {1140303956691725793 6 46} {8510617985296468689 6 47}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5461 term 8 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 58261 term 8 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {6710589185366141318 6 40} {7988628776094769533 6 41} {8968641737307126850 6 42} {2340276859868186763 6 43} {8001830952019086942 6 44} {5355331709196069283 6 45} {1140303956691725793 6 46} {8510617985296468689 6 47}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {6710589185366141318 6 40} {7988628776094769533 6 41} {8968641737307126850 6 42} {2340276859868186763 6 43} {8001830952019086942 6 44} {5355331709196069283 6 45} {1140303956691725793 6 46} {8510617985296468689 6 47}]
------------------------------------------------------
flag 80557 term 8 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 16534 term 8 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {6710589185366141318 6 40} {7988628776094769533 6 41} {8968641737307126850 6 42} {2340276859868186763 6 43} {8001830952019086942 6 44} {5355331709196069283 6 45} {1140303956691725793 6 46} {8510617985296468689 6 47}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {6710589185366141318 6 40} {7988628776094769533 6 41} {8968641737307126850 6 42} {2340276859868186763 6 43} {8001830952019086942 6 44} {5355331709196069283 6 45} {1140303956691725793 6 46} {8510617985296468689 6 47}]
------------------------------------------------------
flag 86199 term 8 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 29293 term 8 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {6710589185366141318 6 40} {7988628776094769533 6 41} {8968641737307126850 6 42} {2340276859868186763 6 43} {8001830952019086942 6 44} {5355331709196069283 6 45} {1140303956691725793 6 46} {8510617985296468689 6 47}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {6710589185366141318 6 40} {7988628776094769533 6 41} {8968641737307126850 6 42} {2340276859868186763 6 43} {8001830952019086942 6 44} {5355331709196069283 6 45} {1140303956691725793 6 46} {8510617985296468689 6 47}]
------------------------------------------------------
term 8 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 72274 term 8 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 13732 term 8 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {6710589185366141318 6 40} {7988628776094769533 6 41} {8968641737307126850 6 42} {2340276859868186763 6 43} {8001830952019086942 6 44} {5355331709196069283 6 45} {1140303956691725793 6 46} {8510617985296468689 6 47}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {6710589185366141318 6 40} {7988628776094769533 6 41} {8968641737307126850 6 42} {2340276859868186763 6 43} {8001830952019086942 6 44} {5355331709196069283 6 45} {1140303956691725793 6 46} {8510617985296468689 6 47}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51443 term 8 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 22533 term 8 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {6710589185366141318 6 40} {7988628776094769533 6 41} {8968641737307126850 6 42} {2340276859868186763 6 43} {8001830952019086942 6 44} {5355331709196069283 6 45} {1140303956691725793 6 46} {8510617985296468689 6 47}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {6710589185366141318 6 40} {7988628776094769533 6 41} {8968641737307126850 6 42} {2340276859868186763 6 43} {8001830952019086942 6 44} {5355331709196069283 6 45} {1140303956691725793 6 46} {8510617985296468689 6 47}]
------------------------------------------------------
client write log 8510617985296468689 (index 48) to leader 2
flag 64848 term 8 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 57401 term 8 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6710589185366141318 6 40} {7988628776094769533 6 41} {8968641737307126850 6 42} {2340276859868186763 6 43} {8001830952019086942 6 44} {5355331709196069283 6 45} {1140303956691725793 6 46} {8510617985296468689 6 47} {8510617985296468689 8 48}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6710589185366141318 6 40} {7988628776094769533 6 41} {8968641737307126850 6 42} {2340276859868186763 6 43} {8001830952019086942 6 44} {5355331709196069283 6 45} {1140303956691725793 6 46} {8510617985296468689 6 47} {8510617985296468689 8 48}]
------------------------------------------------------
flag 24094 term 8 leader 2 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 73389 term 8 leader 2 nextIndex[1]: 49  matchIndex[1]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6710589185366141318 6 40} {7988628776094769533 6 41} {8968641737307126850 6 42} {2340276859868186763 6 43} {8001830952019086942 6 44} {5355331709196069283 6 45} {1140303956691725793 6 46} {8510617985296468689 6 47} {8510617985296468689 8 48}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6710589185366141318 6 40} {7988628776094769533 6 41} {8968641737307126850 6 42} {2340276859868186763 6 43} {8001830952019086942 6 44} {5355331709196069283 6 45} {1140303956691725793 6 46} {8510617985296468689 6 47} {8510617985296468689 8 48}]
------------------------------------------------------
flag 24210 term 8 leader 2 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 78856 term 8 leader 2 nextIndex[1]: 49  matchIndex[1]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6710589185366141318 6 40} {7988628776094769533 6 41} {8968641737307126850 6 42} {2340276859868186763 6 43} {8001830952019086942 6 44} {5355331709196069283 6 45} {1140303956691725793 6 46} {8510617985296468689 6 47} {8510617985296468689 8 48}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6710589185366141318 6 40} {7988628776094769533 6 41} {8968641737307126850 6 42} {2340276859868186763 6 43} {8001830952019086942 6 44} {5355331709196069283 6 45} {1140303956691725793 6 46} {8510617985296468689 6 47} {8510617985296468689 8 48}]
------------------------------------------------------
flag 20607 term 8 leader 2 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 76378 term 8 leader 2 nextIndex[1]: 49  matchIndex[1]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6710589185366141318 6 40} {7988628776094769533 6 41} {8968641737307126850 6 42} {2340276859868186763 6 43} {8001830952019086942 6 44} {5355331709196069283 6 45} {1140303956691725793 6 46} {8510617985296468689 6 47} {8510617985296468689 8 48}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6710589185366141318 6 40} {7988628776094769533 6 41} {8968641737307126850 6 42} {2340276859868186763 6 43} {8001830952019086942 6 44} {5355331709196069283 6 45} {1140303956691725793 6 46} {8510617985296468689 6 47} {8510617985296468689 8 48}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16008 term 8 leader 2 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 65513 term 8 leader 2 nextIndex[1]: 49  matchIndex[1]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6710589185366141318 6 40} {7988628776094769533 6 41} {8968641737307126850 6 42} {2340276859868186763 6 43} {8001830952019086942 6 44} {5355331709196069283 6 45} {1140303956691725793 6 46} {8510617985296468689 6 47} {8510617985296468689 8 48}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6710589185366141318 6 40} {7988628776094769533 6 41} {8968641737307126850 6 42} {2340276859868186763 6 43} {8001830952019086942 6 44} {5355331709196069283 6 45} {1140303956691725793 6 46} {8510617985296468689 6 47} {8510617985296468689 8 48}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76302 term 8 leader 2 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 39481 term 8 leader 2 nextIndex[1]: 49  matchIndex[1]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6710589185366141318 6 40} {7988628776094769533 6 41} {8968641737307126850 6 42} {2340276859868186763 6 43} {8001830952019086942 6 44} {5355331709196069283 6 45} {1140303956691725793 6 46} {8510617985296468689 6 47} {8510617985296468689 8 48}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6710589185366141318 6 40} {7988628776094769533 6 41} {8968641737307126850 6 42} {2340276859868186763 6 43} {8001830952019086942 6 44} {5355331709196069283 6 45} {1140303956691725793 6 46} {8510617985296468689 6 47} {8510617985296468689 8 48}]
------------------------------------------------------
term 8 server 1 not vote for server 2, 任期不够新
term 8 server 2 get outdate rpc reply from server 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71299 term 8 leader 2 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 33424 term 8 leader 2 nextIndex[1]: 49  matchIndex[1]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6710589185366141318 6 40} {7988628776094769533 6 41} {8968641737307126850 6 42} {2340276859868186763 6 43} {8001830952019086942 6 44} {5355331709196069283 6 45} {1140303956691725793 6 46} {8510617985296468689 6 47} {8510617985296468689 8 48}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {6710589185366141318 6 40} {7988628776094769533 6 41} {8968641737307126850 6 42} {2340276859868186763 6 43} {8001830952019086942 6 44} {5355331709196069283 6 45} {1140303956691725793 6 46} {8510617985296468689 6 47} {8510617985296468689 8 48}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 3178725775099319644 (index 49) to leader 2
flag 20227 term 8 leader 2 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 60223 term 8 leader 2 nextIndex[1]: 49  matchIndex[1]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=49
leader log:
[{snapshot 6 39} {6710589185366141318 6 40} {7988628776094769533 6 41} {8968641737307126850 6 42} {2340276859868186763 6 43} {8001830952019086942 6 44} {5355331709196069283 6 45} {1140303956691725793 6 46} {8510617985296468689 6 47} {8510617985296468689 8 48} {3178725775099319644 8 49}]
------------------------------------------------------
term 8 Server2 start snapshot! index=49
term 8 server2 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=49
-------------------------------------------------------------
term 8 leader 2 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 8
------------------------------------------------------
flag 86941 term 8 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=49
leader log:
[{snapshot 8 49}]
------------------------------------------------------
term 8 Server1 start snapshot! index=49
term 8 server1 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=49
-------------------------------------------------------------
client write log 7636657129047920766 (index 50) to leader 2
client write log 34805868085680588 (index 51) to leader 2
client write log 7052093969072459269 (index 52) to leader 2
client write log 858715987579429452 (index 53) to leader 2
client write log 3368772843878176761 (index 54) to leader 2
client write log 2290830607198206675 (index 55) to leader 2
client write log 1684763266666307471 (index 56) to leader 2
client write log 3543112751200291021 (index 57) to leader 2
term 8 leader 2 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 8
------------------------------------------------------
flag 28382 term 8 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 8 49} {7636657129047920766 8 50} {34805868085680588 8 51} {7052093969072459269 8 52} {858715987579429452 8 53} {3368772843878176761 8 54} {2290830607198206675 8 55} {1684763266666307471 8 56} {3543112751200291021 8 57}]
------------------------------------------------------
term 8 leader 2 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 8
------------------------------------------------------
flag 88445 term 8 leader 2 nextIndex[1]: 58  matchIndex[1]: 57
term 8 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 8 49} {7636657129047920766 8 50} {34805868085680588 8 51} {7052093969072459269 8 52} {858715987579429452 8 53} {3368772843878176761 8 54} {2290830607198206675 8 55} {1684763266666307471 8 56} {3543112751200291021 8 57}]
------------------------------------------------------
!!!!!!connect server 0
client write log 9107834643673679872 (index 58) to leader 2
term 8 server 2 not vote for server 0, 日志不够新
term 8 server 1 not vote for server 0, 日志不够新
term 10 server 1 vote for server 2
term 10 server 2 get vote from server 1
term 10 server 2 become leader
------------------------------------------------------
term 10 server 0 vote for server 2
term 10 server 2 get outdate rpc reply from server 0
flag 51984 term 10 leader 2 nextIndex[0]: 59  matchIndex[0]: 0
term 10 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
flag 62002 term 10 leader 2 nextIndex[1]: 59  matchIndex[1]: 0
term 10 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
term 10 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 59->58
------------------------------------------------------
term 10 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 59->58
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 10 leader 2 nextIndex[0]: 49  matchIndex[0]: 0
term 10 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 8
------------------------------------------------------
flag 57554 term 10 leader 2 nextIndex[1]: 58  matchIndex[1]: 0
term 10 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=57
leader log:
[{snapshot 8 49} {7636657129047920766 8 50} {34805868085680588 8 51} {7052093969072459269 8 52} {858715987579429452 8 53} {3368772843878176761 8 54} {2290830607198206675 8 55} {1684763266666307471 8 56} {3543112751200291021 8 57} {9107834643673679872 8 58}]
------------------------------------------------------
term 10 server 0 InstallSnapshot success
------------------------------------------------------
term 10 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 50 matchIndex[0] 49 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 49 rf.lastIncludedTerm 8 rf.commitIndex 49 rf.lastApplied 49
term 10 server 0 not vote for server 2, 任期不够新
term 10 server 2 get outdate rpc reply from server 0
flag 1119 term 10 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 10 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
flag 87824 term 10 leader 2 nextIndex[1]: 59  matchIndex[1]: 58
term 10 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=57
leader log:
[{snapshot 8 49} {7636657129047920766 8 50} {34805868085680588 8 51} {7052093969072459269 8 52} {858715987579429452 8 53} {3368772843878176761 8 54} {2290830607198206675 8 55} {1684763266666307471 8 56} {3543112751200291021 8 57} {9107834643673679872 8 58}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=57
leader log:
[{snapshot 8 49} {7636657129047920766 8 50} {34805868085680588 8 51} {7052093969072459269 8 52} {858715987579429452 8 53} {3368772843878176761 8 54} {2290830607198206675 8 55} {1684763266666307471 8 56} {3543112751200291021 8 57} {9107834643673679872 8 58}]
------------------------------------------------------
flag 42304 term 10 leader 2 nextIndex[0]: 59  matchIndex[0]: 58
term 10 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
flag 261 term 10 leader 2 nextIndex[1]: 59  matchIndex[1]: 58
term 10 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=57
leader log:
[{snapshot 8 49} {7636657129047920766 8 50} {34805868085680588 8 51} {7052093969072459269 8 52} {858715987579429452 8 53} {3368772843878176761 8 54} {2290830607198206675 8 55} {1684763266666307471 8 56} {3543112751200291021 8 57} {9107834643673679872 8 58}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=57
leader log:
[{snapshot 8 49} {7636657129047920766 8 50} {34805868085680588 8 51} {7052093969072459269 8 52} {858715987579429452 8 53} {3368772843878176761 8 54} {2290830607198206675 8 55} {1684763266666307471 8 56} {3543112751200291021 8 57} {9107834643673679872 8 58}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73497 term 10 leader 2 nextIndex[0]: 59  matchIndex[0]: 58
term 10 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
flag 94917 term 10 leader 2 nextIndex[1]: 59  matchIndex[1]: 58
term 10 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=57
leader log:
[{snapshot 8 49} {7636657129047920766 8 50} {34805868085680588 8 51} {7052093969072459269 8 52} {858715987579429452 8 53} {3368772843878176761 8 54} {2290830607198206675 8 55} {1684763266666307471 8 56} {3543112751200291021 8 57} {9107834643673679872 8 58}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=57
leader log:
[{snapshot 8 49} {7636657129047920766 8 50} {34805868085680588 8 51} {7052093969072459269 8 52} {858715987579429452 8 53} {3368772843878176761 8 54} {2290830607198206675 8 55} {1684763266666307471 8 56} {3543112751200291021 8 57} {9107834643673679872 8 58}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23215 term 10 leader 2 nextIndex[0]: 59  matchIndex[0]: 58
term 10 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
flag 61833 term 10 leader 2 nextIndex[1]: 59  matchIndex[1]: 58
term 10 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=57
leader log:
[{snapshot 8 49} {7636657129047920766 8 50} {34805868085680588 8 51} {7052093969072459269 8 52} {858715987579429452 8 53} {3368772843878176761 8 54} {2290830607198206675 8 55} {1684763266666307471 8 56} {3543112751200291021 8 57} {9107834643673679872 8 58}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=57
leader log:
[{snapshot 8 49} {7636657129047920766 8 50} {34805868085680588 8 51} {7052093969072459269 8 52} {858715987579429452 8 53} {3368772843878176761 8 54} {2290830607198206675 8 55} {1684763266666307471 8 56} {3543112751200291021 8 57} {9107834643673679872 8 58}]
------------------------------------------------------
flag 15528 term 10 leader 2 nextIndex[0]: 59  matchIndex[0]: 58
term 10 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
flag 76515 term 10 leader 2 nextIndex[1]: 59  matchIndex[1]: 58
term 10 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=57
leader log:
[{snapshot 8 49} {7636657129047920766 8 50} {34805868085680588 8 51} {7052093969072459269 8 52} {858715987579429452 8 53} {3368772843878176761 8 54} {2290830607198206675 8 55} {1684763266666307471 8 56} {3543112751200291021 8 57} {9107834643673679872 8 58}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=57
leader log:
[{snapshot 8 49} {7636657129047920766 8 50} {34805868085680588 8 51} {7052093969072459269 8 52} {858715987579429452 8 53} {3368772843878176761 8 54} {2290830607198206675 8 55} {1684763266666307471 8 56} {3543112751200291021 8 57} {9107834643673679872 8 58}]
------------------------------------------------------
flag 75965 term 10 leader 2 nextIndex[0]: 59  matchIndex[0]: 58
term 10 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
flag 14450 term 10 leader 2 nextIndex[1]: 59  matchIndex[1]: 58
term 10 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=57
leader log:
term 10 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
[{snapshot 8 49} {7636657129047920766 8 50} {34805868085680588 8 51} {7052093969072459269 8 52} {858715987579429452 8 53} {3368772843878176761 8 54} {2290830607198206675 8 55} {1684763266666307471 8 56} {3543112751200291021 8 57} {9107834643673679872 8 58}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=57
leader log:
[{snapshot 8 49} {7636657129047920766 8 50} {34805868085680588 8 51} {7052093969072459269 8 52} {858715987579429452 8 53} {3368772843878176761 8 54} {2290830607198206675 8 55} {1684763266666307471 8 56} {3543112751200291021 8 57} {9107834643673679872 8 58}]
------------------------------------------------------
flag 16198 term 10 leader 2 nextIndex[0]: 59  matchIndex[0]: 58
term 10 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
flag 20581 term 10 leader 2 nextIndex[1]: 59  matchIndex[1]: 58
term 10 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=57
leader log:
[{snapshot 8 49} {7636657129047920766 8 50} {34805868085680588 8 51} {7052093969072459269 8 52} {858715987579429452 8 53} {3368772843878176761 8 54} {2290830607198206675 8 55} {1684763266666307471 8 56} {3543112751200291021 8 57} {9107834643673679872 8 58}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=57
leader log:
[{snapshot 8 49} {7636657129047920766 8 50} {34805868085680588 8 51} {7052093969072459269 8 52} {858715987579429452 8 53} {3368772843878176761 8 54} {2290830607198206675 8 55} {1684763266666307471 8 56} {3543112751200291021 8 57} {9107834643673679872 8 58}]
------------------------------------------------------
flag 65878 term 10 leader 2 nextIndex[0]: 59  matchIndex[0]: 58
term 10 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
flag 74238 term 10 leader 2 nextIndex[1]: 59  matchIndex[1]: 58
term 10 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=57
leader log:
[{snapshot 8 49} {7636657129047920766 8 50} {34805868085680588 8 51} {7052093969072459269 8 52} {858715987579429452 8 53} {3368772843878176761 8 54} {2290830607198206675 8 55} {1684763266666307471 8 56} {3543112751200291021 8 57} {9107834643673679872 8 58}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=57
leader log:
[{snapshot 8 49} {7636657129047920766 8 50} {34805868085680588 8 51} {7052093969072459269 8 52} {858715987579429452 8 53} {3368772843878176761 8 54} {2290830607198206675 8 55} {1684763266666307471 8 56} {3543112751200291021 8 57} {9107834643673679872 8 58}]
------------------------------------------------------
flag 11231 term 10 leader 2 nextIndex[0]: 59  matchIndex[0]: 58
term 10 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
flag 31431 term 10 leader 2 nextIndex[1]: 59  matchIndex[1]: 58
term 10 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=57
leader log:
[{snapshot 8 49} {7636657129047920766 8 50} {34805868085680588 8 51} {7052093969072459269 8 52} {858715987579429452 8 53} {3368772843878176761 8 54} {2290830607198206675 8 55} {1684763266666307471 8 56} {3543112751200291021 8 57} {9107834643673679872 8 58}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=57
leader log:
[{snapshot 8 49} {7636657129047920766 8 50} {34805868085680588 8 51} {7052093969072459269 8 52} {858715987579429452 8 53} {3368772843878176761 8 54} {2290830607198206675 8 55} {1684763266666307471 8 56} {3543112751200291021 8 57} {9107834643673679872 8 58}]
------------------------------------------------------
flag 54125 term 10 leader 2 nextIndex[0]: 59  matchIndex[0]: 58
term 10 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
flag 92492 term 10 leader 2 nextIndex[1]: 59  matchIndex[1]: 58
term 10 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=57
leader log:
[{snapshot 8 49} {7636657129047920766 8 50} {34805868085680588 8 51} {7052093969072459269 8 52} {858715987579429452 8 53} {3368772843878176761 8 54} {2290830607198206675 8 55} {1684763266666307471 8 56} {3543112751200291021 8 57} {9107834643673679872 8 58}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=57
leader log:
[{snapshot 8 49} {7636657129047920766 8 50} {34805868085680588 8 51} {7052093969072459269 8 52} {858715987579429452 8 53} {3368772843878176761 8 54} {2290830607198206675 8 55} {1684763266666307471 8 56} {3543112751200291021 8 57} {9107834643673679872 8 58}]
------------------------------------------------------
flag 87939 term 10 leader 2 nextIndex[0]: 59  matchIndex[0]: 58
term 10 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
flag 12331 term 10 leader 2 nextIndex[1]: 59  matchIndex[1]: 58
term 10 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=57
leader log:
[{snapshot 8 49} {7636657129047920766 8 50} {34805868085680588 8 51} {7052093969072459269 8 52} {858715987579429452 8 53} {3368772843878176761 8 54} {2290830607198206675 8 55} {1684763266666307471 8 56} {3543112751200291021 8 57} {9107834643673679872 8 58}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=57
leader log:
[{snapshot 8 49} {7636657129047920766 8 50} {34805868085680588 8 51} {7052093969072459269 8 52} {858715987579429452 8 53} {3368772843878176761 8 54} {2290830607198206675 8 55} {1684763266666307471 8 56} {3543112751200291021 8 57} {9107834643673679872 8 58}]
------------------------------------------------------
flag 5259 term 10 leader 2 nextIndex[0]: 59  matchIndex[0]: 58
term 10 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
flag 85502 term 10 leader 2 nextIndex[1]: 59  matchIndex[1]: 58
term 10 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=57
leader log:
[{snapshot 8 49} {7636657129047920766 8 50} {34805868085680588 8 51} {7052093969072459269 8 52} {858715987579429452 8 53} {3368772843878176761 8 54} {2290830607198206675 8 55} {1684763266666307471 8 56} {3543112751200291021 8 57} {9107834643673679872 8 58}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=57
leader log:
[{snapshot 8 49} {7636657129047920766 8 50} {34805868085680588 8 51} {7052093969072459269 8 52} {858715987579429452 8 53} {3368772843878176761 8 54} {2290830607198206675 8 55} {1684763266666307471 8 56} {3543112751200291021 8 57} {9107834643673679872 8 58}]
------------------------------------------------------
flag 25322 term 10 leader 2 nextIndex[0]: 59  matchIndex[0]: 58
term 10 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
flag 70341 term 10 leader 2 nextIndex[1]: 59  matchIndex[1]: 58
term 10 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=57
leader log:
[{snapshot 8 49} {7636657129047920766 8 50} {34805868085680588 8 51} {7052093969072459269 8 52} {858715987579429452 8 53} {3368772843878176761 8 54} {2290830607198206675 8 55} {1684763266666307471 8 56} {3543112751200291021 8 57} {9107834643673679872 8 58}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=57
leader log:
[{snapshot 8 49} {7636657129047920766 8 50} {34805868085680588 8 51} {7052093969072459269 8 52} {858715987579429452 8 53} {3368772843878176761 8 54} {2290830607198206675 8 55} {1684763266666307471 8 56} {3543112751200291021 8 57} {9107834643673679872 8 58}]
------------------------------------------------------
flag 79060 term 10 leader 2 nextIndex[0]: 59  matchIndex[0]: 58
term 10 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
flag 61317 term 10 leader 2 nextIndex[1]: 59  matchIndex[1]: 58
term 10 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=57
leader log:
[{snapshot 8 49} {7636657129047920766 8 50} {34805868085680588 8 51} {7052093969072459269 8 52} {858715987579429452 8 53} {3368772843878176761 8 54} {2290830607198206675 8 55} {1684763266666307471 8 56} {3543112751200291021 8 57} {9107834643673679872 8 58}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=57
leader log:
[{snapshot 8 49} {7636657129047920766 8 50} {34805868085680588 8 51} {7052093969072459269 8 52} {858715987579429452 8 53} {3368772843878176761 8 54} {2290830607198206675 8 55} {1684763266666307471 8 56} {3543112751200291021 8 57} {9107834643673679872 8 58}]
------------------------------------------------------
flag 20500 term 10 leader 2 nextIndex[0]: 59  matchIndex[0]: 58
term 10 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
flag 22919 term 10 leader 2 nextIndex[1]: 59  matchIndex[1]: 58
term 10 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=57
leader log:
[{snapshot 8 49} {7636657129047920766 8 50} {34805868085680588 8 51} {7052093969072459269 8 52} {858715987579429452 8 53} {3368772843878176761 8 54} {2290830607198206675 8 55} {1684763266666307471 8 56} {3543112751200291021 8 57} {9107834643673679872 8 58}]
term 10 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=57
leader log:
[{snapshot 8 49} {7636657129047920766 8 50} {34805868085680588 8 51} {7052093969072459269 8 52} {858715987579429452 8 53} {3368772843878176761 8 54} {2290830607198206675 8 55} {1684763266666307471 8 56} {3543112751200291021 8 57} {9107834643673679872 8 58}]
------------------------------------------------------
flag 93059 term 10 leader 2 nextIndex[0]: 59  matchIndex[0]: 58
term 10 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
flag 39536 term 10 leader 2 nextIndex[1]: 59  matchIndex[1]: 58
term 10 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=57
leader log:
[{snapshot 8 49} {7636657129047920766 8 50} {34805868085680588 8 51} {7052093969072459269 8 52} {858715987579429452 8 53} {3368772843878176761 8 54} {2290830607198206675 8 55} {1684763266666307471 8 56} {3543112751200291021 8 57} {9107834643673679872 8 58}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=57
leader log:
[{snapshot 8 49} {7636657129047920766 8 50} {34805868085680588 8 51} {7052093969072459269 8 52} {858715987579429452 8 53} {3368772843878176761 8 54} {2290830607198206675 8 55} {1684763266666307471 8 56} {3543112751200291021 8 57} {9107834643673679872 8 58}]
------------------------------------------------------
flag 10455 term 10 leader 2 nextIndex[0]: 59  matchIndex[0]: 58
term 10 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
flag 60570 term 10 leader 2 nextIndex[1]: 59  matchIndex[1]: 58
term 10 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=57
leader log:
[{snapshot 8 49} {7636657129047920766 8 50} {34805868085680588 8 51} {7052093969072459269 8 52} {858715987579429452 8 53} {3368772843878176761 8 54} {2290830607198206675 8 55} {1684763266666307471 8 56} {3543112751200291021 8 57} {9107834643673679872 8 58}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=57
leader log:
[{snapshot 8 49} {7636657129047920766 8 50} {34805868085680588 8 51} {7052093969072459269 8 52} {858715987579429452 8 53} {3368772843878176761 8 54} {2290830607198206675 8 55} {1684763266666307471 8 56} {3543112751200291021 8 57} {9107834643673679872 8 58}]
------------------------------------------------------
flag 60391 term 10 leader 2 nextIndex[0]: 59  matchIndex[0]: 58
term 10 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
flag 46092 term 10 leader 2 nextIndex[1]: 59  matchIndex[1]: 58
term 10 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=57
leader log:
[{snapshot 8 49} {7636657129047920766 8 50} {34805868085680588 8 51} {7052093969072459269 8 52} {858715987579429452 8 53} {3368772843878176761 8 54} {2290830607198206675 8 55} {1684763266666307471 8 56} {3543112751200291021 8 57} {9107834643673679872 8 58}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=57
leader log:
[{snapshot 8 49} {7636657129047920766 8 50} {34805868085680588 8 51} {7052093969072459269 8 52} {858715987579429452 8 53} {3368772843878176761 8 54} {2290830607198206675 8 55} {1684763266666307471 8 56} {3543112751200291021 8 57} {9107834643673679872 8 58}]
------------------------------------------------------
client write log 9107834643673679872 (index 59) to leader 2
flag 85233 term 10 leader 2 nextIndex[0]: 59  matchIndex[0]: 58
term 10 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
flag 87172 term 10 leader 2 nextIndex[1]: 59  matchIndex[1]: 58
term 10 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 8 leaderCommit: 57 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=60
update matchIndex[0]=59
update leader CommitIndex=59
leader log:
[{snapshot 8 49} {7636657129047920766 8 50} {34805868085680588 8 51} {7052093969072459269 8 52} {858715987579429452 8 53} {3368772843878176761 8 54} {2290830607198206675 8 55} {1684763266666307471 8 56} {3543112751200291021 8 57} {9107834643673679872 8 58} {9107834643673679872 10 59}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 8 49} {7636657129047920766 8 50} {34805868085680588 8 51} {7052093969072459269 8 52} {858715987579429452 8 53} {3368772843878176761 8 54} {2290830607198206675 8 55} {1684763266666307471 8 56} {3543112751200291021 8 57} {9107834643673679872 8 58} {9107834643673679872 10 59}]
------------------------------------------------------
term 10 Server2 start snapshot! index=59
term 10 server2 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=59
-------------------------------------------------------------
flag 98174 term 10 leader 2 nextIndex[0]: 60  matchIndex[0]: 59
term 10 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
flag 97428 term 10 leader 2 nextIndex[1]: 60  matchIndex[1]: 59
term 10 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=60
update matchIndex[0]=59
update leader CommitIndex=59
leader log:
[{snapshot 10 59}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 10 59}]
------------------------------------------------------
term 10 Server1 start snapshot! index=59
term 10 server1 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=59
-------------------------------------------------------------
term 10 Server0 start snapshot! index=59
term 10 server0 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=59
-------------------------------------------------------------
flag 99369 term 10 leader 2 nextIndex[0]: 60  matchIndex[0]: 59
term 10 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
flag 60465 term 10 leader 2 nextIndex[1]: 60  matchIndex[1]: 59
term 10 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=60
update matchIndex[0]=59
update leader CommitIndex=59
leader log:
[{snapshot 10 59}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 10 59}]
------------------------------------------------------
flag 60179 term 10 leader 2 nextIndex[0]: 60  matchIndex[0]: 59
term 10 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
flag 33682 term 10 leader 2 nextIndex[1]: 60  matchIndex[1]: 59
term 10 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 10 59}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=60
update matchIndex[0]=59
update leader CommitIndex=59
leader log:
[{snapshot 10 59}]
------------------------------------------------------
flag 74018 term 10 leader 2 nextIndex[0]: 60  matchIndex[0]: 59
term 10 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
flag 9077 term 10 leader 2 nextIndex[1]: 60  matchIndex[1]: 59
term 10 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 10 59}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=60
update matchIndex[0]=59
update leader CommitIndex=59
leader log:
[{snapshot 10 59}]
------------------------------------------------------
flag 44536 term 10 leader 2 nextIndex[0]: 60  matchIndex[0]: 59
term 10 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
flag 54390 term 10 leader 2 nextIndex[1]: 60  matchIndex[1]: 59
term 10 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 10 59}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=60
update matchIndex[0]=59
update leader CommitIndex=59
leader log:
[{snapshot 10 59}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 277 term 10 leader 2 nextIndex[0]: 60  matchIndex[0]: 59
term 10 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
flag 41493 term 10 leader 2 nextIndex[1]: 60  matchIndex[1]: 59
term 10 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
flag 81244 term 10 leader 2 nextIndex[0]: 60  matchIndex[0]: 59
term 10 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
flag 15318 term 10 leader 2 nextIndex[1]: 60  matchIndex[1]: 59
term 10 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
flag 52897 term 10 leader 2 nextIndex[0]: 60  matchIndex[0]: 59
term 10 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
flag 62157 term 10 leader 2 nextIndex[1]: 60  matchIndex[1]: 59
term 10 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
term 11 server 0 vote for server 1
term 11 server 1 get vote from server 0
term 11 server 1 become leader
------------------------------------------------------
flag 55512 term 11 leader 1 nextIndex[0]: 60  matchIndex[0]: 0
term 11 leader 1 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
flag 99309 term 11 leader 1 nextIndex[2]: 60  matchIndex[2]: 0
term 11 leader 1 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=60
update matchIndex[0]=59
update leader CommitIndex=59
leader log:
[{snapshot 10 59}]
------------------------------------------------------
flag 55900 term 10 leader 2 nextIndex[0]: 60  matchIndex[0]: 59
term 10 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
flag 70530 term 10 leader 2 nextIndex[1]: 60  matchIndex[1]: 59
term 10 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
client write log 3190925711320398520 (index 60) to leader 1
flag 34557 term 11 leader 1 nextIndex[0]: 60  matchIndex[0]: 59
term 11 leader 1 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
flag 45907 term 11 leader 1 nextIndex[2]: 60  matchIndex[2]: 0
term 11 leader 1 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=60
leader log:
[{snapshot 10 59} {3190925711320398520 11 60}]
------------------------------------------------------
flag 63103 term 10 leader 2 nextIndex[0]: 60  matchIndex[0]: 59
term 10 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
flag 47535 term 10 leader 2 nextIndex[1]: 60  matchIndex[1]: 59
term 10 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
flag 21444 term 11 leader 1 nextIndex[0]: 61  matchIndex[0]: 60
term 11 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
flag 18389 term 11 leader 1 nextIndex[2]: 60  matchIndex[2]: 0
term 11 leader 1 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 60 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=60
leader log:
[{snapshot 10 59} {3190925711320398520 11 60}]
------------------------------------------------------
flag 61700 term 10 leader 2 nextIndex[0]: 60  matchIndex[0]: 59
term 10 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
flag 96612 term 10 leader 2 nextIndex[1]: 60  matchIndex[1]: 59
term 10 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
client write log 7348829084138709114 (index 61) to leader 1
flag 71755 term 11 leader 1 nextIndex[0]: 61  matchIndex[0]: 60
term 11 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
flag 41370 term 11 leader 1 nextIndex[2]: 60  matchIndex[2]: 0
term 11 leader 1 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 60 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 10 59} {3190925711320398520 11 60} {7348829084138709114 11 61}]
------------------------------------------------------
flag 54868 term 10 leader 2 nextIndex[0]: 60  matchIndex[0]: 59
term 10 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
flag 66121 term 10 leader 2 nextIndex[1]: 60  matchIndex[1]: 59
term 10 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
flag 61495 term 11 leader 1 nextIndex[0]: 62  matchIndex[0]: 61
term 11 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 11 leaderCommit: 61 
------------------------------------------------------
flag 47813 term 11 leader 1 nextIndex[2]: 60  matchIndex[2]: 0
term 11 leader 1 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 61 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 10 59} {3190925711320398520 11 60} {7348829084138709114 11 61}]
------------------------------------------------------
!!!!!!connect server 2
client write log 8615928544536149391 (index 62) to leader 1
flag 21990 term 10 leader 2 nextIndex[0]: 60  matchIndex[0]: 59
term 10 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
flag 89103 term 10 leader 2 nextIndex[1]: 60  matchIndex[1]: 59
term 10 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 59 
------------------------------------------------------
term 11 server 1 AppendEntries false 领导者任期过期 args.Term 10
------------------------------------------------------
term 11 server 0 AppendEntries false 领导者任期过期 args.Term 10
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57813 term 11 leader 1 nextIndex[0]: 62  matchIndex[0]: 61
term 11 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 11 leaderCommit: 61 
------------------------------------------------------
flag 72217 term 11 leader 1 nextIndex[2]: 60  matchIndex[2]: 0
term 11 leader 1 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 61 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=62
leader log:
[{snapshot 10 59} {3190925711320398520 11 60} {7348829084138709114 11 61} {8615928544536149391 11 62}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=62
leader log:
[{snapshot 10 59} {3190925711320398520 11 60} {7348829084138709114 11 61} {8615928544536149391 11 62}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2179 term 11 leader 1 nextIndex[0]: 63  matchIndex[0]: 62
term 11 leader 1 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
flag 90768 term 11 leader 1 nextIndex[2]: 63  matchIndex[2]: 62
term 11 leader 1 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:62 
term 11 server 0 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=62
leader log:
[{snapshot 10 59} {3190925711320398520 11 60} {7348829084138709114 11 61} {8615928544536149391 11 62}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=62
leader log:
[{snapshot 10 59} {3190925711320398520 11 60} {7348829084138709114 11 61} {8615928544536149391 11 62}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46308 term 11 leader 1 nextIndex[0]: 63  matchIndex[0]: 62
term 11 leader 1 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
flag 13953 term 11 leader 1 nextIndex[2]: 63  matchIndex[2]: 62
term 11 leader 1 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:62 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=62
leader log:
[{snapshot 10 59} {3190925711320398520 11 60} {7348829084138709114 11 61} {8615928544536149391 11 62}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=62
leader log:
[{snapshot 10 59} {3190925711320398520 11 60} {7348829084138709114 11 61} {8615928544536149391 11 62}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47872 term 11 leader 1 nextIndex[0]: 63  matchIndex[0]: 62
term 11 leader 1 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
flag 85699 term 11 leader 1 nextIndex[2]: 63  matchIndex[2]: 62
term 11 leader 1 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:62 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=62
leader log:
[{snapshot 10 59} {3190925711320398520 11 60} {7348829084138709114 11 61} {8615928544536149391 11 62}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=62
leader log:
[{snapshot 10 59} {3190925711320398520 11 60} {7348829084138709114 11 61} {8615928544536149391 11 62}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 63->62
------------------------------------------------------
flag 36934 term 11 leader 1 nextIndex[0]: 63  matchIndex[0]: 62
term 11 leader 1 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 11 leader 1 nextIndex[2]: 0  matchIndex[2]: 62
term 11 leader 1 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 10
------------------------------------------------------
term 11 server 2 InstallSnapshot fail
rf.commitIndex 62 args.LastIncludedIndex 59
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:62 
------------------------------------------------------
term 11 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 60 matchIndex[2] 59 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=62
leader log:
[{snapshot 10 59} {3190925711320398520 11 60} {7348829084138709114 11 61} {8615928544536149391 11 62}]
------------------------------------------------------
term 11 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 94826 term 11 leader 1 nextIndex[0]: 63  matchIndex[0]: 62
term 11 leader 1 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
flag 94606 term 11 leader 1 nextIndex[2]: 60  matchIndex[2]: 59
term 11 leader 1 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 10 leaderCommit: 62 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=62
leader log:
[{snapshot 10 59} {3190925711320398520 11 60} {7348829084138709114 11 61} {8615928544536149391 11 62}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=62
leader log:
[{snapshot 10 59} {3190925711320398520 11 60} {7348829084138709114 11 61} {8615928544536149391 11 62}]
------------------------------------------------------
flag 42822 term 11 leader 1 nextIndex[0]: 63  matchIndex[0]: 62
term 11 leader 1 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
flag 86045 term 11 leader 1 nextIndex[2]: 63  matchIndex[2]: 62
term 11 leader 1 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=62
leader log:
[{snapshot 10 59} {3190925711320398520 11 60} {7348829084138709114 11 61} {8615928544536149391 11 62}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=62
leader log:
[{snapshot 10 59} {3190925711320398520 11 60} {7348829084138709114 11 61} {8615928544536149391 11 62}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 4647385530587567976 (index 63) to leader 1
flag 54628 term 11 leader 1 nextIndex[0]: 63  matchIndex[0]: 62
term 11 leader 1 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
flag 16608 term 11 leader 1 nextIndex[2]: 63  matchIndex[2]: 62
term 11 leader 1 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=64
update matchIndex[0]=63
update leader CommitIndex=63
leader log:
[{snapshot 10 59} {3190925711320398520 11 60} {7348829084138709114 11 61} {8615928544536149391 11 62} {4647385530587567976 11 63}]
------------------------------------------------------
flag 89581 term 11 leader 1 nextIndex[0]: 64  matchIndex[0]: 63
term 11 leader 1 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 63 
------------------------------------------------------
flag 95470 term 11 leader 1 nextIndex[2]: 63  matchIndex[2]: 62
term 11 leader 1 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 63 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=64
update matchIndex[0]=63
update leader CommitIndex=63
leader log:
[{snapshot 10 59} {3190925711320398520 11 60} {7348829084138709114 11 61} {8615928544536149391 11 62} {4647385530587567976 11 63}]
------------------------------------------------------
client write log 9180927499768654591 (index 64) to leader 1
client write log 3908448117964264658 (index 65) to leader 1
client write log 7017963085697402423 (index 66) to leader 1
client write log 6996286040247045675 (index 67) to leader 1
client write log 1067655696437888476 (index 68) to leader 1
client write log 8420292141628080514 (index 69) to leader 1
client write log 7686941776110023432 (index 70) to leader 1
client write log 4515230189720456237 (index 71) to leader 1
client write log 8753211201901102822 (index 72) to leader 1
client write log 3985270579035220706 (index 73) to leader 1
client write log 3384587258541156740 (index 74) to leader 1
client write log 2517877596871543021 (index 75) to leader 1
client write log 5485048445916992664 (index 76) to leader 1
client write log 2490331605693091424 (index 77) to leader 1
client write log 849119058393762086 (index 78) to leader 1
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 63->62
------------------------------------------------------
flag 49167 term 11 leader 1 nextIndex[0]: 64  matchIndex[0]: 63
term 11 leader 1 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 63 
------------------------------------------------------
term 11 leader 1 nextIndex[2]: 0  matchIndex[2]: 62
term 11 leader 1 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 10
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=78
leader log:
[{snapshot 10 59} {3190925711320398520 11 60} {7348829084138709114 11 61} {8615928544536149391 11 62} {4647385530587567976 11 63} {9180927499768654591 11 64} {3908448117964264658 11 65} {7017963085697402423 11 66} {6996286040247045675 11 67} {1067655696437888476 11 68} {8420292141628080514 11 69} {7686941776110023432 11 70} {4515230189720456237 11 71} {8753211201901102822 11 72} {3985270579035220706 11 73} {3384587258541156740 11 74} {2517877596871543021 11 75} {5485048445916992664 11 76} {2490331605693091424 11 77} {849119058393762086 11 78}]
------------------------------------------------------
term 11 Server1 start snapshot! index=69
term 11 server1 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=78
-------------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 0->-1
------------------------------------------------------
flag 81453 term 11 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 11 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
term 11 leader 1 nextIndex[2]: 0  matchIndex[2]: 62
term 11 leader 1 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {7686941776110023432 11 70} {4515230189720456237 11 71} {8753211201901102822 11 72} {3985270579035220706 11 73} {3384587258541156740 11 74} {2517877596871543021 11 75} {5485048445916992664 11 76} {2490331605693091424 11 77} {849119058393762086 11 78}]
------------------------------------------------------
term 11 Server0 start snapshot! index=69
term 11 server0 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=78
-------------------------------------------------------------
!!!!!!connect server 2
client write log 6807267070635953439 (index 79) to leader 1
flag 91245 term 11 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 11 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
term 11 leader 1 nextIndex[2]: 0  matchIndex[2]: 62
term 11 leader 1 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
term 12 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 11 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 13 server 2 vote for server 1
term 13 server 1 get vote from server 2
term 13 server 1 become leader
------------------------------------------------------
term 13 server 0 vote for server 1
term 13 server 1 get outdate rpc reply from server 0
flag 78116 term 13 leader 1 nextIndex[0]: 80  matchIndex[0]: 0
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
flag 42661 term 13 leader 1 nextIndex[2]: 80  matchIndex[2]: 0
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
term 13 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 80->79
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {7686941776110023432 11 70} {4515230189720456237 11 71} {8753211201901102822 11 72} {3985270579035220706 11 73} {3384587258541156740 11 74} {2517877596871543021 11 75} {5485048445916992664 11 76} {2490331605693091424 11 77} {849119058393762086 11 78} {6807267070635953439 11 79}]
------------------------------------------------------
flag 5490 term 13 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
term 13 leader 1 nextIndex[2]: 63  matchIndex[2]: 0
term 13 leader 1 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {7686941776110023432 11 70} {4515230189720456237 11 71} {8753211201901102822 11 72} {3985270579035220706 11 73} {3384587258541156740 11 74} {2517877596871543021 11 75} {5485048445916992664 11 76} {2490331605693091424 11 77} {849119058393762086 11 78} {6807267070635953439 11 79}]
------------------------------------------------------
term 13 server 2 InstallSnapshot success
------------------------------------------------------
term 13 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 70 matchIndex[2] 69 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 69 rf.lastIncludedTerm 11 rf.commitIndex 69 rf.lastApplied 69
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44417 term 13 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
flag 37708 term 13 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 13 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {7686941776110023432 11 70} {4515230189720456237 11 71} {8753211201901102822 11 72} {3985270579035220706 11 73} {3384587258541156740 11 74} {2517877596871543021 11 75} {5485048445916992664 11 76} {2490331605693091424 11 77} {849119058393762086 11 78} {6807267070635953439 11 79}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {7686941776110023432 11 70} {4515230189720456237 11 71} {8753211201901102822 11 72} {3985270579035220706 11 73} {3384587258541156740 11 74} {2517877596871543021 11 75} {5485048445916992664 11 76} {2490331605693091424 11 77} {849119058393762086 11 78} {6807267070635953439 11 79}]
------------------------------------------------------
flag 28354 term 13 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
flag 83838 term 13 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {7686941776110023432 11 70} {4515230189720456237 11 71} {8753211201901102822 11 72} {3985270579035220706 11 73} {3384587258541156740 11 74} {2517877596871543021 11 75} {5485048445916992664 11 76} {2490331605693091424 11 77} {849119058393762086 11 78} {6807267070635953439 11 79}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {7686941776110023432 11 70} {4515230189720456237 11 71} {8753211201901102822 11 72} {3985270579035220706 11 73} {3384587258541156740 11 74} {2517877596871543021 11 75} {5485048445916992664 11 76} {2490331605693091424 11 77} {849119058393762086 11 78} {6807267070635953439 11 79}]
------------------------------------------------------
term 13 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28225 term 13 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
flag 62616 term 13 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {7686941776110023432 11 70} {4515230189720456237 11 71} {8753211201901102822 11 72} {3985270579035220706 11 73} {3384587258541156740 11 74} {2517877596871543021 11 75} {5485048445916992664 11 76} {2490331605693091424 11 77} {849119058393762086 11 78} {6807267070635953439 11 79}]
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {7686941776110023432 11 70} {4515230189720456237 11 71} {8753211201901102822 11 72} {3985270579035220706 11 73} {3384587258541156740 11 74} {2517877596871543021 11 75} {5485048445916992664 11 76} {2490331605693091424 11 77} {849119058393762086 11 78} {6807267070635953439 11 79}]
------------------------------------------------------
flag 80068 term 13 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
flag 40595 term 13 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {7686941776110023432 11 70} {4515230189720456237 11 71} {8753211201901102822 11 72} {3985270579035220706 11 73} {3384587258541156740 11 74} {2517877596871543021 11 75} {5485048445916992664 11 76} {2490331605693091424 11 77} {849119058393762086 11 78} {6807267070635953439 11 79}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {7686941776110023432 11 70} {4515230189720456237 11 71} {8753211201901102822 11 72} {3985270579035220706 11 73} {3384587258541156740 11 74} {2517877596871543021 11 75} {5485048445916992664 11 76} {2490331605693091424 11 77} {849119058393762086 11 78} {6807267070635953439 11 79}]
------------------------------------------------------
flag 81529 term 13 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
flag 96106 term 13 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {7686941776110023432 11 70} {4515230189720456237 11 71} {8753211201901102822 11 72} {3985270579035220706 11 73} {3384587258541156740 11 74} {2517877596871543021 11 75} {5485048445916992664 11 76} {2490331605693091424 11 77} {849119058393762086 11 78} {6807267070635953439 11 79}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {7686941776110023432 11 70} {4515230189720456237 11 71} {8753211201901102822 11 72} {3985270579035220706 11 73} {3384587258541156740 11 74} {2517877596871543021 11 75} {5485048445916992664 11 76} {2490331605693091424 11 77} {849119058393762086 11 78} {6807267070635953439 11 79}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2024 term 13 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
flag 52439 term 13 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {7686941776110023432 11 70} {4515230189720456237 11 71} {8753211201901102822 11 72} {3985270579035220706 11 73} {3384587258541156740 11 74} {2517877596871543021 11 75} {5485048445916992664 11 76} {2490331605693091424 11 77} {849119058393762086 11 78} {6807267070635953439 11 79}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {7686941776110023432 11 70} {4515230189720456237 11 71} {8753211201901102822 11 72} {3985270579035220706 11 73} {3384587258541156740 11 74} {2517877596871543021 11 75} {5485048445916992664 11 76} {2490331605693091424 11 77} {849119058393762086 11 78} {6807267070635953439 11 79}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56028 term 13 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
flag 72805 term 13 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {7686941776110023432 11 70} {4515230189720456237 11 71} {8753211201901102822 11 72} {3985270579035220706 11 73} {3384587258541156740 11 74} {2517877596871543021 11 75} {5485048445916992664 11 76} {2490331605693091424 11 77} {849119058393762086 11 78} {6807267070635953439 11 79}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {7686941776110023432 11 70} {4515230189720456237 11 71} {8753211201901102822 11 72} {3985270579035220706 11 73} {3384587258541156740 11 74} {2517877596871543021 11 75} {5485048445916992664 11 76} {2490331605693091424 11 77} {849119058393762086 11 78} {6807267070635953439 11 79}]
------------------------------------------------------
flag 90794 term 13 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
flag 82121 term 13 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {7686941776110023432 11 70} {4515230189720456237 11 71} {8753211201901102822 11 72} {3985270579035220706 11 73} {3384587258541156740 11 74} {2517877596871543021 11 75} {5485048445916992664 11 76} {2490331605693091424 11 77} {849119058393762086 11 78} {6807267070635953439 11 79}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {7686941776110023432 11 70} {4515230189720456237 11 71} {8753211201901102822 11 72} {3985270579035220706 11 73} {3384587258541156740 11 74} {2517877596871543021 11 75} {5485048445916992664 11 76} {2490331605693091424 11 77} {849119058393762086 11 78} {6807267070635953439 11 79}]
------------------------------------------------------
flag 54412 term 13 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
flag 73114 term 13 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {7686941776110023432 11 70} {4515230189720456237 11 71} {8753211201901102822 11 72} {3985270579035220706 11 73} {3384587258541156740 11 74} {2517877596871543021 11 75} {5485048445916992664 11 76} {2490331605693091424 11 77} {849119058393762086 11 78} {6807267070635953439 11 79}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {7686941776110023432 11 70} {4515230189720456237 11 71} {8753211201901102822 11 72} {3985270579035220706 11 73} {3384587258541156740 11 74} {2517877596871543021 11 75} {5485048445916992664 11 76} {2490331605693091424 11 77} {849119058393762086 11 78} {6807267070635953439 11 79}]
------------------------------------------------------
flag 17193 term 13 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
flag 42827 term 13 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {7686941776110023432 11 70} {4515230189720456237 11 71} {8753211201901102822 11 72} {3985270579035220706 11 73} {3384587258541156740 11 74} {2517877596871543021 11 75} {5485048445916992664 11 76} {2490331605693091424 11 77} {849119058393762086 11 78} {6807267070635953439 11 79}]
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {7686941776110023432 11 70} {4515230189720456237 11 71} {8753211201901102822 11 72} {3985270579035220706 11 73} {3384587258541156740 11 74} {2517877596871543021 11 75} {5485048445916992664 11 76} {2490331605693091424 11 77} {849119058393762086 11 78} {6807267070635953439 11 79}]
------------------------------------------------------
flag 16378 term 13 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
flag 45729 term 13 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {7686941776110023432 11 70} {4515230189720456237 11 71} {8753211201901102822 11 72} {3985270579035220706 11 73} {3384587258541156740 11 74} {2517877596871543021 11 75} {5485048445916992664 11 76} {2490331605693091424 11 77} {849119058393762086 11 78} {6807267070635953439 11 79}]
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {7686941776110023432 11 70} {4515230189720456237 11 71} {8753211201901102822 11 72} {3985270579035220706 11 73} {3384587258541156740 11 74} {2517877596871543021 11 75} {5485048445916992664 11 76} {2490331605693091424 11 77} {849119058393762086 11 78} {6807267070635953439 11 79}]
------------------------------------------------------
flag 15353 term 13 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
flag 37212 term 13 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {7686941776110023432 11 70} {4515230189720456237 11 71} {8753211201901102822 11 72} {3985270579035220706 11 73} {3384587258541156740 11 74} {2517877596871543021 11 75} {5485048445916992664 11 76} {2490331605693091424 11 77} {849119058393762086 11 78} {6807267070635953439 11 79}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {7686941776110023432 11 70} {4515230189720456237 11 71} {8753211201901102822 11 72} {3985270579035220706 11 73} {3384587258541156740 11 74} {2517877596871543021 11 75} {5485048445916992664 11 76} {2490331605693091424 11 77} {849119058393762086 11 78} {6807267070635953439 11 79}]
------------------------------------------------------
flag 87877 term 13 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
flag 26283 term 13 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {7686941776110023432 11 70} {4515230189720456237 11 71} {8753211201901102822 11 72} {3985270579035220706 11 73} {3384587258541156740 11 74} {2517877596871543021 11 75} {5485048445916992664 11 76} {2490331605693091424 11 77} {849119058393762086 11 78} {6807267070635953439 11 79}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {7686941776110023432 11 70} {4515230189720456237 11 71} {8753211201901102822 11 72} {3985270579035220706 11 73} {3384587258541156740 11 74} {2517877596871543021 11 75} {5485048445916992664 11 76} {2490331605693091424 11 77} {849119058393762086 11 78} {6807267070635953439 11 79}]
------------------------------------------------------
flag 80917 term 13 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
flag 94921 term 13 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {7686941776110023432 11 70} {4515230189720456237 11 71} {8753211201901102822 11 72} {3985270579035220706 11 73} {3384587258541156740 11 74} {2517877596871543021 11 75} {5485048445916992664 11 76} {2490331605693091424 11 77} {849119058393762086 11 78} {6807267070635953439 11 79}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {7686941776110023432 11 70} {4515230189720456237 11 71} {8753211201901102822 11 72} {3985270579035220706 11 73} {3384587258541156740 11 74} {2517877596871543021 11 75} {5485048445916992664 11 76} {2490331605693091424 11 77} {849119058393762086 11 78} {6807267070635953439 11 79}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66306 term 13 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
flag 91744 term 13 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {7686941776110023432 11 70} {4515230189720456237 11 71} {8753211201901102822 11 72} {3985270579035220706 11 73} {3384587258541156740 11 74} {2517877596871543021 11 75} {5485048445916992664 11 76} {2490331605693091424 11 77} {849119058393762086 11 78} {6807267070635953439 11 79}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {7686941776110023432 11 70} {4515230189720456237 11 71} {8753211201901102822 11 72} {3985270579035220706 11 73} {3384587258541156740 11 74} {2517877596871543021 11 75} {5485048445916992664 11 76} {2490331605693091424 11 77} {849119058393762086 11 78} {6807267070635953439 11 79}]
------------------------------------------------------
flag 54592 term 13 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
flag 89710 term 13 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {7686941776110023432 11 70} {4515230189720456237 11 71} {8753211201901102822 11 72} {3985270579035220706 11 73} {3384587258541156740 11 74} {2517877596871543021 11 75} {5485048445916992664 11 76} {2490331605693091424 11 77} {849119058393762086 11 78} {6807267070635953439 11 79}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {7686941776110023432 11 70} {4515230189720456237 11 71} {8753211201901102822 11 72} {3985270579035220706 11 73} {3384587258541156740 11 74} {2517877596871543021 11 75} {5485048445916992664 11 76} {2490331605693091424 11 77} {849119058393762086 11 78} {6807267070635953439 11 79}]
------------------------------------------------------
term 13 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 13 server 0 not vote for server 2, 任期不够新
term 13 server 2 get outdate rpc reply from server 0
flag 98434 term 13 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
flag 87001 term 13 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {7686941776110023432 11 70} {4515230189720456237 11 71} {8753211201901102822 11 72} {3985270579035220706 11 73} {3384587258541156740 11 74} {2517877596871543021 11 75} {5485048445916992664 11 76} {2490331605693091424 11 77} {849119058393762086 11 78} {6807267070635953439 11 79}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {7686941776110023432 11 70} {4515230189720456237 11 71} {8753211201901102822 11 72} {3985270579035220706 11 73} {3384587258541156740 11 74} {2517877596871543021 11 75} {5485048445916992664 11 76} {2490331605693091424 11 77} {849119058393762086 11 78} {6807267070635953439 11 79}]
------------------------------------------------------
client write log 6807267070635953439 (index 80) to leader 1
flag 68566 term 13 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
flag 2141 term 13 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=80
leader log:
[{snapshot 11 69} {7686941776110023432 11 70} {4515230189720456237 11 71} {8753211201901102822 11 72} {3985270579035220706 11 73} {3384587258541156740 11 74} {2517877596871543021 11 75} {5485048445916992664 11 76} {2490331605693091424 11 77} {849119058393762086 11 78} {6807267070635953439 11 79} {6807267070635953439 13 80}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=80
leader log:
[{snapshot 11 69} {7686941776110023432 11 70} {4515230189720456237 11 71} {8753211201901102822 11 72} {3985270579035220706 11 73} {3384587258541156740 11 74} {2517877596871543021 11 75} {5485048445916992664 11 76} {2490331605693091424 11 77} {849119058393762086 11 78} {6807267070635953439 11 79} {6807267070635953439 13 80}]
------------------------------------------------------
term 13 Server1 start snapshot! index=79
term 13 server1 snapshot success
lastIncludedIndex=79 lastApplied=80 lastIndex=80
-------------------------------------------------------------
flag 49349 term 13 leader 1 nextIndex[0]: 81  matchIndex[0]: 80
term 13 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
flag 41616 term 13 leader 1 nextIndex[2]: 81  matchIndex[2]: 80
term 13 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:80 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=80
leader log:
[{snapshot 11 79} {6807267070635953439 13 80}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=80
leader log:
[{snapshot 11 79} {6807267070635953439 13 80}]
------------------------------------------------------
term 13 Server2 start snapshot! index=79
term 13 server2 snapshot success
lastIncludedIndex=79 lastApplied=80 lastIndex=80
-------------------------------------------------------------
term 13 Server0 start snapshot! index=79
term 13 server0 snapshot success
lastIncludedIndex=79 lastApplied=80 lastIndex=80
-------------------------------------------------------------
flag 71958 term 13 leader 1 nextIndex[0]: 81  matchIndex[0]: 80
term 13 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
flag 67600 term 13 leader 1 nextIndex[2]: 81  matchIndex[2]: 80
term 13 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=80
leader log:
[{snapshot 11 79} {6807267070635953439 13 80}]
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=80
leader log:
[{snapshot 11 79} {6807267070635953439 13 80}]
------------------------------------------------------
flag 40216 term 13 leader 1 nextIndex[0]: 81  matchIndex[0]: 80
term 13 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
flag 64158 term 13 leader 1 nextIndex[2]: 81  matchIndex[2]: 80
term 13 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=80
leader log:
[{snapshot 11 79} {6807267070635953439 13 80}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=80
leader log:
[{snapshot 11 79} {6807267070635953439 13 80}]
------------------------------------------------------
flag 89507 term 13 leader 1 nextIndex[0]: 81  matchIndex[0]: 80
term 13 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
flag 13280 term 13 leader 1 nextIndex[2]: 81  matchIndex[2]: 80
term 13 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:80 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=80
leader log:
[{snapshot 11 79} {6807267070635953439 13 80}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=80
leader log:
[{snapshot 11 79} {6807267070635953439 13 80}]
------------------------------------------------------
flag 96993 term 13 leader 1 nextIndex[0]: 81  matchIndex[0]: 80
term 13 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
flag 10 term 13 leader 1 nextIndex[2]: 81  matchIndex[2]: 80
term 13 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=80
leader log:
[{snapshot 11 79} {6807267070635953439 13 80}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=80
leader log:
[{snapshot 11 79} {6807267070635953439 13 80}]
------------------------------------------------------
flag 92865 term 13 leader 1 nextIndex[0]: 81  matchIndex[0]: 80
term 13 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
flag 52445 term 13 leader 1 nextIndex[2]: 81  matchIndex[2]: 80
term 13 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=80
leader log:
[{snapshot 11 79} {6807267070635953439 13 80}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=80
leader log:
[{snapshot 11 79} {6807267070635953439 13 80}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 2
client write log 8693451584893017406 (index 81) to leader 1
flag 70456 term 13 leader 1 nextIndex[0]: 81  matchIndex[0]: 80
term 13 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
flag 84638 term 13 leader 1 nextIndex[2]: 81  matchIndex[2]: 80
term 13 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {6807267070635953439 13 80} {8693451584893017406 13 81}]
------------------------------------------------------
term 13 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 21002 term 13 leader 1 nextIndex[0]: 82  matchIndex[0]: 81
term 13 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
flag 61191 term 13 leader 1 nextIndex[2]: 81  matchIndex[2]: 80
term 13 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {6807267070635953439 13 80} {8693451584893017406 13 81}]
------------------------------------------------------
client write log 3633634461689639175 (index 82) to leader 1
client write log 2074817727418011351 (index 83) to leader 1
client write log 3015399948097656940 (index 84) to leader 1
client write log 8485415063532370137 (index 85) to leader 1
client write log 6237087660583111598 (index 86) to leader 1
client write log 8666537651473060717 (index 87) to leader 1
client write log 5971455804980385467 (index 88) to leader 1
flag 74880 term 13 leader 1 nextIndex[0]: 82  matchIndex[0]: 81
term 13 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
flag 85618 term 13 leader 1 nextIndex[2]: 81  matchIndex[2]: 80
term 13 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=88
leader log:
[{snapshot 11 79} {6807267070635953439 13 80} {8693451584893017406 13 81} {3633634461689639175 13 82} {2074817727418011351 13 83} {3015399948097656940 13 84} {8485415063532370137 13 85} {6237087660583111598 13 86} {8666537651473060717 13 87} {5971455804980385467 13 88}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93815 term 13 leader 1 nextIndex[0]: 89  matchIndex[0]: 88
term 13 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 13 leaderCommit: 88 
------------------------------------------------------
flag 46218 term 13 leader 1 nextIndex[2]: 81  matchIndex[2]: 80
term 13 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 88 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=88
leader log:
[{snapshot 11 79} {6807267070635953439 13 80} {8693451584893017406 13 81} {3633634461689639175 13 82} {2074817727418011351 13 83} {3015399948097656940 13 84} {8485415063532370137 13 85} {6237087660583111598 13 86} {8666537651473060717 13 87} {5971455804980385467 13 88}]
------------------------------------------------------
!!!!!!connect server 2
client write log 4949595718913778403 (index 89) to leader 1
flag 1938 term 13 leader 1 nextIndex[0]: 89  matchIndex[0]: 88
term 13 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 13 leaderCommit: 88 
------------------------------------------------------
flag 65401 term 13 leader 1 nextIndex[2]: 81  matchIndex[2]: 80
term 13 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 88 
------------------------------------------------------
term 14 server 2 AppendEntries false 领导者任期过期 args.Term 13
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 14 server 1 not vote for server 2, 日志不够新
term 13 server 0 not vote for server 2, 日志不够新
term 16 server 0 not vote for server 1, 投给了其他人
term 16 server 1 not vote for server 0, 投给了其他人
term 16 server 2 vote for server 0
term 16 server 0 get vote from server 2
term 16 server 0 become leader
------------------------------------------------------
term 16 server 2 not vote for server 1, 投给了其他人
flag 61938 term 16 leader 0 nextIndex[1]: 90  matchIndex[1]: 0
term 16 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 13 leaderCommit: 88 
------------------------------------------------------
flag 8419 term 16 leader 0 nextIndex[2]: 90  matchIndex[2]: 0
term 16 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 13 leaderCommit: 88 
------------------------------------------------------
term 16 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 90->89
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=88
leader log:
[{snapshot 11 79} {6807267070635953439 13 80} {8693451584893017406 13 81} {3633634461689639175 13 82} {2074817727418011351 13 83} {3015399948097656940 13 84} {8485415063532370137 13 85} {6237087660583111598 13 86} {8666537651473060717 13 87} {5971455804980385467 13 88} {4949595718913778403 13 89}]
------------------------------------------------------
flag 73840 term 16 leader 0 nextIndex[1]: 90  matchIndex[1]: 89
term 16 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 13 leaderCommit: 88 
------------------------------------------------------
flag 81154 term 16 leader 0 nextIndex[2]: 81  matchIndex[2]: 0
term 16 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 88 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:80 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=88
leader log:
[{snapshot 11 79} {6807267070635953439 13 80} {8693451584893017406 13 81} {3633634461689639175 13 82} {2074817727418011351 13 83} {3015399948097656940 13 84} {8485415063532370137 13 85} {6237087660583111598 13 86} {8666537651473060717 13 87} {5971455804980385467 13 88} {4949595718913778403 13 89}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=88
leader log:
[{snapshot 11 79} {6807267070635953439 13 80} {8693451584893017406 13 81} {3633634461689639175 13 82} {2074817727418011351 13 83} {3015399948097656940 13 84} {8485415063532370137 13 85} {6237087660583111598 13 86} {8666537651473060717 13 87} {5971455804980385467 13 88} {4949595718913778403 13 89}]
------------------------------------------------------
flag 4254 term 16 leader 0 nextIndex[1]: 90  matchIndex[1]: 89
term 16 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 13 leaderCommit: 88 
------------------------------------------------------
flag 44250 term 16 leader 0 nextIndex[2]: 90  matchIndex[2]: 89
term 16 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 13 leaderCommit: 88 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:88 
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=88
leader log:
[{snapshot 11 79} {6807267070635953439 13 80} {8693451584893017406 13 81} {3633634461689639175 13 82} {2074817727418011351 13 83} {3015399948097656940 13 84} {8485415063532370137 13 85} {6237087660583111598 13 86} {8666537651473060717 13 87} {5971455804980385467 13 88} {4949595718913778403 13 89}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=88
leader log:
[{snapshot 11 79} {6807267070635953439 13 80} {8693451584893017406 13 81} {3633634461689639175 13 82} {2074817727418011351 13 83} {3015399948097656940 13 84} {8485415063532370137 13 85} {6237087660583111598 13 86} {8666537651473060717 13 87} {5971455804980385467 13 88} {4949595718913778403 13 89}]
------------------------------------------------------
flag 16589 term 16 leader 0 nextIndex[1]: 90  matchIndex[1]: 89
term 16 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 13 leaderCommit: 88 
------------------------------------------------------
flag 44651 term 16 leader 0 nextIndex[2]: 90  matchIndex[2]: 89
term 16 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 13 leaderCommit: 88 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=88
leader log:
[{snapshot 11 79} {6807267070635953439 13 80} {8693451584893017406 13 81} {3633634461689639175 13 82} {2074817727418011351 13 83} {3015399948097656940 13 84} {8485415063532370137 13 85} {6237087660583111598 13 86} {8666537651473060717 13 87} {5971455804980385467 13 88} {4949595718913778403 13 89}]
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=88
leader log:
[{snapshot 11 79} {6807267070635953439 13 80} {8693451584893017406 13 81} {3633634461689639175 13 82} {2074817727418011351 13 83} {3015399948097656940 13 84} {8485415063532370137 13 85} {6237087660583111598 13 86} {8666537651473060717 13 87} {5971455804980385467 13 88} {4949595718913778403 13 89}]
------------------------------------------------------
flag 26512 term 16 leader 0 nextIndex[1]: 90  matchIndex[1]: 89
term 16 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 13 leaderCommit: 88 
------------------------------------------------------
flag 70605 term 16 leader 0 nextIndex[2]: 90  matchIndex[2]: 89
term 16 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 13 leaderCommit: 88 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=88
leader log:
[{snapshot 11 79} {6807267070635953439 13 80} {8693451584893017406 13 81} {3633634461689639175 13 82} {2074817727418011351 13 83} {3015399948097656940 13 84} {8485415063532370137 13 85} {6237087660583111598 13 86} {8666537651473060717 13 87} {5971455804980385467 13 88} {4949595718913778403 13 89}]
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=88
leader log:
[{snapshot 11 79} {6807267070635953439 13 80} {8693451584893017406 13 81} {3633634461689639175 13 82} {2074817727418011351 13 83} {3015399948097656940 13 84} {8485415063532370137 13 85} {6237087660583111598 13 86} {8666537651473060717 13 87} {5971455804980385467 13 88} {4949595718913778403 13 89}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43037 term 16 leader 0 nextIndex[1]: 90  matchIndex[1]: 89
term 16 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 13 leaderCommit: 88 
------------------------------------------------------
flag 66671 term 16 leader 0 nextIndex[2]: 90  matchIndex[2]: 89
term 16 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 13 leaderCommit: 88 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=88
leader log:
[{snapshot 11 79} {6807267070635953439 13 80} {8693451584893017406 13 81} {3633634461689639175 13 82} {2074817727418011351 13 83} {3015399948097656940 13 84} {8485415063532370137 13 85} {6237087660583111598 13 86} {8666537651473060717 13 87} {5971455804980385467 13 88} {4949595718913778403 13 89}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=88
leader log:
[{snapshot 11 79} {6807267070635953439 13 80} {8693451584893017406 13 81} {3633634461689639175 13 82} {2074817727418011351 13 83} {3015399948097656940 13 84} {8485415063532370137 13 85} {6237087660583111598 13 86} {8666537651473060717 13 87} {5971455804980385467 13 88} {4949595718913778403 13 89}]
------------------------------------------------------
flag 7512 term 16 leader 0 nextIndex[1]: 90  matchIndex[1]: 89
term 16 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 13 leaderCommit: 88 
------------------------------------------------------
flag 47198 term 16 leader 0 nextIndex[2]: 90  matchIndex[2]: 89
term 16 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 13 leaderCommit: 88 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=88
leader log:
[{snapshot 11 79} {6807267070635953439 13 80} {8693451584893017406 13 81} {3633634461689639175 13 82} {2074817727418011351 13 83} {3015399948097656940 13 84} {8485415063532370137 13 85} {6237087660583111598 13 86} {8666537651473060717 13 87} {5971455804980385467 13 88} {4949595718913778403 13 89}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=88
leader log:
[{snapshot 11 79} {6807267070635953439 13 80} {8693451584893017406 13 81} {3633634461689639175 13 82} {2074817727418011351 13 83} {3015399948097656940 13 84} {8485415063532370137 13 85} {6237087660583111598 13 86} {8666537651473060717 13 87} {5971455804980385467 13 88} {4949595718913778403 13 89}]
------------------------------------------------------
flag 28821 term 16 leader 0 nextIndex[1]: 90  matchIndex[1]: 89
term 16 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 13 leaderCommit: 88 
------------------------------------------------------
flag 66650 term 16 leader 0 nextIndex[2]: 90  matchIndex[2]: 89
term 16 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 13 leaderCommit: 88 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=88
leader log:
[{snapshot 11 79} {6807267070635953439 13 80} {8693451584893017406 13 81} {3633634461689639175 13 82} {2074817727418011351 13 83} {3015399948097656940 13 84} {8485415063532370137 13 85} {6237087660583111598 13 86} {8666537651473060717 13 87} {5971455804980385467 13 88} {4949595718913778403 13 89}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=88
leader log:
[{snapshot 11 79} {6807267070635953439 13 80} {8693451584893017406 13 81} {3633634461689639175 13 82} {2074817727418011351 13 83} {3015399948097656940 13 84} {8485415063532370137 13 85} {6237087660583111598 13 86} {8666537651473060717 13 87} {5971455804980385467 13 88} {4949595718913778403 13 89}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83242 term 16 leader 0 nextIndex[1]: 90  matchIndex[1]: 89
term 16 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 13 leaderCommit: 88 
------------------------------------------------------
flag 32147 term 16 leader 0 nextIndex[2]: 90  matchIndex[2]: 89
term 16 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 13 leaderCommit: 88 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=88
leader log:
[{snapshot 11 79} {6807267070635953439 13 80} {8693451584893017406 13 81} {3633634461689639175 13 82} {2074817727418011351 13 83} {3015399948097656940 13 84} {8485415063532370137 13 85} {6237087660583111598 13 86} {8666537651473060717 13 87} {5971455804980385467 13 88} {4949595718913778403 13 89}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=88
leader log:
[{snapshot 11 79} {6807267070635953439 13 80} {8693451584893017406 13 81} {3633634461689639175 13 82} {2074817727418011351 13 83} {3015399948097656940 13 84} {8485415063532370137 13 85} {6237087660583111598 13 86} {8666537651473060717 13 87} {5971455804980385467 13 88} {4949595718913778403 13 89}]
------------------------------------------------------
term 16 server 2 not vote for server 1, 任期不够新
term 16 server 1 get outdate rpc reply from server 2
flag 42268 term 16 leader 0 nextIndex[1]: 90  matchIndex[1]: 89
term 16 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 13 leaderCommit: 88 
------------------------------------------------------
flag 23564 term 16 leader 0 nextIndex[2]: 90  matchIndex[2]: 89
term 16 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 13 leaderCommit: 88 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=88
leader log:
[{snapshot 11 79} {6807267070635953439 13 80} {8693451584893017406 13 81} {3633634461689639175 13 82} {2074817727418011351 13 83} {3015399948097656940 13 84} {8485415063532370137 13 85} {6237087660583111598 13 86} {8666537651473060717 13 87} {5971455804980385467 13 88} {4949595718913778403 13 89}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=88
leader log:
[{snapshot 11 79} {6807267070635953439 13 80} {8693451584893017406 13 81} {3633634461689639175 13 82} {2074817727418011351 13 83} {3015399948097656940 13 84} {8485415063532370137 13 85} {6237087660583111598 13 86} {8666537651473060717 13 87} {5971455804980385467 13 88} {4949595718913778403 13 89}]
------------------------------------------------------
term 16 server 1 not vote for server 2, 任期不够新
term 16 server 2 get outdate rpc reply from server 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5927 term 16 leader 0 nextIndex[1]: 90  matchIndex[1]: 89
term 16 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 13 leaderCommit: 88 
------------------------------------------------------
flag 29174 term 16 leader 0 nextIndex[2]: 90  matchIndex[2]: 89
term 16 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 13 leaderCommit: 88 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=88
leader log:
[{snapshot 11 79} {6807267070635953439 13 80} {8693451584893017406 13 81} {3633634461689639175 13 82} {2074817727418011351 13 83} {3015399948097656940 13 84} {8485415063532370137 13 85} {6237087660583111598 13 86} {8666537651473060717 13 87} {5971455804980385467 13 88} {4949595718913778403 13 89}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=88
leader log:
[{snapshot 11 79} {6807267070635953439 13 80} {8693451584893017406 13 81} {3633634461689639175 13 82} {2074817727418011351 13 83} {3015399948097656940 13 84} {8485415063532370137 13 85} {6237087660583111598 13 86} {8666537651473060717 13 87} {5971455804980385467 13 88} {4949595718913778403 13 89}]
------------------------------------------------------
flag 33830 term 16 leader 0 nextIndex[1]: 90  matchIndex[1]: 89
term 16 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 13 leaderCommit: 88 
------------------------------------------------------
flag 13067 term 16 leader 0 nextIndex[2]: 90  matchIndex[2]: 89
term 16 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 13 leaderCommit: 88 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=88
leader log:
[{snapshot 11 79} {6807267070635953439 13 80} {8693451584893017406 13 81} {3633634461689639175 13 82} {2074817727418011351 13 83} {3015399948097656940 13 84} {8485415063532370137 13 85} {6237087660583111598 13 86} {8666537651473060717 13 87} {5971455804980385467 13 88} {4949595718913778403 13 89}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=88
leader log:
[{snapshot 11 79} {6807267070635953439 13 80} {8693451584893017406 13 81} {3633634461689639175 13 82} {2074817727418011351 13 83} {3015399948097656940 13 84} {8485415063532370137 13 85} {6237087660583111598 13 86} {8666537651473060717 13 87} {5971455804980385467 13 88} {4949595718913778403 13 89}]
------------------------------------------------------
flag 34770 term 16 leader 0 nextIndex[1]: 90  matchIndex[1]: 89
term 16 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 13 leaderCommit: 88 
------------------------------------------------------
flag 91882 term 16 leader 0 nextIndex[2]: 90  matchIndex[2]: 89
term 16 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 13 leaderCommit: 88 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=88
leader log:
[{snapshot 11 79} {6807267070635953439 13 80} {8693451584893017406 13 81} {3633634461689639175 13 82} {2074817727418011351 13 83} {3015399948097656940 13 84} {8485415063532370137 13 85} {6237087660583111598 13 86} {8666537651473060717 13 87} {5971455804980385467 13 88} {4949595718913778403 13 89}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=88
leader log:
[{snapshot 11 79} {6807267070635953439 13 80} {8693451584893017406 13 81} {3633634461689639175 13 82} {2074817727418011351 13 83} {3015399948097656940 13 84} {8485415063532370137 13 85} {6237087660583111598 13 86} {8666537651473060717 13 87} {5971455804980385467 13 88} {4949595718913778403 13 89}]
------------------------------------------------------
flag 24611 term 16 leader 0 nextIndex[1]: 90  matchIndex[1]: 89
term 16 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 13 leaderCommit: 88 
------------------------------------------------------
flag 73499 term 16 leader 0 nextIndex[2]: 90  matchIndex[2]: 89
term 16 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 13 leaderCommit: 88 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=88
leader log:
[{snapshot 11 79} {6807267070635953439 13 80} {8693451584893017406 13 81} {3633634461689639175 13 82} {2074817727418011351 13 83} {3015399948097656940 13 84} {8485415063532370137 13 85} {6237087660583111598 13 86} {8666537651473060717 13 87} {5971455804980385467 13 88} {4949595718913778403 13 89}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=88
leader log:
[{snapshot 11 79} {6807267070635953439 13 80} {8693451584893017406 13 81} {3633634461689639175 13 82} {2074817727418011351 13 83} {3015399948097656940 13 84} {8485415063532370137 13 85} {6237087660583111598 13 86} {8666537651473060717 13 87} {5971455804980385467 13 88} {4949595718913778403 13 89}]
------------------------------------------------------
flag 30384 term 16 leader 0 nextIndex[1]: 90  matchIndex[1]: 89
term 16 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 13 leaderCommit: 88 
------------------------------------------------------
flag 66319 term 16 leader 0 nextIndex[2]: 90  matchIndex[2]: 89
term 16 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 13 leaderCommit: 88 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=88
leader log:
[{snapshot 11 79} {6807267070635953439 13 80} {8693451584893017406 13 81} {3633634461689639175 13 82} {2074817727418011351 13 83} {3015399948097656940 13 84} {8485415063532370137 13 85} {6237087660583111598 13 86} {8666537651473060717 13 87} {5971455804980385467 13 88} {4949595718913778403 13 89}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=88
leader log:
[{snapshot 11 79} {6807267070635953439 13 80} {8693451584893017406 13 81} {3633634461689639175 13 82} {2074817727418011351 13 83} {3015399948097656940 13 84} {8485415063532370137 13 85} {6237087660583111598 13 86} {8666537651473060717 13 87} {5971455804980385467 13 88} {4949595718913778403 13 89}]
------------------------------------------------------
client write log 4949595718913778403 (index 90) to leader 0
flag 72830 term 16 leader 0 nextIndex[1]: 90  matchIndex[1]: 89
term 16 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 13 leaderCommit: 88 
------------------------------------------------------
flag 71981 term 16 leader 0 nextIndex[2]: 90  matchIndex[2]: 89
term 16 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 13 leaderCommit: 88 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 11 79} {6807267070635953439 13 80} {8693451584893017406 13 81} {3633634461689639175 13 82} {2074817727418011351 13 83} {3015399948097656940 13 84} {8485415063532370137 13 85} {6237087660583111598 13 86} {8666537651473060717 13 87} {5971455804980385467 13 88} {4949595718913778403 13 89} {4949595718913778403 16 90}]
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=90
leader log:
[{snapshot 11 79} {6807267070635953439 13 80} {8693451584893017406 13 81} {3633634461689639175 13 82} {2074817727418011351 13 83} {3015399948097656940 13 84} {8485415063532370137 13 85} {6237087660583111598 13 86} {8666537651473060717 13 87} {5971455804980385467 13 88} {4949595718913778403 13 89} {4949595718913778403 16 90}]
------------------------------------------------------
term 16 Server0 start snapshot! index=89
term 16 server0 snapshot success
lastIncludedIndex=89 lastApplied=90 lastIndex=90
-------------------------------------------------------------
flag 63427 term 16 leader 0 nextIndex[1]: 91  matchIndex[1]: 90
term 16 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
flag 80935 term 16 leader 0 nextIndex[2]: 91  matchIndex[2]: 90
term 16 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=90
leader log:
[{snapshot 13 89} {4949595718913778403 16 90}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 13 89} {4949595718913778403 16 90}]
------------------------------------------------------
term 16 Server1 start snapshot! index=89
term 16 server1 snapshot success
lastIncludedIndex=89 lastApplied=90 lastIndex=90
-------------------------------------------------------------
term 16 Server2 start snapshot! index=89
term 16 server2 snapshot success
lastIncludedIndex=89 lastApplied=90 lastIndex=90
-------------------------------------------------------------
term 16 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 53199 term 16 leader 0 nextIndex[1]: 91  matchIndex[1]: 90
term 16 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
flag 2107 term 16 leader 0 nextIndex[2]: 91  matchIndex[2]: 90
term 16 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:90 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=90
leader log:
[{snapshot 13 89} {4949595718913778403 16 90}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 13 89} {4949595718913778403 16 90}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85530 term 16 leader 0 nextIndex[1]: 91  matchIndex[1]: 90
term 16 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
flag 29599 term 16 leader 0 nextIndex[2]: 91  matchIndex[2]: 90
term 16 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 13 89} {4949595718913778403 16 90}]
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=90
leader log:
[{snapshot 13 89} {4949595718913778403 16 90}]
------------------------------------------------------
flag 93055 term 16 leader 0 nextIndex[1]: 91  matchIndex[1]: 90
term 16 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
flag 61204 term 16 leader 0 nextIndex[2]: 91  matchIndex[2]: 90
term 16 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=90
leader log:
[{snapshot 13 89} {4949595718913778403 16 90}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 13 89} {4949595718913778403 16 90}]
------------------------------------------------------
flag 35684 term 16 leader 0 nextIndex[1]: 91  matchIndex[1]: 90
term 16 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
flag 89172 term 16 leader 0 nextIndex[2]: 91  matchIndex[2]: 90
term 16 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 13 89} {4949595718913778403 16 90}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=90
leader log:
[{snapshot 13 89} {4949595718913778403 16 90}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 60171 term 16 leader 0 nextIndex[1]: 91  matchIndex[1]: 90
term 16 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
flag 20738 term 16 leader 0 nextIndex[2]: 91  matchIndex[2]: 90
term 16 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 91->90
------------------------------------------------------
term 16 leader 0 nextIndex[1]: 0  matchIndex[1]: 90
term 16 leader 0 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 13
------------------------------------------------------
flag 9882 term 16 leader 0 nextIndex[2]: 91  matchIndex[2]: 90
term 16 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
term 16 leader 0 nextIndex[1]: 0  matchIndex[1]: 90
term 16 leader 0 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 13
------------------------------------------------------
flag 79205 term 16 leader 0 nextIndex[2]: 91  matchIndex[2]: 90
term 16 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
term 17 server 1 vote for server 2
term 17 server 2 get vote from server 1
term 17 server 2 become leader
------------------------------------------------------
flag 37110 term 17 leader 2 nextIndex[0]: 91  matchIndex[0]: 0
term 17 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
flag 83879 term 17 leader 2 nextIndex[1]: 91  matchIndex[1]: 0
term 17 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 13 89} {4949595718913778403 16 90}]
------------------------------------------------------
client write log 6544396730686746400 (index 91) to leader 2
term 16 leader 0 nextIndex[1]: 0  matchIndex[1]: 90
term 16 leader 0 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 13
------------------------------------------------------
flag 86104 term 16 leader 0 nextIndex[2]: 91  matchIndex[2]: 90
term 16 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
term 16 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 90 matchIndex[1] 89 
------------------------------------------------------------------------
flag 64502 term 17 leader 2 nextIndex[0]: 91  matchIndex[0]: 0
term 17 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
flag 23821 term 17 leader 2 nextIndex[1]: 91  matchIndex[1]: 90
term 17 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=92
update matchIndex[1]=91
update leader CommitIndex=91
leader log:
[{snapshot 13 89} {4949595718913778403 16 90} {6544396730686746400 17 91}]
------------------------------------------------------
flag 12140 term 16 leader 0 nextIndex[1]: 90  matchIndex[1]: 89
term 16 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 13 leaderCommit: 90 
------------------------------------------------------
flag 10637 term 16 leader 0 nextIndex[2]: 91  matchIndex[2]: 90
term 16 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
flag 30683 term 17 leader 2 nextIndex[0]: 91  matchIndex[0]: 0
term 17 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
flag 19202 term 17 leader 2 nextIndex[1]: 92  matchIndex[1]: 91
term 17 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 17 leaderCommit: 91 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=92
update matchIndex[1]=91
update leader CommitIndex=91
leader log:
[{snapshot 13 89} {4949595718913778403 16 90} {6544396730686746400 17 91}]
------------------------------------------------------
client write log 1849499594172255399 (index 92) to leader 2
flag 1492 term 16 leader 0 nextIndex[1]: 90  matchIndex[1]: 89
term 16 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 13 leaderCommit: 90 
------------------------------------------------------
flag 8144 term 16 leader 0 nextIndex[2]: 91  matchIndex[2]: 90
term 16 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
term 16 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 90 matchIndex[1] 89 
------------------------------------------------------------------------
flag 95851 term 17 leader 2 nextIndex[0]: 91  matchIndex[0]: 0
term 17 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
flag 93262 term 17 leader 2 nextIndex[1]: 92  matchIndex[1]: 91
term 17 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 17 leaderCommit: 91 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=93
update matchIndex[1]=92
update leader CommitIndex=92
leader log:
[{snapshot 13 89} {4949595718913778403 16 90} {6544396730686746400 17 91} {1849499594172255399 17 92}]
------------------------------------------------------
flag 9418 term 16 leader 0 nextIndex[1]: 90  matchIndex[1]: 89
term 16 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 13 leaderCommit: 90 
------------------------------------------------------
flag 45404 term 16 leader 0 nextIndex[2]: 91  matchIndex[2]: 90
term 16 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
flag 95497 term 17 leader 2 nextIndex[0]: 91  matchIndex[0]: 0
term 17 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
flag 31377 term 17 leader 2 nextIndex[1]: 93  matchIndex[1]: 92
term 17 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 17 leaderCommit: 92 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=93
update matchIndex[1]=92
update leader CommitIndex=92
leader log:
[{snapshot 13 89} {4949595718913778403 16 90} {6544396730686746400 17 91} {1849499594172255399 17 92}]
------------------------------------------------------
!!!!!!connect server 0
client write log 6772651647710763515 (index 93) to leader 2
flag 72993 term 16 leader 0 nextIndex[1]: 90  matchIndex[1]: 89
term 16 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 13 leaderCommit: 90 
------------------------------------------------------
flag 51243 term 16 leader 0 nextIndex[2]: 91  matchIndex[2]: 90
term 16 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
term 17 server 2 AppendEntries false 领导者任期过期 args.Term 16
------------------------------------------------------
term 17 server 1 AppendEntries false 领导者任期过期 args.Term 16
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45384 term 17 leader 2 nextIndex[0]: 91  matchIndex[0]: 0
term 17 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
flag 34321 term 17 leader 2 nextIndex[1]: 93  matchIndex[1]: 92
term 17 leader 2 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 17 leaderCommit: 92 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=93
leader log:
[{snapshot 13 89} {4949595718913778403 16 90} {6544396730686746400 17 91} {1849499594172255399 17 92} {6772651647710763515 17 93}]
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=93
leader log:
[{snapshot 13 89} {4949595718913778403 16 90} {6544396730686746400 17 91} {1849499594172255399 17 92} {6772651647710763515 17 93}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 94->93
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 17 leader 2 nextIndex[0]: 0  matchIndex[0]: 93
term 17 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 13
------------------------------------------------------
flag 54681 term 17 leader 2 nextIndex[1]: 94  matchIndex[1]: 93
term 17 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 17 leaderCommit: 93 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=93
leader log:
[{snapshot 13 89} {4949595718913778403 16 90} {6544396730686746400 17 91} {1849499594172255399 17 92} {6772651647710763515 17 93}]
------------------------------------------------------
term 17 server 0 InstallSnapshot fail
rf.commitIndex 90 args.LastIncludedIndex 89
------------------------------------------------------
term 17 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 90 matchIndex[0] 89 
------------------------------------------------------------------------
term 17 server 0 not vote for server 2, 日志不够新
term 17 server 2 get outdate rpc reply from server 0
flag 71297 term 17 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 17 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 13 leaderCommit: 93 
------------------------------------------------------
flag 10735 term 17 leader 2 nextIndex[1]: 94  matchIndex[1]: 93
term 17 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 17 leaderCommit: 93 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=93
leader log:
[{snapshot 13 89} {4949595718913778403 16 90} {6544396730686746400 17 91} {1849499594172255399 17 92} {6772651647710763515 17 93}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=93
leader log:
[{snapshot 13 89} {4949595718913778403 16 90} {6544396730686746400 17 91} {1849499594172255399 17 92} {6772651647710763515 17 93}]
------------------------------------------------------
flag 60103 term 17 leader 2 nextIndex[0]: 94  matchIndex[0]: 93
term 17 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 17 leaderCommit: 93 
------------------------------------------------------
flag 47670 term 17 leader 2 nextIndex[1]: 94  matchIndex[1]: 93
term 17 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 17 leaderCommit: 93 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=93
leader log:
[{snapshot 13 89} {4949595718913778403 16 90} {6544396730686746400 17 91} {1849499594172255399 17 92} {6772651647710763515 17 93}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=93
leader log:
[{snapshot 13 89} {4949595718913778403 16 90} {6544396730686746400 17 91} {1849499594172255399 17 92} {6772651647710763515 17 93}]
------------------------------------------------------
flag 96688 term 17 leader 2 nextIndex[0]: 94  matchIndex[0]: 93
term 17 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 17 leaderCommit: 93 
------------------------------------------------------
flag 69760 term 17 leader 2 nextIndex[1]: 94  matchIndex[1]: 93
term 17 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 17 leaderCommit: 93 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:93 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=93
leader log:
[{snapshot 13 89} {4949595718913778403 16 90} {6544396730686746400 17 91} {1849499594172255399 17 92} {6772651647710763515 17 93}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=93
leader log:
[{snapshot 13 89} {4949595718913778403 16 90} {6544396730686746400 17 91} {1849499594172255399 17 92} {6772651647710763515 17 93}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85762 term 17 leader 2 nextIndex[0]: 94  matchIndex[0]: 93
term 17 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 17 leaderCommit: 93 
------------------------------------------------------
flag 13327 term 17 leader 2 nextIndex[1]: 94  matchIndex[1]: 93
term 17 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 17 leaderCommit: 93 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=93
leader log:
[{snapshot 13 89} {4949595718913778403 16 90} {6544396730686746400 17 91} {1849499594172255399 17 92} {6772651647710763515 17 93}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=93
leader log:
[{snapshot 13 89} {4949595718913778403 16 90} {6544396730686746400 17 91} {1849499594172255399 17 92} {6772651647710763515 17 93}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52278 term 17 leader 2 nextIndex[0]: 94  matchIndex[0]: 93
term 17 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 17 leaderCommit: 93 
------------------------------------------------------
flag 28165 term 17 leader 2 nextIndex[1]: 94  matchIndex[1]: 93
term 17 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 17 leaderCommit: 93 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=93
leader log:
[{snapshot 13 89} {4949595718913778403 16 90} {6544396730686746400 17 91} {1849499594172255399 17 92} {6772651647710763515 17 93}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=93
leader log:
[{snapshot 13 89} {4949595718913778403 16 90} {6544396730686746400 17 91} {1849499594172255399 17 92} {6772651647710763515 17 93}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 0
client write log 1246321693809160017 (index 94) to leader 2
flag 6935 term 17 leader 2 nextIndex[0]: 94  matchIndex[0]: 93
term 17 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 17 leaderCommit: 93 
------------------------------------------------------
flag 39193 term 17 leader 2 nextIndex[1]: 94  matchIndex[1]: 93
term 17 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 17 leaderCommit: 93 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=95
update matchIndex[1]=94
update leader CommitIndex=94
leader log:
[{snapshot 13 89} {4949595718913778403 16 90} {6544396730686746400 17 91} {1849499594172255399 17 92} {6772651647710763515 17 93} {1246321693809160017 17 94}]
------------------------------------------------------
flag 56940 term 17 leader 2 nextIndex[0]: 94  matchIndex[0]: 93
term 17 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 17 leaderCommit: 94 
------------------------------------------------------
flag 24585 term 17 leader 2 nextIndex[1]: 95  matchIndex[1]: 94
term 17 leader 2 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 17 leaderCommit: 94 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=95
update matchIndex[1]=94
update leader CommitIndex=94
leader log:
[{snapshot 13 89} {4949595718913778403 16 90} {6544396730686746400 17 91} {1849499594172255399 17 92} {6772651647710763515 17 93} {1246321693809160017 17 94}]
------------------------------------------------------
client write log 1846464811576365158 (index 95) to leader 2
client write log 8234185810133513537 (index 96) to leader 2
client write log 1234694400869145585 (index 97) to leader 2
client write log 9008710596607551928 (index 98) to leader 2
client write log 5244619564561524913 (index 99) to leader 2
client write log 7782398703258584579 (index 100) to leader 2
client write log 7293445341269644516 (index 101) to leader 2
client write log 8375002491712300750 (index 102) to leader 2
client write log 7177467608959702451 (index 103) to leader 2
client write log 2460370753888074320 (index 104) to leader 2
client write log 6692900260367274739 (index 105) to leader 2
client write log 411260118488298309 (index 106) to leader 2
client write log 2984321606348825508 (index 107) to leader 2
flag 97188 term 17 leader 2 nextIndex[0]: 94  matchIndex[0]: 93
term 17 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 17 leaderCommit: 94 
------------------------------------------------------
flag 58799 term 17 leader 2 nextIndex[1]: 95  matchIndex[1]: 94
term 17 leader 2 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 17 leaderCommit: 94 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=108
update matchIndex[1]=107
update leader CommitIndex=107
leader log:
[{snapshot 13 89} {4949595718913778403 16 90} {6544396730686746400 17 91} {1849499594172255399 17 92} {6772651647710763515 17 93} {1246321693809160017 17 94} {1846464811576365158 17 95} {8234185810133513537 17 96} {1234694400869145585 17 97} {9008710596607551928 17 98} {5244619564561524913 17 99} {7782398703258584579 17 100} {7293445341269644516 17 101} {8375002491712300750 17 102} {7177467608959702451 17 103} {2460370753888074320 17 104} {6692900260367274739 17 105} {411260118488298309 17 106} {2984321606348825508 17 107}]
------------------------------------------------------
term 17 Server2 start snapshot! index=99
term 17 server2 snapshot success
lastIncludedIndex=99 lastApplied=100 lastIndex=107
-------------------------------------------------------------
term 17 leader 2 nextIndex[0]: 94  matchIndex[0]: 93
term 17 leader 2 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 17
------------------------------------------------------
flag 8262 term 17 leader 2 nextIndex[1]: 108  matchIndex[1]: 107
term 17 leader 2 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 17 leaderCommit: 107 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=108
update matchIndex[1]=107
update leader CommitIndex=107
leader log:
[{snapshot 17 99} {7782398703258584579 17 100} {7293445341269644516 17 101} {8375002491712300750 17 102} {7177467608959702451 17 103} {2460370753888074320 17 104} {6692900260367274739 17 105} {411260118488298309 17 106} {2984321606348825508 17 107}]
------------------------------------------------------
term 17 Server1 start snapshot! index=99
term 17 server1 snapshot success
lastIncludedIndex=99 lastApplied=100 lastIndex=107
-------------------------------------------------------------
!!!!!!connect server 0
client write log 1459562739801375850 (index 108) to leader 2
term 17 server 1 not vote for server 2, 任期不够新
term 17 server 2 get outdate rpc reply from server 1
term 17 server 2 not vote for server 0, 日志不够新
term 17 server 1 not vote for server 0, 日志不够新
term 19 server 0 vote for server 2
term 19 server 2 get vote from server 0
term 19 server 1 vote for server 2
term 19 server 2 become leader
------------------------------------------------------
term 19 server 2 get outdate rpc reply from server 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48642 term 19 leader 2 nextIndex[0]: 109  matchIndex[0]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 17 leaderCommit: 107 
------------------------------------------------------
flag 84745 term 19 leader 2 nextIndex[1]: 109  matchIndex[1]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 17 leaderCommit: 107 
------------------------------------------------------
term 19 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 109->108
------------------------------------------------------
term 19 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 109->108
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 19 leader 2 nextIndex[0]: 94  matchIndex[0]: 0
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 17
------------------------------------------------------
flag 94169 term 19 leader 2 nextIndex[1]: 108  matchIndex[1]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 17 leaderCommit: 107 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
term 19 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=107
leader log:
[{snapshot 17 99} {7782398703258584579 17 100} {7293445341269644516 17 101} {8375002491712300750 17 102} {7177467608959702451 17 103} {2460370753888074320 17 104} {6692900260367274739 17 105} {411260118488298309 17 106} {2984321606348825508 17 107} {1459562739801375850 17 108}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 99 rf.lastIncludedTerm 17 rf.commitIndex 99 rf.lastApplied 99
term 19 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 100 matchIndex[0] 99 
------------------------------------------------------------------------
flag 340 term 19 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 19 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 17 leaderCommit: 107 
------------------------------------------------------
flag 54088 term 19 leader 2 nextIndex[1]: 109  matchIndex[1]: 108
term 19 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 17 leaderCommit: 107 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=107
leader log:
[{snapshot 17 99} {7782398703258584579 17 100} {7293445341269644516 17 101} {8375002491712300750 17 102} {7177467608959702451 17 103} {2460370753888074320 17 104} {6692900260367274739 17 105} {411260118488298309 17 106} {2984321606348825508 17 107} {1459562739801375850 17 108}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=107
leader log:
[{snapshot 17 99} {7782398703258584579 17 100} {7293445341269644516 17 101} {8375002491712300750 17 102} {7177467608959702451 17 103} {2460370753888074320 17 104} {6692900260367274739 17 105} {411260118488298309 17 106} {2984321606348825508 17 107} {1459562739801375850 17 108}]
------------------------------------------------------
flag 69669 term 19 leader 2 nextIndex[0]: 109  matchIndex[0]: 108
term 19 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 17 leaderCommit: 107 
------------------------------------------------------
flag 54214 term 19 leader 2 nextIndex[1]: 109  matchIndex[1]: 108
term 19 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 17 leaderCommit: 107 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=107
leader log:
[{snapshot 17 99} {7782398703258584579 17 100} {7293445341269644516 17 101} {8375002491712300750 17 102} {7177467608959702451 17 103} {2460370753888074320 17 104} {6692900260367274739 17 105} {411260118488298309 17 106} {2984321606348825508 17 107} {1459562739801375850 17 108}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=107
leader log:
[{snapshot 17 99} {7782398703258584579 17 100} {7293445341269644516 17 101} {8375002491712300750 17 102} {7177467608959702451 17 103} {2460370753888074320 17 104} {6692900260367274739 17 105} {411260118488298309 17 106} {2984321606348825508 17 107} {1459562739801375850 17 108}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44563 term 19 leader 2 nextIndex[0]: 109  matchIndex[0]: 108
term 19 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 17 leaderCommit: 107 
------------------------------------------------------
flag 63612 term 19 leader 2 nextIndex[1]: 109  matchIndex[1]: 108
term 19 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 17 leaderCommit: 107 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueterm 19 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
update nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=107
leader log:
[{snapshot 17 99} {7782398703258584579 17 100} {7293445341269644516 17 101} {8375002491712300750 17 102} {7177467608959702451 17 103} {2460370753888074320 17 104} {6692900260367274739 17 105} {411260118488298309 17 106} {2984321606348825508 17 107} {1459562739801375850 17 108}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=107
leader log:
[{snapshot 17 99} {7782398703258584579 17 100} {7293445341269644516 17 101} {8375002491712300750 17 102} {7177467608959702451 17 103} {2460370753888074320 17 104} {6692900260367274739 17 105} {411260118488298309 17 106} {2984321606348825508 17 107} {1459562739801375850 17 108}]
------------------------------------------------------
flag 75347 term 19 leader 2 nextIndex[0]: 109  matchIndex[0]: 108
term 19 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 17 leaderCommit: 107 
------------------------------------------------------
flag 3829 term 19 leader 2 nextIndex[1]: 109  matchIndex[1]: 108
term 19 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 17 leaderCommit: 107 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=107
leader log:
[{snapshot 17 99} {7782398703258584579 17 100} {7293445341269644516 17 101} {8375002491712300750 17 102} {7177467608959702451 17 103} {2460370753888074320 17 104} {6692900260367274739 17 105} {411260118488298309 17 106} {2984321606348825508 17 107} {1459562739801375850 17 108}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=107
leader log:
[{snapshot 17 99} {7782398703258584579 17 100} {7293445341269644516 17 101} {8375002491712300750 17 102} {7177467608959702451 17 103} {2460370753888074320 17 104} {6692900260367274739 17 105} {411260118488298309 17 106} {2984321606348825508 17 107} {1459562739801375850 17 108}]
------------------------------------------------------
flag 85667 term 19 leader 2 nextIndex[0]: 109  matchIndex[0]: 108
term 19 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 17 leaderCommit: 107 
------------------------------------------------------
flag 69916 term 19 leader 2 nextIndex[1]: 109  matchIndex[1]: 108
term 19 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 17 leaderCommit: 107 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=107
leader log:
[{snapshot 17 99} {7782398703258584579 17 100} {7293445341269644516 17 101} {8375002491712300750 17 102} {7177467608959702451 17 103} {2460370753888074320 17 104} {6692900260367274739 17 105} {411260118488298309 17 106} {2984321606348825508 17 107} {1459562739801375850 17 108}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=107
leader log:
[{snapshot 17 99} {7782398703258584579 17 100} {7293445341269644516 17 101} {8375002491712300750 17 102} {7177467608959702451 17 103} {2460370753888074320 17 104} {6692900260367274739 17 105} {411260118488298309 17 106} {2984321606348825508 17 107} {1459562739801375850 17 108}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7127 term 19 leader 2 nextIndex[0]: 109  matchIndex[0]: 108
term 19 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 17 leaderCommit: 107 
------------------------------------------------------
flag 12761 term 19 leader 2 nextIndex[1]: 109  matchIndex[1]: 108
term 19 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 17 leaderCommit: 107 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=107
leader log:
[{snapshot 17 99} {7782398703258584579 17 100} {7293445341269644516 17 101} {8375002491712300750 17 102} {7177467608959702451 17 103} {2460370753888074320 17 104} {6692900260367274739 17 105} {411260118488298309 17 106} {2984321606348825508 17 107} {1459562739801375850 17 108}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=107
leader log:
[{snapshot 17 99} {7782398703258584579 17 100} {7293445341269644516 17 101} {8375002491712300750 17 102} {7177467608959702451 17 103} {2460370753888074320 17 104} {6692900260367274739 17 105} {411260118488298309 17 106} {2984321606348825508 17 107} {1459562739801375850 17 108}]
------------------------------------------------------
flag 8174 term 19 leader 2 nextIndex[0]: 109  matchIndex[0]: 108
term 19 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 17 leaderCommit: 107 
------------------------------------------------------
flag 10852 term 19 leader 2 nextIndex[1]: 109  matchIndex[1]: 108
term 19 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 17 leaderCommit: 107 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=107
leader log:
[{snapshot 17 99} {7782398703258584579 17 100} {7293445341269644516 17 101} {8375002491712300750 17 102} {7177467608959702451 17 103} {2460370753888074320 17 104} {6692900260367274739 17 105} {411260118488298309 17 106} {2984321606348825508 17 107} {1459562739801375850 17 108}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=107
leader log:
[{snapshot 17 99} {7782398703258584579 17 100} {7293445341269644516 17 101} {8375002491712300750 17 102} {7177467608959702451 17 103} {2460370753888074320 17 104} {6692900260367274739 17 105} {411260118488298309 17 106} {2984321606348825508 17 107} {1459562739801375850 17 108}]
------------------------------------------------------
flag 84682 term 19 leader 2 nextIndex[0]: 109  matchIndex[0]: 108
term 19 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 17 leaderCommit: 107 
------------------------------------------------------
flag 47674 term 19 leader 2 nextIndex[1]: 109  matchIndex[1]: 108
term 19 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 17 leaderCommit: 107 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=107
leader log:
[{snapshot 17 99} {7782398703258584579 17 100} {7293445341269644516 17 101} {8375002491712300750 17 102} {7177467608959702451 17 103} {2460370753888074320 17 104} {6692900260367274739 17 105} {411260118488298309 17 106} {2984321606348825508 17 107} {1459562739801375850 17 108}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=107
leader log:
[{snapshot 17 99} {7782398703258584579 17 100} {7293445341269644516 17 101} {8375002491712300750 17 102} {7177467608959702451 17 103} {2460370753888074320 17 104} {6692900260367274739 17 105} {411260118488298309 17 106} {2984321606348825508 17 107} {1459562739801375850 17 108}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93958 term 19 leader 2 nextIndex[0]: 109  matchIndex[0]: 108
term 19 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 17 leaderCommit: 107 
------------------------------------------------------
flag 80179 term 19 leader 2 nextIndex[1]: 109  matchIndex[1]: 108
term 19 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 17 leaderCommit: 107 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=107
leader log:
[{snapshot 17 99} {7782398703258584579 17 100} {7293445341269644516 17 101} {8375002491712300750 17 102} {7177467608959702451 17 103} {2460370753888074320 17 104} {6692900260367274739 17 105} {411260118488298309 17 106} {2984321606348825508 17 107} {1459562739801375850 17 108}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=107
leader log:
[{snapshot 17 99} {7782398703258584579 17 100} {7293445341269644516 17 101} {8375002491712300750 17 102} {7177467608959702451 17 103} {2460370753888074320 17 104} {6692900260367274739 17 105} {411260118488298309 17 106} {2984321606348825508 17 107} {1459562739801375850 17 108}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97883 term 19 leader 2 nextIndex[0]: 109  matchIndex[0]: 108
term 19 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 17 leaderCommit: 107 
------------------------------------------------------
flag 67198 term 19 leader 2 nextIndex[1]: 109  matchIndex[1]: 108
term 19 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 17 leaderCommit: 107 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=107
leader log:
[{snapshot 17 99} {7782398703258584579 17 100} {7293445341269644516 17 101} {8375002491712300750 17 102} {7177467608959702451 17 103} {2460370753888074320 17 104} {6692900260367274739 17 105} {411260118488298309 17 106} {2984321606348825508 17 107} {1459562739801375850 17 108}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=107
leader log:
[{snapshot 17 99} {7782398703258584579 17 100} {7293445341269644516 17 101} {8375002491712300750 17 102} {7177467608959702451 17 103} {2460370753888074320 17 104} {6692900260367274739 17 105} {411260118488298309 17 106} {2984321606348825508 17 107} {1459562739801375850 17 108}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89796 term 19 leader 2 nextIndex[0]: 109  matchIndex[0]: 108
term 19 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 17 leaderCommit: 107 
------------------------------------------------------
flag 1819 term 19 leader 2 nextIndex[1]: 109  matchIndex[1]: 108
term 19 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 17 leaderCommit: 107 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=107
leader log:
[{snapshot 17 99} {7782398703258584579 17 100} {7293445341269644516 17 101} {8375002491712300750 17 102} {7177467608959702451 17 103} {2460370753888074320 17 104} {6692900260367274739 17 105} {411260118488298309 17 106} {2984321606348825508 17 107} {1459562739801375850 17 108}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=107
leader log:
[{snapshot 17 99} {7782398703258584579 17 100} {7293445341269644516 17 101} {8375002491712300750 17 102} {7177467608959702451 17 103} {2460370753888074320 17 104} {6692900260367274739 17 105} {411260118488298309 17 106} {2984321606348825508 17 107} {1459562739801375850 17 108}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28113 term 19 leader 2 nextIndex[0]: 109  matchIndex[0]: 108
term 19 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 17 leaderCommit: 107 
------------------------------------------------------
flag 28448 term 19 leader 2 nextIndex[1]: 109  matchIndex[1]: 108
term 19 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 17 leaderCommit: 107 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=107
leader log:
[{snapshot 17 99} {7782398703258584579 17 100} {7293445341269644516 17 101} {8375002491712300750 17 102} {7177467608959702451 17 103} {2460370753888074320 17 104} {6692900260367274739 17 105} {411260118488298309 17 106} {2984321606348825508 17 107} {1459562739801375850 17 108}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=107
leader log:
[{snapshot 17 99} {7782398703258584579 17 100} {7293445341269644516 17 101} {8375002491712300750 17 102} {7177467608959702451 17 103} {2460370753888074320 17 104} {6692900260367274739 17 105} {411260118488298309 17 106} {2984321606348825508 17 107} {1459562739801375850 17 108}]
------------------------------------------------------
term 19 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 68336 term 19 leader 2 nextIndex[0]: 109  matchIndex[0]: 108
term 19 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 17 leaderCommit: 107 
------------------------------------------------------
flag 29522 term 19 leader 2 nextIndex[1]: 109  matchIndex[1]: 108
term 19 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 17 leaderCommit: 107 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=107
leader log:
[{snapshot 17 99} {7782398703258584579 17 100} {7293445341269644516 17 101} {8375002491712300750 17 102} {7177467608959702451 17 103} {2460370753888074320 17 104} {6692900260367274739 17 105} {411260118488298309 17 106} {2984321606348825508 17 107} {1459562739801375850 17 108}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=107
leader log:
[{snapshot 17 99} {7782398703258584579 17 100} {7293445341269644516 17 101} {8375002491712300750 17 102} {7177467608959702451 17 103} {2460370753888074320 17 104} {6692900260367274739 17 105} {411260118488298309 17 106} {2984321606348825508 17 107} {1459562739801375850 17 108}]
------------------------------------------------------
flag 49850 term 19 leader 2 nextIndex[0]: 109  matchIndex[0]: 108
term 19 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 17 leaderCommit: 107 
------------------------------------------------------
flag 30395 term 19 leader 2 nextIndex[1]: 109  matchIndex[1]: 108
term 19 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 17 leaderCommit: 107 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=107
leader log:
[{snapshot 17 99} {7782398703258584579 17 100} {7293445341269644516 17 101} {8375002491712300750 17 102} {7177467608959702451 17 103} {2460370753888074320 17 104} {6692900260367274739 17 105} {411260118488298309 17 106} {2984321606348825508 17 107} {1459562739801375850 17 108}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=107
leader log:
[{snapshot 17 99} {7782398703258584579 17 100} {7293445341269644516 17 101} {8375002491712300750 17 102} {7177467608959702451 17 103} {2460370753888074320 17 104} {6692900260367274739 17 105} {411260118488298309 17 106} {2984321606348825508 17 107} {1459562739801375850 17 108}]
------------------------------------------------------
flag 92769 term 19 leader 2 nextIndex[0]: 109  matchIndex[0]: 108
term 19 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 17 leaderCommit: 107 
------------------------------------------------------
flag 49878 term 19 leader 2 nextIndex[1]: 109  matchIndex[1]: 108
term 19 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 17 leaderCommit: 107 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=107
leader log:
[{snapshot 17 99} {7782398703258584579 17 100} {7293445341269644516 17 101} {8375002491712300750 17 102} {7177467608959702451 17 103} {2460370753888074320 17 104} {6692900260367274739 17 105} {411260118488298309 17 106} {2984321606348825508 17 107} {1459562739801375850 17 108}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=107
leader log:
[{snapshot 17 99} {7782398703258584579 17 100} {7293445341269644516 17 101} {8375002491712300750 17 102} {7177467608959702451 17 103} {2460370753888074320 17 104} {6692900260367274739 17 105} {411260118488298309 17 106} {2984321606348825508 17 107} {1459562739801375850 17 108}]
------------------------------------------------------
flag 16901 term 19 leader 2 nextIndex[0]: 109  matchIndex[0]: 108
term 19 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 17 leaderCommit: 107 
------------------------------------------------------
flag 79100 term 19 leader 2 nextIndex[1]: 109  matchIndex[1]: 108
term 19 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 17 leaderCommit: 107 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=107
leader log:
[{snapshot 17 99} {7782398703258584579 17 100} {7293445341269644516 17 101} {8375002491712300750 17 102} {7177467608959702451 17 103} {2460370753888074320 17 104} {6692900260367274739 17 105} {411260118488298309 17 106} {2984321606348825508 17 107} {1459562739801375850 17 108}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=107
leader log:
[{snapshot 17 99} {7782398703258584579 17 100} {7293445341269644516 17 101} {8375002491712300750 17 102} {7177467608959702451 17 103} {2460370753888074320 17 104} {6692900260367274739 17 105} {411260118488298309 17 106} {2984321606348825508 17 107} {1459562739801375850 17 108}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25051 term 19 leader 2 nextIndex[0]: 109  matchIndex[0]: 108
term 19 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 17 leaderCommit: 107 
------------------------------------------------------
flag 29576 term 19 leader 2 nextIndex[1]: 109  matchIndex[1]: 108
term 19 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 17 leaderCommit: 107 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=107
leader log:
[{snapshot 17 99} {7782398703258584579 17 100} {7293445341269644516 17 101} {8375002491712300750 17 102} {7177467608959702451 17 103} {2460370753888074320 17 104} {6692900260367274739 17 105} {411260118488298309 17 106} {2984321606348825508 17 107} {1459562739801375850 17 108}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=107
leader log:
[{snapshot 17 99} {7782398703258584579 17 100} {7293445341269644516 17 101} {8375002491712300750 17 102} {7177467608959702451 17 103} {2460370753888074320 17 104} {6692900260367274739 17 105} {411260118488298309 17 106} {2984321606348825508 17 107} {1459562739801375850 17 108}]
------------------------------------------------------
flag 39439 term 19 leader 2 nextIndex[0]: 109  matchIndex[0]: 108
term 19 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 17 leaderCommit: 107 
------------------------------------------------------
flag 95650 term 19 leader 2 nextIndex[1]: 109  matchIndex[1]: 108
term 19 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 17 leaderCommit: 107 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=109
update matchIndex[1]=108
update leader CommitIndex=107
leader log:
[{snapshot 17 99} {7782398703258584579 17 100} {7293445341269644516 17 101} {8375002491712300750 17 102} {7177467608959702451 17 103} {2460370753888074320 17 104} {6692900260367274739 17 105} {411260118488298309 17 106} {2984321606348825508 17 107} {1459562739801375850 17 108}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=109
update matchIndex[0]=108
update leader CommitIndex=107
leader log:
[{snapshot 17 99} {7782398703258584579 17 100} {7293445341269644516 17 101} {8375002491712300750 17 102} {7177467608959702451 17 103} {2460370753888074320 17 104} {6692900260367274739 17 105} {411260118488298309 17 106} {2984321606348825508 17 107} {1459562739801375850 17 108}]
------------------------------------------------------
client write log 1459562739801375850 (index 109) to leader 2
flag 91089 term 19 leader 2 nextIndex[0]: 109  matchIndex[0]: 108
term 19 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 17 leaderCommit: 107 
------------------------------------------------------
flag 47012 term 19 leader 2 nextIndex[1]: 109  matchIndex[1]: 108
term 19 leader 2 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 17 leaderCommit: 107 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=110
update matchIndex[0]=109
update leader CommitIndex=109
leader log:
[{snapshot 17 99} {7782398703258584579 17 100} {7293445341269644516 17 101} {8375002491712300750 17 102} {7177467608959702451 17 103} {2460370753888074320 17 104} {6692900260367274739 17 105} {411260118488298309 17 106} {2984321606348825508 17 107} {1459562739801375850 17 108} {1459562739801375850 19 109}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=110
update matchIndex[1]=109
update leader CommitIndex=109
leader log:
[{snapshot 17 99} {7782398703258584579 17 100} {7293445341269644516 17 101} {8375002491712300750 17 102} {7177467608959702451 17 103} {2460370753888074320 17 104} {6692900260367274739 17 105} {411260118488298309 17 106} {2984321606348825508 17 107} {1459562739801375850 17 108} {1459562739801375850 19 109}]
------------------------------------------------------
term 19 Server2 start snapshot! index=109
term 19 server2 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=109
-------------------------------------------------------------
flag 20569 term 19 leader 2 nextIndex[0]: 110  matchIndex[0]: 109
term 19 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
flag 52449 term 19 leader 2 nextIndex[1]: 110  matchIndex[1]: 109
term 19 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=110
update matchIndex[0]=109
update leader CommitIndex=109
leader log:
[{snapshot 19 109}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=110
update matchIndex[1]=109
update leader CommitIndex=109
leader log:
[{snapshot 19 109}]
------------------------------------------------------
term 19 Server0 start snapshot! index=109
term 19 Server1 start snapshot! index=109
term 19 server1 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=109
-------------------------------------------------------------
term 19 server0 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=109
-------------------------------------------------------------
flag 34319 term 19 leader 2 nextIndex[0]: 110  matchIndex[0]: 109
term 19 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
flag 24120 term 19 leader 2 nextIndex[1]: 110  matchIndex[1]: 109
term 19 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=110
update matchIndex[1]=109
update leader CommitIndex=109
leader log:
[{snapshot 19 109}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=110
update matchIndex[0]=109
update leader CommitIndex=109
leader log:
[{snapshot 19 109}]
------------------------------------------------------
term 19 server 0 not vote for server 2, 任期不够新
term 19 server 2 get outdate rpc reply from server 0
flag 5565 term 19 leader 2 nextIndex[0]: 110  matchIndex[0]: 109
term 19 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
flag 12742 term 19 leader 2 nextIndex[1]: 110  matchIndex[1]: 109
term 19 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=110
update matchIndex[1]=109
update leader CommitIndex=109
leader log:
[{snapshot 19 109}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=110
update matchIndex[0]=109
update leader CommitIndex=109
leader log:
[{snapshot 19 109}]
------------------------------------------------------
flag 84828 term 19 leader 2 nextIndex[0]: 110  matchIndex[0]: 109
term 19 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
flag 19319 term 19 leader 2 nextIndex[1]: 110  matchIndex[1]: 109
term 19 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=110
update matchIndex[1]=109
update leader CommitIndex=109
leader log:
[{snapshot 19 109}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=110
update matchIndex[0]=109
update leader CommitIndex=109
leader log:
[{snapshot 19 109}]
------------------------------------------------------
flag 40443 term 19 leader 2 nextIndex[0]: 110  matchIndex[0]: 109
term 19 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
flag 37344 term 19 leader 2 nextIndex[1]: 110  matchIndex[1]: 109
term 19 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=110
update matchIndex[1]=109
update leader CommitIndex=109
leader log:
[{snapshot 19 109}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=110
update matchIndex[0]=109
update leader CommitIndex=109
leader log:
[{snapshot 19 109}]
------------------------------------------------------
flag 10939 term 19 leader 2 nextIndex[0]: 110  matchIndex[0]: 109
term 19 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
flag 28543 term 19 leader 2 nextIndex[1]: 110  matchIndex[1]: 109
term 19 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=110
update matchIndex[1]=109
update leader CommitIndex=109
leader log:
[{snapshot 19 109}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=110
update matchIndex[0]=109
update leader CommitIndex=109
leader log:
[{snapshot 19 109}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 1468203067144760295 (index 110) to leader 2
flag 73246 term 19 leader 2 nextIndex[0]: 110  matchIndex[0]: 109
term 19 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
flag 98124 term 19 leader 2 nextIndex[1]: 110  matchIndex[1]: 109
term 19 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=110
leader log:
[{snapshot 19 109} {1468203067144760295 19 110}]
------------------------------------------------------
flag 82252 term 19 leader 2 nextIndex[0]: 110  matchIndex[0]: 109
term 19 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 110 
------------------------------------------------------
flag 35296 term 19 leader 2 nextIndex[1]: 111  matchIndex[1]: 110
term 19 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 110 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=110
leader log:
[{snapshot 19 109} {1468203067144760295 19 110}]
------------------------------------------------------
client write log 6760668703725956576 (index 111) to leader 2
client write log 5963905247158589394 (index 112) to leader 2
client write log 6705985435311720419 (index 113) to leader 2
client write log 6633197343607012971 (index 114) to leader 2
client write log 2121018587707995069 (index 115) to leader 2
client write log 2101395100312109688 (index 116) to leader 2
flag 3053 term 19 leader 2 nextIndex[0]: 110  matchIndex[0]: 109
term 19 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 110 
------------------------------------------------------
flag 67641 term 19 leader 2 nextIndex[1]: 111  matchIndex[1]: 110
term 19 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 110 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=116
leader log:
[{snapshot 19 109} {1468203067144760295 19 110} {6760668703725956576 19 111} {5963905247158589394 19 112} {6705985435311720419 19 113} {6633197343607012971 19 114} {2121018587707995069 19 115} {2101395100312109688 19 116}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12113 term 19 leader 2 nextIndex[0]: 110  matchIndex[0]: 109
term 19 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
flag 90585 term 19 leader 2 nextIndex[1]: 117  matchIndex[1]: 116
term 19 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=116
leader log:
[{snapshot 19 109} {1468203067144760295 19 110} {6760668703725956576 19 111} {5963905247158589394 19 112} {6705985435311720419 19 113} {6633197343607012971 19 114} {2121018587707995069 19 115} {2101395100312109688 19 116}]
------------------------------------------------------
!!!!!!connect server 0
client write log 5788855499946232849 (index 117) to leader 2
term 19 server 2 not vote for server 0, 日志不够新
term 19 server 1 not vote for server 0, 日志不够新
term 21 server 1 vote for server 2
term 21 server 2 get vote from server 1
term 21 server 2 become leader
------------------------------------------------------
term 21 server 0 vote for server 2
term 21 server 2 get outdate rpc reply from server 0
flag 57395 term 21 leader 2 nextIndex[0]: 118  matchIndex[0]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
flag 45261 term 21 leader 2 nextIndex[1]: 118  matchIndex[1]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
term 21 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 21 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 118->117
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 118->117
------------------------------------------------------
flag 48955 term 21 leader 2 nextIndex[0]: 110  matchIndex[0]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
flag 48086 term 21 leader 2 nextIndex[1]: 117  matchIndex[1]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=116
leader log:
[{snapshot 19 109} {1468203067144760295 19 110} {6760668703725956576 19 111} {5963905247158589394 19 112} {6705985435311720419 19 113} {6633197343607012971 19 114} {2121018587707995069 19 115} {2101395100312109688 19 116} {5788855499946232849 19 117}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=116
leader log:
[{snapshot 19 109} {1468203067144760295 19 110} {6760668703725956576 19 111} {5963905247158589394 19 112} {6705985435311720419 19 113} {6633197343607012971 19 114} {2121018587707995069 19 115} {2101395100312109688 19 116} {5788855499946232849 19 117}]
------------------------------------------------------
flag 70241 term 21 leader 2 nextIndex[0]: 118  matchIndex[0]: 117
term 21 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
flag 51432 term 21 leader 2 nextIndex[1]: 118  matchIndex[1]: 117
term 21 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=116
leader log:
[{snapshot 19 109} {1468203067144760295 19 110} {6760668703725956576 19 111} {5963905247158589394 19 112} {6705985435311720419 19 113} {6633197343607012971 19 114} {2121018587707995069 19 115} {2101395100312109688 19 116} {5788855499946232849 19 117}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=116
leader log:
[{snapshot 19 109} {1468203067144760295 19 110} {6760668703725956576 19 111} {5963905247158589394 19 112} {6705985435311720419 19 113} {6633197343607012971 19 114} {2121018587707995069 19 115} {2101395100312109688 19 116} {5788855499946232849 19 117}]
------------------------------------------------------
flag 15558 term 21 leader 2 nextIndex[0]: 118  matchIndex[0]: 117
term 21 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
flag 7707 term 21 leader 2 nextIndex[1]: 118  matchIndex[1]: 117
term 21 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=116
leader log:
[{snapshot 19 109} {1468203067144760295 19 110} {6760668703725956576 19 111} {5963905247158589394 19 112} {6705985435311720419 19 113} {6633197343607012971 19 114} {2121018587707995069 19 115} {2101395100312109688 19 116} {5788855499946232849 19 117}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=116
leader log:
[{snapshot 19 109} {1468203067144760295 19 110} {6760668703725956576 19 111} {5963905247158589394 19 112} {6705985435311720419 19 113} {6633197343607012971 19 114} {2121018587707995069 19 115} {2101395100312109688 19 116} {5788855499946232849 19 117}]
------------------------------------------------------
flag 9068 term 21 leader 2 nextIndex[0]: 118  matchIndex[0]: 117
term 21 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
flag 44624 term 21 leader 2 nextIndex[1]: 118  matchIndex[1]: 117
term 21 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=116
leader log:
[{snapshot 19 109} {1468203067144760295 19 110} {6760668703725956576 19 111} {5963905247158589394 19 112} {6705985435311720419 19 113} {6633197343607012971 19 114} {2121018587707995069 19 115} {2101395100312109688 19 116} {5788855499946232849 19 117}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=116
leader log:
[{snapshot 19 109} {1468203067144760295 19 110} {6760668703725956576 19 111} {5963905247158589394 19 112} {6705985435311720419 19 113} {6633197343607012971 19 114} {2121018587707995069 19 115} {2101395100312109688 19 116} {5788855499946232849 19 117}]
------------------------------------------------------
flag 57257 term 21 leader 2 nextIndex[0]: 118  matchIndex[0]: 117
term 21 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
flag 3997 term 21 leader 2 nextIndex[1]: 118  matchIndex[1]: 117
term 21 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=116
leader log:
[{snapshot 19 109} {1468203067144760295 19 110} {6760668703725956576 19 111} {5963905247158589394 19 112} {6705985435311720419 19 113} {6633197343607012971 19 114} {2121018587707995069 19 115} {2101395100312109688 19 116} {5788855499946232849 19 117}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=116
leader log:
[{snapshot 19 109} {1468203067144760295 19 110} {6760668703725956576 19 111} {5963905247158589394 19 112} {6705985435311720419 19 113} {6633197343607012971 19 114} {2121018587707995069 19 115} {2101395100312109688 19 116} {5788855499946232849 19 117}]
------------------------------------------------------
flag 74666 term 21 leader 2 nextIndex[0]: 118  matchIndex[0]: 117
term 21 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
flag 20666 term 21 leader 2 nextIndex[1]: 118  matchIndex[1]: 117
term 21 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=116
leader log:
[{snapshot 19 109} {1468203067144760295 19 110} {6760668703725956576 19 111} {5963905247158589394 19 112} {6705985435311720419 19 113} {6633197343607012971 19 114} {2121018587707995069 19 115} {2101395100312109688 19 116} {5788855499946232849 19 117}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=116
leader log:
[{snapshot 19 109} {1468203067144760295 19 110} {6760668703725956576 19 111} {5963905247158589394 19 112} {6705985435311720419 19 113} {6633197343607012971 19 114} {2121018587707995069 19 115} {2101395100312109688 19 116} {5788855499946232849 19 117}]
------------------------------------------------------
flag 52825 term 21 leader 2 nextIndex[0]: 118  matchIndex[0]: 117
term 21 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
flag 60348 term 21 leader 2 nextIndex[1]: 118  matchIndex[1]: 117
term 21 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=116
leader log:
[{snapshot 19 109} {1468203067144760295 19 110} {6760668703725956576 19 111} {5963905247158589394 19 112} {6705985435311720419 19 113} {6633197343607012971 19 114} {2121018587707995069 19 115} {2101395100312109688 19 116} {5788855499946232849 19 117}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=116
leader log:
[{snapshot 19 109} {1468203067144760295 19 110} {6760668703725956576 19 111} {5963905247158589394 19 112} {6705985435311720419 19 113} {6633197343607012971 19 114} {2121018587707995069 19 115} {2101395100312109688 19 116} {5788855499946232849 19 117}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96423 term 21 leader 2 nextIndex[0]: 118  matchIndex[0]: 117
term 21 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
flag 39271 term 21 leader 2 nextIndex[1]: 118  matchIndex[1]: 117
term 21 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=116
leader log:
[{snapshot 19 109} {1468203067144760295 19 110} {6760668703725956576 19 111} {5963905247158589394 19 112} {6705985435311720419 19 113} {6633197343607012971 19 114} {2121018587707995069 19 115} {2101395100312109688 19 116} {5788855499946232849 19 117}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=116
leader log:
[{snapshot 19 109} {1468203067144760295 19 110} {6760668703725956576 19 111} {5963905247158589394 19 112} {6705985435311720419 19 113} {6633197343607012971 19 114} {2121018587707995069 19 115} {2101395100312109688 19 116} {5788855499946232849 19 117}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22237 term 21 leader 2 nextIndex[0]: 118  matchIndex[0]: 117
term 21 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
flag 61097 term 21 leader 2 nextIndex[1]: 118  matchIndex[1]: 117
term 21 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=116
leader log:
[{snapshot 19 109} {1468203067144760295 19 110} {6760668703725956576 19 111} {5963905247158589394 19 112} {6705985435311720419 19 113} {6633197343607012971 19 114} {2121018587707995069 19 115} {2101395100312109688 19 116} {5788855499946232849 19 117}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=116
leader log:
[{snapshot 19 109} {1468203067144760295 19 110} {6760668703725956576 19 111} {5963905247158589394 19 112} {6705985435311720419 19 113} {6633197343607012971 19 114} {2121018587707995069 19 115} {2101395100312109688 19 116} {5788855499946232849 19 117}]
------------------------------------------------------
flag 53977 term 21 leader 2 nextIndex[0]: 118  matchIndex[0]: 117
term 21 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
flag 15382 term 21 leader 2 nextIndex[1]: 118  matchIndex[1]: 117
term 21 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=116
leader log:
[{snapshot 19 109} {1468203067144760295 19 110} {6760668703725956576 19 111} {5963905247158589394 19 112} {6705985435311720419 19 113} {6633197343607012971 19 114} {2121018587707995069 19 115} {2101395100312109688 19 116} {5788855499946232849 19 117}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=116
leader log:
[{snapshot 19 109} {1468203067144760295 19 110} {6760668703725956576 19 111} {5963905247158589394 19 112} {6705985435311720419 19 113} {6633197343607012971 19 114} {2121018587707995069 19 115} {2101395100312109688 19 116} {5788855499946232849 19 117}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38213 term 21 leader 2 nextIndex[0]: 118  matchIndex[0]: 117
term 21 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
flag 7281 term 21 leader 2 nextIndex[1]: 118  matchIndex[1]: 117
term 21 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=116
leader log:
[{snapshot 19 109} {1468203067144760295 19 110} {6760668703725956576 19 111} {5963905247158589394 19 112} {6705985435311720419 19 113} {6633197343607012971 19 114} {2121018587707995069 19 115} {2101395100312109688 19 116} {5788855499946232849 19 117}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=116
leader log:
[{snapshot 19 109} {1468203067144760295 19 110} {6760668703725956576 19 111} {5963905247158589394 19 112} {6705985435311720419 19 113} {6633197343607012971 19 114} {2121018587707995069 19 115} {2101395100312109688 19 116} {5788855499946232849 19 117}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26966 term 21 leader 2 nextIndex[0]: 118  matchIndex[0]: 117
term 21 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
flag 56593 term 21 leader 2 nextIndex[1]: 118  matchIndex[1]: 117
term 21 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=116
leader log:
[{snapshot 19 109} {1468203067144760295 19 110} {6760668703725956576 19 111} {5963905247158589394 19 112} {6705985435311720419 19 113} {6633197343607012971 19 114} {2121018587707995069 19 115} {2101395100312109688 19 116} {5788855499946232849 19 117}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=116
leader log:
[{snapshot 19 109} {1468203067144760295 19 110} {6760668703725956576 19 111} {5963905247158589394 19 112} {6705985435311720419 19 113} {6633197343607012971 19 114} {2121018587707995069 19 115} {2101395100312109688 19 116} {5788855499946232849 19 117}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60870 term 21 leader 2 nextIndex[0]: 118  matchIndex[0]: 117
term 21 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
flag 33666 term 21 leader 2 nextIndex[1]: 118  matchIndex[1]: 117
term 21 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=116
leader log:
[{snapshot 19 109} {1468203067144760295 19 110} {6760668703725956576 19 111} {5963905247158589394 19 112} {6705985435311720419 19 113} {6633197343607012971 19 114} {2121018587707995069 19 115} {2101395100312109688 19 116} {5788855499946232849 19 117}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=116
leader log:
[{snapshot 19 109} {1468203067144760295 19 110} {6760668703725956576 19 111} {5963905247158589394 19 112} {6705985435311720419 19 113} {6633197343607012971 19 114} {2121018587707995069 19 115} {2101395100312109688 19 116} {5788855499946232849 19 117}]
------------------------------------------------------
flag 93486 term 21 leader 2 nextIndex[0]: 118  matchIndex[0]: 117
term 21 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
flag 2106 term 21 leader 2 nextIndex[1]: 118  matchIndex[1]: 117
term 21 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=116
leader log:
[{snapshot 19 109} {1468203067144760295 19 110} {6760668703725956576 19 111} {5963905247158589394 19 112} {6705985435311720419 19 113} {6633197343607012971 19 114} {2121018587707995069 19 115} {2101395100312109688 19 116} {5788855499946232849 19 117}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=116
leader log:
[{snapshot 19 109} {1468203067144760295 19 110} {6760668703725956576 19 111} {5963905247158589394 19 112} {6705985435311720419 19 113} {6633197343607012971 19 114} {2121018587707995069 19 115} {2101395100312109688 19 116} {5788855499946232849 19 117}]
------------------------------------------------------
flag 45018 term 21 leader 2 nextIndex[0]: 118  matchIndex[0]: 117
term 21 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
flag 93425 term 21 leader 2 nextIndex[1]: 118  matchIndex[1]: 117
term 21 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=116
leader log:
[{snapshot 19 109} {1468203067144760295 19 110} {6760668703725956576 19 111} {5963905247158589394 19 112} {6705985435311720419 19 113} {6633197343607012971 19 114} {2121018587707995069 19 115} {2101395100312109688 19 116} {5788855499946232849 19 117}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=116
leader log:
[{snapshot 19 109} {1468203067144760295 19 110} {6760668703725956576 19 111} {5963905247158589394 19 112} {6705985435311720419 19 113} {6633197343607012971 19 114} {2121018587707995069 19 115} {2101395100312109688 19 116} {5788855499946232849 19 117}]
------------------------------------------------------
flag 35094 term 21 leader 2 nextIndex[0]: 118  matchIndex[0]: 117
term 21 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
flag 12850 term 21 leader 2 nextIndex[1]: 118  matchIndex[1]: 117
term 21 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=116
leader log:
[{snapshot 19 109} {1468203067144760295 19 110} {6760668703725956576 19 111} {5963905247158589394 19 112} {6705985435311720419 19 113} {6633197343607012971 19 114} {2121018587707995069 19 115} {2101395100312109688 19 116} {5788855499946232849 19 117}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=116
leader log:
[{snapshot 19 109} {1468203067144760295 19 110} {6760668703725956576 19 111} {5963905247158589394 19 112} {6705985435311720419 19 113} {6633197343607012971 19 114} {2121018587707995069 19 115} {2101395100312109688 19 116} {5788855499946232849 19 117}]
------------------------------------------------------
flag 5641 term 21 leader 2 nextIndex[0]: 118  matchIndex[0]: 117
term 21 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
flag 35585 term 21 leader 2 nextIndex[1]: 118  matchIndex[1]: 117
term 21 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=116
leader log:
[{snapshot 19 109} {1468203067144760295 19 110} {6760668703725956576 19 111} {5963905247158589394 19 112} {6705985435311720419 19 113} {6633197343607012971 19 114} {2121018587707995069 19 115} {2101395100312109688 19 116} {5788855499946232849 19 117}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=116
leader log:
[{snapshot 19 109} {1468203067144760295 19 110} {6760668703725956576 19 111} {5963905247158589394 19 112} {6705985435311720419 19 113} {6633197343607012971 19 114} {2121018587707995069 19 115} {2101395100312109688 19 116} {5788855499946232849 19 117}]
------------------------------------------------------
flag 82451 term 21 leader 2 nextIndex[0]: 118  matchIndex[0]: 117
term 21 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
flag 37516 term 21 leader 2 nextIndex[1]: 118  matchIndex[1]: 117
term 21 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=116
leader log:
[{snapshot 19 109} {1468203067144760295 19 110} {6760668703725956576 19 111} {5963905247158589394 19 112} {6705985435311720419 19 113} {6633197343607012971 19 114} {2121018587707995069 19 115} {2101395100312109688 19 116} {5788855499946232849 19 117}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=116
leader log:
[{snapshot 19 109} {1468203067144760295 19 110} {6760668703725956576 19 111} {5963905247158589394 19 112} {6705985435311720419 19 113} {6633197343607012971 19 114} {2121018587707995069 19 115} {2101395100312109688 19 116} {5788855499946232849 19 117}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71988 term 21 leader 2 nextIndex[0]: 118  matchIndex[0]: 117
term 21 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
flag 11025 term 21 leader 2 nextIndex[1]: 118  matchIndex[1]: 117
term 21 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=116
leader log:
[{snapshot 19 109} {1468203067144760295 19 110} {6760668703725956576 19 111} {5963905247158589394 19 112} {6705985435311720419 19 113} {6633197343607012971 19 114} {2121018587707995069 19 115} {2101395100312109688 19 116} {5788855499946232849 19 117}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=116
leader log:
[{snapshot 19 109} {1468203067144760295 19 110} {6760668703725956576 19 111} {5963905247158589394 19 112} {6705985435311720419 19 113} {6633197343607012971 19 114} {2121018587707995069 19 115} {2101395100312109688 19 116} {5788855499946232849 19 117}]
------------------------------------------------------
client write log 5788855499946232849 (index 118) to leader 2
flag 95574 term 21 leader 2 nextIndex[0]: 118  matchIndex[0]: 117
term 21 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
flag 64500 term 21 leader 2 nextIndex[1]: 118  matchIndex[1]: 117
term 21 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {1468203067144760295 19 110} {6760668703725956576 19 111} {5963905247158589394 19 112} {6705985435311720419 19 113} {6633197343607012971 19 114} {2121018587707995069 19 115} {2101395100312109688 19 116} {5788855499946232849 19 117} {5788855499946232849 21 118}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {1468203067144760295 19 110} {6760668703725956576 19 111} {5963905247158589394 19 112} {6705985435311720419 19 113} {6633197343607012971 19 114} {2121018587707995069 19 115} {2101395100312109688 19 116} {5788855499946232849 19 117} {5788855499946232849 21 118}]
------------------------------------------------------
flag 7388 term 21 leader 2 nextIndex[0]: 119  matchIndex[0]: 118
term 21 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
flag 12175 term 21 leader 2 nextIndex[1]: 119  matchIndex[1]: 118
term 21 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:118 
term 21 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {1468203067144760295 19 110} {6760668703725956576 19 111} {5963905247158589394 19 112} {6705985435311720419 19 113} {6633197343607012971 19 114} {2121018587707995069 19 115} {2101395100312109688 19 116} {5788855499946232849 19 117} {5788855499946232849 21 118}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {1468203067144760295 19 110} {6760668703725956576 19 111} {5963905247158589394 19 112} {6705985435311720419 19 113} {6633197343607012971 19 114} {2121018587707995069 19 115} {2101395100312109688 19 116} {5788855499946232849 19 117} {5788855499946232849 21 118}]
------------------------------------------------------
flag 77674 term 21 leader 2 nextIndex[0]: 119  matchIndex[0]: 118
term 21 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
flag 2252 term 21 leader 2 nextIndex[1]: 119  matchIndex[1]: 118
term 21 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {1468203067144760295 19 110} {6760668703725956576 19 111} {5963905247158589394 19 112} {6705985435311720419 19 113} {6633197343607012971 19 114} {2121018587707995069 19 115} {2101395100312109688 19 116} {5788855499946232849 19 117} {5788855499946232849 21 118}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {1468203067144760295 19 110} {6760668703725956576 19 111} {5963905247158589394 19 112} {6705985435311720419 19 113} {6633197343607012971 19 114} {2121018587707995069 19 115} {2101395100312109688 19 116} {5788855499946232849 19 117} {5788855499946232849 21 118}]
------------------------------------------------------
flag 82625 term 21 leader 2 nextIndex[0]: 119  matchIndex[0]: 118
term 21 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
flag 79461 term 21 leader 2 nextIndex[1]: 119  matchIndex[1]: 118
term 21 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {1468203067144760295 19 110} {6760668703725956576 19 111} {5963905247158589394 19 112} {6705985435311720419 19 113} {6633197343607012971 19 114} {2121018587707995069 19 115} {2101395100312109688 19 116} {5788855499946232849 19 117} {5788855499946232849 21 118}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {1468203067144760295 19 110} {6760668703725956576 19 111} {5963905247158589394 19 112} {6705985435311720419 19 113} {6633197343607012971 19 114} {2121018587707995069 19 115} {2101395100312109688 19 116} {5788855499946232849 19 117} {5788855499946232849 21 118}]
------------------------------------------------------
flag 24232 term 21 leader 2 nextIndex[0]: 119  matchIndex[0]: 118
term 21 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
flag 12117 term 21 leader 2 nextIndex[1]: 119  matchIndex[1]: 118
term 21 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {1468203067144760295 19 110} {6760668703725956576 19 111} {5963905247158589394 19 112} {6705985435311720419 19 113} {6633197343607012971 19 114} {2121018587707995069 19 115} {2101395100312109688 19 116} {5788855499946232849 19 117} {5788855499946232849 21 118}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {1468203067144760295 19 110} {6760668703725956576 19 111} {5963905247158589394 19 112} {6705985435311720419 19 113} {6633197343607012971 19 114} {2121018587707995069 19 115} {2101395100312109688 19 116} {5788855499946232849 19 117} {5788855499946232849 21 118}]
------------------------------------------------------
flag 17512 term 21 leader 2 nextIndex[0]: 119  matchIndex[0]: 118
term 21 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
flag 45996 term 21 leader 2 nextIndex[1]: 119  matchIndex[1]: 118
term 21 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {1468203067144760295 19 110} {6760668703725956576 19 111} {5963905247158589394 19 112} {6705985435311720419 19 113} {6633197343607012971 19 114} {2121018587707995069 19 115} {2101395100312109688 19 116} {5788855499946232849 19 117} {5788855499946232849 21 118}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {1468203067144760295 19 110} {6760668703725956576 19 111} {5963905247158589394 19 112} {6705985435311720419 19 113} {6633197343607012971 19 114} {2121018587707995069 19 115} {2101395100312109688 19 116} {5788855499946232849 19 117} {5788855499946232849 21 118}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 22460 term 21 leader 2 nextIndex[0]: 119  matchIndex[0]: 118
term 21 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
flag 10716 term 21 leader 2 nextIndex[1]: 119  matchIndex[1]: 118
term 21 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
flag 71206 term 21 leader 2 nextIndex[0]: 119  matchIndex[0]: 118
term 21 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
flag 57952 term 21 leader 2 nextIndex[1]: 119  matchIndex[1]: 118
term 21 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
flag 17101 term 21 leader 2 nextIndex[0]: 119  matchIndex[0]: 118
term 21 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
flag 64874 term 21 leader 2 nextIndex[1]: 119  matchIndex[1]: 118
term 21 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
flag 20732 term 21 leader 2 nextIndex[0]: 119  matchIndex[0]: 118
term 21 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
flag 23039 term 21 leader 2 nextIndex[1]: 119  matchIndex[1]: 118
term 21 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
term 22 server 0 vote for server 1
term 22 server 1 get vote from server 0
term 22 server 1 become leader
------------------------------------------------------
flag 80641 term 22 leader 1 nextIndex[0]: 119  matchIndex[0]: 0
term 22 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
flag 40908 term 22 leader 1 nextIndex[2]: 119  matchIndex[2]: 0
term 22 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 19 109} {1468203067144760295 19 110} {6760668703725956576 19 111} {5963905247158589394 19 112} {6705985435311720419 19 113} {6633197343607012971 19 114} {2121018587707995069 19 115} {2101395100312109688 19 116} {5788855499946232849 19 117} {5788855499946232849 21 118}]
------------------------------------------------------
client write log 8055745062460190423 (index 119) to leader 1
flag 28125 term 21 leader 2 nextIndex[0]: 119  matchIndex[0]: 118
term 21 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
flag 65561 term 21 leader 2 nextIndex[1]: 119  matchIndex[1]: 118
term 21 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
flag 51524 term 22 leader 1 nextIndex[0]: 119  matchIndex[0]: 118
term 22 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
flag 54748 term 22 leader 1 nextIndex[2]: 119  matchIndex[2]: 0
term 22 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=119
leader log:
[{snapshot 19 109} {1468203067144760295 19 110} {6760668703725956576 19 111} {5963905247158589394 19 112} {6705985435311720419 19 113} {6633197343607012971 19 114} {2121018587707995069 19 115} {2101395100312109688 19 116} {5788855499946232849 19 117} {5788855499946232849 21 118} {8055745062460190423 22 119}]
------------------------------------------------------
term 22 Server1 start snapshot! index=119
term 22 server1 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=119
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31134 term 21 leader 2 nextIndex[0]: 119  matchIndex[0]: 118
term 21 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
flag 91586 term 21 leader 2 nextIndex[1]: 119  matchIndex[1]: 118
term 21 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
flag 80971 term 22 leader 1 nextIndex[0]: 120  matchIndex[0]: 119
term 22 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 22 leaderCommit: 119 
------------------------------------------------------
term 22 leader 1 nextIndex[2]: 119  matchIndex[2]: 0
term 22 leader 1 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 22
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=119
leader log:
[{snapshot 22 119}]
------------------------------------------------------
term 22 Server0 start snapshot! index=119
term 22 server0 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=119
-------------------------------------------------------------
term 21 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
client write log 3293470705432366263 (index 120) to leader 1
flag 66778 term 21 leader 2 nextIndex[0]: 119  matchIndex[0]: 118
term 21 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
flag 56431 term 21 leader 2 nextIndex[1]: 119  matchIndex[1]: 118
term 21 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
flag 45400 term 22 leader 1 nextIndex[0]: 120  matchIndex[0]: 119
term 22 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 22 leaderCommit: 119 
------------------------------------------------------
term 22 leader 1 nextIndex[2]: 119  matchIndex[2]: 0
term 22 leader 1 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 22
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=120
leader log:
[{snapshot 22 119} {3293470705432366263 22 120}]
------------------------------------------------------
flag 43894 term 21 leader 2 nextIndex[0]: 119  matchIndex[0]: 118
term 21 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
flag 29249 term 21 leader 2 nextIndex[1]: 119  matchIndex[1]: 118
term 21 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 119->118
------------------------------------------------------
flag 38167 term 22 leader 1 nextIndex[0]: 121  matchIndex[0]: 120
term 22 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 22 leaderCommit: 120 
------------------------------------------------------
term 22 leader 1 nextIndex[2]: 119  matchIndex[2]: 0
term 22 leader 1 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 22
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=120
leader log:
[{snapshot 22 119} {3293470705432366263 22 120}]
------------------------------------------------------
!!!!!!connect server 2
client write log 2265530338119426897 (index 121) to leader 1
flag 1374 term 21 leader 2 nextIndex[0]: 119  matchIndex[0]: 118
term 21 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
term 21 leader 2 nextIndex[1]: 0  matchIndex[1]: 118
term 21 leader 2 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 19
------------------------------------------------------
term 22 server 0 AppendEntries false 领导者任期过期 args.Term 21
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false 任期过期
------------------------------------------------------
term 22 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 22 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 81836 term 22 leader 1 nextIndex[0]: 121  matchIndex[0]: 120
term 22 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 22 leaderCommit: 120 
------------------------------------------------------
term 22 leader 1 nextIndex[2]: 119  matchIndex[2]: 0
term 22 leader 1 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 22
------------------------------------------------------
term 22 server 2 InstallSnapshot success
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:120 
------------------------------------------------------
term 22 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 120 matchIndex[2] 119 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=122
update matchIndex[0]=121
update leader CommitIndex=121
leader log:
[{snapshot 22 119} {3293470705432366263 22 120} {2265530338119426897 22 121}]
------------------------------------------------------
rf.lastIncludedIndex 119 rf.lastIncludedTerm 22 rf.commitIndex 119 rf.lastApplied 119
flag 75781 term 22 leader 1 nextIndex[0]: 122  matchIndex[0]: 121
term 22 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 22 leaderCommit: 121 
------------------------------------------------------
flag 57436 term 22 leader 1 nextIndex[2]: 120  matchIndex[2]: 119
term 22 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 22 leaderCommit: 121 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=122
update matchIndex[0]=121
update leader CommitIndex=121
leader log:
[{snapshot 22 119} {3293470705432366263 22 120} {2265530338119426897 22 121}]
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=121
leader log:
[{snapshot 22 119} {3293470705432366263 22 120} {2265530338119426897 22 121}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30332 term 22 leader 1 nextIndex[0]: 122  matchIndex[0]: 121
term 22 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 22 leaderCommit: 121 
------------------------------------------------------
flag 43413 term 22 leader 1 nextIndex[2]: 122  matchIndex[2]: 121
term 22 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 22 leaderCommit: 121 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=121
leader log:
[{snapshot 22 119} {3293470705432366263 22 120} {2265530338119426897 22 121}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=122
update matchIndex[0]=121
update leader CommitIndex=121
leader log:
[{snapshot 22 119} {3293470705432366263 22 120} {2265530338119426897 22 121}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60749 term 22 leader 1 nextIndex[0]: 122  matchIndex[0]: 121
term 22 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 22 leaderCommit: 121 
------------------------------------------------------
flag 82706 term 22 leader 1 nextIndex[2]: 122  matchIndex[2]: 121
term 22 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 22 leaderCommit: 121 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=121
leader log:
[{snapshot 22 119} {3293470705432366263 22 120} {2265530338119426897 22 121}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=122
update matchIndex[0]=121
update leader CommitIndex=121
leader log:
[{snapshot 22 119} {3293470705432366263 22 120} {2265530338119426897 22 121}]
------------------------------------------------------
flag 64076 term 22 leader 1 nextIndex[0]: 122  matchIndex[0]: 121
term 22 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 22 leaderCommit: 121 
------------------------------------------------------
flag 83123 term 22 leader 1 nextIndex[2]: 122  matchIndex[2]: 121
term 22 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 22 leaderCommit: 121 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=121
leader log:
[{snapshot 22 119} {3293470705432366263 22 120} {2265530338119426897 22 121}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=122
update matchIndex[0]=121
update leader CommitIndex=121
leader log:
[{snapshot 22 119} {3293470705432366263 22 120} {2265530338119426897 22 121}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78092 term 22 leader 1 nextIndex[0]: 122  matchIndex[0]: 121
term 22 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 22 leaderCommit: 121 
------------------------------------------------------
flag 34768 term 22 leader 1 nextIndex[2]: 122  matchIndex[2]: 121
term 22 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 22 leaderCommit: 121 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=121
leader log:
[{snapshot 22 119} {3293470705432366263 22 120} {2265530338119426897 22 121}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=122
update matchIndex[0]=121
update leader CommitIndex=121
leader log:
[{snapshot 22 119} {3293470705432366263 22 120} {2265530338119426897 22 121}]
------------------------------------------------------
flag 53085 term 22 leader 1 nextIndex[0]: 122  matchIndex[0]: 121
term 22 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 22 leaderCommit: 121 
------------------------------------------------------
flag 58471 term 22 leader 1 nextIndex[2]: 122  matchIndex[2]: 121
term 22 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 22 leaderCommit: 121 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=121
leader log:
[{snapshot 22 119} {3293470705432366263 22 120} {2265530338119426897 22 121}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=122
update matchIndex[0]=121
update leader CommitIndex=121
leader log:
[{snapshot 22 119} {3293470705432366263 22 120} {2265530338119426897 22 121}]
------------------------------------------------------
term 22 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 120 matchIndex[2] 119 
------------------------------------------------------------------------
flag 74341 term 22 leader 1 nextIndex[0]: 122  matchIndex[0]: 121
term 22 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 22 leaderCommit: 121 
------------------------------------------------------
flag 38822 term 22 leader 1 nextIndex[2]: 120  matchIndex[2]: 119
term 22 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 22 leaderCommit: 121 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=121
leader log:
[{snapshot 22 119} {3293470705432366263 22 120} {2265530338119426897 22 121}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=122
update matchIndex[0]=121
update leader CommitIndex=121
leader log:
[{snapshot 22 119} {3293470705432366263 22 120} {2265530338119426897 22 121}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 3614420398972911054 (index 122) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71861 term 22 leader 1 nextIndex[0]: 122  matchIndex[0]: 121
term 22 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 22 leaderCommit: 121 
------------------------------------------------------
flag 86144 term 22 leader 1 nextIndex[2]: 122  matchIndex[2]: 121
term 22 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 22 leaderCommit: 121 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=123
update matchIndex[0]=122
update leader CommitIndex=122
leader log:
[{snapshot 22 119} {3293470705432366263 22 120} {2265530338119426897 22 121} {3614420398972911054 22 122}]
------------------------------------------------------
flag 70518 term 22 leader 1 nextIndex[0]: 123  matchIndex[0]: 122
term 22 leader 1 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 22 leaderCommit: 122 
------------------------------------------------------
flag 1509 term 22 leader 1 nextIndex[2]: 122  matchIndex[2]: 121
term 22 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 22 leaderCommit: 122 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=123
update matchIndex[0]=122
update leader CommitIndex=122
leader log:
[{snapshot 22 119} {3293470705432366263 22 120} {2265530338119426897 22 121} {3614420398972911054 22 122}]
------------------------------------------------------
client write log 7720462951070379913 (index 123) to leader 1
client write log 5346417755802429661 (index 124) to leader 1
client write log 1474731131252728743 (index 125) to leader 1
client write log 7337563615846497028 (index 126) to leader 1
client write log 6227897203420363653 (index 127) to leader 1
client write log 3283035880827109122 (index 128) to leader 1
client write log 3189035488401660207 (index 129) to leader 1
client write log 3074733719189637030 (index 130) to leader 1
client write log 2034751922098188035 (index 131) to leader 1
flag 94577 term 22 leader 1 nextIndex[0]: 123  matchIndex[0]: 122
term 22 leader 1 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 22 leaderCommit: 122 
------------------------------------------------------
flag 63765 term 22 leader 1 nextIndex[2]: 122  matchIndex[2]: 121
term 22 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 22 leaderCommit: 122 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=132
update matchIndex[0]=131
update leader CommitIndex=131
leader log:
[{snapshot 22 119} {3293470705432366263 22 120} {2265530338119426897 22 121} {3614420398972911054 22 122} {7720462951070379913 22 123} {5346417755802429661 22 124} {1474731131252728743 22 125} {7337563615846497028 22 126} {6227897203420363653 22 127} {3283035880827109122 22 128} {3189035488401660207 22 129} {3074733719189637030 22 130} {2034751922098188035 22 131}]
------------------------------------------------------
term 22 Server1 start snapshot! index=129
term 22 server1 snapshot success
lastIncludedIndex=129 lastApplied=130 lastIndex=131
-------------------------------------------------------------
flag 86723 term 22 leader 1 nextIndex[0]: 132  matchIndex[0]: 131
term 22 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 22 leaderCommit: 131 
------------------------------------------------------
term 22 leader 1 nextIndex[2]: 122  matchIndex[2]: 121
term 22 leader 1 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 22
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=132
update matchIndex[0]=131
update leader CommitIndex=131
leader log:
[{snapshot 22 129} {3074733719189637030 22 130} {2034751922098188035 22 131}]
------------------------------------------------------
term 22 Server0 start snapshot! index=129
term 22 server0 snapshot success
lastIncludedIndex=129 lastApplied=130 lastIndex=131
-------------------------------------------------------------
!!!!!!connect server 2
client write log 8999173742914543305 (index 132) to leader 1
flag 34306 term 22 leader 1 nextIndex[0]: 132  matchIndex[0]: 131
term 22 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 22 leaderCommit: 131 
------------------------------------------------------
term 22 leader 1 nextIndex[2]: 122  matchIndex[2]: 121
term 22 leader 1 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 22
------------------------------------------------------
term 23 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
term 22 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 24 server 2 vote for server 1
term 24 server 0 vote for server 1
term 24 server 1 get vote from server 2
term 24 server 1 become leader
------------------------------------------------------
term 24 server 1 get outdate rpc reply from server 0
flag 19775 term 24 leader 1 nextIndex[0]: 133  matchIndex[0]: 0
term 24 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 22 leaderCommit: 131 
------------------------------------------------------
flag 21710 term 24 leader 1 nextIndex[2]: 133  matchIndex[2]: 0
term 24 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 22 leaderCommit: 131 
------------------------------------------------------
term 24 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:131 
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 133->132
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=131
leader log:
[{snapshot 22 129} {3074733719189637030 22 130} {2034751922098188035 22 131} {8999173742914543305 22 132}]
------------------------------------------------------
flag 58867 term 24 leader 1 nextIndex[0]: 133  matchIndex[0]: 132
term 24 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 22 leaderCommit: 131 
------------------------------------------------------
term 24 leader 1 nextIndex[2]: 122  matchIndex[2]: 0
term 24 leader 1 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 22
------------------------------------------------------
term 24 server 2 InstallSnapshot success
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
term 24 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 130 matchIndex[2] 129 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=131
leader log:
[{snapshot 22 129} {3074733719189637030 22 130} {2034751922098188035 22 131} {8999173742914543305 22 132}]
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 129 rf.lastIncludedTerm 22 rf.commitIndex 129 rf.lastApplied 129
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61655 term 24 leader 1 nextIndex[0]: 133  matchIndex[0]: 132
term 24 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 22 leaderCommit: 131 
------------------------------------------------------
flag 74096 term 24 leader 1 nextIndex[2]: 130  matchIndex[2]: 129
term 24 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 22 leaderCommit: 131 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=131
leader log:
[{snapshot 22 129} {3074733719189637030 22 130} {2034751922098188035 22 131} {8999173742914543305 22 132}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=131
leader log:
[{snapshot 22 129} {3074733719189637030 22 130} {2034751922098188035 22 131} {8999173742914543305 22 132}]
------------------------------------------------------
flag 97935 term 24 leader 1 nextIndex[0]: 133  matchIndex[0]: 132
term 24 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 22 leaderCommit: 131 
------------------------------------------------------
flag 74870 term 24 leader 1 nextIndex[2]: 133  matchIndex[2]: 132
term 24 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 22 leaderCommit: 131 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=131
leader log:
[{snapshot 22 129} {3074733719189637030 22 130} {2034751922098188035 22 131} {8999173742914543305 22 132}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=131
leader log:
[{snapshot 22 129} {3074733719189637030 22 130} {2034751922098188035 22 131} {8999173742914543305 22 132}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43110 term 24 leader 1 nextIndex[0]: 133  matchIndex[0]: 132
term 24 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 22 leaderCommit: 131 
------------------------------------------------------
flag 53516 term 24 leader 1 nextIndex[2]: 133  matchIndex[2]: 132
term 24 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 22 leaderCommit: 131 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=131
leader log:
[{snapshot 22 129} {3074733719189637030 22 130} {2034751922098188035 22 131} {8999173742914543305 22 132}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=131
leader log:
[{snapshot 22 129} {3074733719189637030 22 130} {2034751922098188035 22 131} {8999173742914543305 22 132}]
------------------------------------------------------
flag 75554 term 24 leader 1 nextIndex[0]: 133  matchIndex[0]: 132
term 24 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 22 leaderCommit: 131 
------------------------------------------------------
flag 7939 term 24 leader 1 nextIndex[2]: 133  matchIndex[2]: 132
term 24 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 22 leaderCommit: 131 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=131
leader log:
[{snapshot 22 129} {3074733719189637030 22 130} {2034751922098188035 22 131} {8999173742914543305 22 132}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=131
leader log:
[{snapshot 22 129} {3074733719189637030 22 130} {2034751922098188035 22 131} {8999173742914543305 22 132}]
------------------------------------------------------
flag 76625 term 24 leader 1 nextIndex[0]: 133  matchIndex[0]: 132
term 24 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 22 leaderCommit: 131 
------------------------------------------------------
flag 25550 term 24 leader 1 nextIndex[2]: 133  matchIndex[2]: 132
term 24 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 22 leaderCommit: 131 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=131
leader log:
[{snapshot 22 129} {3074733719189637030 22 130} {2034751922098188035 22 131} {8999173742914543305 22 132}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=131
leader log:
[{snapshot 22 129} {3074733719189637030 22 130} {2034751922098188035 22 131} {8999173742914543305 22 132}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79641 term 24 leader 1 nextIndex[0]: 133  matchIndex[0]: 132
term 24 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 22 leaderCommit: 131 
------------------------------------------------------
flag 18773 term 24 leader 1 nextIndex[2]: 133  matchIndex[2]: 132
term 24 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 22 leaderCommit: 131 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=131
leader log:
[{snapshot 22 129} {3074733719189637030 22 130} {2034751922098188035 22 131} {8999173742914543305 22 132}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=131
leader log:
[{snapshot 22 129} {3074733719189637030 22 130} {2034751922098188035 22 131} {8999173742914543305 22 132}]
------------------------------------------------------
flag 20373 term 24 leader 1 nextIndex[0]: 133  matchIndex[0]: 132
term 24 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 22 leaderCommit: 131 
------------------------------------------------------
flag 31148 term 24 leader 1 nextIndex[2]: 133  matchIndex[2]: 132
term 24 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 22 leaderCommit: 131 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=131
leader log:
[{snapshot 22 129} {3074733719189637030 22 130} {2034751922098188035 22 131} {8999173742914543305 22 132}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=131
leader log:
[{snapshot 22 129} {3074733719189637030 22 130} {2034751922098188035 22 131} {8999173742914543305 22 132}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43205 term 24 leader 1 nextIndex[0]: 133  matchIndex[0]: 132
term 24 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 22 leaderCommit: 131 
------------------------------------------------------
flag 21388 term 24 leader 1 nextIndex[2]: 133  matchIndex[2]: 132
term 24 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 22 leaderCommit: 131 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=131
leader log:
[{snapshot 22 129} {3074733719189637030 22 130} {2034751922098188035 22 131} {8999173742914543305 22 132}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=131
leader log:
[{snapshot 22 129} {3074733719189637030 22 130} {2034751922098188035 22 131} {8999173742914543305 22 132}]
------------------------------------------------------
flag 50247 term 24 leader 1 nextIndex[0]: 133  matchIndex[0]: 132
term 24 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 22 leaderCommit: 131 
------------------------------------------------------
flag 58469 term 24 leader 1 nextIndex[2]: 133  matchIndex[2]: 132
term 24 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 22 leaderCommit: 131 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=131
leader log:
[{snapshot 22 129} {3074733719189637030 22 130} {2034751922098188035 22 131} {8999173742914543305 22 132}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=131
leader log:
[{snapshot 22 129} {3074733719189637030 22 130} {2034751922098188035 22 131} {8999173742914543305 22 132}]
------------------------------------------------------
flag 35705 term 24 leader 1 nextIndex[0]: 133  matchIndex[0]: 132
term 24 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 22 leaderCommit: 131 
------------------------------------------------------
flag 92388 term 24 leader 1 nextIndex[2]: 133  matchIndex[2]: 132
term 24 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 22 leaderCommit: 131 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=131
leader log:
[{snapshot 22 129} {3074733719189637030 22 130} {2034751922098188035 22 131} {8999173742914543305 22 132}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=131
leader log:
[{snapshot 22 129} {3074733719189637030 22 130} {2034751922098188035 22 131} {8999173742914543305 22 132}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78092 term 24 leader 1 nextIndex[0]: 133  matchIndex[0]: 132
term 24 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 22 leaderCommit: 131 
------------------------------------------------------
flag 42161 term 24 leader 1 nextIndex[2]: 133  matchIndex[2]: 132
term 24 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 22 leaderCommit: 131 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=131
leader log:
[{snapshot 22 129} {3074733719189637030 22 130} {2034751922098188035 22 131} {8999173742914543305 22 132}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=131
leader log:
[{snapshot 22 129} {3074733719189637030 22 130} {2034751922098188035 22 131} {8999173742914543305 22 132}]
------------------------------------------------------
flag 73901 term 24 leader 1 nextIndex[0]: 133  matchIndex[0]: 132
term 24 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 22 leaderCommit: 131 
------------------------------------------------------
flag 8597 term 24 leader 1 nextIndex[2]: 133  matchIndex[2]: 132
term 24 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 22 leaderCommit: 131 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=131
leader log:
[{snapshot 22 129} {3074733719189637030 22 130} {2034751922098188035 22 131} {8999173742914543305 22 132}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=131
leader log:
[{snapshot 22 129} {3074733719189637030 22 130} {2034751922098188035 22 131} {8999173742914543305 22 132}]
------------------------------------------------------
term 24 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 30988 term 24 leader 1 nextIndex[0]: 133  matchIndex[0]: 132
term 24 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 22 leaderCommit: 131 
------------------------------------------------------
flag 14371 term 24 leader 1 nextIndex[2]: 133  matchIndex[2]: 132
term 24 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 22 leaderCommit: 131 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=131
leader log:
[{snapshot 22 129} {3074733719189637030 22 130} {2034751922098188035 22 131} {8999173742914543305 22 132}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=131
leader log:
[{snapshot 22 129} {3074733719189637030 22 130} {2034751922098188035 22 131} {8999173742914543305 22 132}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80442 term 24 leader 1 nextIndex[0]: 133  matchIndex[0]: 132
term 24 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 22 leaderCommit: 131 
------------------------------------------------------
flag 60177 term 24 leader 1 nextIndex[2]: 133  matchIndex[2]: 132
term 24 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 22 leaderCommit: 131 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=131
leader log:
[{snapshot 22 129} {3074733719189637030 22 130} {2034751922098188035 22 131} {8999173742914543305 22 132}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=131
leader log:
[{snapshot 22 129} {3074733719189637030 22 130} {2034751922098188035 22 131} {8999173742914543305 22 132}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48475 term 24 leader 1 nextIndex[0]: 133  matchIndex[0]: 132
term 24 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 22 leaderCommit: 131 
------------------------------------------------------
flag 64628 term 24 leader 1 nextIndex[2]: 133  matchIndex[2]: 132
term 24 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 22 leaderCommit: 131 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=131
leader log:
[{snapshot 22 129} {3074733719189637030 22 130} {2034751922098188035 22 131} {8999173742914543305 22 132}]
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=131
leader log:
[{snapshot 22 129} {3074733719189637030 22 130} {2034751922098188035 22 131} {8999173742914543305 22 132}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20549 term 24 leader 1 nextIndex[0]: 133  matchIndex[0]: 132
term 24 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 22 leaderCommit: 131 
------------------------------------------------------
flag 99531 term 24 leader 1 nextIndex[2]: 133  matchIndex[2]: 132
term 24 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 22 leaderCommit: 131 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=131
leader log:
[{snapshot 22 129} {3074733719189637030 22 130} {2034751922098188035 22 131} {8999173742914543305 22 132}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=131
leader log:
[{snapshot 22 129} {3074733719189637030 22 130} {2034751922098188035 22 131} {8999173742914543305 22 132}]
------------------------------------------------------
term 24 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
client write log 8999173742914543305 (index 133) to leader 1
term 24 server 0 not vote for server 2, 任期不够新
term 24 server 2 get outdate rpc reply from server 0
flag 24964 term 24 leader 1 nextIndex[0]: 133  matchIndex[0]: 132
term 24 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 22 leaderCommit: 131 
------------------------------------------------------
flag 53239 term 24 leader 1 nextIndex[2]: 133  matchIndex[2]: 132
term 24 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 22 leaderCommit: 131 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=133
leader log:
[{snapshot 22 129} {3074733719189637030 22 130} {2034751922098188035 22 131} {8999173742914543305 22 132} {8999173742914543305 24 133}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=133
leader log:
[{snapshot 22 129} {3074733719189637030 22 130} {2034751922098188035 22 131} {8999173742914543305 22 132} {8999173742914543305 24 133}]
------------------------------------------------------
flag 10526 term 24 leader 1 nextIndex[0]: 134  matchIndex[0]: 133
term 24 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 24 leaderCommit: 133 
------------------------------------------------------
flag 87482 term 24 leader 1 nextIndex[2]: 134  matchIndex[2]: 133
term 24 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 24 leaderCommit: 133 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=133
leader log:
[{snapshot 22 129} {3074733719189637030 22 130} {2034751922098188035 22 131} {8999173742914543305 22 132} {8999173742914543305 24 133}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=133
leader log:
[{snapshot 22 129} {3074733719189637030 22 130} {2034751922098188035 22 131} {8999173742914543305 22 132} {8999173742914543305 24 133}]
------------------------------------------------------
flag 88784 term 24 leader 1 nextIndex[0]: 134  matchIndex[0]: 133
term 24 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 24 leaderCommit: 133 
------------------------------------------------------
flag 16149 term 24 leader 1 nextIndex[2]: 134  matchIndex[2]: 133
term 24 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 24 leaderCommit: 133 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=133
leader log:
[{snapshot 22 129} {3074733719189637030 22 130} {2034751922098188035 22 131} {8999173742914543305 22 132} {8999173742914543305 24 133}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=133
leader log:
[{snapshot 22 129} {3074733719189637030 22 130} {2034751922098188035 22 131} {8999173742914543305 22 132} {8999173742914543305 24 133}]
------------------------------------------------------
term 24 server 1 not vote for server 2, 任期不够新
term 24 server 2 get outdate rpc reply from server 1
flag 37687 term 24 leader 1 nextIndex[0]: 134  matchIndex[0]: 133
term 24 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 24 leaderCommit: 133 
------------------------------------------------------
flag 40649 term 24 leader 1 nextIndex[2]: 134  matchIndex[2]: 133
term 24 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 24 leaderCommit: 133 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=133
leader log:
[{snapshot 22 129} {3074733719189637030 22 130} {2034751922098188035 22 131} {8999173742914543305 22 132} {8999173742914543305 24 133}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=133
leader log:
[{snapshot 22 129} {3074733719189637030 22 130} {2034751922098188035 22 131} {8999173742914543305 22 132} {8999173742914543305 24 133}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 24 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 65740 term 24 leader 1 nextIndex[0]: 134  matchIndex[0]: 133
term 24 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 24 leaderCommit: 133 
------------------------------------------------------
flag 32119 term 24 leader 1 nextIndex[2]: 134  matchIndex[2]: 133
term 24 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 24 leaderCommit: 133 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=133
leader log:
[{snapshot 22 129} {3074733719189637030 22 130} {2034751922098188035 22 131} {8999173742914543305 22 132} {8999173742914543305 24 133}]
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=133
leader log:
[{snapshot 22 129} {3074733719189637030 22 130} {2034751922098188035 22 131} {8999173742914543305 22 132} {8999173742914543305 24 133}]
------------------------------------------------------
flag 14346 term 24 leader 1 nextIndex[0]: 134  matchIndex[0]: 133
term 24 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 24 leaderCommit: 133 
------------------------------------------------------
flag 33052 term 24 leader 1 nextIndex[2]: 134  matchIndex[2]: 133
term 24 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 24 leaderCommit: 133 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=133
leader log:
[{snapshot 22 129} {3074733719189637030 22 130} {2034751922098188035 22 131} {8999173742914543305 22 132} {8999173742914543305 24 133}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=133
leader log:
[{snapshot 22 129} {3074733719189637030 22 130} {2034751922098188035 22 131} {8999173742914543305 22 132} {8999173742914543305 24 133}]
------------------------------------------------------
flag 42542 term 24 leader 1 nextIndex[0]: 134  matchIndex[0]: 133
term 24 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 24 leaderCommit: 133 
------------------------------------------------------
flag 36850 term 24 leader 1 nextIndex[2]: 134  matchIndex[2]: 133
term 24 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 24 leaderCommit: 133 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=133
leader log:
[{snapshot 22 129} {3074733719189637030 22 130} {2034751922098188035 22 131} {8999173742914543305 22 132} {8999173742914543305 24 133}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=133
leader log:
[{snapshot 22 129} {3074733719189637030 22 130} {2034751922098188035 22 131} {8999173742914543305 22 132} {8999173742914543305 24 133}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 1950331641647235088 (index 134) to leader 1
flag 70283 term 24 leader 1 nextIndex[0]: 134  matchIndex[0]: 133
term 24 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 24 leaderCommit: 133 
------------------------------------------------------
flag 71269 term 24 leader 1 nextIndex[2]: 134  matchIndex[2]: 133
term 24 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 24 leaderCommit: 133 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=134
leader log:
[{snapshot 22 129} {3074733719189637030 22 130} {2034751922098188035 22 131} {8999173742914543305 22 132} {8999173742914543305 24 133} {1950331641647235088 24 134}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3823 term 24 leader 1 nextIndex[0]: 135  matchIndex[0]: 134
term 24 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 24 leaderCommit: 134 
------------------------------------------------------
flag 89971 term 24 leader 1 nextIndex[2]: 134  matchIndex[2]: 133
term 24 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 24 leaderCommit: 134 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=134
leader log:
[{snapshot 22 129} {3074733719189637030 22 130} {2034751922098188035 22 131} {8999173742914543305 22 132} {8999173742914543305 24 133} {1950331641647235088 24 134}]
------------------------------------------------------
client write log 3423942126112160680 (index 135) to leader 1
client write log 1820065242579483327 (index 136) to leader 1
client write log 4919254256614168088 (index 137) to leader 1
client write log 4746884963501942863 (index 138) to leader 1
client write log 8036501021863897961 (index 139) to leader 1
client write log 3916979172715100646 (index 140) to leader 1
flag 69604 term 24 leader 1 nextIndex[0]: 135  matchIndex[0]: 134
term 24 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 24 leaderCommit: 134 
------------------------------------------------------
flag 77586 term 24 leader 1 nextIndex[2]: 134  matchIndex[2]: 133
term 24 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 24 leaderCommit: 134 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=140
leader log:
[{snapshot 22 129} {3074733719189637030 22 130} {2034751922098188035 22 131} {8999173742914543305 22 132} {8999173742914543305 24 133} {1950331641647235088 24 134} {3423942126112160680 24 135} {1820065242579483327 24 136} {4919254256614168088 24 137} {4746884963501942863 24 138} {8036501021863897961 24 139} {3916979172715100646 24 140}]
------------------------------------------------------
term 24 Server1 start snapshot! index=139
term 24 server1 snapshot success
lastIncludedIndex=139 lastApplied=140 lastIndex=140
-------------------------------------------------------------
flag 61153 term 24 leader 1 nextIndex[0]: 141  matchIndex[0]: 140
term 24 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 24 leaderCommit: 140 
------------------------------------------------------
term 24 leader 1 nextIndex[2]: 134  matchIndex[2]: 133
term 24 leader 1 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 24
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=140
leader log:
[{snapshot 24 139} {3916979172715100646 24 140}]
------------------------------------------------------
term 24 Server0 start snapshot! index=139
term 24 server0 snapshot success
lastIncludedIndex=139 lastApplied=140 lastIndex=140
-------------------------------------------------------------
!!!!!!connect server 2
client write log 4480438926319865856 (index 141) to leader 1
flag 60315 term 24 leader 1 nextIndex[0]: 141  matchIndex[0]: 140
term 24 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 24 leaderCommit: 140 
------------------------------------------------------
term 24 leader 1 nextIndex[2]: 134  matchIndex[2]: 133
term 24 leader 1 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 24
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=141
leader log:
[{snapshot 24 139} {3916979172715100646 24 140} {4480438926319865856 24 141}]
------------------------------------------------------
term 25 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 24 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 26 server 2 vote for server 1
term 26 server 1 get vote from server 2
term 26 server 1 become leader
------------------------------------------------------
term 26 server 0 vote for server 1
term 26 server 1 get outdate rpc reply from server 0
flag 80521 term 26 leader 1 nextIndex[0]: 142  matchIndex[0]: 0
term 26 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
flag 53824 term 26 leader 1 nextIndex[2]: 142  matchIndex[2]: 0
term 26 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
term 26 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 142->141
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=141
leader log:
[{snapshot 24 139} {3916979172715100646 24 140} {4480438926319865856 24 141}]
------------------------------------------------------
flag 62108 term 26 leader 1 nextIndex[0]: 142  matchIndex[0]: 141
term 26 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
term 26 leader 1 nextIndex[2]: 134  matchIndex[2]: 0
term 26 leader 1 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 24
------------------------------------------------------
term 26 server 2 InstallSnapshot success
------------------------------------------------------
term 26 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 140 matchIndex[2] 139 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 139 rf.lastIncludedTerm 24 rf.commitIndex 139 rf.lastApplied 139
term 26 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=141
leader log:
[{snapshot 24 139} {3916979172715100646 24 140} {4480438926319865856 24 141}]
------------------------------------------------------
flag 30063 term 26 leader 1 nextIndex[0]: 142  matchIndex[0]: 141
term 26 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
flag 98509 term 26 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 26 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 24 139} {3916979172715100646 24 140} {4480438926319865856 24 141}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=141
leader log:
[{snapshot 24 139} {3916979172715100646 24 140} {4480438926319865856 24 141}]
------------------------------------------------------
flag 9288 term 26 leader 1 nextIndex[0]: 142  matchIndex[0]: 141
term 26 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
flag 40860 term 26 leader 1 nextIndex[2]: 142  matchIndex[2]: 141
term 26 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=141
leader log:
[{snapshot 24 139} {3916979172715100646 24 140} {4480438926319865856 24 141}]
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 24 139} {3916979172715100646 24 140} {4480438926319865856 24 141}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53634 term 26 leader 1 nextIndex[0]: 142  matchIndex[0]: 141
term 26 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
flag 66367 term 26 leader 1 nextIndex[2]: 142  matchIndex[2]: 141
term 26 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 24 139} {3916979172715100646 24 140} {4480438926319865856 24 141}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=141
leader log:
[{snapshot 24 139} {3916979172715100646 24 140} {4480438926319865856 24 141}]
------------------------------------------------------
flag 77839 term 26 leader 1 nextIndex[0]: 142  matchIndex[0]: 141
term 26 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
flag 18890 term 26 leader 1 nextIndex[2]: 142  matchIndex[2]: 141
term 26 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 24 139} {3916979172715100646 24 140} {4480438926319865856 24 141}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=141
leader log:
[{snapshot 24 139} {3916979172715100646 24 140} {4480438926319865856 24 141}]
------------------------------------------------------
flag 2094 term 26 leader 1 nextIndex[0]: 142  matchIndex[0]: 141
term 26 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
flag 9847 term 26 leader 1 nextIndex[2]: 142  matchIndex[2]: 141
term 26 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=141
leader log:
[{snapshot 24 139} {3916979172715100646 24 140} {4480438926319865856 24 141}]
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 24 139} {3916979172715100646 24 140} {4480438926319865856 24 141}]
------------------------------------------------------
flag 62384 term 26 leader 1 nextIndex[0]: 142  matchIndex[0]: 141
term 26 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
flag 66205 term 26 leader 1 nextIndex[2]: 142  matchIndex[2]: 141
term 26 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 24 139} {3916979172715100646 24 140} {4480438926319865856 24 141}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=141
leader log:
[{snapshot 24 139} {3916979172715100646 24 140} {4480438926319865856 24 141}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15144 term 26 leader 1 nextIndex[0]: 142  matchIndex[0]: 141
term 26 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
flag 15843 term 26 leader 1 nextIndex[2]: 142  matchIndex[2]: 141
term 26 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 24 139} {3916979172715100646 24 140} {4480438926319865856 24 141}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=141
leader log:
[{snapshot 24 139} {3916979172715100646 24 140} {4480438926319865856 24 141}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 56249 term 26 leader 1 nextIndex[0]: 142  matchIndex[0]: 141
term 26 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
flag 53195 term 26 leader 1 nextIndex[2]: 142  matchIndex[2]: 141
term 26 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
flag 62620 term 26 leader 1 nextIndex[0]: 142  matchIndex[0]: 141
term 26 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
flag 18305 term 26 leader 1 nextIndex[2]: 142  matchIndex[2]: 141
term 26 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 142->141
------------------------------------------------------
flag 12638 term 26 leader 1 nextIndex[0]: 142  matchIndex[0]: 141
term 26 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
term 26 leader 1 nextIndex[2]: 0  matchIndex[2]: 141
term 26 leader 1 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 24
------------------------------------------------------
term 27 server 2 vote for server 0
term 27 server 0 get vote from server 2
term 27 server 0 become leader
------------------------------------------------------
flag 32076 term 27 leader 0 nextIndex[1]: 142  matchIndex[1]: 0
term 27 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
flag 86704 term 27 leader 0 nextIndex[2]: 142  matchIndex[2]: 0
term 27 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 24 139} {3916979172715100646 24 140} {4480438926319865856 24 141}]
------------------------------------------------------
flag 3547 term 26 leader 1 nextIndex[0]: 142  matchIndex[0]: 141
term 26 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
term 26 leader 1 nextIndex[2]: 0  matchIndex[2]: 141
term 26 leader 1 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 24
------------------------------------------------------
client write log 4663034989047351651 (index 142) to leader 0
flag 83163 term 27 leader 0 nextIndex[1]: 142  matchIndex[1]: 0
term 27 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
flag 35409 term 27 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 27 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=142
leader log:
[{snapshot 24 139} {3916979172715100646 24 140} {4480438926319865856 24 141} {4663034989047351651 27 142}]
------------------------------------------------------
flag 83206 term 26 leader 1 nextIndex[0]: 142  matchIndex[0]: 141
term 26 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
term 26 leader 1 nextIndex[2]: 0  matchIndex[2]: 141
term 26 leader 1 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 24
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11134 term 27 leader 0 nextIndex[1]: 142  matchIndex[1]: 0
term 27 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 142 
------------------------------------------------------
flag 10304 term 27 leader 0 nextIndex[2]: 143  matchIndex[2]: 142
term 27 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 27 leaderCommit: 142 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=142
leader log:
[{snapshot 24 139} {3916979172715100646 24 140} {4480438926319865856 24 141} {4663034989047351651 27 142}]
------------------------------------------------------
client write log 3279216442460037982 (index 143) to leader 0
flag 47315 term 26 leader 1 nextIndex[0]: 142  matchIndex[0]: 141
term 26 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
term 26 leader 1 nextIndex[2]: 0  matchIndex[2]: 141
term 26 leader 1 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 24
------------------------------------------------------
flag 52374 term 27 leader 0 nextIndex[1]: 142  matchIndex[1]: 0
term 27 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 142 
------------------------------------------------------
flag 12874 term 27 leader 0 nextIndex[2]: 143  matchIndex[2]: 142
term 27 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 27 leaderCommit: 142 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 24 139} {3916979172715100646 24 140} {4480438926319865856 24 141} {4663034989047351651 27 142} {3279216442460037982 27 143}]
------------------------------------------------------
flag 10061 term 26 leader 1 nextIndex[0]: 142  matchIndex[0]: 141
term 26 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
term 26 leader 1 nextIndex[2]: 0  matchIndex[2]: 141
term 26 leader 1 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 24
------------------------------------------------------
flag 19548 term 27 leader 0 nextIndex[1]: 142  matchIndex[1]: 0
term 27 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 143 
------------------------------------------------------
flag 58419 term 27 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 27 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 27 leaderCommit: 143 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 24 139} {3916979172715100646 24 140} {4480438926319865856 24 141} {4663034989047351651 27 142} {3279216442460037982 27 143}]
------------------------------------------------------
!!!!!!connect server 1
client write log 5537812024688069455 (index 142) to leader 1
flag 59167 term 26 leader 1 nextIndex[0]: 142  matchIndex[0]: 141
term 26 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 141 
------------------------------------------------------
term 26 leader 1 nextIndex[2]: 0  matchIndex[2]: 141
term 26 leader 1 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 24
------------------------------------------------------
term 27 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 27 server 0 AppendEntries false 领导者任期过期 args.Term 26
------------------------------------------------------
term 26 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23171 term 27 leader 0 nextIndex[1]: 142  matchIndex[1]: 0
term 27 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 24 leaderCommit: 143 
------------------------------------------------------
flag 21989 term 27 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 27 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 27 leaderCommit: 143 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 24 139} {3916979172715100646 24 140} {4480438926319865856 24 141} {4663034989047351651 27 142} {3279216442460037982 27 143}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 24 139} {3916979172715100646 24 140} {4480438926319865856 24 141} {4663034989047351651 27 142} {3279216442460037982 27 143}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31528 term 27 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 27 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 27 leaderCommit: 143 
------------------------------------------------------
flag 1023 term 27 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 27 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 27 leaderCommit: 143 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 24 139} {3916979172715100646 24 140} {4480438926319865856 24 141} {4663034989047351651 27 142} {3279216442460037982 27 143}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 24 139} {3916979172715100646 24 140} {4480438926319865856 24 141} {4663034989047351651 27 142} {3279216442460037982 27 143}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35717 term 27 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 27 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 27 leaderCommit: 143 
------------------------------------------------------
flag 96927 term 27 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 27 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 27 leaderCommit: 143 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 24 139} {3916979172715100646 24 140} {4480438926319865856 24 141} {4663034989047351651 27 142} {3279216442460037982 27 143}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 24 139} {3916979172715100646 24 140} {4480438926319865856 24 141} {4663034989047351651 27 142} {3279216442460037982 27 143}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 144->143
------------------------------------------------------
term 27 leader 0 nextIndex[1]: 0  matchIndex[1]: 143
term 27 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 24
------------------------------------------------------
flag 51399 term 27 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 27 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 27 leaderCommit: 143 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 24 139} {3916979172715100646 24 140} {4480438926319865856 24 141} {4663034989047351651 27 142} {3279216442460037982 27 143}]
------------------------------------------------------
term 27 server 1 InstallSnapshot fail
rf.commitIndex 143 args.LastIncludedIndex 139
------------------------------------------------------
term 27 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 140 matchIndex[1] 139 
------------------------------------------------------------------------
term 27 server 1 not vote for server 2, 任期不够新
term 27 server 2 get outdate rpc reply from server 1
term 27 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 21767 term 27 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 27 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 24 leaderCommit: 143 
------------------------------------------------------
flag 7116 term 27 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 27 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 27 leaderCommit: 143 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 24 139} {3916979172715100646 24 140} {4480438926319865856 24 141} {4663034989047351651 27 142} {3279216442460037982 27 143}]
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 24 139} {3916979172715100646 24 140} {4480438926319865856 24 141} {4663034989047351651 27 142} {3279216442460037982 27 143}]
------------------------------------------------------
flag 75229 term 27 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 27 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 27 leaderCommit: 143 
------------------------------------------------------
flag 97845 term 27 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 27 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 27 leaderCommit: 143 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 24 139} {3916979172715100646 24 140} {4480438926319865856 24 141} {4663034989047351651 27 142} {3279216442460037982 27 143}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 24 139} {3916979172715100646 24 140} {4480438926319865856 24 141} {4663034989047351651 27 142} {3279216442460037982 27 143}]
------------------------------------------------------
flag 75106 term 27 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 27 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 27 leaderCommit: 143 
------------------------------------------------------
flag 22388 term 27 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 27 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 27 leaderCommit: 143 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 24 139} {3916979172715100646 24 140} {4480438926319865856 24 141} {4663034989047351651 27 142} {3279216442460037982 27 143}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 24 139} {3916979172715100646 24 140} {4480438926319865856 24 141} {4663034989047351651 27 142} {3279216442460037982 27 143}]
------------------------------------------------------
flag 20265 term 27 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 27 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 27 leaderCommit: 143 
------------------------------------------------------
flag 89007 term 27 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 27 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 27 leaderCommit: 143 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 24 139} {3916979172715100646 24 140} {4480438926319865856 24 141} {4663034989047351651 27 142} {3279216442460037982 27 143}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 24 139} {3916979172715100646 24 140} {4480438926319865856 24 141} {4663034989047351651 27 142} {3279216442460037982 27 143}]
------------------------------------------------------
flag 31857 term 27 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 27 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 27 leaderCommit: 143 
------------------------------------------------------
flag 79843 term 27 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 27 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 27 leaderCommit: 143 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 24 139} {3916979172715100646 24 140} {4480438926319865856 24 141} {4663034989047351651 27 142} {3279216442460037982 27 143}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 24 139} {3916979172715100646 24 140} {4480438926319865856 24 141} {4663034989047351651 27 142} {3279216442460037982 27 143}]
------------------------------------------------------
flag 81369 term 27 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 27 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 27 leaderCommit: 143 
------------------------------------------------------
flag 81814 term 27 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 27 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 27 leaderCommit: 143 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 24 139} {3916979172715100646 24 140} {4480438926319865856 24 141} {4663034989047351651 27 142} {3279216442460037982 27 143}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 24 139} {3916979172715100646 24 140} {4480438926319865856 24 141} {4663034989047351651 27 142} {3279216442460037982 27 143}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 27 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 65450 term 27 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 27 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 27 leaderCommit: 143 
------------------------------------------------------
flag 2764 term 27 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 27 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 27 leaderCommit: 143 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 24 139} {3916979172715100646 24 140} {4480438926319865856 24 141} {4663034989047351651 27 142} {3279216442460037982 27 143}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 24 139} {3916979172715100646 24 140} {4480438926319865856 24 141} {4663034989047351651 27 142} {3279216442460037982 27 143}]
------------------------------------------------------
flag 32876 term 27 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 27 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 27 leaderCommit: 143 
------------------------------------------------------
flag 83449 term 27 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 27 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 27 leaderCommit: 143 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 24 139} {3916979172715100646 24 140} {4480438926319865856 24 141} {4663034989047351651 27 142} {3279216442460037982 27 143}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 24 139} {3916979172715100646 24 140} {4480438926319865856 24 141} {4663034989047351651 27 142} {3279216442460037982 27 143}]
------------------------------------------------------
term 27 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 68373 term 27 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 27 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 27 leaderCommit: 143 
------------------------------------------------------
flag 8184 term 27 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 27 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 27 leaderCommit: 143 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 24 139} {3916979172715100646 24 140} {4480438926319865856 24 141} {4663034989047351651 27 142} {3279216442460037982 27 143}]
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 24 139} {3916979172715100646 24 140} {4480438926319865856 24 141} {4663034989047351651 27 142} {3279216442460037982 27 143}]
------------------------------------------------------
term 27 server 1 not vote for server 0, 日志不够新
term 27 server 0 get outdate rpc reply from server 1
flag 38130 term 27 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 27 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 27 leaderCommit: 143 
------------------------------------------------------
flag 5963 term 27 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 27 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 27 leaderCommit: 143 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 24 139} {3916979172715100646 24 140} {4480438926319865856 24 141} {4663034989047351651 27 142} {3279216442460037982 27 143}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 24 139} {3916979172715100646 24 140} {4480438926319865856 24 141} {4663034989047351651 27 142} {3279216442460037982 27 143}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 144->143
------------------------------------------------------
term 27 leader 0 nextIndex[1]: 0  matchIndex[1]: 143
term 27 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 24
------------------------------------------------------
flag 58214 term 27 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 27 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 27 leaderCommit: 143 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 24 139} {3916979172715100646 24 140} {4480438926319865856 24 141} {4663034989047351651 27 142} {3279216442460037982 27 143}]
------------------------------------------------------
term 27 server 1 InstallSnapshot fail
rf.commitIndex 143 args.LastIncludedIndex 139
------------------------------------------------------
term 27 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 140 matchIndex[1] 139 
------------------------------------------------------------------------
flag 2210 term 27 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 27 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 24 leaderCommit: 143 
------------------------------------------------------
flag 73271 term 27 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 27 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 27 leaderCommit: 143 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 24 139} {3916979172715100646 24 140} {4480438926319865856 24 141} {4663034989047351651 27 142} {3279216442460037982 27 143}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 24 139} {3916979172715100646 24 140} {4480438926319865856 24 141} {4663034989047351651 27 142} {3279216442460037982 27 143}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43207 term 27 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 27 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 27 leaderCommit: 143 
------------------------------------------------------
flag 82202 term 27 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 27 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 27 leaderCommit: 143 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 24 139} {3916979172715100646 24 140} {4480438926319865856 24 141} {4663034989047351651 27 142} {3279216442460037982 27 143}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 24 139} {3916979172715100646 24 140} {4480438926319865856 24 141} {4663034989047351651 27 142} {3279216442460037982 27 143}]
------------------------------------------------------
term 27 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 19719 term 27 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 27 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 27 leaderCommit: 143 
------------------------------------------------------
flag 50977 term 27 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 27 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 27 leaderCommit: 143 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 24 139} {3916979172715100646 24 140} {4480438926319865856 24 141} {4663034989047351651 27 142} {3279216442460037982 27 143}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 24 139} {3916979172715100646 24 140} {4480438926319865856 24 141} {4663034989047351651 27 142} {3279216442460037982 27 143}]
------------------------------------------------------
flag 17061 term 27 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 27 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 27 leaderCommit: 143 
------------------------------------------------------
flag 95810 term 27 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 27 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 27 leaderCommit: 143 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 24 139} {3916979172715100646 24 140} {4480438926319865856 24 141} {4663034989047351651 27 142} {3279216442460037982 27 143}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 24 139} {3916979172715100646 24 140} {4480438926319865856 24 141} {4663034989047351651 27 142} {3279216442460037982 27 143}]
------------------------------------------------------
flag 58803 term 27 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 27 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 27 leaderCommit: 143 
------------------------------------------------------
flag 43526 term 27 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 27 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 27 leaderCommit: 143 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 24 139} {3916979172715100646 24 140} {4480438926319865856 24 141} {4663034989047351651 27 142} {3279216442460037982 27 143}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 24 139} {3916979172715100646 24 140} {4480438926319865856 24 141} {4663034989047351651 27 142} {3279216442460037982 27 143}]
------------------------------------------------------
client write log 5537812024688069455 (index 144) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 144->143
------------------------------------------------------
term 27 leader 0 nextIndex[1]: 0  matchIndex[1]: 143
term 27 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 24
------------------------------------------------------
flag 60177 term 27 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 27 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 27 leaderCommit: 143 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
term 27 server 1 InstallSnapshot fail
rf.commitIndex 143 args.LastIncludedIndex 139
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=144
leader log:
[{snapshot 24 139} {3916979172715100646 24 140} {4480438926319865856 24 141} {4663034989047351651 27 142} {3279216442460037982 27 143} {5537812024688069455 27 144}]
------------------------------------------------------
term 27 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 140 matchIndex[1] 139 
------------------------------------------------------------------------
flag 93046 term 27 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 27 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
flag 76552 term 27 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 27 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 27 leaderCommit: 144 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=144
leader log:
[{snapshot 24 139} {3916979172715100646 24 140} {4480438926319865856 24 141} {4663034989047351651 27 142} {3279216442460037982 27 143} {5537812024688069455 27 144}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 24 139} {3916979172715100646 24 140} {4480438926319865856 24 141} {4663034989047351651 27 142} {3279216442460037982 27 143} {5537812024688069455 27 144}]
------------------------------------------------------
flag 12233 term 27 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 27 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 27 leaderCommit: 144 
------------------------------------------------------
flag 70897 term 27 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 27 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 27 leaderCommit: 144 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=144
leader log:
[{snapshot 24 139} {3916979172715100646 24 140} {4480438926319865856 24 141} {4663034989047351651 27 142} {3279216442460037982 27 143} {5537812024688069455 27 144}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 24 139} {3916979172715100646 24 140} {4480438926319865856 24 141} {4663034989047351651 27 142} {3279216442460037982 27 143} {5537812024688069455 27 144}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35206 term 27 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 27 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 27 leaderCommit: 144 
------------------------------------------------------
flag 79038 term 27 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 27 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 27 leaderCommit: 144 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 24 139} {3916979172715100646 24 140} {4480438926319865856 24 141} {4663034989047351651 27 142} {3279216442460037982 27 143} {5537812024688069455 27 144}]
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=144
leader log:
[{snapshot 24 139} {3916979172715100646 24 140} {4480438926319865856 24 141} {4663034989047351651 27 142} {3279216442460037982 27 143} {5537812024688069455 27 144}]
------------------------------------------------------
flag 2044 term 27 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 27 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 27 leaderCommit: 144 
------------------------------------------------------
flag 33756 term 27 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 27 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 27 leaderCommit: 144 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=144
leader log:
[{snapshot 24 139} {3916979172715100646 24 140} {4480438926319865856 24 141} {4663034989047351651 27 142} {3279216442460037982 27 143} {5537812024688069455 27 144}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 24 139} {3916979172715100646 24 140} {4480438926319865856 24 141} {4663034989047351651 27 142} {3279216442460037982 27 143} {5537812024688069455 27 144}]
------------------------------------------------------
flag 57219 term 27 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 27 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 27 leaderCommit: 144 
------------------------------------------------------
flag 28380 term 27 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 27 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 27 leaderCommit: 144 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=144
leader log:
[{snapshot 24 139} {3916979172715100646 24 140} {4480438926319865856 24 141} {4663034989047351651 27 142} {3279216442460037982 27 143} {5537812024688069455 27 144}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 24 139} {3916979172715100646 24 140} {4480438926319865856 24 141} {4663034989047351651 27 142} {3279216442460037982 27 143} {5537812024688069455 27 144}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5699 term 27 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 27 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 27 leaderCommit: 144 
------------------------------------------------------
flag 47555 term 27 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 27 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 27 leaderCommit: 144 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=144
leader log:
[{snapshot 24 139} {3916979172715100646 24 140} {4480438926319865856 24 141} {4663034989047351651 27 142} {3279216442460037982 27 143} {5537812024688069455 27 144}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 24 139} {3916979172715100646 24 140} {4480438926319865856 24 141} {4663034989047351651 27 142} {3279216442460037982 27 143} {5537812024688069455 27 144}]
------------------------------------------------------
flag 42778 term 27 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 27 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 27 leaderCommit: 144 
------------------------------------------------------
flag 32991 term 27 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 27 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 27 leaderCommit: 144 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:144 
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=144
leader log:
[{snapshot 24 139} {3916979172715100646 24 140} {4480438926319865856 24 141} {4663034989047351651 27 142} {3279216442460037982 27 143} {5537812024688069455 27 144}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 24 139} {3916979172715100646 24 140} {4480438926319865856 24 141} {4663034989047351651 27 142} {3279216442460037982 27 143} {5537812024688069455 27 144}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 6389920607805635874 (index 145) to leader 0
flag 8800 term 27 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 27 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 27 leaderCommit: 144 
------------------------------------------------------
flag 86044 term 27 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 27 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 27 leaderCommit: 144 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=145
leader log:
[{snapshot 24 139} {3916979172715100646 24 140} {4480438926319865856 24 141} {4663034989047351651 27 142} {3279216442460037982 27 143} {5537812024688069455 27 144} {6389920607805635874 27 145}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 145->144
------------------------------------------------------
term 27 leader 0 nextIndex[1]: 0  matchIndex[1]: 144
term 27 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 24
------------------------------------------------------
flag 30280 term 27 leader 0 nextIndex[2]: 146  matchIndex[2]: 145
term 27 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 27 leaderCommit: 145 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=145
leader log:
[{snapshot 24 139} {3916979172715100646 24 140} {4480438926319865856 24 141} {4663034989047351651 27 142} {3279216442460037982 27 143} {5537812024688069455 27 144} {6389920607805635874 27 145}]
------------------------------------------------------
client write log 2799707514704192514 (index 146) to leader 0
client write log 7070105822159303245 (index 147) to leader 0
client write log 7264729239876823892 (index 148) to leader 0
client write log 8862923832381947834 (index 149) to leader 0
client write log 5054952454355641425 (index 150) to leader 0
client write log 2794959649969117731 (index 151) to leader 0
client write log 2548803770675786314 (index 152) to leader 0
client write log 2365314616413648878 (index 153) to leader 0
client write log 5711377640410160603 (index 154) to leader 0
client write log 551302893637762732 (index 155) to leader 0
client write log 6746970824769311609 (index 156) to leader 0
client write log 2507638524365617728 (index 157) to leader 0
client write log 2326403214760943993 (index 158) to leader 0
client write log 6753918547243595451 (index 159) to leader 0
term 27 leader 0 nextIndex[1]: 0  matchIndex[1]: 144
term 27 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 24
------------------------------------------------------
flag 28921 term 27 leader 0 nextIndex[2]: 146  matchIndex[2]: 145
term 27 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 27 leaderCommit: 145 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 24 139} {3916979172715100646 24 140} {4480438926319865856 24 141} {4663034989047351651 27 142} {3279216442460037982 27 143} {5537812024688069455 27 144} {6389920607805635874 27 145} {2799707514704192514 27 146} {7070105822159303245 27 147} {7264729239876823892 27 148} {8862923832381947834 27 149} {5054952454355641425 27 150} {2794959649969117731 27 151} {2548803770675786314 27 152} {2365314616413648878 27 153} {5711377640410160603 27 154} {551302893637762732 27 155} {6746970824769311609 27 156} {2507638524365617728 27 157} {2326403214760943993 27 158} {6753918547243595451 27 159}]
------------------------------------------------------
term 27 Server0 start snapshot! index=149
term 27 server0 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=159
-------------------------------------------------------------
term 27 Server0 start snapshot! index=159
term 27 server0 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=159
-------------------------------------------------------------
term 27 leader 0 nextIndex[1]: 0  matchIndex[1]: 144
term 27 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 27
------------------------------------------------------
flag 13275 term 27 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 27 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 27 159}]
------------------------------------------------------
term 27 Server2 start snapshot! index=149
term 27 server2 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=159
-------------------------------------------------------------
term 27 Server2 start snapshot! index=159
term 27 server2 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=159
-------------------------------------------------------------
!!!!!!connect server 1
client write log 5727056892154669919 (index 160) to leader 0
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 0->-1
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 27 leader 0 nextIndex[1]: 0  matchIndex[1]: 144
term 27 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 27
------------------------------------------------------
flag 88898 term 27 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 27 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 159 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
term 28 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=160
leader log:
[{snapshot 27 159} {5727056892154669919 27 160}]
------------------------------------------------------
term 27 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 29 server 2 vote for server 0
term 29 server 0 get vote from server 2
term 29 server 0 become leader
------------------------------------------------------
term 29 server 1 vote for server 0
term 29 server 0 get outdate rpc reply from server 1
flag 23488 term 29 leader 0 nextIndex[1]: 161  matchIndex[1]: 0
term 29 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 27 leaderCommit: 160 
------------------------------------------------------
flag 71212 term 29 leader 0 nextIndex[2]: 161  matchIndex[2]: 0
term 29 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 27 leaderCommit: 160 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=160
leader log:
[{snapshot 27 159} {5727056892154669919 27 160}]
------------------------------------------------------
term 29 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 161->160
------------------------------------------------------
term 29 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 29 leader 0 nextIndex[1]: 145  matchIndex[1]: 0
term 29 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 27
------------------------------------------------------
flag 54346 term 29 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 29 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 27 leaderCommit: 160 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:160 
------------------------------------------------------
term 29 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=160
leader log:
[{snapshot 27 159} {5727056892154669919 27 160}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 159 rf.lastIncludedTerm 27 rf.commitIndex 159 rf.lastApplied 159
term 29 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 160 matchIndex[1] 159 
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60887 term 29 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 29 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 27 leaderCommit: 160 
------------------------------------------------------
flag 10898 term 29 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 29 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 27 leaderCommit: 160 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:160 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=160
leader log:
[{snapshot 27 159} {5727056892154669919 27 160}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 27 159} {5727056892154669919 27 160}]
------------------------------------------------------
flag 24222 term 29 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 29 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 27 leaderCommit: 160 
------------------------------------------------------
flag 10385 term 29 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 29 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 27 leaderCommit: 160 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=160
leader log:
term 29 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
[{snapshot 27 159} {5727056892154669919 27 160}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 27 159} {5727056892154669919 27 160}]
------------------------------------------------------
flag 24533 term 29 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 29 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 27 leaderCommit: 160 
------------------------------------------------------
flag 3471 term 29 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 29 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 27 leaderCommit: 160 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=160
leader log:
[{snapshot 27 159} {5727056892154669919 27 160}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 27 159} {5727056892154669919 27 160}]
------------------------------------------------------
flag 49428 term 29 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 29 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 27 leaderCommit: 160 
------------------------------------------------------
flag 56772 term 29 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 29 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 27 leaderCommit: 160 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=160
leader log:
[{snapshot 27 159} {5727056892154669919 27 160}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 27 159} {5727056892154669919 27 160}]
------------------------------------------------------
flag 319 term 29 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 29 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 27 leaderCommit: 160 
------------------------------------------------------
flag 50584 term 29 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 29 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 27 leaderCommit: 160 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 27 159} {5727056892154669919 27 160}]
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=160
leader log:
[{snapshot 27 159} {5727056892154669919 27 160}]
------------------------------------------------------
flag 1724 term 29 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 29 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 27 leaderCommit: 160 
------------------------------------------------------
flag 3854 term 29 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 29 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 27 leaderCommit: 160 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:160 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=160
leader log:
[{snapshot 27 159} {5727056892154669919 27 160}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 27 159} {5727056892154669919 27 160}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 7913879195883221802 (index 161) to leader 0
flag 14401 term 29 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 29 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 27 leaderCommit: 160 
------------------------------------------------------
flag 64304 term 29 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 29 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 27 leaderCommit: 160 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=162
update matchIndex[2]=161
update leader CommitIndex=161
leader log:
[{snapshot 27 159} {5727056892154669919 27 160} {7913879195883221802 29 161}]
------------------------------------------------------
flag 69874 term 29 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 29 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 27 leaderCommit: 161 
------------------------------------------------------
flag 39666 term 29 leader 0 nextIndex[2]: 162  matchIndex[2]: 161
term 29 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 29 leaderCommit: 161 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=162
update matchIndex[2]=161
update leader CommitIndex=161
leader log:
[{snapshot 27 159} {5727056892154669919 27 160} {7913879195883221802 29 161}]
------------------------------------------------------
client write log 7502742118832563216 (index 162) to leader 0
client write log 5061714060632816170 (index 163) to leader 0
client write log 6235036102557088064 (index 164) to leader 0
client write log 7081138099322105779 (index 165) to leader 0
client write log 4189537046624953535 (index 166) to leader 0
client write log 1735655580530739251 (index 167) to leader 0
client write log 4101269828869957522 (index 168) to leader 0
client write log 5641483200713069376 (index 169) to leader 0
client write log 5722077178535796054 (index 170) to leader 0
client write log 427364932857880655 (index 171) to leader 0
client write log 127741029979908031 (index 172) to leader 0
client write log 506059075779794636 (index 173) to leader 0
client write log 1985061817037233246 (index 174) to leader 0
client write log 2124204692786297835 (index 175) to leader 0
client write log 7987064095312919595 (index 176) to leader 0
flag 82089 term 29 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 29 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 27 leaderCommit: 161 
------------------------------------------------------
flag 72248 term 29 leader 0 nextIndex[2]: 162  matchIndex[2]: 161
term 29 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 29 leaderCommit: 161 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 27 159} {5727056892154669919 27 160} {7913879195883221802 29 161} {7502742118832563216 29 162} {5061714060632816170 29 163} {6235036102557088064 29 164} {7081138099322105779 29 165} {4189537046624953535 29 166} {1735655580530739251 29 167} {4101269828869957522 29 168} {5641483200713069376 29 169} {5722077178535796054 29 170} {427364932857880655 29 171} {127741029979908031 29 172} {506059075779794636 29 173} {1985061817037233246 29 174} {2124204692786297835 29 175} {7987064095312919595 29 176}]
------------------------------------------------------
term 29 Server0 start snapshot! index=169
term 29 server0 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=176
-------------------------------------------------------------
term 29 leader 0 nextIndex[1]: 161  matchIndex[1]: 160
term 29 leader 0 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 29
------------------------------------------------------
flag 61081 term 29 leader 0 nextIndex[2]: 177  matchIndex[2]: 176
term 29 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 29 leaderCommit: 176 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 29 169} {5722077178535796054 29 170} {427364932857880655 29 171} {127741029979908031 29 172} {506059075779794636 29 173} {1985061817037233246 29 174} {2124204692786297835 29 175} {7987064095312919595 29 176}]
------------------------------------------------------
term 29 Server2 start snapshot! index=169
term 29 server2 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=176
-------------------------------------------------------------
!!!!!!connect server 1
client write log 4492784497631376209 (index 177) to leader 0
term 29 server 2 not vote for server 1, 日志不够新
term 29 server 0 not vote for server 1, 日志不够新
term 31 server 2 vote for server 0
term 31 server 0 get vote from server 2
term 31 server 0 become leader
------------------------------------------------------
term 31 server 1 vote for server 0
term 31 server 0 get outdate rpc reply from server 1
flag 30397 term 31 leader 0 nextIndex[1]: 178  matchIndex[1]: 0
term 31 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 29 leaderCommit: 176 
------------------------------------------------------
flag 17922 term 31 leader 0 nextIndex[2]: 178  matchIndex[2]: 0
term 31 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 29 leaderCommit: 176 
------------------------------------------------------
term 31 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 178->177
------------------------------------------------------
term 31 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 178->177
------------------------------------------------------
term 31 leader 0 nextIndex[1]: 161  matchIndex[1]: 0
term 31 leader 0 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 29
------------------------------------------------------
flag 75591 term 31 leader 0 nextIndex[2]: 177  matchIndex[2]: 0
term 31 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 29 leaderCommit: 176 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=178
update matchIndex[2]=177
update leader CommitIndex=176
term 31 server 1 InstallSnapshot success
------------------------------------------------------
leader log:
[{snapshot 29 169} {5722077178535796054 29 170} {427364932857880655 29 171} {127741029979908031 29 172} {506059075779794636 29 173} {1985061817037233246 29 174} {2124204692786297835 29 175} {7987064095312919595 29 176} {4492784497631376209 29 177}]
------------------------------------------------------
term 31 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 170 matchIndex[1] 169 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 169 rf.lastIncludedTerm 29 rf.commitIndex 169 rf.lastApplied 169
flag 10361 term 31 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 31 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 176 
------------------------------------------------------
flag 19700 term 31 leader 0 nextIndex[2]: 178  matchIndex[2]: 177
term 31 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 29 leaderCommit: 176 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=178
update matchIndex[2]=177
update leader CommitIndex=176
leader log:
[{snapshot 29 169} {5722077178535796054 29 170} {427364932857880655 29 171} {127741029979908031 29 172} {506059075779794636 29 173} {1985061817037233246 29 174} {2124204692786297835 29 175} {7987064095312919595 29 176} {4492784497631376209 29 177}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=176
leader log:
[{snapshot 29 169} {5722077178535796054 29 170} {427364932857880655 29 171} {127741029979908031 29 172} {506059075779794636 29 173} {1985061817037233246 29 174} {2124204692786297835 29 175} {7987064095312919595 29 176} {4492784497631376209 29 177}]
------------------------------------------------------
flag 72559 term 31 leader 0 nextIndex[1]: 178  matchIndex[1]: 177
term 31 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 29 leaderCommit: 176 
------------------------------------------------------
flag 98036 term 31 leader 0 nextIndex[2]: 178  matchIndex[2]: 177
term 31 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 29 leaderCommit: 176 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=178
update matchIndex[2]=177
update leader CommitIndex=176
leader log:
[{snapshot 29 169} {5722077178535796054 29 170} {427364932857880655 29 171} {127741029979908031 29 172} {506059075779794636 29 173} {1985061817037233246 29 174} {2124204692786297835 29 175} {7987064095312919595 29 176} {4492784497631376209 29 177}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=176
leader log:
[{snapshot 29 169} {5722077178535796054 29 170} {427364932857880655 29 171} {127741029979908031 29 172} {506059075779794636 29 173} {1985061817037233246 29 174} {2124204692786297835 29 175} {7987064095312919595 29 176} {4492784497631376209 29 177}]
------------------------------------------------------
term 31 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 14142 term 31 leader 0 nextIndex[1]: 178  matchIndex[1]: 177
term 31 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 29 leaderCommit: 176 
------------------------------------------------------
flag 72969 term 31 leader 0 nextIndex[2]: 178  matchIndex[2]: 177
term 31 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 29 leaderCommit: 176 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=176
leader log:
[{snapshot 29 169} {5722077178535796054 29 170} {427364932857880655 29 171} {127741029979908031 29 172} {506059075779794636 29 173} {1985061817037233246 29 174} {2124204692786297835 29 175} {7987064095312919595 29 176} {4492784497631376209 29 177}]
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=178
update matchIndex[2]=177
update leader CommitIndex=176
leader log:
[{snapshot 29 169} {5722077178535796054 29 170} {427364932857880655 29 171} {127741029979908031 29 172} {506059075779794636 29 173} {1985061817037233246 29 174} {2124204692786297835 29 175} {7987064095312919595 29 176} {4492784497631376209 29 177}]
------------------------------------------------------
term 31 server 0 not vote for server 2, 任期不够新
term 31 server 2 get outdate rpc reply from server 0
flag 9751 term 31 leader 0 nextIndex[1]: 178  matchIndex[1]: 177
term 31 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 29 leaderCommit: 176 
------------------------------------------------------
flag 88956 term 31 leader 0 nextIndex[2]: 178  matchIndex[2]: 177
term 31 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 29 leaderCommit: 176 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=178
update matchIndex[2]=177
update leader CommitIndex=176
leader log:
[{snapshot 29 169} {5722077178535796054 29 170} {427364932857880655 29 171} {127741029979908031 29 172} {506059075779794636 29 173} {1985061817037233246 29 174} {2124204692786297835 29 175} {7987064095312919595 29 176} {4492784497631376209 29 177}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=176
leader log:
[{snapshot 29 169} {5722077178535796054 29 170} {427364932857880655 29 171} {127741029979908031 29 172} {506059075779794636 29 173} {1985061817037233246 29 174} {2124204692786297835 29 175} {7987064095312919595 29 176} {4492784497631376209 29 177}]
------------------------------------------------------
flag 2524 term 31 leader 0 nextIndex[1]: 178  matchIndex[1]: 177
term 31 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 29 leaderCommit: 176 
------------------------------------------------------
flag 91634 term 31 leader 0 nextIndex[2]: 178  matchIndex[2]: 177
term 31 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 29 leaderCommit: 176 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=176
leader log:
[{snapshot 29 169} {5722077178535796054 29 170} {427364932857880655 29 171} {127741029979908031 29 172} {506059075779794636 29 173} {1985061817037233246 29 174} {2124204692786297835 29 175} {7987064095312919595 29 176} {4492784497631376209 29 177}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=178
update matchIndex[2]=177
update leader CommitIndex=176
leader log:
[{snapshot 29 169} {5722077178535796054 29 170} {427364932857880655 29 171} {127741029979908031 29 172} {506059075779794636 29 173} {1985061817037233246 29 174} {2124204692786297835 29 175} {7987064095312919595 29 176} {4492784497631376209 29 177}]
------------------------------------------------------
term 31 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 75993 term 31 leader 0 nextIndex[1]: 178  matchIndex[1]: 177
term 31 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 29 leaderCommit: 176 
------------------------------------------------------
flag 13066 term 31 leader 0 nextIndex[2]: 178  matchIndex[2]: 177
term 31 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 29 leaderCommit: 176 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=178
update matchIndex[2]=177
update leader CommitIndex=176
leader log:
[{snapshot 29 169} {5722077178535796054 29 170} {427364932857880655 29 171} {127741029979908031 29 172} {506059075779794636 29 173} {1985061817037233246 29 174} {2124204692786297835 29 175} {7987064095312919595 29 176} {4492784497631376209 29 177}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=176
leader log:
[{snapshot 29 169} {5722077178535796054 29 170} {427364932857880655 29 171} {127741029979908031 29 172} {506059075779794636 29 173} {1985061817037233246 29 174} {2124204692786297835 29 175} {7987064095312919595 29 176} {4492784497631376209 29 177}]
------------------------------------------------------
flag 44794 term 31 leader 0 nextIndex[1]: 178  matchIndex[1]: 177
term 31 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 29 leaderCommit: 176 
------------------------------------------------------
flag 9956 term 31 leader 0 nextIndex[2]: 178  matchIndex[2]: 177
term 31 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 29 leaderCommit: 176 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=176
leader log:
[{snapshot 29 169} {5722077178535796054 29 170} {427364932857880655 29 171} {127741029979908031 29 172} {506059075779794636 29 173} {1985061817037233246 29 174} {2124204692786297835 29 175} {7987064095312919595 29 176} {4492784497631376209 29 177}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=178
update matchIndex[2]=177
update leader CommitIndex=176
leader log:
[{snapshot 29 169} {5722077178535796054 29 170} {427364932857880655 29 171} {127741029979908031 29 172} {506059075779794636 29 173} {1985061817037233246 29 174} {2124204692786297835 29 175} {7987064095312919595 29 176} {4492784497631376209 29 177}]
------------------------------------------------------
term 31 server 2 not vote for server 1, 任期不够新
term 31 server 1 get outdate rpc reply from server 2
flag 9632 term 31 leader 0 nextIndex[1]: 178  matchIndex[1]: 177
term 31 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 29 leaderCommit: 176 
------------------------------------------------------
flag 36657 term 31 leader 0 nextIndex[2]: 178  matchIndex[2]: 177
term 31 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 29 leaderCommit: 176 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=178
update matchIndex[2]=177
update leader CommitIndex=176
leader log:
[{snapshot 29 169} {5722077178535796054 29 170} {427364932857880655 29 171} {127741029979908031 29 172} {506059075779794636 29 173} {1985061817037233246 29 174} {2124204692786297835 29 175} {7987064095312919595 29 176} {4492784497631376209 29 177}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=176
leader log:
[{snapshot 29 169} {5722077178535796054 29 170} {427364932857880655 29 171} {127741029979908031 29 172} {506059075779794636 29 173} {1985061817037233246 29 174} {2124204692786297835 29 175} {7987064095312919595 29 176} {4492784497631376209 29 177}]
------------------------------------------------------
flag 59600 term 31 leader 0 nextIndex[1]: 178  matchIndex[1]: 177
term 31 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 29 leaderCommit: 176 
------------------------------------------------------
flag 56258 term 31 leader 0 nextIndex[2]: 178  matchIndex[2]: 177
term 31 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 29 leaderCommit: 176 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=178
update matchIndex[2]=177
update leader CommitIndex=176
leader log:
[{snapshot 29 169} {5722077178535796054 29 170} {427364932857880655 29 171} {127741029979908031 29 172} {506059075779794636 29 173} {1985061817037233246 29 174} {2124204692786297835 29 175} {7987064095312919595 29 176} {4492784497631376209 29 177}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=176
leader log:
[{snapshot 29 169} {5722077178535796054 29 170} {427364932857880655 29 171} {127741029979908031 29 172} {506059075779794636 29 173} {1985061817037233246 29 174} {2124204692786297835 29 175} {7987064095312919595 29 176} {4492784497631376209 29 177}]
------------------------------------------------------
flag 47191 term 31 leader 0 nextIndex[1]: 178  matchIndex[1]: 177
term 31 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 29 leaderCommit: 176 
------------------------------------------------------
flag 35528 term 31 leader 0 nextIndex[2]: 178  matchIndex[2]: 177
term 31 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 29 leaderCommit: 176 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=178
update matchIndex[2]=177
update leader CommitIndex=176
leader log:
[{snapshot 29 169} {5722077178535796054 29 170} {427364932857880655 29 171} {127741029979908031 29 172} {506059075779794636 29 173} {1985061817037233246 29 174} {2124204692786297835 29 175} {7987064095312919595 29 176} {4492784497631376209 29 177}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=176
leader log:
[{snapshot 29 169} {5722077178535796054 29 170} {427364932857880655 29 171} {127741029979908031 29 172} {506059075779794636 29 173} {1985061817037233246 29 174} {2124204692786297835 29 175} {7987064095312919595 29 176} {4492784497631376209 29 177}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51024 term 31 leader 0 nextIndex[1]: 178  matchIndex[1]: 177
term 31 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 29 leaderCommit: 176 
------------------------------------------------------
flag 89458 term 31 leader 0 nextIndex[2]: 178  matchIndex[2]: 177
term 31 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 29 leaderCommit: 176 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=178
update matchIndex[2]=177
update leader CommitIndex=176
leader log:
[{snapshot 29 169} {5722077178535796054 29 170} {427364932857880655 29 171} {127741029979908031 29 172} {506059075779794636 29 173} {1985061817037233246 29 174} {2124204692786297835 29 175} {7987064095312919595 29 176} {4492784497631376209 29 177}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=176
leader log:
[{snapshot 29 169} {5722077178535796054 29 170} {427364932857880655 29 171} {127741029979908031 29 172} {506059075779794636 29 173} {1985061817037233246 29 174} {2124204692786297835 29 175} {7987064095312919595 29 176} {4492784497631376209 29 177}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78785 term 31 leader 0 nextIndex[1]: 178  matchIndex[1]: 177
term 31 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 29 leaderCommit: 176 
------------------------------------------------------
flag 6680 term 31 leader 0 nextIndex[2]: 178  matchIndex[2]: 177
term 31 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 29 leaderCommit: 176 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=178
update matchIndex[2]=177
update leader CommitIndex=176
leader log:
[{snapshot 29 169} {5722077178535796054 29 170} {427364932857880655 29 171} {127741029979908031 29 172} {506059075779794636 29 173} {1985061817037233246 29 174} {2124204692786297835 29 175} {7987064095312919595 29 176} {4492784497631376209 29 177}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=176
leader log:
[{snapshot 29 169} {5722077178535796054 29 170} {427364932857880655 29 171} {127741029979908031 29 172} {506059075779794636 29 173} {1985061817037233246 29 174} {2124204692786297835 29 175} {7987064095312919595 29 176} {4492784497631376209 29 177}]
------------------------------------------------------
term 31 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 190 term 31 leader 0 nextIndex[1]: 178  matchIndex[1]: 177
term 31 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 29 leaderCommit: 176 
------------------------------------------------------
flag 99327 term 31 leader 0 nextIndex[2]: 178  matchIndex[2]: 177
term 31 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 29 leaderCommit: 176 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=176
leader log:
[{snapshot 29 169} {5722077178535796054 29 170} {427364932857880655 29 171} {127741029979908031 29 172} {506059075779794636 29 173} {1985061817037233246 29 174} {2124204692786297835 29 175} {7987064095312919595 29 176} {4492784497631376209 29 177}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=178
update matchIndex[2]=177
update leader CommitIndex=176
leader log:
[{snapshot 29 169} {5722077178535796054 29 170} {427364932857880655 29 171} {127741029979908031 29 172} {506059075779794636 29 173} {1985061817037233246 29 174} {2124204692786297835 29 175} {7987064095312919595 29 176} {4492784497631376209 29 177}]
------------------------------------------------------
flag 463 term 31 leader 0 nextIndex[1]: 178  matchIndex[1]: 177
term 31 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 29 leaderCommit: 176 
------------------------------------------------------
flag 24728 term 31 leader 0 nextIndex[2]: 178  matchIndex[2]: 177
term 31 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 29 leaderCommit: 176 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=178
update matchIndex[2]=177
update leader CommitIndex=176
leader log:
[{snapshot 29 169} {5722077178535796054 29 170} {427364932857880655 29 171} {127741029979908031 29 172} {506059075779794636 29 173} {1985061817037233246 29 174} {2124204692786297835 29 175} {7987064095312919595 29 176} {4492784497631376209 29 177}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=176
leader log:
[{snapshot 29 169} {5722077178535796054 29 170} {427364932857880655 29 171} {127741029979908031 29 172} {506059075779794636 29 173} {1985061817037233246 29 174} {2124204692786297835 29 175} {7987064095312919595 29 176} {4492784497631376209 29 177}]
------------------------------------------------------
flag 10727 term 31 leader 0 nextIndex[1]: 178  matchIndex[1]: 177
term 31 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 29 leaderCommit: 176 
------------------------------------------------------
flag 76625 term 31 leader 0 nextIndex[2]: 178  matchIndex[2]: 177
term 31 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 29 leaderCommit: 176 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=178
update matchIndex[2]=177
update leader CommitIndex=176
leader log:
[{snapshot 29 169} {5722077178535796054 29 170} {427364932857880655 29 171} {127741029979908031 29 172} {506059075779794636 29 173} {1985061817037233246 29 174} {2124204692786297835 29 175} {7987064095312919595 29 176} {4492784497631376209 29 177}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=176
leader log:
[{snapshot 29 169} {5722077178535796054 29 170} {427364932857880655 29 171} {127741029979908031 29 172} {506059075779794636 29 173} {1985061817037233246 29 174} {2124204692786297835 29 175} {7987064095312919595 29 176} {4492784497631376209 29 177}]
------------------------------------------------------
term 31 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 35409 term 31 leader 0 nextIndex[1]: 178  matchIndex[1]: 177
term 31 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 29 leaderCommit: 176 
------------------------------------------------------
flag 74352 term 31 leader 0 nextIndex[2]: 178  matchIndex[2]: 177
term 31 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 29 leaderCommit: 176 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=178
update matchIndex[2]=177
update leader CommitIndex=176
leader log:
[{snapshot 29 169} {5722077178535796054 29 170} {427364932857880655 29 171} {127741029979908031 29 172} {506059075779794636 29 173} {1985061817037233246 29 174} {2124204692786297835 29 175} {7987064095312919595 29 176} {4492784497631376209 29 177}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=176
leader log:
[{snapshot 29 169} {5722077178535796054 29 170} {427364932857880655 29 171} {127741029979908031 29 172} {506059075779794636 29 173} {1985061817037233246 29 174} {2124204692786297835 29 175} {7987064095312919595 29 176} {4492784497631376209 29 177}]
------------------------------------------------------
flag 60654 term 31 leader 0 nextIndex[1]: 178  matchIndex[1]: 177
term 31 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 29 leaderCommit: 176 
------------------------------------------------------
flag 3290 term 31 leader 0 nextIndex[2]: 178  matchIndex[2]: 177
term 31 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 29 leaderCommit: 176 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=178
update matchIndex[2]=177
update leader CommitIndex=176
leader log:
[{snapshot 29 169} {5722077178535796054 29 170} {427364932857880655 29 171} {127741029979908031 29 172} {506059075779794636 29 173} {1985061817037233246 29 174} {2124204692786297835 29 175} {7987064095312919595 29 176} {4492784497631376209 29 177}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=176
leader log:
[{snapshot 29 169} {5722077178535796054 29 170} {427364932857880655 29 171} {127741029979908031 29 172} {506059075779794636 29 173} {1985061817037233246 29 174} {2124204692786297835 29 175} {7987064095312919595 29 176} {4492784497631376209 29 177}]
------------------------------------------------------
flag 43252 term 31 leader 0 nextIndex[1]: 178  matchIndex[1]: 177
term 31 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 29 leaderCommit: 176 
------------------------------------------------------
flag 48980 term 31 leader 0 nextIndex[2]: 178  matchIndex[2]: 177
term 31 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 29 leaderCommit: 176 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=178
update matchIndex[2]=177
update leader CommitIndex=176
leader log:
[{snapshot 29 169} {5722077178535796054 29 170} {427364932857880655 29 171} {127741029979908031 29 172} {506059075779794636 29 173} {1985061817037233246 29 174} {2124204692786297835 29 175} {7987064095312919595 29 176} {4492784497631376209 29 177}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=176
leader log:
[{snapshot 29 169} {5722077178535796054 29 170} {427364932857880655 29 171} {127741029979908031 29 172} {506059075779794636 29 173} {1985061817037233246 29 174} {2124204692786297835 29 175} {7987064095312919595 29 176} {4492784497631376209 29 177}]
------------------------------------------------------
client write log 4492784497631376209 (index 178) to leader 0
flag 21268 term 31 leader 0 nextIndex[1]: 178  matchIndex[1]: 177
term 31 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 29 leaderCommit: 176 
------------------------------------------------------
flag 33233 term 31 leader 0 nextIndex[2]: 178  matchIndex[2]: 177
term 31 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 29 leaderCommit: 176 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=178
leader log:
[{snapshot 29 169} {5722077178535796054 29 170} {427364932857880655 29 171} {127741029979908031 29 172} {506059075779794636 29 173} {1985061817037233246 29 174} {2124204692786297835 29 175} {7987064095312919595 29 176} {4492784497631376209 29 177} {4492784497631376209 31 178}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 29 169} {5722077178535796054 29 170} {427364932857880655 29 171} {127741029979908031 29 172} {506059075779794636 29 173} {1985061817037233246 29 174} {2124204692786297835 29 175} {7987064095312919595 29 176} {4492784497631376209 29 177} {4492784497631376209 31 178}]
------------------------------------------------------
flag 35647 term 31 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
flag 56525 term 31 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:178 
term 31 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 29 169} {5722077178535796054 29 170} {427364932857880655 29 171} {127741029979908031 29 172} {506059075779794636 29 173} {1985061817037233246 29 174} {2124204692786297835 29 175} {7987064095312919595 29 176} {4492784497631376209 29 177} {4492784497631376209 31 178}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=178
leader log:
[{snapshot 29 169} {5722077178535796054 29 170} {427364932857880655 29 171} {127741029979908031 29 172} {506059075779794636 29 173} {1985061817037233246 29 174} {2124204692786297835 29 175} {7987064095312919595 29 176} {4492784497631376209 29 177} {4492784497631376209 31 178}]
------------------------------------------------------
flag 55786 term 31 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
flag 3765 term 31 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:178 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 29 169} {5722077178535796054 29 170} {427364932857880655 29 171} {127741029979908031 29 172} {506059075779794636 29 173} {1985061817037233246 29 174} {2124204692786297835 29 175} {7987064095312919595 29 176} {4492784497631376209 29 177} {4492784497631376209 31 178}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=178
leader log:
[{snapshot 29 169} {5722077178535796054 29 170} {427364932857880655 29 171} {127741029979908031 29 172} {506059075779794636 29 173} {1985061817037233246 29 174} {2124204692786297835 29 175} {7987064095312919595 29 176} {4492784497631376209 29 177} {4492784497631376209 31 178}]
------------------------------------------------------
flag 25243 term 31 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
flag 16751 term 31 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:178 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=178
leader log:
[{snapshot 29 169} {5722077178535796054 29 170} {427364932857880655 29 171} {127741029979908031 29 172} {506059075779794636 29 173} {1985061817037233246 29 174} {2124204692786297835 29 175} {7987064095312919595 29 176} {4492784497631376209 29 177} {4492784497631376209 31 178}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 29 169} {5722077178535796054 29 170} {427364932857880655 29 171} {127741029979908031 29 172} {506059075779794636 29 173} {1985061817037233246 29 174} {2124204692786297835 29 175} {7987064095312919595 29 176} {4492784497631376209 29 177} {4492784497631376209 31 178}]
------------------------------------------------------
flag 11063 term 31 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
flag 78861 term 31 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:178 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 29 169} {5722077178535796054 29 170} {427364932857880655 29 171} {127741029979908031 29 172} {506059075779794636 29 173} {1985061817037233246 29 174} {2124204692786297835 29 175} {7987064095312919595 29 176} {4492784497631376209 29 177} {4492784497631376209 31 178}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=178
leader log:
[{snapshot 29 169} {5722077178535796054 29 170} {427364932857880655 29 171} {127741029979908031 29 172} {506059075779794636 29 173} {1985061817037233246 29 174} {2124204692786297835 29 175} {7987064095312919595 29 176} {4492784497631376209 29 177} {4492784497631376209 31 178}]
------------------------------------------------------
flag 3655 term 31 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
flag 20498 term 31 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=178
leader log:
[{snapshot 29 169} {5722077178535796054 29 170} {427364932857880655 29 171} {127741029979908031 29 172} {506059075779794636 29 173} {1985061817037233246 29 174} {2124204692786297835 29 175} {7987064095312919595 29 176} {4492784497631376209 29 177} {4492784497631376209 31 178}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 29 169} {5722077178535796054 29 170} {427364932857880655 29 171} {127741029979908031 29 172} {506059075779794636 29 173} {1985061817037233246 29 174} {2124204692786297835 29 175} {7987064095312919595 29 176} {4492784497631376209 29 177} {4492784497631376209 31 178}]
------------------------------------------------------
flag 30026 term 31 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
flag 10101 term 31 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=178
leader log:
[{snapshot 29 169} {5722077178535796054 29 170} {427364932857880655 29 171} {127741029979908031 29 172} {506059075779794636 29 173} {1985061817037233246 29 174} {2124204692786297835 29 175} {7987064095312919595 29 176} {4492784497631376209 29 177} {4492784497631376209 31 178}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 29 169} {5722077178535796054 29 170} {427364932857880655 29 171} {127741029979908031 29 172} {506059075779794636 29 173} {1985061817037233246 29 174} {2124204692786297835 29 175} {7987064095312919595 29 176} {4492784497631376209 29 177} {4492784497631376209 31 178}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 58226 term 31 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
flag 81796 term 31 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
flag 32695 term 31 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
flag 70602 term 31 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
flag 1268 term 31 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
flag 7783 term 31 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
flag 42682 term 31 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
flag 98727 term 31 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
term 32 server 2 vote for server 1
term 32 server 1 get vote from server 2
term 32 server 1 become leader
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9365 term 32 leader 1 nextIndex[0]: 179  matchIndex[0]: 0
term 32 leader 1 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
flag 75533 term 32 leader 1 nextIndex[2]: 179  matchIndex[2]: 0
term 32 leader 1 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=178
leader log:
[{snapshot 29 169} {5722077178535796054 29 170} {427364932857880655 29 171} {127741029979908031 29 172} {506059075779794636 29 173} {1985061817037233246 29 174} {2124204692786297835 29 175} {7987064095312919595 29 176} {4492784497631376209 29 177} {4492784497631376209 31 178}]
------------------------------------------------------
client write log 2943693156771212620 (index 179) to leader 1
flag 95654 term 31 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
flag 97626 term 31 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
flag 91736 term 32 leader 1 nextIndex[0]: 179  matchIndex[0]: 0
term 32 leader 1 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
flag 32039 term 32 leader 1 nextIndex[2]: 179  matchIndex[2]: 178
term 32 leader 1 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=180
update matchIndex[2]=179
update leader CommitIndex=179
leader log:
[{snapshot 29 169} {5722077178535796054 29 170} {427364932857880655 29 171} {127741029979908031 29 172} {506059075779794636 29 173} {1985061817037233246 29 174} {2124204692786297835 29 175} {7987064095312919595 29 176} {4492784497631376209 29 177} {4492784497631376209 31 178} {2943693156771212620 32 179}]
------------------------------------------------------
term 32 Server1 start snapshot! index=179
term 32 server1 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=179
-------------------------------------------------------------
flag 756 term 31 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
flag 57458 term 31 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
term 32 leader 1 nextIndex[0]: 179  matchIndex[0]: 0
term 32 leader 1 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 32
------------------------------------------------------
flag 74074 term 32 leader 1 nextIndex[2]: 180  matchIndex[2]: 179
term 32 leader 1 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 32 leaderCommit: 179 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=180
update matchIndex[2]=179
update leader CommitIndex=179
leader log:
[{snapshot 32 179}]
------------------------------------------------------
term 32 Server2 start snapshot! index=179
term 32 server2 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=179
-------------------------------------------------------------
client write log 1358129464060471632 (index 180) to leader 1
client write log 6790364986496765330 (index 181) to leader 1
client write log 7952319841044880488 (index 182) to leader 1
client write log 8894655536471575906 (index 183) to leader 1
client write log 730245722046899273 (index 184) to leader 1
client write log 6155229246651097615 (index 185) to leader 1
client write log 7868493226269838675 (index 186) to leader 1
client write log 2942009459970001320 (index 187) to leader 1
client write log 5237802749326502572 (index 188) to leader 1
client write log 4667012832174107817 (index 189) to leader 1
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 179->178
------------------------------------------------------
term 31 leader 0 nextIndex[1]: 0  matchIndex[1]: 178
term 31 leader 0 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 29
------------------------------------------------------
flag 56885 term 31 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
term 32 leader 1 nextIndex[0]: 179  matchIndex[0]: 0
term 32 leader 1 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 32
------------------------------------------------------
flag 48155 term 32 leader 1 nextIndex[2]: 180  matchIndex[2]: 179
term 32 leader 1 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 32 leaderCommit: 179 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=189
leader log:
[{snapshot 32 179} {1358129464060471632 32 180} {6790364986496765330 32 181} {7952319841044880488 32 182} {8894655536471575906 32 183} {730245722046899273 32 184} {6155229246651097615 32 185} {7868493226269838675 32 186} {2942009459970001320 32 187} {5237802749326502572 32 188} {4667012832174107817 32 189}]
------------------------------------------------------
term 32 Server1 start snapshot! index=189
term 32 server1 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=189
-------------------------------------------------------------
term 31 leader 0 nextIndex[1]: 0  matchIndex[1]: 178
term 31 leader 0 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 29
------------------------------------------------------
flag 92370 term 31 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
term 32 leader 1 nextIndex[0]: 179  matchIndex[0]: 0
term 32 leader 1 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 32
------------------------------------------------------
flag 16274 term 32 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 32 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 32 leaderCommit: 189 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=189
leader log:
[{snapshot 32 189}]
------------------------------------------------------
term 32 Server2 start snapshot! index=189
term 32 server2 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=189
-------------------------------------------------------------
!!!!!!connect server 0
client write log 5382243570772120223 (index 190) to leader 1
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 179->178
------------------------------------------------------
term 31 leader 0 nextIndex[1]: 0  matchIndex[1]: 178
term 31 leader 0 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 29
------------------------------------------------------
flag 70545 term 31 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
term 32 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 32 server 2 AppendEntries false 领导者任期过期 args.Term 31
------------------------------------------------------
term 31 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 32 leader 1 nextIndex[0]: 0  matchIndex[0]: 0
term 32 leader 1 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 32
------------------------------------------------------
flag 6277 term 32 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 32 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 32 leaderCommit: 189 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=190
leader log:
[{snapshot 32 189} {5382243570772120223 32 190}]
------------------------------------------------------
term 32 server 0 InstallSnapshot success
------------------------------------------------------
term 32 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 190 matchIndex[0] 189 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 189 rf.lastIncludedTerm 32 rf.commitIndex 189 rf.lastApplied 189
term 32 server 2 not vote for server 0, 日志不够新
term 32 server 1 not vote for server 0, 日志不够新
term 34 server 2 vote for server 1
term 34 server 1 get vote from server 2
term 34 server 1 become leader
------------------------------------------------------
term 34 server 0 vote for server 1
term 34 server 1 get outdate rpc reply from server 0
flag 27737 term 34 leader 1 nextIndex[0]: 191  matchIndex[0]: 0
term 34 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 190 
------------------------------------------------------
flag 12759 term 34 leader 1 nextIndex[2]: 191  matchIndex[2]: 0
term 34 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 190 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=190
leader log:
[{snapshot 32 189} {5382243570772120223 32 190}]
------------------------------------------------------
term 34 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 191->190
------------------------------------------------------
flag 27124 term 34 leader 1 nextIndex[0]: 190  matchIndex[0]: 0
term 34 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 32 leaderCommit: 190 
------------------------------------------------------
flag 92301 term 34 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 34 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 190 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=190
leader log:
[{snapshot 32 189} {5382243570772120223 32 190}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=190
leader log:
[{snapshot 32 189} {5382243570772120223 32 190}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30076 term 34 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 34 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 190 
------------------------------------------------------
flag 22141 term 34 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 34 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 190 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=190
leader log:
[{snapshot 32 189} {5382243570772120223 32 190}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=190
leader log:
[{snapshot 32 189} {5382243570772120223 32 190}]
------------------------------------------------------
flag 58501 term 34 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 34 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 190 
------------------------------------------------------
flag 56256 term 34 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 34 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 190 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=190
leader log:
[{snapshot 32 189} {5382243570772120223 32 190}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=190
leader log:
[{snapshot 32 189} {5382243570772120223 32 190}]
------------------------------------------------------
flag 2318 term 34 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 34 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 190 
------------------------------------------------------
flag 69572 term 34 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 34 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 190 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=190
leader log:
[{snapshot 32 189} {5382243570772120223 32 190}]
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=190
leader log:
[{snapshot 32 189} {5382243570772120223 32 190}]
------------------------------------------------------
flag 20200 term 34 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 34 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 190 
------------------------------------------------------
flag 12796 term 34 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 34 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 190 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=190
leader log:
[{snapshot 32 189} {5382243570772120223 32 190}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=190
leader log:
[{snapshot 32 189} {5382243570772120223 32 190}]
------------------------------------------------------
flag 43041 term 34 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 34 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 190 
------------------------------------------------------
flag 45515 term 34 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 34 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 190 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=190
leader log:
[{snapshot 32 189} {5382243570772120223 32 190}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=190
leader log:
[{snapshot 32 189} {5382243570772120223 32 190}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 2752485766528072044 (index 191) to leader 1
flag 52386 term 34 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 34 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 190 
------------------------------------------------------
flag 92332 term 34 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 34 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 190 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=191
leader log:
[{snapshot 32 189} {5382243570772120223 32 190} {2752485766528072044 34 191}]
------------------------------------------------------
flag 95343 term 34 leader 1 nextIndex[0]: 192  matchIndex[0]: 191
term 34 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 34 leaderCommit: 191 
------------------------------------------------------
flag 62956 term 34 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 34 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 191 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=191
leader log:
[{snapshot 32 189} {5382243570772120223 32 190} {2752485766528072044 34 191}]
------------------------------------------------------
client write log 4693990502005016902 (index 192) to leader 1
client write log 7944924887475585912 (index 193) to leader 1
client write log 6249014033396750036 (index 194) to leader 1
client write log 4500864648715810041 (index 195) to leader 1
client write log 8379903971708581683 (index 196) to leader 1
client write log 3065799492102529076 (index 197) to leader 1
term 34 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 57815 term 34 leader 1 nextIndex[0]: 192  matchIndex[0]: 191
term 34 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 34 leaderCommit: 191 
------------------------------------------------------
flag 65627 term 34 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 34 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 191 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=197
leader log:
[{snapshot 32 189} {5382243570772120223 32 190} {2752485766528072044 34 191} {4693990502005016902 34 192} {7944924887475585912 34 193} {6249014033396750036 34 194} {4500864648715810041 34 195} {8379903971708581683 34 196} {3065799492102529076 34 197}]
------------------------------------------------------
flag 26323 term 34 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 34 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
flag 92989 term 34 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 34 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 197 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=197
leader log:
[{snapshot 32 189} {5382243570772120223 32 190} {2752485766528072044 34 191} {4693990502005016902 34 192} {7944924887475585912 34 193} {6249014033396750036 34 194} {4500864648715810041 34 195} {8379903971708581683 34 196} {3065799492102529076 34 197}]
------------------------------------------------------
!!!!!!connect server 2
client write log 5502550121482998299 (index 198) to leader 1
term 34 server 1 not vote for server 2, 日志不够新
term 34 server 0 not vote for server 2, 日志不够新
term 36 server 2 vote for server 1
term 36 server 0 vote for server 1
term 36 server 1 get vote from server 2
term 36 server 1 become leader
------------------------------------------------------
term 36 server 1 get outdate rpc reply from server 0
flag 68278 term 36 leader 1 nextIndex[0]: 199  matchIndex[0]: 0
term 36 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
flag 30488 term 36 leader 1 nextIndex[2]: 199  matchIndex[2]: 0
term 36 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
term 36 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 199->198
------------------------------------------------------
term 36 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 199->198
------------------------------------------------------
term 36 server 0 not vote for server 1, 任期不够新
term 36 server 1 get outdate rpc reply from server 0
flag 71039 term 36 leader 1 nextIndex[0]: 198  matchIndex[0]: 0
term 36 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
flag 4231 term 36 leader 1 nextIndex[2]: 191  matchIndex[2]: 0
term 36 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 197 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=199
update matchIndex[2]=198
update leader CommitIndex=197
leader log:
term 36 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
[{snapshot 32 189} {5382243570772120223 32 190} {2752485766528072044 34 191} {4693990502005016902 34 192} {7944924887475585912 34 193} {6249014033396750036 34 194} {4500864648715810041 34 195} {8379903971708581683 34 196} {3065799492102529076 34 197} {5502550121482998299 34 198}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=197
leader log:
[{snapshot 32 189} {5382243570772120223 32 190} {2752485766528072044 34 191} {4693990502005016902 34 192} {7944924887475585912 34 193} {6249014033396750036 34 194} {4500864648715810041 34 195} {8379903971708581683 34 196} {3065799492102529076 34 197} {5502550121482998299 34 198}]
------------------------------------------------------
term 36 server 2 not vote for server 1, 任期不够新
term 36 server 1 get outdate rpc reply from server 2
flag 13649 term 36 leader 1 nextIndex[0]: 199  matchIndex[0]: 198
term 36 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
flag 63058 term 36 leader 1 nextIndex[2]: 199  matchIndex[2]: 198
term 36 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=199
update matchIndex[2]=198
update leader CommitIndex=197
leader log:
[{snapshot 32 189} {5382243570772120223 32 190} {2752485766528072044 34 191} {4693990502005016902 34 192} {7944924887475585912 34 193} {6249014033396750036 34 194} {4500864648715810041 34 195} {8379903971708581683 34 196} {3065799492102529076 34 197} {5502550121482998299 34 198}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=197
leader log:
[{snapshot 32 189} {5382243570772120223 32 190} {2752485766528072044 34 191} {4693990502005016902 34 192} {7944924887475585912 34 193} {6249014033396750036 34 194} {4500864648715810041 34 195} {8379903971708581683 34 196} {3065799492102529076 34 197} {5502550121482998299 34 198}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12095 term 36 leader 1 nextIndex[0]: 199  matchIndex[0]: 198
term 36 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
flag 24437 term 36 leader 1 nextIndex[2]: 199  matchIndex[2]: 198
term 36 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=199
update matchIndex[2]=198
update leader CommitIndex=197
leader log:
[{snapshot 32 189} {5382243570772120223 32 190} {2752485766528072044 34 191} {4693990502005016902 34 192} {7944924887475585912 34 193} {6249014033396750036 34 194} {4500864648715810041 34 195} {8379903971708581683 34 196} {3065799492102529076 34 197} {5502550121482998299 34 198}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=197
leader log:
[{snapshot 32 189} {5382243570772120223 32 190} {2752485766528072044 34 191} {4693990502005016902 34 192} {7944924887475585912 34 193} {6249014033396750036 34 194} {4500864648715810041 34 195} {8379903971708581683 34 196} {3065799492102529076 34 197} {5502550121482998299 34 198}]
------------------------------------------------------
flag 58733 term 36 leader 1 nextIndex[0]: 199  matchIndex[0]: 198
term 36 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
flag 67037 term 36 leader 1 nextIndex[2]: 199  matchIndex[2]: 198
term 36 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=199
update matchIndex[2]=198
update leader CommitIndex=197
leader log:
[{snapshot 32 189} {5382243570772120223 32 190} {2752485766528072044 34 191} {4693990502005016902 34 192} {7944924887475585912 34 193} {6249014033396750036 34 194} {4500864648715810041 34 195} {8379903971708581683 34 196} {3065799492102529076 34 197} {5502550121482998299 34 198}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=197
leader log:
[{snapshot 32 189} {5382243570772120223 32 190} {2752485766528072044 34 191} {4693990502005016902 34 192} {7944924887475585912 34 193} {6249014033396750036 34 194} {4500864648715810041 34 195} {8379903971708581683 34 196} {3065799492102529076 34 197} {5502550121482998299 34 198}]
------------------------------------------------------
flag 34606 term 36 leader 1 nextIndex[0]: 199  matchIndex[0]: 198
term 36 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
flag 14555 term 36 leader 1 nextIndex[2]: 199  matchIndex[2]: 198
term 36 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=199
update matchIndex[2]=198
update leader CommitIndex=197
leader log:
[{snapshot 32 189} {5382243570772120223 32 190} {2752485766528072044 34 191} {4693990502005016902 34 192} {7944924887475585912 34 193} {6249014033396750036 34 194} {4500864648715810041 34 195} {8379903971708581683 34 196} {3065799492102529076 34 197} {5502550121482998299 34 198}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=197
leader log:
[{snapshot 32 189} {5382243570772120223 32 190} {2752485766528072044 34 191} {4693990502005016902 34 192} {7944924887475585912 34 193} {6249014033396750036 34 194} {4500864648715810041 34 195} {8379903971708581683 34 196} {3065799492102529076 34 197} {5502550121482998299 34 198}]
------------------------------------------------------
flag 51603 term 36 leader 1 nextIndex[0]: 199  matchIndex[0]: 198
term 36 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
flag 66117 term 36 leader 1 nextIndex[2]: 199  matchIndex[2]: 198
term 36 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=199
update matchIndex[2]=198
update leader CommitIndex=197
leader log:
[{snapshot 32 189} {5382243570772120223 32 190} {2752485766528072044 34 191} {4693990502005016902 34 192} {7944924887475585912 34 193} {6249014033396750036 34 194} {4500864648715810041 34 195} {8379903971708581683 34 196} {3065799492102529076 34 197} {5502550121482998299 34 198}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=197
leader log:
[{snapshot 32 189} {5382243570772120223 32 190} {2752485766528072044 34 191} {4693990502005016902 34 192} {7944924887475585912 34 193} {6249014033396750036 34 194} {4500864648715810041 34 195} {8379903971708581683 34 196} {3065799492102529076 34 197} {5502550121482998299 34 198}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90828 term 36 leader 1 nextIndex[0]: 199  matchIndex[0]: 198
term 36 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
flag 84577 term 36 leader 1 nextIndex[2]: 199  matchIndex[2]: 198
term 36 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=199
update matchIndex[2]=198
update leader CommitIndex=197
leader log:
[{snapshot 32 189} {5382243570772120223 32 190} {2752485766528072044 34 191} {4693990502005016902 34 192} {7944924887475585912 34 193} {6249014033396750036 34 194} {4500864648715810041 34 195} {8379903971708581683 34 196} {3065799492102529076 34 197} {5502550121482998299 34 198}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=197
leader log:
[{snapshot 32 189} {5382243570772120223 32 190} {2752485766528072044 34 191} {4693990502005016902 34 192} {7944924887475585912 34 193} {6249014033396750036 34 194} {4500864648715810041 34 195} {8379903971708581683 34 196} {3065799492102529076 34 197} {5502550121482998299 34 198}]
------------------------------------------------------
term 36 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 13843 term 36 leader 1 nextIndex[0]: 199  matchIndex[0]: 198
term 36 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
flag 27163 term 36 leader 1 nextIndex[2]: 199  matchIndex[2]: 198
term 36 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=199
update matchIndex[2]=198
update leader CommitIndex=197
leader log:
[{snapshot 32 189} {5382243570772120223 32 190} {2752485766528072044 34 191} {4693990502005016902 34 192} {7944924887475585912 34 193} {6249014033396750036 34 194} {4500864648715810041 34 195} {8379903971708581683 34 196} {3065799492102529076 34 197} {5502550121482998299 34 198}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=197
leader log:
[{snapshot 32 189} {5382243570772120223 32 190} {2752485766528072044 34 191} {4693990502005016902 34 192} {7944924887475585912 34 193} {6249014033396750036 34 194} {4500864648715810041 34 195} {8379903971708581683 34 196} {3065799492102529076 34 197} {5502550121482998299 34 198}]
------------------------------------------------------
flag 38351 term 36 leader 1 nextIndex[0]: 199  matchIndex[0]: 198
term 36 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
flag 29228 term 36 leader 1 nextIndex[2]: 199  matchIndex[2]: 198
term 36 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=199
update matchIndex[2]=198
update leader CommitIndex=197
leader log:
[{snapshot 32 189} {5382243570772120223 32 190} {2752485766528072044 34 191} {4693990502005016902 34 192} {7944924887475585912 34 193} {6249014033396750036 34 194} {4500864648715810041 34 195} {8379903971708581683 34 196} {3065799492102529076 34 197} {5502550121482998299 34 198}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=197
leader log:
[{snapshot 32 189} {5382243570772120223 32 190} {2752485766528072044 34 191} {4693990502005016902 34 192} {7944924887475585912 34 193} {6249014033396750036 34 194} {4500864648715810041 34 195} {8379903971708581683 34 196} {3065799492102529076 34 197} {5502550121482998299 34 198}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41277 term 36 leader 1 nextIndex[0]: 199  matchIndex[0]: 198
term 36 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
flag 12754 term 36 leader 1 nextIndex[2]: 199  matchIndex[2]: 198
term 36 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=199
update matchIndex[2]=198
update leader CommitIndex=197
leader log:
[{snapshot 32 189} {5382243570772120223 32 190} {2752485766528072044 34 191} {4693990502005016902 34 192} {7944924887475585912 34 193} {6249014033396750036 34 194} {4500864648715810041 34 195} {8379903971708581683 34 196} {3065799492102529076 34 197} {5502550121482998299 34 198}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=197
leader log:
[{snapshot 32 189} {5382243570772120223 32 190} {2752485766528072044 34 191} {4693990502005016902 34 192} {7944924887475585912 34 193} {6249014033396750036 34 194} {4500864648715810041 34 195} {8379903971708581683 34 196} {3065799492102529076 34 197} {5502550121482998299 34 198}]
------------------------------------------------------
flag 9010 term 36 leader 1 nextIndex[0]: 199  matchIndex[0]: 198
term 36 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
flag 86661 term 36 leader 1 nextIndex[2]: 199  matchIndex[2]: 198
term 36 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=199
update matchIndex[2]=198
update leader CommitIndex=197
leader log:
[{snapshot 32 189} {5382243570772120223 32 190} {2752485766528072044 34 191} {4693990502005016902 34 192} {7944924887475585912 34 193} {6249014033396750036 34 194} {4500864648715810041 34 195} {8379903971708581683 34 196} {3065799492102529076 34 197} {5502550121482998299 34 198}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=197
leader log:
[{snapshot 32 189} {5382243570772120223 32 190} {2752485766528072044 34 191} {4693990502005016902 34 192} {7944924887475585912 34 193} {6249014033396750036 34 194} {4500864648715810041 34 195} {8379903971708581683 34 196} {3065799492102529076 34 197} {5502550121482998299 34 198}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32617 term 36 leader 1 nextIndex[0]: 199  matchIndex[0]: 198
term 36 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
flag 7170 term 36 leader 1 nextIndex[2]: 199  matchIndex[2]: 198
term 36 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=199
update matchIndex[2]=198
update leader CommitIndex=197
leader log:
[{snapshot 32 189} {5382243570772120223 32 190} {2752485766528072044 34 191} {4693990502005016902 34 192} {7944924887475585912 34 193} {6249014033396750036 34 194} {4500864648715810041 34 195} {8379903971708581683 34 196} {3065799492102529076 34 197} {5502550121482998299 34 198}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=197
leader log:
[{snapshot 32 189} {5382243570772120223 32 190} {2752485766528072044 34 191} {4693990502005016902 34 192} {7944924887475585912 34 193} {6249014033396750036 34 194} {4500864648715810041 34 195} {8379903971708581683 34 196} {3065799492102529076 34 197} {5502550121482998299 34 198}]
------------------------------------------------------
flag 65214 term 36 leader 1 nextIndex[0]: 199  matchIndex[0]: 198
term 36 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
flag 1062 term 36 leader 1 nextIndex[2]: 199  matchIndex[2]: 198
term 36 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=199
update matchIndex[2]=198
update leader CommitIndex=197
leader log:
[{snapshot 32 189} {5382243570772120223 32 190} {2752485766528072044 34 191} {4693990502005016902 34 192} {7944924887475585912 34 193} {6249014033396750036 34 194} {4500864648715810041 34 195} {8379903971708581683 34 196} {3065799492102529076 34 197} {5502550121482998299 34 198}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=197
leader log:
[{snapshot 32 189} {5382243570772120223 32 190} {2752485766528072044 34 191} {4693990502005016902 34 192} {7944924887475585912 34 193} {6249014033396750036 34 194} {4500864648715810041 34 195} {8379903971708581683 34 196} {3065799492102529076 34 197} {5502550121482998299 34 198}]
------------------------------------------------------
term 36 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 60458 term 36 leader 1 nextIndex[0]: 199  matchIndex[0]: 198
term 36 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
flag 7769 term 36 leader 1 nextIndex[2]: 199  matchIndex[2]: 198
term 36 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=199
update matchIndex[2]=198
update leader CommitIndex=197
leader log:
[{snapshot 32 189} {5382243570772120223 32 190} {2752485766528072044 34 191} {4693990502005016902 34 192} {7944924887475585912 34 193} {6249014033396750036 34 194} {4500864648715810041 34 195} {8379903971708581683 34 196} {3065799492102529076 34 197} {5502550121482998299 34 198}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=197
leader log:
[{snapshot 32 189} {5382243570772120223 32 190} {2752485766528072044 34 191} {4693990502005016902 34 192} {7944924887475585912 34 193} {6249014033396750036 34 194} {4500864648715810041 34 195} {8379903971708581683 34 196} {3065799492102529076 34 197} {5502550121482998299 34 198}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2356 term 36 leader 1 nextIndex[0]: 199  matchIndex[0]: 198
term 36 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
flag 51950 term 36 leader 1 nextIndex[2]: 199  matchIndex[2]: 198
term 36 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=199
update matchIndex[2]=198
update leader CommitIndex=197
leader log:
[{snapshot 32 189} {5382243570772120223 32 190} {2752485766528072044 34 191} {4693990502005016902 34 192} {7944924887475585912 34 193} {6249014033396750036 34 194} {4500864648715810041 34 195} {8379903971708581683 34 196} {3065799492102529076 34 197} {5502550121482998299 34 198}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=197
leader log:
[{snapshot 32 189} {5382243570772120223 32 190} {2752485766528072044 34 191} {4693990502005016902 34 192} {7944924887475585912 34 193} {6249014033396750036 34 194} {4500864648715810041 34 195} {8379903971708581683 34 196} {3065799492102529076 34 197} {5502550121482998299 34 198}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 36 server 0 not vote for server 1, 任期不够新
term 36 server 1 get outdate rpc reply from server 0
flag 1708 term 36 leader 1 nextIndex[0]: 199  matchIndex[0]: 198
term 36 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
flag 53675 term 36 leader 1 nextIndex[2]: 199  matchIndex[2]: 198
term 36 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=199
update matchIndex[2]=198
update leader CommitIndex=197
leader log:
[{snapshot 32 189} {5382243570772120223 32 190} {2752485766528072044 34 191} {4693990502005016902 34 192} {7944924887475585912 34 193} {6249014033396750036 34 194} {4500864648715810041 34 195} {8379903971708581683 34 196} {3065799492102529076 34 197} {5502550121482998299 34 198}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=197
leader log:
[{snapshot 32 189} {5382243570772120223 32 190} {2752485766528072044 34 191} {4693990502005016902 34 192} {7944924887475585912 34 193} {6249014033396750036 34 194} {4500864648715810041 34 195} {8379903971708581683 34 196} {3065799492102529076 34 197} {5502550121482998299 34 198}]
------------------------------------------------------
flag 30483 term 36 leader 1 nextIndex[0]: 199  matchIndex[0]: 198
term 36 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
flag 86636 term 36 leader 1 nextIndex[2]: 199  matchIndex[2]: 198
term 36 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=199
update matchIndex[2]=198
update leader CommitIndex=197
leader log:
[{snapshot 32 189} {5382243570772120223 32 190} {2752485766528072044 34 191} {4693990502005016902 34 192} {7944924887475585912 34 193} {6249014033396750036 34 194} {4500864648715810041 34 195} {8379903971708581683 34 196} {3065799492102529076 34 197} {5502550121482998299 34 198}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=197
leader log:
[{snapshot 32 189} {5382243570772120223 32 190} {2752485766528072044 34 191} {4693990502005016902 34 192} {7944924887475585912 34 193} {6249014033396750036 34 194} {4500864648715810041 34 195} {8379903971708581683 34 196} {3065799492102529076 34 197} {5502550121482998299 34 198}]
------------------------------------------------------
flag 39695 term 36 leader 1 nextIndex[0]: 199  matchIndex[0]: 198
term 36 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
flag 51519 term 36 leader 1 nextIndex[2]: 199  matchIndex[2]: 198
term 36 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=197
leader log:
[{snapshot 32 189} {5382243570772120223 32 190} {2752485766528072044 34 191} {4693990502005016902 34 192} {7944924887475585912 34 193} {6249014033396750036 34 194} {4500864648715810041 34 195} {8379903971708581683 34 196} {3065799492102529076 34 197} {5502550121482998299 34 198}]
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=199
update matchIndex[2]=198
update leader CommitIndex=197
leader log:
[{snapshot 32 189} {5382243570772120223 32 190} {2752485766528072044 34 191} {4693990502005016902 34 192} {7944924887475585912 34 193} {6249014033396750036 34 194} {4500864648715810041 34 195} {8379903971708581683 34 196} {3065799492102529076 34 197} {5502550121482998299 34 198}]
------------------------------------------------------
flag 85241 term 36 leader 1 nextIndex[0]: 199  matchIndex[0]: 198
term 36 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
flag 97118 term 36 leader 1 nextIndex[2]: 199  matchIndex[2]: 198
term 36 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=199
update matchIndex[2]=198
update leader CommitIndex=197
leader log:
[{snapshot 32 189} {5382243570772120223 32 190} {2752485766528072044 34 191} {4693990502005016902 34 192} {7944924887475585912 34 193} {6249014033396750036 34 194} {4500864648715810041 34 195} {8379903971708581683 34 196} {3065799492102529076 34 197} {5502550121482998299 34 198}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=197
leader log:
[{snapshot 32 189} {5382243570772120223 32 190} {2752485766528072044 34 191} {4693990502005016902 34 192} {7944924887475585912 34 193} {6249014033396750036 34 194} {4500864648715810041 34 195} {8379903971708581683 34 196} {3065799492102529076 34 197} {5502550121482998299 34 198}]
------------------------------------------------------
client write log 5502550121482998299 (index 199) to leader 1
flag 61234 term 36 leader 1 nextIndex[0]: 199  matchIndex[0]: 198
term 36 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
flag 89162 term 36 leader 1 nextIndex[2]: 199  matchIndex[2]: 198
term 36 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=200
update matchIndex[2]=199
update leader CommitIndex=199
leader log:
[{snapshot 32 189} {5382243570772120223 32 190} {2752485766528072044 34 191} {4693990502005016902 34 192} {7944924887475585912 34 193} {6249014033396750036 34 194} {4500864648715810041 34 195} {8379903971708581683 34 196} {3065799492102529076 34 197} {5502550121482998299 34 198} {5502550121482998299 36 199}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=200
update matchIndex[0]=199
update leader CommitIndex=199
leader log:
[{snapshot 32 189} {5382243570772120223 32 190} {2752485766528072044 34 191} {4693990502005016902 34 192} {7944924887475585912 34 193} {6249014033396750036 34 194} {4500864648715810041 34 195} {8379903971708581683 34 196} {3065799492102529076 34 197} {5502550121482998299 34 198} {5502550121482998299 36 199}]
------------------------------------------------------
term 36 Server1 start snapshot! index=199
term 36 server1 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=199
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24406 term 36 leader 1 nextIndex[0]: 200  matchIndex[0]: 199
term 36 leader 1 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 36 leaderCommit: 199 
------------------------------------------------------
flag 67298 term 36 leader 1 nextIndex[2]: 200  matchIndex[2]: 199
term 36 leader 1 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 36 leaderCommit: 199 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=200
update matchIndex[2]=199
update leader CommitIndex=199
leader log:
[{snapshot 36 199}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=200
update matchIndex[0]=199
update leader CommitIndex=199
leader log:
[{snapshot 36 199}]
------------------------------------------------------
term 36 Server2 start snapshot! index=199
term 36 server2 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=199
-------------------------------------------------------------
term 36 Server0 start snapshot! index=199
term 36 server0 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=199
-------------------------------------------------------------
flag 25126 term 36 leader 1 nextIndex[0]: 200  matchIndex[0]: 199
term 36 leader 1 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 36 leaderCommit: 199 
------------------------------------------------------
flag 78064 term 36 leader 1 nextIndex[2]: 200  matchIndex[2]: 199
term 36 leader 1 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 36 leaderCommit: 199 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=200
update matchIndex[2]=199
update leader CommitIndex=199
leader log:
[{snapshot 36 199}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=200
update matchIndex[0]=199
update leader CommitIndex=199
leader log:
[{snapshot 36 199}]
------------------------------------------------------
term 36 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 61711 term 36 leader 1 nextIndex[0]: 200  matchIndex[0]: 199
term 36 leader 1 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 36 leaderCommit: 199 
------------------------------------------------------
flag 97715 term 36 leader 1 nextIndex[2]: 200  matchIndex[2]: 199
term 36 leader 1 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 36 leaderCommit: 199 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=200
update matchIndex[2]=199
update leader CommitIndex=199
leader log:
[{snapshot 36 199}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=200
update matchIndex[0]=199
update leader CommitIndex=199
leader log:
[{snapshot 36 199}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39873 term 36 leader 1 nextIndex[0]: 200  matchIndex[0]: 199
term 36 leader 1 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 36 leaderCommit: 199 
------------------------------------------------------
flag 57665 term 36 leader 1 nextIndex[2]: 200  matchIndex[2]: 199
term 36 leader 1 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 36 leaderCommit: 199 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=200
update matchIndex[2]=199
update leader CommitIndex=199
leader log:
[{snapshot 36 199}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=200
update matchIndex[0]=199
update leader CommitIndex=199
leader log:
[{snapshot 36 199}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74063 term 36 leader 1 nextIndex[0]: 200  matchIndex[0]: 199
term 36 leader 1 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 36 leaderCommit: 199 
------------------------------------------------------
flag 98642 term 36 leader 1 nextIndex[2]: 200  matchIndex[2]: 199
term 36 leader 1 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 36 leaderCommit: 199 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=200
update matchIndex[2]=199
update leader CommitIndex=199
leader log:
[{snapshot 36 199}]
term 36 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=200
update matchIndex[0]=199
update leader CommitIndex=199
leader log:
[{snapshot 36 199}]
------------------------------------------------------
flag 73688 term 36 leader 1 nextIndex[0]: 200  matchIndex[0]: 199
term 36 leader 1 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 36 leaderCommit: 199 
------------------------------------------------------
flag 6277 term 36 leader 1 nextIndex[2]: 200  matchIndex[2]: 199
term 36 leader 1 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 36 leaderCommit: 199 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=200
update matchIndex[0]=199
update leader CommitIndex=199
leader log:
[{snapshot 36 199}]
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=200
update matchIndex[2]=199
update leader CommitIndex=199
leader log:
[{snapshot 36 199}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 8725704304072886638 (index 200) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78613 term 36 leader 1 nextIndex[0]: 200  matchIndex[0]: 199
term 36 leader 1 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 36 leaderCommit: 199 
------------------------------------------------------
flag 46117 term 36 leader 1 nextIndex[2]: 200  matchIndex[2]: 199
term 36 leader 1 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 36 leaderCommit: 199 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=201
update matchIndex[0]=200
update leader CommitIndex=200
leader log:
[{snapshot 36 199} {8725704304072886638 36 200}]
------------------------------------------------------
flag 95929 term 36 leader 1 nextIndex[0]: 201  matchIndex[0]: 200
term 36 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 36 leaderCommit: 200 
------------------------------------------------------
flag 40256 term 36 leader 1 nextIndex[2]: 200  matchIndex[2]: 199
term 36 leader 1 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 36 leaderCommit: 200 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=201
update matchIndex[0]=200
update leader CommitIndex=200
leader log:
[{snapshot 36 199} {8725704304072886638 36 200}]
------------------------------------------------------
client write log 2121123797863296632 (index 201) to leader 1
client write log 5361452413909464922 (index 202) to leader 1
client write log 684946028636746736 (index 203) to leader 1
client write log 3360583090904119393 (index 204) to leader 1
client write log 8425288600232504900 (index 205) to leader 1
client write log 1731546290593361907 (index 206) to leader 1
client write log 3898074505695477724 (index 207) to leader 1
client write log 3788970168353320171 (index 208) to leader 1
client write log 48679701132239574 (index 209) to leader 1
client write log 3952421939866273053 (index 210) to leader 1
client write log 5602151440967343248 (index 211) to leader 1
client write log 7508308753209232036 (index 212) to leader 1
client write log 1730830650632101059 (index 213) to leader 1
client write log 1542545751912880102 (index 214) to leader 1
client write log 3403746066162841437 (index 215) to leader 1
flag 93059 term 36 leader 1 nextIndex[0]: 201  matchIndex[0]: 200
term 36 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 36 leaderCommit: 200 
------------------------------------------------------
flag 31403 term 36 leader 1 nextIndex[2]: 200  matchIndex[2]: 199
term 36 leader 1 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 36 leaderCommit: 200 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=215
leader log:
[{snapshot 36 199} {8725704304072886638 36 200} {2121123797863296632 36 201} {5361452413909464922 36 202} {684946028636746736 36 203} {3360583090904119393 36 204} {8425288600232504900 36 205} {1731546290593361907 36 206} {3898074505695477724 36 207} {3788970168353320171 36 208} {48679701132239574 36 209} {3952421939866273053 36 210} {5602151440967343248 36 211} {7508308753209232036 36 212} {1730830650632101059 36 213} {1542545751912880102 36 214} {3403746066162841437 36 215}]
------------------------------------------------------
term 36 Server1 start snapshot! index=209
term 36 server1 snapshot success
lastIncludedIndex=209 lastApplied=210 lastIndex=215
-------------------------------------------------------------
flag 5550 term 36 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 36 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
term 36 leader 1 nextIndex[2]: 200  matchIndex[2]: 199
term 36 leader 1 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 36
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=215
leader log:
[{snapshot 36 209} {3952421939866273053 36 210} {5602151440967343248 36 211} {7508308753209232036 36 212} {1730830650632101059 36 213} {1542545751912880102 36 214} {3403746066162841437 36 215}]
------------------------------------------------------
term 36 Server0 start snapshot! index=209
term 36 server0 snapshot success
lastIncludedIndex=209 lastApplied=210 lastIndex=215
-------------------------------------------------------------
!!!!!!connect server 2
client write log 2554866860019618067 (index 216) to leader 1
term 36 server 1 not vote for server 2, 日志不够新
term 36 server 0 not vote for server 2, 日志不够新
term 38 server 2 vote for server 1
term 38 server 1 get vote from server 2
term 38 server 1 become leader
------------------------------------------------------
term 38 server 0 vote for server 1
term 38 server 1 get outdate rpc reply from server 0
flag 26953 term 38 leader 1 nextIndex[0]: 217  matchIndex[0]: 0
term 38 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
flag 11023 term 38 leader 1 nextIndex[2]: 217  matchIndex[2]: 0
term 38 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
term 38 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 217->216
------------------------------------------------------
term 38 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 217->216
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 38 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 42756 term 38 leader 1 nextIndex[0]: 216  matchIndex[0]: 0
term 38 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
term 38 leader 1 nextIndex[2]: 200  matchIndex[2]: 0
term 38 leader 1 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 36
------------------------------------------------------
term 38 server 2 InstallSnapshot success
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 209 rf.lastIncludedTerm 36 rf.commitIndex 209 rf.lastApplied 209
term 38 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 210 matchIndex[2] 209 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=215
leader log:
[{snapshot 36 209} {3952421939866273053 36 210} {5602151440967343248 36 211} {7508308753209232036 36 212} {1730830650632101059 36 213} {1542545751912880102 36 214} {3403746066162841437 36 215} {2554866860019618067 36 216}]
------------------------------------------------------
flag 26722 term 38 leader 1 nextIndex[0]: 217  matchIndex[0]: 216
term 38 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
flag 86053 term 38 leader 1 nextIndex[2]: 210  matchIndex[2]: 209
term 38 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=215
leader log:
[{snapshot 36 209} {3952421939866273053 36 210} {5602151440967343248 36 211} {7508308753209232036 36 212} {1730830650632101059 36 213} {1542545751912880102 36 214} {3403746066162841437 36 215} {2554866860019618067 36 216}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=215
leader log:
[{snapshot 36 209} {3952421939866273053 36 210} {5602151440967343248 36 211} {7508308753209232036 36 212} {1730830650632101059 36 213} {1542545751912880102 36 214} {3403746066162841437 36 215} {2554866860019618067 36 216}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38166 term 38 leader 1 nextIndex[0]: 217  matchIndex[0]: 216
term 38 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
flag 64658 term 38 leader 1 nextIndex[2]: 217  matchIndex[2]: 216
term 38 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=215
leader log:
term 38 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
[{snapshot 36 209} {3952421939866273053 36 210} {5602151440967343248 36 211} {7508308753209232036 36 212} {1730830650632101059 36 213} {1542545751912880102 36 214} {3403746066162841437 36 215} {2554866860019618067 36 216}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=215
leader log:
[{snapshot 36 209} {3952421939866273053 36 210} {5602151440967343248 36 211} {7508308753209232036 36 212} {1730830650632101059 36 213} {1542545751912880102 36 214} {3403746066162841437 36 215} {2554866860019618067 36 216}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 38 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 31534 term 38 leader 1 nextIndex[0]: 217  matchIndex[0]: 216
term 38 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
flag 76383 term 38 leader 1 nextIndex[2]: 217  matchIndex[2]: 216
term 38 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=215
leader log:
[{snapshot 36 209} {3952421939866273053 36 210} {5602151440967343248 36 211} {7508308753209232036 36 212} {1730830650632101059 36 213} {1542545751912880102 36 214} {3403746066162841437 36 215} {2554866860019618067 36 216}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=215
leader log:
[{snapshot 36 209} {3952421939866273053 36 210} {5602151440967343248 36 211} {7508308753209232036 36 212} {1730830650632101059 36 213} {1542545751912880102 36 214} {3403746066162841437 36 215} {2554866860019618067 36 216}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92538 term 38 leader 1 nextIndex[0]: 217  matchIndex[0]: 216
term 38 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
flag 27445 term 38 leader 1 nextIndex[2]: 217  matchIndex[2]: 216
term 38 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:215 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:215 
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=215
leader log:
[{snapshot 36 209} {3952421939866273053 36 210} {5602151440967343248 36 211} {7508308753209232036 36 212} {1730830650632101059 36 213} {1542545751912880102 36 214} {3403746066162841437 36 215} {2554866860019618067 36 216}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=215
leader log:
[{snapshot 36 209} {3952421939866273053 36 210} {5602151440967343248 36 211} {7508308753209232036 36 212} {1730830650632101059 36 213} {1542545751912880102 36 214} {3403746066162841437 36 215} {2554866860019618067 36 216}]
------------------------------------------------------
flag 96378 term 38 leader 1 nextIndex[0]: 217  matchIndex[0]: 216
term 38 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
flag 80517 term 38 leader 1 nextIndex[2]: 217  matchIndex[2]: 216
term 38 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=215
leader log:
[{snapshot 36 209} {3952421939866273053 36 210} {5602151440967343248 36 211} {7508308753209232036 36 212} {1730830650632101059 36 213} {1542545751912880102 36 214} {3403746066162841437 36 215} {2554866860019618067 36 216}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=215
leader log:
[{snapshot 36 209} {3952421939866273053 36 210} {5602151440967343248 36 211} {7508308753209232036 36 212} {1730830650632101059 36 213} {1542545751912880102 36 214} {3403746066162841437 36 215} {2554866860019618067 36 216}]
------------------------------------------------------
term 38 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 85590 term 38 leader 1 nextIndex[0]: 217  matchIndex[0]: 216
term 38 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
flag 13503 term 38 leader 1 nextIndex[2]: 217  matchIndex[2]: 216
term 38 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=215
leader log:
[{snapshot 36 209} {3952421939866273053 36 210} {5602151440967343248 36 211} {7508308753209232036 36 212} {1730830650632101059 36 213} {1542545751912880102 36 214} {3403746066162841437 36 215} {2554866860019618067 36 216}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=215
leader log:
[{snapshot 36 209} {3952421939866273053 36 210} {5602151440967343248 36 211} {7508308753209232036 36 212} {1730830650632101059 36 213} {1542545751912880102 36 214} {3403746066162841437 36 215} {2554866860019618067 36 216}]
------------------------------------------------------
flag 70171 term 38 leader 1 nextIndex[0]: 217  matchIndex[0]: 216
term 38 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
flag 92337 term 38 leader 1 nextIndex[2]: 217  matchIndex[2]: 216
term 38 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=215
leader log:
[{snapshot 36 209} {3952421939866273053 36 210} {5602151440967343248 36 211} {7508308753209232036 36 212} {1730830650632101059 36 213} {1542545751912880102 36 214} {3403746066162841437 36 215} {2554866860019618067 36 216}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=215
leader log:
[{snapshot 36 209} {3952421939866273053 36 210} {5602151440967343248 36 211} {7508308753209232036 36 212} {1730830650632101059 36 213} {1542545751912880102 36 214} {3403746066162841437 36 215} {2554866860019618067 36 216}]
------------------------------------------------------
flag 79751 term 38 leader 1 nextIndex[0]: 217  matchIndex[0]: 216
term 38 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
flag 65533 term 38 leader 1 nextIndex[2]: 217  matchIndex[2]: 216
term 38 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=215
leader log:
[{snapshot 36 209} {3952421939866273053 36 210} {5602151440967343248 36 211} {7508308753209232036 36 212} {1730830650632101059 36 213} {1542545751912880102 36 214} {3403746066162841437 36 215} {2554866860019618067 36 216}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=215
leader log:
[{snapshot 36 209} {3952421939866273053 36 210} {5602151440967343248 36 211} {7508308753209232036 36 212} {1730830650632101059 36 213} {1542545751912880102 36 214} {3403746066162841437 36 215} {2554866860019618067 36 216}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1228 term 38 leader 1 nextIndex[0]: 217  matchIndex[0]: 216
term 38 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
flag 50774 term 38 leader 1 nextIndex[2]: 217  matchIndex[2]: 216
term 38 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:215 
term 38 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=215
leader log:
[{snapshot 36 209} {3952421939866273053 36 210} {5602151440967343248 36 211} {7508308753209232036 36 212} {1730830650632101059 36 213} {1542545751912880102 36 214} {3403746066162841437 36 215} {2554866860019618067 36 216}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=215
leader log:
[{snapshot 36 209} {3952421939866273053 36 210} {5602151440967343248 36 211} {7508308753209232036 36 212} {1730830650632101059 36 213} {1542545751912880102 36 214} {3403746066162841437 36 215} {2554866860019618067 36 216}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42351 term 38 leader 1 nextIndex[0]: 217  matchIndex[0]: 216
term 38 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
flag 55438 term 38 leader 1 nextIndex[2]: 217  matchIndex[2]: 216
term 38 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=215
leader log:
[{snapshot 36 209} {3952421939866273053 36 210} {5602151440967343248 36 211} {7508308753209232036 36 212} {1730830650632101059 36 213} {1542545751912880102 36 214} {3403746066162841437 36 215} {2554866860019618067 36 216}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=215
leader log:
[{snapshot 36 209} {3952421939866273053 36 210} {5602151440967343248 36 211} {7508308753209232036 36 212} {1730830650632101059 36 213} {1542545751912880102 36 214} {3403746066162841437 36 215} {2554866860019618067 36 216}]
------------------------------------------------------
flag 97295 term 38 leader 1 nextIndex[0]: 217  matchIndex[0]: 216
term 38 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
flag 2354 term 38 leader 1 nextIndex[2]: 217  matchIndex[2]: 216
term 38 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:215 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=215
leader log:
[{snapshot 36 209} {3952421939866273053 36 210} {5602151440967343248 36 211} {7508308753209232036 36 212} {1730830650632101059 36 213} {1542545751912880102 36 214} {3403746066162841437 36 215} {2554866860019618067 36 216}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=215
leader log:
[{snapshot 36 209} {3952421939866273053 36 210} {5602151440967343248 36 211} {7508308753209232036 36 212} {1730830650632101059 36 213} {1542545751912880102 36 214} {3403746066162841437 36 215} {2554866860019618067 36 216}]
------------------------------------------------------
flag 67768 term 38 leader 1 nextIndex[0]: 217  matchIndex[0]: 216
term 38 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
flag 80491 term 38 leader 1 nextIndex[2]: 217  matchIndex[2]: 216
term 38 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:215 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=215
leader log:
[{snapshot 36 209} {3952421939866273053 36 210} {5602151440967343248 36 211} {7508308753209232036 36 212} {1730830650632101059 36 213} {1542545751912880102 36 214} {3403746066162841437 36 215} {2554866860019618067 36 216}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=215
leader log:
[{snapshot 36 209} {3952421939866273053 36 210} {5602151440967343248 36 211} {7508308753209232036 36 212} {1730830650632101059 36 213} {1542545751912880102 36 214} {3403746066162841437 36 215} {2554866860019618067 36 216}]
------------------------------------------------------
flag 7046 term 38 leader 1 nextIndex[0]: 217  matchIndex[0]: 216
term 38 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
flag 25247 term 38 leader 1 nextIndex[2]: 217  matchIndex[2]: 216
term 38 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=215
leader log:
[{snapshot 36 209} {3952421939866273053 36 210} {5602151440967343248 36 211} {7508308753209232036 36 212} {1730830650632101059 36 213} {1542545751912880102 36 214} {3403746066162841437 36 215} {2554866860019618067 36 216}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=215
leader log:
[{snapshot 36 209} {3952421939866273053 36 210} {5602151440967343248 36 211} {7508308753209232036 36 212} {1730830650632101059 36 213} {1542545751912880102 36 214} {3403746066162841437 36 215} {2554866860019618067 36 216}]
------------------------------------------------------
flag 31152 term 38 leader 1 nextIndex[0]: 217  matchIndex[0]: 216
term 38 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
flag 28073 term 38 leader 1 nextIndex[2]: 217  matchIndex[2]: 216
term 38 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=215
leader log:
[{snapshot 36 209} {3952421939866273053 36 210} {5602151440967343248 36 211} {7508308753209232036 36 212} {1730830650632101059 36 213} {1542545751912880102 36 214} {3403746066162841437 36 215} {2554866860019618067 36 216}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=215
leader log:
[{snapshot 36 209} {3952421939866273053 36 210} {5602151440967343248 36 211} {7508308753209232036 36 212} {1730830650632101059 36 213} {1542545751912880102 36 214} {3403746066162841437 36 215} {2554866860019618067 36 216}]
------------------------------------------------------
flag 73870 term 38 leader 1 nextIndex[0]: 217  matchIndex[0]: 216
term 38 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
flag 44407 term 38 leader 1 nextIndex[2]: 217  matchIndex[2]: 216
term 38 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:215 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=215
leader log:
[{snapshot 36 209} {3952421939866273053 36 210} {5602151440967343248 36 211} {7508308753209232036 36 212} {1730830650632101059 36 213} {1542545751912880102 36 214} {3403746066162841437 36 215} {2554866860019618067 36 216}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=215
leader log:
[{snapshot 36 209} {3952421939866273053 36 210} {5602151440967343248 36 211} {7508308753209232036 36 212} {1730830650632101059 36 213} {1542545751912880102 36 214} {3403746066162841437 36 215} {2554866860019618067 36 216}]
------------------------------------------------------
flag 94196 term 38 leader 1 nextIndex[0]: 217  matchIndex[0]: 216
term 38 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
flag 77471 term 38 leader 1 nextIndex[2]: 217  matchIndex[2]: 216
term 38 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:215 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=215
leader log:
[{snapshot 36 209} {3952421939866273053 36 210} {5602151440967343248 36 211} {7508308753209232036 36 212} {1730830650632101059 36 213} {1542545751912880102 36 214} {3403746066162841437 36 215} {2554866860019618067 36 216}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=215
leader log:
[{snapshot 36 209} {3952421939866273053 36 210} {5602151440967343248 36 211} {7508308753209232036 36 212} {1730830650632101059 36 213} {1542545751912880102 36 214} {3403746066162841437 36 215} {2554866860019618067 36 216}]
------------------------------------------------------
flag 2383 term 38 leader 1 nextIndex[0]: 217  matchIndex[0]: 216
term 38 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
flag 59110 term 38 leader 1 nextIndex[2]: 217  matchIndex[2]: 216
term 38 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=215
leader log:
[{snapshot 36 209} {3952421939866273053 36 210} {5602151440967343248 36 211} {7508308753209232036 36 212} {1730830650632101059 36 213} {1542545751912880102 36 214} {3403746066162841437 36 215} {2554866860019618067 36 216}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=215
leader log:
[{snapshot 36 209} {3952421939866273053 36 210} {5602151440967343248 36 211} {7508308753209232036 36 212} {1730830650632101059 36 213} {1542545751912880102 36 214} {3403746066162841437 36 215} {2554866860019618067 36 216}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 2554866860019618067 (index 217) to leader 1
flag 74504 term 38 leader 1 nextIndex[0]: 217  matchIndex[0]: 216
term 38 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
flag 92459 term 38 leader 1 nextIndex[2]: 217  matchIndex[2]: 216
term 38 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=217
leader log:
[{snapshot 36 209} {3952421939866273053 36 210} {5602151440967343248 36 211} {7508308753209232036 36 212} {1730830650632101059 36 213} {1542545751912880102 36 214} {3403746066162841437 36 215} {2554866860019618067 36 216} {2554866860019618067 38 217}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=217
leader log:
[{snapshot 36 209} {3952421939866273053 36 210} {5602151440967343248 36 211} {7508308753209232036 36 212} {1730830650632101059 36 213} {1542545751912880102 36 214} {3403746066162841437 36 215} {2554866860019618067 36 216} {2554866860019618067 38 217}]
------------------------------------------------------
flag 73118 term 38 leader 1 nextIndex[0]: 218  matchIndex[0]: 217
term 38 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 38 leaderCommit: 217 
------------------------------------------------------
flag 56204 term 38 leader 1 nextIndex[2]: 218  matchIndex[2]: 217
term 38 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 38 leaderCommit: 217 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=217
leader log:
[{snapshot 36 209} {3952421939866273053 36 210} {5602151440967343248 36 211} {7508308753209232036 36 212} {1730830650632101059 36 213} {1542545751912880102 36 214} {3403746066162841437 36 215} {2554866860019618067 36 216} {2554866860019618067 38 217}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=217
leader log:
[{snapshot 36 209} {3952421939866273053 36 210} {5602151440967343248 36 211} {7508308753209232036 36 212} {1730830650632101059 36 213} {1542545751912880102 36 214} {3403746066162841437 36 215} {2554866860019618067 36 216} {2554866860019618067 38 217}]
------------------------------------------------------
flag 84650 term 38 leader 1 nextIndex[0]: 218  matchIndex[0]: 217
term 38 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 38 leaderCommit: 217 
------------------------------------------------------
flag 97727 term 38 leader 1 nextIndex[2]: 218  matchIndex[2]: 217
term 38 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 38 leaderCommit: 217 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=217
leader log:
[{snapshot 36 209} {3952421939866273053 36 210} {5602151440967343248 36 211} {7508308753209232036 36 212} {1730830650632101059 36 213} {1542545751912880102 36 214} {3403746066162841437 36 215} {2554866860019618067 36 216} {2554866860019618067 38 217}]
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=217
leader log:
[{snapshot 36 209} {3952421939866273053 36 210} {5602151440967343248 36 211} {7508308753209232036 36 212} {1730830650632101059 36 213} {1542545751912880102 36 214} {3403746066162841437 36 215} {2554866860019618067 36 216} {2554866860019618067 38 217}]
------------------------------------------------------
flag 99856 term 38 leader 1 nextIndex[0]: 218  matchIndex[0]: 217
term 38 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 38 leaderCommit: 217 
------------------------------------------------------
flag 53178 term 38 leader 1 nextIndex[2]: 218  matchIndex[2]: 217
term 38 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 38 leaderCommit: 217 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=217
leader log:
[{snapshot 36 209} {3952421939866273053 36 210} {5602151440967343248 36 211} {7508308753209232036 36 212} {1730830650632101059 36 213} {1542545751912880102 36 214} {3403746066162841437 36 215} {2554866860019618067 36 216} {2554866860019618067 38 217}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=217
leader log:
[{snapshot 36 209} {3952421939866273053 36 210} {5602151440967343248 36 211} {7508308753209232036 36 212} {1730830650632101059 36 213} {1542545751912880102 36 214} {3403746066162841437 36 215} {2554866860019618067 36 216} {2554866860019618067 38 217}]
------------------------------------------------------
flag 5843 term 38 leader 1 nextIndex[0]: 218  matchIndex[0]: 217
term 38 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 38 leaderCommit: 217 
------------------------------------------------------
flag 18529 term 38 leader 1 nextIndex[2]: 218  matchIndex[2]: 217
term 38 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 38 leaderCommit: 217 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:217 
term 38 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=217
leader log:
[{snapshot 36 209} {3952421939866273053 36 210} {5602151440967343248 36 211} {7508308753209232036 36 212} {1730830650632101059 36 213} {1542545751912880102 36 214} {3403746066162841437 36 215} {2554866860019618067 36 216} {2554866860019618067 38 217}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=217
leader log:
[{snapshot 36 209} {3952421939866273053 36 210} {5602151440967343248 36 211} {7508308753209232036 36 212} {1730830650632101059 36 213} {1542545751912880102 36 214} {3403746066162841437 36 215} {2554866860019618067 36 216} {2554866860019618067 38 217}]
------------------------------------------------------
flag 74100 term 38 leader 1 nextIndex[0]: 218  matchIndex[0]: 217
term 38 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 38 leaderCommit: 217 
------------------------------------------------------
flag 74999 term 38 leader 1 nextIndex[2]: 218  matchIndex[2]: 217
term 38 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 38 leaderCommit: 217 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:217 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=217
leader log:
[{snapshot 36 209} {3952421939866273053 36 210} {5602151440967343248 36 211} {7508308753209232036 36 212} {1730830650632101059 36 213} {1542545751912880102 36 214} {3403746066162841437 36 215} {2554866860019618067 36 216} {2554866860019618067 38 217}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=217
leader log:
[{snapshot 36 209} {3952421939866273053 36 210} {5602151440967343248 36 211} {7508308753209232036 36 212} {1730830650632101059 36 213} {1542545751912880102 36 214} {3403746066162841437 36 215} {2554866860019618067 36 216} {2554866860019618067 38 217}]
------------------------------------------------------
flag 13659 term 38 leader 1 nextIndex[0]: 218  matchIndex[0]: 217
term 38 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 38 leaderCommit: 217 
------------------------------------------------------
flag 43890 term 38 leader 1 nextIndex[2]: 218  matchIndex[2]: 217
term 38 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 38 leaderCommit: 217 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=217
leader log:
[{snapshot 36 209} {3952421939866273053 36 210} {5602151440967343248 36 211} {7508308753209232036 36 212} {1730830650632101059 36 213} {1542545751912880102 36 214} {3403746066162841437 36 215} {2554866860019618067 36 216} {2554866860019618067 38 217}]
term 38 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=217
leader log:
[{snapshot 36 209} {3952421939866273053 36 210} {5602151440967343248 36 211} {7508308753209232036 36 212} {1730830650632101059 36 213} {1542545751912880102 36 214} {3403746066162841437 36 215} {2554866860019618067 36 216} {2554866860019618067 38 217}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 81352 term 38 leader 1 nextIndex[0]: 218  matchIndex[0]: 217
term 38 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 38 leaderCommit: 217 
------------------------------------------------------
flag 96972 term 38 leader 1 nextIndex[2]: 218  matchIndex[2]: 217
term 38 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 38 leaderCommit: 217 
------------------------------------------------------
flag 62049 term 38 leader 1 nextIndex[0]: 218  matchIndex[0]: 217
term 38 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 38 leaderCommit: 217 
------------------------------------------------------
flag 66707 term 38 leader 1 nextIndex[2]: 218  matchIndex[2]: 217
term 38 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 38 leaderCommit: 217 
------------------------------------------------------
flag 20487 term 38 leader 1 nextIndex[0]: 218  matchIndex[0]: 217
term 38 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 38 leaderCommit: 217 
------------------------------------------------------
flag 75976 term 38 leader 1 nextIndex[2]: 218  matchIndex[2]: 217
term 38 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 38 leaderCommit: 217 
------------------------------------------------------
term 39 server 0 vote for server 2
term 39 server 2 get vote from server 0
term 39 server 2 become leader
------------------------------------------------------
flag 90916 term 39 leader 2 nextIndex[0]: 218  matchIndex[0]: 0
term 39 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 38 leaderCommit: 217 
------------------------------------------------------
flag 66442 term 39 leader 2 nextIndex[1]: 218  matchIndex[1]: 0
term 39 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 38 leaderCommit: 217 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=217
leader log:
[{snapshot 36 209} {3952421939866273053 36 210} {5602151440967343248 36 211} {7508308753209232036 36 212} {1730830650632101059 36 213} {1542545751912880102 36 214} {3403746066162841437 36 215} {2554866860019618067 36 216} {2554866860019618067 38 217}]
------------------------------------------------------
flag 19453 term 38 leader 1 nextIndex[0]: 218  matchIndex[0]: 217
term 38 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 38 leaderCommit: 217 
------------------------------------------------------
flag 51118 term 38 leader 1 nextIndex[2]: 218  matchIndex[2]: 217
term 38 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 38 leaderCommit: 217 
------------------------------------------------------
client write log 14468507762860565 (index 218) to leader 2
flag 10217 term 39 leader 2 nextIndex[0]: 218  matchIndex[0]: 217
term 39 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 38 leaderCommit: 217 
------------------------------------------------------
flag 81867 term 39 leader 2 nextIndex[1]: 218  matchIndex[1]: 0
term 39 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 38 leaderCommit: 217 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=218
leader log:
[{snapshot 36 209} {3952421939866273053 36 210} {5602151440967343248 36 211} {7508308753209232036 36 212} {1730830650632101059 36 213} {1542545751912880102 36 214} {3403746066162841437 36 215} {2554866860019618067 36 216} {2554866860019618067 38 217} {14468507762860565 39 218}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 218->217
------------------------------------------------------
flag 38975 term 38 leader 1 nextIndex[0]: 218  matchIndex[0]: 217
term 38 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 38 leaderCommit: 217 
------------------------------------------------------
term 38 leader 1 nextIndex[2]: 0  matchIndex[2]: 217
term 38 leader 1 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 36
------------------------------------------------------
flag 3213 term 39 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 39 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 39 leaderCommit: 218 
------------------------------------------------------
flag 53271 term 39 leader 2 nextIndex[1]: 218  matchIndex[1]: 0
term 39 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 38 leaderCommit: 218 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=218
leader log:
[{snapshot 36 209} {3952421939866273053 36 210} {5602151440967343248 36 211} {7508308753209232036 36 212} {1730830650632101059 36 213} {1542545751912880102 36 214} {3403746066162841437 36 215} {2554866860019618067 36 216} {2554866860019618067 38 217} {14468507762860565 39 218}]
------------------------------------------------------
client write log 2699086329709650609 (index 219) to leader 2
client write log 9129294563580328451 (index 220) to leader 2
client write log 409177391677108269 (index 221) to leader 2
client write log 6062794349603654644 (index 222) to leader 2
client write log 8519873601810160087 (index 223) to leader 2
client write log 4774782363037772052 (index 224) to leader 2
client write log 6291043212704342222 (index 225) to leader 2
flag 84677 term 38 leader 1 nextIndex[0]: 218  matchIndex[0]: 217
term 38 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 38 leaderCommit: 217 
------------------------------------------------------
term 38 leader 1 nextIndex[2]: 0  matchIndex[2]: 217
term 38 leader 1 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 36
------------------------------------------------------
flag 21428 term 39 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 39 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 39 leaderCommit: 218 
------------------------------------------------------
flag 3115 term 39 leader 2 nextIndex[1]: 218  matchIndex[1]: 0
term 39 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 38 leaderCommit: 218 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=225
leader log:
[{snapshot 36 209} {3952421939866273053 36 210} {5602151440967343248 36 211} {7508308753209232036 36 212} {1730830650632101059 36 213} {1542545751912880102 36 214} {3403746066162841437 36 215} {2554866860019618067 36 216} {2554866860019618067 38 217} {14468507762860565 39 218} {2699086329709650609 39 219} {9129294563580328451 39 220} {409177391677108269 39 221} {6062794349603654644 39 222} {8519873601810160087 39 223} {4774782363037772052 39 224} {6291043212704342222 39 225}]
------------------------------------------------------
term 39 Server2 start snapshot! index=219
term 39 server2 snapshot success
lastIncludedIndex=219 lastApplied=220 lastIndex=225
-------------------------------------------------------------
flag 1686 term 38 leader 1 nextIndex[0]: 218  matchIndex[0]: 217
term 38 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 38 leaderCommit: 217 
------------------------------------------------------
term 38 leader 1 nextIndex[2]: 0  matchIndex[2]: 217
term 38 leader 1 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 36
------------------------------------------------------
flag 40179 term 39 leader 2 nextIndex[0]: 226  matchIndex[0]: 225
term 39 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 39 leaderCommit: 225 
------------------------------------------------------
term 39 leader 2 nextIndex[1]: 218  matchIndex[1]: 0
term 39 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 39
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=225
leader log:
[{snapshot 39 219} {9129294563580328451 39 220} {409177391677108269 39 221} {6062794349603654644 39 222} {8519873601810160087 39 223} {4774782363037772052 39 224} {6291043212704342222 39 225}]
------------------------------------------------------
term 39 Server0 start snapshot! index=219
term 39 server0 snapshot success
lastIncludedIndex=219 lastApplied=220 lastIndex=225
-------------------------------------------------------------
!!!!!!connect server 1
client write log 3034330211872855717 (index 218) to leader 1
flag 44506 term 38 leader 1 nextIndex[0]: 218  matchIndex[0]: 217
term 38 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 38 leaderCommit: 217 
------------------------------------------------------
term 38 leader 1 nextIndex[2]: 0  matchIndex[2]: 217
term 38 leader 1 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 36
------------------------------------------------------
term 39 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 38 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 39 server 0 AppendEntries false 领导者任期过期 args.Term 38
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43948 term 39 leader 2 nextIndex[0]: 226  matchIndex[0]: 225
term 39 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 39 leaderCommit: 225 
------------------------------------------------------
term 39 leader 2 nextIndex[1]: 218  matchIndex[1]: 0
term 39 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 39
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
term 39 server 1 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=225
leader log:
[{snapshot 39 219} {9129294563580328451 39 220} {409177391677108269 39 221} {6062794349603654644 39 222} {8519873601810160087 39 223} {4774782363037772052 39 224} {6291043212704342222 39 225}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 219 rf.lastIncludedTerm 39 rf.commitIndex 219 rf.lastApplied 219
term 39 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 220 matchIndex[1] 219 
------------------------------------------------------------------------
term 39 server 0 not vote for server 1, 日志不够新
term 39 server 2 not vote for server 1, 日志不够新
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 41 server 1 vote for server 2
term 41 server 0 vote for server 2
term 41 server 2 get vote from server 1
term 41 server 2 become leader
------------------------------------------------------
term 41 server 2 get outdate rpc reply from server 0
flag 63160 term 41 leader 2 nextIndex[0]: 226  matchIndex[0]: 0
term 41 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 39 leaderCommit: 225 
------------------------------------------------------
flag 53328 term 41 leader 2 nextIndex[1]: 226  matchIndex[1]: 0
term 41 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 39 leaderCommit: 225 
------------------------------------------------------
term 41 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 226->225
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=225
leader log:
[{snapshot 39 219} {9129294563580328451 39 220} {409177391677108269 39 221} {6062794349603654644 39 222} {8519873601810160087 39 223} {4774782363037772052 39 224} {6291043212704342222 39 225}]
------------------------------------------------------
flag 33080 term 41 leader 2 nextIndex[0]: 226  matchIndex[0]: 225
term 41 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 39 leaderCommit: 225 
------------------------------------------------------
flag 98248 term 41 leader 2 nextIndex[1]: 220  matchIndex[1]: 0
term 41 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 39 leaderCommit: 225 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=225
leader log:
[{snapshot 39 219} {9129294563580328451 39 220} {409177391677108269 39 221} {6062794349603654644 39 222} {8519873601810160087 39 223} {4774782363037772052 39 224} {6291043212704342222 39 225}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=225
leader log:
[{snapshot 39 219} {9129294563580328451 39 220} {409177391677108269 39 221} {6062794349603654644 39 222} {8519873601810160087 39 223} {4774782363037772052 39 224} {6291043212704342222 39 225}]
------------------------------------------------------
flag 49932 term 41 leader 2 nextIndex[0]: 226  matchIndex[0]: 225
term 41 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 39 leaderCommit: 225 
------------------------------------------------------
flag 20301 term 41 leader 2 nextIndex[1]: 226  matchIndex[1]: 225
term 41 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 39 leaderCommit: 225 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=225
leader log:
[{snapshot 39 219} {9129294563580328451 39 220} {409177391677108269 39 221} {6062794349603654644 39 222} {8519873601810160087 39 223} {4774782363037772052 39 224} {6291043212704342222 39 225}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=225
leader log:
[{snapshot 39 219} {9129294563580328451 39 220} {409177391677108269 39 221} {6062794349603654644 39 222} {8519873601810160087 39 223} {4774782363037772052 39 224} {6291043212704342222 39 225}]
------------------------------------------------------
flag 74602 term 41 leader 2 nextIndex[0]: 226  matchIndex[0]: 225
term 41 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 39 leaderCommit: 225 
------------------------------------------------------
flag 49822 term 41 leader 2 nextIndex[1]: 226  matchIndex[1]: 225
term 41 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 39 leaderCommit: 225 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=225
leader log:
[{snapshot 39 219} {9129294563580328451 39 220} {409177391677108269 39 221} {6062794349603654644 39 222} {8519873601810160087 39 223} {4774782363037772052 39 224} {6291043212704342222 39 225}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=225
leader log:
[{snapshot 39 219} {9129294563580328451 39 220} {409177391677108269 39 221} {6062794349603654644 39 222} {8519873601810160087 39 223} {4774782363037772052 39 224} {6291043212704342222 39 225}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47639 term 41 leader 2 nextIndex[0]: 226  matchIndex[0]: 225
term 41 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 39 leaderCommit: 225 
------------------------------------------------------
flag 86930 term 41 leader 2 nextIndex[1]: 226  matchIndex[1]: 225
term 41 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 39 leaderCommit: 225 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:225 
term 41 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=225
leader log:
[{snapshot 39 219} {9129294563580328451 39 220} {409177391677108269 39 221} {6062794349603654644 39 222} {8519873601810160087 39 223} {4774782363037772052 39 224} {6291043212704342222 39 225}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=225
leader log:
[{snapshot 39 219} {9129294563580328451 39 220} {409177391677108269 39 221} {6062794349603654644 39 222} {8519873601810160087 39 223} {4774782363037772052 39 224} {6291043212704342222 39 225}]
------------------------------------------------------
flag 82258 term 41 leader 2 nextIndex[0]: 226  matchIndex[0]: 225
term 41 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 39 leaderCommit: 225 
------------------------------------------------------
flag 67889 term 41 leader 2 nextIndex[1]: 226  matchIndex[1]: 225
term 41 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 39 leaderCommit: 225 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=225
leader log:
[{snapshot 39 219} {9129294563580328451 39 220} {409177391677108269 39 221} {6062794349603654644 39 222} {8519873601810160087 39 223} {4774782363037772052 39 224} {6291043212704342222 39 225}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=225
leader log:
[{snapshot 39 219} {9129294563580328451 39 220} {409177391677108269 39 221} {6062794349603654644 39 222} {8519873601810160087 39 223} {4774782363037772052 39 224} {6291043212704342222 39 225}]
------------------------------------------------------
flag 82365 term 41 leader 2 nextIndex[0]: 226  matchIndex[0]: 225
term 41 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 39 leaderCommit: 225 
------------------------------------------------------
flag 55382 term 41 leader 2 nextIndex[1]: 226  matchIndex[1]: 225
term 41 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 39 leaderCommit: 225 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=225
leader log:
[{snapshot 39 219} {9129294563580328451 39 220} {409177391677108269 39 221} {6062794349603654644 39 222} {8519873601810160087 39 223} {4774782363037772052 39 224} {6291043212704342222 39 225}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=225
leader log:
[{snapshot 39 219} {9129294563580328451 39 220} {409177391677108269 39 221} {6062794349603654644 39 222} {8519873601810160087 39 223} {4774782363037772052 39 224} {6291043212704342222 39 225}]
------------------------------------------------------
flag 86501 term 41 leader 2 nextIndex[0]: 226  matchIndex[0]: 225
term 41 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 39 leaderCommit: 225 
------------------------------------------------------
flag 11403 term 41 leader 2 nextIndex[1]: 226  matchIndex[1]: 225
term 41 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 39 leaderCommit: 225 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=225
leader log:
[{snapshot 39 219} {9129294563580328451 39 220} {409177391677108269 39 221} {6062794349603654644 39 222} {8519873601810160087 39 223} {4774782363037772052 39 224} {6291043212704342222 39 225}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=225
leader log:
[{snapshot 39 219} {9129294563580328451 39 220} {409177391677108269 39 221} {6062794349603654644 39 222} {8519873601810160087 39 223} {4774782363037772052 39 224} {6291043212704342222 39 225}]
------------------------------------------------------
flag 24324 term 41 leader 2 nextIndex[0]: 226  matchIndex[0]: 225
term 41 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 39 leaderCommit: 225 
------------------------------------------------------
flag 73662 term 41 leader 2 nextIndex[1]: 226  matchIndex[1]: 225
term 41 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 39 leaderCommit: 225 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=225
leader log:
[{snapshot 39 219} {9129294563580328451 39 220} {409177391677108269 39 221} {6062794349603654644 39 222} {8519873601810160087 39 223} {4774782363037772052 39 224} {6291043212704342222 39 225}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=225
leader log:
[{snapshot 39 219} {9129294563580328451 39 220} {409177391677108269 39 221} {6062794349603654644 39 222} {8519873601810160087 39 223} {4774782363037772052 39 224} {6291043212704342222 39 225}]
------------------------------------------------------
term 41 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 37848 term 41 leader 2 nextIndex[0]: 226  matchIndex[0]: 225
term 41 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 39 leaderCommit: 225 
------------------------------------------------------
flag 10924 term 41 leader 2 nextIndex[1]: 226  matchIndex[1]: 225
term 41 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 39 leaderCommit: 225 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=225
leader log:
[{snapshot 39 219} {9129294563580328451 39 220} {409177391677108269 39 221} {6062794349603654644 39 222} {8519873601810160087 39 223} {4774782363037772052 39 224} {6291043212704342222 39 225}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=225
leader log:
[{snapshot 39 219} {9129294563580328451 39 220} {409177391677108269 39 221} {6062794349603654644 39 222} {8519873601810160087 39 223} {4774782363037772052 39 224} {6291043212704342222 39 225}]
------------------------------------------------------
flag 52498 term 41 leader 2 nextIndex[0]: 226  matchIndex[0]: 225
term 41 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 39 leaderCommit: 225 
------------------------------------------------------
flag 92814 term 41 leader 2 nextIndex[1]: 226  matchIndex[1]: 225
term 41 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 39 leaderCommit: 225 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=225
leader log:
[{snapshot 39 219} {9129294563580328451 39 220} {409177391677108269 39 221} {6062794349603654644 39 222} {8519873601810160087 39 223} {4774782363037772052 39 224} {6291043212704342222 39 225}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=225
leader log:
[{snapshot 39 219} {9129294563580328451 39 220} {409177391677108269 39 221} {6062794349603654644 39 222} {8519873601810160087 39 223} {4774782363037772052 39 224} {6291043212704342222 39 225}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7627 term 41 leader 2 nextIndex[0]: 226  matchIndex[0]: 225
term 41 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 39 leaderCommit: 225 
------------------------------------------------------
flag 47243 term 41 leader 2 nextIndex[1]: 226  matchIndex[1]: 225
term 41 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 39 leaderCommit: 225 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=225
leader log:
[{snapshot 39 219} {9129294563580328451 39 220} {409177391677108269 39 221} {6062794349603654644 39 222} {8519873601810160087 39 223} {4774782363037772052 39 224} {6291043212704342222 39 225}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=225
leader log:
[{snapshot 39 219} {9129294563580328451 39 220} {409177391677108269 39 221} {6062794349603654644 39 222} {8519873601810160087 39 223} {4774782363037772052 39 224} {6291043212704342222 39 225}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78265 term 41 leader 2 nextIndex[0]: 226  matchIndex[0]: 225
term 41 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 39 leaderCommit: 225 
------------------------------------------------------
flag 20646 term 41 leader 2 nextIndex[1]: 226  matchIndex[1]: 225
term 41 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 39 leaderCommit: 225 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=225
leader log:
[{snapshot 39 219} {9129294563580328451 39 220} {409177391677108269 39 221} {6062794349603654644 39 222} {8519873601810160087 39 223} {4774782363037772052 39 224} {6291043212704342222 39 225}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=225
leader log:
[{snapshot 39 219} {9129294563580328451 39 220} {409177391677108269 39 221} {6062794349603654644 39 222} {8519873601810160087 39 223} {4774782363037772052 39 224} {6291043212704342222 39 225}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55201 term 41 leader 2 nextIndex[0]: 226  matchIndex[0]: 225
term 41 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 39 leaderCommit: 225 
------------------------------------------------------
flag 69650 term 41 leader 2 nextIndex[1]: 226  matchIndex[1]: 225
term 41 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 39 leaderCommit: 225 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=225
leader log:
[{snapshot 39 219} {9129294563580328451 39 220} {409177391677108269 39 221} {6062794349603654644 39 222} {8519873601810160087 39 223} {4774782363037772052 39 224} {6291043212704342222 39 225}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=225
leader log:
[{snapshot 39 219} {9129294563580328451 39 220} {409177391677108269 39 221} {6062794349603654644 39 222} {8519873601810160087 39 223} {4774782363037772052 39 224} {6291043212704342222 39 225}]
------------------------------------------------------
flag 2240 term 41 leader 2 nextIndex[0]: 226  matchIndex[0]: 225
term 41 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 39 leaderCommit: 225 
------------------------------------------------------
flag 6954 term 41 leader 2 nextIndex[1]: 226  matchIndex[1]: 225
term 41 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 39 leaderCommit: 225 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=225
leader log:
[{snapshot 39 219} {9129294563580328451 39 220} {409177391677108269 39 221} {6062794349603654644 39 222} {8519873601810160087 39 223} {4774782363037772052 39 224} {6291043212704342222 39 225}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=225
leader log:
[{snapshot 39 219} {9129294563580328451 39 220} {409177391677108269 39 221} {6062794349603654644 39 222} {8519873601810160087 39 223} {4774782363037772052 39 224} {6291043212704342222 39 225}]
------------------------------------------------------
flag 64121 term 41 leader 2 nextIndex[0]: 226  matchIndex[0]: 225
term 41 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 39 leaderCommit: 225 
------------------------------------------------------
flag 25369 term 41 leader 2 nextIndex[1]: 226  matchIndex[1]: 225
term 41 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 39 leaderCommit: 225 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=225
leader log:
[{snapshot 39 219} {9129294563580328451 39 220} {409177391677108269 39 221} {6062794349603654644 39 222} {8519873601810160087 39 223} {4774782363037772052 39 224} {6291043212704342222 39 225}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=225
leader log:
[{snapshot 39 219} {9129294563580328451 39 220} {409177391677108269 39 221} {6062794349603654644 39 222} {8519873601810160087 39 223} {4774782363037772052 39 224} {6291043212704342222 39 225}]
------------------------------------------------------
flag 17675 term 41 leader 2 nextIndex[0]: 226  matchIndex[0]: 225
term 41 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 39 leaderCommit: 225 
------------------------------------------------------
flag 402 term 41 leader 2 nextIndex[1]: 226  matchIndex[1]: 225
term 41 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 39 leaderCommit: 225 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=225
leader log:
[{snapshot 39 219} {9129294563580328451 39 220} {409177391677108269 39 221} {6062794349603654644 39 222} {8519873601810160087 39 223} {4774782363037772052 39 224} {6291043212704342222 39 225}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=225
leader log:
[{snapshot 39 219} {9129294563580328451 39 220} {409177391677108269 39 221} {6062794349603654644 39 222} {8519873601810160087 39 223} {4774782363037772052 39 224} {6291043212704342222 39 225}]
------------------------------------------------------
flag 32166 term 41 leader 2 nextIndex[0]: 226  matchIndex[0]: 225
term 41 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 39 leaderCommit: 225 
------------------------------------------------------
flag 260 term 41 leader 2 nextIndex[1]: 226  matchIndex[1]: 225
term 41 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 39 leaderCommit: 225 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=225
leader log:
[{snapshot 39 219} {9129294563580328451 39 220} {409177391677108269 39 221} {6062794349603654644 39 222} {8519873601810160087 39 223} {4774782363037772052 39 224} {6291043212704342222 39 225}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=226
update matchIndex[1]=225
update leader CommitIndex=225
leader log:
[{snapshot 39 219} {9129294563580328451 39 220} {409177391677108269 39 221} {6062794349603654644 39 222} {8519873601810160087 39 223} {4774782363037772052 39 224} {6291043212704342222 39 225}]
------------------------------------------------------
client write log 3034330211872855717 (index 226) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76393 term 41 leader 2 nextIndex[0]: 226  matchIndex[0]: 225
term 41 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 39 leaderCommit: 225 
------------------------------------------------------
flag 65090 term 41 leader 2 nextIndex[1]: 226  matchIndex[1]: 225
term 41 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 39 leaderCommit: 225 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
term 41 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
update leader CommitIndex=226
leader log:
[{snapshot 39 219} {9129294563580328451 39 220} {409177391677108269 39 221} {6062794349603654644 39 222} {8519873601810160087 39 223} {4774782363037772052 39 224} {6291043212704342222 39 225} {3034330211872855717 41 226}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=226
leader log:
[{snapshot 39 219} {9129294563580328451 39 220} {409177391677108269 39 221} {6062794349603654644 39 222} {8519873601810160087 39 223} {4774782363037772052 39 224} {6291043212704342222 39 225} {3034330211872855717 41 226}]
------------------------------------------------------
term 41 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 78852 term 41 leader 2 nextIndex[0]: 227  matchIndex[0]: 226
term 41 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 41 leaderCommit: 226 
------------------------------------------------------
flag 7764 term 41 leader 2 nextIndex[1]: 227  matchIndex[1]: 226
term 41 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 41 leaderCommit: 226 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 39 219} {9129294563580328451 39 220} {409177391677108269 39 221} {6062794349603654644 39 222} {8519873601810160087 39 223} {4774782363037772052 39 224} {6291043212704342222 39 225} {3034330211872855717 41 226}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=226
leader log:
[{snapshot 39 219} {9129294563580328451 39 220} {409177391677108269 39 221} {6062794349603654644 39 222} {8519873601810160087 39 223} {4774782363037772052 39 224} {6291043212704342222 39 225} {3034330211872855717 41 226}]
------------------------------------------------------
flag 78949 term 41 leader 2 nextIndex[0]: 227  matchIndex[0]: 226
term 41 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 41 leaderCommit: 226 
------------------------------------------------------
flag 54710 term 41 leader 2 nextIndex[1]: 227  matchIndex[1]: 226
term 41 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 41 leaderCommit: 226 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 39 219} {9129294563580328451 39 220} {409177391677108269 39 221} {6062794349603654644 39 222} {8519873601810160087 39 223} {4774782363037772052 39 224} {6291043212704342222 39 225} {3034330211872855717 41 226}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=226
leader log:
[{snapshot 39 219} {9129294563580328451 39 220} {409177391677108269 39 221} {6062794349603654644 39 222} {8519873601810160087 39 223} {4774782363037772052 39 224} {6291043212704342222 39 225} {3034330211872855717 41 226}]
------------------------------------------------------
flag 67189 term 41 leader 2 nextIndex[0]: 227  matchIndex[0]: 226
term 41 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 41 leaderCommit: 226 
------------------------------------------------------
flag 1429 term 41 leader 2 nextIndex[1]: 227  matchIndex[1]: 226
term 41 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 41 leaderCommit: 226 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=226
leader log:
[{snapshot 39 219} {9129294563580328451 39 220} {409177391677108269 39 221} {6062794349603654644 39 222} {8519873601810160087 39 223} {4774782363037772052 39 224} {6291043212704342222 39 225} {3034330211872855717 41 226}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 39 219} {9129294563580328451 39 220} {409177391677108269 39 221} {6062794349603654644 39 222} {8519873601810160087 39 223} {4774782363037772052 39 224} {6291043212704342222 39 225} {3034330211872855717 41 226}]
------------------------------------------------------
flag 13672 term 41 leader 2 nextIndex[0]: 227  matchIndex[0]: 226
term 41 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 41 leaderCommit: 226 
------------------------------------------------------
flag 74316 term 41 leader 2 nextIndex[1]: 227  matchIndex[1]: 226
term 41 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 41 leaderCommit: 226 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=226
leader log:
[{snapshot 39 219} {9129294563580328451 39 220} {409177391677108269 39 221} {6062794349603654644 39 222} {8519873601810160087 39 223} {4774782363037772052 39 224} {6291043212704342222 39 225} {3034330211872855717 41 226}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 39 219} {9129294563580328451 39 220} {409177391677108269 39 221} {6062794349603654644 39 222} {8519873601810160087 39 223} {4774782363037772052 39 224} {6291043212704342222 39 225} {3034330211872855717 41 226}]
------------------------------------------------------
flag 6019 term 41 leader 2 nextIndex[0]: 227  matchIndex[0]: 226
term 41 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 41 leaderCommit: 226 
------------------------------------------------------
flag 29716 term 41 leader 2 nextIndex[1]: 227  matchIndex[1]: 226
term 41 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 41 leaderCommit: 226 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 39 219} {9129294563580328451 39 220} {409177391677108269 39 221} {6062794349603654644 39 222} {8519873601810160087 39 223} {4774782363037772052 39 224} {6291043212704342222 39 225} {3034330211872855717 41 226}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=226
leader log:
[{snapshot 39 219} {9129294563580328451 39 220} {409177391677108269 39 221} {6062794349603654644 39 222} {8519873601810160087 39 223} {4774782363037772052 39 224} {6291043212704342222 39 225} {3034330211872855717 41 226}]
------------------------------------------------------
flag 50432 term 41 leader 2 nextIndex[0]: 227  matchIndex[0]: 226
term 41 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 41 leaderCommit: 226 
------------------------------------------------------
flag 61808 term 41 leader 2 nextIndex[1]: 227  matchIndex[1]: 226
term 41 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 41 leaderCommit: 226 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=226
leader log:
[{snapshot 39 219} {9129294563580328451 39 220} {409177391677108269 39 221} {6062794349603654644 39 222} {8519873601810160087 39 223} {4774782363037772052 39 224} {6291043212704342222 39 225} {3034330211872855717 41 226}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 39 219} {9129294563580328451 39 220} {409177391677108269 39 221} {6062794349603654644 39 222} {8519873601810160087 39 223} {4774782363037772052 39 224} {6291043212704342222 39 225} {3034330211872855717 41 226}]
------------------------------------------------------
term 41 server 1 not vote for server 2, 任期不够新
term 41 server 2 get outdate rpc reply from server 1
!!!!!!diconnect server 0
client write log 1742531967017733964 (index 227) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64056 term 41 leader 2 nextIndex[0]: 227  matchIndex[0]: 226
term 41 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 41 leaderCommit: 226 
------------------------------------------------------
flag 29903 term 41 leader 2 nextIndex[1]: 227  matchIndex[1]: 226
term 41 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 41 leaderCommit: 226 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=227
leader log:
[{snapshot 39 219} {9129294563580328451 39 220} {409177391677108269 39 221} {6062794349603654644 39 222} {8519873601810160087 39 223} {4774782363037772052 39 224} {6291043212704342222 39 225} {3034330211872855717 41 226} {1742531967017733964 41 227}]
------------------------------------------------------
flag 16411 term 41 leader 2 nextIndex[0]: 227  matchIndex[0]: 226
term 41 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 41 leaderCommit: 227 
------------------------------------------------------
flag 63289 term 41 leader 2 nextIndex[1]: 228  matchIndex[1]: 227
term 41 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 41 leaderCommit: 227 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=227
leader log:
[{snapshot 39 219} {9129294563580328451 39 220} {409177391677108269 39 221} {6062794349603654644 39 222} {8519873601810160087 39 223} {4774782363037772052 39 224} {6291043212704342222 39 225} {3034330211872855717 41 226} {1742531967017733964 41 227}]
------------------------------------------------------
client write log 2258681450955310841 (index 228) to leader 2
client write log 1992149853821289829 (index 229) to leader 2
client write log 237522839633146992 (index 230) to leader 2
client write log 8559693796052748024 (index 231) to leader 2
client write log 6972380086670446686 (index 232) to leader 2
client write log 6839243774106610980 (index 233) to leader 2
flag 81474 term 41 leader 2 nextIndex[0]: 227  matchIndex[0]: 226
term 41 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 41 leaderCommit: 227 
------------------------------------------------------
flag 42930 term 41 leader 2 nextIndex[1]: 228  matchIndex[1]: 227
term 41 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 41 leaderCommit: 227 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=233
leader log:
[{snapshot 39 219} {9129294563580328451 39 220} {409177391677108269 39 221} {6062794349603654644 39 222} {8519873601810160087 39 223} {4774782363037772052 39 224} {6291043212704342222 39 225} {3034330211872855717 41 226} {1742531967017733964 41 227} {2258681450955310841 41 228} {1992149853821289829 41 229} {237522839633146992 41 230} {8559693796052748024 41 231} {6972380086670446686 41 232} {6839243774106610980 41 233}]
------------------------------------------------------
term 41 Server2 start snapshot! index=229
term 41 server2 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=233
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 41 leader 2 nextIndex[0]: 227  matchIndex[0]: 226
term 41 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 41
------------------------------------------------------
flag 87111 term 41 leader 2 nextIndex[1]: 234  matchIndex[1]: 233
term 41 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 41 leaderCommit: 233 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=233
leader log:
[{snapshot 41 229} {237522839633146992 41 230} {8559693796052748024 41 231} {6972380086670446686 41 232} {6839243774106610980 41 233}]
------------------------------------------------------
term 41 Server1 start snapshot! index=229
term 41 server1 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=233
-------------------------------------------------------------
!!!!!!connect server 0
client write log 958330843768494396 (index 234) to leader 2
term 41 server 2 not vote for server 0, 日志不够新
term 41 server 1 not vote for server 0, 日志不够新
term 43 server 1 vote for server 2
term 43 server 0 vote for server 2
term 43 server 2 get vote from server 1
term 43 server 2 become leader
------------------------------------------------------
term 43 server 2 get outdate rpc reply from server 0
flag 57523 term 43 leader 2 nextIndex[0]: 235  matchIndex[0]: 0
term 43 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 41 leaderCommit: 233 
------------------------------------------------------
flag 39588 term 43 leader 2 nextIndex[1]: 235  matchIndex[1]: 0
term 43 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 41 leaderCommit: 233 
------------------------------------------------------
term 43 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 235->234
------------------------------------------------------
term 43 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 235->234
------------------------------------------------------
term 43 leader 2 nextIndex[0]: 227  matchIndex[0]: 0
term 43 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 41
------------------------------------------------------
flag 56756 term 43 leader 2 nextIndex[1]: 234  matchIndex[1]: 0
term 43 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 41 leaderCommit: 233 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=233
leader log:
[{snapshot 41 229} {237522839633146992 41 230} {8559693796052748024 41 231} {6972380086670446686 41 232} {6839243774106610980 41 233} {958330843768494396 41 234}]
------------------------------------------------------
term 43 server 0 InstallSnapshot success
------------------------------------------------------
term 43 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 230 matchIndex[0] 229 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 229 rf.lastIncludedTerm 41 rf.commitIndex 229 rf.lastApplied 229
flag 15378 term 43 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 43 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 41 leaderCommit: 233 
------------------------------------------------------
flag 75199 term 43 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 43 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 41 leaderCommit: 233 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=233
leader log:
[{snapshot 41 229} {237522839633146992 41 230} {8559693796052748024 41 231} {6972380086670446686 41 232} {6839243774106610980 41 233} {958330843768494396 41 234}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=233
leader log:
[{snapshot 41 229} {237522839633146992 41 230} {8559693796052748024 41 231} {6972380086670446686 41 232} {6839243774106610980 41 233} {958330843768494396 41 234}]
------------------------------------------------------
flag 45644 term 43 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 43 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 41 leaderCommit: 233 
------------------------------------------------------
flag 64439 term 43 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 43 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 41 leaderCommit: 233 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=233
leader log:
[{snapshot 41 229} {237522839633146992 41 230} {8559693796052748024 41 231} {6972380086670446686 41 232} {6839243774106610980 41 233} {958330843768494396 41 234}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=233
leader log:
[{snapshot 41 229} {237522839633146992 41 230} {8559693796052748024 41 231} {6972380086670446686 41 232} {6839243774106610980 41 233} {958330843768494396 41 234}]
------------------------------------------------------
flag 18503 term 43 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 43 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 41 leaderCommit: 233 
------------------------------------------------------
flag 49951 term 43 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 43 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 41 leaderCommit: 233 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=233
leader log:
[{snapshot 41 229} {237522839633146992 41 230} {8559693796052748024 41 231} {6972380086670446686 41 232} {6839243774106610980 41 233} {958330843768494396 41 234}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=233
leader log:
[{snapshot 41 229} {237522839633146992 41 230} {8559693796052748024 41 231} {6972380086670446686 41 232} {6839243774106610980 41 233} {958330843768494396 41 234}]
------------------------------------------------------
flag 94846 term 43 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 43 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 41 leaderCommit: 233 
------------------------------------------------------
flag 79360 term 43 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 43 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 41 leaderCommit: 233 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=233
leader log:
[{snapshot 41 229} {237522839633146992 41 230} {8559693796052748024 41 231} {6972380086670446686 41 232} {6839243774106610980 41 233} {958330843768494396 41 234}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=233
leader log:
[{snapshot 41 229} {237522839633146992 41 230} {8559693796052748024 41 231} {6972380086670446686 41 232} {6839243774106610980 41 233} {958330843768494396 41 234}]
------------------------------------------------------
flag 35525 term 43 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 43 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 41 leaderCommit: 233 
------------------------------------------------------
flag 76575 term 43 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 43 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 41 leaderCommit: 233 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=233
leader log:
[{snapshot 41 229} {237522839633146992 41 230} {8559693796052748024 41 231} {6972380086670446686 41 232} {6839243774106610980 41 233} {958330843768494396 41 234}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=233
leader log:
[{snapshot 41 229} {237522839633146992 41 230} {8559693796052748024 41 231} {6972380086670446686 41 232} {6839243774106610980 41 233} {958330843768494396 41 234}]
------------------------------------------------------
flag 73703 term 43 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 43 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 41 leaderCommit: 233 
------------------------------------------------------
flag 1652 term 43 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 43 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 41 leaderCommit: 233 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=233
leader log:
[{snapshot 41 229} {237522839633146992 41 230} {8559693796052748024 41 231} {6972380086670446686 41 232} {6839243774106610980 41 233} {958330843768494396 41 234}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=233
leader log:
[{snapshot 41 229} {237522839633146992 41 230} {8559693796052748024 41 231} {6972380086670446686 41 232} {6839243774106610980 41 233} {958330843768494396 41 234}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69365 term 43 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 43 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 41 leaderCommit: 233 
------------------------------------------------------
flag 99738 term 43 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 43 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 41 leaderCommit: 233 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=233
leader log:
[{snapshot 41 229} {237522839633146992 41 230} {8559693796052748024 41 231} {6972380086670446686 41 232} {6839243774106610980 41 233} {958330843768494396 41 234}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=233
leader log:
[{snapshot 41 229} {237522839633146992 41 230} {8559693796052748024 41 231} {6972380086670446686 41 232} {6839243774106610980 41 233} {958330843768494396 41 234}]
------------------------------------------------------
flag 62756 term 43 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 43 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 41 leaderCommit: 233 
------------------------------------------------------
flag 85198 term 43 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 43 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 41 leaderCommit: 233 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=233
leader log:
[{snapshot 41 229} {237522839633146992 41 230} {8559693796052748024 41 231} {6972380086670446686 41 232} {6839243774106610980 41 233} {958330843768494396 41 234}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=233
leader log:
[{snapshot 41 229} {237522839633146992 41 230} {8559693796052748024 41 231} {6972380086670446686 41 232} {6839243774106610980 41 233} {958330843768494396 41 234}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88887 term 43 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 43 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 41 leaderCommit: 233 
------------------------------------------------------
flag 55667 term 43 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 43 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 41 leaderCommit: 233 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=233
leader log:
[{snapshot 41 229} {237522839633146992 41 230} {8559693796052748024 41 231} {6972380086670446686 41 232} {6839243774106610980 41 233} {958330843768494396 41 234}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=233
leader log:
[{snapshot 41 229} {237522839633146992 41 230} {8559693796052748024 41 231} {6972380086670446686 41 232} {6839243774106610980 41 233} {958330843768494396 41 234}]
------------------------------------------------------
flag 85353 term 43 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 43 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 41 leaderCommit: 233 
------------------------------------------------------
flag 81151 term 43 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 43 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 41 leaderCommit: 233 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=233
leader log:
[{snapshot 41 229} {237522839633146992 41 230} {8559693796052748024 41 231} {6972380086670446686 41 232} {6839243774106610980 41 233} {958330843768494396 41 234}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=233
leader log:
[{snapshot 41 229} {237522839633146992 41 230} {8559693796052748024 41 231} {6972380086670446686 41 232} {6839243774106610980 41 233} {958330843768494396 41 234}]
------------------------------------------------------
flag 47568 term 43 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 43 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 41 leaderCommit: 233 
------------------------------------------------------
flag 10166 term 43 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 43 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 41 leaderCommit: 233 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=233
leader log:
[{snapshot 41 229} {237522839633146992 41 230} {8559693796052748024 41 231} {6972380086670446686 41 232} {6839243774106610980 41 233} {958330843768494396 41 234}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=233
leader log:
[{snapshot 41 229} {237522839633146992 41 230} {8559693796052748024 41 231} {6972380086670446686 41 232} {6839243774106610980 41 233} {958330843768494396 41 234}]
------------------------------------------------------
term 43 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 29366 term 43 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 43 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 41 leaderCommit: 233 
------------------------------------------------------
flag 89583 term 43 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 43 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 41 leaderCommit: 233 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=233
leader log:
[{snapshot 41 229} {237522839633146992 41 230} {8559693796052748024 41 231} {6972380086670446686 41 232} {6839243774106610980 41 233} {958330843768494396 41 234}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=233
leader log:
[{snapshot 41 229} {237522839633146992 41 230} {8559693796052748024 41 231} {6972380086670446686 41 232} {6839243774106610980 41 233} {958330843768494396 41 234}]
------------------------------------------------------
flag 20634 term 43 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 43 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 41 leaderCommit: 233 
------------------------------------------------------
flag 89336 term 43 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 43 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 41 leaderCommit: 233 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=233
leader log:
[{snapshot 41 229} {237522839633146992 41 230} {8559693796052748024 41 231} {6972380086670446686 41 232} {6839243774106610980 41 233} {958330843768494396 41 234}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=233
leader log:
[{snapshot 41 229} {237522839633146992 41 230} {8559693796052748024 41 231} {6972380086670446686 41 232} {6839243774106610980 41 233} {958330843768494396 41 234}]
------------------------------------------------------
flag 36089 term 43 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 43 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 41 leaderCommit: 233 
------------------------------------------------------
flag 90674 term 43 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 43 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 41 leaderCommit: 233 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=233
leader log:
[{snapshot 41 229} {237522839633146992 41 230} {8559693796052748024 41 231} {6972380086670446686 41 232} {6839243774106610980 41 233} {958330843768494396 41 234}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=233
leader log:
[{snapshot 41 229} {237522839633146992 41 230} {8559693796052748024 41 231} {6972380086670446686 41 232} {6839243774106610980 41 233} {958330843768494396 41 234}]
------------------------------------------------------
flag 83800 term 43 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 43 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 41 leaderCommit: 233 
------------------------------------------------------
flag 56781 term 43 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 43 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 41 leaderCommit: 233 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=233
leader log:
[{snapshot 41 229} {237522839633146992 41 230} {8559693796052748024 41 231} {6972380086670446686 41 232} {6839243774106610980 41 233} {958330843768494396 41 234}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=233
leader log:
[{snapshot 41 229} {237522839633146992 41 230} {8559693796052748024 41 231} {6972380086670446686 41 232} {6839243774106610980 41 233} {958330843768494396 41 234}]
------------------------------------------------------
flag 98766 term 43 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 43 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 41 leaderCommit: 233 
------------------------------------------------------
flag 67351 term 43 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 43 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 41 leaderCommit: 233 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=233
leader log:
[{snapshot 41 229} {237522839633146992 41 230} {8559693796052748024 41 231} {6972380086670446686 41 232} {6839243774106610980 41 233} {958330843768494396 41 234}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=233
leader log:
[{snapshot 41 229} {237522839633146992 41 230} {8559693796052748024 41 231} {6972380086670446686 41 232} {6839243774106610980 41 233} {958330843768494396 41 234}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35529 term 43 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 43 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 41 leaderCommit: 233 
------------------------------------------------------
flag 49230 term 43 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 43 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 41 leaderCommit: 233 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=233
leader log:
[{snapshot 41 229} {237522839633146992 41 230} {8559693796052748024 41 231} {6972380086670446686 41 232} {6839243774106610980 41 233} {958330843768494396 41 234}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=233
leader log:
[{snapshot 41 229} {237522839633146992 41 230} {8559693796052748024 41 231} {6972380086670446686 41 232} {6839243774106610980 41 233} {958330843768494396 41 234}]
------------------------------------------------------
client write log 958330843768494396 (index 235) to leader 2
flag 41458 term 43 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 43 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 41 leaderCommit: 233 
------------------------------------------------------
flag 33760 term 43 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 43 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 41 leaderCommit: 233 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 41 229} {237522839633146992 41 230} {8559693796052748024 41 231} {6972380086670446686 41 232} {6839243774106610980 41 233} {958330843768494396 41 234} {958330843768494396 43 235}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 41 229} {237522839633146992 41 230} {8559693796052748024 41 231} {6972380086670446686 41 232} {6839243774106610980 41 233} {958330843768494396 41 234} {958330843768494396 43 235}]
------------------------------------------------------
flag 29609 term 43 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 43 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 43 leaderCommit: 235 
------------------------------------------------------
flag 62378 term 43 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 43 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 43 leaderCommit: 235 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 41 229} {237522839633146992 41 230} {8559693796052748024 41 231} {6972380086670446686 41 232} {6839243774106610980 41 233} {958330843768494396 41 234} {958330843768494396 43 235}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 41 229} {237522839633146992 41 230} {8559693796052748024 41 231} {6972380086670446686 41 232} {6839243774106610980 41 233} {958330843768494396 41 234} {958330843768494396 43 235}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77742 term 43 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 43 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 43 leaderCommit: 235 
------------------------------------------------------
flag 97166 term 43 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 43 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 43 leaderCommit: 235 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:235 
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 41 229} {237522839633146992 41 230} {8559693796052748024 41 231} {6972380086670446686 41 232} {6839243774106610980 41 233} {958330843768494396 41 234} {958330843768494396 43 235}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 41 229} {237522839633146992 41 230} {8559693796052748024 41 231} {6972380086670446686 41 232} {6839243774106610980 41 233} {958330843768494396 41 234} {958330843768494396 43 235}]
------------------------------------------------------
flag 95004 term 43 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 43 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 43 leaderCommit: 235 
------------------------------------------------------
flag 2754 term 43 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 43 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 43 leaderCommit: 235 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 41 229} {237522839633146992 41 230} {8559693796052748024 41 231} {6972380086670446686 41 232} {6839243774106610980 41 233} {958330843768494396 41 234} {958330843768494396 43 235}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 41 229} {237522839633146992 41 230} {8559693796052748024 41 231} {6972380086670446686 41 232} {6839243774106610980 41 233} {958330843768494396 41 234} {958330843768494396 43 235}]
------------------------------------------------------
flag 60605 term 43 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 43 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 43 leaderCommit: 235 
------------------------------------------------------
flag 69389 term 43 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 43 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 43 leaderCommit: 235 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 41 229} {237522839633146992 41 230} {8559693796052748024 41 231} {6972380086670446686 41 232} {6839243774106610980 41 233} {958330843768494396 41 234} {958330843768494396 43 235}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 41 229} {237522839633146992 41 230} {8559693796052748024 41 231} {6972380086670446686 41 232} {6839243774106610980 41 233} {958330843768494396 41 234} {958330843768494396 43 235}]
------------------------------------------------------
flag 24444 term 43 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 43 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 43 leaderCommit: 235 
------------------------------------------------------
flag 23542 term 43 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 43 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 43 leaderCommit: 235 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:235 
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 41 229} {237522839633146992 41 230} {8559693796052748024 41 231} {6972380086670446686 41 232} {6839243774106610980 41 233} {958330843768494396 41 234} {958330843768494396 43 235}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 41 229} {237522839633146992 41 230} {8559693796052748024 41 231} {6972380086670446686 41 232} {6839243774106610980 41 233} {958330843768494396 41 234} {958330843768494396 43 235}]
------------------------------------------------------
term 43 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 15918 term 43 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 43 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 43 leaderCommit: 235 
------------------------------------------------------
flag 89998 term 43 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 43 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 43 leaderCommit: 235 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 41 229} {237522839633146992 41 230} {8559693796052748024 41 231} {6972380086670446686 41 232} {6839243774106610980 41 233} {958330843768494396 41 234} {958330843768494396 43 235}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 41 229} {237522839633146992 41 230} {8559693796052748024 41 231} {6972380086670446686 41 232} {6839243774106610980 41 233} {958330843768494396 41 234} {958330843768494396 43 235}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 0
client write log 104262455171356557 (index 236) to leader 2
flag 43726 term 43 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 43 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 43 leaderCommit: 235 
------------------------------------------------------
flag 1124 term 43 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 43 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 43 leaderCommit: 235 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=236
leader log:
[{snapshot 41 229} {237522839633146992 41 230} {8559693796052748024 41 231} {6972380086670446686 41 232} {6839243774106610980 41 233} {958330843768494396 41 234} {958330843768494396 43 235} {104262455171356557 43 236}]
------------------------------------------------------
flag 51735 term 43 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 43 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 43 leaderCommit: 236 
------------------------------------------------------
flag 33191 term 43 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 43 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 43 leaderCommit: 236 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=236
leader log:
[{snapshot 41 229} {237522839633146992 41 230} {8559693796052748024 41 231} {6972380086670446686 41 232} {6839243774106610980 41 233} {958330843768494396 41 234} {958330843768494396 43 235} {104262455171356557 43 236}]
------------------------------------------------------
client write log 7114988956657591592 (index 237) to leader 2
client write log 7855935548931984127 (index 238) to leader 2
client write log 2134426359236193792 (index 239) to leader 2
client write log 4362622259972419119 (index 240) to leader 2
client write log 8196038787495697922 (index 241) to leader 2
client write log 4495553211910449684 (index 242) to leader 2
client write log 4008268802536947739 (index 243) to leader 2
client write log 6512727380005026655 (index 244) to leader 2
client write log 7480423882553781869 (index 245) to leader 2
client write log 6455009662092654758 (index 246) to leader 2
client write log 407644139293513142 (index 247) to leader 2
client write log 6913930189414461558 (index 248) to leader 2
client write log 3250958575112334356 (index 249) to leader 2
term 43 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30698 term 43 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 43 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 43 leaderCommit: 236 
------------------------------------------------------
flag 9664 term 43 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 43 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 43 leaderCommit: 236 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=249
leader log:
[{snapshot 41 229} {237522839633146992 41 230} {8559693796052748024 41 231} {6972380086670446686 41 232} {6839243774106610980 41 233} {958330843768494396 41 234} {958330843768494396 43 235} {104262455171356557 43 236} {7114988956657591592 43 237} {7855935548931984127 43 238} {2134426359236193792 43 239} {4362622259972419119 43 240} {8196038787495697922 43 241} {4495553211910449684 43 242} {4008268802536947739 43 243} {6512727380005026655 43 244} {7480423882553781869 43 245} {6455009662092654758 43 246} {407644139293513142 43 247} {6913930189414461558 43 248} {3250958575112334356 43 249}]
------------------------------------------------------
term 43 Server2 start snapshot! index=239
term 43 server2 snapshot success
lastIncludedIndex=239 lastApplied=240 lastIndex=249
-------------------------------------------------------------
term 43 Server2 start snapshot! index=249
term 43 server2 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=249
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 43 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 43 leader 2 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 43
------------------------------------------------------
flag 27310 term 43 leader 2 nextIndex[1]: 250  matchIndex[1]: 249
term 43 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 43 leaderCommit: 249 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=249
leader log:
[{snapshot 43 249}]
------------------------------------------------------
term 43 Server1 start snapshot! index=239
term 43 server1 snapshot success
lastIncludedIndex=239 lastApplied=240 lastIndex=249
-------------------------------------------------------------
term 43 Server1 start snapshot! index=249
term 43 server1 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=249
-------------------------------------------------------------
!!!!!!connect server 0
client write log 2666753984053757949 (index 250) to leader 2
term 43 server 2 not vote for server 0, 日志不够新
term 43 server 1 not vote for server 0, 日志不够新
term 45 server 1 vote for server 2
term 45 server 0 vote for server 2
term 45 server 2 get vote from server 1
term 45 server 2 become leader
------------------------------------------------------
term 45 server 2 get outdate rpc reply from server 0
flag 52632 term 45 leader 2 nextIndex[0]: 251  matchIndex[0]: 0
term 45 leader 2 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 43 leaderCommit: 249 
------------------------------------------------------
flag 23859 term 45 leader 2 nextIndex[1]: 251  matchIndex[1]: 0
term 45 leader 2 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 43 leaderCommit: 249 
------------------------------------------------------
term 45 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 251->250
------------------------------------------------------
term 45 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 251->250
------------------------------------------------------
term 45 leader 2 nextIndex[0]: 236  matchIndex[0]: 0
term 45 leader 2 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 43
------------------------------------------------------
flag 81074 term 45 leader 2 nextIndex[1]: 250  matchIndex[1]: 0
term 45 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 43 leaderCommit: 249 
------------------------------------------------------
term 45 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 249 rf.lastIncludedTerm 43 rf.commitIndex 249 rf.lastApplied 249
term 45 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
term 45 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 250 matchIndex[0] 249 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=249
leader log:
[{snapshot 43 249} {2666753984053757949 43 250}]
------------------------------------------------------
flag 40817 term 45 leader 2 nextIndex[0]: 250  matchIndex[0]: 249
term 45 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 43 leaderCommit: 249 
------------------------------------------------------
flag 48808 term 45 leader 2 nextIndex[1]: 251  matchIndex[1]: 250
term 45 leader 2 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 43 leaderCommit: 249 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=251
update matchIndex[0]=250
update leader CommitIndex=249
leader log:
[{snapshot 43 249} {2666753984053757949 43 250}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=249
leader log:
[{snapshot 43 249} {2666753984053757949 43 250}]
------------------------------------------------------
flag 11391 term 45 leader 2 nextIndex[0]: 251  matchIndex[0]: 250
term 45 leader 2 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 43 leaderCommit: 249 
------------------------------------------------------
flag 53813 term 45 leader 2 nextIndex[1]: 251  matchIndex[1]: 250
term 45 leader 2 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 43 leaderCommit: 249 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=249
leader log:
[{snapshot 43 249} {2666753984053757949 43 250}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=251
update matchIndex[0]=250
update leader CommitIndex=249
leader log:
[{snapshot 43 249} {2666753984053757949 43 250}]
------------------------------------------------------
flag 24099 term 45 leader 2 nextIndex[0]: 251  matchIndex[0]: 250
term 45 leader 2 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 43 leaderCommit: 249 
------------------------------------------------------
flag 85929 term 45 leader 2 nextIndex[1]: 251  matchIndex[1]: 250
term 45 leader 2 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 43 leaderCommit: 249 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=249
leader log:
[{snapshot 43 249} {2666753984053757949 43 250}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=251
update matchIndex[0]=250
update leader CommitIndex=249
leader log:
[{snapshot 43 249} {2666753984053757949 43 250}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17277 term 45 leader 2 nextIndex[0]: 251  matchIndex[0]: 250
term 45 leader 2 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 43 leaderCommit: 249 
------------------------------------------------------
flag 59163 term 45 leader 2 nextIndex[1]: 251  matchIndex[1]: 250
term 45 leader 2 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 43 leaderCommit: 249 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=251
update matchIndex[0]=250
update leader CommitIndex=249
leader log:
[{snapshot 43 249} {2666753984053757949 43 250}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=249
leader log:
[{snapshot 43 249} {2666753984053757949 43 250}]
------------------------------------------------------
flag 26277 term 45 leader 2 nextIndex[0]: 251  matchIndex[0]: 250
term 45 leader 2 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 43 leaderCommit: 249 
------------------------------------------------------
flag 55614 term 45 leader 2 nextIndex[1]: 251  matchIndex[1]: 250
term 45 leader 2 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 43 leaderCommit: 249 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=249
leader log:
[{snapshot 43 249} {2666753984053757949 43 250}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=251
update matchIndex[0]=250
update leader CommitIndex=249
leader log:
[{snapshot 43 249} {2666753984053757949 43 250}]
------------------------------------------------------
flag 8767 term 45 leader 2 nextIndex[0]: 251  matchIndex[0]: 250
term 45 leader 2 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 43 leaderCommit: 249 
------------------------------------------------------
flag 36168 term 45 leader 2 nextIndex[1]: 251  matchIndex[1]: 250
term 45 leader 2 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 43 leaderCommit: 249 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=251
update matchIndex[0]=250
update leader CommitIndex=249
leader log:
[{snapshot 43 249} {2666753984053757949 43 250}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=249
leader log:
[{snapshot 43 249} {2666753984053757949 43 250}]
------------------------------------------------------
flag 20030 term 45 leader 2 nextIndex[0]: 251  matchIndex[0]: 250
term 45 leader 2 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 43 leaderCommit: 249 
------------------------------------------------------
flag 26421 term 45 leader 2 nextIndex[1]: 251  matchIndex[1]: 250
term 45 leader 2 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 43 leaderCommit: 249 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=249
leader log:
[{snapshot 43 249} {2666753984053757949 43 250}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=251
update matchIndex[0]=250
update leader CommitIndex=249
leader log:
[{snapshot 43 249} {2666753984053757949 43 250}]
------------------------------------------------------
flag 37461 term 45 leader 2 nextIndex[0]: 251  matchIndex[0]: 250
term 45 leader 2 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 43 leaderCommit: 249 
------------------------------------------------------
flag 41404 term 45 leader 2 nextIndex[1]: 251  matchIndex[1]: 250
term 45 leader 2 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 43 leaderCommit: 249 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=251
update matchIndex[0]=250
update leader CommitIndex=249
leader log:
[{snapshot 43 249} {2666753984053757949 43 250}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=249
leader log:
[{snapshot 43 249} {2666753984053757949 43 250}]
------------------------------------------------------
flag 93903 term 45 leader 2 nextIndex[0]: 251  matchIndex[0]: 250
term 45 leader 2 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 43 leaderCommit: 249 
------------------------------------------------------
flag 2109 term 45 leader 2 nextIndex[1]: 251  matchIndex[1]: 250
term 45 leader 2 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 43 leaderCommit: 249 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=251
update matchIndex[0]=250
update leader CommitIndex=249
leader log:
[{snapshot 43 249} {2666753984053757949 43 250}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=249
leader log:
[{snapshot 43 249} {2666753984053757949 43 250}]
------------------------------------------------------
flag 22956 term 45 leader 2 nextIndex[0]: 251  matchIndex[0]: 250
term 45 leader 2 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 43 leaderCommit: 249 
------------------------------------------------------
flag 86010 term 45 leader 2 nextIndex[1]: 251  matchIndex[1]: 250
term 45 leader 2 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 43 leaderCommit: 249 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=249
leader log:
[{snapshot 43 249} {2666753984053757949 43 250}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=251
update matchIndex[0]=250
update leader CommitIndex=249
leader log:
[{snapshot 43 249} {2666753984053757949 43 250}]
------------------------------------------------------
flag 84412 term 45 leader 2 nextIndex[0]: 251  matchIndex[0]: 250
term 45 leader 2 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 43 leaderCommit: 249 
------------------------------------------------------
flag 27420 term 45 leader 2 nextIndex[1]: 251  matchIndex[1]: 250
term 45 leader 2 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 43 leaderCommit: 249 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=251
update matchIndex[0]=250
update leader CommitIndex=249
leader log:
[{snapshot 43 249} {2666753984053757949 43 250}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=249
leader log:
[{snapshot 43 249} {2666753984053757949 43 250}]
------------------------------------------------------
flag 39319 term 45 leader 2 nextIndex[0]: 251  matchIndex[0]: 250
term 45 leader 2 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 43 leaderCommit: 249 
------------------------------------------------------
flag 98847 term 45 leader 2 nextIndex[1]: 251  matchIndex[1]: 250
term 45 leader 2 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 43 leaderCommit: 249 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=249
leader log:
[{snapshot 43 249} {2666753984053757949 43 250}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=251
update matchIndex[0]=250
update leader CommitIndex=249
leader log:
[{snapshot 43 249} {2666753984053757949 43 250}]
------------------------------------------------------
flag 99918 term 45 leader 2 nextIndex[0]: 251  matchIndex[0]: 250
term 45 leader 2 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 43 leaderCommit: 249 
------------------------------------------------------
flag 27827 term 45 leader 2 nextIndex[1]: 251  matchIndex[1]: 250
term 45 leader 2 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 43 leaderCommit: 249 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=249
leader log:
[{snapshot 43 249} {2666753984053757949 43 250}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=251
update matchIndex[0]=250
update leader CommitIndex=249
leader log:
[{snapshot 43 249} {2666753984053757949 43 250}]
------------------------------------------------------
flag 28927 term 45 leader 2 nextIndex[0]: 251  matchIndex[0]: 250
term 45 leader 2 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 43 leaderCommit: 249 
------------------------------------------------------
flag 83493 term 45 leader 2 nextIndex[1]: 251  matchIndex[1]: 250
term 45 leader 2 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 43 leaderCommit: 249 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=249
leader log:
[{snapshot 43 249} {2666753984053757949 43 250}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=251
update matchIndex[0]=250
update leader CommitIndex=249
leader log:
[{snapshot 43 249} {2666753984053757949 43 250}]
------------------------------------------------------
flag 42585 term 45 leader 2 nextIndex[0]: 251  matchIndex[0]: 250
term 45 leader 2 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 43 leaderCommit: 249 
------------------------------------------------------
flag 61657 term 45 leader 2 nextIndex[1]: 251  matchIndex[1]: 250
term 45 leader 2 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 43 leaderCommit: 249 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:249 
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=251
update matchIndex[0]=250
update leader CommitIndex=249
leader log:
[{snapshot 43 249} {2666753984053757949 43 250}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=249
leader log:
[{snapshot 43 249} {2666753984053757949 43 250}]
------------------------------------------------------
term 45 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 2219 term 45 leader 2 nextIndex[0]: 251  matchIndex[0]: 250
term 45 leader 2 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 43 leaderCommit: 249 
------------------------------------------------------
flag 82999 term 45 leader 2 nextIndex[1]: 251  matchIndex[1]: 250
term 45 leader 2 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 43 leaderCommit: 249 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=249
leader log:
[{snapshot 43 249} {2666753984053757949 43 250}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=251
update matchIndex[0]=250
update leader CommitIndex=249
leader log:
[{snapshot 43 249} {2666753984053757949 43 250}]
------------------------------------------------------
flag 18902 term 45 leader 2 nextIndex[0]: 251  matchIndex[0]: 250
term 45 leader 2 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 43 leaderCommit: 249 
------------------------------------------------------
flag 25765 term 45 leader 2 nextIndex[1]: 251  matchIndex[1]: 250
term 45 leader 2 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 43 leaderCommit: 249 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueterm 45 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
update nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=249
leader log:
[{snapshot 43 249} {2666753984053757949 43 250}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=251
update matchIndex[0]=250
update leader CommitIndex=249
leader log:
[{snapshot 43 249} {2666753984053757949 43 250}]
------------------------------------------------------
flag 44167 term 45 leader 2 nextIndex[0]: 251  matchIndex[0]: 250
term 45 leader 2 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 43 leaderCommit: 249 
------------------------------------------------------
flag 49230 term 45 leader 2 nextIndex[1]: 251  matchIndex[1]: 250
term 45 leader 2 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 43 leaderCommit: 249 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=251
update matchIndex[0]=250
update leader CommitIndex=249
leader log:
[{snapshot 43 249} {2666753984053757949 43 250}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=249
leader log:
[{snapshot 43 249} {2666753984053757949 43 250}]
------------------------------------------------------
client write log 2666753984053757949 (index 251) to leader 2
flag 90596 term 45 leader 2 nextIndex[0]: 251  matchIndex[0]: 250
term 45 leader 2 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 43 leaderCommit: 249 
------------------------------------------------------
flag 30305 term 45 leader 2 nextIndex[1]: 251  matchIndex[1]: 250
term 45 leader 2 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 43 leaderCommit: 249 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=251
leader log:
[{snapshot 43 249} {2666753984053757949 43 250} {2666753984053757949 45 251}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=251
leader log:
[{snapshot 43 249} {2666753984053757949 43 250} {2666753984053757949 45 251}]
------------------------------------------------------
flag 4406 term 45 leader 2 nextIndex[0]: 252  matchIndex[0]: 251
term 45 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 45 leaderCommit: 251 
------------------------------------------------------
flag 68223 term 45 leader 2 nextIndex[1]: 252  matchIndex[1]: 251
term 45 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 45 leaderCommit: 251 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:251 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=251
leader log:
[{snapshot 43 249} {2666753984053757949 43 250} {2666753984053757949 45 251}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=251
leader log:
[{snapshot 43 249} {2666753984053757949 43 250} {2666753984053757949 45 251}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97657 term 45 leader 2 nextIndex[0]: 252  matchIndex[0]: 251
term 45 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 45 leaderCommit: 251 
------------------------------------------------------
flag 6660 term 45 leader 2 nextIndex[1]: 252  matchIndex[1]: 251
term 45 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 45 leaderCommit: 251 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=251
leader log:
[{snapshot 43 249} {2666753984053757949 43 250} {2666753984053757949 45 251}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=251
leader log:
[{snapshot 43 249} {2666753984053757949 43 250} {2666753984053757949 45 251}]
------------------------------------------------------
flag 85250 term 45 leader 2 nextIndex[0]: 252  matchIndex[0]: 251
term 45 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 45 leaderCommit: 251 
------------------------------------------------------
flag 55105 term 45 leader 2 nextIndex[1]: 252  matchIndex[1]: 251
term 45 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 45 leaderCommit: 251 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=251
leader log:
[{snapshot 43 249} {2666753984053757949 43 250} {2666753984053757949 45 251}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=251
leader log:
[{snapshot 43 249} {2666753984053757949 43 250} {2666753984053757949 45 251}]
------------------------------------------------------
flag 44155 term 45 leader 2 nextIndex[0]: 252  matchIndex[0]: 251
term 45 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 45 leaderCommit: 251 
------------------------------------------------------
flag 77305 term 45 leader 2 nextIndex[1]: 252  matchIndex[1]: 251
term 45 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 45 leaderCommit: 251 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=251
leader log:
[{snapshot 43 249} {2666753984053757949 43 250} {2666753984053757949 45 251}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=251
leader log:
[{snapshot 43 249} {2666753984053757949 43 250} {2666753984053757949 45 251}]
------------------------------------------------------
flag 62066 term 45 leader 2 nextIndex[0]: 252  matchIndex[0]: 251
term 45 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 45 leaderCommit: 251 
------------------------------------------------------
flag 97588 term 45 leader 2 nextIndex[1]: 252  matchIndex[1]: 251
term 45 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 45 leaderCommit: 251 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:251 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:251 
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=251
leader log:
[{snapshot 43 249} {2666753984053757949 43 250} {2666753984053757949 45 251}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=251
leader log:
[{snapshot 43 249} {2666753984053757949 43 250} {2666753984053757949 45 251}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 2
flag 75279 term 45 leader 2 nextIndex[0]: 252  matchIndex[0]: 251
term 45 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 45 leaderCommit: 251 
------------------------------------------------------
flag 90262 term 45 leader 2 nextIndex[1]: 252  matchIndex[1]: 251
term 45 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 45 leaderCommit: 251 
------------------------------------------------------
flag 53218 term 45 leader 2 nextIndex[0]: 252  matchIndex[0]: 251
term 45 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 45 leaderCommit: 251 
------------------------------------------------------
flag 24813 term 45 leader 2 nextIndex[1]: 252  matchIndex[1]: 251
term 45 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 45 leaderCommit: 251 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61 term 45 leader 2 nextIndex[0]: 252  matchIndex[0]: 251
term 45 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 45 leaderCommit: 251 
------------------------------------------------------
flag 67149 term 45 leader 2 nextIndex[1]: 252  matchIndex[1]: 251
term 45 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 45 leaderCommit: 251 
------------------------------------------------------
flag 90915 term 45 leader 2 nextIndex[0]: 252  matchIndex[0]: 251
term 45 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 45 leaderCommit: 251 
------------------------------------------------------
flag 68320 term 45 leader 2 nextIndex[1]: 252  matchIndex[1]: 251
term 45 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 45 leaderCommit: 251 
------------------------------------------------------
term 46 server 0 vote for server 1
term 46 server 1 get vote from server 0
term 46 server 1 become leader
------------------------------------------------------
flag 30006 term 46 leader 1 nextIndex[0]: 252  matchIndex[0]: 0
term 46 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 45 leaderCommit: 251 
------------------------------------------------------
flag 82803 term 46 leader 1 nextIndex[2]: 252  matchIndex[2]: 0
term 46 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 45 leaderCommit: 251 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=251
leader log:
[{snapshot 43 249} {2666753984053757949 43 250} {2666753984053757949 45 251}]
------------------------------------------------------
client write log 6543535891107244862 (index 252) to leader 1
flag 33310 term 45 leader 2 nextIndex[0]: 252  matchIndex[0]: 251
term 45 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 45 leaderCommit: 251 
------------------------------------------------------
flag 43406 term 45 leader 2 nextIndex[1]: 252  matchIndex[1]: 251
term 45 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 45 leaderCommit: 251 
------------------------------------------------------
flag 27931 term 46 leader 1 nextIndex[0]: 252  matchIndex[0]: 251
term 46 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 45 leaderCommit: 251 
------------------------------------------------------
flag 99495 term 46 leader 1 nextIndex[2]: 252  matchIndex[2]: 0
term 46 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 45 leaderCommit: 251 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=252
leader log:
[{snapshot 43 249} {2666753984053757949 43 250} {2666753984053757949 45 251} {6543535891107244862 46 252}]
------------------------------------------------------
flag 14322 term 45 leader 2 nextIndex[0]: 252  matchIndex[0]: 251
term 45 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 45 leaderCommit: 251 
------------------------------------------------------
flag 67289 term 45 leader 2 nextIndex[1]: 252  matchIndex[1]: 251
term 45 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 45 leaderCommit: 251 
------------------------------------------------------
flag 29237 term 46 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 46 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 46 leaderCommit: 252 
------------------------------------------------------
flag 55435 term 46 leader 1 nextIndex[2]: 252  matchIndex[2]: 0
term 46 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 45 leaderCommit: 252 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=252
leader log:
[{snapshot 43 249} {2666753984053757949 43 250} {2666753984053757949 45 251} {6543535891107244862 46 252}]
------------------------------------------------------
client write log 4970416306028353986 (index 253) to leader 1
flag 31671 term 45 leader 2 nextIndex[0]: 252  matchIndex[0]: 251
term 45 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 45 leaderCommit: 251 
------------------------------------------------------
flag 65333 term 45 leader 2 nextIndex[1]: 252  matchIndex[1]: 251
term 45 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 45 leaderCommit: 251 
------------------------------------------------------
flag 13487 term 46 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 46 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 46 leaderCommit: 252 
------------------------------------------------------
flag 62120 term 46 leader 1 nextIndex[2]: 252  matchIndex[2]: 0
term 46 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 45 leaderCommit: 252 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=253
leader log:
[{snapshot 43 249} {2666753984053757949 43 250} {2666753984053757949 45 251} {6543535891107244862 46 252} {4970416306028353986 46 253}]
------------------------------------------------------
flag 66989 term 45 leader 2 nextIndex[0]: 252  matchIndex[0]: 251
term 45 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 45 leaderCommit: 251 
------------------------------------------------------
flag 95891 term 45 leader 2 nextIndex[1]: 252  matchIndex[1]: 251
term 45 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 45 leaderCommit: 251 
------------------------------------------------------
flag 33056 term 46 leader 1 nextIndex[0]: 254  matchIndex[0]: 253
term 46 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 46 leaderCommit: 253 
------------------------------------------------------
flag 32075 term 46 leader 1 nextIndex[2]: 252  matchIndex[2]: 0
term 46 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 45 leaderCommit: 253 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=253
leader log:
[{snapshot 43 249} {2666753984053757949 43 250} {2666753984053757949 45 251} {6543535891107244862 46 252} {4970416306028353986 46 253}]
------------------------------------------------------
!!!!!!connect server 2
client write log 9059694731501148966 (index 254) to leader 1
flag 14963 term 45 leader 2 nextIndex[0]: 252  matchIndex[0]: 251
term 45 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 45 leaderCommit: 251 
------------------------------------------------------
flag 97530 term 45 leader 2 nextIndex[1]: 252  matchIndex[1]: 251
term 45 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 45 leaderCommit: 251 
------------------------------------------------------
term 46 server 1 AppendEntries false 领导者任期过期 args.Term 45
------------------------------------------------------
term 46 server 0 AppendEntries false 领导者任期过期 args.Term 45
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86559 term 46 leader 1 nextIndex[0]: 254  matchIndex[0]: 253
term 46 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 46 leaderCommit: 253 
------------------------------------------------------
flag 38474 term 46 leader 1 nextIndex[2]: 252  matchIndex[2]: 0
term 46 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 45 leaderCommit: 253 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=254
leader log:
[{snapshot 43 249} {2666753984053757949 43 250} {2666753984053757949 45 251} {6543535891107244862 46 252} {4970416306028353986 46 253} {9059694731501148966 46 254}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=255
update matchIndex[0]=254
update leader CommitIndex=254
leader log:
[{snapshot 43 249} {2666753984053757949 43 250} {2666753984053757949 45 251} {6543535891107244862 46 252} {4970416306028353986 46 253} {9059694731501148966 46 254}]
------------------------------------------------------
flag 66691 term 46 leader 1 nextIndex[0]: 255  matchIndex[0]: 254
term 46 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 46 leaderCommit: 254 
------------------------------------------------------
flag 94075 term 46 leader 1 nextIndex[2]: 255  matchIndex[2]: 254
term 46 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 46 leaderCommit: 254 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=255
update matchIndex[0]=254
update leader CommitIndex=254
leader log:
[{snapshot 43 249} {2666753984053757949 43 250} {2666753984053757949 45 251} {6543535891107244862 46 252} {4970416306028353986 46 253} {9059694731501148966 46 254}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=254
leader log:
[{snapshot 43 249} {2666753984053757949 43 250} {2666753984053757949 45 251} {6543535891107244862 46 252} {4970416306028353986 46 253} {9059694731501148966 46 254}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48068 term 46 leader 1 nextIndex[0]: 255  matchIndex[0]: 254
term 46 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 46 leaderCommit: 254 
------------------------------------------------------
flag 10375 term 46 leader 1 nextIndex[2]: 255  matchIndex[2]: 254
term 46 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 46 leaderCommit: 254 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=254
leader log:
[{snapshot 43 249} {2666753984053757949 43 250} {2666753984053757949 45 251} {6543535891107244862 46 252} {4970416306028353986 46 253} {9059694731501148966 46 254}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=255
update matchIndex[0]=254
update leader CommitIndex=254
leader log:
[{snapshot 43 249} {2666753984053757949 43 250} {2666753984053757949 45 251} {6543535891107244862 46 252} {4970416306028353986 46 253} {9059694731501148966 46 254}]
------------------------------------------------------
flag 82344 term 46 leader 1 nextIndex[0]: 255  matchIndex[0]: 254
term 46 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 46 leaderCommit: 254 
------------------------------------------------------
flag 47344 term 46 leader 1 nextIndex[2]: 255  matchIndex[2]: 254
term 46 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 46 leaderCommit: 254 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=254
leader log:
[{snapshot 43 249} {2666753984053757949 43 250} {2666753984053757949 45 251} {6543535891107244862 46 252} {4970416306028353986 46 253} {9059694731501148966 46 254}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=255
update matchIndex[0]=254
update leader CommitIndex=254
leader log:
[{snapshot 43 249} {2666753984053757949 43 250} {2666753984053757949 45 251} {6543535891107244862 46 252} {4970416306028353986 46 253} {9059694731501148966 46 254}]
------------------------------------------------------
flag 33538 term 46 leader 1 nextIndex[0]: 255  matchIndex[0]: 254
term 46 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 46 leaderCommit: 254 
------------------------------------------------------
flag 92197 term 46 leader 1 nextIndex[2]: 255  matchIndex[2]: 254
term 46 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 46 leaderCommit: 254 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=254
leader log:
[{snapshot 43 249} {2666753984053757949 43 250} {2666753984053757949 45 251} {6543535891107244862 46 252} {4970416306028353986 46 253} {9059694731501148966 46 254}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=255
update matchIndex[0]=254
update leader CommitIndex=254
leader log:
[{snapshot 43 249} {2666753984053757949 43 250} {2666753984053757949 45 251} {6543535891107244862 46 252} {4970416306028353986 46 253} {9059694731501148966 46 254}]
------------------------------------------------------
flag 72961 term 46 leader 1 nextIndex[0]: 255  matchIndex[0]: 254
term 46 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 46 leaderCommit: 254 
------------------------------------------------------
flag 42954 term 46 leader 1 nextIndex[2]: 255  matchIndex[2]: 254
term 46 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 46 leaderCommit: 254 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:254 
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=254
leader log:
------------------------------------------------------
[{snapshot 43 249} {2666753984053757949 43 250} {2666753984053757949 45 251} {6543535891107244862 46 252} {4970416306028353986 46 253} {9059694731501148966 46 254}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=255
update matchIndex[0]=254
update leader CommitIndex=254
leader log:
[{snapshot 43 249} {2666753984053757949 43 250} {2666753984053757949 45 251} {6543535891107244862 46 252} {4970416306028353986 46 253} {9059694731501148966 46 254}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 1940452614280120537 (index 255) to leader 1
flag 90251 term 46 leader 1 nextIndex[0]: 255  matchIndex[0]: 254
term 46 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 46 leaderCommit: 254 
------------------------------------------------------
flag 3746 term 46 leader 1 nextIndex[2]: 255  matchIndex[2]: 254
term 46 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 46 leaderCommit: 254 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=255
leader log:
[{snapshot 43 249} {2666753984053757949 43 250} {2666753984053757949 45 251} {6543535891107244862 46 252} {4970416306028353986 46 253} {9059694731501148966 46 254} {1940452614280120537 46 255}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 255->254
------------------------------------------------------
flag 58418 term 46 leader 1 nextIndex[0]: 256  matchIndex[0]: 255
term 46 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 46 leaderCommit: 255 
------------------------------------------------------
term 46 leader 1 nextIndex[2]: 0  matchIndex[2]: 254
term 46 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 43
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=255
leader log:
[{snapshot 43 249} {2666753984053757949 43 250} {2666753984053757949 45 251} {6543535891107244862 46 252} {4970416306028353986 46 253} {9059694731501148966 46 254} {1940452614280120537 46 255}]
------------------------------------------------------
client write log 8217681079135704438 (index 256) to leader 1
client write log 4741674754176700232 (index 257) to leader 1
client write log 7259420318061646561 (index 258) to leader 1
client write log 4137060201395681859 (index 259) to leader 1
client write log 153892797578577949 (index 260) to leader 1
client write log 4101329760148718991 (index 261) to leader 1
client write log 6713968953582077498 (index 262) to leader 1
client write log 1825800904574992812 (index 263) to leader 1
client write log 1148582381018761594 (index 264) to leader 1
client write log 5395080303469513972 (index 265) to leader 1
client write log 1499243423749112641 (index 266) to leader 1
flag 75789 term 46 leader 1 nextIndex[0]: 256  matchIndex[0]: 255
term 46 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 46 leaderCommit: 255 
------------------------------------------------------
term 46 leader 1 nextIndex[2]: 0  matchIndex[2]: 254
term 46 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 43
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=266
leader log:
[{snapshot 43 249} {2666753984053757949 43 250} {2666753984053757949 45 251} {6543535891107244862 46 252} {4970416306028353986 46 253} {9059694731501148966 46 254} {1940452614280120537 46 255} {8217681079135704438 46 256} {4741674754176700232 46 257} {7259420318061646561 46 258} {4137060201395681859 46 259} {153892797578577949 46 260} {4101329760148718991 46 261} {6713968953582077498 46 262} {1825800904574992812 46 263} {1148582381018761594 46 264} {5395080303469513972 46 265} {1499243423749112641 46 266}]
------------------------------------------------------
term 46 Server1 start snapshot! index=259
term 46 server1 snapshot success
lastIncludedIndex=259 lastApplied=260 lastIndex=266
-------------------------------------------------------------
flag 96516 term 46 leader 1 nextIndex[0]: 267  matchIndex[0]: 266
term 46 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 266 
------------------------------------------------------
term 46 leader 1 nextIndex[2]: 0  matchIndex[2]: 254
term 46 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 46
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=266
leader log:
[{snapshot 46 259} {153892797578577949 46 260} {4101329760148718991 46 261} {6713968953582077498 46 262} {1825800904574992812 46 263} {1148582381018761594 46 264} {5395080303469513972 46 265} {1499243423749112641 46 266}]
------------------------------------------------------
term 46 Server0 start snapshot! index=259
term 46 server0 snapshot success
lastIncludedIndex=259 lastApplied=260 lastIndex=266
-------------------------------------------------------------
!!!!!!connect server 2
client write log 6795549125705477874 (index 267) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 46 server 1 not vote for server 2, 日志不够新
term 46 server 0 not vote for server 2, 日志不够新
term 48 server 2 vote for server 1
term 48 server 0 vote for server 1
term 48 server 1 get vote from server 2
term 48 server 1 become leader
------------------------------------------------------
term 48 server 1 get outdate rpc reply from server 0
flag 9472 term 48 leader 1 nextIndex[0]: 268  matchIndex[0]: 0
term 48 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 46 leaderCommit: 266 
------------------------------------------------------
flag 92787 term 48 leader 1 nextIndex[2]: 268  matchIndex[2]: 0
term 48 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 46 leaderCommit: 266 
------------------------------------------------------
term 48 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 48 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 268->267
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 268->267
------------------------------------------------------
flag 77099 term 48 leader 1 nextIndex[0]: 267  matchIndex[0]: 0
term 48 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 46 leaderCommit: 266 
------------------------------------------------------
term 48 leader 1 nextIndex[2]: 255  matchIndex[2]: 0
term 48 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 46
------------------------------------------------------
term 48 server 2 InstallSnapshot success
------------------------------------------------------
term 48 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 260 matchIndex[2] 259 
------------------------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=266
leader log:
[{snapshot 46 259} {153892797578577949 46 260} {4101329760148718991 46 261} {6713968953582077498 46 262} {1825800904574992812 46 263} {1148582381018761594 46 264} {5395080303469513972 46 265} {1499243423749112641 46 266} {6795549125705477874 46 267}]
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 259 rf.lastIncludedTerm 46 rf.commitIndex 259 rf.lastApplied 259
flag 86919 term 48 leader 1 nextIndex[0]: 268  matchIndex[0]: 267
term 48 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 46 leaderCommit: 266 
------------------------------------------------------
flag 28137 term 48 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 48 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 46 leaderCommit: 266 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=266
leader log:
[{snapshot 46 259} {153892797578577949 46 260} {4101329760148718991 46 261} {6713968953582077498 46 262} {1825800904574992812 46 263} {1148582381018761594 46 264} {5395080303469513972 46 265} {1499243423749112641 46 266} {6795549125705477874 46 267}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=266
leader log:
[{snapshot 46 259} {153892797578577949 46 260} {4101329760148718991 46 261} {6713968953582077498 46 262} {1825800904574992812 46 263} {1148582381018761594 46 264} {5395080303469513972 46 265} {1499243423749112641 46 266} {6795549125705477874 46 267}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18155 term 48 leader 1 nextIndex[0]: 268  matchIndex[0]: 267
term 48 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 46 leaderCommit: 266 
------------------------------------------------------
flag 38388 term 48 leader 1 nextIndex[2]: 268  matchIndex[2]: 267
term 48 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 46 leaderCommit: 266 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=266
leader log:
[{snapshot 46 259} {153892797578577949 46 260} {4101329760148718991 46 261} {6713968953582077498 46 262} {1825800904574992812 46 263} {1148582381018761594 46 264} {5395080303469513972 46 265} {1499243423749112641 46 266} {6795549125705477874 46 267}]
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=266
leader log:
[{snapshot 46 259} {153892797578577949 46 260} {4101329760148718991 46 261} {6713968953582077498 46 262} {1825800904574992812 46 263} {1148582381018761594 46 264} {5395080303469513972 46 265} {1499243423749112641 46 266} {6795549125705477874 46 267}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78596 term 48 leader 1 nextIndex[0]: 268  matchIndex[0]: 267
term 48 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 46 leaderCommit: 266 
------------------------------------------------------
flag 81515 term 48 leader 1 nextIndex[2]: 268  matchIndex[2]: 267
term 48 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 46 leaderCommit: 266 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=266
leader log:
[{snapshot 46 259} {153892797578577949 46 260} {4101329760148718991 46 261} {6713968953582077498 46 262} {1825800904574992812 46 263} {1148582381018761594 46 264} {5395080303469513972 46 265} {1499243423749112641 46 266} {6795549125705477874 46 267}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=266
leader log:
[{snapshot 46 259} {153892797578577949 46 260} {4101329760148718991 46 261} {6713968953582077498 46 262} {1825800904574992812 46 263} {1148582381018761594 46 264} {5395080303469513972 46 265} {1499243423749112641 46 266} {6795549125705477874 46 267}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8653 term 48 leader 1 nextIndex[0]: 268  matchIndex[0]: 267
term 48 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 46 leaderCommit: 266 
------------------------------------------------------
flag 39785 term 48 leader 1 nextIndex[2]: 268  matchIndex[2]: 267
term 48 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 46 leaderCommit: 266 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=266
leader log:
term 48 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
[{snapshot 46 259} {153892797578577949 46 260} {4101329760148718991 46 261} {6713968953582077498 46 262} {1825800904574992812 46 263} {1148582381018761594 46 264} {5395080303469513972 46 265} {1499243423749112641 46 266} {6795549125705477874 46 267}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=266
leader log:
[{snapshot 46 259} {153892797578577949 46 260} {4101329760148718991 46 261} {6713968953582077498 46 262} {1825800904574992812 46 263} {1148582381018761594 46 264} {5395080303469513972 46 265} {1499243423749112641 46 266} {6795549125705477874 46 267}]
------------------------------------------------------
flag 96269 term 48 leader 1 nextIndex[0]: 268  matchIndex[0]: 267
term 48 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 46 leaderCommit: 266 
------------------------------------------------------
flag 1164 term 48 leader 1 nextIndex[2]: 268  matchIndex[2]: 267
term 48 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 46 leaderCommit: 266 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=266
leader log:
[{snapshot 46 259} {153892797578577949 46 260} {4101329760148718991 46 261} {6713968953582077498 46 262} {1825800904574992812 46 263} {1148582381018761594 46 264} {5395080303469513972 46 265} {1499243423749112641 46 266} {6795549125705477874 46 267}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=266
leader log:
[{snapshot 46 259} {153892797578577949 46 260} {4101329760148718991 46 261} {6713968953582077498 46 262} {1825800904574992812 46 263} {1148582381018761594 46 264} {5395080303469513972 46 265} {1499243423749112641 46 266} {6795549125705477874 46 267}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61543 term 48 leader 1 nextIndex[0]: 268  matchIndex[0]: 267
term 48 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 46 leaderCommit: 266 
------------------------------------------------------
flag 92339 term 48 leader 1 nextIndex[2]: 268  matchIndex[2]: 267
term 48 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 46 leaderCommit: 266 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=266
leader log:
[{snapshot 46 259} {153892797578577949 46 260} {4101329760148718991 46 261} {6713968953582077498 46 262} {1825800904574992812 46 263} {1148582381018761594 46 264} {5395080303469513972 46 265} {1499243423749112641 46 266} {6795549125705477874 46 267}]
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=266
leader log:
[{snapshot 46 259} {153892797578577949 46 260} {4101329760148718991 46 261} {6713968953582077498 46 262} {1825800904574992812 46 263} {1148582381018761594 46 264} {5395080303469513972 46 265} {1499243423749112641 46 266} {6795549125705477874 46 267}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72909 term 48 leader 1 nextIndex[0]: 268  matchIndex[0]: 267
term 48 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 46 leaderCommit: 266 
------------------------------------------------------
flag 38133 term 48 leader 1 nextIndex[2]: 268  matchIndex[2]: 267
term 48 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 46 leaderCommit: 266 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=266
leader log:
[{snapshot 46 259} {153892797578577949 46 260} {4101329760148718991 46 261} {6713968953582077498 46 262} {1825800904574992812 46 263} {1148582381018761594 46 264} {5395080303469513972 46 265} {1499243423749112641 46 266} {6795549125705477874 46 267}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=266
leader log:
[{snapshot 46 259} {153892797578577949 46 260} {4101329760148718991 46 261} {6713968953582077498 46 262} {1825800904574992812 46 263} {1148582381018761594 46 264} {5395080303469513972 46 265} {1499243423749112641 46 266} {6795549125705477874 46 267}]
------------------------------------------------------
flag 22633 term 48 leader 1 nextIndex[0]: 268  matchIndex[0]: 267
term 48 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 46 leaderCommit: 266 
------------------------------------------------------
flag 83876 term 48 leader 1 nextIndex[2]: 268  matchIndex[2]: 267
term 48 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 46 leaderCommit: 266 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=266
leader log:
[{snapshot 46 259} {153892797578577949 46 260} {4101329760148718991 46 261} {6713968953582077498 46 262} {1825800904574992812 46 263} {1148582381018761594 46 264} {5395080303469513972 46 265} {1499243423749112641 46 266} {6795549125705477874 46 267}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=266
leader log:
[{snapshot 46 259} {153892797578577949 46 260} {4101329760148718991 46 261} {6713968953582077498 46 262} {1825800904574992812 46 263} {1148582381018761594 46 264} {5395080303469513972 46 265} {1499243423749112641 46 266} {6795549125705477874 46 267}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51803 term 48 leader 1 nextIndex[0]: 268  matchIndex[0]: 267
term 48 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 46 leaderCommit: 266 
------------------------------------------------------
flag 62192 term 48 leader 1 nextIndex[2]: 268  matchIndex[2]: 267
term 48 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 46 leaderCommit: 266 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:266 
term 48 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=266
leader log:
[{snapshot 46 259} {153892797578577949 46 260} {4101329760148718991 46 261} {6713968953582077498 46 262} {1825800904574992812 46 263} {1148582381018761594 46 264} {5395080303469513972 46 265} {1499243423749112641 46 266} {6795549125705477874 46 267}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=266
leader log:
[{snapshot 46 259} {153892797578577949 46 260} {4101329760148718991 46 261} {6713968953582077498 46 262} {1825800904574992812 46 263} {1148582381018761594 46 264} {5395080303469513972 46 265} {1499243423749112641 46 266} {6795549125705477874 46 267}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76146 term 48 leader 1 nextIndex[0]: 268  matchIndex[0]: 267
term 48 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 46 leaderCommit: 266 
------------------------------------------------------
flag 59974 term 48 leader 1 nextIndex[2]: 268  matchIndex[2]: 267
term 48 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 46 leaderCommit: 266 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=266
leader log:
[{snapshot 46 259} {153892797578577949 46 260} {4101329760148718991 46 261} {6713968953582077498 46 262} {1825800904574992812 46 263} {1148582381018761594 46 264} {5395080303469513972 46 265} {1499243423749112641 46 266} {6795549125705477874 46 267}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=266
leader log:
[{snapshot 46 259} {153892797578577949 46 260} {4101329760148718991 46 261} {6713968953582077498 46 262} {1825800904574992812 46 263} {1148582381018761594 46 264} {5395080303469513972 46 265} {1499243423749112641 46 266} {6795549125705477874 46 267}]
------------------------------------------------------
flag 26905 term 48 leader 1 nextIndex[0]: 268  matchIndex[0]: 267
term 48 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 46 leaderCommit: 266 
------------------------------------------------------
flag 12875 term 48 leader 1 nextIndex[2]: 268  matchIndex[2]: 267
term 48 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 46 leaderCommit: 266 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=266
leader log:
[{snapshot 46 259} {153892797578577949 46 260} {4101329760148718991 46 261} {6713968953582077498 46 262} {1825800904574992812 46 263} {1148582381018761594 46 264} {5395080303469513972 46 265} {1499243423749112641 46 266} {6795549125705477874 46 267}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=266
leader log:
[{snapshot 46 259} {153892797578577949 46 260} {4101329760148718991 46 261} {6713968953582077498 46 262} {1825800904574992812 46 263} {1148582381018761594 46 264} {5395080303469513972 46 265} {1499243423749112641 46 266} {6795549125705477874 46 267}]
------------------------------------------------------
flag 70523 term 48 leader 1 nextIndex[0]: 268  matchIndex[0]: 267
term 48 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 46 leaderCommit: 266 
------------------------------------------------------
flag 62427 term 48 leader 1 nextIndex[2]: 268  matchIndex[2]: 267
term 48 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 46 leaderCommit: 266 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=266
leader log:
[{snapshot 46 259} {153892797578577949 46 260} {4101329760148718991 46 261} {6713968953582077498 46 262} {1825800904574992812 46 263} {1148582381018761594 46 264} {5395080303469513972 46 265} {1499243423749112641 46 266} {6795549125705477874 46 267}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=266
leader log:
[{snapshot 46 259} {153892797578577949 46 260} {4101329760148718991 46 261} {6713968953582077498 46 262} {1825800904574992812 46 263} {1148582381018761594 46 264} {5395080303469513972 46 265} {1499243423749112641 46 266} {6795549125705477874 46 267}]
------------------------------------------------------
flag 56018 term 48 leader 1 nextIndex[0]: 268  matchIndex[0]: 267
term 48 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 46 leaderCommit: 266 
------------------------------------------------------
flag 45047 term 48 leader 1 nextIndex[2]: 268  matchIndex[2]: 267
term 48 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 46 leaderCommit: 266 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=266
leader log:
[{snapshot 46 259} {153892797578577949 46 260} {4101329760148718991 46 261} {6713968953582077498 46 262} {1825800904574992812 46 263} {1148582381018761594 46 264} {5395080303469513972 46 265} {1499243423749112641 46 266} {6795549125705477874 46 267}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=266
leader log:
[{snapshot 46 259} {153892797578577949 46 260} {4101329760148718991 46 261} {6713968953582077498 46 262} {1825800904574992812 46 263} {1148582381018761594 46 264} {5395080303469513972 46 265} {1499243423749112641 46 266} {6795549125705477874 46 267}]
------------------------------------------------------
flag 49748 term 48 leader 1 nextIndex[0]: 268  matchIndex[0]: 267
term 48 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 46 leaderCommit: 266 
------------------------------------------------------
flag 55739 term 48 leader 1 nextIndex[2]: 268  matchIndex[2]: 267
term 48 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 46 leaderCommit: 266 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=266
leader log:
[{snapshot 46 259} {153892797578577949 46 260} {4101329760148718991 46 261} {6713968953582077498 46 262} {1825800904574992812 46 263} {1148582381018761594 46 264} {5395080303469513972 46 265} {1499243423749112641 46 266} {6795549125705477874 46 267}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=266
leader log:
[{snapshot 46 259} {153892797578577949 46 260} {4101329760148718991 46 261} {6713968953582077498 46 262} {1825800904574992812 46 263} {1148582381018761594 46 264} {5395080303469513972 46 265} {1499243423749112641 46 266} {6795549125705477874 46 267}]
------------------------------------------------------
term 48 server 2 not vote for server 1, 任期不够新
term 48 server 1 get outdate rpc reply from server 2
flag 56076 term 48 leader 1 nextIndex[0]: 268  matchIndex[0]: 267
term 48 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 46 leaderCommit: 266 
------------------------------------------------------
flag 71513 term 48 leader 1 nextIndex[2]: 268  matchIndex[2]: 267
term 48 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 46 leaderCommit: 266 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=266
leader log:
[{snapshot 46 259} {153892797578577949 46 260} {4101329760148718991 46 261} {6713968953582077498 46 262} {1825800904574992812 46 263} {1148582381018761594 46 264} {5395080303469513972 46 265} {1499243423749112641 46 266} {6795549125705477874 46 267}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=266
leader log:
[{snapshot 46 259} {153892797578577949 46 260} {4101329760148718991 46 261} {6713968953582077498 46 262} {1825800904574992812 46 263} {1148582381018761594 46 264} {5395080303469513972 46 265} {1499243423749112641 46 266} {6795549125705477874 46 267}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66432 term 48 leader 1 nextIndex[0]: 268  matchIndex[0]: 267
term 48 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 46 leaderCommit: 266 
------------------------------------------------------
flag 653 term 48 leader 1 nextIndex[2]: 268  matchIndex[2]: 267
term 48 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 46 leaderCommit: 266 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=266
leader log:
[{snapshot 46 259} {153892797578577949 46 260} {4101329760148718991 46 261} {6713968953582077498 46 262} {1825800904574992812 46 263} {1148582381018761594 46 264} {5395080303469513972 46 265} {1499243423749112641 46 266} {6795549125705477874 46 267}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=266
leader log:
[{snapshot 46 259} {153892797578577949 46 260} {4101329760148718991 46 261} {6713968953582077498 46 262} {1825800904574992812 46 263} {1148582381018761594 46 264} {5395080303469513972 46 265} {1499243423749112641 46 266} {6795549125705477874 46 267}]
------------------------------------------------------
flag 91419 term 48 leader 1 nextIndex[0]: 268  matchIndex[0]: 267
term 48 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 46 leaderCommit: 266 
------------------------------------------------------
flag 1677 term 48 leader 1 nextIndex[2]: 268  matchIndex[2]: 267
term 48 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 46 leaderCommit: 266 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=266
leader log:
[{snapshot 46 259} {153892797578577949 46 260} {4101329760148718991 46 261} {6713968953582077498 46 262} {1825800904574992812 46 263} {1148582381018761594 46 264} {5395080303469513972 46 265} {1499243423749112641 46 266} {6795549125705477874 46 267}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=266
leader log:
[{snapshot 46 259} {153892797578577949 46 260} {4101329760148718991 46 261} {6713968953582077498 46 262} {1825800904574992812 46 263} {1148582381018761594 46 264} {5395080303469513972 46 265} {1499243423749112641 46 266} {6795549125705477874 46 267}]
------------------------------------------------------
flag 62737 term 48 leader 1 nextIndex[0]: 268  matchIndex[0]: 267
term 48 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 46 leaderCommit: 266 
------------------------------------------------------
flag 6427 term 48 leader 1 nextIndex[2]: 268  matchIndex[2]: 267
term 48 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 46 leaderCommit: 266 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=266
leader log:
[{snapshot 46 259} {153892797578577949 46 260} {4101329760148718991 46 261} {6713968953582077498 46 262} {1825800904574992812 46 263} {1148582381018761594 46 264} {5395080303469513972 46 265} {1499243423749112641 46 266} {6795549125705477874 46 267}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=266
leader log:
[{snapshot 46 259} {153892797578577949 46 260} {4101329760148718991 46 261} {6713968953582077498 46 262} {1825800904574992812 46 263} {1148582381018761594 46 264} {5395080303469513972 46 265} {1499243423749112641 46 266} {6795549125705477874 46 267}]
------------------------------------------------------
client write log 6795549125705477874 (index 268) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65397 term 48 leader 1 nextIndex[0]: 268  matchIndex[0]: 267
term 48 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 46 leaderCommit: 266 
------------------------------------------------------
flag 79161 term 48 leader 1 nextIndex[2]: 268  matchIndex[2]: 267
term 48 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 46 leaderCommit: 266 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=268
leader log:
[{snapshot 46 259} {153892797578577949 46 260} {4101329760148718991 46 261} {6713968953582077498 46 262} {1825800904574992812 46 263} {1148582381018761594 46 264} {5395080303469513972 46 265} {1499243423749112641 46 266} {6795549125705477874 46 267} {6795549125705477874 48 268}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=269
update matchIndex[0]=268
update leader CommitIndex=268
leader log:
[{snapshot 46 259} {153892797578577949 46 260} {4101329760148718991 46 261} {6713968953582077498 46 262} {1825800904574992812 46 263} {1148582381018761594 46 264} {5395080303469513972 46 265} {1499243423749112641 46 266} {6795549125705477874 46 267} {6795549125705477874 48 268}]
------------------------------------------------------
flag 11028 term 48 leader 1 nextIndex[0]: 269  matchIndex[0]: 268
term 48 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 48 leaderCommit: 268 
------------------------------------------------------
flag 61575 term 48 leader 1 nextIndex[2]: 269  matchIndex[2]: 268
term 48 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 48 leaderCommit: 268 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=269
update matchIndex[0]=268
update leader CommitIndex=268
leader log:
[{snapshot 46 259} {153892797578577949 46 260} {4101329760148718991 46 261} {6713968953582077498 46 262} {1825800904574992812 46 263} {1148582381018761594 46 264} {5395080303469513972 46 265} {1499243423749112641 46 266} {6795549125705477874 46 267} {6795549125705477874 48 268}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=268
leader log:
[{snapshot 46 259} {153892797578577949 46 260} {4101329760148718991 46 261} {6713968953582077498 46 262} {1825800904574992812 46 263} {1148582381018761594 46 264} {5395080303469513972 46 265} {1499243423749112641 46 266} {6795549125705477874 46 267} {6795549125705477874 48 268}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97074 term 48 leader 1 nextIndex[0]: 269  matchIndex[0]: 268
term 48 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 48 leaderCommit: 268 
------------------------------------------------------
flag 90434 term 48 leader 1 nextIndex[2]: 269  matchIndex[2]: 268
term 48 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 48 leaderCommit: 268 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=268
leader log:
[{snapshot 46 259} {153892797578577949 46 260} {4101329760148718991 46 261} {6713968953582077498 46 262} {1825800904574992812 46 263} {1148582381018761594 46 264} {5395080303469513972 46 265} {1499243423749112641 46 266} {6795549125705477874 46 267} {6795549125705477874 48 268}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=269
update matchIndex[0]=268
update leader CommitIndex=268
leader log:
[{snapshot 46 259} {153892797578577949 46 260} {4101329760148718991 46 261} {6713968953582077498 46 262} {1825800904574992812 46 263} {1148582381018761594 46 264} {5395080303469513972 46 265} {1499243423749112641 46 266} {6795549125705477874 46 267} {6795549125705477874 48 268}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26644 term 48 leader 1 nextIndex[0]: 269  matchIndex[0]: 268
term 48 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 48 leaderCommit: 268 
------------------------------------------------------
flag 82014 term 48 leader 1 nextIndex[2]: 269  matchIndex[2]: 268
term 48 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 48 leaderCommit: 268 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=268
leader log:
[{snapshot 46 259} {153892797578577949 46 260} {4101329760148718991 46 261} {6713968953582077498 46 262} {1825800904574992812 46 263} {1148582381018761594 46 264} {5395080303469513972 46 265} {1499243423749112641 46 266} {6795549125705477874 46 267} {6795549125705477874 48 268}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=269
update matchIndex[0]=268
update leader CommitIndex=268
leader log:
[{snapshot 46 259} {153892797578577949 46 260} {4101329760148718991 46 261} {6713968953582077498 46 262} {1825800904574992812 46 263} {1148582381018761594 46 264} {5395080303469513972 46 265} {1499243423749112641 46 266} {6795549125705477874 46 267} {6795549125705477874 48 268}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4696 term 48 leader 1 nextIndex[0]: 269  matchIndex[0]: 268
term 48 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 48 leaderCommit: 268 
------------------------------------------------------
flag 62869 term 48 leader 1 nextIndex[2]: 269  matchIndex[2]: 268
term 48 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 48 leaderCommit: 268 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=268
leader log:
[{snapshot 46 259} {153892797578577949 46 260} {4101329760148718991 46 261} {6713968953582077498 46 262} {1825800904574992812 46 263} {1148582381018761594 46 264} {5395080303469513972 46 265} {1499243423749112641 46 266} {6795549125705477874 46 267} {6795549125705477874 48 268}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=269
update matchIndex[0]=268
update leader CommitIndex=268
leader log:
[{snapshot 46 259} {153892797578577949 46 260} {4101329760148718991 46 261} {6713968953582077498 46 262} {1825800904574992812 46 263} {1148582381018761594 46 264} {5395080303469513972 46 265} {1499243423749112641 46 266} {6795549125705477874 46 267} {6795549125705477874 48 268}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36415 term 48 leader 1 nextIndex[0]: 269  matchIndex[0]: 268
term 48 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 48 leaderCommit: 268 
------------------------------------------------------
flag 63102 term 48 leader 1 nextIndex[2]: 269  matchIndex[2]: 268
term 48 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 48 leaderCommit: 268 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=268
leader log:
[{snapshot 46 259} {153892797578577949 46 260} {4101329760148718991 46 261} {6713968953582077498 46 262} {1825800904574992812 46 263} {1148582381018761594 46 264} {5395080303469513972 46 265} {1499243423749112641 46 266} {6795549125705477874 46 267} {6795549125705477874 48 268}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=269
update matchIndex[0]=268
update leader CommitIndex=268
leader log:
[{snapshot 46 259} {153892797578577949 46 260} {4101329760148718991 46 261} {6713968953582077498 46 262} {1825800904574992812 46 263} {1148582381018761594 46 264} {5395080303469513972 46 265} {1499243423749112641 46 266} {6795549125705477874 46 267} {6795549125705477874 48 268}]
------------------------------------------------------
flag 9761 term 48 leader 1 nextIndex[0]: 269  matchIndex[0]: 268
term 48 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 48 leaderCommit: 268 
------------------------------------------------------
flag 38107 term 48 leader 1 nextIndex[2]: 269  matchIndex[2]: 268
term 48 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 48 leaderCommit: 268 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=269
update matchIndex[0]=268
update leader CommitIndex=268
leader log:
[{snapshot 46 259} {153892797578577949 46 260} {4101329760148718991 46 261} {6713968953582077498 46 262} {1825800904574992812 46 263} {1148582381018761594 46 264} {5395080303469513972 46 265} {1499243423749112641 46 266} {6795549125705477874 46 267} {6795549125705477874 48 268}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=268
leader log:
[{snapshot 46 259} {153892797578577949 46 260} {4101329760148718991 46 261} {6713968953582077498 46 262} {1825800904574992812 46 263} {1148582381018761594 46 264} {5395080303469513972 46 265} {1499243423749112641 46 266} {6795549125705477874 46 267} {6795549125705477874 48 268}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 5538977275282349854 (index 269) to leader 1
flag 7356 term 48 leader 1 nextIndex[0]: 269  matchIndex[0]: 268
term 48 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 48 leaderCommit: 268 
------------------------------------------------------
flag 53628 term 48 leader 1 nextIndex[2]: 269  matchIndex[2]: 268
term 48 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 48 leaderCommit: 268 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=269
leader log:
[{snapshot 46 259} {153892797578577949 46 260} {4101329760148718991 46 261} {6713968953582077498 46 262} {1825800904574992812 46 263} {1148582381018761594 46 264} {5395080303469513972 46 265} {1499243423749112641 46 266} {6795549125705477874 46 267} {6795549125705477874 48 268} {5538977275282349854 48 269}]
------------------------------------------------------
term 48 Server1 start snapshot! index=269
term 48 server1 snapshot success
lastIncludedIndex=269 lastApplied=269 lastIndex=269
-------------------------------------------------------------
term 48 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 29316 term 48 leader 1 nextIndex[0]: 270  matchIndex[0]: 269
term 48 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 48 leaderCommit: 269 
------------------------------------------------------
term 48 leader 1 nextIndex[2]: 269  matchIndex[2]: 268
term 48 leader 1 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 48
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=269
leader log:
[{snapshot 48 269}]
------------------------------------------------------
term 48 Server0 start snapshot! index=269
term 48 server0 snapshot success
lastIncludedIndex=269 lastApplied=269 lastIndex=269
-------------------------------------------------------------
client write log 6769493709549855163 (index 270) to leader 1
client write log 2052994123359583704 (index 271) to leader 1
client write log 7163399196259674211 (index 272) to leader 1
client write log 8908667925307428498 (index 273) to leader 1
client write log 8284308540271045219 (index 274) to leader 1
client write log 333116113799201414 (index 275) to leader 1
client write log 5026396628452841380 (index 276) to leader 1
client write log 1367176020963111051 (index 277) to leader 1
client write log 3366182942658348491 (index 278) to leader 1
client write log 6745869852030701351 (index 279) to leader 1
client write log 3750027253621827844 (index 280) to leader 1
client write log 3319875888130618468 (index 281) to leader 1
client write log 3403147618066510403 (index 282) to leader 1
client write log 5669343504816239973 (index 283) to leader 1
flag 32214 term 48 leader 1 nextIndex[0]: 270  matchIndex[0]: 269
term 48 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 48 leaderCommit: 269 
------------------------------------------------------
term 48 leader 1 nextIndex[2]: 269  matchIndex[2]: 268
term 48 leader 1 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 48
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=284
update matchIndex[0]=283
update leader CommitIndex=283
leader log:
[{snapshot 48 269} {6769493709549855163 48 270} {2052994123359583704 48 271} {7163399196259674211 48 272} {8908667925307428498 48 273} {8284308540271045219 48 274} {333116113799201414 48 275} {5026396628452841380 48 276} {1367176020963111051 48 277} {3366182942658348491 48 278} {6745869852030701351 48 279} {3750027253621827844 48 280} {3319875888130618468 48 281} {3403147618066510403 48 282} {5669343504816239973 48 283}]
------------------------------------------------------
term 48 Server1 start snapshot! index=279
term 48 server1 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=283
-------------------------------------------------------------
flag 6577 term 48 leader 1 nextIndex[0]: 284  matchIndex[0]: 283
term 48 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 48 leaderCommit: 283 
------------------------------------------------------
term 48 leader 1 nextIndex[2]: 269  matchIndex[2]: 268
term 48 leader 1 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 48
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=284
update matchIndex[0]=283
update leader CommitIndex=283
leader log:
[{snapshot 48 279} {3750027253621827844 48 280} {3319875888130618468 48 281} {3403147618066510403 48 282} {5669343504816239973 48 283}]
------------------------------------------------------
term 48 Server0 start snapshot! index=279
term 48 server0 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=283
-------------------------------------------------------------
!!!!!!connect server 2
client write log 8442232765386799793 (index 284) to leader 1
flag 93677 term 48 leader 1 nextIndex[0]: 284  matchIndex[0]: 283
term 48 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 48 leaderCommit: 283 
------------------------------------------------------
term 48 leader 1 nextIndex[2]: 269  matchIndex[2]: 268
term 48 leader 1 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 48
------------------------------------------------------
term 49 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 48 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 50 server 2 vote for server 1
term 50 server 1 get vote from server 2
term 50 server 1 become leader
term 50 server 0 vote for server 1
------------------------------------------------------
term 50 server 1 get outdate rpc reply from server 0
flag 93339 term 50 leader 1 nextIndex[0]: 285  matchIndex[0]: 0
term 50 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 48 leaderCommit: 283 
------------------------------------------------------
flag 86391 term 50 leader 1 nextIndex[2]: 285  matchIndex[2]: 0
term 50 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 48 leaderCommit: 283 
------------------------------------------------------
term 50 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 285->284
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=285
update matchIndex[0]=284
update leader CommitIndex=283
leader log:
[{snapshot 48 279} {3750027253621827844 48 280} {3319875888130618468 48 281} {3403147618066510403 48 282} {5669343504816239973 48 283} {8442232765386799793 48 284}]
------------------------------------------------------
flag 89506 term 50 leader 1 nextIndex[0]: 285  matchIndex[0]: 284
term 50 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 48 leaderCommit: 283 
------------------------------------------------------
term 50 leader 1 nextIndex[2]: 269  matchIndex[2]: 0
term 50 leader 1 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 48
------------------------------------------------------
term 50 server 2 InstallSnapshot success
------------------------------------------------------
term 50 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 280 matchIndex[2] 279 
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 279 rf.lastIncludedTerm 48 rf.commitIndex 279 rf.lastApplied 279
------------------------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=285
update matchIndex[0]=284
update leader CommitIndex=283
leader log:
[{snapshot 48 279} {3750027253621827844 48 280} {3319875888130618468 48 281} {3403147618066510403 48 282} {5669343504816239973 48 283} {8442232765386799793 48 284}]
------------------------------------------------------
flag 86203 term 50 leader 1 nextIndex[0]: 285  matchIndex[0]: 284
term 50 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 48 leaderCommit: 283 
------------------------------------------------------
flag 17867 term 50 leader 1 nextIndex[2]: 280  matchIndex[2]: 279
term 50 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 48 leaderCommit: 283 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:279 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=283
leader log:
[{snapshot 48 279} {3750027253621827844 48 280} {3319875888130618468 48 281} {3403147618066510403 48 282} {5669343504816239973 48 283} {8442232765386799793 48 284}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=285
update matchIndex[0]=284
update leader CommitIndex=283
leader log:
[{snapshot 48 279} {3750027253621827844 48 280} {3319875888130618468 48 281} {3403147618066510403 48 282} {5669343504816239973 48 283} {8442232765386799793 48 284}]
------------------------------------------------------
flag 62384 term 50 leader 1 nextIndex[0]: 285  matchIndex[0]: 284
term 50 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 48 leaderCommit: 283 
------------------------------------------------------
flag 61750 term 50 leader 1 nextIndex[2]: 285  matchIndex[2]: 284
term 50 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 48 leaderCommit: 283 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:283 
term 50 server 0 AppendEntries true commitIndex:283 
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=285
update matchIndex[0]=284
update leader CommitIndex=283
leader log:
[{snapshot 48 279} {3750027253621827844 48 280} {3319875888130618468 48 281} {3403147618066510403 48 282} {5669343504816239973 48 283} {8442232765386799793 48 284}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=283
leader log:
[{snapshot 48 279} {3750027253621827844 48 280} {3319875888130618468 48 281} {3403147618066510403 48 282} {5669343504816239973 48 283} {8442232765386799793 48 284}]
------------------------------------------------------
flag 47305 term 50 leader 1 nextIndex[0]: 285  matchIndex[0]: 284
term 50 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 48 leaderCommit: 283 
------------------------------------------------------
flag 4284 term 50 leader 1 nextIndex[2]: 285  matchIndex[2]: 284
term 50 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 48 leaderCommit: 283 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=283
leader log:
[{snapshot 48 279} {3750027253621827844 48 280} {3319875888130618468 48 281} {3403147618066510403 48 282} {5669343504816239973 48 283} {8442232765386799793 48 284}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=285
update matchIndex[0]=284
update leader CommitIndex=283
leader log:
[{snapshot 48 279} {3750027253621827844 48 280} {3319875888130618468 48 281} {3403147618066510403 48 282} {5669343504816239973 48 283} {8442232765386799793 48 284}]
------------------------------------------------------
flag 27914 term 50 leader 1 nextIndex[0]: 285  matchIndex[0]: 284
term 50 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 48 leaderCommit: 283 
------------------------------------------------------
flag 36972 term 50 leader 1 nextIndex[2]: 285  matchIndex[2]: 284
term 50 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 48 leaderCommit: 283 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=283
leader log:
[{snapshot 48 279} {3750027253621827844 48 280} {3319875888130618468 48 281} {3403147618066510403 48 282} {5669343504816239973 48 283} {8442232765386799793 48 284}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=285
update matchIndex[0]=284
update leader CommitIndex=283
leader log:
[{snapshot 48 279} {3750027253621827844 48 280} {3319875888130618468 48 281} {3403147618066510403 48 282} {5669343504816239973 48 283} {8442232765386799793 48 284}]
------------------------------------------------------
flag 23082 term 50 leader 1 nextIndex[0]: 285  matchIndex[0]: 284
term 50 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 48 leaderCommit: 283 
------------------------------------------------------
flag 53432 term 50 leader 1 nextIndex[2]: 285  matchIndex[2]: 284
term 50 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 48 leaderCommit: 283 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=283
leader log:
[{snapshot 48 279} {3750027253621827844 48 280} {3319875888130618468 48 281} {3403147618066510403 48 282} {5669343504816239973 48 283} {8442232765386799793 48 284}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=285
update matchIndex[0]=284
update leader CommitIndex=283
leader log:
[{snapshot 48 279} {3750027253621827844 48 280} {3319875888130618468 48 281} {3403147618066510403 48 282} {5669343504816239973 48 283} {8442232765386799793 48 284}]
------------------------------------------------------
flag 6110 term 50 leader 1 nextIndex[0]: 285  matchIndex[0]: 284
term 50 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 48 leaderCommit: 283 
------------------------------------------------------
flag 64232 term 50 leader 1 nextIndex[2]: 285  matchIndex[2]: 284
term 50 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 48 leaderCommit: 283 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=283
leader log:
[{snapshot 48 279} {3750027253621827844 48 280} {3319875888130618468 48 281} {3403147618066510403 48 282} {5669343504816239973 48 283} {8442232765386799793 48 284}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=285
update matchIndex[0]=284
update leader CommitIndex=283
leader log:
[{snapshot 48 279} {3750027253621827844 48 280} {3319875888130618468 48 281} {3403147618066510403 48 282} {5669343504816239973 48 283} {8442232765386799793 48 284}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85128 term 50 leader 1 nextIndex[0]: 285  matchIndex[0]: 284
term 50 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 48 leaderCommit: 283 
------------------------------------------------------
flag 18 term 50 leader 1 nextIndex[2]: 285  matchIndex[2]: 284
term 50 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 48 leaderCommit: 283 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=283
leader log:
[{snapshot 48 279} {3750027253621827844 48 280} {3319875888130618468 48 281} {3403147618066510403 48 282} {5669343504816239973 48 283} {8442232765386799793 48 284}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=285
update matchIndex[0]=284
update leader CommitIndex=283
leader log:
[{snapshot 48 279} {3750027253621827844 48 280} {3319875888130618468 48 281} {3403147618066510403 48 282} {5669343504816239973 48 283} {8442232765386799793 48 284}]
------------------------------------------------------
flag 99897 term 50 leader 1 nextIndex[0]: 285  matchIndex[0]: 284
term 50 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 48 leaderCommit: 283 
------------------------------------------------------
flag 31638 term 50 leader 1 nextIndex[2]: 285  matchIndex[2]: 284
term 50 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 48 leaderCommit: 283 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=283
leader log:
[{snapshot 48 279} {3750027253621827844 48 280} {3319875888130618468 48 281} {3403147618066510403 48 282} {5669343504816239973 48 283} {8442232765386799793 48 284}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=285
update matchIndex[0]=284
update leader CommitIndex=283
leader log:
[{snapshot 48 279} {3750027253621827844 48 280} {3319875888130618468 48 281} {3403147618066510403 48 282} {5669343504816239973 48 283} {8442232765386799793 48 284}]
------------------------------------------------------
flag 83902 term 50 leader 1 nextIndex[0]: 285  matchIndex[0]: 284
term 50 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 48 leaderCommit: 283 
------------------------------------------------------
flag 83574 term 50 leader 1 nextIndex[2]: 285  matchIndex[2]: 284
term 50 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 48 leaderCommit: 283 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=283
leader log:
[{snapshot 48 279} {3750027253621827844 48 280} {3319875888130618468 48 281} {3403147618066510403 48 282} {5669343504816239973 48 283} {8442232765386799793 48 284}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=285
update matchIndex[0]=284
update leader CommitIndex=283
leader log:
[{snapshot 48 279} {3750027253621827844 48 280} {3319875888130618468 48 281} {3403147618066510403 48 282} {5669343504816239973 48 283} {8442232765386799793 48 284}]
------------------------------------------------------
term 50 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 36878 term 50 leader 1 nextIndex[0]: 285  matchIndex[0]: 284
term 50 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 48 leaderCommit: 283 
------------------------------------------------------
flag 12910 term 50 leader 1 nextIndex[2]: 285  matchIndex[2]: 284
term 50 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 48 leaderCommit: 283 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=285
update matchIndex[0]=284
update leader CommitIndex=283
leader log:
[{snapshot 48 279} {3750027253621827844 48 280} {3319875888130618468 48 281} {3403147618066510403 48 282} {5669343504816239973 48 283} {8442232765386799793 48 284}]
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=283
leader log:
[{snapshot 48 279} {3750027253621827844 48 280} {3319875888130618468 48 281} {3403147618066510403 48 282} {5669343504816239973 48 283} {8442232765386799793 48 284}]
------------------------------------------------------
flag 94315 term 50 leader 1 nextIndex[0]: 285  matchIndex[0]: 284
term 50 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 48 leaderCommit: 283 
------------------------------------------------------
flag 15805 term 50 leader 1 nextIndex[2]: 285  matchIndex[2]: 284
term 50 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 48 leaderCommit: 283 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=283
leader log:
[{snapshot 48 279} {3750027253621827844 48 280} {3319875888130618468 48 281} {3403147618066510403 48 282} {5669343504816239973 48 283} {8442232765386799793 48 284}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=285
update matchIndex[0]=284
update leader CommitIndex=283
leader log:
[{snapshot 48 279} {3750027253621827844 48 280} {3319875888130618468 48 281} {3403147618066510403 48 282} {5669343504816239973 48 283} {8442232765386799793 48 284}]
------------------------------------------------------
flag 2040 term 50 leader 1 nextIndex[0]: 285  matchIndex[0]: 284
term 50 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 48 leaderCommit: 283 
------------------------------------------------------
flag 19938 term 50 leader 1 nextIndex[2]: 285  matchIndex[2]: 284
term 50 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 48 leaderCommit: 283 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=283
leader log:
[{snapshot 48 279} {3750027253621827844 48 280} {3319875888130618468 48 281} {3403147618066510403 48 282} {5669343504816239973 48 283} {8442232765386799793 48 284}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=285
update matchIndex[0]=284
update leader CommitIndex=283
leader log:
[{snapshot 48 279} {3750027253621827844 48 280} {3319875888130618468 48 281} {3403147618066510403 48 282} {5669343504816239973 48 283} {8442232765386799793 48 284}]
------------------------------------------------------
flag 24582 term 50 leader 1 nextIndex[0]: 285  matchIndex[0]: 284
term 50 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 48 leaderCommit: 283 
------------------------------------------------------
flag 991 term 50 leader 1 nextIndex[2]: 285  matchIndex[2]: 284
term 50 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 48 leaderCommit: 283 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=283
leader log:
[{snapshot 48 279} {3750027253621827844 48 280} {3319875888130618468 48 281} {3403147618066510403 48 282} {5669343504816239973 48 283} {8442232765386799793 48 284}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=285
update matchIndex[0]=284
update leader CommitIndex=283
leader log:
[{snapshot 48 279} {3750027253621827844 48 280} {3319875888130618468 48 281} {3403147618066510403 48 282} {5669343504816239973 48 283} {8442232765386799793 48 284}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29976 term 50 leader 1 nextIndex[0]: 285  matchIndex[0]: 284
term 50 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 48 leaderCommit: 283 
------------------------------------------------------
flag 90553 term 50 leader 1 nextIndex[2]: 285  matchIndex[2]: 284
term 50 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 48 leaderCommit: 283 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=283
leader log:
[{snapshot 48 279} {3750027253621827844 48 280} {3319875888130618468 48 281} {3403147618066510403 48 282} {5669343504816239973 48 283} {8442232765386799793 48 284}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=285
update matchIndex[0]=284
update leader CommitIndex=283
leader log:
[{snapshot 48 279} {3750027253621827844 48 280} {3319875888130618468 48 281} {3403147618066510403 48 282} {5669343504816239973 48 283} {8442232765386799793 48 284}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51590 term 50 leader 1 nextIndex[0]: 285  matchIndex[0]: 284
term 50 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 48 leaderCommit: 283 
------------------------------------------------------
flag 12831 term 50 leader 1 nextIndex[2]: 285  matchIndex[2]: 284
term 50 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 48 leaderCommit: 283 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=283
leader log:
term 50 server 0 AppendEntries true commitIndex:283 
------------------------------------------------------
[{snapshot 48 279} {3750027253621827844 48 280} {3319875888130618468 48 281} {3403147618066510403 48 282} {5669343504816239973 48 283} {8442232765386799793 48 284}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=285
update matchIndex[0]=284
update leader CommitIndex=283
leader log:
[{snapshot 48 279} {3750027253621827844 48 280} {3319875888130618468 48 281} {3403147618066510403 48 282} {5669343504816239973 48 283} {8442232765386799793 48 284}]
------------------------------------------------------
term 50 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 28543 term 50 leader 1 nextIndex[0]: 285  matchIndex[0]: 284
term 50 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 48 leaderCommit: 283 
------------------------------------------------------
flag 36724 term 50 leader 1 nextIndex[2]: 285  matchIndex[2]: 284
term 50 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 48 leaderCommit: 283 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:283 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=285
update matchIndex[0]=284
update leader CommitIndex=283
leader log:
[{snapshot 48 279} {3750027253621827844 48 280} {3319875888130618468 48 281} {3403147618066510403 48 282} {5669343504816239973 48 283} {8442232765386799793 48 284}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=283
leader log:
[{snapshot 48 279} {3750027253621827844 48 280} {3319875888130618468 48 281} {3403147618066510403 48 282} {5669343504816239973 48 283} {8442232765386799793 48 284}]
------------------------------------------------------
flag 12369 term 50 leader 1 nextIndex[0]: 285  matchIndex[0]: 284
term 50 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 48 leaderCommit: 283 
------------------------------------------------------
flag 55340 term 50 leader 1 nextIndex[2]: 285  matchIndex[2]: 284
term 50 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 48 leaderCommit: 283 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:283 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:283 
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=285
update matchIndex[0]=284
update leader CommitIndex=283
leader log:
[{snapshot 48 279} {3750027253621827844 48 280} {3319875888130618468 48 281} {3403147618066510403 48 282} {5669343504816239973 48 283} {8442232765386799793 48 284}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=283
leader log:
[{snapshot 48 279} {3750027253621827844 48 280} {3319875888130618468 48 281} {3403147618066510403 48 282} {5669343504816239973 48 283} {8442232765386799793 48 284}]
------------------------------------------------------
client write log 8442232765386799793 (index 285) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2572 term 50 leader 1 nextIndex[0]: 285  matchIndex[0]: 284
term 50 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 48 leaderCommit: 283 
------------------------------------------------------
flag 32252 term 50 leader 1 nextIndex[2]: 285  matchIndex[2]: 284
term 50 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 48 leaderCommit: 283 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=285
leader log:
[{snapshot 48 279} {3750027253621827844 48 280} {3319875888130618468 48 281} {3403147618066510403 48 282} {5669343504816239973 48 283} {8442232765386799793 48 284} {8442232765386799793 50 285}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=285
leader log:
[{snapshot 48 279} {3750027253621827844 48 280} {3319875888130618468 48 281} {3403147618066510403 48 282} {5669343504816239973 48 283} {8442232765386799793 48 284} {8442232765386799793 50 285}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92850 term 50 leader 1 nextIndex[0]: 286  matchIndex[0]: 285
term 50 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 50 leaderCommit: 285 
------------------------------------------------------
flag 10251 term 50 leader 1 nextIndex[2]: 286  matchIndex[2]: 285
term 50 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 50 leaderCommit: 285 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=285
leader log:
[{snapshot 48 279} {3750027253621827844 48 280} {3319875888130618468 48 281} {3403147618066510403 48 282} {5669343504816239973 48 283} {8442232765386799793 48 284} {8442232765386799793 50 285}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=285
leader log:
[{snapshot 48 279} {3750027253621827844 48 280} {3319875888130618468 48 281} {3403147618066510403 48 282} {5669343504816239973 48 283} {8442232765386799793 48 284} {8442232765386799793 50 285}]
------------------------------------------------------
flag 82624 term 50 leader 1 nextIndex[0]: 286  matchIndex[0]: 285
term 50 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 50 leaderCommit: 285 
------------------------------------------------------
flag 78847 term 50 leader 1 nextIndex[2]: 286  matchIndex[2]: 285
term 50 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 50 leaderCommit: 285 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
term 50 server 0 AppendEntries true commitIndex:285 
------------------------------------------------------
update matchIndex[2]=285
update leader CommitIndex=285
leader log:
[{snapshot 48 279} {3750027253621827844 48 280} {3319875888130618468 48 281} {3403147618066510403 48 282} {5669343504816239973 48 283} {8442232765386799793 48 284} {8442232765386799793 50 285}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=285
leader log:
[{snapshot 48 279} {3750027253621827844 48 280} {3319875888130618468 48 281} {3403147618066510403 48 282} {5669343504816239973 48 283} {8442232765386799793 48 284} {8442232765386799793 50 285}]
------------------------------------------------------
term 50 server 0 not vote for server 2, 任期不够新
term 50 server 2 get outdate rpc reply from server 0
flag 74146 term 50 leader 1 nextIndex[0]: 286  matchIndex[0]: 285
term 50 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 50 leaderCommit: 285 
------------------------------------------------------
flag 7906 term 50 leader 1 nextIndex[2]: 286  matchIndex[2]: 285
term 50 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 50 leaderCommit: 285 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=285
leader log:
[{snapshot 48 279} {3750027253621827844 48 280} {3319875888130618468 48 281} {3403147618066510403 48 282} {5669343504816239973 48 283} {8442232765386799793 48 284} {8442232765386799793 50 285}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=285
leader log:
[{snapshot 48 279} {3750027253621827844 48 280} {3319875888130618468 48 281} {3403147618066510403 48 282} {5669343504816239973 48 283} {8442232765386799793 48 284} {8442232765386799793 50 285}]
------------------------------------------------------
term 50 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 66342 term 50 leader 1 nextIndex[0]: 286  matchIndex[0]: 285
term 50 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 50 leaderCommit: 285 
------------------------------------------------------
flag 43576 term 50 leader 1 nextIndex[2]: 286  matchIndex[2]: 285
term 50 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 50 leaderCommit: 285 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=285
leader log:
[{snapshot 48 279} {3750027253621827844 48 280} {3319875888130618468 48 281} {3403147618066510403 48 282} {5669343504816239973 48 283} {8442232765386799793 48 284} {8442232765386799793 50 285}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=285
leader log:
[{snapshot 48 279} {3750027253621827844 48 280} {3319875888130618468 48 281} {3403147618066510403 48 282} {5669343504816239973 48 283} {8442232765386799793 48 284} {8442232765386799793 50 285}]
------------------------------------------------------
flag 80646 term 50 leader 1 nextIndex[0]: 286  matchIndex[0]: 285
term 50 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 50 leaderCommit: 285 
------------------------------------------------------
flag 62138 term 50 leader 1 nextIndex[2]: 286  matchIndex[2]: 285
term 50 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 50 leaderCommit: 285 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=285
leader log:
[{snapshot 48 279} {3750027253621827844 48 280} {3319875888130618468 48 281} {3403147618066510403 48 282} {5669343504816239973 48 283} {8442232765386799793 48 284} {8442232765386799793 50 285}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=285
leader log:
[{snapshot 48 279} {3750027253621827844 48 280} {3319875888130618468 48 281} {3403147618066510403 48 282} {5669343504816239973 48 283} {8442232765386799793 48 284} {8442232765386799793 50 285}]
------------------------------------------------------
flag 59686 term 50 leader 1 nextIndex[0]: 286  matchIndex[0]: 285
term 50 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 50 leaderCommit: 285 
------------------------------------------------------
flag 47430 term 50 leader 1 nextIndex[2]: 286  matchIndex[2]: 285
term 50 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 50 leaderCommit: 285 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=285
leader log:
[{snapshot 48 279} {3750027253621827844 48 280} {3319875888130618468 48 281} {3403147618066510403 48 282} {5669343504816239973 48 283} {8442232765386799793 48 284} {8442232765386799793 50 285}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=285
leader log:
[{snapshot 48 279} {3750027253621827844 48 280} {3319875888130618468 48 281} {3403147618066510403 48 282} {5669343504816239973 48 283} {8442232765386799793 48 284} {8442232765386799793 50 285}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 37896 term 50 leader 1 nextIndex[0]: 286  matchIndex[0]: 285
term 50 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 50 leaderCommit: 285 
------------------------------------------------------
flag 4771 term 50 leader 1 nextIndex[2]: 286  matchIndex[2]: 285
term 50 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 50 leaderCommit: 285 
------------------------------------------------------
flag 77501 term 50 leader 1 nextIndex[0]: 286  matchIndex[0]: 285
term 50 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 50 leaderCommit: 285 
------------------------------------------------------
flag 98829 term 50 leader 1 nextIndex[2]: 286  matchIndex[2]: 285
term 50 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 50 leaderCommit: 285 
------------------------------------------------------
flag 36216 term 50 leader 1 nextIndex[0]: 286  matchIndex[0]: 285
term 50 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 50 leaderCommit: 285 
------------------------------------------------------
flag 52351 term 50 leader 1 nextIndex[2]: 286  matchIndex[2]: 285
term 50 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 50 leaderCommit: 285 
------------------------------------------------------
term 51 server 0 vote for server 2
term 51 server 2 get vote from server 0
term 51 server 2 become leader
------------------------------------------------------
client write log 6378349047413595984 (index 286) to leader 2
flag 25272 term 51 leader 2 nextIndex[0]: 286  matchIndex[0]: 0
term 51 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 50 leaderCommit: 285 
------------------------------------------------------
flag 32041 term 51 leader 2 nextIndex[1]: 286  matchIndex[1]: 0
term 51 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 50 leaderCommit: 285 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=286
leader log:
[{snapshot 48 279} {3750027253621827844 48 280} {3319875888130618468 48 281} {3403147618066510403 48 282} {5669343504816239973 48 283} {8442232765386799793 48 284} {8442232765386799793 50 285} {6378349047413595984 51 286}]
------------------------------------------------------
flag 61260 term 50 leader 1 nextIndex[0]: 286  matchIndex[0]: 285
term 50 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 50 leaderCommit: 285 
------------------------------------------------------
flag 79900 term 50 leader 1 nextIndex[2]: 286  matchIndex[2]: 285
term 50 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 50 leaderCommit: 285 
------------------------------------------------------
flag 11389 term 51 leader 2 nextIndex[0]: 287  matchIndex[0]: 286
term 51 leader 2 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 51 leaderCommit: 286 
------------------------------------------------------
flag 78838 term 51 leader 2 nextIndex[1]: 286  matchIndex[1]: 0
term 51 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 50 leaderCommit: 286 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=287
update matchIndex[0]=286
update leader CommitIndex=286
leader log:
[{snapshot 48 279} {3750027253621827844 48 280} {3319875888130618468 48 281} {3403147618066510403 48 282} {5669343504816239973 48 283} {8442232765386799793 48 284} {8442232765386799793 50 285} {6378349047413595984 51 286}]
------------------------------------------------------
client write log 1343636947855262082 (index 287) to leader 2
client write log 1576065071896840903 (index 288) to leader 2
client write log 8121677936622454590 (index 289) to leader 2
client write log 5818221744237532235 (index 290) to leader 2
client write log 1197229942300923217 (index 291) to leader 2
client write log 4128906200973143015 (index 292) to leader 2
client write log 586536755974525234 (index 293) to leader 2
client write log 7603211211706846363 (index 294) to leader 2
client write log 677874079154430400 (index 295) to leader 2
client write log 4116808076001179310 (index 296) to leader 2
client write log 7350406784074438441 (index 297) to leader 2
client write log 9063194826445389271 (index 298) to leader 2
client write log 2384691529558340457 (index 299) to leader 2
flag 80638 term 50 leader 1 nextIndex[0]: 286  matchIndex[0]: 285
term 50 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 50 leaderCommit: 285 
------------------------------------------------------
flag 52830 term 50 leader 1 nextIndex[2]: 286  matchIndex[2]: 285
term 50 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 50 leaderCommit: 285 
------------------------------------------------------
flag 26012 term 51 leader 2 nextIndex[0]: 287  matchIndex[0]: 286
term 51 leader 2 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 51 leaderCommit: 286 
------------------------------------------------------
flag 14625 term 51 leader 2 nextIndex[1]: 286  matchIndex[1]: 0
term 51 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 50 leaderCommit: 286 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=300
update matchIndex[0]=299
update leader CommitIndex=299
leader log:
[{snapshot 48 279} {3750027253621827844 48 280} {3319875888130618468 48 281} {3403147618066510403 48 282} {5669343504816239973 48 283} {8442232765386799793 48 284} {8442232765386799793 50 285} {6378349047413595984 51 286} {1343636947855262082 51 287} {1576065071896840903 51 288} {8121677936622454590 51 289} {5818221744237532235 51 290} {1197229942300923217 51 291} {4128906200973143015 51 292} {586536755974525234 51 293} {7603211211706846363 51 294} {677874079154430400 51 295} {4116808076001179310 51 296} {7350406784074438441 51 297} {9063194826445389271 51 298} {2384691529558340457 51 299}]
------------------------------------------------------
term 51 Server2 start snapshot! index=289
term 51 server2 snapshot success
lastIncludedIndex=289 lastApplied=290 lastIndex=299
-------------------------------------------------------------
term 51 Server2 start snapshot! index=299
term 51 server2 snapshot success
lastIncludedIndex=299 lastApplied=299 lastIndex=299
-------------------------------------------------------------
flag 30956 term 50 leader 1 nextIndex[0]: 286  matchIndex[0]: 285
term 50 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 50 leaderCommit: 285 
------------------------------------------------------
flag 25614 term 50 leader 1 nextIndex[2]: 286  matchIndex[2]: 285
term 50 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 50 leaderCommit: 285 
------------------------------------------------------
flag 40198 term 51 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 51 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 51 leaderCommit: 299 
------------------------------------------------------
term 51 leader 2 nextIndex[1]: 286  matchIndex[1]: 0
term 51 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 51
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=300
update matchIndex[0]=299
update leader CommitIndex=299
leader log:
[{snapshot 51 299}]
------------------------------------------------------
term 51 Server0 start snapshot! index=289
term 51 server0 snapshot success
lastIncludedIndex=289 lastApplied=290 lastIndex=299
-------------------------------------------------------------
term 51 Server0 start snapshot! index=299
term 51 server0 snapshot success
lastIncludedIndex=299 lastApplied=299 lastIndex=299
-------------------------------------------------------------
flag 65669 term 50 leader 1 nextIndex[0]: 286  matchIndex[0]: 285
term 50 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 50 leaderCommit: 285 
------------------------------------------------------
flag 10146 term 50 leader 1 nextIndex[2]: 286  matchIndex[2]: 285
term 50 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 50 leaderCommit: 285 
------------------------------------------------------
!!!!!!connect server 1
client write log 4071592533860427755 (index 286) to leader 1
flag 41837 term 51 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 51 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 51 leaderCommit: 299 
------------------------------------------------------
term 51 leader 2 nextIndex[1]: 286  matchIndex[1]: 0
term 51 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 51
------------------------------------------------------
term 51 server 1 InstallSnapshot success
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
term 51 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 300 matchIndex[1] 299 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 299 rf.lastIncludedTerm 51 rf.commitIndex 299 rf.lastApplied 299
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=300
update matchIndex[0]=299
update leader CommitIndex=299
leader log:
[{snapshot 51 299}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 300->299
------------------------------------------------------
flag 35424 term 51 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 51 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 51 leaderCommit: 299 
------------------------------------------------------
term 51 leader 2 nextIndex[1]: 0  matchIndex[1]: 299
term 51 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 51
------------------------------------------------------
term 51 server 1 InstallSnapshot fail
rf.commitIndex 299 args.LastIncludedIndex 299
------------------------------------------------------
term 51 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 300 matchIndex[1] 299 
------------------------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=300
update matchIndex[0]=299
update leader CommitIndex=299
leader log:
[{snapshot 51 299}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 51 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 300 matchIndex[1] 299 
------------------------------------------------------------------------
flag 30784 term 51 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 51 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 51 leaderCommit: 299 
------------------------------------------------------
flag 25400 term 51 leader 2 nextIndex[1]: 300  matchIndex[1]: 299
term 51 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 51 leaderCommit: 299 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=300
update matchIndex[0]=299
update leader CommitIndex=299
leader log:
[{snapshot 51 299}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=299
leader log:
[{snapshot 51 299}]
------------------------------------------------------
flag 28076 term 51 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 51 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 51 leaderCommit: 299 
------------------------------------------------------
flag 87275 term 51 leader 2 nextIndex[1]: 300  matchIndex[1]: 299
term 51 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 51 leaderCommit: 299 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=299
leader log:
[{snapshot 51 299}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=300
update matchIndex[0]=299
update leader CommitIndex=299
leader log:
[{snapshot 51 299}]
------------------------------------------------------
flag 87609 term 51 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 51 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 51 leaderCommit: 299 
------------------------------------------------------
flag 83713 term 51 leader 2 nextIndex[1]: 300  matchIndex[1]: 299
term 51 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 51 leaderCommit: 299 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=299
leader log:
[{snapshot 51 299}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=300
update matchIndex[0]=299
update leader CommitIndex=299
leader log:
[{snapshot 51 299}]
------------------------------------------------------
flag 69537 term 51 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 51 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 51 leaderCommit: 299 
------------------------------------------------------
flag 44434 term 51 leader 2 nextIndex[1]: 300  matchIndex[1]: 299
term 51 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 51 leaderCommit: 299 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=300
update matchIndex[0]=299
update leader CommitIndex=299
leader log:
[{snapshot 51 299}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=299
leader log:
[{snapshot 51 299}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68854 term 51 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 51 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 51 leaderCommit: 299 
------------------------------------------------------
flag 7619 term 51 leader 2 nextIndex[1]: 300  matchIndex[1]: 299
term 51 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 51 leaderCommit: 299 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=299
leader log:
[{snapshot 51 299}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=300
update matchIndex[0]=299
update leader CommitIndex=299
leader log:
[{snapshot 51 299}]
------------------------------------------------------
term 51 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 41817 term 51 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 51 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 51 leaderCommit: 299 
------------------------------------------------------
flag 19784 term 51 leader 2 nextIndex[1]: 300  matchIndex[1]: 299
term 51 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 51 leaderCommit: 299 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=299
leader log:
[{snapshot 51 299}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=300
update matchIndex[0]=299
update leader CommitIndex=299
leader log:
[{snapshot 51 299}]
------------------------------------------------------
flag 89974 term 51 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 51 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 51 leaderCommit: 299 
------------------------------------------------------
flag 43147 term 51 leader 2 nextIndex[1]: 300  matchIndex[1]: 299
term 51 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 51 leaderCommit: 299 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=299
leader log:
[{snapshot 51 299}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=300
update matchIndex[0]=299
update leader CommitIndex=299
leader log:
[{snapshot 51 299}]
------------------------------------------------------
flag 81417 term 51 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 51 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 51 leaderCommit: 299 
------------------------------------------------------
flag 75425 term 51 leader 2 nextIndex[1]: 300  matchIndex[1]: 299
term 51 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 51 leaderCommit: 299 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=300
update matchIndex[0]=299
update leader CommitIndex=299
leader log:
[{snapshot 51 299}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=299
leader log:
[{snapshot 51 299}]
------------------------------------------------------
flag 6464 term 51 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 51 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 51 leaderCommit: 299 
------------------------------------------------------
flag 23904 term 51 leader 2 nextIndex[1]: 300  matchIndex[1]: 299
term 51 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 51 leaderCommit: 299 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=299
leader log:
[{snapshot 51 299}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=300
update matchIndex[0]=299
update leader CommitIndex=299
leader log:
[{snapshot 51 299}]
------------------------------------------------------
flag 33485 term 51 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 51 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 51 leaderCommit: 299 
------------------------------------------------------
flag 28704 term 51 leader 2 nextIndex[1]: 300  matchIndex[1]: 299
term 51 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 51 leaderCommit: 299 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=299
leader log:
[{snapshot 51 299}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=300
update matchIndex[0]=299
update leader CommitIndex=299
leader log:
[{snapshot 51 299}]
------------------------------------------------------
flag 72953 term 51 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 51 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 51 leaderCommit: 299 
------------------------------------------------------
flag 65386 term 51 leader 2 nextIndex[1]: 300  matchIndex[1]: 299
term 51 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 51 leaderCommit: 299 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=299
leader log:
[{snapshot 51 299}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=300
update matchIndex[0]=299
update leader CommitIndex=299
leader log:
[{snapshot 51 299}]
------------------------------------------------------
flag 618 term 51 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 51 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 51 leaderCommit: 299 
------------------------------------------------------
flag 2412 term 51 leader 2 nextIndex[1]: 300  matchIndex[1]: 299
term 51 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 51 leaderCommit: 299 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=299
leader log:
[{snapshot 51 299}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=300
update matchIndex[0]=299
update leader CommitIndex=299
leader log:
[{snapshot 51 299}]
------------------------------------------------------
flag 68876 term 51 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 51 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 51 leaderCommit: 299 
------------------------------------------------------
flag 14904 term 51 leader 2 nextIndex[1]: 300  matchIndex[1]: 299
term 51 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 51 leaderCommit: 299 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=299
leader log:
[{snapshot 51 299}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=300
update matchIndex[0]=299
update leader CommitIndex=299
leader log:
[{snapshot 51 299}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7439 term 51 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 51 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 51 leaderCommit: 299 
------------------------------------------------------
flag 27474 term 51 leader 2 nextIndex[1]: 300  matchIndex[1]: 299
term 51 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 51 leaderCommit: 299 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=299
leader log:
[{snapshot 51 299}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=300
update matchIndex[0]=299
update leader CommitIndex=299
leader log:
[{snapshot 51 299}]
------------------------------------------------------
flag 26210 term 51 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 51 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 51 leaderCommit: 299 
------------------------------------------------------
flag 66023 term 51 leader 2 nextIndex[1]: 300  matchIndex[1]: 299
term 51 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 51 leaderCommit: 299 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:299 
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=299
leader log:
[{snapshot 51 299}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=300
update matchIndex[0]=299
update leader CommitIndex=299
leader log:
[{snapshot 51 299}]
------------------------------------------------------
flag 6990 term 51 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 51 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 51 leaderCommit: 299 
------------------------------------------------------
flag 11807 term 51 leader 2 nextIndex[1]: 300  matchIndex[1]: 299
term 51 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 51 leaderCommit: 299 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=299
leader log:
[{snapshot 51 299}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=300
update matchIndex[0]=299
update leader CommitIndex=299
leader log:
[{snapshot 51 299}]
------------------------------------------------------
flag 32990 term 51 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 51 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 51 leaderCommit: 299 
------------------------------------------------------
flag 73242 term 51 leader 2 nextIndex[1]: 300  matchIndex[1]: 299
term 51 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 51 leaderCommit: 299 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=299
leader log:
[{snapshot 51 299}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=300
update matchIndex[0]=299
update leader CommitIndex=299
leader log:
[{snapshot 51 299}]
------------------------------------------------------
flag 90636 term 51 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 51 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 51 leaderCommit: 299 
------------------------------------------------------
flag 31300 term 51 leader 2 nextIndex[1]: 300  matchIndex[1]: 299
term 51 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 51 leaderCommit: 299 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=300
update matchIndex[0]=299
update leader CommitIndex=299
leader log:
[{snapshot 51 299}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=299
leader log:
[{snapshot 51 299}]
------------------------------------------------------
client write log 4071592533860427755 (index 300) to leader 2
flag 19681 term 51 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 51 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 51 leaderCommit: 299 
------------------------------------------------------
flag 58829 term 51 leader 2 nextIndex[1]: 300  matchIndex[1]: 299
term 51 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 51 leaderCommit: 299 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=301
update matchIndex[1]=300
update leader CommitIndex=300
leader log:
[{snapshot 51 299} {4071592533860427755 51 300}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=301
update matchIndex[0]=300
update leader CommitIndex=300
leader log:
[{snapshot 51 299} {4071592533860427755 51 300}]
------------------------------------------------------
flag 86589 term 51 leader 2 nextIndex[0]: 301  matchIndex[0]: 300
term 51 leader 2 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 51 leaderCommit: 300 
------------------------------------------------------
flag 81052 term 51 leader 2 nextIndex[1]: 301  matchIndex[1]: 300
term 51 leader 2 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 51 leaderCommit: 300 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=301
update matchIndex[1]=300
update leader CommitIndex=300
leader log:
[{snapshot 51 299} {4071592533860427755 51 300}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=301
update matchIndex[0]=300
update leader CommitIndex=300
leader log:
[{snapshot 51 299} {4071592533860427755 51 300}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22753 term 51 leader 2 nextIndex[0]: 301  matchIndex[0]: 300
term 51 leader 2 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 51 leaderCommit: 300 
------------------------------------------------------
flag 66155 term 51 leader 2 nextIndex[1]: 301  matchIndex[1]: 300
term 51 leader 2 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 51 leaderCommit: 300 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=301
update matchIndex[0]=300
update leader CommitIndex=300
leader log:
[{snapshot 51 299} {4071592533860427755 51 300}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=301
update matchIndex[1]=300
update leader CommitIndex=300
leader log:
[{snapshot 51 299} {4071592533860427755 51 300}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 301->300
------------------------------------------------------
flag 28003 term 51 leader 2 nextIndex[0]: 301  matchIndex[0]: 300
term 51 leader 2 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 51 leaderCommit: 300 
------------------------------------------------------
term 51 leader 2 nextIndex[1]: 0  matchIndex[1]: 300
term 51 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 51
------------------------------------------------------
term 51 server 1 InstallSnapshot fail
rf.commitIndex 300 args.LastIncludedIndex 299
------------------------------------------------------
term 51 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 300 matchIndex[1] 299 
------------------------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=301
update matchIndex[0]=300
update leader CommitIndex=300
leader log:
[{snapshot 51 299} {4071592533860427755 51 300}]
------------------------------------------------------
flag 16502 term 51 leader 2 nextIndex[0]: 301  matchIndex[0]: 300
term 51 leader 2 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 51 leaderCommit: 300 
------------------------------------------------------
flag 58492 term 51 leader 2 nextIndex[1]: 300  matchIndex[1]: 299
term 51 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 51 leaderCommit: 300 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=301
update matchIndex[0]=300
update leader CommitIndex=300
leader log:
[{snapshot 51 299} {4071592533860427755 51 300}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=301
update matchIndex[1]=300
update leader CommitIndex=300
leader log:
[{snapshot 51 299} {4071592533860427755 51 300}]
------------------------------------------------------
flag 98145 term 51 leader 2 nextIndex[0]: 301  matchIndex[0]: 300
term 51 leader 2 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 51 leaderCommit: 300 
------------------------------------------------------
flag 5036 term 51 leader 2 nextIndex[1]: 301  matchIndex[1]: 300
term 51 leader 2 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 51 leaderCommit: 300 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:300 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=301
update matchIndex[1]=300
update leader CommitIndex=300
leader log:
[{snapshot 51 299} {4071592533860427755 51 300}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=301
update matchIndex[0]=300
update leader CommitIndex=300
leader log:
[{snapshot 51 299} {4071592533860427755 51 300}]
------------------------------------------------------
term 51 server 1 not vote for server 2, 任期不够新
term 51 server 2 get outdate rpc reply from server 1
!!!!!!diconnect server 0
client write log 5025686184696900592 (index 301) to leader 2
flag 87646 term 51 leader 2 nextIndex[0]: 301  matchIndex[0]: 300
term 51 leader 2 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 51 leaderCommit: 300 
------------------------------------------------------
flag 53262 term 51 leader 2 nextIndex[1]: 301  matchIndex[1]: 300
term 51 leader 2 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 51 leaderCommit: 300 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=301
leader log:
[{snapshot 51 299} {4071592533860427755 51 300} {5025686184696900592 51 301}]
------------------------------------------------------
term 51 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 84470 term 51 leader 2 nextIndex[0]: 301  matchIndex[0]: 300
term 51 leader 2 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 51 leaderCommit: 301 
------------------------------------------------------
flag 46465 term 51 leader 2 nextIndex[1]: 302  matchIndex[1]: 301
term 51 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 51 leaderCommit: 301 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=301
leader log:
[{snapshot 51 299} {4071592533860427755 51 300} {5025686184696900592 51 301}]
------------------------------------------------------
client write log 4448253445117002599 (index 302) to leader 2
client write log 205813024769531649 (index 303) to leader 2
client write log 7237496228660380839 (index 304) to leader 2
client write log 4704403015964464551 (index 305) to leader 2
client write log 4570225589341048738 (index 306) to leader 2
client write log 5847721930749999901 (index 307) to leader 2
client write log 8108448783761896095 (index 308) to leader 2
client write log 4974986620042098929 (index 309) to leader 2
client write log 8796478735099343439 (index 310) to leader 2
client write log 1429062723901300822 (index 311) to leader 2
client write log 4556931865267275236 (index 312) to leader 2
client write log 6594770963016655778 (index 313) to leader 2
flag 62504 term 51 leader 2 nextIndex[0]: 301  matchIndex[0]: 300
term 51 leader 2 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 51 leaderCommit: 301 
------------------------------------------------------
flag 23888 term 51 leader 2 nextIndex[1]: 302  matchIndex[1]: 301
term 51 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 51 leaderCommit: 301 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=313
leader log:
[{snapshot 51 299} {4071592533860427755 51 300} {5025686184696900592 51 301} {4448253445117002599 51 302} {205813024769531649 51 303} {7237496228660380839 51 304} {4704403015964464551 51 305} {4570225589341048738 51 306} {5847721930749999901 51 307} {8108448783761896095 51 308} {4974986620042098929 51 309} {8796478735099343439 51 310} {1429062723901300822 51 311} {4556931865267275236 51 312} {6594770963016655778 51 313}]
------------------------------------------------------
term 51 Server2 start snapshot! index=309
term 51 server2 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=313
-------------------------------------------------------------
term 51 leader 2 nextIndex[0]: 301  matchIndex[0]: 300
term 51 leader 2 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 51
------------------------------------------------------
flag 55741 term 51 leader 2 nextIndex[1]: 314  matchIndex[1]: 313
term 51 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 51 leaderCommit: 313 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=313
leader log:
[{snapshot 51 309} {8796478735099343439 51 310} {1429062723901300822 51 311} {4556931865267275236 51 312} {6594770963016655778 51 313}]
------------------------------------------------------
term 51 Server1 start snapshot! index=309
term 51 server1 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=313
-------------------------------------------------------------
!!!!!!connect server 0
client write log 2456313483679128149 (index 314) to leader 2
term 51 server 2 not vote for server 0, 日志不够新
term 51 server 1 not vote for server 0, 日志不够新
term 53 server 1 vote for server 2
term 53 server 0 vote for server 2
term 53 server 2 get vote from server 1
term 53 server 2 become leader
------------------------------------------------------
term 53 server 2 get outdate rpc reply from server 0
flag 67768 term 53 leader 2 nextIndex[0]: 315  matchIndex[0]: 0
term 53 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 51 leaderCommit: 313 
------------------------------------------------------
flag 3604 term 53 leader 2 nextIndex[1]: 315  matchIndex[1]: 0
term 53 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 51 leaderCommit: 313 
------------------------------------------------------
term 53 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 315->314
------------------------------------------------------
term 53 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 315->314
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 53 leader 2 nextIndex[0]: 301  matchIndex[0]: 0
term 53 leader 2 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 51
------------------------------------------------------
flag 68127 term 53 leader 2 nextIndex[1]: 314  matchIndex[1]: 0
term 53 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 51 leaderCommit: 313 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
term 53 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=313
leader log:
[{snapshot 51 309} {8796478735099343439 51 310} {1429062723901300822 51 311} {4556931865267275236 51 312} {6594770963016655778 51 313} {2456313483679128149 51 314}]
------------------------------------------------------
term 53 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 310 matchIndex[0] 309 
------------------------------------------------------------------------
rf.lastIncludedIndex 309 rf.lastIncludedTerm 51 rf.commitIndex 309 rf.lastApplied 309
flag 50677 term 53 leader 2 nextIndex[0]: 310  matchIndex[0]: 309
term 53 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 51 leaderCommit: 313 
------------------------------------------------------
flag 80861 term 53 leader 2 nextIndex[1]: 315  matchIndex[1]: 314
term 53 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 51 leaderCommit: 313 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=313
leader log:
[{snapshot 51 309} {8796478735099343439 51 310} {1429062723901300822 51 311} {4556931865267275236 51 312} {6594770963016655778 51 313} {2456313483679128149 51 314}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=315
update matchIndex[0]=314
update leader CommitIndex=313
leader log:
[{snapshot 51 309} {8796478735099343439 51 310} {1429062723901300822 51 311} {4556931865267275236 51 312} {6594770963016655778 51 313} {2456313483679128149 51 314}]
------------------------------------------------------
flag 19094 term 53 leader 2 nextIndex[0]: 315  matchIndex[0]: 314
term 53 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 51 leaderCommit: 313 
------------------------------------------------------
flag 90656 term 53 leader 2 nextIndex[1]: 315  matchIndex[1]: 314
term 53 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 51 leaderCommit: 313 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=313
leader log:
[{snapshot 51 309} {8796478735099343439 51 310} {1429062723901300822 51 311} {4556931865267275236 51 312} {6594770963016655778 51 313} {2456313483679128149 51 314}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=315
update matchIndex[0]=314
update leader CommitIndex=313
leader log:
[{snapshot 51 309} {8796478735099343439 51 310} {1429062723901300822 51 311} {4556931865267275236 51 312} {6594770963016655778 51 313} {2456313483679128149 51 314}]
------------------------------------------------------
flag 96929 term 53 leader 2 nextIndex[0]: 315  matchIndex[0]: 314
term 53 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 51 leaderCommit: 313 
------------------------------------------------------
flag 96227 term 53 leader 2 nextIndex[1]: 315  matchIndex[1]: 314
term 53 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 51 leaderCommit: 313 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=313
leader log:
[{snapshot 51 309} {8796478735099343439 51 310} {1429062723901300822 51 311} {4556931865267275236 51 312} {6594770963016655778 51 313} {2456313483679128149 51 314}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=315
update matchIndex[0]=314
update leader CommitIndex=313
leader log:
[{snapshot 51 309} {8796478735099343439 51 310} {1429062723901300822 51 311} {4556931865267275236 51 312} {6594770963016655778 51 313} {2456313483679128149 51 314}]
------------------------------------------------------
flag 67641 term 53 leader 2 nextIndex[0]: 315  matchIndex[0]: 314
term 53 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 51 leaderCommit: 313 
------------------------------------------------------
flag 3216 term 53 leader 2 nextIndex[1]: 315  matchIndex[1]: 314
term 53 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 51 leaderCommit: 313 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=315
update matchIndex[0]=314
update leader CommitIndex=313
leader log:
[{snapshot 51 309} {8796478735099343439 51 310} {1429062723901300822 51 311} {4556931865267275236 51 312} {6594770963016655778 51 313} {2456313483679128149 51 314}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=313
leader log:
[{snapshot 51 309} {8796478735099343439 51 310} {1429062723901300822 51 311} {4556931865267275236 51 312} {6594770963016655778 51 313} {2456313483679128149 51 314}]
------------------------------------------------------
flag 92336 term 53 leader 2 nextIndex[0]: 315  matchIndex[0]: 314
term 53 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 51 leaderCommit: 313 
------------------------------------------------------
flag 94794 term 53 leader 2 nextIndex[1]: 315  matchIndex[1]: 314
term 53 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 51 leaderCommit: 313 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=315
update matchIndex[0]=314
update leader CommitIndex=313
leader log:
[{snapshot 51 309} {8796478735099343439 51 310} {1429062723901300822 51 311} {4556931865267275236 51 312} {6594770963016655778 51 313} {2456313483679128149 51 314}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=313
leader log:
[{snapshot 51 309} {8796478735099343439 51 310} {1429062723901300822 51 311} {4556931865267275236 51 312} {6594770963016655778 51 313} {2456313483679128149 51 314}]
------------------------------------------------------
flag 72550 term 53 leader 2 nextIndex[0]: 315  matchIndex[0]: 314
term 53 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 51 leaderCommit: 313 
------------------------------------------------------
flag 96461 term 53 leader 2 nextIndex[1]: 315  matchIndex[1]: 314
term 53 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 51 leaderCommit: 313 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=313
leader log:
[{snapshot 51 309} {8796478735099343439 51 310} {1429062723901300822 51 311} {4556931865267275236 51 312} {6594770963016655778 51 313} {2456313483679128149 51 314}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=315
update matchIndex[0]=314
update leader CommitIndex=313
leader log:
[{snapshot 51 309} {8796478735099343439 51 310} {1429062723901300822 51 311} {4556931865267275236 51 312} {6594770963016655778 51 313} {2456313483679128149 51 314}]
------------------------------------------------------
flag 97854 term 53 leader 2 nextIndex[0]: 315  matchIndex[0]: 314
term 53 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 51 leaderCommit: 313 
------------------------------------------------------
flag 25591 term 53 leader 2 nextIndex[1]: 315  matchIndex[1]: 314
term 53 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 51 leaderCommit: 313 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=315
update matchIndex[0]=314
update leader CommitIndex=313
leader log:
[{snapshot 51 309} {8796478735099343439 51 310} {1429062723901300822 51 311} {4556931865267275236 51 312} {6594770963016655778 51 313} {2456313483679128149 51 314}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=313
leader log:
[{snapshot 51 309} {8796478735099343439 51 310} {1429062723901300822 51 311} {4556931865267275236 51 312} {6594770963016655778 51 313} {2456313483679128149 51 314}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37453 term 53 leader 2 nextIndex[0]: 315  matchIndex[0]: 314
term 53 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 51 leaderCommit: 313 
------------------------------------------------------
flag 78774 term 53 leader 2 nextIndex[1]: 315  matchIndex[1]: 314
term 53 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 51 leaderCommit: 313 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=313
leader log:
[{snapshot 51 309} {8796478735099343439 51 310} {1429062723901300822 51 311} {4556931865267275236 51 312} {6594770963016655778 51 313} {2456313483679128149 51 314}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=315
update matchIndex[0]=314
update leader CommitIndex=313
leader log:
[{snapshot 51 309} {8796478735099343439 51 310} {1429062723901300822 51 311} {4556931865267275236 51 312} {6594770963016655778 51 313} {2456313483679128149 51 314}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14328 term 53 leader 2 nextIndex[0]: 315  matchIndex[0]: 314
term 53 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 51 leaderCommit: 313 
------------------------------------------------------
flag 86063 term 53 leader 2 nextIndex[1]: 315  matchIndex[1]: 314
term 53 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 51 leaderCommit: 313 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=313
leader log:
[{snapshot 51 309} {8796478735099343439 51 310} {1429062723901300822 51 311} {4556931865267275236 51 312} {6594770963016655778 51 313} {2456313483679128149 51 314}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=315
update matchIndex[0]=314
update leader CommitIndex=313
leader log:
[{snapshot 51 309} {8796478735099343439 51 310} {1429062723901300822 51 311} {4556931865267275236 51 312} {6594770963016655778 51 313} {2456313483679128149 51 314}]
------------------------------------------------------
flag 45120 term 53 leader 2 nextIndex[0]: 315  matchIndex[0]: 314
term 53 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 51 leaderCommit: 313 
------------------------------------------------------
flag 34681 term 53 leader 2 nextIndex[1]: 315  matchIndex[1]: 314
term 53 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 51 leaderCommit: 313 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=315
update matchIndex[0]=314
update leader CommitIndex=313
leader log:
[{snapshot 51 309} {8796478735099343439 51 310} {1429062723901300822 51 311} {4556931865267275236 51 312} {6594770963016655778 51 313} {2456313483679128149 51 314}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=313
leader log:
[{snapshot 51 309} {8796478735099343439 51 310} {1429062723901300822 51 311} {4556931865267275236 51 312} {6594770963016655778 51 313} {2456313483679128149 51 314}]
------------------------------------------------------
flag 57629 term 53 leader 2 nextIndex[0]: 315  matchIndex[0]: 314
term 53 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 51 leaderCommit: 313 
------------------------------------------------------
flag 84900 term 53 leader 2 nextIndex[1]: 315  matchIndex[1]: 314
term 53 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 51 leaderCommit: 313 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=313
leader log:
[{snapshot 51 309} {8796478735099343439 51 310} {1429062723901300822 51 311} {4556931865267275236 51 312} {6594770963016655778 51 313} {2456313483679128149 51 314}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=315
update matchIndex[0]=314
update leader CommitIndex=313
leader log:
[{snapshot 51 309} {8796478735099343439 51 310} {1429062723901300822 51 311} {4556931865267275236 51 312} {6594770963016655778 51 313} {2456313483679128149 51 314}]
------------------------------------------------------
flag 13482 term 53 leader 2 nextIndex[0]: 315  matchIndex[0]: 314
term 53 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 51 leaderCommit: 313 
------------------------------------------------------
flag 43634 term 53 leader 2 nextIndex[1]: 315  matchIndex[1]: 314
term 53 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 51 leaderCommit: 313 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=313
leader log:
term 53 server 0 AppendEntries true commitIndex:313 
------------------------------------------------------
[{snapshot 51 309} {8796478735099343439 51 310} {1429062723901300822 51 311} {4556931865267275236 51 312} {6594770963016655778 51 313} {2456313483679128149 51 314}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=315
update matchIndex[0]=314
update leader CommitIndex=313
leader log:
[{snapshot 51 309} {8796478735099343439 51 310} {1429062723901300822 51 311} {4556931865267275236 51 312} {6594770963016655778 51 313} {2456313483679128149 51 314}]
------------------------------------------------------
flag 78118 term 53 leader 2 nextIndex[0]: 315  matchIndex[0]: 314
term 53 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 51 leaderCommit: 313 
------------------------------------------------------
flag 91311 term 53 leader 2 nextIndex[1]: 315  matchIndex[1]: 314
term 53 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 51 leaderCommit: 313 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=313
leader log:
[{snapshot 51 309} {8796478735099343439 51 310} {1429062723901300822 51 311} {4556931865267275236 51 312} {6594770963016655778 51 313} {2456313483679128149 51 314}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=315
update matchIndex[0]=314
update leader CommitIndex=313
leader log:
[{snapshot 51 309} {8796478735099343439 51 310} {1429062723901300822 51 311} {4556931865267275236 51 312} {6594770963016655778 51 313} {2456313483679128149 51 314}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76658 term 53 leader 2 nextIndex[0]: 315  matchIndex[0]: 314
term 53 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 51 leaderCommit: 313 
------------------------------------------------------
flag 26409 term 53 leader 2 nextIndex[1]: 315  matchIndex[1]: 314
term 53 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 51 leaderCommit: 313 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=313
leader log:
[{snapshot 51 309} {8796478735099343439 51 310} {1429062723901300822 51 311} {4556931865267275236 51 312} {6594770963016655778 51 313} {2456313483679128149 51 314}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=315
update matchIndex[0]=314
update leader CommitIndex=313
leader log:
[{snapshot 51 309} {8796478735099343439 51 310} {1429062723901300822 51 311} {4556931865267275236 51 312} {6594770963016655778 51 313} {2456313483679128149 51 314}]
------------------------------------------------------
term 53 server 1 not vote for server 2, 任期不够新
term 53 server 2 get outdate rpc reply from server 1
flag 78348 term 53 leader 2 nextIndex[0]: 315  matchIndex[0]: 314
term 53 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 51 leaderCommit: 313 
------------------------------------------------------
flag 9116 term 53 leader 2 nextIndex[1]: 315  matchIndex[1]: 314
term 53 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 51 leaderCommit: 313 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=315
update matchIndex[0]=314
update leader CommitIndex=313
leader log:
[{snapshot 51 309} {8796478735099343439 51 310} {1429062723901300822 51 311} {4556931865267275236 51 312} {6594770963016655778 51 313} {2456313483679128149 51 314}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=313
leader log:
[{snapshot 51 309} {8796478735099343439 51 310} {1429062723901300822 51 311} {4556931865267275236 51 312} {6594770963016655778 51 313} {2456313483679128149 51 314}]
------------------------------------------------------
flag 32360 term 53 leader 2 nextIndex[0]: 315  matchIndex[0]: 314
term 53 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 51 leaderCommit: 313 
------------------------------------------------------
flag 3628 term 53 leader 2 nextIndex[1]: 315  matchIndex[1]: 314
term 53 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 51 leaderCommit: 313 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=313
leader log:
[{snapshot 51 309} {8796478735099343439 51 310} {1429062723901300822 51 311} {4556931865267275236 51 312} {6594770963016655778 51 313} {2456313483679128149 51 314}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=315
update matchIndex[0]=314
update leader CommitIndex=313
leader log:
[{snapshot 51 309} {8796478735099343439 51 310} {1429062723901300822 51 311} {4556931865267275236 51 312} {6594770963016655778 51 313} {2456313483679128149 51 314}]
------------------------------------------------------
flag 67800 term 53 leader 2 nextIndex[0]: 315  matchIndex[0]: 314
term 53 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 51 leaderCommit: 313 
------------------------------------------------------
flag 47129 term 53 leader 2 nextIndex[1]: 315  matchIndex[1]: 314
term 53 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 51 leaderCommit: 313 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=313
leader log:
[{snapshot 51 309} {8796478735099343439 51 310} {1429062723901300822 51 311} {4556931865267275236 51 312} {6594770963016655778 51 313} {2456313483679128149 51 314}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=315
update matchIndex[0]=314
update leader CommitIndex=313
leader log:
[{snapshot 51 309} {8796478735099343439 51 310} {1429062723901300822 51 311} {4556931865267275236 51 312} {6594770963016655778 51 313} {2456313483679128149 51 314}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 2456313483679128149 (index 315) to leader 2
flag 38003 term 53 leader 2 nextIndex[0]: 315  matchIndex[0]: 314
term 53 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 51 leaderCommit: 313 
------------------------------------------------------
flag 58828 term 53 leader 2 nextIndex[1]: 315  matchIndex[1]: 314
term 53 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 51 leaderCommit: 313 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=315
leader log:
[{snapshot 51 309} {8796478735099343439 51 310} {1429062723901300822 51 311} {4556931865267275236 51 312} {6594770963016655778 51 313} {2456313483679128149 51 314} {2456313483679128149 53 315}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=315
leader log:
[{snapshot 51 309} {8796478735099343439 51 310} {1429062723901300822 51 311} {4556931865267275236 51 312} {6594770963016655778 51 313} {2456313483679128149 51 314} {2456313483679128149 53 315}]
------------------------------------------------------
flag 65555 term 53 leader 2 nextIndex[0]: 316  matchIndex[0]: 315
term 53 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 53 leaderCommit: 315 
------------------------------------------------------
flag 36579 term 53 leader 2 nextIndex[1]: 316  matchIndex[1]: 315
term 53 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 53 leaderCommit: 315 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=315
leader log:
[{snapshot 51 309} {8796478735099343439 51 310} {1429062723901300822 51 311} {4556931865267275236 51 312} {6594770963016655778 51 313} {2456313483679128149 51 314} {2456313483679128149 53 315}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=315
leader log:
[{snapshot 51 309} {8796478735099343439 51 310} {1429062723901300822 51 311} {4556931865267275236 51 312} {6594770963016655778 51 313} {2456313483679128149 51 314} {2456313483679128149 53 315}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25887 term 53 leader 2 nextIndex[0]: 316  matchIndex[0]: 315
term 53 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 53 leaderCommit: 315 
------------------------------------------------------
flag 60088 term 53 leader 2 nextIndex[1]: 316  matchIndex[1]: 315
term 53 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 53 leaderCommit: 315 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=315
leader log:
[{snapshot 51 309} {8796478735099343439 51 310} {1429062723901300822 51 311} {4556931865267275236 51 312} {6594770963016655778 51 313} {2456313483679128149 51 314} {2456313483679128149 53 315}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=315
leader log:
[{snapshot 51 309} {8796478735099343439 51 310} {1429062723901300822 51 311} {4556931865267275236 51 312} {6594770963016655778 51 313} {2456313483679128149 51 314} {2456313483679128149 53 315}]
------------------------------------------------------
flag 84022 term 53 leader 2 nextIndex[0]: 316  matchIndex[0]: 315
term 53 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 53 leaderCommit: 315 
------------------------------------------------------
flag 15157 term 53 leader 2 nextIndex[1]: 316  matchIndex[1]: 315
term 53 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 53 leaderCommit: 315 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=315
leader log:
[{snapshot 51 309} {8796478735099343439 51 310} {1429062723901300822 51 311} {4556931865267275236 51 312} {6594770963016655778 51 313} {2456313483679128149 51 314} {2456313483679128149 53 315}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=315
leader log:
[{snapshot 51 309} {8796478735099343439 51 310} {1429062723901300822 51 311} {4556931865267275236 51 312} {6594770963016655778 51 313} {2456313483679128149 51 314} {2456313483679128149 53 315}]
------------------------------------------------------
flag 84989 term 53 leader 2 nextIndex[0]: 316  matchIndex[0]: 315
term 53 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 53 leaderCommit: 315 
------------------------------------------------------
flag 72372 term 53 leader 2 nextIndex[1]: 316  matchIndex[1]: 315
term 53 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 53 leaderCommit: 315 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=315
leader log:
[{snapshot 51 309} {8796478735099343439 51 310} {1429062723901300822 51 311} {4556931865267275236 51 312} {6594770963016655778 51 313} {2456313483679128149 51 314} {2456313483679128149 53 315}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=315
leader log:
[{snapshot 51 309} {8796478735099343439 51 310} {1429062723901300822 51 311} {4556931865267275236 51 312} {6594770963016655778 51 313} {2456313483679128149 51 314} {2456313483679128149 53 315}]
------------------------------------------------------
flag 70731 term 53 leader 2 nextIndex[0]: 316  matchIndex[0]: 315
term 53 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 53 leaderCommit: 315 
------------------------------------------------------
flag 57956 term 53 leader 2 nextIndex[1]: 316  matchIndex[1]: 315
term 53 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 53 leaderCommit: 315 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:315 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=315
leader log:
[{snapshot 51 309} {8796478735099343439 51 310} {1429062723901300822 51 311} {4556931865267275236 51 312} {6594770963016655778 51 313} {2456313483679128149 51 314} {2456313483679128149 53 315}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=315
leader log:
[{snapshot 51 309} {8796478735099343439 51 310} {1429062723901300822 51 311} {4556931865267275236 51 312} {6594770963016655778 51 313} {2456313483679128149 51 314} {2456313483679128149 53 315}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 1071827506018781524 (index 316) to leader 2
flag 81262 term 53 leader 2 nextIndex[0]: 316  matchIndex[0]: 315
term 53 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 53 leaderCommit: 315 
------------------------------------------------------
flag 89500 term 53 leader 2 nextIndex[1]: 316  matchIndex[1]: 315
term 53 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 53 leaderCommit: 315 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=316
leader log:
[{snapshot 51 309} {8796478735099343439 51 310} {1429062723901300822 51 311} {4556931865267275236 51 312} {6594770963016655778 51 313} {2456313483679128149 51 314} {2456313483679128149 53 315} {1071827506018781524 53 316}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80684 term 53 leader 2 nextIndex[0]: 316  matchIndex[0]: 315
term 53 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 53 leaderCommit: 316 
------------------------------------------------------
flag 13220 term 53 leader 2 nextIndex[1]: 317  matchIndex[1]: 316
term 53 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 53 leaderCommit: 316 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=316
leader log:
[{snapshot 51 309} {8796478735099343439 51 310} {1429062723901300822 51 311} {4556931865267275236 51 312} {6594770963016655778 51 313} {2456313483679128149 51 314} {2456313483679128149 53 315} {1071827506018781524 53 316}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 530937533104095781 (index 317) to leader 2
client write log 5213521895690478336 (index 318) to leader 2
client write log 448046399172825040 (index 319) to leader 2
client write log 4555920086922131264 (index 320) to leader 2
client write log 5048462848527630690 (index 321) to leader 2
client write log 5493152877644265710 (index 322) to leader 2
client write log 3732921931596911829 (index 323) to leader 2
client write log 4049571602783874001 (index 324) to leader 2
client write log 2185778488110974335 (index 325) to leader 2
client write log 2985229355132806410 (index 326) to leader 2
client write log 5800249148972174271 (index 327) to leader 2
client write log 7809260611749291219 (index 328) to leader 2
client write log 2963827292375877313 (index 329) to leader 2
client write log 2713175113743581183 (index 330) to leader 2
flag 53846 term 53 leader 2 nextIndex[0]: 316  matchIndex[0]: 315
term 53 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 53 leaderCommit: 316 
------------------------------------------------------
flag 48164 term 53 leader 2 nextIndex[1]: 317  matchIndex[1]: 316
term 53 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 53 leaderCommit: 316 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=331
update matchIndex[1]=330
update leader CommitIndex=330
leader log:
[{snapshot 51 309} {8796478735099343439 51 310} {1429062723901300822 51 311} {4556931865267275236 51 312} {6594770963016655778 51 313} {2456313483679128149 51 314} {2456313483679128149 53 315} {1071827506018781524 53 316} {530937533104095781 53 317} {5213521895690478336 53 318} {448046399172825040 53 319} {4555920086922131264 53 320} {5048462848527630690 53 321} {5493152877644265710 53 322} {3732921931596911829 53 323} {4049571602783874001 53 324} {2185778488110974335 53 325} {2985229355132806410 53 326} {5800249148972174271 53 327} {7809260611749291219 53 328} {2963827292375877313 53 329} {2713175113743581183 53 330}]
------------------------------------------------------
term 53 Server2 start snapshot! index=319
term 53 server2 snapshot success
lastIncludedIndex=319 lastApplied=320 lastIndex=330
-------------------------------------------------------------
term 53 Server2 start snapshot! index=329
term 53 server2 snapshot success
lastIncludedIndex=329 lastApplied=330 lastIndex=330
-------------------------------------------------------------
term 53 leader 2 nextIndex[0]: 316  matchIndex[0]: 315
term 53 leader 2 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 53
------------------------------------------------------
flag 15642 term 53 leader 2 nextIndex[1]: 331  matchIndex[1]: 330
term 53 leader 2 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 53 leaderCommit: 330 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=331
update matchIndex[1]=330
update leader CommitIndex=330
leader log:
[{snapshot 53 329} {2713175113743581183 53 330}]
------------------------------------------------------
term 53 Server1 start snapshot! index=319
term 53 server1 snapshot success
lastIncludedIndex=319 lastApplied=320 lastIndex=330
-------------------------------------------------------------
term 53 Server1 start snapshot! index=329
term 53 server1 snapshot success
lastIncludedIndex=329 lastApplied=330 lastIndex=330
-------------------------------------------------------------
!!!!!!connect server 0
client write log 6274681440813157365 (index 331) to leader 2
term 53 leader 2 nextIndex[0]: 316  matchIndex[0]: 315
term 53 leader 2 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 53
------------------------------------------------------
flag 85767 term 53 leader 2 nextIndex[1]: 331  matchIndex[1]: 330
term 53 leader 2 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 53 leaderCommit: 330 
------------------------------------------------------
term 54 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 53 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 55 server 1 vote for server 2
term 55 server 0 vote for server 2
term 55 server 2 get vote from server 1
term 55 server 2 become leader
------------------------------------------------------
term 55 server 2 get outdate rpc reply from server 0
flag 64355 term 55 leader 2 nextIndex[0]: 332  matchIndex[0]: 0
term 55 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 53 leaderCommit: 330 
------------------------------------------------------
flag 8072 term 55 leader 2 nextIndex[1]: 332  matchIndex[1]: 0
term 55 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 53 leaderCommit: 330 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=330
leader log:
[{snapshot 53 329} {2713175113743581183 53 330} {6274681440813157365 53 331}]
------------------------------------------------------
term 55 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 332->331
------------------------------------------------------
term 55 leader 2 nextIndex[0]: 316  matchIndex[0]: 0
term 55 leader 2 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 53
------------------------------------------------------
flag 45746 term 55 leader 2 nextIndex[1]: 332  matchIndex[1]: 331
term 55 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 53 leaderCommit: 330 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=330
leader log:
[{snapshot 53 329} {2713175113743581183 53 330} {6274681440813157365 53 331}]
------------------------------------------------------
term 55 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 329 rf.lastIncludedTerm 53 rf.commitIndex 329 rf.lastApplied 329
term 55 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 330 matchIndex[0] 329 
------------------------------------------------------------------------
flag 56359 term 55 leader 2 nextIndex[0]: 330  matchIndex[0]: 329
term 55 leader 2 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 53 leaderCommit: 330 
------------------------------------------------------
flag 37912 term 55 leader 2 nextIndex[1]: 332  matchIndex[1]: 331
term 55 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 53 leaderCommit: 330 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=330
leader log:
[{snapshot 53 329} {2713175113743581183 53 330} {6274681440813157365 53 331}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=330
leader log:
[{snapshot 53 329} {2713175113743581183 53 330} {6274681440813157365 53 331}]
------------------------------------------------------
flag 12450 term 55 leader 2 nextIndex[0]: 332  matchIndex[0]: 331
term 55 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 53 leaderCommit: 330 
------------------------------------------------------
flag 50751 term 55 leader 2 nextIndex[1]: 332  matchIndex[1]: 331
term 55 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 53 leaderCommit: 330 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=330
leader log:
[{snapshot 53 329} {2713175113743581183 53 330} {6274681440813157365 53 331}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=330
leader log:
[{snapshot 53 329} {2713175113743581183 53 330} {6274681440813157365 53 331}]
------------------------------------------------------
flag 44086 term 55 leader 2 nextIndex[0]: 332  matchIndex[0]: 331
term 55 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 53 leaderCommit: 330 
------------------------------------------------------
flag 2626 term 55 leader 2 nextIndex[1]: 332  matchIndex[1]: 331
term 55 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 53 leaderCommit: 330 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=330
leader log:
[{snapshot 53 329} {2713175113743581183 53 330} {6274681440813157365 53 331}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=330
leader log:
[{snapshot 53 329} {2713175113743581183 53 330} {6274681440813157365 53 331}]
------------------------------------------------------
flag 62528 term 55 leader 2 nextIndex[0]: 332  matchIndex[0]: 331
term 55 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 53 leaderCommit: 330 
------------------------------------------------------
flag 21164 term 55 leader 2 nextIndex[1]: 332  matchIndex[1]: 331
term 55 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 53 leaderCommit: 330 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=330
leader log:
[{snapshot 53 329} {2713175113743581183 53 330} {6274681440813157365 53 331}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=330
leader log:
[{snapshot 53 329} {2713175113743581183 53 330} {6274681440813157365 53 331}]
------------------------------------------------------
flag 39991 term 55 leader 2 nextIndex[0]: 332  matchIndex[0]: 331
term 55 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 53 leaderCommit: 330 
------------------------------------------------------
flag 68111 term 55 leader 2 nextIndex[1]: 332  matchIndex[1]: 331
term 55 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 53 leaderCommit: 330 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=330
leader log:
[{snapshot 53 329} {2713175113743581183 53 330} {6274681440813157365 53 331}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=330
leader log:
[{snapshot 53 329} {2713175113743581183 53 330} {6274681440813157365 53 331}]
------------------------------------------------------
flag 93302 term 55 leader 2 nextIndex[0]: 332  matchIndex[0]: 331
term 55 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 53 leaderCommit: 330 
------------------------------------------------------
flag 68957 term 55 leader 2 nextIndex[1]: 332  matchIndex[1]: 331
term 55 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 53 leaderCommit: 330 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=330
leader log:
[{snapshot 53 329} {2713175113743581183 53 330} {6274681440813157365 53 331}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=330
leader log:
[{snapshot 53 329} {2713175113743581183 53 330} {6274681440813157365 53 331}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30066 term 55 leader 2 nextIndex[0]: 332  matchIndex[0]: 331
term 55 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 53 leaderCommit: 330 
------------------------------------------------------
flag 61591 term 55 leader 2 nextIndex[1]: 332  matchIndex[1]: 331
term 55 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 53 leaderCommit: 330 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=330
leader log:
[{snapshot 53 329} {2713175113743581183 53 330} {6274681440813157365 53 331}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=330
leader log:
[{snapshot 53 329} {2713175113743581183 53 330} {6274681440813157365 53 331}]
------------------------------------------------------
flag 93581 term 55 leader 2 nextIndex[0]: 332  matchIndex[0]: 331
term 55 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 53 leaderCommit: 330 
------------------------------------------------------
flag 79174 term 55 leader 2 nextIndex[1]: 332  matchIndex[1]: 331
term 55 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 53 leaderCommit: 330 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=330
leader log:
[{snapshot 53 329} {2713175113743581183 53 330} {6274681440813157365 53 331}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=330
leader log:
[{snapshot 53 329} {2713175113743581183 53 330} {6274681440813157365 53 331}]
------------------------------------------------------
term 55 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 2501 term 55 leader 2 nextIndex[0]: 332  matchIndex[0]: 331
term 55 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 53 leaderCommit: 330 
------------------------------------------------------
flag 10958 term 55 leader 2 nextIndex[1]: 332  matchIndex[1]: 331
term 55 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 53 leaderCommit: 330 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=330
leader log:
[{snapshot 53 329} {2713175113743581183 53 330} {6274681440813157365 53 331}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=330
leader log:
[{snapshot 53 329} {2713175113743581183 53 330} {6274681440813157365 53 331}]
------------------------------------------------------
flag 53710 term 55 leader 2 nextIndex[0]: 332  matchIndex[0]: 331
term 55 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 53 leaderCommit: 330 
------------------------------------------------------
flag 34726 term 55 leader 2 nextIndex[1]: 332  matchIndex[1]: 331
term 55 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 53 leaderCommit: 330 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=330
leader log:
[{snapshot 53 329} {2713175113743581183 53 330} {6274681440813157365 53 331}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=330
leader log:
[{snapshot 53 329} {2713175113743581183 53 330} {6274681440813157365 53 331}]
------------------------------------------------------
flag 78007 term 55 leader 2 nextIndex[0]: 332  matchIndex[0]: 331
term 55 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 53 leaderCommit: 330 
------------------------------------------------------
flag 68643 term 55 leader 2 nextIndex[1]: 332  matchIndex[1]: 331
term 55 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 53 leaderCommit: 330 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=330
leader log:
[{snapshot 53 329} {2713175113743581183 53 330} {6274681440813157365 53 331}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=330
leader log:
[{snapshot 53 329} {2713175113743581183 53 330} {6274681440813157365 53 331}]
------------------------------------------------------
flag 80307 term 55 leader 2 nextIndex[0]: 332  matchIndex[0]: 331
term 55 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 53 leaderCommit: 330 
------------------------------------------------------
flag 1674 term 55 leader 2 nextIndex[1]: 332  matchIndex[1]: 331
term 55 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 53 leaderCommit: 330 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=330
leader log:
[{snapshot 53 329} {2713175113743581183 53 330} {6274681440813157365 53 331}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=330
leader log:
[{snapshot 53 329} {2713175113743581183 53 330} {6274681440813157365 53 331}]
------------------------------------------------------
flag 87813 term 55 leader 2 nextIndex[0]: 332  matchIndex[0]: 331
term 55 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 53 leaderCommit: 330 
------------------------------------------------------
flag 60554 term 55 leader 2 nextIndex[1]: 332  matchIndex[1]: 331
term 55 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 53 leaderCommit: 330 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=330
leader log:
[{snapshot 53 329} {2713175113743581183 53 330} {6274681440813157365 53 331}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=330
leader log:
[{snapshot 53 329} {2713175113743581183 53 330} {6274681440813157365 53 331}]
------------------------------------------------------
flag 66460 term 55 leader 2 nextIndex[0]: 332  matchIndex[0]: 331
term 55 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 53 leaderCommit: 330 
------------------------------------------------------
flag 93796 term 55 leader 2 nextIndex[1]: 332  matchIndex[1]: 331
term 55 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 53 leaderCommit: 330 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=330
leader log:
[{snapshot 53 329} {2713175113743581183 53 330} {6274681440813157365 53 331}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=330
leader log:
[{snapshot 53 329} {2713175113743581183 53 330} {6274681440813157365 53 331}]
------------------------------------------------------
flag 34179 term 55 leader 2 nextIndex[0]: 332  matchIndex[0]: 331
term 55 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 53 leaderCommit: 330 
------------------------------------------------------
flag 68957 term 55 leader 2 nextIndex[1]: 332  matchIndex[1]: 331
term 55 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 53 leaderCommit: 330 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=330
leader log:
[{snapshot 53 329} {2713175113743581183 53 330} {6274681440813157365 53 331}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=330
leader log:
[{snapshot 53 329} {2713175113743581183 53 330} {6274681440813157365 53 331}]
------------------------------------------------------
flag 4306 term 55 leader 2 nextIndex[0]: 332  matchIndex[0]: 331
term 55 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 53 leaderCommit: 330 
------------------------------------------------------
flag 83057 term 55 leader 2 nextIndex[1]: 332  matchIndex[1]: 331
term 55 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 53 leaderCommit: 330 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=330
leader log:
[{snapshot 53 329} {2713175113743581183 53 330} {6274681440813157365 53 331}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=330
leader log:
[{snapshot 53 329} {2713175113743581183 53 330} {6274681440813157365 53 331}]
------------------------------------------------------
flag 147 term 55 leader 2 nextIndex[0]: 332  matchIndex[0]: 331
term 55 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 53 leaderCommit: 330 
------------------------------------------------------
flag 5568 term 55 leader 2 nextIndex[1]: 332  matchIndex[1]: 331
term 55 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 53 leaderCommit: 330 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=330
leader log:
[{snapshot 53 329} {2713175113743581183 53 330} {6274681440813157365 53 331}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=330
leader log:
[{snapshot 53 329} {2713175113743581183 53 330} {6274681440813157365 53 331}]
------------------------------------------------------
client write log 6274681440813157365 (index 332) to leader 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1824 term 55 leader 2 nextIndex[0]: 332  matchIndex[0]: 331
term 55 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 53 leaderCommit: 330 
------------------------------------------------------
flag 5522 term 55 leader 2 nextIndex[1]: 332  matchIndex[1]: 331
term 55 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 53 leaderCommit: 330 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=332
leader log:
[{snapshot 53 329} {2713175113743581183 53 330} {6274681440813157365 53 331} {6274681440813157365 55 332}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=332
leader log:
[{snapshot 53 329} {2713175113743581183 53 330} {6274681440813157365 53 331} {6274681440813157365 55 332}]
------------------------------------------------------
flag 31200 term 55 leader 2 nextIndex[0]: 333  matchIndex[0]: 332
term 55 leader 2 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 55 leaderCommit: 332 
------------------------------------------------------
flag 73622 term 55 leader 2 nextIndex[1]: 333  matchIndex[1]: 332
term 55 leader 2 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 55 leaderCommit: 332 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=332
leader log:
[{snapshot 53 329} {2713175113743581183 53 330} {6274681440813157365 53 331} {6274681440813157365 55 332}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=332
leader log:
[{snapshot 53 329} {2713175113743581183 53 330} {6274681440813157365 53 331} {6274681440813157365 55 332}]
------------------------------------------------------
flag 48232 term 55 leader 2 nextIndex[0]: 333  matchIndex[0]: 332
term 55 leader 2 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 55 leaderCommit: 332 
------------------------------------------------------
flag 90697 term 55 leader 2 nextIndex[1]: 333  matchIndex[1]: 332
term 55 leader 2 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 55 leaderCommit: 332 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=332
leader log:
[{snapshot 53 329} {2713175113743581183 53 330} {6274681440813157365 53 331} {6274681440813157365 55 332}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=332
leader log:
[{snapshot 53 329} {2713175113743581183 53 330} {6274681440813157365 53 331} {6274681440813157365 55 332}]
------------------------------------------------------
flag 37668 term 55 leader 2 nextIndex[0]: 333  matchIndex[0]: 332
term 55 leader 2 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 55 leaderCommit: 332 
------------------------------------------------------
flag 49945 term 55 leader 2 nextIndex[1]: 333  matchIndex[1]: 332
term 55 leader 2 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 55 leaderCommit: 332 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=332
leader log:
[{snapshot 53 329} {2713175113743581183 53 330} {6274681440813157365 53 331} {6274681440813157365 55 332}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=332
leader log:
[{snapshot 53 329} {2713175113743581183 53 330} {6274681440813157365 53 331} {6274681440813157365 55 332}]
------------------------------------------------------
flag 91914 term 55 leader 2 nextIndex[0]: 333  matchIndex[0]: 332
term 55 leader 2 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 55 leaderCommit: 332 
------------------------------------------------------
flag 72022 term 55 leader 2 nextIndex[1]: 333  matchIndex[1]: 332
term 55 leader 2 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 55 leaderCommit: 332 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=332
leader log:
[{snapshot 53 329} {2713175113743581183 53 330} {6274681440813157365 53 331} {6274681440813157365 55 332}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=332
leader log:
[{snapshot 53 329} {2713175113743581183 53 330} {6274681440813157365 53 331} {6274681440813157365 55 332}]
------------------------------------------------------
flag 1848 term 55 leader 2 nextIndex[0]: 333  matchIndex[0]: 332
term 55 leader 2 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 55 leaderCommit: 332 
------------------------------------------------------
flag 56984 term 55 leader 2 nextIndex[1]: 333  matchIndex[1]: 332
term 55 leader 2 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 55 leaderCommit: 332 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=332
leader log:
[{snapshot 53 329} {2713175113743581183 53 330} {6274681440813157365 53 331} {6274681440813157365 55 332}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=332
leader log:
[{snapshot 53 329} {2713175113743581183 53 330} {6274681440813157365 53 331} {6274681440813157365 55 332}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 23143 term 55 leader 2 nextIndex[0]: 333  matchIndex[0]: 332
term 55 leader 2 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 55 leaderCommit: 332 
------------------------------------------------------
flag 15335 term 55 leader 2 nextIndex[1]: 333  matchIndex[1]: 332
term 55 leader 2 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 55 leaderCommit: 332 
------------------------------------------------------
flag 13263 term 55 leader 2 nextIndex[0]: 333  matchIndex[0]: 332
term 55 leader 2 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 55 leaderCommit: 332 
------------------------------------------------------
flag 41497 term 55 leader 2 nextIndex[1]: 333  matchIndex[1]: 332
term 55 leader 2 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 55 leaderCommit: 332 
------------------------------------------------------
flag 47548 term 55 leader 2 nextIndex[0]: 333  matchIndex[0]: 332
term 55 leader 2 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 55 leaderCommit: 332 
------------------------------------------------------
flag 36687 term 55 leader 2 nextIndex[1]: 333  matchIndex[1]: 332
term 55 leader 2 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 55 leaderCommit: 332 
------------------------------------------------------
term 56 server 1 vote for server 0
term 56 server 0 get vote from server 1
term 56 server 0 become leader
------------------------------------------------------
flag 55505 term 56 leader 0 nextIndex[1]: 333  matchIndex[1]: 0
term 56 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 55 leaderCommit: 332 
------------------------------------------------------
flag 93715 term 56 leader 0 nextIndex[2]: 333  matchIndex[2]: 0
term 56 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 55 leaderCommit: 332 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=332
leader log:
[{snapshot 53 329} {2713175113743581183 53 330} {6274681440813157365 53 331} {6274681440813157365 55 332}]
------------------------------------------------------
client write log 538031710212847693 (index 333) to leader 0
flag 34290 term 55 leader 2 nextIndex[0]: 333  matchIndex[0]: 332
term 55 leader 2 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 55 leaderCommit: 332 
------------------------------------------------------
flag 56248 term 55 leader 2 nextIndex[1]: 333  matchIndex[1]: 332
term 55 leader 2 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 55 leaderCommit: 332 
------------------------------------------------------
flag 60304 term 56 leader 0 nextIndex[1]: 333  matchIndex[1]: 332
term 56 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 55 leaderCommit: 332 
------------------------------------------------------
flag 73018 term 56 leader 0 nextIndex[2]: 333  matchIndex[2]: 0
term 56 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 55 leaderCommit: 332 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=333
leader log:
[{snapshot 53 329} {2713175113743581183 53 330} {6274681440813157365 53 331} {6274681440813157365 55 332} {538031710212847693 56 333}]
------------------------------------------------------
term 55 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 99963 term 55 leader 2 nextIndex[0]: 333  matchIndex[0]: 332
term 55 leader 2 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 55 leaderCommit: 332 
------------------------------------------------------
flag 25960 term 55 leader 2 nextIndex[1]: 333  matchIndex[1]: 332
term 55 leader 2 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 55 leaderCommit: 332 
------------------------------------------------------
flag 74492 term 56 leader 0 nextIndex[1]: 334  matchIndex[1]: 333
term 56 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 56 leaderCommit: 333 
------------------------------------------------------
flag 61163 term 56 leader 0 nextIndex[2]: 333  matchIndex[2]: 0
term 56 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 55 leaderCommit: 333 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=333
leader log:
[{snapshot 53 329} {2713175113743581183 53 330} {6274681440813157365 53 331} {6274681440813157365 55 332} {538031710212847693 56 333}]
------------------------------------------------------
client write log 9175095967293880956 (index 334) to leader 0
client write log 3236459685384165496 (index 335) to leader 0
client write log 7262576582091092845 (index 336) to leader 0
client write log 6423177738739993074 (index 337) to leader 0
client write log 2454491368139687372 (index 338) to leader 0
client write log 5080091014800452244 (index 339) to leader 0
client write log 6357717753572115754 (index 340) to leader 0
client write log 6622308437733658701 (index 341) to leader 0
client write log 8671754988102856391 (index 342) to leader 0
client write log 6961851195801274183 (index 343) to leader 0
client write log 990008081817308841 (index 344) to leader 0
client write log 3570610196207219650 (index 345) to leader 0
client write log 6368396253704959890 (index 346) to leader 0
flag 4794 term 55 leader 2 nextIndex[0]: 333  matchIndex[0]: 332
term 55 leader 2 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 55 leaderCommit: 332 
------------------------------------------------------
flag 768 term 55 leader 2 nextIndex[1]: 333  matchIndex[1]: 332
term 55 leader 2 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 55 leaderCommit: 332 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94753 term 56 leader 0 nextIndex[1]: 334  matchIndex[1]: 333
term 56 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 56 leaderCommit: 333 
------------------------------------------------------
flag 93744 term 56 leader 0 nextIndex[2]: 333  matchIndex[2]: 0
term 56 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 55 leaderCommit: 333 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=347
update matchIndex[1]=346
update leader CommitIndex=346
leader log:
[{snapshot 53 329} {2713175113743581183 53 330} {6274681440813157365 53 331} {6274681440813157365 55 332} {538031710212847693 56 333} {9175095967293880956 56 334} {3236459685384165496 56 335} {7262576582091092845 56 336} {6423177738739993074 56 337} {2454491368139687372 56 338} {5080091014800452244 56 339} {6357717753572115754 56 340} {6622308437733658701 56 341} {8671754988102856391 56 342} {6961851195801274183 56 343} {990008081817308841 56 344} {3570610196207219650 56 345} {6368396253704959890 56 346}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 333->332
------------------------------------------------------
term 56 Server0 start snapshot! index=339
term 56 server0 snapshot success
lastIncludedIndex=339 lastApplied=340 lastIndex=346
-------------------------------------------------------------
flag 95966 term 55 leader 2 nextIndex[0]: 333  matchIndex[0]: 332
term 55 leader 2 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 55 leaderCommit: 332 
------------------------------------------------------
term 55 leader 2 nextIndex[1]: 0  matchIndex[1]: 332
term 55 leader 2 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 53
------------------------------------------------------
flag 28804 term 56 leader 0 nextIndex[1]: 347  matchIndex[1]: 346
term 56 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 56 leaderCommit: 346 
------------------------------------------------------
term 56 leader 0 nextIndex[2]: 333  matchIndex[2]: 0
term 56 leader 0 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 56
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=347
update matchIndex[1]=346
update leader CommitIndex=346
leader log:
[{snapshot 56 339} {6357717753572115754 56 340} {6622308437733658701 56 341} {8671754988102856391 56 342} {6961851195801274183 56 343} {990008081817308841 56 344} {3570610196207219650 56 345} {6368396253704959890 56 346}]
------------------------------------------------------
term 56 Server1 start snapshot! index=339
term 56 server1 snapshot success
lastIncludedIndex=339 lastApplied=340 lastIndex=346
-------------------------------------------------------------
!!!!!!connect server 2
client write log 8935643088883278415 (index 333) to leader 2
flag 51466 term 55 leader 2 nextIndex[0]: 333  matchIndex[0]: 332
term 55 leader 2 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 55 leaderCommit: 332 
------------------------------------------------------
term 55 leader 2 nextIndex[1]: 0  matchIndex[1]: 332
term 55 leader 2 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 53
------------------------------------------------------
term 56 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 55 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 56 server 0 AppendEntries false 领导者任期过期 args.Term 55
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21141 term 56 leader 0 nextIndex[1]: 347  matchIndex[1]: 346
term 56 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 56 leaderCommit: 346 
------------------------------------------------------
term 56 leader 0 nextIndex[2]: 333  matchIndex[2]: 0
term 56 leader 0 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 56
------------------------------------------------------
term 56 server 2 InstallSnapshot success
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:346 
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 339 rf.lastIncludedTerm 56 rf.commitIndex 339 rf.lastApplied 339
term 56 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 340 matchIndex[2] 339 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=347
update matchIndex[1]=346
update leader CommitIndex=346
leader log:
[{snapshot 56 339} {6357717753572115754 56 340} {6622308437733658701 56 341} {8671754988102856391 56 342} {6961851195801274183 56 343} {990008081817308841 56 344} {3570610196207219650 56 345} {6368396253704959890 56 346}]
------------------------------------------------------
term 56 server 1 not vote for server 2, 日志不够新
term 56 server 0 not vote for server 2, 日志不够新
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 58 server 2 vote for server 0
term 58 server 1 vote for server 0
term 58 server 0 get vote from server 2
term 58 server 0 become leader
------------------------------------------------------
term 58 server 0 get outdate rpc reply from server 1
flag 16362 term 58 leader 0 nextIndex[1]: 347  matchIndex[1]: 0
term 58 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 56 leaderCommit: 346 
------------------------------------------------------
flag 75569 term 58 leader 0 nextIndex[2]: 347  matchIndex[2]: 0
term 58 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 56 leaderCommit: 346 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:346 
------------------------------------------------------
term 58 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 347->346
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=347
update matchIndex[1]=346
update leader CommitIndex=346
leader log:
[{snapshot 56 339} {6357717753572115754 56 340} {6622308437733658701 56 341} {8671754988102856391 56 342} {6961851195801274183 56 343} {990008081817308841 56 344} {3570610196207219650 56 345} {6368396253704959890 56 346}]
------------------------------------------------------
flag 62987 term 58 leader 0 nextIndex[1]: 347  matchIndex[1]: 346
term 58 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 56 leaderCommit: 346 
------------------------------------------------------
flag 12009 term 58 leader 0 nextIndex[2]: 340  matchIndex[2]: 0
term 58 leader 0 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 56 leaderCommit: 346 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=347
update matchIndex[1]=346
update leader CommitIndex=346
leader log:
[{snapshot 56 339} {6357717753572115754 56 340} {6622308437733658701 56 341} {8671754988102856391 56 342} {6961851195801274183 56 343} {990008081817308841 56 344} {3570610196207219650 56 345} {6368396253704959890 56 346}]
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=347
update matchIndex[2]=346
update leader CommitIndex=346
leader log:
[{snapshot 56 339} {6357717753572115754 56 340} {6622308437733658701 56 341} {8671754988102856391 56 342} {6961851195801274183 56 343} {990008081817308841 56 344} {3570610196207219650 56 345} {6368396253704959890 56 346}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35731 term 58 leader 0 nextIndex[1]: 347  matchIndex[1]: 346
term 58 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 56 leaderCommit: 346 
------------------------------------------------------
flag 53190 term 58 leader 0 nextIndex[2]: 347  matchIndex[2]: 346
term 58 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 56 leaderCommit: 346 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=347
update matchIndex[2]=346
update leader CommitIndex=346
leader log:
[{snapshot 56 339} {6357717753572115754 56 340} {6622308437733658701 56 341} {8671754988102856391 56 342} {6961851195801274183 56 343} {990008081817308841 56 344} {3570610196207219650 56 345} {6368396253704959890 56 346}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=347
update matchIndex[1]=346
update leader CommitIndex=346
leader log:
[{snapshot 56 339} {6357717753572115754 56 340} {6622308437733658701 56 341} {8671754988102856391 56 342} {6961851195801274183 56 343} {990008081817308841 56 344} {3570610196207219650 56 345} {6368396253704959890 56 346}]
------------------------------------------------------
flag 17767 term 58 leader 0 nextIndex[1]: 347  matchIndex[1]: 346
term 58 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 56 leaderCommit: 346 
------------------------------------------------------
flag 92135 term 58 leader 0 nextIndex[2]: 347  matchIndex[2]: 346
term 58 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 56 leaderCommit: 346 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=347
update matchIndex[2]=346
update leader CommitIndex=346
leader log:
[{snapshot 56 339} {6357717753572115754 56 340} {6622308437733658701 56 341} {8671754988102856391 56 342} {6961851195801274183 56 343} {990008081817308841 56 344} {3570610196207219650 56 345} {6368396253704959890 56 346}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=347
update matchIndex[1]=346
update leader CommitIndex=346
leader log:
[{snapshot 56 339} {6357717753572115754 56 340} {6622308437733658701 56 341} {8671754988102856391 56 342} {6961851195801274183 56 343} {990008081817308841 56 344} {3570610196207219650 56 345} {6368396253704959890 56 346}]
------------------------------------------------------
flag 15090 term 58 leader 0 nextIndex[1]: 347  matchIndex[1]: 346
term 58 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 56 leaderCommit: 346 
------------------------------------------------------
flag 21929 term 58 leader 0 nextIndex[2]: 347  matchIndex[2]: 346
term 58 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 56 leaderCommit: 346 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=347
update matchIndex[2]=346
update leader CommitIndex=346
leader log:
[{snapshot 56 339} {6357717753572115754 56 340} {6622308437733658701 56 341} {8671754988102856391 56 342} {6961851195801274183 56 343} {990008081817308841 56 344} {3570610196207219650 56 345} {6368396253704959890 56 346}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=347
update matchIndex[1]=346
update leader CommitIndex=346
leader log:
[{snapshot 56 339} {6357717753572115754 56 340} {6622308437733658701 56 341} {8671754988102856391 56 342} {6961851195801274183 56 343} {990008081817308841 56 344} {3570610196207219650 56 345} {6368396253704959890 56 346}]
------------------------------------------------------
flag 46442 term 58 leader 0 nextIndex[1]: 347  matchIndex[1]: 346
term 58 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 56 leaderCommit: 346 
------------------------------------------------------
flag 30137 term 58 leader 0 nextIndex[2]: 347  matchIndex[2]: 346
term 58 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 56 leaderCommit: 346 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=347
update matchIndex[2]=346
update leader CommitIndex=346
leader log:
[{snapshot 56 339} {6357717753572115754 56 340} {6622308437733658701 56 341} {8671754988102856391 56 342} {6961851195801274183 56 343} {990008081817308841 56 344} {3570610196207219650 56 345} {6368396253704959890 56 346}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=347
update matchIndex[1]=346
update leader CommitIndex=346
leader log:
[{snapshot 56 339} {6357717753572115754 56 340} {6622308437733658701 56 341} {8671754988102856391 56 342} {6961851195801274183 56 343} {990008081817308841 56 344} {3570610196207219650 56 345} {6368396253704959890 56 346}]
------------------------------------------------------
flag 42580 term 58 leader 0 nextIndex[1]: 347  matchIndex[1]: 346
term 58 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 56 leaderCommit: 346 
------------------------------------------------------
flag 4027 term 58 leader 0 nextIndex[2]: 347  matchIndex[2]: 346
term 58 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 56 leaderCommit: 346 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=347
update matchIndex[2]=346
update leader CommitIndex=346
leader log:
[{snapshot 56 339} {6357717753572115754 56 340} {6622308437733658701 56 341} {8671754988102856391 56 342} {6961851195801274183 56 343} {990008081817308841 56 344} {3570610196207219650 56 345} {6368396253704959890 56 346}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=347
update matchIndex[1]=346
update leader CommitIndex=346
leader log:
[{snapshot 56 339} {6357717753572115754 56 340} {6622308437733658701 56 341} {8671754988102856391 56 342} {6961851195801274183 56 343} {990008081817308841 56 344} {3570610196207219650 56 345} {6368396253704959890 56 346}]
------------------------------------------------------
flag 48730 term 58 leader 0 nextIndex[1]: 347  matchIndex[1]: 346
term 58 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 56 leaderCommit: 346 
------------------------------------------------------
flag 70543 term 58 leader 0 nextIndex[2]: 347  matchIndex[2]: 346
term 58 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 56 leaderCommit: 346 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=347
update matchIndex[2]=346
update leader CommitIndex=346
leader log:
[{snapshot 56 339} {6357717753572115754 56 340} {6622308437733658701 56 341} {8671754988102856391 56 342} {6961851195801274183 56 343} {990008081817308841 56 344} {3570610196207219650 56 345} {6368396253704959890 56 346}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=347
update matchIndex[1]=346
update leader CommitIndex=346
leader log:
[{snapshot 56 339} {6357717753572115754 56 340} {6622308437733658701 56 341} {8671754988102856391 56 342} {6961851195801274183 56 343} {990008081817308841 56 344} {3570610196207219650 56 345} {6368396253704959890 56 346}]
------------------------------------------------------
flag 15790 term 58 leader 0 nextIndex[1]: 347  matchIndex[1]: 346
term 58 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 56 leaderCommit: 346 
------------------------------------------------------
flag 45798 term 58 leader 0 nextIndex[2]: 347  matchIndex[2]: 346
term 58 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 56 leaderCommit: 346 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=347
update matchIndex[2]=346
update leader CommitIndex=346
leader log:
[{snapshot 56 339} {6357717753572115754 56 340} {6622308437733658701 56 341} {8671754988102856391 56 342} {6961851195801274183 56 343} {990008081817308841 56 344} {3570610196207219650 56 345} {6368396253704959890 56 346}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=347
update matchIndex[1]=346
update leader CommitIndex=346
leader log:
[{snapshot 56 339} {6357717753572115754 56 340} {6622308437733658701 56 341} {8671754988102856391 56 342} {6961851195801274183 56 343} {990008081817308841 56 344} {3570610196207219650 56 345} {6368396253704959890 56 346}]
------------------------------------------------------
flag 21577 term 58 leader 0 nextIndex[1]: 347  matchIndex[1]: 346
term 58 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 56 leaderCommit: 346 
------------------------------------------------------
flag 40412 term 58 leader 0 nextIndex[2]: 347  matchIndex[2]: 346
term 58 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 56 leaderCommit: 346 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=347
update matchIndex[2]=346
update leader CommitIndex=346
leader log:
[{snapshot 56 339} {6357717753572115754 56 340} {6622308437733658701 56 341} {8671754988102856391 56 342} {6961851195801274183 56 343} {990008081817308841 56 344} {3570610196207219650 56 345} {6368396253704959890 56 346}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=347
update matchIndex[1]=346
update leader CommitIndex=346
leader log:
[{snapshot 56 339} {6357717753572115754 56 340} {6622308437733658701 56 341} {8671754988102856391 56 342} {6961851195801274183 56 343} {990008081817308841 56 344} {3570610196207219650 56 345} {6368396253704959890 56 346}]
------------------------------------------------------
flag 94817 term 58 leader 0 nextIndex[1]: 347  matchIndex[1]: 346
term 58 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 56 leaderCommit: 346 
------------------------------------------------------
flag 84267 term 58 leader 0 nextIndex[2]: 347  matchIndex[2]: 346
term 58 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 56 leaderCommit: 346 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=347
update matchIndex[2]=346
update leader CommitIndex=346
leader log:
[{snapshot 56 339} {6357717753572115754 56 340} {6622308437733658701 56 341} {8671754988102856391 56 342} {6961851195801274183 56 343} {990008081817308841 56 344} {3570610196207219650 56 345} {6368396253704959890 56 346}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=347
update matchIndex[1]=346
update leader CommitIndex=346
leader log:
[{snapshot 56 339} {6357717753572115754 56 340} {6622308437733658701 56 341} {8671754988102856391 56 342} {6961851195801274183 56 343} {990008081817308841 56 344} {3570610196207219650 56 345} {6368396253704959890 56 346}]
------------------------------------------------------
term 58 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 21378 term 58 leader 0 nextIndex[1]: 347  matchIndex[1]: 346
term 58 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 56 leaderCommit: 346 
------------------------------------------------------
flag 68972 term 58 leader 0 nextIndex[2]: 347  matchIndex[2]: 346
term 58 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 56 leaderCommit: 346 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=347
update matchIndex[2]=346
update leader CommitIndex=346
leader log:
[{snapshot 56 339} {6357717753572115754 56 340} {6622308437733658701 56 341} {8671754988102856391 56 342} {6961851195801274183 56 343} {990008081817308841 56 344} {3570610196207219650 56 345} {6368396253704959890 56 346}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=347
update matchIndex[1]=346
update leader CommitIndex=346
leader log:
[{snapshot 56 339} {6357717753572115754 56 340} {6622308437733658701 56 341} {8671754988102856391 56 342} {6961851195801274183 56 343} {990008081817308841 56 344} {3570610196207219650 56 345} {6368396253704959890 56 346}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54086 term 58 leader 0 nextIndex[1]: 347  matchIndex[1]: 346
term 58 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 56 leaderCommit: 346 
------------------------------------------------------
flag 44066 term 58 leader 0 nextIndex[2]: 347  matchIndex[2]: 346
term 58 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 56 leaderCommit: 346 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=347
update matchIndex[1]=346
update leader CommitIndex=346
leader log:
[{snapshot 56 339} {6357717753572115754 56 340} {6622308437733658701 56 341} {8671754988102856391 56 342} {6961851195801274183 56 343} {990008081817308841 56 344} {3570610196207219650 56 345} {6368396253704959890 56 346}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=347
update matchIndex[2]=346
update leader CommitIndex=346
leader log:
[{snapshot 56 339} {6357717753572115754 56 340} {6622308437733658701 56 341} {8671754988102856391 56 342} {6961851195801274183 56 343} {990008081817308841 56 344} {3570610196207219650 56 345} {6368396253704959890 56 346}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81562 term 58 leader 0 nextIndex[1]: 347  matchIndex[1]: 346
term 58 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 56 leaderCommit: 346 
------------------------------------------------------
flag 99602 term 58 leader 0 nextIndex[2]: 347  matchIndex[2]: 346
term 58 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 56 leaderCommit: 346 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=347
update matchIndex[2]=346
update leader CommitIndex=346
leader log:
[{snapshot 56 339} {6357717753572115754 56 340} {6622308437733658701 56 341} {8671754988102856391 56 342} {6961851195801274183 56 343} {990008081817308841 56 344} {3570610196207219650 56 345} {6368396253704959890 56 346}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=347
update matchIndex[1]=346
update leader CommitIndex=346
leader log:
[{snapshot 56 339} {6357717753572115754 56 340} {6622308437733658701 56 341} {8671754988102856391 56 342} {6961851195801274183 56 343} {990008081817308841 56 344} {3570610196207219650 56 345} {6368396253704959890 56 346}]
------------------------------------------------------
flag 55184 term 58 leader 0 nextIndex[1]: 347  matchIndex[1]: 346
term 58 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 56 leaderCommit: 346 
------------------------------------------------------
flag 98526 term 58 leader 0 nextIndex[2]: 347  matchIndex[2]: 346
term 58 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 56 leaderCommit: 346 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=347
update matchIndex[2]=346
update leader CommitIndex=346
leader log:
[{snapshot 56 339} {6357717753572115754 56 340} {6622308437733658701 56 341} {8671754988102856391 56 342} {6961851195801274183 56 343} {990008081817308841 56 344} {3570610196207219650 56 345} {6368396253704959890 56 346}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=347
update matchIndex[1]=346
update leader CommitIndex=346
leader log:
[{snapshot 56 339} {6357717753572115754 56 340} {6622308437733658701 56 341} {8671754988102856391 56 342} {6961851195801274183 56 343} {990008081817308841 56 344} {3570610196207219650 56 345} {6368396253704959890 56 346}]
------------------------------------------------------
flag 75846 term 58 leader 0 nextIndex[1]: 347  matchIndex[1]: 346
term 58 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 56 leaderCommit: 346 
------------------------------------------------------
flag 59689 term 58 leader 0 nextIndex[2]: 347  matchIndex[2]: 346
term 58 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 56 leaderCommit: 346 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=347
update matchIndex[2]=346
update leader CommitIndex=346
leader log:
[{snapshot 56 339} {6357717753572115754 56 340} {6622308437733658701 56 341} {8671754988102856391 56 342} {6961851195801274183 56 343} {990008081817308841 56 344} {3570610196207219650 56 345} {6368396253704959890 56 346}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=347
update matchIndex[1]=346
update leader CommitIndex=346
leader log:
[{snapshot 56 339} {6357717753572115754 56 340} {6622308437733658701 56 341} {8671754988102856391 56 342} {6961851195801274183 56 343} {990008081817308841 56 344} {3570610196207219650 56 345} {6368396253704959890 56 346}]
------------------------------------------------------
flag 6830 term 58 leader 0 nextIndex[1]: 347  matchIndex[1]: 346
term 58 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 56 leaderCommit: 346 
------------------------------------------------------
flag 38292 term 58 leader 0 nextIndex[2]: 347  matchIndex[2]: 346
term 58 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 56 leaderCommit: 346 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=347
update matchIndex[2]=346
update leader CommitIndex=346
leader log:
[{snapshot 56 339} {6357717753572115754 56 340} {6622308437733658701 56 341} {8671754988102856391 56 342} {6961851195801274183 56 343} {990008081817308841 56 344} {3570610196207219650 56 345} {6368396253704959890 56 346}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=347
update matchIndex[1]=346
update leader CommitIndex=346
leader log:
[{snapshot 56 339} {6357717753572115754 56 340} {6622308437733658701 56 341} {8671754988102856391 56 342} {6961851195801274183 56 343} {990008081817308841 56 344} {3570610196207219650 56 345} {6368396253704959890 56 346}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86480 term 58 leader 0 nextIndex[1]: 347  matchIndex[1]: 346
term 58 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 56 leaderCommit: 346 
------------------------------------------------------
flag 75620 term 58 leader 0 nextIndex[2]: 347  matchIndex[2]: 346
term 58 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 56 leaderCommit: 346 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=347
update matchIndex[2]=346
update leader CommitIndex=346
leader log:
[{snapshot 56 339} {6357717753572115754 56 340} {6622308437733658701 56 341} {8671754988102856391 56 342} {6961851195801274183 56 343} {990008081817308841 56 344} {3570610196207219650 56 345} {6368396253704959890 56 346}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=347
update matchIndex[1]=346
update leader CommitIndex=346
leader log:
[{snapshot 56 339} {6357717753572115754 56 340} {6622308437733658701 56 341} {8671754988102856391 56 342} {6961851195801274183 56 343} {990008081817308841 56 344} {3570610196207219650 56 345} {6368396253704959890 56 346}]
------------------------------------------------------
flag 16263 term 58 leader 0 nextIndex[1]: 347  matchIndex[1]: 346
term 58 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 56 leaderCommit: 346 
------------------------------------------------------
flag 65264 term 58 leader 0 nextIndex[2]: 347  matchIndex[2]: 346
term 58 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 56 leaderCommit: 346 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=347
update matchIndex[2]=346
update leader CommitIndex=346
leader log:
[{snapshot 56 339} {6357717753572115754 56 340} {6622308437733658701 56 341} {8671754988102856391 56 342} {6961851195801274183 56 343} {990008081817308841 56 344} {3570610196207219650 56 345} {6368396253704959890 56 346}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=347
update matchIndex[1]=346
update leader CommitIndex=346
leader log:
[{snapshot 56 339} {6357717753572115754 56 340} {6622308437733658701 56 341} {8671754988102856391 56 342} {6961851195801274183 56 343} {990008081817308841 56 344} {3570610196207219650 56 345} {6368396253704959890 56 346}]
------------------------------------------------------
client write log 8935643088883278415 (index 347) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 923 term 58 leader 0 nextIndex[1]: 347  matchIndex[1]: 346
term 58 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 56 leaderCommit: 346 
------------------------------------------------------
flag 48413 term 58 leader 0 nextIndex[2]: 347  matchIndex[2]: 346
term 58 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 56 leaderCommit: 346 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=348
update matchIndex[2]=347
update leader CommitIndex=347
leader log:
[{snapshot 56 339} {6357717753572115754 56 340} {6622308437733658701 56 341} {8671754988102856391 56 342} {6961851195801274183 56 343} {990008081817308841 56 344} {3570610196207219650 56 345} {6368396253704959890 56 346} {8935643088883278415 58 347}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=348
update matchIndex[1]=347
update leader CommitIndex=347
leader log:
[{snapshot 56 339} {6357717753572115754 56 340} {6622308437733658701 56 341} {8671754988102856391 56 342} {6961851195801274183 56 343} {990008081817308841 56 344} {3570610196207219650 56 345} {6368396253704959890 56 346} {8935643088883278415 58 347}]
------------------------------------------------------
flag 51848 term 58 leader 0 nextIndex[1]: 348  matchIndex[1]: 347
term 58 leader 0 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 58 leaderCommit: 347 
------------------------------------------------------
flag 70942 term 58 leader 0 nextIndex[2]: 348  matchIndex[2]: 347
term 58 leader 0 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 58 leaderCommit: 347 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=348
update matchIndex[1]=347
update leader CommitIndex=347
leader log:
[{snapshot 56 339} {6357717753572115754 56 340} {6622308437733658701 56 341} {8671754988102856391 56 342} {6961851195801274183 56 343} {990008081817308841 56 344} {3570610196207219650 56 345} {6368396253704959890 56 346} {8935643088883278415 58 347}]
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=348
update matchIndex[2]=347
update leader CommitIndex=347
leader log:
[{snapshot 56 339} {6357717753572115754 56 340} {6622308437733658701 56 341} {8671754988102856391 56 342} {6961851195801274183 56 343} {990008081817308841 56 344} {3570610196207219650 56 345} {6368396253704959890 56 346} {8935643088883278415 58 347}]
------------------------------------------------------
flag 61753 term 58 leader 0 nextIndex[1]: 348  matchIndex[1]: 347
term 58 leader 0 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 58 leaderCommit: 347 
------------------------------------------------------
flag 99052 term 58 leader 0 nextIndex[2]: 348  matchIndex[2]: 347
term 58 leader 0 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 58 leaderCommit: 347 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=348
update matchIndex[2]=347
update leader CommitIndex=347
leader log:
[{snapshot 56 339} {6357717753572115754 56 340} {6622308437733658701 56 341} {8671754988102856391 56 342} {6961851195801274183 56 343} {990008081817308841 56 344} {3570610196207219650 56 345} {6368396253704959890 56 346} {8935643088883278415 58 347}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=348
update matchIndex[1]=347
update leader CommitIndex=347
leader log:
[{snapshot 56 339} {6357717753572115754 56 340} {6622308437733658701 56 341} {8671754988102856391 56 342} {6961851195801274183 56 343} {990008081817308841 56 344} {3570610196207219650 56 345} {6368396253704959890 56 346} {8935643088883278415 58 347}]
------------------------------------------------------
flag 27969 term 58 leader 0 nextIndex[1]: 348  matchIndex[1]: 347
term 58 leader 0 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 58 leaderCommit: 347 
------------------------------------------------------
flag 16675 term 58 leader 0 nextIndex[2]: 348  matchIndex[2]: 347
term 58 leader 0 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 58 leaderCommit: 347 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=348
update matchIndex[2]=347
update leader CommitIndex=347
leader log:
[{snapshot 56 339} {6357717753572115754 56 340} {6622308437733658701 56 341} {8671754988102856391 56 342} {6961851195801274183 56 343} {990008081817308841 56 344} {3570610196207219650 56 345} {6368396253704959890 56 346} {8935643088883278415 58 347}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=348
update matchIndex[1]=347
update leader CommitIndex=347
leader log:
[{snapshot 56 339} {6357717753572115754 56 340} {6622308437733658701 56 341} {8671754988102856391 56 342} {6961851195801274183 56 343} {990008081817308841 56 344} {3570610196207219650 56 345} {6368396253704959890 56 346} {8935643088883278415 58 347}]
------------------------------------------------------
flag 81442 term 58 leader 0 nextIndex[1]: 348  matchIndex[1]: 347
term 58 leader 0 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 58 leaderCommit: 347 
------------------------------------------------------
flag 43148 term 58 leader 0 nextIndex[2]: 348  matchIndex[2]: 347
term 58 leader 0 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 58 leaderCommit: 347 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=348
update matchIndex[2]=347
update leader CommitIndex=347
leader log:
[{snapshot 56 339} {6357717753572115754 56 340} {6622308437733658701 56 341} {8671754988102856391 56 342} {6961851195801274183 56 343} {990008081817308841 56 344} {3570610196207219650 56 345} {6368396253704959890 56 346} {8935643088883278415 58 347}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=348
update matchIndex[1]=347
update leader CommitIndex=347
leader log:
[{snapshot 56 339} {6357717753572115754 56 340} {6622308437733658701 56 341} {8671754988102856391 56 342} {6961851195801274183 56 343} {990008081817308841 56 344} {3570610196207219650 56 345} {6368396253704959890 56 346} {8935643088883278415 58 347}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76695 term 58 leader 0 nextIndex[1]: 348  matchIndex[1]: 347
term 58 leader 0 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 58 leaderCommit: 347 
------------------------------------------------------
flag 41950 term 58 leader 0 nextIndex[2]: 348  matchIndex[2]: 347
term 58 leader 0 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 58 leaderCommit: 347 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=348
update matchIndex[2]=347
update leader CommitIndex=347
leader log:
[{snapshot 56 339} {6357717753572115754 56 340} {6622308437733658701 56 341} {8671754988102856391 56 342} {6961851195801274183 56 343} {990008081817308841 56 344} {3570610196207219650 56 345} {6368396253704959890 56 346} {8935643088883278415 58 347}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=348
update matchIndex[1]=347
update leader CommitIndex=347
leader log:
[{snapshot 56 339} {6357717753572115754 56 340} {6622308437733658701 56 341} {8671754988102856391 56 342} {6961851195801274183 56 343} {990008081817308841 56 344} {3570610196207219650 56 345} {6368396253704959890 56 346} {8935643088883278415 58 347}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 8187505827757627754 (index 348) to leader 0
flag 12844 term 58 leader 0 nextIndex[1]: 348  matchIndex[1]: 347
term 58 leader 0 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 58 leaderCommit: 347 
------------------------------------------------------
flag 89 term 58 leader 0 nextIndex[2]: 348  matchIndex[2]: 347
term 58 leader 0 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 58 leaderCommit: 347 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=348
leader log:
[{snapshot 56 339} {6357717753572115754 56 340} {6622308437733658701 56 341} {8671754988102856391 56 342} {6961851195801274183 56 343} {990008081817308841 56 344} {3570610196207219650 56 345} {6368396253704959890 56 346} {8935643088883278415 58 347} {8187505827757627754 58 348}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80355 term 58 leader 0 nextIndex[1]: 348  matchIndex[1]: 347
term 58 leader 0 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 58 leaderCommit: 348 
------------------------------------------------------
flag 4851 term 58 leader 0 nextIndex[2]: 349  matchIndex[2]: 348
term 58 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 58 leaderCommit: 348 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=349
update matchIndex[2]=348
update leader CommitIndex=348
leader log:
[{snapshot 56 339} {6357717753572115754 56 340} {6622308437733658701 56 341} {8671754988102856391 56 342} {6961851195801274183 56 343} {990008081817308841 56 344} {3570610196207219650 56 345} {6368396253704959890 56 346} {8935643088883278415 58 347} {8187505827757627754 58 348}]
------------------------------------------------------
client write log 3193575650443970710 (index 349) to leader 0
client write log 6363238723723637252 (index 350) to leader 0
client write log 4814436047090264366 (index 351) to leader 0
client write log 1739252387466477230 (index 352) to leader 0
client write log 219706216044013177 (index 353) to leader 0
client write log 2583113159765228804 (index 354) to leader 0
client write log 9029873342679756461 (index 355) to leader 0
client write log 3169976810769252763 (index 356) to leader 0
client write log 2350311731934598726 (index 357) to leader 0
flag 82425 term 58 leader 0 nextIndex[1]: 348  matchIndex[1]: 347
term 58 leader 0 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 58 leaderCommit: 348 
------------------------------------------------------
flag 30613 term 58 leader 0 nextIndex[2]: 349  matchIndex[2]: 348
term 58 leader 0 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 58 leaderCommit: 348 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=358
update matchIndex[2]=357
update leader CommitIndex=357
leader log:
[{snapshot 56 339} {6357717753572115754 56 340} {6622308437733658701 56 341} {8671754988102856391 56 342} {6961851195801274183 56 343} {990008081817308841 56 344} {3570610196207219650 56 345} {6368396253704959890 56 346} {8935643088883278415 58 347} {8187505827757627754 58 348} {3193575650443970710 58 349} {6363238723723637252 58 350} {4814436047090264366 58 351} {1739252387466477230 58 352} {219706216044013177 58 353} {2583113159765228804 58 354} {9029873342679756461 58 355} {3169976810769252763 58 356} {2350311731934598726 58 357}]
------------------------------------------------------
term 58 Server0 start snapshot! index=349
term 58 server0 snapshot success
lastIncludedIndex=349 lastApplied=350 lastIndex=357
-------------------------------------------------------------
term 58 leader 0 nextIndex[1]: 348  matchIndex[1]: 347
term 58 leader 0 sendInstallSnapshot LastIncludedIndex: 349  LastIncludedTerm: 58
------------------------------------------------------
flag 79500 term 58 leader 0 nextIndex[2]: 358  matchIndex[2]: 357
term 58 leader 0 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 58 leaderCommit: 357 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=358
update matchIndex[2]=357
update leader CommitIndex=357
leader log:
[{snapshot 58 349} {6363238723723637252 58 350} {4814436047090264366 58 351} {1739252387466477230 58 352} {219706216044013177 58 353} {2583113159765228804 58 354} {9029873342679756461 58 355} {3169976810769252763 58 356} {2350311731934598726 58 357}]
------------------------------------------------------
term 58 Server2 start snapshot! index=349
term 58 server2 snapshot success
lastIncludedIndex=349 lastApplied=350 lastIndex=357
-------------------------------------------------------------
!!!!!!connect server 1
client write log 3820877065842454945 (index 358) to leader 0
term 58 leader 0 nextIndex[1]: 348  matchIndex[1]: 347
term 58 leader 0 sendInstallSnapshot LastIncludedIndex: 349  LastIncludedTerm: 58
------------------------------------------------------
flag 21920 term 58 leader 0 nextIndex[2]: 358  matchIndex[2]: 357
term 58 leader 0 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 58 leaderCommit: 357 
------------------------------------------------------
term 59 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 58 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 60 server 2 vote for server 0
term 60 server 1 vote for server 0
term 60 server 0 get vote from server 2
term 60 server 0 become leader
------------------------------------------------------
term 60 server 0 get outdate rpc reply from server 1
flag 56086 term 60 leader 0 nextIndex[1]: 359  matchIndex[1]: 0
term 60 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 58 leaderCommit: 357 
------------------------------------------------------
flag 58053 term 60 leader 0 nextIndex[2]: 359  matchIndex[2]: 0
term 60 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 58 leaderCommit: 357 
------------------------------------------------------
term 60 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 359->358
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=359
update matchIndex[2]=358
update leader CommitIndex=357
leader log:
[{snapshot 58 349} {6363238723723637252 58 350} {4814436047090264366 58 351} {1739252387466477230 58 352} {219706216044013177 58 353} {2583113159765228804 58 354} {9029873342679756461 58 355} {3169976810769252763 58 356} {2350311731934598726 58 357} {3820877065842454945 58 358}]
------------------------------------------------------
term 60 server 1 not vote for server 0, 任期不够新
term 60 server 0 get outdate rpc reply from server 1
term 60 server 2 not vote for server 0, 任期不够新
term 60 server 0 get outdate rpc reply from server 2
term 60 leader 0 nextIndex[1]: 348  matchIndex[1]: 0
term 60 leader 0 sendInstallSnapshot LastIncludedIndex: 349  LastIncludedTerm: 58
------------------------------------------------------
flag 16795 term 60 leader 0 nextIndex[2]: 359  matchIndex[2]: 358
term 60 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 58 leaderCommit: 357 
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:357 
------------------------------------------------------
term 60 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=359
update matchIndex[2]=358
update leader CommitIndex=357
leader log:
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 349 rf.lastIncludedTerm 58 rf.commitIndex 349 rf.lastApplied 349
[{snapshot 58 349} {6363238723723637252 58 350} {4814436047090264366 58 351} {1739252387466477230 58 352} {219706216044013177 58 353} {2583113159765228804 58 354} {9029873342679756461 58 355} {3169976810769252763 58 356} {2350311731934598726 58 357} {3820877065842454945 58 358}]
------------------------------------------------------
term 60 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 350 matchIndex[1] 349 
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84595 term 60 leader 0 nextIndex[1]: 350  matchIndex[1]: 349
term 60 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 58 leaderCommit: 357 
------------------------------------------------------
flag 6540 term 60 leader 0 nextIndex[2]: 359  matchIndex[2]: 358
term 60 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 58 leaderCommit: 357 
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=359
update matchIndex[2]=358
update leader CommitIndex=357
leader log:
[{snapshot 58 349} {6363238723723637252 58 350} {4814436047090264366 58 351} {1739252387466477230 58 352} {219706216044013177 58 353} {2583113159765228804 58 354} {9029873342679756461 58 355} {3169976810769252763 58 356} {2350311731934598726 58 357} {3820877065842454945 58 358}]
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=359
update matchIndex[1]=358
update leader CommitIndex=357
leader log:
[{snapshot 58 349} {6363238723723637252 58 350} {4814436047090264366 58 351} {1739252387466477230 58 352} {219706216044013177 58 353} {2583113159765228804 58 354} {9029873342679756461 58 355} {3169976810769252763 58 356} {2350311731934598726 58 357} {3820877065842454945 58 358}]
------------------------------------------------------
flag 35395 term 60 leader 0 nextIndex[1]: 359  matchIndex[1]: 358
term 60 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 58 leaderCommit: 357 
------------------------------------------------------
flag 92633 term 60 leader 0 nextIndex[2]: 359  matchIndex[2]: 358
term 60 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 58 leaderCommit: 357 
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=359
update matchIndex[2]=358
update leader CommitIndex=357
leader log:
[{snapshot 58 349} {6363238723723637252 58 350} {4814436047090264366 58 351} {1739252387466477230 58 352} {219706216044013177 58 353} {2583113159765228804 58 354} {9029873342679756461 58 355} {3169976810769252763 58 356} {2350311731934598726 58 357} {3820877065842454945 58 358}]
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=359
update matchIndex[1]=358
update leader CommitIndex=357
leader log:
[{snapshot 58 349} {6363238723723637252 58 350} {4814436047090264366 58 351} {1739252387466477230 58 352} {219706216044013177 58 353} {2583113159765228804 58 354} {9029873342679756461 58 355} {3169976810769252763 58 356} {2350311731934598726 58 357} {3820877065842454945 58 358}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73194 term 60 leader 0 nextIndex[1]: 359  matchIndex[1]: 358
term 60 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 58 leaderCommit: 357 
------------------------------------------------------
flag 5921 term 60 leader 0 nextIndex[2]: 359  matchIndex[2]: 358
term 60 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 58 leaderCommit: 357 
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:357 
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=359
update matchIndex[2]=358
update leader CommitIndex=357
leader log:
[{snapshot 58 349} {6363238723723637252 58 350} {4814436047090264366 58 351} {1739252387466477230 58 352} {219706216044013177 58 353} {2583113159765228804 58 354} {9029873342679756461 58 355} {3169976810769252763 58 356} {2350311731934598726 58 357} {3820877065842454945 58 358}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=359
update matchIndex[1]=358
update leader CommitIndex=357
leader log:
[{snapshot 58 349} {6363238723723637252 58 350} {4814436047090264366 58 351} {1739252387466477230 58 352} {219706216044013177 58 353} {2583113159765228804 58 354} {9029873342679756461 58 355} {3169976810769252763 58 356} {2350311731934598726 58 357} {3820877065842454945 58 358}]
------------------------------------------------------
flag 74950 term 60 leader 0 nextIndex[1]: 359  matchIndex[1]: 358
term 60 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 58 leaderCommit: 357 
------------------------------------------------------
flag 61176 term 60 leader 0 nextIndex[2]: 359  matchIndex[2]: 358
term 60 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 58 leaderCommit: 357 
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:357 
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=359
update matchIndex[2]=358
update leader CommitIndex=357
leader log:
[{snapshot 58 349} {6363238723723637252 58 350} {4814436047090264366 58 351} {1739252387466477230 58 352} {219706216044013177 58 353} {2583113159765228804 58 354} {9029873342679756461 58 355} {3169976810769252763 58 356} {2350311731934598726 58 357} {3820877065842454945 58 358}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=359
update matchIndex[1]=358
update leader CommitIndex=357
leader log:
[{snapshot 58 349} {6363238723723637252 58 350} {4814436047090264366 58 351} {1739252387466477230 58 352} {219706216044013177 58 353} {2583113159765228804 58 354} {9029873342679756461 58 355} {3169976810769252763 58 356} {2350311731934598726 58 357} {3820877065842454945 58 358}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54598 term 60 leader 0 nextIndex[1]: 359  matchIndex[1]: 358
term 60 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 58 leaderCommit: 357 
------------------------------------------------------
flag 69843 term 60 leader 0 nextIndex[2]: 359  matchIndex[2]: 358
term 60 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 58 leaderCommit: 357 
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=359
update matchIndex[2]=358
update leader CommitIndex=357
leader log:
[{snapshot 58 349} {6363238723723637252 58 350} {4814436047090264366 58 351} {1739252387466477230 58 352} {219706216044013177 58 353} {2583113159765228804 58 354} {9029873342679756461 58 355} {3169976810769252763 58 356} {2350311731934598726 58 357} {3820877065842454945 58 358}]
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=359
update matchIndex[1]=358
update leader CommitIndex=357
leader log:
[{snapshot 58 349} {6363238723723637252 58 350} {4814436047090264366 58 351} {1739252387466477230 58 352} {219706216044013177 58 353} {2583113159765228804 58 354} {9029873342679756461 58 355} {3169976810769252763 58 356} {2350311731934598726 58 357} {3820877065842454945 58 358}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42533 term 60 leader 0 nextIndex[1]: 359  matchIndex[1]: 358
term 60 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 58 leaderCommit: 357 
------------------------------------------------------
flag 29031 term 60 leader 0 nextIndex[2]: 359  matchIndex[2]: 358
term 60 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 58 leaderCommit: 357 
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:357 
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=359
update matchIndex[2]=358
update leader CommitIndex=357
leader log:
[{snapshot 58 349} {6363238723723637252 58 350} {4814436047090264366 58 351} {1739252387466477230 58 352} {219706216044013177 58 353} {2583113159765228804 58 354} {9029873342679756461 58 355} {3169976810769252763 58 356} {2350311731934598726 58 357} {3820877065842454945 58 358}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=359
update matchIndex[1]=358
update leader CommitIndex=357
leader log:
[{snapshot 58 349} {6363238723723637252 58 350} {4814436047090264366 58 351} {1739252387466477230 58 352} {219706216044013177 58 353} {2583113159765228804 58 354} {9029873342679756461 58 355} {3169976810769252763 58 356} {2350311731934598726 58 357} {3820877065842454945 58 358}]
------------------------------------------------------
flag 1890 term 60 leader 0 nextIndex[1]: 359  matchIndex[1]: 358
term 60 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 58 leaderCommit: 357 
------------------------------------------------------
flag 51443 term 60 leader 0 nextIndex[2]: 359  matchIndex[2]: 358
term 60 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 58 leaderCommit: 357 
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=359
update matchIndex[2]=358
update leader CommitIndex=357
leader log:
[{snapshot 58 349} {6363238723723637252 58 350} {4814436047090264366 58 351} {1739252387466477230 58 352} {219706216044013177 58 353} {2583113159765228804 58 354} {9029873342679756461 58 355} {3169976810769252763 58 356} {2350311731934598726 58 357} {3820877065842454945 58 358}]
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=359
update matchIndex[1]=358
update leader CommitIndex=357
leader log:
[{snapshot 58 349} {6363238723723637252 58 350} {4814436047090264366 58 351} {1739252387466477230 58 352} {219706216044013177 58 353} {2583113159765228804 58 354} {9029873342679756461 58 355} {3169976810769252763 58 356} {2350311731934598726 58 357} {3820877065842454945 58 358}]
------------------------------------------------------
flag 32067 term 60 leader 0 nextIndex[1]: 359  matchIndex[1]: 358
term 60 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 58 leaderCommit: 357 
------------------------------------------------------
flag 44576 term 60 leader 0 nextIndex[2]: 359  matchIndex[2]: 358
term 60 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 58 leaderCommit: 357 
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=359
update matchIndex[2]=358
update leader CommitIndex=357
leader log:
[{snapshot 58 349} {6363238723723637252 58 350} {4814436047090264366 58 351} {1739252387466477230 58 352} {219706216044013177 58 353} {2583113159765228804 58 354} {9029873342679756461 58 355} {3169976810769252763 58 356} {2350311731934598726 58 357} {3820877065842454945 58 358}]
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=359
update matchIndex[1]=358
update leader CommitIndex=357
leader log:
[{snapshot 58 349} {6363238723723637252 58 350} {4814436047090264366 58 351} {1739252387466477230 58 352} {219706216044013177 58 353} {2583113159765228804 58 354} {9029873342679756461 58 355} {3169976810769252763 58 356} {2350311731934598726 58 357} {3820877065842454945 58 358}]
------------------------------------------------------
flag 39455 term 60 leader 0 nextIndex[1]: 359  matchIndex[1]: 358
term 60 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 58 leaderCommit: 357 
------------------------------------------------------
flag 5785 term 60 leader 0 nextIndex[2]: 359  matchIndex[2]: 358
term 60 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 58 leaderCommit: 357 
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:357 
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=359
update matchIndex[2]=358
update leader CommitIndex=357
leader log:
[{snapshot 58 349} {6363238723723637252 58 350} {4814436047090264366 58 351} {1739252387466477230 58 352} {219706216044013177 58 353} {2583113159765228804 58 354} {9029873342679756461 58 355} {3169976810769252763 58 356} {2350311731934598726 58 357} {3820877065842454945 58 358}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=359
update matchIndex[1]=358
update leader CommitIndex=357
leader log:
[{snapshot 58 349} {6363238723723637252 58 350} {4814436047090264366 58 351} {1739252387466477230 58 352} {219706216044013177 58 353} {2583113159765228804 58 354} {9029873342679756461 58 355} {3169976810769252763 58 356} {2350311731934598726 58 357} {3820877065842454945 58 358}]
------------------------------------------------------
flag 98211 term 60 leader 0 nextIndex[1]: 359  matchIndex[1]: 358
term 60 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 58 leaderCommit: 357 
------------------------------------------------------
flag 738 term 60 leader 0 nextIndex[2]: 359  matchIndex[2]: 358
term 60 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 58 leaderCommit: 357 
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:357 
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=359
update matchIndex[2]=358
update leader CommitIndex=357
leader log:
[{snapshot 58 349} {6363238723723637252 58 350} {4814436047090264366 58 351} {1739252387466477230 58 352} {219706216044013177 58 353} {2583113159765228804 58 354} {9029873342679756461 58 355} {3169976810769252763 58 356} {2350311731934598726 58 357} {3820877065842454945 58 358}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=359
update matchIndex[1]=358
update leader CommitIndex=357
leader log:
[{snapshot 58 349} {6363238723723637252 58 350} {4814436047090264366 58 351} {1739252387466477230 58 352} {219706216044013177 58 353} {2583113159765228804 58 354} {9029873342679756461 58 355} {3169976810769252763 58 356} {2350311731934598726 58 357} {3820877065842454945 58 358}]
------------------------------------------------------
flag 80615 term 60 leader 0 nextIndex[1]: 359  matchIndex[1]: 358
term 60 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 58 leaderCommit: 357 
------------------------------------------------------
flag 99655 term 60 leader 0 nextIndex[2]: 359  matchIndex[2]: 358
term 60 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 58 leaderCommit: 357 
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=359
update matchIndex[1]=358
update leader CommitIndex=357
leader log:
[{snapshot 58 349} {6363238723723637252 58 350} {4814436047090264366 58 351} {1739252387466477230 58 352} {219706216044013177 58 353} {2583113159765228804 58 354} {9029873342679756461 58 355} {3169976810769252763 58 356} {2350311731934598726 58 357} {3820877065842454945 58 358}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=359
update matchIndex[2]=358
update leader CommitIndex=357
leader log:
[{snapshot 58 349} {6363238723723637252 58 350} {4814436047090264366 58 351} {1739252387466477230 58 352} {219706216044013177 58 353} {2583113159765228804 58 354} {9029873342679756461 58 355} {3169976810769252763 58 356} {2350311731934598726 58 357} {3820877065842454945 58 358}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 60 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 96468 term 60 leader 0 nextIndex[1]: 359  matchIndex[1]: 358
term 60 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 58 leaderCommit: 357 
------------------------------------------------------
flag 20647 term 60 leader 0 nextIndex[2]: 359  matchIndex[2]: 358
term 60 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 58 leaderCommit: 357 
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=359
update matchIndex[1]=358
update leader CommitIndex=357
leader log:
[{snapshot 58 349} {6363238723723637252 58 350} {4814436047090264366 58 351} {1739252387466477230 58 352} {219706216044013177 58 353} {2583113159765228804 58 354} {9029873342679756461 58 355} {3169976810769252763 58 356} {2350311731934598726 58 357} {3820877065842454945 58 358}]
term 60 server 2 AppendEntries true commitIndex:357 
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=359
update matchIndex[2]=358
update leader CommitIndex=357
leader log:
[{snapshot 58 349} {6363238723723637252 58 350} {4814436047090264366 58 351} {1739252387466477230 58 352} {219706216044013177 58 353} {2583113159765228804 58 354} {9029873342679756461 58 355} {3169976810769252763 58 356} {2350311731934598726 58 357} {3820877065842454945 58 358}]
------------------------------------------------------
flag 63052 term 60 leader 0 nextIndex[1]: 359  matchIndex[1]: 358
term 60 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 58 leaderCommit: 357 
------------------------------------------------------
flag 762 term 60 leader 0 nextIndex[2]: 359  matchIndex[2]: 358
term 60 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 58 leaderCommit: 357 
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=359
update matchIndex[1]=358
update leader CommitIndex=357
leader log:
[{snapshot 58 349} {6363238723723637252 58 350} {4814436047090264366 58 351} {1739252387466477230 58 352} {219706216044013177 58 353} {2583113159765228804 58 354} {9029873342679756461 58 355} {3169976810769252763 58 356} {2350311731934598726 58 357} {3820877065842454945 58 358}]
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=359
update matchIndex[2]=358
update leader CommitIndex=357
leader log:
[{snapshot 58 349} {6363238723723637252 58 350} {4814436047090264366 58 351} {1739252387466477230 58 352} {219706216044013177 58 353} {2583113159765228804 58 354} {9029873342679756461 58 355} {3169976810769252763 58 356} {2350311731934598726 58 357} {3820877065842454945 58 358}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89036 term 60 leader 0 nextIndex[1]: 359  matchIndex[1]: 358
term 60 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 58 leaderCommit: 357 
------------------------------------------------------
flag 27237 term 60 leader 0 nextIndex[2]: 359  matchIndex[2]: 358
term 60 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 58 leaderCommit: 357 
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=359
update matchIndex[1]=358
update leader CommitIndex=357
leader log:
[{snapshot 58 349} {6363238723723637252 58 350} {4814436047090264366 58 351} {1739252387466477230 58 352} {219706216044013177 58 353} {2583113159765228804 58 354} {9029873342679756461 58 355} {3169976810769252763 58 356} {2350311731934598726 58 357} {3820877065842454945 58 358}]
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=359
update matchIndex[2]=358
update leader CommitIndex=357
leader log:
[{snapshot 58 349} {6363238723723637252 58 350} {4814436047090264366 58 351} {1739252387466477230 58 352} {219706216044013177 58 353} {2583113159765228804 58 354} {9029873342679756461 58 355} {3169976810769252763 58 356} {2350311731934598726 58 357} {3820877065842454945 58 358}]
------------------------------------------------------
flag 29626 term 60 leader 0 nextIndex[1]: 359  matchIndex[1]: 358
term 60 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 58 leaderCommit: 357 
------------------------------------------------------
flag 28976 term 60 leader 0 nextIndex[2]: 359  matchIndex[2]: 358
term 60 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 58 leaderCommit: 357 
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=359
update matchIndex[1]=358
update leader CommitIndex=357
leader log:
[{snapshot 58 349} {6363238723723637252 58 350} {4814436047090264366 58 351} {1739252387466477230 58 352} {219706216044013177 58 353} {2583113159765228804 58 354} {9029873342679756461 58 355} {3169976810769252763 58 356} {2350311731934598726 58 357} {3820877065842454945 58 358}]
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=359
update matchIndex[2]=358
update leader CommitIndex=357
leader log:
[{snapshot 58 349} {6363238723723637252 58 350} {4814436047090264366 58 351} {1739252387466477230 58 352} {219706216044013177 58 353} {2583113159765228804 58 354} {9029873342679756461 58 355} {3169976810769252763 58 356} {2350311731934598726 58 357} {3820877065842454945 58 358}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45715 term 60 leader 0 nextIndex[1]: 359  matchIndex[1]: 358
term 60 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 58 leaderCommit: 357 
------------------------------------------------------
flag 68498 term 60 leader 0 nextIndex[2]: 359  matchIndex[2]: 358
term 60 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 58 leaderCommit: 357 
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=359
update matchIndex[2]=358
update leader CommitIndex=357
leader log:
[{snapshot 58 349} {6363238723723637252 58 350} {4814436047090264366 58 351} {1739252387466477230 58 352} {219706216044013177 58 353} {2583113159765228804 58 354} {9029873342679756461 58 355} {3169976810769252763 58 356} {2350311731934598726 58 357} {3820877065842454945 58 358}]
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=359
update matchIndex[1]=358
update leader CommitIndex=357
leader log:
[{snapshot 58 349} {6363238723723637252 58 350} {4814436047090264366 58 351} {1739252387466477230 58 352} {219706216044013177 58 353} {2583113159765228804 58 354} {9029873342679756461 58 355} {3169976810769252763 58 356} {2350311731934598726 58 357} {3820877065842454945 58 358}]
------------------------------------------------------
flag 61566 term 60 leader 0 nextIndex[1]: 359  matchIndex[1]: 358
term 60 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 58 leaderCommit: 357 
------------------------------------------------------
flag 30447 term 60 leader 0 nextIndex[2]: 359  matchIndex[2]: 358
term 60 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 58 leaderCommit: 357 
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=359
update matchIndex[1]=358
update leader CommitIndex=357
leader log:
[{snapshot 58 349} {6363238723723637252 58 350} {4814436047090264366 58 351} {1739252387466477230 58 352} {219706216044013177 58 353} {2583113159765228804 58 354} {9029873342679756461 58 355} {3169976810769252763 58 356} {2350311731934598726 58 357} {3820877065842454945 58 358}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=359
update matchIndex[2]=358
update leader CommitIndex=357
leader log:
[{snapshot 58 349} {6363238723723637252 58 350} {4814436047090264366 58 351} {1739252387466477230 58 352} {219706216044013177 58 353} {2583113159765228804 58 354} {9029873342679756461 58 355} {3169976810769252763 58 356} {2350311731934598726 58 357} {3820877065842454945 58 358}]
------------------------------------------------------
client write log 3820877065842454945 (index 359) to leader 0
flag 36592 term 60 leader 0 nextIndex[1]: 359  matchIndex[1]: 358
term 60 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 58 leaderCommit: 357 
------------------------------------------------------
flag 38800 term 60 leader 0 nextIndex[2]: 359  matchIndex[2]: 358
term 60 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 58 leaderCommit: 357 
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:357 
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=360
update matchIndex[2]=359
update leader CommitIndex=359
leader log:
[{snapshot 58 349} {6363238723723637252 58 350} {4814436047090264366 58 351} {1739252387466477230 58 352} {219706216044013177 58 353} {2583113159765228804 58 354} {9029873342679756461 58 355} {3169976810769252763 58 356} {2350311731934598726 58 357} {3820877065842454945 58 358} {3820877065842454945 60 359}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=360
update matchIndex[1]=359
update leader CommitIndex=359
leader log:
[{snapshot 58 349} {6363238723723637252 58 350} {4814436047090264366 58 351} {1739252387466477230 58 352} {219706216044013177 58 353} {2583113159765228804 58 354} {9029873342679756461 58 355} {3169976810769252763 58 356} {2350311731934598726 58 357} {3820877065842454945 58 358} {3820877065842454945 60 359}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 60 Server0 start snapshot! index=359
term 60 server0 snapshot success
lastIncludedIndex=359 lastApplied=359 lastIndex=359
-------------------------------------------------------------
flag 80578 term 60 leader 0 nextIndex[1]: 360  matchIndex[1]: 359
term 60 leader 0 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 60 leaderCommit: 359 
------------------------------------------------------
flag 63810 term 60 leader 0 nextIndex[2]: 360  matchIndex[2]: 359
term 60 leader 0 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 60 leaderCommit: 359 
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:359 
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:359 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=360
update matchIndex[2]=359
update leader CommitIndex=359
leader log:
[{snapshot 60 359}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=360
update matchIndex[1]=359
update leader CommitIndex=359
leader log:
[{snapshot 60 359}]
------------------------------------------------------
term 60 Server2 start snapshot! index=359
term 60 server2 snapshot success
lastIncludedIndex=359 lastApplied=359 lastIndex=359
-------------------------------------------------------------
term 60 Server1 start snapshot! index=359
term 60 server1 snapshot success
lastIncludedIndex=359 lastApplied=359 lastIndex=359
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29868 term 60 leader 0 nextIndex[1]: 360  matchIndex[1]: 359
term 60 leader 0 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 60 leaderCommit: 359 
------------------------------------------------------
flag 61765 term 60 leader 0 nextIndex[2]: 360  matchIndex[2]: 359
term 60 leader 0 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 60 leaderCommit: 359 
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:359 
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:359 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=360
update matchIndex[2]=359
update leader CommitIndex=359
leader log:
[{snapshot 60 359}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=360
update matchIndex[1]=359
update leader CommitIndex=359
leader log:
[{snapshot 60 359}]
------------------------------------------------------
term 60 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 57495 term 60 leader 0 nextIndex[1]: 360  matchIndex[1]: 359
term 60 leader 0 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 60 leaderCommit: 359 
------------------------------------------------------
flag 42679 term 60 leader 0 nextIndex[2]: 360  matchIndex[2]: 359
term 60 leader 0 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 60 leaderCommit: 359 
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:359 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=360
update matchIndex[2]=359
update leader CommitIndex=359
leader log:
[{snapshot 60 359}]
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:359 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=360
update matchIndex[1]=359
update leader CommitIndex=359
leader log:
[{snapshot 60 359}]
------------------------------------------------------
flag 66795 term 60 leader 0 nextIndex[1]: 360  matchIndex[1]: 359
term 60 leader 0 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 60 leaderCommit: 359 
------------------------------------------------------
flag 28123 term 60 leader 0 nextIndex[2]: 360  matchIndex[2]: 359
term 60 leader 0 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 60 leaderCommit: 359 
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:359 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=360
update matchIndex[1]=359
update leader CommitIndex=359
leader log:
[{snapshot 60 359}]
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:359 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=360
update matchIndex[2]=359
update leader CommitIndex=359
leader log:
[{snapshot 60 359}]
------------------------------------------------------
flag 8116 term 60 leader 0 nextIndex[1]: 360  matchIndex[1]: 359
term 60 leader 0 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 60 leaderCommit: 359 
------------------------------------------------------
flag 85808 term 60 leader 0 nextIndex[2]: 360  matchIndex[2]: 359
term 60 leader 0 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 60 leaderCommit: 359 
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:359 
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:359 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=360
update matchIndex[1]=359
update leader CommitIndex=359
leader log:
[{snapshot 60 359}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=360
update matchIndex[2]=359
update leader CommitIndex=359
leader log:
[{snapshot 60 359}]
------------------------------------------------------
flag 48981 term 60 leader 0 nextIndex[1]: 360  matchIndex[1]: 359
term 60 leader 0 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 60 leaderCommit: 359 
------------------------------------------------------
flag 80744 term 60 leader 0 nextIndex[2]: 360  matchIndex[2]: 359
term 60 leader 0 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 60 leaderCommit: 359 
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:359 
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:359 
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=360
update matchIndex[2]=359
update leader CommitIndex=359
leader log:
[{snapshot 60 359}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=360
update matchIndex[1]=359
update leader CommitIndex=359
leader log:
[{snapshot 60 359}]
------------------------------------------------------
  ... Passed --  83.7  3 1909  821264  359
--- PASS: TestSnapshotInstall2D (83.74s)
PASS
