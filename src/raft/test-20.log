=== RUN   TestSnapshotInstall2D
Test (2D): install snapshots (disconnect) ...
term 1 server 2 vote for server 0
term 1 server 0 get vote from server 2
term 1 server 0 become leader
------------------------------------------------------
term 1 server 1 vote for server 0
term 1 server 0 get outdate rpc reply from server 1
flag 53727 term 1 leader 0 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 0 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 18835 term 1 leader 0 nextIndex[2]: 1  matchIndex[2]: 0
term 1 leader 0 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=1
update matchIndex[2]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=1
update matchIndex[1]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
client write log 4199661328242349187 (index 1) to leader 0
flag 18979 term 1 leader 0 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 0 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 18811 term 1 leader 0 nextIndex[2]: 1  matchIndex[2]: 0
term 1 leader 0 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {4199661328242349187 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {4199661328242349187 1 1}]
------------------------------------------------------
flag 87911 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 47284 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {4199661328242349187 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {4199661328242349187 1 1}]
------------------------------------------------------
flag 56189 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 56091 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {4199661328242349187 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {4199661328242349187 1 1}]
------------------------------------------------------
flag 61245 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 19507 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {4199661328242349187 1 1}]
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {4199661328242349187 1 1}]
------------------------------------------------------
flag 8658 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 7430 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {4199661328242349187 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {4199661328242349187 1 1}]
------------------------------------------------------
flag 73129 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 76743 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {4199661328242349187 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {4199661328242349187 1 1}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 110919620759252912 (index 2) to leader 0
flag 77383 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 7170 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=3
update matchIndex[2]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {4199661328242349187 1 1} {110919620759252912 1 2}]
------------------------------------------------------
flag 81016 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 33458 term 1 leader 0 nextIndex[2]: 3  matchIndex[2]: 2
term 1 leader 0 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=3
update matchIndex[2]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {4199661328242349187 1 1} {110919620759252912 1 2}]
------------------------------------------------------
client write log 3387157235050595945 (index 3) to leader 0
client write log 8665182625358436971 (index 4) to leader 0
client write log 3211668619536278617 (index 5) to leader 0
client write log 4543327824740806677 (index 6) to leader 0
client write log 3252252667648296302 (index 7) to leader 0
client write log 2727092464821727880 (index 8) to leader 0
client write log 8937521285662482796 (index 9) to leader 0
client write log 6459152789927641333 (index 10) to leader 0
client write log 8196992572297361821 (index 11) to leader 0
flag 29140 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 33634 term 1 leader 0 nextIndex[2]: 3  matchIndex[2]: 2
term 1 leader 0 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=11
leader log:
[{<nil> 0 0} {4199661328242349187 1 1} {110919620759252912 1 2} {3387157235050595945 1 3} {8665182625358436971 1 4} {3211668619536278617 1 5} {4543327824740806677 1 6} {3252252667648296302 1 7} {2727092464821727880 1 8} {8937521285662482796 1 9} {6459152789927641333 1 10} {8196992572297361821 1 11}]
------------------------------------------------------
term 1 Server0 start snapshot! index=9
term 1 server0 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=11
-------------------------------------------------------------
term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 97700 term 1 leader 0 nextIndex[2]: 12  matchIndex[2]: 11
term 1 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6459152789927641333 1 10} {8196992572297361821 1 11}]
------------------------------------------------------
term 1 Server2 start snapshot! index=9
term 1 server2 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=11
-------------------------------------------------------------
!!!!!!connect server 1
client write log 8560530670792183291 (index 12) to leader 0
term 1 server 2 not vote for server 1, 日志不够新
term 1 server 0 not vote for server 1, 日志不够新
term 3 server 2 vote for server 0
term 3 server 0 get vote from server 2
term 3 server 0 become leader
------------------------------------------------------
term 3 server 1 vote for server 0
term 3 server 0 get outdate rpc reply from server 1
flag 88379 term 3 leader 0 nextIndex[1]: 13  matchIndex[1]: 0
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 93112 term 3 leader 0 nextIndex[2]: 13  matchIndex[2]: 0
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 13->12
------------------------------------------------------
term 3 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 13->12
------------------------------------------------------
term 3 leader 0 nextIndex[1]: 2  matchIndex[1]: 0
term 3 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 39592 term 3 leader 0 nextIndex[2]: 12  matchIndex[2]: 0
term 3 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
term 3 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6459152789927641333 1 10} {8196992572297361821 1 11} {8560530670792183291 1 12}]
------------------------------------------------------
term 3 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 10 matchIndex[1] 9 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 9 rf.lastIncludedTerm 1 rf.commitIndex 9 rf.lastApplied 9
flag 37998 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 40357 term 3 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6459152789927641333 1 10} {8196992572297361821 1 11} {8560530670792183291 1 12}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6459152789927641333 1 10} {8196992572297361821 1 11} {8560530670792183291 1 12}]
------------------------------------------------------
flag 88248 term 3 leader 0 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 83390 term 3 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6459152789927641333 1 10} {8196992572297361821 1 11} {8560530670792183291 1 12}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6459152789927641333 1 10} {8196992572297361821 1 11} {8560530670792183291 1 12}]
------------------------------------------------------
flag 42570 term 3 leader 0 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 85233 term 3 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6459152789927641333 1 10} {8196992572297361821 1 11} {8560530670792183291 1 12}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6459152789927641333 1 10} {8196992572297361821 1 11} {8560530670792183291 1 12}]
------------------------------------------------------
flag 36405 term 3 leader 0 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 71863 term 3 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6459152789927641333 1 10} {8196992572297361821 1 11} {8560530670792183291 1 12}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6459152789927641333 1 10} {8196992572297361821 1 11} {8560530670792183291 1 12}]
------------------------------------------------------
flag 68028 term 3 leader 0 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 2551 term 3 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6459152789927641333 1 10} {8196992572297361821 1 11} {8560530670792183291 1 12}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6459152789927641333 1 10} {8196992572297361821 1 11} {8560530670792183291 1 12}]
------------------------------------------------------
flag 50468 term 3 leader 0 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 81011 term 3 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6459152789927641333 1 10} {8196992572297361821 1 11} {8560530670792183291 1 12}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6459152789927641333 1 10} {8196992572297361821 1 11} {8560530670792183291 1 12}]
------------------------------------------------------
flag 33163 term 3 leader 0 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 16420 term 3 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6459152789927641333 1 10} {8196992572297361821 1 11} {8560530670792183291 1 12}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6459152789927641333 1 10} {8196992572297361821 1 11} {8560530670792183291 1 12}]
------------------------------------------------------
flag 74945 term 3 leader 0 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 82404 term 3 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6459152789927641333 1 10} {8196992572297361821 1 11} {8560530670792183291 1 12}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6459152789927641333 1 10} {8196992572297361821 1 11} {8560530670792183291 1 12}]
------------------------------------------------------
flag 48031 term 3 leader 0 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 5783 term 3 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6459152789927641333 1 10} {8196992572297361821 1 11} {8560530670792183291 1 12}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6459152789927641333 1 10} {8196992572297361821 1 11} {8560530670792183291 1 12}]
------------------------------------------------------
flag 66494 term 3 leader 0 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 3317 term 3 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6459152789927641333 1 10} {8196992572297361821 1 11} {8560530670792183291 1 12}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6459152789927641333 1 10} {8196992572297361821 1 11} {8560530670792183291 1 12}]
------------------------------------------------------
flag 25044 term 3 leader 0 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 90577 term 3 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6459152789927641333 1 10} {8196992572297361821 1 11} {8560530670792183291 1 12}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6459152789927641333 1 10} {8196992572297361821 1 11} {8560530670792183291 1 12}]
------------------------------------------------------
flag 78379 term 3 leader 0 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 45781 term 3 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6459152789927641333 1 10} {8196992572297361821 1 11} {8560530670792183291 1 12}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6459152789927641333 1 10} {8196992572297361821 1 11} {8560530670792183291 1 12}]
------------------------------------------------------
flag 92165 term 3 leader 0 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 81989 term 3 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6459152789927641333 1 10} {8196992572297361821 1 11} {8560530670792183291 1 12}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6459152789927641333 1 10} {8196992572297361821 1 11} {8560530670792183291 1 12}]
------------------------------------------------------
flag 15395 term 3 leader 0 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 76278 term 3 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6459152789927641333 1 10} {8196992572297361821 1 11} {8560530670792183291 1 12}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6459152789927641333 1 10} {8196992572297361821 1 11} {8560530670792183291 1 12}]
------------------------------------------------------
flag 53803 term 3 leader 0 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 7024 term 3 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6459152789927641333 1 10} {8196992572297361821 1 11} {8560530670792183291 1 12}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6459152789927641333 1 10} {8196992572297361821 1 11} {8560530670792183291 1 12}]
------------------------------------------------------
flag 64677 term 3 leader 0 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 92705 term 3 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6459152789927641333 1 10} {8196992572297361821 1 11} {8560530670792183291 1 12}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6459152789927641333 1 10} {8196992572297361821 1 11} {8560530670792183291 1 12}]
------------------------------------------------------
flag 41166 term 3 leader 0 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 95522 term 3 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6459152789927641333 1 10} {8196992572297361821 1 11} {8560530670792183291 1 12}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6459152789927641333 1 10} {8196992572297361821 1 11} {8560530670792183291 1 12}]
------------------------------------------------------
flag 24338 term 3 leader 0 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 75170 term 3 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
client write log 8560530670792183291 (index 13) to leader 0
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=11
leader log:
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
[{snapshot 1 9} {6459152789927641333 1 10} {8196992572297361821 1 11} {8560530670792183291 1 12} {8560530670792183291 3 13}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6459152789927641333 1 10} {8196992572297361821 1 11} {8560530670792183291 1 12} {8560530670792183291 3 13}]
------------------------------------------------------
flag 63365 term 3 leader 0 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 26382 term 3 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {6459152789927641333 1 10} {8196992572297361821 1 11} {8560530670792183291 1 12} {8560530670792183291 3 13}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {6459152789927641333 1 10} {8196992572297361821 1 11} {8560530670792183291 1 12} {8560530670792183291 3 13}]
------------------------------------------------------
flag 61413 term 3 leader 0 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 89655 term 3 leader 0 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {6459152789927641333 1 10} {8196992572297361821 1 11} {8560530670792183291 1 12} {8560530670792183291 3 13}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {6459152789927641333 1 10} {8196992572297361821 1 11} {8560530670792183291 1 12} {8560530670792183291 3 13}]
------------------------------------------------------
flag 50561 term 3 leader 0 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 91307 term 3 leader 0 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {6459152789927641333 1 10} {8196992572297361821 1 11} {8560530670792183291 1 12} {8560530670792183291 3 13}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {6459152789927641333 1 10} {8196992572297361821 1 11} {8560530670792183291 1 12} {8560530670792183291 3 13}]
------------------------------------------------------
flag 34630 term 3 leader 0 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 38735 term 3 leader 0 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {6459152789927641333 1 10} {8196992572297361821 1 11} {8560530670792183291 1 12} {8560530670792183291 3 13}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {6459152789927641333 1 10} {8196992572297361821 1 11} {8560530670792183291 1 12} {8560530670792183291 3 13}]
------------------------------------------------------
flag 96639 term 3 leader 0 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 76263 term 3 leader 0 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {6459152789927641333 1 10} {8196992572297361821 1 11} {8560530670792183291 1 12} {8560530670792183291 3 13}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {6459152789927641333 1 10} {8196992572297361821 1 11} {8560530670792183291 1 12} {8560530670792183291 3 13}]
------------------------------------------------------
flag 30608 term 3 leader 0 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 55614 term 3 leader 0 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
term 3 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
[{snapshot 1 9} {6459152789927641333 1 10} {8196992572297361821 1 11} {8560530670792183291 1 12} {8560530670792183291 3 13}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {6459152789927641333 1 10} {8196992572297361821 1 11} {8560530670792183291 1 12} {8560530670792183291 3 13}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6965 term 3 leader 0 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 23559 term 3 leader 0 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {6459152789927641333 1 10} {8196992572297361821 1 11} {8560530670792183291 1 12} {8560530670792183291 3 13}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {6459152789927641333 1 10} {8196992572297361821 1 11} {8560530670792183291 1 12} {8560530670792183291 3 13}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 73095 term 3 leader 0 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 58362 term 3 leader 0 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 80590 term 3 leader 0 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 88722 term 3 leader 0 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 13597 term 3 leader 0 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 69791 term 3 leader 0 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 48794 term 3 leader 0 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 89603 term 3 leader 0 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 4 server 1 vote for server 2
term 4 server 2 get vote from server 1
term 4 server 2 become leader
------------------------------------------------------
flag 34418 term 4 leader 2 nextIndex[0]: 14  matchIndex[0]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 81822 term 4 leader 2 nextIndex[1]: 14  matchIndex[1]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {6459152789927641333 1 10} {8196992572297361821 1 11} {8560530670792183291 1 12} {8560530670792183291 3 13}]
------------------------------------------------------
client write log 5344339512681133986 (index 14) to leader 2
flag 46280 term 3 leader 0 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 50418 term 3 leader 0 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 53544 term 4 leader 2 nextIndex[0]: 14  matchIndex[0]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 70563 term 4 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 4 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {6459152789927641333 1 10} {8196992572297361821 1 11} {8560530670792183291 1 12} {8560530670792183291 3 13} {5344339512681133986 4 14}]
------------------------------------------------------
flag 5102 term 3 leader 0 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 99094 term 3 leader 0 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 2021 term 4 leader 2 nextIndex[0]: 14  matchIndex[0]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 86035 term 4 leader 2 nextIndex[1]: 15  matchIndex[1]: 14
term 4 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {6459152789927641333 1 10} {8196992572297361821 1 11} {8560530670792183291 1 12} {8560530670792183291 3 13} {5344339512681133986 4 14}]
------------------------------------------------------
client write log 625659519180730395 (index 15) to leader 2
flag 61264 term 3 leader 0 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 31688 term 3 leader 0 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 62964 term 4 leader 2 nextIndex[0]: 14  matchIndex[0]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 28722 term 4 leader 2 nextIndex[1]: 15  matchIndex[1]: 14
term 4 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {6459152789927641333 1 10} {8196992572297361821 1 11} {8560530670792183291 1 12} {8560530670792183291 3 13} {5344339512681133986 4 14} {625659519180730395 4 15}]
------------------------------------------------------
flag 21232 term 3 leader 0 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 7439 term 3 leader 0 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 14->13
------------------------------------------------------
flag 5510 term 4 leader 2 nextIndex[0]: 14  matchIndex[0]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
flag 19595 term 4 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 4 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {6459152789927641333 1 10} {8196992572297361821 1 11} {8560530670792183291 1 12} {8560530670792183291 3 13} {5344339512681133986 4 14} {625659519180730395 4 15}]
------------------------------------------------------
!!!!!!connect server 0
client write log 7213238308283911393 (index 16) to leader 2
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 14->13
------------------------------------------------------
term 3 leader 0 nextIndex[1]: 0  matchIndex[1]: 13
term 3 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 3 leader 0 nextIndex[2]: 0  matchIndex[2]: 13
term 3 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 4 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 4 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 3 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 4 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 40159 term 4 leader 2 nextIndex[0]: 14  matchIndex[0]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
flag 93562 term 4 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 4 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6459152789927641333 1 10} {8196992572297361821 1 11} {8560530670792183291 1 12} {8560530670792183291 3 13} {5344339512681133986 4 14} {625659519180730395 4 15} {7213238308283911393 4 16}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6459152789927641333 1 10} {8196992572297361821 1 11} {8560530670792183291 1 12} {8560530670792183291 3 13} {5344339512681133986 4 14} {625659519180730395 4 15} {7213238308283911393 4 16}]
------------------------------------------------------
flag 54642 term 4 leader 2 nextIndex[0]: 17  matchIndex[0]: 16
term 4 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
flag 48719 term 4 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 4 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6459152789927641333 1 10} {8196992572297361821 1 11} {8560530670792183291 1 12} {8560530670792183291 3 13} {5344339512681133986 4 14} {625659519180730395 4 15} {7213238308283911393 4 16}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6459152789927641333 1 10} {8196992572297361821 1 11} {8560530670792183291 1 12} {8560530670792183291 3 13} {5344339512681133986 4 14} {625659519180730395 4 15} {7213238308283911393 4 16}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 17->16
------------------------------------------------------
term 4 leader 2 nextIndex[0]: 0  matchIndex[0]: 16
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 58279 term 4 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 4 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6459152789927641333 1 10} {8196992572297361821 1 11} {8560530670792183291 1 12} {8560530670792183291 3 13} {5344339512681133986 4 14} {625659519180730395 4 15} {7213238308283911393 4 16}]
------------------------------------------------------
term 4 server 0 InstallSnapshot fail
rf.commitIndex 16 args.LastIncludedIndex 9
------------------------------------------------------
term 4 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 10 matchIndex[0] 9 
------------------------------------------------------------------------
flag 86407 term 4 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 4 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 74734 term 4 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 4 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6459152789927641333 1 10} {8196992572297361821 1 11} {8560530670792183291 1 12} {8560530670792183291 3 13} {5344339512681133986 4 14} {625659519180730395 4 15} {7213238308283911393 4 16}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6459152789927641333 1 10} {8196992572297361821 1 11} {8560530670792183291 1 12} {8560530670792183291 3 13} {5344339512681133986 4 14} {625659519180730395 4 15} {7213238308283911393 4 16}]
------------------------------------------------------
flag 31838 term 4 leader 2 nextIndex[0]: 17  matchIndex[0]: 16
term 4 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
flag 53055 term 4 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 4 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6459152789927641333 1 10} {8196992572297361821 1 11} {8560530670792183291 1 12} {8560530670792183291 3 13} {5344339512681133986 4 14} {625659519180730395 4 15} {7213238308283911393 4 16}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6459152789927641333 1 10} {8196992572297361821 1 11} {8560530670792183291 1 12} {8560530670792183291 3 13} {5344339512681133986 4 14} {625659519180730395 4 15} {7213238308283911393 4 16}]
------------------------------------------------------
flag 55068 term 4 leader 2 nextIndex[0]: 17  matchIndex[0]: 16
term 4 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
flag 12525 term 4 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 4 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6459152789927641333 1 10} {8196992572297361821 1 11} {8560530670792183291 1 12} {8560530670792183291 3 13} {5344339512681133986 4 14} {625659519180730395 4 15} {7213238308283911393 4 16}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6459152789927641333 1 10} {8196992572297361821 1 11} {8560530670792183291 1 12} {8560530670792183291 3 13} {5344339512681133986 4 14} {625659519180730395 4 15} {7213238308283911393 4 16}]
------------------------------------------------------
term 4 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 17132 term 4 leader 2 nextIndex[0]: 17  matchIndex[0]: 16
term 4 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
flag 39707 term 4 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 4 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
term 4 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
[{snapshot 1 9} {6459152789927641333 1 10} {8196992572297361821 1 11} {8560530670792183291 1 12} {8560530670792183291 3 13} {5344339512681133986 4 14} {625659519180730395 4 15} {7213238308283911393 4 16}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {6459152789927641333 1 10} {8196992572297361821 1 11} {8560530670792183291 1 12} {8560530670792183291 3 13} {5344339512681133986 4 14} {625659519180730395 4 15} {7213238308283911393 4 16}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 549657217395102451 (index 17) to leader 2
flag 80795 term 4 leader 2 nextIndex[0]: 17  matchIndex[0]: 16
term 4 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
flag 48203 term 4 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 4 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6459152789927641333 1 10} {8196992572297361821 1 11} {8560530670792183291 1 12} {8560530670792183291 3 13} {5344339512681133986 4 14} {625659519180730395 4 15} {7213238308283911393 4 16} {549657217395102451 4 17}]
------------------------------------------------------
flag 98434 term 4 leader 2 nextIndex[0]: 17  matchIndex[0]: 16
term 4 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
flag 91287 term 4 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 4 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {6459152789927641333 1 10} {8196992572297361821 1 11} {8560530670792183291 1 12} {8560530670792183291 3 13} {5344339512681133986 4 14} {625659519180730395 4 15} {7213238308283911393 4 16} {549657217395102451 4 17}]
------------------------------------------------------
client write log 308208014795189808 (index 18) to leader 2
client write log 3062921039153821356 (index 19) to leader 2
client write log 1305809916768935583 (index 20) to leader 2
client write log 3431637576420973028 (index 21) to leader 2
client write log 3079180713811579977 (index 22) to leader 2
client write log 8294575956768043308 (index 23) to leader 2
client write log 8176390240707852153 (index 24) to leader 2
client write log 925156187557839159 (index 25) to leader 2
flag 81247 term 4 leader 2 nextIndex[0]: 17  matchIndex[0]: 16
term 4 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
flag 70418 term 4 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 4 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 1 9} {6459152789927641333 1 10} {8196992572297361821 1 11} {8560530670792183291 1 12} {8560530670792183291 3 13} {5344339512681133986 4 14} {625659519180730395 4 15} {7213238308283911393 4 16} {549657217395102451 4 17} {308208014795189808 4 18} {3062921039153821356 4 19} {1305809916768935583 4 20} {3431637576420973028 4 21} {3079180713811579977 4 22} {8294575956768043308 4 23} {8176390240707852153 4 24} {925156187557839159 4 25}]
------------------------------------------------------
term 4 Server2 start snapshot! index=19
term 4 server2 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=25
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 4 leader 2 nextIndex[0]: 17  matchIndex[0]: 16
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
flag 39157 term 4 leader 2 nextIndex[1]: 26  matchIndex[1]: 25
term 4 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {1305809916768935583 4 20} {3431637576420973028 4 21} {3079180713811579977 4 22} {8294575956768043308 4 23} {8176390240707852153 4 24} {925156187557839159 4 25}]
------------------------------------------------------
term 4 Server1 start snapshot! index=19
term 4 server1 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=25
-------------------------------------------------------------
!!!!!!connect server 0
client write log 682428892062036385 (index 26) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 4 leader 2 nextIndex[0]: 17  matchIndex[0]: 16
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
flag 46796 term 4 leader 2 nextIndex[1]: 26  matchIndex[1]: 25
term 4 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1305809916768935583 4 20} {3431637576420973028 4 21} {3079180713811579977 4 22} {8294575956768043308 4 23} {8176390240707852153 4 24} {925156187557839159 4 25} {682428892062036385 4 26}]
------------------------------------------------------
term 5 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 4 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 6 server 1 vote for server 2
term 6 server 0 vote for server 2
term 6 server 2 get vote from server 1
term 6 server 2 become leader
------------------------------------------------------
term 6 server 2 get outdate rpc reply from server 0
flag 71912 term 6 leader 2 nextIndex[0]: 27  matchIndex[0]: 0
term 6 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 98035 term 6 leader 2 nextIndex[1]: 27  matchIndex[1]: 0
term 6 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
term 6 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
[{snapshot 4 19} {1305809916768935583 4 20} {3431637576420973028 4 21} {3079180713811579977 4 22} {8294575956768043308 4 23} {8176390240707852153 4 24} {925156187557839159 4 25} {682428892062036385 4 26}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 27->26
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 6 leader 2 nextIndex[0]: 17  matchIndex[0]: 0
term 6 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
flag 24151 term 6 leader 2 nextIndex[1]: 27  matchIndex[1]: 26
term 6 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1305809916768935583 4 20} {3431637576420973028 4 21} {3079180713811579977 4 22} {8294575956768043308 4 23} {8176390240707852153 4 24} {925156187557839159 4 25} {682428892062036385 4 26}]
------------------------------------------------------
term 6 server 0 InstallSnapshot success
------------------------------------------------------
term 6 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 20 matchIndex[0] 19 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 19 rf.lastIncludedTerm 4 rf.commitIndex 19 rf.lastApplied 19
flag 1176 term 6 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 6 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 23300 term 6 leader 2 nextIndex[1]: 27  matchIndex[1]: 26
term 6 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1305809916768935583 4 20} {3431637576420973028 4 21} {3079180713811579977 4 22} {8294575956768043308 4 23} {8176390240707852153 4 24} {925156187557839159 4 25} {682428892062036385 4 26}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1305809916768935583 4 20} {3431637576420973028 4 21} {3079180713811579977 4 22} {8294575956768043308 4 23} {8176390240707852153 4 24} {925156187557839159 4 25} {682428892062036385 4 26}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29392 term 6 leader 2 nextIndex[0]: 27  matchIndex[0]: 26
term 6 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 88241 term 6 leader 2 nextIndex[1]: 27  matchIndex[1]: 26
term 6 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1305809916768935583 4 20} {3431637576420973028 4 21} {3079180713811579977 4 22} {8294575956768043308 4 23} {8176390240707852153 4 24} {925156187557839159 4 25} {682428892062036385 4 26}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1305809916768935583 4 20} {3431637576420973028 4 21} {3079180713811579977 4 22} {8294575956768043308 4 23} {8176390240707852153 4 24} {925156187557839159 4 25} {682428892062036385 4 26}]
------------------------------------------------------
flag 37635 term 6 leader 2 nextIndex[0]: 27  matchIndex[0]: 26
term 6 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 75067 term 6 leader 2 nextIndex[1]: 27  matchIndex[1]: 26
term 6 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:26 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1305809916768935583 4 20} {3431637576420973028 4 21} {3079180713811579977 4 22} {8294575956768043308 4 23} {8176390240707852153 4 24} {925156187557839159 4 25} {682428892062036385 4 26}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1305809916768935583 4 20} {3431637576420973028 4 21} {3079180713811579977 4 22} {8294575956768043308 4 23} {8176390240707852153 4 24} {925156187557839159 4 25} {682428892062036385 4 26}]
------------------------------------------------------
term 6 server 1 not vote for server 0, 任期不够新
term 6 server 0 get outdate rpc reply from server 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14217 term 6 leader 2 nextIndex[0]: 27  matchIndex[0]: 26
term 6 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 71621 term 6 leader 2 nextIndex[1]: 27  matchIndex[1]: 26
term 6 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1305809916768935583 4 20} {3431637576420973028 4 21} {3079180713811579977 4 22} {8294575956768043308 4 23} {8176390240707852153 4 24} {925156187557839159 4 25} {682428892062036385 4 26}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1305809916768935583 4 20} {3431637576420973028 4 21} {3079180713811579977 4 22} {8294575956768043308 4 23} {8176390240707852153 4 24} {925156187557839159 4 25} {682428892062036385 4 26}]
------------------------------------------------------
flag 95027 term 6 leader 2 nextIndex[0]: 27  matchIndex[0]: 26
term 6 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 64382 term 6 leader 2 nextIndex[1]: 27  matchIndex[1]: 26
term 6 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1305809916768935583 4 20} {3431637576420973028 4 21} {3079180713811579977 4 22} {8294575956768043308 4 23} {8176390240707852153 4 24} {925156187557839159 4 25} {682428892062036385 4 26}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1305809916768935583 4 20} {3431637576420973028 4 21} {3079180713811579977 4 22} {8294575956768043308 4 23} {8176390240707852153 4 24} {925156187557839159 4 25} {682428892062036385 4 26}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54 term 6 leader 2 nextIndex[0]: 27  matchIndex[0]: 26
term 6 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 73552 term 6 leader 2 nextIndex[1]: 27  matchIndex[1]: 26
term 6 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1305809916768935583 4 20} {3431637576420973028 4 21} {3079180713811579977 4 22} {8294575956768043308 4 23} {8176390240707852153 4 24} {925156187557839159 4 25} {682428892062036385 4 26}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1305809916768935583 4 20} {3431637576420973028 4 21} {3079180713811579977 4 22} {8294575956768043308 4 23} {8176390240707852153 4 24} {925156187557839159 4 25} {682428892062036385 4 26}]
------------------------------------------------------
flag 37342 term 6 leader 2 nextIndex[0]: 27  matchIndex[0]: 26
term 6 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 5821 term 6 leader 2 nextIndex[1]: 27  matchIndex[1]: 26
term 6 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1305809916768935583 4 20} {3431637576420973028 4 21} {3079180713811579977 4 22} {8294575956768043308 4 23} {8176390240707852153 4 24} {925156187557839159 4 25} {682428892062036385 4 26}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1305809916768935583 4 20} {3431637576420973028 4 21} {3079180713811579977 4 22} {8294575956768043308 4 23} {8176390240707852153 4 24} {925156187557839159 4 25} {682428892062036385 4 26}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 4907906203926397073 (index 27) to leader 2
flag 47579 term 6 leader 2 nextIndex[0]: 27  matchIndex[0]: 26
term 6 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 97731 term 6 leader 2 nextIndex[1]: 27  matchIndex[1]: 26
term 6 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {1305809916768935583 4 20} {3431637576420973028 4 21} {3079180713811579977 4 22} {8294575956768043308 4 23} {8176390240707852153 4 24} {925156187557839159 4 25} {682428892062036385 4 26} {4907906203926397073 6 27}]
------------------------------------------------------
flag 76361 term 6 leader 2 nextIndex[0]: 27  matchIndex[0]: 26
term 6 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 23233 term 6 leader 2 nextIndex[1]: 28  matchIndex[1]: 27
term 6 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 6 leaderCommit: 27 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {1305809916768935583 4 20} {3431637576420973028 4 21} {3079180713811579977 4 22} {8294575956768043308 4 23} {8176390240707852153 4 24} {925156187557839159 4 25} {682428892062036385 4 26} {4907906203926397073 6 27}]
------------------------------------------------------
client write log 3373543253610334586 (index 28) to leader 2
client write log 510121230794337640 (index 29) to leader 2
client write log 7889876444384725489 (index 30) to leader 2
client write log 6149703760104731749 (index 31) to leader 2
client write log 5149711618857261037 (index 32) to leader 2
client write log 2746690765332078482 (index 33) to leader 2
client write log 1305975354484523390 (index 34) to leader 2
client write log 8540100369160403808 (index 35) to leader 2
client write log 5501053903467418715 (index 36) to leader 2
client write log 7563648963618860173 (index 37) to leader 2
flag 17291 term 6 leader 2 nextIndex[0]: 27  matchIndex[0]: 26
term 6 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 54124 term 6 leader 2 nextIndex[1]: 28  matchIndex[1]: 27
term 6 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 6 leaderCommit: 27 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=37
leader log:
[{snapshot 4 19} {1305809916768935583 4 20} {3431637576420973028 4 21} {3079180713811579977 4 22} {8294575956768043308 4 23} {8176390240707852153 4 24} {925156187557839159 4 25} {682428892062036385 4 26} {4907906203926397073 6 27} {3373543253610334586 6 28} {510121230794337640 6 29} {7889876444384725489 6 30} {6149703760104731749 6 31} {5149711618857261037 6 32} {2746690765332078482 6 33} {1305975354484523390 6 34} {8540100369160403808 6 35} {5501053903467418715 6 36} {7563648963618860173 6 37}]
------------------------------------------------------
term 6 Server2 start snapshot! index=29
term 6 server2 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=37
-------------------------------------------------------------
term 6 leader 2 nextIndex[0]: 27  matchIndex[0]: 26
term 6 leader 2 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 6
------------------------------------------------------
flag 46324 term 6 leader 2 nextIndex[1]: 38  matchIndex[1]: 37
term 6 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {7889876444384725489 6 30} {6149703760104731749 6 31} {5149711618857261037 6 32} {2746690765332078482 6 33} {1305975354484523390 6 34} {8540100369160403808 6 35} {5501053903467418715 6 36} {7563648963618860173 6 37}]
------------------------------------------------------
term 6 Server1 start snapshot! index=29
term 6 server1 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=37
-------------------------------------------------------------
!!!!!!connect server 0
client write log 3333121614722033639 (index 38) to leader 2
term 6 leader 2 nextIndex[0]: 27  matchIndex[0]: 26
term 6 leader 2 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 6
------------------------------------------------------
flag 5780 term 6 leader 2 nextIndex[1]: 38  matchIndex[1]: 37
term 6 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {7889876444384725489 6 30} {6149703760104731749 6 31} {5149711618857261037 6 32} {2746690765332078482 6 33} {1305975354484523390 6 34} {8540100369160403808 6 35} {5501053903467418715 6 36} {7563648963618860173 6 37} {3333121614722033639 6 38}]
------------------------------------------------------
term 7 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 6 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 8 server 1 vote for server 2
term 8 server 2 get vote from server 1
term 8 server 2 become leader
------------------------------------------------------
term 8 server 0 vote for server 2
term 8 server 2 get outdate rpc reply from server 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70486 term 8 leader 2 nextIndex[0]: 39  matchIndex[0]: 0
term 8 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 89434 term 8 leader 2 nextIndex[1]: 39  matchIndex[1]: 0
term 8 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
term 8 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {7889876444384725489 6 30} {6149703760104731749 6 31} {5149711618857261037 6 32} {2746690765332078482 6 33} {1305975354484523390 6 34} {8540100369160403808 6 35} {5501053903467418715 6 36} {7563648963618860173 6 37} {3333121614722033639 6 38}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 39->38
------------------------------------------------------
term 8 leader 2 nextIndex[0]: 27  matchIndex[0]: 0
term 8 leader 2 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 6
------------------------------------------------------
flag 20314 term 8 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
term 8 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {7889876444384725489 6 30} {6149703760104731749 6 31} {5149711618857261037 6 32} {2746690765332078482 6 33} {1305975354484523390 6 34} {8540100369160403808 6 35} {5501053903467418715 6 36} {7563648963618860173 6 37} {3333121614722033639 6 38}]
------------------------------------------------------
term 8 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
term 8 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 30 matchIndex[0] 29 
------------------------------------------------------------------------
rf.lastIncludedIndex 29 rf.lastIncludedTerm 6 rf.commitIndex 29 rf.lastApplied 29
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90947 term 8 leader 2 nextIndex[0]: 30  matchIndex[0]: 29
term 8 leader 2 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 71765 term 8 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
term 8 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {7889876444384725489 6 30} {6149703760104731749 6 31} {5149711618857261037 6 32} {2746690765332078482 6 33} {1305975354484523390 6 34} {8540100369160403808 6 35} {5501053903467418715 6 36} {7563648963618860173 6 37} {3333121614722033639 6 38}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {7889876444384725489 6 30} {6149703760104731749 6 31} {5149711618857261037 6 32} {2746690765332078482 6 33} {1305975354484523390 6 34} {8540100369160403808 6 35} {5501053903467418715 6 36} {7563648963618860173 6 37} {3333121614722033639 6 38}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97945 term 8 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
term 8 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 52319 term 8 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
term 8 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {7889876444384725489 6 30} {6149703760104731749 6 31} {5149711618857261037 6 32} {2746690765332078482 6 33} {1305975354484523390 6 34} {8540100369160403808 6 35} {5501053903467418715 6 36} {7563648963618860173 6 37} {3333121614722033639 6 38}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {7889876444384725489 6 30} {6149703760104731749 6 31} {5149711618857261037 6 32} {2746690765332078482 6 33} {1305975354484523390 6 34} {8540100369160403808 6 35} {5501053903467418715 6 36} {7563648963618860173 6 37} {3333121614722033639 6 38}]
------------------------------------------------------
flag 53429 term 8 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
term 8 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 4643 term 8 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
term 8 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {7889876444384725489 6 30} {6149703760104731749 6 31} {5149711618857261037 6 32} {2746690765332078482 6 33} {1305975354484523390 6 34} {8540100369160403808 6 35} {5501053903467418715 6 36} {7563648963618860173 6 37} {3333121614722033639 6 38}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {7889876444384725489 6 30} {6149703760104731749 6 31} {5149711618857261037 6 32} {2746690765332078482 6 33} {1305975354484523390 6 34} {8540100369160403808 6 35} {5501053903467418715 6 36} {7563648963618860173 6 37} {3333121614722033639 6 38}]
------------------------------------------------------
flag 2504 term 8 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
term 8 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 50425 term 8 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
term 8 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {7889876444384725489 6 30} {6149703760104731749 6 31} {5149711618857261037 6 32} {2746690765332078482 6 33} {1305975354484523390 6 34} {8540100369160403808 6 35} {5501053903467418715 6 36} {7563648963618860173 6 37} {3333121614722033639 6 38}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {7889876444384725489 6 30} {6149703760104731749 6 31} {5149711618857261037 6 32} {2746690765332078482 6 33} {1305975354484523390 6 34} {8540100369160403808 6 35} {5501053903467418715 6 36} {7563648963618860173 6 37} {3333121614722033639 6 38}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79996 term 8 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
term 8 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 85207 term 8 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
term 8 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {7889876444384725489 6 30} {6149703760104731749 6 31} {5149711618857261037 6 32} {2746690765332078482 6 33} {1305975354484523390 6 34} {8540100369160403808 6 35} {5501053903467418715 6 36} {7563648963618860173 6 37} {3333121614722033639 6 38}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {7889876444384725489 6 30} {6149703760104731749 6 31} {5149711618857261037 6 32} {2746690765332078482 6 33} {1305975354484523390 6 34} {8540100369160403808 6 35} {5501053903467418715 6 36} {7563648963618860173 6 37} {3333121614722033639 6 38}]
------------------------------------------------------
flag 45112 term 8 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
term 8 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 2788 term 8 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
term 8 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {7889876444384725489 6 30} {6149703760104731749 6 31} {5149711618857261037 6 32} {2746690765332078482 6 33} {1305975354484523390 6 34} {8540100369160403808 6 35} {5501053903467418715 6 36} {7563648963618860173 6 37} {3333121614722033639 6 38}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {7889876444384725489 6 30} {6149703760104731749 6 31} {5149711618857261037 6 32} {2746690765332078482 6 33} {1305975354484523390 6 34} {8540100369160403808 6 35} {5501053903467418715 6 36} {7563648963618860173 6 37} {3333121614722033639 6 38}]
------------------------------------------------------
flag 16862 term 8 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
term 8 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 64836 term 8 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
term 8 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {7889876444384725489 6 30} {6149703760104731749 6 31} {5149711618857261037 6 32} {2746690765332078482 6 33} {1305975354484523390 6 34} {8540100369160403808 6 35} {5501053903467418715 6 36} {7563648963618860173 6 37} {3333121614722033639 6 38}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {7889876444384725489 6 30} {6149703760104731749 6 31} {5149711618857261037 6 32} {2746690765332078482 6 33} {1305975354484523390 6 34} {8540100369160403808 6 35} {5501053903467418715 6 36} {7563648963618860173 6 37} {3333121614722033639 6 38}]
------------------------------------------------------
!!!!!!diconnect server 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 8 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 26652 term 8 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
term 8 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 99617 term 8 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
term 8 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11631 term 8 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
term 8 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 24521 term 8 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
term 8 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 33650 term 8 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
term 8 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 99146 term 8 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
term 8 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 28173 term 8 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
term 8 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 64918 term 8 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
term 8 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 9 server 1 vote for server 0
term 9 server 0 get vote from server 1
term 9 server 0 become leader
------------------------------------------------------
flag 50315 term 9 leader 0 nextIndex[1]: 39  matchIndex[1]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 48334 term 9 leader 0 nextIndex[2]: 39  matchIndex[2]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {7889876444384725489 6 30} {6149703760104731749 6 31} {5149711618857261037 6 32} {2746690765332078482 6 33} {1305975354484523390 6 34} {8540100369160403808 6 35} {5501053903467418715 6 36} {7563648963618860173 6 37} {3333121614722033639 6 38}]
------------------------------------------------------
client write log 7852640762907059758 (index 39) to leader 0
flag 3970 term 8 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
term 8 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 41641 term 8 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
term 8 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73566 term 9 leader 0 nextIndex[1]: 39  matchIndex[1]: 38
term 9 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 33082 term 9 leader 0 nextIndex[2]: 39  matchIndex[2]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=39
leader log:
[{snapshot 6 29} {7889876444384725489 6 30} {6149703760104731749 6 31} {5149711618857261037 6 32} {2746690765332078482 6 33} {1305975354484523390 6 34} {8540100369160403808 6 35} {5501053903467418715 6 36} {7563648963618860173 6 37} {3333121614722033639 6 38} {7852640762907059758 9 39}]
------------------------------------------------------
term 9 Server0 start snapshot! index=39
term 9 server0 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=39
-------------------------------------------------------------
flag 53904 term 8 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
term 8 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 61298 term 8 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
term 8 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 29429 term 9 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 9 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 9 leaderCommit: 39 
------------------------------------------------------
term 9 leader 0 nextIndex[2]: 39  matchIndex[2]: 0
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=39
leader log:
[{snapshot 9 39}]
------------------------------------------------------
term 9 Server1 start snapshot! index=39
term 9 server1 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=39
-------------------------------------------------------------
client write log 1523055627742688507 (index 40) to leader 0
client write log 7580612284021642778 (index 41) to leader 0
client write log 2001646055376430284 (index 42) to leader 0
client write log 4301924843791309883 (index 43) to leader 0
client write log 6746077912529191989 (index 44) to leader 0
client write log 2758288517790802665 (index 45) to leader 0
client write log 1257670905144145707 (index 46) to leader 0
client write log 1100991851551159903 (index 47) to leader 0
client write log 8160695363707803161 (index 48) to leader 0
client write log 5457212868743220575 (index 49) to leader 0
client write log 190367418765518731 (index 50) to leader 0
client write log 4226128030786349094 (index 51) to leader 0
client write log 3521668569285892613 (index 52) to leader 0
client write log 715742260905625206 (index 53) to leader 0
client write log 1435943434389041009 (index 54) to leader 0
flag 44353 term 8 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
term 8 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 90797 term 8 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
term 8 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 74547 term 9 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 9 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 9 leaderCommit: 39 
------------------------------------------------------
term 9 leader 0 nextIndex[2]: 39  matchIndex[2]: 0
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 39} {1523055627742688507 9 40} {7580612284021642778 9 41} {2001646055376430284 9 42} {4301924843791309883 9 43} {6746077912529191989 9 44} {2758288517790802665 9 45} {1257670905144145707 9 46} {1100991851551159903 9 47} {8160695363707803161 9 48} {5457212868743220575 9 49} {190367418765518731 9 50} {4226128030786349094 9 51} {3521668569285892613 9 52} {715742260905625206 9 53} {1435943434389041009 9 54}]
------------------------------------------------------
term 9 Server0 start snapshot! index=49
term 9 server0 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=54
-------------------------------------------------------------
term 9 server 1 not vote for server 0, 任期不够新
term 9 server 0 get outdate rpc reply from server 1
flag 12523 term 8 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
term 8 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 91266 term 8 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
term 8 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 38448 term 9 leader 0 nextIndex[1]: 55  matchIndex[1]: 54
term 9 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 9 leader 0 nextIndex[2]: 39  matchIndex[2]: 0
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {190367418765518731 9 50} {4226128030786349094 9 51} {3521668569285892613 9 52} {715742260905625206 9 53} {1435943434389041009 9 54}]
------------------------------------------------------
term 9 Server1 start snapshot! index=49
term 9 server1 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=54
-------------------------------------------------------------
!!!!!!connect server 2
client write log 6877352460404370011 (index 39) to leader 2
flag 53381 term 8 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
term 8 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 28166 term 8 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
term 8 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 9 server 1 AppendEntries false 领导者任期过期 args.Term 8
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 9 server 0 AppendEntries false 领导者任期过期 args.Term 8
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55639 term 9 leader 0 nextIndex[1]: 55  matchIndex[1]: 54
term 9 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 9 leader 0 nextIndex[2]: 39  matchIndex[2]: 0
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {190367418765518731 9 50} {4226128030786349094 9 51} {3521668569285892613 9 52} {715742260905625206 9 53} {1435943434389041009 9 54}]
------------------------------------------------------
term 9 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 49 rf.lastIncludedTerm 9 rf.commitIndex 49 rf.lastApplied 49
term 9 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 50 matchIndex[2] 49 
------------------------------------------------------------------------
flag 59526 term 9 leader 0 nextIndex[1]: 55  matchIndex[1]: 54
term 9 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
flag 95459 term 9 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 9 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:49 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {190367418765518731 9 50} {4226128030786349094 9 51} {3521668569285892613 9 52} {715742260905625206 9 53} {1435943434389041009 9 54}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {190367418765518731 9 50} {4226128030786349094 9 51} {3521668569285892613 9 52} {715742260905625206 9 53} {1435943434389041009 9 54}]
------------------------------------------------------
term 9 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 50 matchIndex[2] 49 
------------------------------------------------------------------------
flag 5273 term 9 leader 0 nextIndex[1]: 55  matchIndex[1]: 54
term 9 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
flag 84643 term 9 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 9 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {190367418765518731 9 50} {4226128030786349094 9 51} {3521668569285892613 9 52} {715742260905625206 9 53} {1435943434389041009 9 54}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {190367418765518731 9 50} {4226128030786349094 9 51} {3521668569285892613 9 52} {715742260905625206 9 53} {1435943434389041009 9 54}]
------------------------------------------------------
flag 74828 term 9 leader 0 nextIndex[1]: 55  matchIndex[1]: 54
term 9 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
flag 20210 term 9 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
term 9 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {190367418765518731 9 50} {4226128030786349094 9 51} {3521668569285892613 9 52} {715742260905625206 9 53} {1435943434389041009 9 54}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {190367418765518731 9 50} {4226128030786349094 9 51} {3521668569285892613 9 52} {715742260905625206 9 53} {1435943434389041009 9 54}]
------------------------------------------------------
term 9 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 50 matchIndex[2] 49 
------------------------------------------------------------------------
term 9 server 2 not vote for server 0, 日志不够新
term 9 server 0 get outdate rpc reply from server 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 9 server 2 not vote for server 0, 任期不够新
term 9 server 0 get outdate rpc reply from server 2
flag 38633 term 9 leader 0 nextIndex[1]: 55  matchIndex[1]: 54
term 9 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
flag 87714 term 9 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 9 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {190367418765518731 9 50} {4226128030786349094 9 51} {3521668569285892613 9 52} {715742260905625206 9 53} {1435943434389041009 9 54}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {190367418765518731 9 50} {4226128030786349094 9 51} {3521668569285892613 9 52} {715742260905625206 9 53} {1435943434389041009 9 54}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5363 term 9 leader 0 nextIndex[1]: 55  matchIndex[1]: 54
term 9 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
flag 43668 term 9 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
term 9 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {190367418765518731 9 50} {4226128030786349094 9 51} {3521668569285892613 9 52} {715742260905625206 9 53} {1435943434389041009 9 54}]
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {190367418765518731 9 50} {4226128030786349094 9 51} {3521668569285892613 9 52} {715742260905625206 9 53} {1435943434389041009 9 54}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54474 term 9 leader 0 nextIndex[1]: 55  matchIndex[1]: 54
term 9 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
flag 51144 term 9 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
term 9 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {190367418765518731 9 50} {4226128030786349094 9 51} {3521668569285892613 9 52} {715742260905625206 9 53} {1435943434389041009 9 54}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {190367418765518731 9 50} {4226128030786349094 9 51} {3521668569285892613 9 52} {715742260905625206 9 53} {1435943434389041009 9 54}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95960 term 9 leader 0 nextIndex[1]: 55  matchIndex[1]: 54
term 9 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
flag 63522 term 9 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
term 9 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {190367418765518731 9 50} {4226128030786349094 9 51} {3521668569285892613 9 52} {715742260905625206 9 53} {1435943434389041009 9 54}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {190367418765518731 9 50} {4226128030786349094 9 51} {3521668569285892613 9 52} {715742260905625206 9 53} {1435943434389041009 9 54}]
------------------------------------------------------
flag 93209 term 9 leader 0 nextIndex[1]: 55  matchIndex[1]: 54
term 9 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
flag 3284 term 9 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
term 9 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {190367418765518731 9 50} {4226128030786349094 9 51} {3521668569285892613 9 52} {715742260905625206 9 53} {1435943434389041009 9 54}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {190367418765518731 9 50} {4226128030786349094 9 51} {3521668569285892613 9 52} {715742260905625206 9 53} {1435943434389041009 9 54}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20488 term 9 leader 0 nextIndex[1]: 55  matchIndex[1]: 54
term 9 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
flag 38439 term 9 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
term 9 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {190367418765518731 9 50} {4226128030786349094 9 51} {3521668569285892613 9 52} {715742260905625206 9 53} {1435943434389041009 9 54}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {190367418765518731 9 50} {4226128030786349094 9 51} {3521668569285892613 9 52} {715742260905625206 9 53} {1435943434389041009 9 54}]
------------------------------------------------------
flag 79128 term 9 leader 0 nextIndex[1]: 55  matchIndex[1]: 54
term 9 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
flag 88956 term 9 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
term 9 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:54 
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {190367418765518731 9 50} {4226128030786349094 9 51} {3521668569285892613 9 52} {715742260905625206 9 53} {1435943434389041009 9 54}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {190367418765518731 9 50} {4226128030786349094 9 51} {3521668569285892613 9 52} {715742260905625206 9 53} {1435943434389041009 9 54}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 9 server 2 not vote for server 0, 任期不够新
term 9 server 0 get outdate rpc reply from server 2
flag 72689 term 9 leader 0 nextIndex[1]: 55  matchIndex[1]: 54
term 9 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
flag 22761 term 9 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
term 9 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {190367418765518731 9 50} {4226128030786349094 9 51} {3521668569285892613 9 52} {715742260905625206 9 53} {1435943434389041009 9 54}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {190367418765518731 9 50} {4226128030786349094 9 51} {3521668569285892613 9 52} {715742260905625206 9 53} {1435943434389041009 9 54}]
------------------------------------------------------
flag 8092 term 9 leader 0 nextIndex[1]: 55  matchIndex[1]: 54
term 9 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
flag 9229 term 9 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
term 9 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {190367418765518731 9 50} {4226128030786349094 9 51} {3521668569285892613 9 52} {715742260905625206 9 53} {1435943434389041009 9 54}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {190367418765518731 9 50} {4226128030786349094 9 51} {3521668569285892613 9 52} {715742260905625206 9 53} {1435943434389041009 9 54}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22653 term 9 leader 0 nextIndex[1]: 55  matchIndex[1]: 54
term 9 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
flag 74044 term 9 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
term 9 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {190367418765518731 9 50} {4226128030786349094 9 51} {3521668569285892613 9 52} {715742260905625206 9 53} {1435943434389041009 9 54}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {190367418765518731 9 50} {4226128030786349094 9 51} {3521668569285892613 9 52} {715742260905625206 9 53} {1435943434389041009 9 54}]
------------------------------------------------------
flag 17983 term 9 leader 0 nextIndex[1]: 55  matchIndex[1]: 54
term 9 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
flag 87373 term 9 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
term 9 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {190367418765518731 9 50} {4226128030786349094 9 51} {3521668569285892613 9 52} {715742260905625206 9 53} {1435943434389041009 9 54}]
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {190367418765518731 9 50} {4226128030786349094 9 51} {3521668569285892613 9 52} {715742260905625206 9 53} {1435943434389041009 9 54}]
------------------------------------------------------
flag 82348 term 9 leader 0 nextIndex[1]: 55  matchIndex[1]: 54
term 9 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
flag 34920 term 9 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
term 9 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {190367418765518731 9 50} {4226128030786349094 9 51} {3521668569285892613 9 52} {715742260905625206 9 53} {1435943434389041009 9 54}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {190367418765518731 9 50} {4226128030786349094 9 51} {3521668569285892613 9 52} {715742260905625206 9 53} {1435943434389041009 9 54}]
------------------------------------------------------
flag 58706 term 9 leader 0 nextIndex[1]: 55  matchIndex[1]: 54
term 9 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
flag 92386 term 9 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
term 9 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {190367418765518731 9 50} {4226128030786349094 9 51} {3521668569285892613 9 52} {715742260905625206 9 53} {1435943434389041009 9 54}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {190367418765518731 9 50} {4226128030786349094 9 51} {3521668569285892613 9 52} {715742260905625206 9 53} {1435943434389041009 9 54}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 9 server 0 not vote for server 2, 任期不够新
term 9 server 2 get outdate rpc reply from server 0
flag 89884 term 9 leader 0 nextIndex[1]: 55  matchIndex[1]: 54
term 9 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
flag 22368 term 9 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
term 9 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {190367418765518731 9 50} {4226128030786349094 9 51} {3521668569285892613 9 52} {715742260905625206 9 53} {1435943434389041009 9 54}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {190367418765518731 9 50} {4226128030786349094 9 51} {3521668569285892613 9 52} {715742260905625206 9 53} {1435943434389041009 9 54}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 55->54
------------------------------------------------------
flag 58848 term 9 leader 0 nextIndex[1]: 55  matchIndex[1]: 54
term 9 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 9 leader 0 nextIndex[2]: 0  matchIndex[2]: 54
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 2 InstallSnapshot fail
rf.commitIndex 54 args.LastIncludedIndex 49
------------------------------------------------------
term 9 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 50 matchIndex[2] 49 
------------------------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {190367418765518731 9 50} {4226128030786349094 9 51} {3521668569285892613 9 52} {715742260905625206 9 53} {1435943434389041009 9 54}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81352 term 9 leader 0 nextIndex[1]: 55  matchIndex[1]: 54
term 9 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
flag 81403 term 9 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 9 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {190367418765518731 9 50} {4226128030786349094 9 51} {3521668569285892613 9 52} {715742260905625206 9 53} {1435943434389041009 9 54}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {190367418765518731 9 50} {4226128030786349094 9 51} {3521668569285892613 9 52} {715742260905625206 9 53} {1435943434389041009 9 54}]
------------------------------------------------------
client write log 6877352460404370011 (index 55) to leader 0
flag 58461 term 9 leader 0 nextIndex[1]: 55  matchIndex[1]: 54
term 9 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
flag 58242 term 9 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
term 9 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {190367418765518731 9 50} {4226128030786349094 9 51} {3521668569285892613 9 52} {715742260905625206 9 53} {1435943434389041009 9 54} {6877352460404370011 9 55}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {190367418765518731 9 50} {4226128030786349094 9 51} {3521668569285892613 9 52} {715742260905625206 9 53} {1435943434389041009 9 54} {6877352460404370011 9 55}]
------------------------------------------------------
flag 21889 term 9 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 9 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 75234 term 9 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 9 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {190367418765518731 9 50} {4226128030786349094 9 51} {3521668569285892613 9 52} {715742260905625206 9 53} {1435943434389041009 9 54} {6877352460404370011 9 55}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {190367418765518731 9 50} {4226128030786349094 9 51} {3521668569285892613 9 52} {715742260905625206 9 53} {1435943434389041009 9 54} {6877352460404370011 9 55}]
------------------------------------------------------
flag 71559 term 9 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 9 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 95986 term 9 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 9 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {190367418765518731 9 50} {4226128030786349094 9 51} {3521668569285892613 9 52} {715742260905625206 9 53} {1435943434389041009 9 54} {6877352460404370011 9 55}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {190367418765518731 9 50} {4226128030786349094 9 51} {3521668569285892613 9 52} {715742260905625206 9 53} {1435943434389041009 9 54} {6877352460404370011 9 55}]
------------------------------------------------------
flag 88488 term 9 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 9 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 82500 term 9 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 9 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {190367418765518731 9 50} {4226128030786349094 9 51} {3521668569285892613 9 52} {715742260905625206 9 53} {1435943434389041009 9 54} {6877352460404370011 9 55}]
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {190367418765518731 9 50} {4226128030786349094 9 51} {3521668569285892613 9 52} {715742260905625206 9 53} {1435943434389041009 9 54} {6877352460404370011 9 55}]
------------------------------------------------------
flag 72745 term 9 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 9 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 69040 term 9 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 9 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {190367418765518731 9 50} {4226128030786349094 9 51} {3521668569285892613 9 52} {715742260905625206 9 53} {1435943434389041009 9 54} {6877352460404370011 9 55}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {190367418765518731 9 50} {4226128030786349094 9 51} {3521668569285892613 9 52} {715742260905625206 9 53} {1435943434389041009 9 54} {6877352460404370011 9 55}]
------------------------------------------------------
term 9 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 50 matchIndex[2] 49 
------------------------------------------------------------------------
flag 98392 term 9 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 9 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 69512 term 9 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 9 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {190367418765518731 9 50} {4226128030786349094 9 51} {3521668569285892613 9 52} {715742260905625206 9 53} {1435943434389041009 9 54} {6877352460404370011 9 55}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {190367418765518731 9 50} {4226128030786349094 9 51} {3521668569285892613 9 52} {715742260905625206 9 53} {1435943434389041009 9 54} {6877352460404370011 9 55}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 56->55
------------------------------------------------------
!!!!!!diconnect server 1
client write log 5356829057119452698 (index 56) to leader 0
flag 93347 term 9 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 9 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 9 leader 0 nextIndex[2]: 0  matchIndex[2]: 55
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 2 InstallSnapshot fail
rf.commitIndex 55 args.LastIncludedIndex 49
------------------------------------------------------
term 9 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 50 matchIndex[2] 49 
------------------------------------------------------------------------
flag 21150 term 9 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 9 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
flag 66553 term 9 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 9 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 9 leaderCommit: 55 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=56
leader log:
[{snapshot 9 49} {190367418765518731 9 50} {4226128030786349094 9 51} {3521668569285892613 9 52} {715742260905625206 9 53} {1435943434389041009 9 54} {6877352460404370011 9 55} {5356829057119452698 9 56}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12166 term 9 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 9 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 9 leaderCommit: 56 
------------------------------------------------------
flag 2490 term 9 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
term 9 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 56 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=56
leader log:
[{snapshot 9 49} {190367418765518731 9 50} {4226128030786349094 9 51} {3521668569285892613 9 52} {715742260905625206 9 53} {1435943434389041009 9 54} {6877352460404370011 9 55} {5356829057119452698 9 56}]
------------------------------------------------------
client write log 9206905493570781760 (index 57) to leader 0
client write log 1765708726820049641 (index 58) to leader 0
client write log 9115565228366798776 (index 59) to leader 0
client write log 436968833736190259 (index 60) to leader 0
client write log 4935419468577551538 (index 61) to leader 0
client write log 6626889964675054776 (index 62) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95346 term 9 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 9 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 9 leaderCommit: 56 
------------------------------------------------------
flag 15128 term 9 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
term 9 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 9 leaderCommit: 56 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=62
leader log:
[{snapshot 9 49} {190367418765518731 9 50} {4226128030786349094 9 51} {3521668569285892613 9 52} {715742260905625206 9 53} {1435943434389041009 9 54} {6877352460404370011 9 55} {5356829057119452698 9 56} {9206905493570781760 9 57} {1765708726820049641 9 58} {9115565228366798776 9 59} {436968833736190259 9 60} {4935419468577551538 9 61} {6626889964675054776 9 62}]
------------------------------------------------------
term 9 Server0 start snapshot! index=59
term 9 server0 snapshot success
lastIncludedIndex=59 lastApplied=60 lastIndex=62
-------------------------------------------------------------
term 9 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 9
------------------------------------------------------
flag 11912 term 9 leader 0 nextIndex[2]: 63  matchIndex[2]: 62
term 9 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 62 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=62
leader log:
[{snapshot 9 59} {436968833736190259 9 60} {4935419468577551538 9 61} {6626889964675054776 9 62}]
------------------------------------------------------
term 9 Server2 start snapshot! index=59
term 9 server2 snapshot success
lastIncludedIndex=59 lastApplied=60 lastIndex=62
-------------------------------------------------------------
!!!!!!connect server 1
client write log 7715692803838660496 (index 63) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 9 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 9
------------------------------------------------------
flag 89326 term 9 leader 0 nextIndex[2]: 63  matchIndex[2]: 62
term 9 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 62 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=64
update matchIndex[2]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {436968833736190259 9 60} {4935419468577551538 9 61} {6626889964675054776 9 62} {7715692803838660496 9 63}]
------------------------------------------------------
term 10 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 9 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 11 server 2 vote for server 0
term 11 server 1 vote for server 0
term 11 server 0 get vote from server 2
term 11 server 0 become leader
------------------------------------------------------
term 11 server 0 get outdate rpc reply from server 1
flag 76960 term 11 leader 0 nextIndex[1]: 64  matchIndex[1]: 0
term 11 leader 0 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
flag 94718 term 11 leader 0 nextIndex[2]: 64  matchIndex[2]: 0
term 11 leader 0 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
term 11 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 64->63
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=64
update matchIndex[2]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {436968833736190259 9 60} {4935419468577551538 9 61} {6626889964675054776 9 62} {7715692803838660496 9 63}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 11 leader 0 nextIndex[1]: 56  matchIndex[1]: 0
term 11 leader 0 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 9
------------------------------------------------------
flag 99579 term 11 leader 0 nextIndex[2]: 64  matchIndex[2]: 63
term 11 leader 0 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=64
update matchIndex[2]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {436968833736190259 9 60} {4935419468577551538 9 61} {6626889964675054776 9 62} {7715692803838660496 9 63}]
------------------------------------------------------
term 11 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 59 rf.lastIncludedTerm 9 rf.commitIndex 59 rf.lastApplied 59
term 11 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 60 matchIndex[1] 59 
------------------------------------------------------------------------
flag 74012 term 11 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 11 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
flag 69983 term 11 leader 0 nextIndex[2]: 64  matchIndex[2]: 63
term 11 leader 0 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=64
update matchIndex[2]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {436968833736190259 9 60} {4935419468577551538 9 61} {6626889964675054776 9 62} {7715692803838660496 9 63}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {436968833736190259 9 60} {4935419468577551538 9 61} {6626889964675054776 9 62} {7715692803838660496 9 63}]
------------------------------------------------------
flag 69849 term 11 leader 0 nextIndex[1]: 64  matchIndex[1]: 63
term 11 leader 0 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
flag 59962 term 11 leader 0 nextIndex[2]: 64  matchIndex[2]: 63
term 11 leader 0 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=64
update matchIndex[2]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {436968833736190259 9 60} {4935419468577551538 9 61} {6626889964675054776 9 62} {7715692803838660496 9 63}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {436968833736190259 9 60} {4935419468577551538 9 61} {6626889964675054776 9 62} {7715692803838660496 9 63}]
------------------------------------------------------
flag 38646 term 11 leader 0 nextIndex[1]: 64  matchIndex[1]: 63
term 11 leader 0 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
flag 74409 term 11 leader 0 nextIndex[2]: 64  matchIndex[2]: 63
term 11 leader 0 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:63 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=64
update matchIndex[2]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {436968833736190259 9 60} {4935419468577551538 9 61} {6626889964675054776 9 62} {7715692803838660496 9 63}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {436968833736190259 9 60} {4935419468577551538 9 61} {6626889964675054776 9 62} {7715692803838660496 9 63}]
------------------------------------------------------
flag 63236 term 11 leader 0 nextIndex[1]: 64  matchIndex[1]: 63
term 11 leader 0 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
flag 99568 term 11 leader 0 nextIndex[2]: 64  matchIndex[2]: 63
term 11 leader 0 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:63 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=64
update matchIndex[2]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {436968833736190259 9 60} {4935419468577551538 9 61} {6626889964675054776 9 62} {7715692803838660496 9 63}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {436968833736190259 9 60} {4935419468577551538 9 61} {6626889964675054776 9 62} {7715692803838660496 9 63}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64318 term 11 leader 0 nextIndex[1]: 64  matchIndex[1]: 63
term 11 leader 0 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
flag 35137 term 11 leader 0 nextIndex[2]: 64  matchIndex[2]: 63
term 11 leader 0 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:63 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=64
update matchIndex[2]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {436968833736190259 9 60} {4935419468577551538 9 61} {6626889964675054776 9 62} {7715692803838660496 9 63}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {436968833736190259 9 60} {4935419468577551538 9 61} {6626889964675054776 9 62} {7715692803838660496 9 63}]
------------------------------------------------------
term 11 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44915 term 11 leader 0 nextIndex[1]: 64  matchIndex[1]: 63
term 11 leader 0 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
flag 63269 term 11 leader 0 nextIndex[2]: 64  matchIndex[2]: 63
term 11 leader 0 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=64
update matchIndex[2]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {436968833736190259 9 60} {4935419468577551538 9 61} {6626889964675054776 9 62} {7715692803838660496 9 63}]
term 11 server 1 AppendEntries true commitIndex:63 
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {436968833736190259 9 60} {4935419468577551538 9 61} {6626889964675054776 9 62} {7715692803838660496 9 63}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 8273810413673982928 (index 64) to leader 0
flag 39377 term 11 leader 0 nextIndex[1]: 64  matchIndex[1]: 63
term 11 leader 0 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
flag 12653 term 11 leader 0 nextIndex[2]: 64  matchIndex[2]: 63
term 11 leader 0 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 9 leaderCommit: 63 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=65
update matchIndex[2]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {436968833736190259 9 60} {4935419468577551538 9 61} {6626889964675054776 9 62} {7715692803838660496 9 63} {8273810413673982928 11 64}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56575 term 11 leader 0 nextIndex[1]: 64  matchIndex[1]: 63
term 11 leader 0 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 81529 term 11 leader 0 nextIndex[2]: 65  matchIndex[2]: 64
term 11 leader 0 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=65
update matchIndex[2]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {436968833736190259 9 60} {4935419468577551538 9 61} {6626889964675054776 9 62} {7715692803838660496 9 63} {8273810413673982928 11 64}]
------------------------------------------------------
client write log 4535602250424557265 (index 65) to leader 0
client write log 3368150495543786996 (index 66) to leader 0
client write log 443976000451632696 (index 67) to leader 0
client write log 4715124612793455258 (index 68) to leader 0
client write log 8739393504658466572 (index 69) to leader 0
client write log 1316449122782489812 (index 70) to leader 0
client write log 4075983451409750375 (index 71) to leader 0
client write log 9075396082437139169 (index 72) to leader 0
client write log 4193402020018381673 (index 73) to leader 0
client write log 2116939902410092380 (index 74) to leader 0
flag 38331 term 11 leader 0 nextIndex[1]: 64  matchIndex[1]: 63
term 11 leader 0 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 3677 term 11 leader 0 nextIndex[2]: 65  matchIndex[2]: 64
term 11 leader 0 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=75
update matchIndex[2]=74
update leader CommitIndex=74
leader log:
[{snapshot 9 59} {436968833736190259 9 60} {4935419468577551538 9 61} {6626889964675054776 9 62} {7715692803838660496 9 63} {8273810413673982928 11 64} {4535602250424557265 11 65} {3368150495543786996 11 66} {443976000451632696 11 67} {4715124612793455258 11 68} {8739393504658466572 11 69} {1316449122782489812 11 70} {4075983451409750375 11 71} {9075396082437139169 11 72} {4193402020018381673 11 73} {2116939902410092380 11 74}]
------------------------------------------------------
term 11 Server0 start snapshot! index=69
term 11 server0 snapshot success
lastIncludedIndex=69 lastApplied=70 lastIndex=74
-------------------------------------------------------------
term 11 leader 0 nextIndex[1]: 64  matchIndex[1]: 63
term 11 leader 0 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
flag 12588 term 11 leader 0 nextIndex[2]: 75  matchIndex[2]: 74
term 11 leader 0 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 11 leaderCommit: 74 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=75
update matchIndex[2]=74
update leader CommitIndex=74
leader log:
[{snapshot 11 69} {1316449122782489812 11 70} {4075983451409750375 11 71} {9075396082437139169 11 72} {4193402020018381673 11 73} {2116939902410092380 11 74}]
------------------------------------------------------
term 11 Server2 start snapshot! index=69
term 11 server2 snapshot success
lastIncludedIndex=69 lastApplied=70 lastIndex=74
-------------------------------------------------------------
!!!!!!connect server 1
client write log 6918376164016831746 (index 75) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 11 leader 0 nextIndex[1]: 64  matchIndex[1]: 63
term 11 leader 0 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
flag 54641 term 11 leader 0 nextIndex[2]: 75  matchIndex[2]: 74
term 11 leader 0 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 11 leaderCommit: 74 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=76
update matchIndex[2]=75
update leader CommitIndex=75
leader log:
[{snapshot 11 69} {1316449122782489812 11 70} {4075983451409750375 11 71} {9075396082437139169 11 72} {4193402020018381673 11 73} {2116939902410092380 11 74} {6918376164016831746 11 75}]
------------------------------------------------------
term 12 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 11 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 13 server 2 vote for server 0
term 13 server 1 vote for server 0
term 13 server 0 get vote from server 2
term 13 server 0 become leader
------------------------------------------------------
term 13 server 0 get outdate rpc reply from server 1
flag 39975 term 13 leader 0 nextIndex[1]: 76  matchIndex[1]: 0
term 13 leader 0 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 11 leaderCommit: 75 
------------------------------------------------------
flag 83753 term 13 leader 0 nextIndex[2]: 76  matchIndex[2]: 0
term 13 leader 0 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 11 leaderCommit: 75 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:75 
------------------------------------------------------
term 13 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=76
update matchIndex[2]=75
update leader CommitIndex=75
leader log:
[{snapshot 11 69} {1316449122782489812 11 70} {4075983451409750375 11 71} {9075396082437139169 11 72} {4193402020018381673 11 73} {2116939902410092380 11 74} {6918376164016831746 11 75}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 76->75
------------------------------------------------------
term 13 leader 0 nextIndex[1]: 64  matchIndex[1]: 0
term 13 leader 0 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
flag 24263 term 13 leader 0 nextIndex[2]: 76  matchIndex[2]: 75
term 13 leader 0 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 11 leaderCommit: 75 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=76
update matchIndex[2]=75
update leader CommitIndex=75
leader log:
[{snapshot 11 69} {1316449122782489812 11 70} {4075983451409750375 11 71} {9075396082437139169 11 72} {4193402020018381673 11 73} {2116939902410092380 11 74} {6918376164016831746 11 75}]
------------------------------------------------------
term 13 server 1 InstallSnapshot success
------------------------------------------------------
term 13 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 70 matchIndex[1] 69 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 69 rf.lastIncludedTerm 11 rf.commitIndex 69 rf.lastApplied 69
term 13 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 11852 term 13 leader 0 nextIndex[1]: 70  matchIndex[1]: 69
term 13 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 75 
------------------------------------------------------
flag 92572 term 13 leader 0 nextIndex[2]: 76  matchIndex[2]: 75
term 13 leader 0 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 11 leaderCommit: 75 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=76
update matchIndex[2]=75
update leader CommitIndex=75
leader log:
[{snapshot 11 69} {1316449122782489812 11 70} {4075983451409750375 11 71} {9075396082437139169 11 72} {4193402020018381673 11 73} {2116939902410092380 11 74} {6918376164016831746 11 75}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=75
leader log:
[{snapshot 11 69} {1316449122782489812 11 70} {4075983451409750375 11 71} {9075396082437139169 11 72} {4193402020018381673 11 73} {2116939902410092380 11 74} {6918376164016831746 11 75}]
------------------------------------------------------
flag 8308 term 13 leader 0 nextIndex[1]: 76  matchIndex[1]: 75
term 13 leader 0 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 11 leaderCommit: 75 
------------------------------------------------------
flag 64579 term 13 leader 0 nextIndex[2]: 76  matchIndex[2]: 75
term 13 leader 0 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 11 leaderCommit: 75 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:75 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=76
update matchIndex[2]=75
update leader CommitIndex=75
leader log:
[{snapshot 11 69} {1316449122782489812 11 70} {4075983451409750375 11 71} {9075396082437139169 11 72} {4193402020018381673 11 73} {2116939902410092380 11 74} {6918376164016831746 11 75}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=75
leader log:
[{snapshot 11 69} {1316449122782489812 11 70} {4075983451409750375 11 71} {9075396082437139169 11 72} {4193402020018381673 11 73} {2116939902410092380 11 74} {6918376164016831746 11 75}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80379 term 13 leader 0 nextIndex[1]: 76  matchIndex[1]: 75
term 13 leader 0 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 11 leaderCommit: 75 
------------------------------------------------------
flag 95279 term 13 leader 0 nextIndex[2]: 76  matchIndex[2]: 75
term 13 leader 0 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 11 leaderCommit: 75 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=76
update matchIndex[2]=75
update leader CommitIndex=75
leader log:
[{snapshot 11 69} {1316449122782489812 11 70} {4075983451409750375 11 71} {9075396082437139169 11 72} {4193402020018381673 11 73} {2116939902410092380 11 74} {6918376164016831746 11 75}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=75
leader log:
[{snapshot 11 69} {1316449122782489812 11 70} {4075983451409750375 11 71} {9075396082437139169 11 72} {4193402020018381673 11 73} {2116939902410092380 11 74} {6918376164016831746 11 75}]
------------------------------------------------------
flag 98803 term 13 leader 0 nextIndex[1]: 76  matchIndex[1]: 75
term 13 leader 0 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 11 leaderCommit: 75 
------------------------------------------------------
flag 73417 term 13 leader 0 nextIndex[2]: 76  matchIndex[2]: 75
term 13 leader 0 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 11 leaderCommit: 75 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:75 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=76
update matchIndex[2]=75
update leader CommitIndex=75
leader log:
[{snapshot 11 69} {1316449122782489812 11 70} {4075983451409750375 11 71} {9075396082437139169 11 72} {4193402020018381673 11 73} {2116939902410092380 11 74} {6918376164016831746 11 75}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=75
leader log:
[{snapshot 11 69} {1316449122782489812 11 70} {4075983451409750375 11 71} {9075396082437139169 11 72} {4193402020018381673 11 73} {2116939902410092380 11 74} {6918376164016831746 11 75}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74804 term 13 leader 0 nextIndex[1]: 76  matchIndex[1]: 75
term 13 leader 0 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 11 leaderCommit: 75 
------------------------------------------------------
flag 28410 term 13 leader 0 nextIndex[2]: 76  matchIndex[2]: 75
term 13 leader 0 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 11 leaderCommit: 75 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=76
update matchIndex[2]=75
update leader CommitIndex=75
leader log:
[{snapshot 11 69} {1316449122782489812 11 70} {4075983451409750375 11 71} {9075396082437139169 11 72} {4193402020018381673 11 73} {2116939902410092380 11 74} {6918376164016831746 11 75}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=75
leader log:
[{snapshot 11 69} {1316449122782489812 11 70} {4075983451409750375 11 71} {9075396082437139169 11 72} {4193402020018381673 11 73} {2116939902410092380 11 74} {6918376164016831746 11 75}]
------------------------------------------------------
flag 24380 term 13 leader 0 nextIndex[1]: 76  matchIndex[1]: 75
term 13 leader 0 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 11 leaderCommit: 75 
------------------------------------------------------
flag 15374 term 13 leader 0 nextIndex[2]: 76  matchIndex[2]: 75
term 13 leader 0 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 11 leaderCommit: 75 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=76
update matchIndex[2]=75
update leader CommitIndex=75
leader log:
[{snapshot 11 69} {1316449122782489812 11 70} {4075983451409750375 11 71} {9075396082437139169 11 72} {4193402020018381673 11 73} {2116939902410092380 11 74} {6918376164016831746 11 75}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=75
leader log:
[{snapshot 11 69} {1316449122782489812 11 70} {4075983451409750375 11 71} {9075396082437139169 11 72} {4193402020018381673 11 73} {2116939902410092380 11 74} {6918376164016831746 11 75}]
------------------------------------------------------
flag 25682 term 13 leader 0 nextIndex[1]: 76  matchIndex[1]: 75
term 13 leader 0 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 11 leaderCommit: 75 
------------------------------------------------------
flag 41423 term 13 leader 0 nextIndex[2]: 76  matchIndex[2]: 75
term 13 leader 0 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 11 leaderCommit: 75 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=76
update matchIndex[2]=75
update leader CommitIndex=75
leader log:
[{snapshot 11 69} {1316449122782489812 11 70} {4075983451409750375 11 71} {9075396082437139169 11 72} {4193402020018381673 11 73} {2116939902410092380 11 74} {6918376164016831746 11 75}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=75
leader log:
[{snapshot 11 69} {1316449122782489812 11 70} {4075983451409750375 11 71} {9075396082437139169 11 72} {4193402020018381673 11 73} {2116939902410092380 11 74} {6918376164016831746 11 75}]
------------------------------------------------------
!!!!!!diconnect server 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9635 term 13 leader 0 nextIndex[1]: 76  matchIndex[1]: 75
term 13 leader 0 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 11 leaderCommit: 75 
------------------------------------------------------
flag 92059 term 13 leader 0 nextIndex[2]: 76  matchIndex[2]: 75
term 13 leader 0 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 11 leaderCommit: 75 
------------------------------------------------------
flag 51468 term 13 leader 0 nextIndex[1]: 76  matchIndex[1]: 75
term 13 leader 0 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 11 leaderCommit: 75 
------------------------------------------------------
flag 57390 term 13 leader 0 nextIndex[2]: 76  matchIndex[2]: 75
term 13 leader 0 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 11 leaderCommit: 75 
------------------------------------------------------
flag 70108 term 13 leader 0 nextIndex[1]: 76  matchIndex[1]: 75
term 13 leader 0 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 11 leaderCommit: 75 
------------------------------------------------------
flag 86863 term 13 leader 0 nextIndex[2]: 76  matchIndex[2]: 75
term 13 leader 0 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 11 leaderCommit: 75 
------------------------------------------------------
flag 5358 term 13 leader 0 nextIndex[1]: 76  matchIndex[1]: 75
term 13 leader 0 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 11 leaderCommit: 75 
------------------------------------------------------
flag 4403 term 13 leader 0 nextIndex[2]: 76  matchIndex[2]: 75
term 13 leader 0 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 11 leaderCommit: 75 
------------------------------------------------------
term 14 server 2 vote for server 1
term 14 server 1 get vote from server 2
term 14 server 1 become leader
------------------------------------------------------
flag 26927 term 14 leader 1 nextIndex[0]: 76  matchIndex[0]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 11 leaderCommit: 75 
------------------------------------------------------
flag 92504 term 14 leader 1 nextIndex[2]: 76  matchIndex[2]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 11 leaderCommit: 75 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=76
update matchIndex[2]=75
update leader CommitIndex=75
leader log:
[{snapshot 11 69} {1316449122782489812 11 70} {4075983451409750375 11 71} {9075396082437139169 11 72} {4193402020018381673 11 73} {2116939902410092380 11 74} {6918376164016831746 11 75}]
------------------------------------------------------
client write log 942860125532712463 (index 76) to leader 1
flag 87581 term 13 leader 0 nextIndex[1]: 76  matchIndex[1]: 75
term 13 leader 0 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 11 leaderCommit: 75 
------------------------------------------------------
flag 5229 term 13 leader 0 nextIndex[2]: 76  matchIndex[2]: 75
term 13 leader 0 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 11 leaderCommit: 75 
------------------------------------------------------
flag 25657 term 14 leader 1 nextIndex[0]: 76  matchIndex[0]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 11 leaderCommit: 75 
------------------------------------------------------
flag 50322 term 14 leader 1 nextIndex[2]: 76  matchIndex[2]: 75
term 14 leader 1 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 11 leaderCommit: 75 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=77
update matchIndex[2]=76
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {1316449122782489812 11 70} {4075983451409750375 11 71} {9075396082437139169 11 72} {4193402020018381673 11 73} {2116939902410092380 11 74} {6918376164016831746 11 75} {942860125532712463 14 76}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99090 term 13 leader 0 nextIndex[1]: 76  matchIndex[1]: 75
term 13 leader 0 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 11 leaderCommit: 75 
------------------------------------------------------
flag 44903 term 13 leader 0 nextIndex[2]: 76  matchIndex[2]: 75
term 13 leader 0 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 11 leaderCommit: 75 
------------------------------------------------------
flag 35357 term 14 leader 1 nextIndex[0]: 76  matchIndex[0]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
flag 25002 term 14 leader 1 nextIndex[2]: 77  matchIndex[2]: 76
term 14 leader 1 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 14 leaderCommit: 76 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=77
update matchIndex[2]=76
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {1316449122782489812 11 70} {4075983451409750375 11 71} {9075396082437139169 11 72} {4193402020018381673 11 73} {2116939902410092380 11 74} {6918376164016831746 11 75} {942860125532712463 14 76}]
------------------------------------------------------
client write log 5147239868918805900 (index 77) to leader 1
client write log 7496212572208392853 (index 78) to leader 1
client write log 858154002733270847 (index 79) to leader 1
client write log 7997771248965747086 (index 80) to leader 1
client write log 2676823226137471621 (index 81) to leader 1
client write log 5689467963284691934 (index 82) to leader 1
flag 6519 term 13 leader 0 nextIndex[1]: 76  matchIndex[1]: 75
term 13 leader 0 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 11 leaderCommit: 75 
------------------------------------------------------
flag 77516 term 13 leader 0 nextIndex[2]: 76  matchIndex[2]: 75
term 13 leader 0 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 11 leaderCommit: 75 
------------------------------------------------------
flag 1301 term 14 leader 1 nextIndex[0]: 76  matchIndex[0]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
flag 9467 term 14 leader 1 nextIndex[2]: 77  matchIndex[2]: 76
term 14 leader 1 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 14 leaderCommit: 76 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=82
leader log:
[{snapshot 11 69} {1316449122782489812 11 70} {4075983451409750375 11 71} {9075396082437139169 11 72} {4193402020018381673 11 73} {2116939902410092380 11 74} {6918376164016831746 11 75} {942860125532712463 14 76} {5147239868918805900 14 77} {7496212572208392853 14 78} {858154002733270847 14 79} {7997771248965747086 14 80} {2676823226137471621 14 81} {5689467963284691934 14 82}]
------------------------------------------------------
term 14 Server1 start snapshot! index=79
term 14 server1 snapshot success
lastIncludedIndex=79 lastApplied=80 lastIndex=82
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40873 term 13 leader 0 nextIndex[1]: 76  matchIndex[1]: 75
term 13 leader 0 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 11 leaderCommit: 75 
------------------------------------------------------
flag 11612 term 13 leader 0 nextIndex[2]: 76  matchIndex[2]: 75
term 13 leader 0 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 11 leaderCommit: 75 
------------------------------------------------------
term 14 leader 1 nextIndex[0]: 76  matchIndex[0]: 0
term 14 leader 1 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 14
------------------------------------------------------
flag 90188 term 14 leader 1 nextIndex[2]: 83  matchIndex[2]: 82
term 14 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 14 leaderCommit: 82 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=82
leader log:
[{snapshot 14 79} {7997771248965747086 14 80} {2676823226137471621 14 81} {5689467963284691934 14 82}]
------------------------------------------------------
term 14 Server2 start snapshot! index=79
term 14 server2 snapshot success
lastIncludedIndex=79 lastApplied=80 lastIndex=82
-------------------------------------------------------------
!!!!!!connect server 0
client write log 7447197862592752551 (index 83) to leader 1
flag 15945 term 13 leader 0 nextIndex[1]: 76  matchIndex[1]: 75
term 13 leader 0 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 11 leaderCommit: 75 
------------------------------------------------------
flag 83350 term 13 leader 0 nextIndex[2]: 76  matchIndex[2]: 75
term 13 leader 0 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 11 leaderCommit: 75 
------------------------------------------------------
term 14 server 1 AppendEntries false 领导者任期过期 args.Term 13
------------------------------------------------------
term 14 server 2 AppendEntries false 领导者任期过期 args.Term 13
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 14 leader 1 nextIndex[0]: 76  matchIndex[0]: 0
term 14 leader 1 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 14
------------------------------------------------------
flag 66305 term 14 leader 1 nextIndex[2]: 83  matchIndex[2]: 82
term 14 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 14 leaderCommit: 82 
------------------------------------------------------
term 14 server 0 InstallSnapshot success
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=84
update matchIndex[2]=83
update leader CommitIndex=83
leader log:
[{snapshot 14 79} {7997771248965747086 14 80} {2676823226137471621 14 81} {5689467963284691934 14 82} {7447197862592752551 14 83}]
------------------------------------------------------
term 14 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 80 matchIndex[0] 79 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 79 rf.lastIncludedTerm 14 rf.commitIndex 79 rf.lastApplied 79
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76033 term 14 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 14 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
flag 91764 term 14 leader 1 nextIndex[2]: 84  matchIndex[2]: 83
term 14 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=84
update matchIndex[2]=83
update leader CommitIndex=83
leader log:
[{snapshot 14 79} {7997771248965747086 14 80} {2676823226137471621 14 81} {5689467963284691934 14 82} {7447197862592752551 14 83}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 14 79} {7997771248965747086 14 80} {2676823226137471621 14 81} {5689467963284691934 14 82} {7447197862592752551 14 83}]
------------------------------------------------------
flag 30370 term 14 leader 1 nextIndex[0]: 84  matchIndex[0]: 83
term 14 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
flag 1282 term 14 leader 1 nextIndex[2]: 84  matchIndex[2]: 83
term 14 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 14 79} {7997771248965747086 14 80} {2676823226137471621 14 81} {5689467963284691934 14 82} {7447197862592752551 14 83}]
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=84
update matchIndex[2]=83
update leader CommitIndex=83
leader log:
[{snapshot 14 79} {7997771248965747086 14 80} {2676823226137471621 14 81} {5689467963284691934 14 82} {7447197862592752551 14 83}]
------------------------------------------------------
flag 41353 term 14 leader 1 nextIndex[0]: 84  matchIndex[0]: 83
term 14 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
flag 21483 term 14 leader 1 nextIndex[2]: 84  matchIndex[2]: 83
term 14 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 14 79} {7997771248965747086 14 80} {2676823226137471621 14 81} {5689467963284691934 14 82} {7447197862592752551 14 83}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=84
update matchIndex[2]=83
update leader CommitIndex=83
leader log:
[{snapshot 14 79} {7997771248965747086 14 80} {2676823226137471621 14 81} {5689467963284691934 14 82} {7447197862592752551 14 83}]
------------------------------------------------------
flag 71916 term 14 leader 1 nextIndex[0]: 84  matchIndex[0]: 83
term 14 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
flag 85301 term 14 leader 1 nextIndex[2]: 84  matchIndex[2]: 83
term 14 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=84
update matchIndex[2]=83
update leader CommitIndex=83
leader log:
[{snapshot 14 79} {7997771248965747086 14 80} {2676823226137471621 14 81} {5689467963284691934 14 82} {7447197862592752551 14 83}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 14 79} {7997771248965747086 14 80} {2676823226137471621 14 81} {5689467963284691934 14 82} {7447197862592752551 14 83}]
------------------------------------------------------
flag 14558 term 14 leader 1 nextIndex[0]: 84  matchIndex[0]: 83
term 14 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
flag 4475 term 14 leader 1 nextIndex[2]: 84  matchIndex[2]: 83
term 14 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=84
update matchIndex[2]=83
update leader CommitIndex=83
leader log:
[{snapshot 14 79} {7997771248965747086 14 80} {2676823226137471621 14 81} {5689467963284691934 14 82} {7447197862592752551 14 83}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 14 79} {7997771248965747086 14 80} {2676823226137471621 14 81} {5689467963284691934 14 82} {7447197862592752551 14 83}]
------------------------------------------------------
flag 52635 term 14 leader 1 nextIndex[0]: 84  matchIndex[0]: 83
term 14 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
flag 68402 term 14 leader 1 nextIndex[2]: 84  matchIndex[2]: 83
term 14 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=84
update matchIndex[2]=83
update leader CommitIndex=83
leader log:
[{snapshot 14 79} {7997771248965747086 14 80} {2676823226137471621 14 81} {5689467963284691934 14 82} {7447197862592752551 14 83}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 14 79} {7997771248965747086 14 80} {2676823226137471621 14 81} {5689467963284691934 14 82} {7447197862592752551 14 83}]
------------------------------------------------------
term 14 server 0 not vote for server 1, 日志不够新
term 14 server 1 get outdate rpc reply from server 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52695 term 14 leader 1 nextIndex[0]: 84  matchIndex[0]: 83
term 14 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
flag 69264 term 14 leader 1 nextIndex[2]: 84  matchIndex[2]: 83
term 14 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=84
update matchIndex[2]=83
update leader CommitIndex=83
leader log:
[{snapshot 14 79} {7997771248965747086 14 80} {2676823226137471621 14 81} {5689467963284691934 14 82} {7447197862592752551 14 83}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 14 79} {7997771248965747086 14 80} {2676823226137471621 14 81} {5689467963284691934 14 82} {7447197862592752551 14 83}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 7177429013690761191 (index 84) to leader 1
flag 57800 term 14 leader 1 nextIndex[0]: 84  matchIndex[0]: 83
term 14 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
flag 35216 term 14 leader 1 nextIndex[2]: 84  matchIndex[2]: 83
term 14 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {7997771248965747086 14 80} {2676823226137471621 14 81} {5689467963284691934 14 82} {7447197862592752551 14 83} {7177429013690761191 14 84}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92271 term 14 leader 1 nextIndex[0]: 85  matchIndex[0]: 84
term 14 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
flag 76837 term 14 leader 1 nextIndex[2]: 84  matchIndex[2]: 83
term 14 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {7997771248965747086 14 80} {2676823226137471621 14 81} {5689467963284691934 14 82} {7447197862592752551 14 83} {7177429013690761191 14 84}]
------------------------------------------------------
client write log 6499511824945957740 (index 85) to leader 1
client write log 4134516742431298345 (index 86) to leader 1
client write log 5626518183494162112 (index 87) to leader 1
client write log 6467143031291166782 (index 88) to leader 1
client write log 1131814399966702608 (index 89) to leader 1
client write log 5662140109379360078 (index 90) to leader 1
client write log 7591311449972970118 (index 91) to leader 1
client write log 4874639441003163321 (index 92) to leader 1
flag 40354 term 14 leader 1 nextIndex[0]: 85  matchIndex[0]: 84
term 14 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
flag 1205 term 14 leader 1 nextIndex[2]: 84  matchIndex[2]: 83
term 14 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=92
leader log:
[{snapshot 14 79} {7997771248965747086 14 80} {2676823226137471621 14 81} {5689467963284691934 14 82} {7447197862592752551 14 83} {7177429013690761191 14 84} {6499511824945957740 14 85} {4134516742431298345 14 86} {5626518183494162112 14 87} {6467143031291166782 14 88} {1131814399966702608 14 89} {5662140109379360078 14 90} {7591311449972970118 14 91} {4874639441003163321 14 92}]
------------------------------------------------------
term 14 Server1 start snapshot! index=89
term 14 server1 snapshot success
lastIncludedIndex=89 lastApplied=90 lastIndex=92
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56748 term 14 leader 1 nextIndex[0]: 93  matchIndex[0]: 92
term 14 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
term 14 leader 1 nextIndex[2]: 84  matchIndex[2]: 83
term 14 leader 1 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 14
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {5662140109379360078 14 90} {7591311449972970118 14 91} {4874639441003163321 14 92}]
------------------------------------------------------
term 14 Server0 start snapshot! index=89
term 14 server0 snapshot success
lastIncludedIndex=89 lastApplied=90 lastIndex=92
-------------------------------------------------------------
!!!!!!connect server 2
client write log 2776484680125786509 (index 93) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 14 server 1 not vote for server 2, 日志不够新
term 14 server 0 not vote for server 2, 日志不够新
term 16 server 2 vote for server 1
term 16 server 1 get vote from server 2
term 16 server 1 become leader
------------------------------------------------------
term 16 server 0 vote for server 1
term 16 server 1 get outdate rpc reply from server 0
flag 57064 term 16 leader 1 nextIndex[0]: 94  matchIndex[0]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
flag 28374 term 16 leader 1 nextIndex[2]: 94  matchIndex[2]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
term 16 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 16 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 94->93
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 94->93
------------------------------------------------------
term 16 server 2 not vote for server 1, 任期不够新
term 16 server 1 get outdate rpc reply from server 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85212 term 16 leader 1 nextIndex[0]: 93  matchIndex[0]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
term 16 leader 1 nextIndex[2]: 84  matchIndex[2]: 0
term 16 leader 1 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 14
------------------------------------------------------
term 16 server 2 InstallSnapshot success
------------------------------------------------------
term 16 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 90 matchIndex[2] 89 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 89 rf.lastIncludedTerm 14 rf.commitIndex 89 rf.lastApplied 89
term 16 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {5662140109379360078 14 90} {7591311449972970118 14 91} {4874639441003163321 14 92} {2776484680125786509 14 93}]
------------------------------------------------------
term 16 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 16 server 2 not vote for server 1, 任期不够新
term 16 server 1 get outdate rpc reply from server 2
flag 69386 term 16 leader 1 nextIndex[0]: 94  matchIndex[0]: 93
term 16 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
flag 18232 term 16 leader 1 nextIndex[2]: 90  matchIndex[2]: 89
term 16 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {5662140109379360078 14 90} {7591311449972970118 14 91} {4874639441003163321 14 92} {2776484680125786509 14 93}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {5662140109379360078 14 90} {7591311449972970118 14 91} {4874639441003163321 14 92} {2776484680125786509 14 93}]
------------------------------------------------------
flag 65978 term 16 leader 1 nextIndex[0]: 94  matchIndex[0]: 93
term 16 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
flag 51627 term 16 leader 1 nextIndex[2]: 94  matchIndex[2]: 93
term 16 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:92 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {5662140109379360078 14 90} {7591311449972970118 14 91} {4874639441003163321 14 92} {2776484680125786509 14 93}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {5662140109379360078 14 90} {7591311449972970118 14 91} {4874639441003163321 14 92} {2776484680125786509 14 93}]
------------------------------------------------------
flag 41287 term 16 leader 1 nextIndex[0]: 94  matchIndex[0]: 93
term 16 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
flag 4261 term 16 leader 1 nextIndex[2]: 94  matchIndex[2]: 93
term 16 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:92 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {5662140109379360078 14 90} {7591311449972970118 14 91} {4874639441003163321 14 92} {2776484680125786509 14 93}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {5662140109379360078 14 90} {7591311449972970118 14 91} {4874639441003163321 14 92} {2776484680125786509 14 93}]
------------------------------------------------------
flag 71898 term 16 leader 1 nextIndex[0]: 94  matchIndex[0]: 93
term 16 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
flag 28361 term 16 leader 1 nextIndex[2]: 94  matchIndex[2]: 93
term 16 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {5662140109379360078 14 90} {7591311449972970118 14 91} {4874639441003163321 14 92} {2776484680125786509 14 93}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {5662140109379360078 14 90} {7591311449972970118 14 91} {4874639441003163321 14 92} {2776484680125786509 14 93}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78609 term 16 leader 1 nextIndex[0]: 94  matchIndex[0]: 93
term 16 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
flag 98587 term 16 leader 1 nextIndex[2]: 94  matchIndex[2]: 93
term 16 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {5662140109379360078 14 90} {7591311449972970118 14 91} {4874639441003163321 14 92} {2776484680125786509 14 93}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {5662140109379360078 14 90} {7591311449972970118 14 91} {4874639441003163321 14 92} {2776484680125786509 14 93}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72950 term 16 leader 1 nextIndex[0]: 94  matchIndex[0]: 93
term 16 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
flag 18282 term 16 leader 1 nextIndex[2]: 94  matchIndex[2]: 93
term 16 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {5662140109379360078 14 90} {7591311449972970118 14 91} {4874639441003163321 14 92} {2776484680125786509 14 93}]
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {5662140109379360078 14 90} {7591311449972970118 14 91} {4874639441003163321 14 92} {2776484680125786509 14 93}]
------------------------------------------------------
flag 11412 term 16 leader 1 nextIndex[0]: 94  matchIndex[0]: 93
term 16 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
flag 86331 term 16 leader 1 nextIndex[2]: 94  matchIndex[2]: 93
term 16 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {5662140109379360078 14 90} {7591311449972970118 14 91} {4874639441003163321 14 92} {2776484680125786509 14 93}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {5662140109379360078 14 90} {7591311449972970118 14 91} {4874639441003163321 14 92} {2776484680125786509 14 93}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54255 term 16 leader 1 nextIndex[0]: 94  matchIndex[0]: 93
term 16 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
flag 3200 term 16 leader 1 nextIndex[2]: 94  matchIndex[2]: 93
term 16 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {5662140109379360078 14 90} {7591311449972970118 14 91} {4874639441003163321 14 92} {2776484680125786509 14 93}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {5662140109379360078 14 90} {7591311449972970118 14 91} {4874639441003163321 14 92} {2776484680125786509 14 93}]
------------------------------------------------------
flag 539 term 16 leader 1 nextIndex[0]: 94  matchIndex[0]: 93
term 16 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
flag 49596 term 16 leader 1 nextIndex[2]: 94  matchIndex[2]: 93
term 16 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:92 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {5662140109379360078 14 90} {7591311449972970118 14 91} {4874639441003163321 14 92} {2776484680125786509 14 93}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {5662140109379360078 14 90} {7591311449972970118 14 91} {4874639441003163321 14 92} {2776484680125786509 14 93}]
------------------------------------------------------
flag 43008 term 16 leader 1 nextIndex[0]: 94  matchIndex[0]: 93
term 16 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
flag 42379 term 16 leader 1 nextIndex[2]: 94  matchIndex[2]: 93
term 16 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {5662140109379360078 14 90} {7591311449972970118 14 91} {4874639441003163321 14 92} {2776484680125786509 14 93}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {5662140109379360078 14 90} {7591311449972970118 14 91} {4874639441003163321 14 92} {2776484680125786509 14 93}]
------------------------------------------------------
flag 7029 term 16 leader 1 nextIndex[0]: 94  matchIndex[0]: 93
term 16 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
flag 75111 term 16 leader 1 nextIndex[2]: 94  matchIndex[2]: 93
term 16 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {5662140109379360078 14 90} {7591311449972970118 14 91} {4874639441003163321 14 92} {2776484680125786509 14 93}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {5662140109379360078 14 90} {7591311449972970118 14 91} {4874639441003163321 14 92} {2776484680125786509 14 93}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95849 term 16 leader 1 nextIndex[0]: 94  matchIndex[0]: 93
term 16 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
flag 73943 term 16 leader 1 nextIndex[2]: 94  matchIndex[2]: 93
term 16 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {5662140109379360078 14 90} {7591311449972970118 14 91} {4874639441003163321 14 92} {2776484680125786509 14 93}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {5662140109379360078 14 90} {7591311449972970118 14 91} {4874639441003163321 14 92} {2776484680125786509 14 93}]
------------------------------------------------------
flag 88598 term 16 leader 1 nextIndex[0]: 94  matchIndex[0]: 93
term 16 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
flag 15471 term 16 leader 1 nextIndex[2]: 94  matchIndex[2]: 93
term 16 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {5662140109379360078 14 90} {7591311449972970118 14 91} {4874639441003163321 14 92} {2776484680125786509 14 93}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {5662140109379360078 14 90} {7591311449972970118 14 91} {4874639441003163321 14 92} {2776484680125786509 14 93}]
------------------------------------------------------
flag 63741 term 16 leader 1 nextIndex[0]: 94  matchIndex[0]: 93
term 16 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
flag 1794 term 16 leader 1 nextIndex[2]: 94  matchIndex[2]: 93
term 16 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {5662140109379360078 14 90} {7591311449972970118 14 91} {4874639441003163321 14 92} {2776484680125786509 14 93}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {5662140109379360078 14 90} {7591311449972970118 14 91} {4874639441003163321 14 92} {2776484680125786509 14 93}]
------------------------------------------------------
flag 953 term 16 leader 1 nextIndex[0]: 94  matchIndex[0]: 93
term 16 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
flag 33174 term 16 leader 1 nextIndex[2]: 94  matchIndex[2]: 93
term 16 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueterm 16 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
update nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {5662140109379360078 14 90} {7591311449972970118 14 91} {4874639441003163321 14 92} {2776484680125786509 14 93}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {5662140109379360078 14 90} {7591311449972970118 14 91} {4874639441003163321 14 92} {2776484680125786509 14 93}]
------------------------------------------------------
term 16 server 0 not vote for server 1, 任期不够新
term 16 server 1 get outdate rpc reply from server 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96120 term 16 leader 1 nextIndex[0]: 94  matchIndex[0]: 93
term 16 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
flag 46864 term 16 leader 1 nextIndex[2]: 94  matchIndex[2]: 93
term 16 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {5662140109379360078 14 90} {7591311449972970118 14 91} {4874639441003163321 14 92} {2776484680125786509 14 93}]
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {5662140109379360078 14 90} {7591311449972970118 14 91} {4874639441003163321 14 92} {2776484680125786509 14 93}]
------------------------------------------------------
flag 21006 term 16 leader 1 nextIndex[0]: 94  matchIndex[0]: 93
term 16 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
flag 84567 term 16 leader 1 nextIndex[2]: 94  matchIndex[2]: 93
term 16 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {5662140109379360078 14 90} {7591311449972970118 14 91} {4874639441003163321 14 92} {2776484680125786509 14 93}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {5662140109379360078 14 90} {7591311449972970118 14 91} {4874639441003163321 14 92} {2776484680125786509 14 93}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77261 term 16 leader 1 nextIndex[0]: 94  matchIndex[0]: 93
term 16 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
flag 1198 term 16 leader 1 nextIndex[2]: 94  matchIndex[2]: 93
term 16 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:92 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:92 
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {5662140109379360078 14 90} {7591311449972970118 14 91} {4874639441003163321 14 92} {2776484680125786509 14 93}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {5662140109379360078 14 90} {7591311449972970118 14 91} {4874639441003163321 14 92} {2776484680125786509 14 93}]
------------------------------------------------------
client write log 2776484680125786509 (index 94) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51552 term 16 leader 1 nextIndex[0]: 94  matchIndex[0]: 93
term 16 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
flag 65063 term 16 leader 1 nextIndex[2]: 94  matchIndex[2]: 93
term 16 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:92 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=95
update matchIndex[2]=94
update leader CommitIndex=94
leader log:
[{snapshot 14 89} {5662140109379360078 14 90} {7591311449972970118 14 91} {4874639441003163321 14 92} {2776484680125786509 14 93} {2776484680125786509 16 94}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=95
update matchIndex[0]=94
update leader CommitIndex=94
leader log:
[{snapshot 14 89} {5662140109379360078 14 90} {7591311449972970118 14 91} {4874639441003163321 14 92} {2776484680125786509 14 93} {2776484680125786509 16 94}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 16 server 0 not vote for server 1, 任期不够新
term 16 server 1 get outdate rpc reply from server 0
flag 92705 term 16 leader 1 nextIndex[0]: 95  matchIndex[0]: 94
term 16 leader 1 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 16 leaderCommit: 94 
------------------------------------------------------
flag 87175 term 16 leader 1 nextIndex[2]: 95  matchIndex[2]: 94
term 16 leader 1 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 16 leaderCommit: 94 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=95
update matchIndex[0]=94
update leader CommitIndex=94
leader log:
[{snapshot 14 89} {5662140109379360078 14 90} {7591311449972970118 14 91} {4874639441003163321 14 92} {2776484680125786509 14 93} {2776484680125786509 16 94}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=95
update matchIndex[2]=94
update leader CommitIndex=94
leader log:
[{snapshot 14 89} {5662140109379360078 14 90} {7591311449972970118 14 91} {4874639441003163321 14 92} {2776484680125786509 14 93} {2776484680125786509 16 94}]
------------------------------------------------------
flag 66245 term 16 leader 1 nextIndex[0]: 95  matchIndex[0]: 94
term 16 leader 1 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 16 leaderCommit: 94 
------------------------------------------------------
flag 89880 term 16 leader 1 nextIndex[2]: 95  matchIndex[2]: 94
term 16 leader 1 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 16 leaderCommit: 94 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=95
update matchIndex[2]=94
update leader CommitIndex=94
leader log:
[{snapshot 14 89} {5662140109379360078 14 90} {7591311449972970118 14 91} {4874639441003163321 14 92} {2776484680125786509 14 93} {2776484680125786509 16 94}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=95
update matchIndex[0]=94
update leader CommitIndex=94
leader log:
[{snapshot 14 89} {5662140109379360078 14 90} {7591311449972970118 14 91} {4874639441003163321 14 92} {2776484680125786509 14 93} {2776484680125786509 16 94}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30257 term 16 leader 1 nextIndex[0]: 95  matchIndex[0]: 94
term 16 leader 1 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 16 leaderCommit: 94 
------------------------------------------------------
flag 20215 term 16 leader 1 nextIndex[2]: 95  matchIndex[2]: 94
term 16 leader 1 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 16 leaderCommit: 94 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=95
update matchIndex[2]=94
update leader CommitIndex=94
leader log:
[{snapshot 14 89} {5662140109379360078 14 90} {7591311449972970118 14 91} {4874639441003163321 14 92} {2776484680125786509 14 93} {2776484680125786509 16 94}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=95
update matchIndex[0]=94
update leader CommitIndex=94
leader log:
[{snapshot 14 89} {5662140109379360078 14 90} {7591311449972970118 14 91} {4874639441003163321 14 92} {2776484680125786509 14 93} {2776484680125786509 16 94}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92026 term 16 leader 1 nextIndex[0]: 95  matchIndex[0]: 94
term 16 leader 1 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 16 leaderCommit: 94 
------------------------------------------------------
flag 9498 term 16 leader 1 nextIndex[2]: 95  matchIndex[2]: 94
term 16 leader 1 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 16 leaderCommit: 94 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=95
update matchIndex[2]=94
update leader CommitIndex=94
leader log:
[{snapshot 14 89} {5662140109379360078 14 90} {7591311449972970118 14 91} {4874639441003163321 14 92} {2776484680125786509 14 93} {2776484680125786509 16 94}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=95
update matchIndex[0]=94
update leader CommitIndex=94
leader log:
[{snapshot 14 89} {5662140109379360078 14 90} {7591311449972970118 14 91} {4874639441003163321 14 92} {2776484680125786509 14 93} {2776484680125786509 16 94}]
------------------------------------------------------
flag 13016 term 16 leader 1 nextIndex[0]: 95  matchIndex[0]: 94
term 16 leader 1 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 16 leaderCommit: 94 
------------------------------------------------------
flag 18536 term 16 leader 1 nextIndex[2]: 95  matchIndex[2]: 94
term 16 leader 1 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 16 leaderCommit: 94 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=95
update matchIndex[2]=94
update leader CommitIndex=94
leader log:
[{snapshot 14 89} {5662140109379360078 14 90} {7591311449972970118 14 91} {4874639441003163321 14 92} {2776484680125786509 14 93} {2776484680125786509 16 94}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=95
update matchIndex[0]=94
update leader CommitIndex=94
leader log:
[{snapshot 14 89} {5662140109379360078 14 90} {7591311449972970118 14 91} {4874639441003163321 14 92} {2776484680125786509 14 93} {2776484680125786509 16 94}]
------------------------------------------------------
flag 10040 term 16 leader 1 nextIndex[0]: 95  matchIndex[0]: 94
term 16 leader 1 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 16 leaderCommit: 94 
------------------------------------------------------
flag 76527 term 16 leader 1 nextIndex[2]: 95  matchIndex[2]: 94
term 16 leader 1 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 16 leaderCommit: 94 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=95
update matchIndex[2]=94
update leader CommitIndex=94
leader log:
[{snapshot 14 89} {5662140109379360078 14 90} {7591311449972970118 14 91} {4874639441003163321 14 92} {2776484680125786509 14 93} {2776484680125786509 16 94}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=95
update matchIndex[0]=94
update leader CommitIndex=94
leader log:
[{snapshot 14 89} {5662140109379360078 14 90} {7591311449972970118 14 91} {4874639441003163321 14 92} {2776484680125786509 14 93} {2776484680125786509 16 94}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 3278420064410739881 (index 95) to leader 1
flag 53792 term 16 leader 1 nextIndex[0]: 95  matchIndex[0]: 94
term 16 leader 1 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 16 leaderCommit: 94 
------------------------------------------------------
flag 51533 term 16 leader 1 nextIndex[2]: 95  matchIndex[2]: 94
term 16 leader 1 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 16 leaderCommit: 94 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=95
leader log:
[{snapshot 14 89} {5662140109379360078 14 90} {7591311449972970118 14 91} {4874639441003163321 14 92} {2776484680125786509 14 93} {2776484680125786509 16 94} {3278420064410739881 16 95}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 95->94
------------------------------------------------------
flag 23237 term 16 leader 1 nextIndex[0]: 96  matchIndex[0]: 95
term 16 leader 1 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 16 leaderCommit: 95 
------------------------------------------------------
term 16 leader 1 nextIndex[2]: 0  matchIndex[2]: 94
term 16 leader 1 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 14
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=95
leader log:
[{snapshot 14 89} {5662140109379360078 14 90} {7591311449972970118 14 91} {4874639441003163321 14 92} {2776484680125786509 14 93} {2776484680125786509 16 94} {3278420064410739881 16 95}]
------------------------------------------------------
client write log 837148711183493669 (index 96) to leader 1
client write log 4300731681955695596 (index 97) to leader 1
client write log 1870278646222123626 (index 98) to leader 1
client write log 5796135776836313587 (index 99) to leader 1
client write log 5250971003301549061 (index 100) to leader 1
client write log 3763479106736149669 (index 101) to leader 1
client write log 4902056025625256805 (index 102) to leader 1
client write log 3021812243686852012 (index 103) to leader 1
client write log 2392653153243725560 (index 104) to leader 1
client write log 1615441371030806188 (index 105) to leader 1
flag 43055 term 16 leader 1 nextIndex[0]: 96  matchIndex[0]: 95
term 16 leader 1 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 16 leaderCommit: 95 
------------------------------------------------------
term 16 leader 1 nextIndex[2]: 0  matchIndex[2]: 94
term 16 leader 1 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 14
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=106
update matchIndex[0]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 89} {5662140109379360078 14 90} {7591311449972970118 14 91} {4874639441003163321 14 92} {2776484680125786509 14 93} {2776484680125786509 16 94} {3278420064410739881 16 95} {837148711183493669 16 96} {4300731681955695596 16 97} {1870278646222123626 16 98} {5796135776836313587 16 99} {5250971003301549061 16 100} {3763479106736149669 16 101} {4902056025625256805 16 102} {3021812243686852012 16 103} {2392653153243725560 16 104} {1615441371030806188 16 105}]
------------------------------------------------------
term 16 Server1 start snapshot! index=99
term 16 server1 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=105
-------------------------------------------------------------
flag 85037 term 16 leader 1 nextIndex[0]: 106  matchIndex[0]: 105
term 16 leader 1 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 16 leader 1 nextIndex[2]: 0  matchIndex[2]: 94
term 16 leader 1 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 16
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=106
update matchIndex[0]=105
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {5250971003301549061 16 100} {3763479106736149669 16 101} {4902056025625256805 16 102} {3021812243686852012 16 103} {2392653153243725560 16 104} {1615441371030806188 16 105}]
------------------------------------------------------
term 16 Server0 start snapshot! index=99
term 16 server0 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=105
-------------------------------------------------------------
!!!!!!connect server 2
client write log 5681807497686000402 (index 106) to leader 1
flag 70423 term 16 leader 1 nextIndex[0]: 106  matchIndex[0]: 105
term 16 leader 1 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 16 leader 1 nextIndex[2]: 0  matchIndex[2]: 94
term 16 leader 1 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 16
------------------------------------------------------
term 17 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
term 16 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 18 server 2 vote for server 1
term 18 server 0 vote for server 1
term 18 server 1 get vote from server 2
term 18 server 1 become leader
------------------------------------------------------
term 18 server 1 get outdate rpc reply from server 0
flag 35875 term 18 leader 1 nextIndex[0]: 107  matchIndex[0]: 0
term 18 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 13800 term 18 leader 1 nextIndex[2]: 107  matchIndex[2]: 0
term 18 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {5250971003301549061 16 100} {3763479106736149669 16 101} {4902056025625256805 16 102} {3021812243686852012 16 103} {2392653153243725560 16 104} {1615441371030806188 16 105} {5681807497686000402 16 106}]
------------------------------------------------------
term 18 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 107->106
------------------------------------------------------
flag 83506 term 18 leader 1 nextIndex[0]: 107  matchIndex[0]: 106
term 18 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 18 leader 1 nextIndex[2]: 95  matchIndex[2]: 0
term 18 leader 1 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 16
------------------------------------------------------
term 18 server 2 InstallSnapshot success
------------------------------------------------------
term 18 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 100 matchIndex[2] 99 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 99 rf.lastIncludedTerm 16 rf.commitIndex 99 rf.lastApplied 99
term 18 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {5250971003301549061 16 100} {3763479106736149669 16 101} {4902056025625256805 16 102} {3021812243686852012 16 103} {2392653153243725560 16 104} {1615441371030806188 16 105} {5681807497686000402 16 106}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92341 term 18 leader 1 nextIndex[0]: 107  matchIndex[0]: 106
term 18 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 39195 term 18 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 18 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {5250971003301549061 16 100} {3763479106736149669 16 101} {4902056025625256805 16 102} {3021812243686852012 16 103} {2392653153243725560 16 104} {1615441371030806188 16 105} {5681807497686000402 16 106}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {5250971003301549061 16 100} {3763479106736149669 16 101} {4902056025625256805 16 102} {3021812243686852012 16 103} {2392653153243725560 16 104} {1615441371030806188 16 105} {5681807497686000402 16 106}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56111 term 18 leader 1 nextIndex[0]: 107  matchIndex[0]: 106
term 18 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 43832 term 18 leader 1 nextIndex[2]: 107  matchIndex[2]: 106
term 18 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {5250971003301549061 16 100} {3763479106736149669 16 101} {4902056025625256805 16 102} {3021812243686852012 16 103} {2392653153243725560 16 104} {1615441371030806188 16 105} {5681807497686000402 16 106}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {5250971003301549061 16 100} {3763479106736149669 16 101} {4902056025625256805 16 102} {3021812243686852012 16 103} {2392653153243725560 16 104} {1615441371030806188 16 105} {5681807497686000402 16 106}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20533 term 18 leader 1 nextIndex[0]: 107  matchIndex[0]: 106
term 18 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 78451 term 18 leader 1 nextIndex[2]: 107  matchIndex[2]: 106
term 18 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {5250971003301549061 16 100} {3763479106736149669 16 101} {4902056025625256805 16 102} {3021812243686852012 16 103} {2392653153243725560 16 104} {1615441371030806188 16 105} {5681807497686000402 16 106}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {5250971003301549061 16 100} {3763479106736149669 16 101} {4902056025625256805 16 102} {3021812243686852012 16 103} {2392653153243725560 16 104} {1615441371030806188 16 105} {5681807497686000402 16 106}]
------------------------------------------------------
flag 90566 term 18 leader 1 nextIndex[0]: 107  matchIndex[0]: 106
term 18 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 36240 term 18 leader 1 nextIndex[2]: 107  matchIndex[2]: 106
term 18 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {5250971003301549061 16 100} {3763479106736149669 16 101} {4902056025625256805 16 102} {3021812243686852012 16 103} {2392653153243725560 16 104} {1615441371030806188 16 105} {5681807497686000402 16 106}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {5250971003301549061 16 100} {3763479106736149669 16 101} {4902056025625256805 16 102} {3021812243686852012 16 103} {2392653153243725560 16 104} {1615441371030806188 16 105} {5681807497686000402 16 106}]
------------------------------------------------------
flag 10700 term 18 leader 1 nextIndex[0]: 107  matchIndex[0]: 106
term 18 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 73456 term 18 leader 1 nextIndex[2]: 107  matchIndex[2]: 106
term 18 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {5250971003301549061 16 100} {3763479106736149669 16 101} {4902056025625256805 16 102} {3021812243686852012 16 103} {2392653153243725560 16 104} {1615441371030806188 16 105} {5681807497686000402 16 106}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {5250971003301549061 16 100} {3763479106736149669 16 101} {4902056025625256805 16 102} {3021812243686852012 16 103} {2392653153243725560 16 104} {1615441371030806188 16 105} {5681807497686000402 16 106}]
------------------------------------------------------
flag 73692 term 18 leader 1 nextIndex[0]: 107  matchIndex[0]: 106
term 18 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 43636 term 18 leader 1 nextIndex[2]: 107  matchIndex[2]: 106
term 18 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {5250971003301549061 16 100} {3763479106736149669 16 101} {4902056025625256805 16 102} {3021812243686852012 16 103} {2392653153243725560 16 104} {1615441371030806188 16 105} {5681807497686000402 16 106}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {5250971003301549061 16 100} {3763479106736149669 16 101} {4902056025625256805 16 102} {3021812243686852012 16 103} {2392653153243725560 16 104} {1615441371030806188 16 105} {5681807497686000402 16 106}]
------------------------------------------------------
flag 31881 term 18 leader 1 nextIndex[0]: 107  matchIndex[0]: 106
term 18 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 2622 term 18 leader 1 nextIndex[2]: 107  matchIndex[2]: 106
term 18 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {5250971003301549061 16 100} {3763479106736149669 16 101} {4902056025625256805 16 102} {3021812243686852012 16 103} {2392653153243725560 16 104} {1615441371030806188 16 105} {5681807497686000402 16 106}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {5250971003301549061 16 100} {3763479106736149669 16 101} {4902056025625256805 16 102} {3021812243686852012 16 103} {2392653153243725560 16 104} {1615441371030806188 16 105} {5681807497686000402 16 106}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61954 term 18 leader 1 nextIndex[0]: 107  matchIndex[0]: 106
term 18 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 55389 term 18 leader 1 nextIndex[2]: 107  matchIndex[2]: 106
term 18 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {5250971003301549061 16 100} {3763479106736149669 16 101} {4902056025625256805 16 102} {3021812243686852012 16 103} {2392653153243725560 16 104} {1615441371030806188 16 105} {5681807497686000402 16 106}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {5250971003301549061 16 100} {3763479106736149669 16 101} {4902056025625256805 16 102} {3021812243686852012 16 103} {2392653153243725560 16 104} {1615441371030806188 16 105} {5681807497686000402 16 106}]
------------------------------------------------------
flag 94905 term 18 leader 1 nextIndex[0]: 107  matchIndex[0]: 106
term 18 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 61325 term 18 leader 1 nextIndex[2]: 107  matchIndex[2]: 106
term 18 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {5250971003301549061 16 100} {3763479106736149669 16 101} {4902056025625256805 16 102} {3021812243686852012 16 103} {2392653153243725560 16 104} {1615441371030806188 16 105} {5681807497686000402 16 106}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {5250971003301549061 16 100} {3763479106736149669 16 101} {4902056025625256805 16 102} {3021812243686852012 16 103} {2392653153243725560 16 104} {1615441371030806188 16 105} {5681807497686000402 16 106}]
------------------------------------------------------
term 18 server 0 not vote for server 2, 任期不够新
term 18 server 2 get outdate rpc reply from server 0
flag 53176 term 18 leader 1 nextIndex[0]: 107  matchIndex[0]: 106
term 18 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 98596 term 18 leader 1 nextIndex[2]: 107  matchIndex[2]: 106
term 18 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {5250971003301549061 16 100} {3763479106736149669 16 101} {4902056025625256805 16 102} {3021812243686852012 16 103} {2392653153243725560 16 104} {1615441371030806188 16 105} {5681807497686000402 16 106}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {5250971003301549061 16 100} {3763479106736149669 16 101} {4902056025625256805 16 102} {3021812243686852012 16 103} {2392653153243725560 16 104} {1615441371030806188 16 105} {5681807497686000402 16 106}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63874 term 18 leader 1 nextIndex[0]: 107  matchIndex[0]: 106
term 18 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 40725 term 18 leader 1 nextIndex[2]: 107  matchIndex[2]: 106
term 18 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {5250971003301549061 16 100} {3763479106736149669 16 101} {4902056025625256805 16 102} {3021812243686852012 16 103} {2392653153243725560 16 104} {1615441371030806188 16 105} {5681807497686000402 16 106}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {5250971003301549061 16 100} {3763479106736149669 16 101} {4902056025625256805 16 102} {3021812243686852012 16 103} {2392653153243725560 16 104} {1615441371030806188 16 105} {5681807497686000402 16 106}]
------------------------------------------------------
flag 94809 term 18 leader 1 nextIndex[0]: 107  matchIndex[0]: 106
term 18 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 91245 term 18 leader 1 nextIndex[2]: 107  matchIndex[2]: 106
term 18 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {5250971003301549061 16 100} {3763479106736149669 16 101} {4902056025625256805 16 102} {3021812243686852012 16 103} {2392653153243725560 16 104} {1615441371030806188 16 105} {5681807497686000402 16 106}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {5250971003301549061 16 100} {3763479106736149669 16 101} {4902056025625256805 16 102} {3021812243686852012 16 103} {2392653153243725560 16 104} {1615441371030806188 16 105} {5681807497686000402 16 106}]
------------------------------------------------------
flag 95057 term 18 leader 1 nextIndex[0]: 107  matchIndex[0]: 106
term 18 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 89359 term 18 leader 1 nextIndex[2]: 107  matchIndex[2]: 106
term 18 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {5250971003301549061 16 100} {3763479106736149669 16 101} {4902056025625256805 16 102} {3021812243686852012 16 103} {2392653153243725560 16 104} {1615441371030806188 16 105} {5681807497686000402 16 106}]
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {5250971003301549061 16 100} {3763479106736149669 16 101} {4902056025625256805 16 102} {3021812243686852012 16 103} {2392653153243725560 16 104} {1615441371030806188 16 105} {5681807497686000402 16 106}]
------------------------------------------------------
flag 5723 term 18 leader 1 nextIndex[0]: 107  matchIndex[0]: 106
term 18 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 47300 term 18 leader 1 nextIndex[2]: 107  matchIndex[2]: 106
term 18 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {5250971003301549061 16 100} {3763479106736149669 16 101} {4902056025625256805 16 102} {3021812243686852012 16 103} {2392653153243725560 16 104} {1615441371030806188 16 105} {5681807497686000402 16 106}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {5250971003301549061 16 100} {3763479106736149669 16 101} {4902056025625256805 16 102} {3021812243686852012 16 103} {2392653153243725560 16 104} {1615441371030806188 16 105} {5681807497686000402 16 106}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 18 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 18532 term 18 leader 1 nextIndex[0]: 107  matchIndex[0]: 106
term 18 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 45728 term 18 leader 1 nextIndex[2]: 107  matchIndex[2]: 106
term 18 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {5250971003301549061 16 100} {3763479106736149669 16 101} {4902056025625256805 16 102} {3021812243686852012 16 103} {2392653153243725560 16 104} {1615441371030806188 16 105} {5681807497686000402 16 106}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {5250971003301549061 16 100} {3763479106736149669 16 101} {4902056025625256805 16 102} {3021812243686852012 16 103} {2392653153243725560 16 104} {1615441371030806188 16 105} {5681807497686000402 16 106}]
------------------------------------------------------
flag 10833 term 18 leader 1 nextIndex[0]: 107  matchIndex[0]: 106
term 18 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 58541 term 18 leader 1 nextIndex[2]: 107  matchIndex[2]: 106
term 18 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {5250971003301549061 16 100} {3763479106736149669 16 101} {4902056025625256805 16 102} {3021812243686852012 16 103} {2392653153243725560 16 104} {1615441371030806188 16 105} {5681807497686000402 16 106}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {5250971003301549061 16 100} {3763479106736149669 16 101} {4902056025625256805 16 102} {3021812243686852012 16 103} {2392653153243725560 16 104} {1615441371030806188 16 105} {5681807497686000402 16 106}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55967 term 18 leader 1 nextIndex[0]: 107  matchIndex[0]: 106
term 18 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 10844 term 18 leader 1 nextIndex[2]: 107  matchIndex[2]: 106
term 18 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {5250971003301549061 16 100} {3763479106736149669 16 101} {4902056025625256805 16 102} {3021812243686852012 16 103} {2392653153243725560 16 104} {1615441371030806188 16 105} {5681807497686000402 16 106}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=107
update matchIndex[0]=106
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {5250971003301549061 16 100} {3763479106736149669 16 101} {4902056025625256805 16 102} {3021812243686852012 16 103} {2392653153243725560 16 104} {1615441371030806188 16 105} {5681807497686000402 16 106}]
------------------------------------------------------
client write log 5681807497686000402 (index 107) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5855 term 18 leader 1 nextIndex[0]: 107  matchIndex[0]: 106
term 18 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 25404 term 18 leader 1 nextIndex[2]: 107  matchIndex[2]: 106
term 18 leader 1 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=108
update matchIndex[2]=107
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {5250971003301549061 16 100} {3763479106736149669 16 101} {4902056025625256805 16 102} {3021812243686852012 16 103} {2392653153243725560 16 104} {1615441371030806188 16 105} {5681807497686000402 16 106} {5681807497686000402 18 107}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=108
update matchIndex[0]=107
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {5250971003301549061 16 100} {3763479106736149669 16 101} {4902056025625256805 16 102} {3021812243686852012 16 103} {2392653153243725560 16 104} {1615441371030806188 16 105} {5681807497686000402 16 106} {5681807497686000402 18 107}]
------------------------------------------------------
flag 7667 term 18 leader 1 nextIndex[0]: 108  matchIndex[0]: 107
term 18 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 16094 term 18 leader 1 nextIndex[2]: 108  matchIndex[2]: 107
term 18 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=108
update matchIndex[2]=107
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {5250971003301549061 16 100} {3763479106736149669 16 101} {4902056025625256805 16 102} {3021812243686852012 16 103} {2392653153243725560 16 104} {1615441371030806188 16 105} {5681807497686000402 16 106} {5681807497686000402 18 107}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=108
update matchIndex[0]=107
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {5250971003301549061 16 100} {3763479106736149669 16 101} {4902056025625256805 16 102} {3021812243686852012 16 103} {2392653153243725560 16 104} {1615441371030806188 16 105} {5681807497686000402 16 106} {5681807497686000402 18 107}]
------------------------------------------------------
flag 53117 term 18 leader 1 nextIndex[0]: 108  matchIndex[0]: 107
term 18 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 89422 term 18 leader 1 nextIndex[2]: 108  matchIndex[2]: 107
term 18 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=108
update matchIndex[2]=107
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {5250971003301549061 16 100} {3763479106736149669 16 101} {4902056025625256805 16 102} {3021812243686852012 16 103} {2392653153243725560 16 104} {1615441371030806188 16 105} {5681807497686000402 16 106} {5681807497686000402 18 107}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=108
update matchIndex[0]=107
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {5250971003301549061 16 100} {3763479106736149669 16 101} {4902056025625256805 16 102} {3021812243686852012 16 103} {2392653153243725560 16 104} {1615441371030806188 16 105} {5681807497686000402 16 106} {5681807497686000402 18 107}]
------------------------------------------------------
flag 70781 term 18 leader 1 nextIndex[0]: 108  matchIndex[0]: 107
term 18 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 49625 term 18 leader 1 nextIndex[2]: 108  matchIndex[2]: 107
term 18 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=108
update matchIndex[2]=107
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {5250971003301549061 16 100} {3763479106736149669 16 101} {4902056025625256805 16 102} {3021812243686852012 16 103} {2392653153243725560 16 104} {1615441371030806188 16 105} {5681807497686000402 16 106} {5681807497686000402 18 107}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=108
update matchIndex[0]=107
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {5250971003301549061 16 100} {3763479106736149669 16 101} {4902056025625256805 16 102} {3021812243686852012 16 103} {2392653153243725560 16 104} {1615441371030806188 16 105} {5681807497686000402 16 106} {5681807497686000402 18 107}]
------------------------------------------------------
flag 16999 term 18 leader 1 nextIndex[0]: 108  matchIndex[0]: 107
term 18 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 63026 term 18 leader 1 nextIndex[2]: 108  matchIndex[2]: 107
term 18 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=108
update matchIndex[2]=107
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {5250971003301549061 16 100} {3763479106736149669 16 101} {4902056025625256805 16 102} {3021812243686852012 16 103} {2392653153243725560 16 104} {1615441371030806188 16 105} {5681807497686000402 16 106} {5681807497686000402 18 107}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=108
update matchIndex[0]=107
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {5250971003301549061 16 100} {3763479106736149669 16 101} {4902056025625256805 16 102} {3021812243686852012 16 103} {2392653153243725560 16 104} {1615441371030806188 16 105} {5681807497686000402 16 106} {5681807497686000402 18 107}]
------------------------------------------------------
flag 23203 term 18 leader 1 nextIndex[0]: 108  matchIndex[0]: 107
term 18 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 72795 term 18 leader 1 nextIndex[2]: 108  matchIndex[2]: 107
term 18 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=108
update matchIndex[0]=107
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {5250971003301549061 16 100} {3763479106736149669 16 101} {4902056025625256805 16 102} {3021812243686852012 16 103} {2392653153243725560 16 104} {1615441371030806188 16 105} {5681807497686000402 16 106} {5681807497686000402 18 107}]
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=108
update matchIndex[2]=107
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {5250971003301549061 16 100} {3763479106736149669 16 101} {4902056025625256805 16 102} {3021812243686852012 16 103} {2392653153243725560 16 104} {1615441371030806188 16 105} {5681807497686000402 16 106} {5681807497686000402 18 107}]
------------------------------------------------------
flag 38997 term 18 leader 1 nextIndex[0]: 108  matchIndex[0]: 107
term 18 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 54490 term 18 leader 1 nextIndex[2]: 108  matchIndex[2]: 107
term 18 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=108
update matchIndex[2]=107
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {5250971003301549061 16 100} {3763479106736149669 16 101} {4902056025625256805 16 102} {3021812243686852012 16 103} {2392653153243725560 16 104} {1615441371030806188 16 105} {5681807497686000402 16 106} {5681807497686000402 18 107}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=108
update matchIndex[0]=107
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {5250971003301549061 16 100} {3763479106736149669 16 101} {4902056025625256805 16 102} {3021812243686852012 16 103} {2392653153243725560 16 104} {1615441371030806188 16 105} {5681807497686000402 16 106} {5681807497686000402 18 107}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 94743 term 18 leader 1 nextIndex[0]: 108  matchIndex[0]: 107
term 18 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 56841 term 18 leader 1 nextIndex[2]: 108  matchIndex[2]: 107
term 18 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 18 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 18 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 82110 term 18 leader 1 nextIndex[0]: 108  matchIndex[0]: 107
term 18 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 9874 term 18 leader 1 nextIndex[2]: 108  matchIndex[2]: 107
term 18 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 108->107
------------------------------------------------------
flag 76701 term 18 leader 1 nextIndex[0]: 108  matchIndex[0]: 107
term 18 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 18 leader 1 nextIndex[2]: 0  matchIndex[2]: 107
term 18 leader 1 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 16
------------------------------------------------------
term 18 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 100 matchIndex[2] 99 
------------------------------------------------------------------------
term 19 server 2 vote for server 0
term 19 server 0 get vote from server 2
term 19 server 0 become leader
------------------------------------------------------
flag 95639 term 19 leader 0 nextIndex[1]: 108  matchIndex[1]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 41440 term 19 leader 0 nextIndex[2]: 108  matchIndex[2]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=108
update matchIndex[2]=107
update leader CommitIndex=107
leader log:
[{snapshot 16 99} {5250971003301549061 16 100} {3763479106736149669 16 101} {4902056025625256805 16 102} {3021812243686852012 16 103} {2392653153243725560 16 104} {1615441371030806188 16 105} {5681807497686000402 16 106} {5681807497686000402 18 107}]
------------------------------------------------------
flag 61512 term 18 leader 1 nextIndex[0]: 108  matchIndex[0]: 107
term 18 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 74638 term 18 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 18 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
client write log 3063413000536054836 (index 108) to leader 0
flag 17737 term 19 leader 0 nextIndex[1]: 108  matchIndex[1]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 10699 term 19 leader 0 nextIndex[2]: 108  matchIndex[2]: 107
term 19 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=108
leader log:
[{snapshot 16 99} {5250971003301549061 16 100} {3763479106736149669 16 101} {4902056025625256805 16 102} {3021812243686852012 16 103} {2392653153243725560 16 104} {1615441371030806188 16 105} {5681807497686000402 16 106} {5681807497686000402 18 107} {3063413000536054836 19 108}]
------------------------------------------------------
flag 81602 term 18 leader 1 nextIndex[0]: 108  matchIndex[0]: 107
term 18 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 47357 term 18 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 18 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
flag 34378 term 19 leader 0 nextIndex[1]: 108  matchIndex[1]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 108 
------------------------------------------------------
flag 8536 term 19 leader 0 nextIndex[2]: 109  matchIndex[2]: 108
term 19 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 19 leaderCommit: 108 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:108 
------------------------------------------------------
flag 78208 term 18 leader 1 nextIndex[0]: 108  matchIndex[0]: 107
term 18 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 27365 term 18 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 18 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=109
update matchIndex[2]=108
update leader CommitIndex=108
leader log:
[{snapshot 16 99} {5250971003301549061 16 100} {3763479106736149669 16 101} {4902056025625256805 16 102} {3021812243686852012 16 103} {2392653153243725560 16 104} {1615441371030806188 16 105} {5681807497686000402 16 106} {5681807497686000402 18 107} {3063413000536054836 19 108}]
------------------------------------------------------
client write log 500295226825789669 (index 109) to leader 0
flag 44241 term 18 leader 1 nextIndex[0]: 108  matchIndex[0]: 107
term 18 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 50705 term 18 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 18 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
flag 27092 term 19 leader 0 nextIndex[1]: 108  matchIndex[1]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 108 
------------------------------------------------------
flag 42157 term 19 leader 0 nextIndex[2]: 109  matchIndex[2]: 108
term 19 leader 0 sendAppendEntries PrevLogIndex: 108  PrevLogTerm: 19 leaderCommit: 108 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:108 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=109
leader log:
[{snapshot 16 99} {5250971003301549061 16 100} {3763479106736149669 16 101} {4902056025625256805 16 102} {3021812243686852012 16 103} {2392653153243725560 16 104} {1615441371030806188 16 105} {5681807497686000402 16 106} {5681807497686000402 18 107} {3063413000536054836 19 108} {500295226825789669 19 109}]
------------------------------------------------------
term 19 Server0 start snapshot! index=109
term 19 server0 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=109
-------------------------------------------------------------
flag 85450 term 18 leader 1 nextIndex[0]: 108  matchIndex[0]: 107
term 18 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 430 term 18 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 18 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
term 19 leader 0 nextIndex[1]: 108  matchIndex[1]: 0
term 19 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 19
------------------------------------------------------
flag 4490 term 19 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=109
leader log:
[{snapshot 19 109}]
------------------------------------------------------
term 19 Server2 start snapshot! index=109
term 19 server2 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=109
-------------------------------------------------------------
!!!!!!connect server 1
client write log 8482313423673796708 (index 108) to leader 1
term 19 leader 0 nextIndex[1]: 108  matchIndex[1]: 0
term 19 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 19
------------------------------------------------------
flag 40713 term 19 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
flag 11087 term 18 leader 1 nextIndex[0]: 108  matchIndex[0]: 107
term 18 leader 1 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 18 leaderCommit: 107 
------------------------------------------------------
flag 23782 term 18 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 18 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 107 
------------------------------------------------------
term 19 server 1 InstallSnapshot success
------------------------------------------------------
term 19 server 2 AppendEntries false 领导者任期过期 args.Term 18
------------------------------------------------------
term 19 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 110 matchIndex[1] 109 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 109 rf.lastIncludedTerm 19 rf.commitIndex 109 rf.lastApplied 109
term 19 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
term 19 server 0 AppendEntries false 领导者任期过期 args.Term 18
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=109
leader log:
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
[{snapshot 19 109}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65491 term 19 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
flag 33354 term 19 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=109
leader log:
[{snapshot 19 109}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=110
update matchIndex[1]=109
update leader CommitIndex=109
leader log:
[{snapshot 19 109}]
------------------------------------------------------
flag 34090 term 19 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
flag 49177 term 19 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=109
leader log:
[{snapshot 19 109}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=110
update matchIndex[1]=109
update leader CommitIndex=109
leader log:
[{snapshot 19 109}]
------------------------------------------------------
flag 98386 term 19 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
flag 87031 term 19 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=110
update matchIndex[1]=109
update leader CommitIndex=109
leader log:
[{snapshot 19 109}]
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=109
leader log:
[{snapshot 19 109}]
------------------------------------------------------
term 19 server 1 not vote for server 0, 日志不够新
term 19 server 0 get outdate rpc reply from server 1
flag 99566 term 19 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
flag 90283 term 19 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=109
leader log:
[{snapshot 19 109}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=110
update matchIndex[1]=109
update leader CommitIndex=109
leader log:
[{snapshot 19 109}]
------------------------------------------------------
term 19 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 50058 term 19 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
flag 22271 term 19 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=109
leader log:
[{snapshot 19 109}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=110
update matchIndex[1]=109
update leader CommitIndex=109
leader log:
[{snapshot 19 109}]
------------------------------------------------------
flag 85445 term 19 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
flag 45257 term 19 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=109
leader log:
[{snapshot 19 109}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=110
update matchIndex[1]=109
update leader CommitIndex=109
leader log:
[{snapshot 19 109}]
------------------------------------------------------
flag 70988 term 19 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
flag 18524 term 19 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=109
leader log:
[{snapshot 19 109}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=110
update matchIndex[1]=109
update leader CommitIndex=109
leader log:
[{snapshot 19 109}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 110->109
------------------------------------------------------
term 19 leader 0 nextIndex[1]: 0  matchIndex[1]: 109
term 19 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 19
------------------------------------------------------
flag 14764 term 19 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
term 19 server 1 InstallSnapshot fail
term 19 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=109
leader log:
[{snapshot 19 109}]
------------------------------------------------------
rf.commitIndex 109 args.LastIncludedIndex 109
------------------------------------------------------
term 19 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 110 matchIndex[1] 109 
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94936 term 19 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
flag 12318 term 19 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=109
leader log:
[{snapshot 19 109}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=110
update matchIndex[1]=109
update leader CommitIndex=109
leader log:
[{snapshot 19 109}]
------------------------------------------------------
term 19 server 1 not vote for server 2, 任期不够新
term 19 server 2 get outdate rpc reply from server 1
flag 72857 term 19 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
flag 73381 term 19 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=109
leader log:
[{snapshot 19 109}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=110
update matchIndex[1]=109
update leader CommitIndex=109
leader log:
[{snapshot 19 109}]
------------------------------------------------------
flag 17066 term 19 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
flag 35884 term 19 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=109
leader log:
[{snapshot 19 109}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=110
update matchIndex[1]=109
update leader CommitIndex=109
leader log:
[{snapshot 19 109}]
------------------------------------------------------
flag 49288 term 19 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
flag 78912 term 19 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=109
leader log:
[{snapshot 19 109}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=110
update matchIndex[1]=109
update leader CommitIndex=109
leader log:
[{snapshot 19 109}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41991 term 19 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
flag 33655 term 19 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=110
update matchIndex[1]=109
update leader CommitIndex=109
leader log:
[{snapshot 19 109}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=109
leader log:
[{snapshot 19 109}]
------------------------------------------------------
flag 37763 term 19 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
flag 20498 term 19 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=109
leader log:
[{snapshot 19 109}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=110
update matchIndex[1]=109
update leader CommitIndex=109
leader log:
[{snapshot 19 109}]
------------------------------------------------------
flag 24214 term 19 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
flag 75248 term 19 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=109
leader log:
[{snapshot 19 109}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=110
update matchIndex[1]=109
update leader CommitIndex=109
leader log:
[{snapshot 19 109}]
------------------------------------------------------
flag 7631 term 19 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
flag 42872 term 19 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=109
leader log:
[{snapshot 19 109}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=110
update matchIndex[1]=109
update leader CommitIndex=109
leader log:
[{snapshot 19 109}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 110->109
------------------------------------------------------
term 19 leader 0 nextIndex[1]: 0  matchIndex[1]: 109
term 19 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 19
------------------------------------------------------
flag 18140 term 19 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=109
leader log:
[{snapshot 19 109}]
------------------------------------------------------
term 19 server 1 InstallSnapshot fail
rf.commitIndex 109 args.LastIncludedIndex 109
------------------------------------------------------
term 19 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 110 matchIndex[1] 109 
------------------------------------------------------------------------
flag 27171 term 19 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
flag 35351 term 19 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=109
leader log:
[{snapshot 19 109}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=110
update matchIndex[1]=109
update leader CommitIndex=109
leader log:
[{snapshot 19 109}]
------------------------------------------------------
flag 7425 term 19 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
flag 65195 term 19 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=110
update matchIndex[1]=109
update leader CommitIndex=109
leader log:
[{snapshot 19 109}]
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=109
leader log:
[{snapshot 19 109}]
------------------------------------------------------
client write log 8482313423673796708 (index 110) to leader 0
flag 79979 term 19 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
flag 91406 term 19 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 109 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 19 109} {8482313423673796708 19 110}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=110
leader log:
[{snapshot 19 109} {8482313423673796708 19 110}]
------------------------------------------------------
flag 94385 term 19 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 19 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 110 
------------------------------------------------------
flag 23704 term 19 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 19 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 110 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:110 
term 19 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=110
leader log:
[{snapshot 19 109} {8482313423673796708 19 110}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 19 109} {8482313423673796708 19 110}]
------------------------------------------------------
term 19 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 67074 term 19 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 19 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 110 
------------------------------------------------------
flag 57281 term 19 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 19 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 110 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 19 109} {8482313423673796708 19 110}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=110
leader log:
[{snapshot 19 109} {8482313423673796708 19 110}]
------------------------------------------------------
flag 36333 term 19 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 19 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 110 
------------------------------------------------------
flag 58927 term 19 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 19 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 110 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 19 109} {8482313423673796708 19 110}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=110
leader log:
[{snapshot 19 109} {8482313423673796708 19 110}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63117 term 19 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 19 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 110 
------------------------------------------------------
flag 83379 term 19 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 19 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 110 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
term 19 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
[{snapshot 19 109} {8482313423673796708 19 110}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=110
leader log:
[{snapshot 19 109} {8482313423673796708 19 110}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 111->110
------------------------------------------------------
term 19 leader 0 nextIndex[1]: 0  matchIndex[1]: 110
term 19 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 19
------------------------------------------------------
flag 53372 term 19 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 19 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 110 
------------------------------------------------------
term 19 server 1 InstallSnapshot fail
rf.commitIndex 110 args.LastIncludedIndex 109
------------------------------------------------------
term 19 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 110 matchIndex[1] 109 
------------------------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 19 109} {8482313423673796708 19 110}]
------------------------------------------------------
flag 92451 term 19 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 110 
------------------------------------------------------
flag 95329 term 19 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 19 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 110 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 19 109} {8482313423673796708 19 110}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=110
leader log:
[{snapshot 19 109} {8482313423673796708 19 110}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 7066156871687675610 (index 111) to leader 0
flag 6240 term 19 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 19 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 110 
------------------------------------------------------
flag 989 term 19 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 19 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 110 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=111
leader log:
[{snapshot 19 109} {8482313423673796708 19 110} {7066156871687675610 19 111}]
------------------------------------------------------
flag 24981 term 19 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 19 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 111 
------------------------------------------------------
flag 65808 term 19 leader 0 nextIndex[2]: 112  matchIndex[2]: 111
term 19 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 19 leaderCommit: 111 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=111
leader log:
[{snapshot 19 109} {8482313423673796708 19 110} {7066156871687675610 19 111}]
------------------------------------------------------
client write log 7706069037377944792 (index 112) to leader 0
client write log 3706699089704562854 (index 113) to leader 0
client write log 5433918894424866802 (index 114) to leader 0
client write log 6946506587254804159 (index 115) to leader 0
client write log 4216413861368577342 (index 116) to leader 0
client write log 3571429789567871352 (index 117) to leader 0
client write log 4001725226775114571 (index 118) to leader 0
client write log 1841077848776235292 (index 119) to leader 0
client write log 5131797185184296254 (index 120) to leader 0
client write log 3895556314656980594 (index 121) to leader 0
client write log 8508781234531942478 (index 122) to leader 0
client write log 6186342550133813304 (index 123) to leader 0
client write log 6034191479313266647 (index 124) to leader 0
flag 308 term 19 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 19 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 111 
------------------------------------------------------
flag 48349 term 19 leader 0 nextIndex[2]: 112  matchIndex[2]: 111
term 19 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 19 leaderCommit: 111 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 109} {8482313423673796708 19 110} {7066156871687675610 19 111} {7706069037377944792 19 112} {3706699089704562854 19 113} {5433918894424866802 19 114} {6946506587254804159 19 115} {4216413861368577342 19 116} {3571429789567871352 19 117} {4001725226775114571 19 118} {1841077848776235292 19 119} {5131797185184296254 19 120} {3895556314656980594 19 121} {8508781234531942478 19 122} {6186342550133813304 19 123} {6034191479313266647 19 124}]
------------------------------------------------------
term 19 Server0 start snapshot! index=119
term 19 server0 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=124
-------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 111->110
------------------------------------------------------
term 19 leader 0 nextIndex[1]: 0  matchIndex[1]: 110
term 19 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 19
------------------------------------------------------
flag 78186 term 19 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 19 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {5131797185184296254 19 120} {3895556314656980594 19 121} {8508781234531942478 19 122} {6186342550133813304 19 123} {6034191479313266647 19 124}]
------------------------------------------------------
term 19 Server2 start snapshot! index=119
term 19 server2 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=124
-------------------------------------------------------------
!!!!!!connect server 1
client write log 2348361439566301334 (index 125) to leader 0
term 19 leader 0 nextIndex[1]: 0  matchIndex[1]: 110
term 19 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 19
------------------------------------------------------
flag 87478 term 19 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 19 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
term 20 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
term 19 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 21 server 2 vote for server 0
term 21 server 0 get vote from server 2
term 21 server 1 vote for server 0
term 21 server 0 become leader
------------------------------------------------------
term 21 server 0 get outdate rpc reply from server 1
flag 68082 term 21 leader 0 nextIndex[1]: 126  matchIndex[1]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
flag 63200 term 21 leader 0 nextIndex[2]: 126  matchIndex[2]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
term 21 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 126->125
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {5131797185184296254 19 120} {3895556314656980594 19 121} {8508781234531942478 19 122} {6186342550133813304 19 123} {6034191479313266647 19 124} {2348361439566301334 19 125}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 21 leader 0 nextIndex[1]: 111  matchIndex[1]: 0
term 21 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 19
------------------------------------------------------
flag 52356 term 21 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {5131797185184296254 19 120} {3895556314656980594 19 121} {8508781234531942478 19 122} {6186342550133813304 19 123} {6034191479313266647 19 124} {2348361439566301334 19 125}]
------------------------------------------------------
term 21 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 119 rf.lastIncludedTerm 19 rf.commitIndex 119 rf.lastApplied 119
term 21 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 120 matchIndex[1] 119 
------------------------------------------------------------------------
flag 25081 term 21 leader 0 nextIndex[1]: 120  matchIndex[1]: 119
term 21 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
flag 9965 term 21 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {5131797185184296254 19 120} {3895556314656980594 19 121} {8508781234531942478 19 122} {6186342550133813304 19 123} {6034191479313266647 19 124} {2348361439566301334 19 125}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {5131797185184296254 19 120} {3895556314656980594 19 121} {8508781234531942478 19 122} {6186342550133813304 19 123} {6034191479313266647 19 124} {2348361439566301334 19 125}]
------------------------------------------------------
flag 87647 term 21 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
flag 86214 term 21 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {5131797185184296254 19 120} {3895556314656980594 19 121} {8508781234531942478 19 122} {6186342550133813304 19 123} {6034191479313266647 19 124} {2348361439566301334 19 125}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {5131797185184296254 19 120} {3895556314656980594 19 121} {8508781234531942478 19 122} {6186342550133813304 19 123} {6034191479313266647 19 124} {2348361439566301334 19 125}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36245 term 21 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
flag 46455 term 21 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {5131797185184296254 19 120} {3895556314656980594 19 121} {8508781234531942478 19 122} {6186342550133813304 19 123} {6034191479313266647 19 124} {2348361439566301334 19 125}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {5131797185184296254 19 120} {3895556314656980594 19 121} {8508781234531942478 19 122} {6186342550133813304 19 123} {6034191479313266647 19 124} {2348361439566301334 19 125}]
------------------------------------------------------
flag 10445 term 21 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
flag 44215 term 21 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {5131797185184296254 19 120} {3895556314656980594 19 121} {8508781234531942478 19 122} {6186342550133813304 19 123} {6034191479313266647 19 124} {2348361439566301334 19 125}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {5131797185184296254 19 120} {3895556314656980594 19 121} {8508781234531942478 19 122} {6186342550133813304 19 123} {6034191479313266647 19 124} {2348361439566301334 19 125}]
------------------------------------------------------
flag 22109 term 21 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
flag 37563 term 21 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {5131797185184296254 19 120} {3895556314656980594 19 121} {8508781234531942478 19 122} {6186342550133813304 19 123} {6034191479313266647 19 124} {2348361439566301334 19 125}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {5131797185184296254 19 120} {3895556314656980594 19 121} {8508781234531942478 19 122} {6186342550133813304 19 123} {6034191479313266647 19 124} {2348361439566301334 19 125}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80837 term 21 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
flag 96200 term 21 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {5131797185184296254 19 120} {3895556314656980594 19 121} {8508781234531942478 19 122} {6186342550133813304 19 123} {6034191479313266647 19 124} {2348361439566301334 19 125}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {5131797185184296254 19 120} {3895556314656980594 19 121} {8508781234531942478 19 122} {6186342550133813304 19 123} {6034191479313266647 19 124} {2348361439566301334 19 125}]
------------------------------------------------------
term 21 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 14172 term 21 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
flag 14678 term 21 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {5131797185184296254 19 120} {3895556314656980594 19 121} {8508781234531942478 19 122} {6186342550133813304 19 123} {6034191479313266647 19 124} {2348361439566301334 19 125}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {5131797185184296254 19 120} {3895556314656980594 19 121} {8508781234531942478 19 122} {6186342550133813304 19 123} {6034191479313266647 19 124} {2348361439566301334 19 125}]
------------------------------------------------------
flag 63504 term 21 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
flag 38921 term 21 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {5131797185184296254 19 120} {3895556314656980594 19 121} {8508781234531942478 19 122} {6186342550133813304 19 123} {6034191479313266647 19 124} {2348361439566301334 19 125}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {5131797185184296254 19 120} {3895556314656980594 19 121} {8508781234531942478 19 122} {6186342550133813304 19 123} {6034191479313266647 19 124} {2348361439566301334 19 125}]
------------------------------------------------------
flag 87924 term 21 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
flag 66563 term 21 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {5131797185184296254 19 120} {3895556314656980594 19 121} {8508781234531942478 19 122} {6186342550133813304 19 123} {6034191479313266647 19 124} {2348361439566301334 19 125}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {5131797185184296254 19 120} {3895556314656980594 19 121} {8508781234531942478 19 122} {6186342550133813304 19 123} {6034191479313266647 19 124} {2348361439566301334 19 125}]
------------------------------------------------------
flag 15141 term 21 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
flag 88319 term 21 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {5131797185184296254 19 120} {3895556314656980594 19 121} {8508781234531942478 19 122} {6186342550133813304 19 123} {6034191479313266647 19 124} {2348361439566301334 19 125}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {5131797185184296254 19 120} {3895556314656980594 19 121} {8508781234531942478 19 122} {6186342550133813304 19 123} {6034191479313266647 19 124} {2348361439566301334 19 125}]
------------------------------------------------------
flag 43865 term 21 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
flag 41395 term 21 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {5131797185184296254 19 120} {3895556314656980594 19 121} {8508781234531942478 19 122} {6186342550133813304 19 123} {6034191479313266647 19 124} {2348361439566301334 19 125}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {5131797185184296254 19 120} {3895556314656980594 19 121} {8508781234531942478 19 122} {6186342550133813304 19 123} {6034191479313266647 19 124} {2348361439566301334 19 125}]
------------------------------------------------------
flag 11884 term 21 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
flag 62783 term 21 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {5131797185184296254 19 120} {3895556314656980594 19 121} {8508781234531942478 19 122} {6186342550133813304 19 123} {6034191479313266647 19 124} {2348361439566301334 19 125}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {5131797185184296254 19 120} {3895556314656980594 19 121} {8508781234531942478 19 122} {6186342550133813304 19 123} {6034191479313266647 19 124} {2348361439566301334 19 125}]
------------------------------------------------------
flag 87463 term 21 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
flag 26538 term 21 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {5131797185184296254 19 120} {3895556314656980594 19 121} {8508781234531942478 19 122} {6186342550133813304 19 123} {6034191479313266647 19 124} {2348361439566301334 19 125}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {5131797185184296254 19 120} {3895556314656980594 19 121} {8508781234531942478 19 122} {6186342550133813304 19 123} {6034191479313266647 19 124} {2348361439566301334 19 125}]
------------------------------------------------------
flag 36627 term 21 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
flag 32765 term 21 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {5131797185184296254 19 120} {3895556314656980594 19 121} {8508781234531942478 19 122} {6186342550133813304 19 123} {6034191479313266647 19 124} {2348361439566301334 19 125}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {5131797185184296254 19 120} {3895556314656980594 19 121} {8508781234531942478 19 122} {6186342550133813304 19 123} {6034191479313266647 19 124} {2348361439566301334 19 125}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82740 term 21 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
flag 74863 term 21 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {5131797185184296254 19 120} {3895556314656980594 19 121} {8508781234531942478 19 122} {6186342550133813304 19 123} {6034191479313266647 19 124} {2348361439566301334 19 125}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {5131797185184296254 19 120} {3895556314656980594 19 121} {8508781234531942478 19 122} {6186342550133813304 19 123} {6034191479313266647 19 124} {2348361439566301334 19 125}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14422 term 21 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
flag 82714 term 21 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {5131797185184296254 19 120} {3895556314656980594 19 121} {8508781234531942478 19 122} {6186342550133813304 19 123} {6034191479313266647 19 124} {2348361439566301334 19 125}]
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {5131797185184296254 19 120} {3895556314656980594 19 121} {8508781234531942478 19 122} {6186342550133813304 19 123} {6034191479313266647 19 124} {2348361439566301334 19 125}]
------------------------------------------------------
flag 85276 term 21 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
flag 99221 term 21 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {5131797185184296254 19 120} {3895556314656980594 19 121} {8508781234531942478 19 122} {6186342550133813304 19 123} {6034191479313266647 19 124} {2348361439566301334 19 125}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {5131797185184296254 19 120} {3895556314656980594 19 121} {8508781234531942478 19 122} {6186342550133813304 19 123} {6034191479313266647 19 124} {2348361439566301334 19 125}]
------------------------------------------------------
client write log 2348361439566301334 (index 126) to leader 0
term 21 server 2 not vote for server 1, 任期不够新
term 21 server 1 get outdate rpc reply from server 2
flag 25093 term 21 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
flag 21458 term 21 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=127
update matchIndex[2]=126
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {5131797185184296254 19 120} {3895556314656980594 19 121} {8508781234531942478 19 122} {6186342550133813304 19 123} {6034191479313266647 19 124} {2348361439566301334 19 125} {2348361439566301334 21 126}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {5131797185184296254 19 120} {3895556314656980594 19 121} {8508781234531942478 19 122} {6186342550133813304 19 123} {6034191479313266647 19 124} {2348361439566301334 19 125} {2348361439566301334 21 126}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2099 term 21 leader 0 nextIndex[1]: 127  matchIndex[1]: 126
term 21 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 126 
------------------------------------------------------
flag 73124 term 21 leader 0 nextIndex[2]: 127  matchIndex[2]: 126
term 21 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 126 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=127
update matchIndex[2]=126
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {5131797185184296254 19 120} {3895556314656980594 19 121} {8508781234531942478 19 122} {6186342550133813304 19 123} {6034191479313266647 19 124} {2348361439566301334 19 125} {2348361439566301334 21 126}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {5131797185184296254 19 120} {3895556314656980594 19 121} {8508781234531942478 19 122} {6186342550133813304 19 123} {6034191479313266647 19 124} {2348361439566301334 19 125} {2348361439566301334 21 126}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24856 term 21 leader 0 nextIndex[1]: 127  matchIndex[1]: 126
term 21 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 126 
------------------------------------------------------
flag 77649 term 21 leader 0 nextIndex[2]: 127  matchIndex[2]: 126
term 21 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 126 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=127
update matchIndex[2]=126
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {5131797185184296254 19 120} {3895556314656980594 19 121} {8508781234531942478 19 122} {6186342550133813304 19 123} {6034191479313266647 19 124} {2348361439566301334 19 125} {2348361439566301334 21 126}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {5131797185184296254 19 120} {3895556314656980594 19 121} {8508781234531942478 19 122} {6186342550133813304 19 123} {6034191479313266647 19 124} {2348361439566301334 19 125} {2348361439566301334 21 126}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64952 term 21 leader 0 nextIndex[1]: 127  matchIndex[1]: 126
term 21 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 126 
------------------------------------------------------
flag 88135 term 21 leader 0 nextIndex[2]: 127  matchIndex[2]: 126
term 21 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 126 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=127
update matchIndex[2]=126
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {5131797185184296254 19 120} {3895556314656980594 19 121} {8508781234531942478 19 122} {6186342550133813304 19 123} {6034191479313266647 19 124} {2348361439566301334 19 125} {2348361439566301334 21 126}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {5131797185184296254 19 120} {3895556314656980594 19 121} {8508781234531942478 19 122} {6186342550133813304 19 123} {6034191479313266647 19 124} {2348361439566301334 19 125} {2348361439566301334 21 126}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26764 term 21 leader 0 nextIndex[1]: 127  matchIndex[1]: 126
term 21 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 126 
------------------------------------------------------
flag 301 term 21 leader 0 nextIndex[2]: 127  matchIndex[2]: 126
term 21 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 126 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=127
update matchIndex[2]=126
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {5131797185184296254 19 120} {3895556314656980594 19 121} {8508781234531942478 19 122} {6186342550133813304 19 123} {6034191479313266647 19 124} {2348361439566301334 19 125} {2348361439566301334 21 126}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {5131797185184296254 19 120} {3895556314656980594 19 121} {8508781234531942478 19 122} {6186342550133813304 19 123} {6034191479313266647 19 124} {2348361439566301334 19 125} {2348361439566301334 21 126}]
------------------------------------------------------
flag 24931 term 21 leader 0 nextIndex[1]: 127  matchIndex[1]: 126
term 21 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 126 
------------------------------------------------------
flag 45000 term 21 leader 0 nextIndex[2]: 127  matchIndex[2]: 126
term 21 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 126 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=127
update matchIndex[2]=126
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {5131797185184296254 19 120} {3895556314656980594 19 121} {8508781234531942478 19 122} {6186342550133813304 19 123} {6034191479313266647 19 124} {2348361439566301334 19 125} {2348361439566301334 21 126}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {5131797185184296254 19 120} {3895556314656980594 19 121} {8508781234531942478 19 122} {6186342550133813304 19 123} {6034191479313266647 19 124} {2348361439566301334 19 125} {2348361439566301334 21 126}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 6012411038331571956 (index 127) to leader 0
flag 39257 term 21 leader 0 nextIndex[1]: 127  matchIndex[1]: 126
term 21 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 126 
------------------------------------------------------
flag 42865 term 21 leader 0 nextIndex[2]: 127  matchIndex[2]: 126
term 21 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 126 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=127
leader log:
[{snapshot 19 119} {5131797185184296254 19 120} {3895556314656980594 19 121} {8508781234531942478 19 122} {6186342550133813304 19 123} {6034191479313266647 19 124} {2348361439566301334 19 125} {2348361439566301334 21 126} {6012411038331571956 21 127}]
------------------------------------------------------
flag 20887 term 21 leader 0 nextIndex[1]: 127  matchIndex[1]: 126
term 21 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
flag 39573 term 21 leader 0 nextIndex[2]: 128  matchIndex[2]: 127
term 21 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=127
leader log:
[{snapshot 19 119} {5131797185184296254 19 120} {3895556314656980594 19 121} {8508781234531942478 19 122} {6186342550133813304 19 123} {6034191479313266647 19 124} {2348361439566301334 19 125} {2348361439566301334 21 126} {6012411038331571956 21 127}]
------------------------------------------------------
client write log 5122652496800989352 (index 128) to leader 0
client write log 123112535400729707 (index 129) to leader 0
client write log 8440473646014549363 (index 130) to leader 0
client write log 5572897128271664101 (index 131) to leader 0
client write log 6722278638119800997 (index 132) to leader 0
client write log 4031624989430859251 (index 133) to leader 0
client write log 5867214371843052894 (index 134) to leader 0
client write log 4255754803038746714 (index 135) to leader 0
client write log 2047013723101373151 (index 136) to leader 0
client write log 2122013500631296229 (index 137) to leader 0
client write log 6965735713595076075 (index 138) to leader 0
client write log 8171812720755624163 (index 139) to leader 0
client write log 6240029353149661333 (index 140) to leader 0
client write log 6166802807343317942 (index 141) to leader 0
client write log 4820577510876395643 (index 142) to leader 0
flag 6393 term 21 leader 0 nextIndex[1]: 127  matchIndex[1]: 126
term 21 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
flag 96762 term 21 leader 0 nextIndex[2]: 128  matchIndex[2]: 127
term 21 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=142
leader log:
[{snapshot 19 119} {5131797185184296254 19 120} {3895556314656980594 19 121} {8508781234531942478 19 122} {6186342550133813304 19 123} {6034191479313266647 19 124} {2348361439566301334 19 125} {2348361439566301334 21 126} {6012411038331571956 21 127} {5122652496800989352 21 128} {123112535400729707 21 129} {8440473646014549363 21 130} {5572897128271664101 21 131} {6722278638119800997 21 132} {4031624989430859251 21 133} {5867214371843052894 21 134} {4255754803038746714 21 135} {2047013723101373151 21 136} {2122013500631296229 21 137} {6965735713595076075 21 138} {8171812720755624163 21 139} {6240029353149661333 21 140} {6166802807343317942 21 141} {4820577510876395643 21 142}]
------------------------------------------------------
term 21 Server0 start snapshot! index=129
term 21 server0 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=142
-------------------------------------------------------------
term 21 Server0 start snapshot! index=139
term 21 server0 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=142
-------------------------------------------------------------
term 21 leader 0 nextIndex[1]: 127  matchIndex[1]: 126
term 21 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 21
------------------------------------------------------
flag 82907 term 21 leader 0 nextIndex[2]: 143  matchIndex[2]: 142
term 21 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 21 leaderCommit: 142 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=142
leader log:
[{snapshot 21 139} {6240029353149661333 21 140} {6166802807343317942 21 141} {4820577510876395643 21 142}]
------------------------------------------------------
term 21 Server2 start snapshot! index=129
term 21 server2 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=142
-------------------------------------------------------------
term 21 Server2 start snapshot! index=139
term 21 server2 snapshot success
lastIncludedIndex=139 lastApplied=140 lastIndex=142
-------------------------------------------------------------
!!!!!!connect server 1
client write log 8385900947278357798 (index 143) to leader 0
term 21 leader 0 nextIndex[1]: 127  matchIndex[1]: 126
term 21 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 21
------------------------------------------------------
flag 85217 term 21 leader 0 nextIndex[2]: 143  matchIndex[2]: 142
term 21 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 21 leaderCommit: 142 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
term 22 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 21 139} {6240029353149661333 21 140} {6166802807343317942 21 141} {4820577510876395643 21 142} {8385900947278357798 21 143}]
------------------------------------------------------
term 21 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 23 server 2 vote for server 0
term 23 server 0 get vote from server 2
term 23 server 0 become leader
------------------------------------------------------
term 23 server 1 vote for server 0
term 23 server 0 get outdate rpc reply from server 1
flag 69486 term 23 leader 0 nextIndex[1]: 144  matchIndex[1]: 0
term 23 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 21 leaderCommit: 143 
------------------------------------------------------
flag 67980 term 23 leader 0 nextIndex[2]: 144  matchIndex[2]: 0
term 23 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 21 leaderCommit: 143 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 21 139} {6240029353149661333 21 140} {6166802807343317942 21 141} {4820577510876395643 21 142} {8385900947278357798 21 143}]
------------------------------------------------------
term 23 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 144->143
------------------------------------------------------
term 23 leader 0 nextIndex[1]: 127  matchIndex[1]: 0
term 23 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 21
------------------------------------------------------
flag 82382 term 23 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 23 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 21 leaderCommit: 143 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 21 139} {6240029353149661333 21 140} {6166802807343317942 21 141} {4820577510876395643 21 142} {8385900947278357798 21 143}]
------------------------------------------------------
term 23 server 1 InstallSnapshot success
------------------------------------------------------
term 23 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 140 matchIndex[1] 139 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 139 rf.lastIncludedTerm 21 rf.commitIndex 139 rf.lastApplied 139
flag 15269 term 23 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 23 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 143 
------------------------------------------------------
flag 40902 term 23 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 23 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 21 leaderCommit: 143 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 21 139} {6240029353149661333 21 140} {6166802807343317942 21 141} {4820577510876395643 21 142} {8385900947278357798 21 143}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 21 139} {6240029353149661333 21 140} {6166802807343317942 21 141} {4820577510876395643 21 142} {8385900947278357798 21 143}]
------------------------------------------------------
flag 5742 term 23 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 23 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 21 leaderCommit: 143 
------------------------------------------------------
flag 78433 term 23 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 23 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 21 leaderCommit: 143 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 21 139} {6240029353149661333 21 140} {6166802807343317942 21 141} {4820577510876395643 21 142} {8385900947278357798 21 143}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 21 139} {6240029353149661333 21 140} {6166802807343317942 21 141} {4820577510876395643 21 142} {8385900947278357798 21 143}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57025 term 23 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 23 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 21 leaderCommit: 143 
------------------------------------------------------
flag 14644 term 23 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 23 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 21 leaderCommit: 143 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 21 139} {6240029353149661333 21 140} {6166802807343317942 21 141} {4820577510876395643 21 142} {8385900947278357798 21 143}]
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 21 139} {6240029353149661333 21 140} {6166802807343317942 21 141} {4820577510876395643 21 142} {8385900947278357798 21 143}]
------------------------------------------------------
flag 41137 term 23 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 23 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 21 leaderCommit: 143 
------------------------------------------------------
flag 855 term 23 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 23 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 21 leaderCommit: 143 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 21 139} {6240029353149661333 21 140} {6166802807343317942 21 141} {4820577510876395643 21 142} {8385900947278357798 21 143}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 21 139} {6240029353149661333 21 140} {6166802807343317942 21 141} {4820577510876395643 21 142} {8385900947278357798 21 143}]
------------------------------------------------------
flag 22322 term 23 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 23 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 21 leaderCommit: 143 
------------------------------------------------------
flag 25391 term 23 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 23 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 21 leaderCommit: 143 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 21 139} {6240029353149661333 21 140} {6166802807343317942 21 141} {4820577510876395643 21 142} {8385900947278357798 21 143}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 21 139} {6240029353149661333 21 140} {6166802807343317942 21 141} {4820577510876395643 21 142} {8385900947278357798 21 143}]
------------------------------------------------------
flag 40428 term 23 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 23 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 21 leaderCommit: 143 
------------------------------------------------------
flag 39452 term 23 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 23 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 21 leaderCommit: 143 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 21 139} {6240029353149661333 21 140} {6166802807343317942 21 141} {4820577510876395643 21 142} {8385900947278357798 21 143}]
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 21 139} {6240029353149661333 21 140} {6166802807343317942 21 141} {4820577510876395643 21 142} {8385900947278357798 21 143}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 31869 term 23 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 23 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 21 leaderCommit: 143 
------------------------------------------------------
flag 15654 term 23 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 23 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 21 leaderCommit: 143 
------------------------------------------------------
flag 56087 term 23 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 23 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 21 leaderCommit: 143 
------------------------------------------------------
flag 83923 term 23 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 23 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 21 leaderCommit: 143 
------------------------------------------------------
flag 72287 term 23 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 23 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 21 leaderCommit: 143 
------------------------------------------------------
flag 44675 term 23 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 23 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 21 leaderCommit: 143 
------------------------------------------------------
term 24 server 2 vote for server 1
term 24 server 1 get vote from server 2
term 24 server 1 become leader
------------------------------------------------------
flag 39566 term 24 leader 1 nextIndex[0]: 144  matchIndex[0]: 0
term 24 leader 1 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 21 leaderCommit: 143 
------------------------------------------------------
flag 95981 term 24 leader 1 nextIndex[2]: 144  matchIndex[2]: 0
term 24 leader 1 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 21 leaderCommit: 143 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 21 139} {6240029353149661333 21 140} {6166802807343317942 21 141} {4820577510876395643 21 142} {8385900947278357798 21 143}]
------------------------------------------------------
client write log 5224649120293472293 (index 144) to leader 1
flag 39414 term 23 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 23 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 21 leaderCommit: 143 
------------------------------------------------------
flag 5671 term 23 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 23 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 21 leaderCommit: 143 
------------------------------------------------------
flag 83220 term 24 leader 1 nextIndex[0]: 144  matchIndex[0]: 0
term 24 leader 1 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 21 leaderCommit: 143 
------------------------------------------------------
flag 26002 term 24 leader 1 nextIndex[2]: 144  matchIndex[2]: 143
term 24 leader 1 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 21 leaderCommit: 143 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {6240029353149661333 21 140} {6166802807343317942 21 141} {4820577510876395643 21 142} {8385900947278357798 21 143} {5224649120293472293 24 144}]
------------------------------------------------------
flag 4607 term 23 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 23 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 21 leaderCommit: 143 
------------------------------------------------------
flag 47552 term 23 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 23 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 21 leaderCommit: 143 
------------------------------------------------------
flag 47206 term 24 leader 1 nextIndex[0]: 144  matchIndex[0]: 0
term 24 leader 1 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
flag 53793 term 24 leader 1 nextIndex[2]: 145  matchIndex[2]: 144
term 24 leader 1 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {6240029353149661333 21 140} {6166802807343317942 21 141} {4820577510876395643 21 142} {8385900947278357798 21 143} {5224649120293472293 24 144}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 2428681597179603028 (index 145) to leader 1
client write log 8998296549150451081 (index 146) to leader 1
client write log 6303466465891431166 (index 147) to leader 1
client write log 4633516627887504587 (index 148) to leader 1
client write log 2258704991131220142 (index 149) to leader 1
client write log 3043463887259173933 (index 150) to leader 1
client write log 5632920326925772955 (index 151) to leader 1
client write log 4974702542556667841 (index 152) to leader 1
client write log 4491694605532031027 (index 153) to leader 1
client write log 1137859326006972868 (index 154) to leader 1
client write log 1802851309750853068 (index 155) to leader 1
client write log 4099363062862329170 (index 156) to leader 1
client write log 1850958445931069576 (index 157) to leader 1
client write log 8839552630997044132 (index 158) to leader 1
flag 43751 term 23 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 23 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 21 leaderCommit: 143 
------------------------------------------------------
flag 98942 term 23 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 23 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 21 leaderCommit: 143 
------------------------------------------------------
flag 53648 term 24 leader 1 nextIndex[0]: 144  matchIndex[0]: 0
term 24 leader 1 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
flag 32172 term 24 leader 1 nextIndex[2]: 145  matchIndex[2]: 144
term 24 leader 1 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=158
leader log:
[{snapshot 21 139} {6240029353149661333 21 140} {6166802807343317942 21 141} {4820577510876395643 21 142} {8385900947278357798 21 143} {5224649120293472293 24 144} {2428681597179603028 24 145} {8998296549150451081 24 146} {6303466465891431166 24 147} {4633516627887504587 24 148} {2258704991131220142 24 149} {3043463887259173933 24 150} {5632920326925772955 24 151} {4974702542556667841 24 152} {4491694605532031027 24 153} {1137859326006972868 24 154} {1802851309750853068 24 155} {4099363062862329170 24 156} {1850958445931069576 24 157} {8839552630997044132 24 158}]
------------------------------------------------------
term 23 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 24 Server1 start snapshot! index=149
term 24 server1 snapshot success
lastIncludedIndex=149 lastApplied=150 lastIndex=158
-------------------------------------------------------------
flag 40447 term 23 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 23 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 21 leaderCommit: 143 
------------------------------------------------------
flag 41864 term 23 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 23 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 21 leaderCommit: 143 
------------------------------------------------------
term 24 leader 1 nextIndex[0]: 144  matchIndex[0]: 0
term 24 leader 1 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 24
------------------------------------------------------
flag 40172 term 24 leader 1 nextIndex[2]: 159  matchIndex[2]: 158
term 24 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 24 leaderCommit: 158 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=158
leader log:
[{snapshot 24 149} {3043463887259173933 24 150} {5632920326925772955 24 151} {4974702542556667841 24 152} {4491694605532031027 24 153} {1137859326006972868 24 154} {1802851309750853068 24 155} {4099363062862329170 24 156} {1850958445931069576 24 157} {8839552630997044132 24 158}]
------------------------------------------------------
term 24 Server2 start snapshot! index=149
term 24 server2 snapshot success
lastIncludedIndex=149 lastApplied=150 lastIndex=158
-------------------------------------------------------------
!!!!!!connect server 0
client write log 5616428484151890601 (index 159) to leader 1
term 23 server 0 not vote for server 1, 任期不够新
term 24 server 1 get outdate rpc reply from server 0
flag 90000 term 23 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 23 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 21 leaderCommit: 143 
------------------------------------------------------
flag 92195 term 23 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 23 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 21 leaderCommit: 143 
------------------------------------------------------
term 24 server 1 AppendEntries false 领导者任期过期 args.Term 23
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 24 server 2 AppendEntries false 领导者任期过期 args.Term 23
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 24 leader 1 nextIndex[0]: 144  matchIndex[0]: 0
term 24 leader 1 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 24
------------------------------------------------------
flag 4292 term 24 leader 1 nextIndex[2]: 159  matchIndex[2]: 158
term 24 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 24 leaderCommit: 158 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 24 149} {3043463887259173933 24 150} {5632920326925772955 24 151} {4974702542556667841 24 152} {4491694605532031027 24 153} {1137859326006972868 24 154} {1802851309750853068 24 155} {4099363062862329170 24 156} {1850958445931069576 24 157} {8839552630997044132 24 158} {5616428484151890601 24 159}]
------------------------------------------------------
term 24 server 0 InstallSnapshot success
------------------------------------------------------
term 24 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 150 matchIndex[0] 149 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 149 rf.lastIncludedTerm 24 rf.commitIndex 149 rf.lastApplied 149
term 24 Server1 start snapshot! index=159
term 24 server1 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=159
-------------------------------------------------------------
term 24 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 24 leader 1 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 24
------------------------------------------------------
flag 43902 term 24 leader 1 nextIndex[2]: 160  matchIndex[2]: 159
term 24 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
term 24 server 0 InstallSnapshot success
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
term 24 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 160 matchIndex[0] 159 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 159 rf.lastIncludedTerm 24 rf.commitIndex 159 rf.lastApplied 159
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 24 159}]
------------------------------------------------------
term 24 Server2 start snapshot! index=159
term 24 server2 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=159
-------------------------------------------------------------
term 24 server 0 not vote for server 1, 日志不够新
term 24 server 1 get outdate rpc reply from server 0
flag 8684 term 24 leader 1 nextIndex[0]: 160  matchIndex[0]: 159
term 24 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
flag 88507 term 24 leader 1 nextIndex[2]: 160  matchIndex[2]: 159
term 24 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 24 159}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 24 159}]
------------------------------------------------------
flag 59149 term 24 leader 1 nextIndex[0]: 160  matchIndex[0]: 159
term 24 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
flag 92820 term 24 leader 1 nextIndex[2]: 160  matchIndex[2]: 159
term 24 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 24 159}]
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 24 159}]
------------------------------------------------------
flag 97890 term 24 leader 1 nextIndex[0]: 160  matchIndex[0]: 159
term 24 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
flag 36030 term 24 leader 1 nextIndex[2]: 160  matchIndex[2]: 159
term 24 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 24 159}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 24 159}]
------------------------------------------------------
flag 18493 term 24 leader 1 nextIndex[0]: 160  matchIndex[0]: 159
term 24 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
flag 94507 term 24 leader 1 nextIndex[2]: 160  matchIndex[2]: 159
term 24 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 24 159}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 24 159}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 2549762782016622309 (index 160) to leader 1
flag 63742 term 24 leader 1 nextIndex[0]: 160  matchIndex[0]: 159
term 24 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
flag 91845 term 24 leader 1 nextIndex[2]: 160  matchIndex[2]: 159
term 24 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=160
leader log:
[{snapshot 24 159} {2549762782016622309 24 160}]
------------------------------------------------------
flag 12631 term 24 leader 1 nextIndex[0]: 161  matchIndex[0]: 160
term 24 leader 1 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 24 leaderCommit: 160 
------------------------------------------------------
flag 62011 term 24 leader 1 nextIndex[2]: 160  matchIndex[2]: 159
term 24 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 160 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=160
leader log:
[{snapshot 24 159} {2549762782016622309 24 160}]
------------------------------------------------------
client write log 470295994851912390 (index 161) to leader 1
client write log 3442152457514160081 (index 162) to leader 1
client write log 1178378078449495296 (index 163) to leader 1
client write log 7639511328379458251 (index 164) to leader 1
client write log 6252629117620581156 (index 165) to leader 1
client write log 3318205054015661539 (index 166) to leader 1
client write log 8143556315977763791 (index 167) to leader 1
client write log 570055850917657694 (index 168) to leader 1
client write log 5097829404485536889 (index 169) to leader 1
client write log 4233538606409705085 (index 170) to leader 1
client write log 1198119770657433739 (index 171) to leader 1
client write log 7711888659133412910 (index 172) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86053 term 24 leader 1 nextIndex[0]: 161  matchIndex[0]: 160
term 24 leader 1 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 24 leaderCommit: 160 
------------------------------------------------------
flag 33018 term 24 leader 1 nextIndex[2]: 160  matchIndex[2]: 159
term 24 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 160 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=172
leader log:
[{snapshot 24 159} {2549762782016622309 24 160} {470295994851912390 24 161} {3442152457514160081 24 162} {1178378078449495296 24 163} {7639511328379458251 24 164} {6252629117620581156 24 165} {3318205054015661539 24 166} {8143556315977763791 24 167} {570055850917657694 24 168} {5097829404485536889 24 169} {4233538606409705085 24 170} {1198119770657433739 24 171} {7711888659133412910 24 172}]
------------------------------------------------------
term 24 Server1 start snapshot! index=169
term 24 server1 snapshot success
lastIncludedIndex=169 lastApplied=170 lastIndex=172
-------------------------------------------------------------
flag 34476 term 24 leader 1 nextIndex[0]: 173  matchIndex[0]: 172
term 24 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
term 24 leader 1 nextIndex[2]: 160  matchIndex[2]: 159
term 24 leader 1 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 24
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=172
leader log:
[{snapshot 24 169} {4233538606409705085 24 170} {1198119770657433739 24 171} {7711888659133412910 24 172}]
------------------------------------------------------
term 24 Server0 start snapshot! index=169
term 24 server0 snapshot success
lastIncludedIndex=169 lastApplied=170 lastIndex=172
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!connect server 2
client write log 2121124028352543972 (index 173) to leader 1
term 24 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 170 matchIndex[0] 169 
------------------------------------------------------------------------
term 24 server 0 not vote for server 2, 日志不够新
term 24 server 1 not vote for server 2, 日志不够新
term 26 server 2 vote for server 1
term 26 server 0 vote for server 1
term 26 server 1 get vote from server 2
term 26 server 1 become leader
------------------------------------------------------
term 26 server 1 get outdate rpc reply from server 0
flag 32964 term 26 leader 1 nextIndex[0]: 174  matchIndex[0]: 0
term 26 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
flag 60518 term 26 leader 1 nextIndex[2]: 174  matchIndex[2]: 0
term 26 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
term 26 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 174->173
------------------------------------------------------
term 26 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 174->173
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6215 term 26 leader 1 nextIndex[0]: 173  matchIndex[0]: 0
term 26 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
term 26 leader 1 nextIndex[2]: 160  matchIndex[2]: 0
term 26 leader 1 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 24
------------------------------------------------------
term 26 server 2 InstallSnapshot success
------------------------------------------------------
term 26 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 170 matchIndex[2] 169 
term 26 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=172
leader log:
[{snapshot 24 169} {4233538606409705085 24 170} {1198119770657433739 24 171} {7711888659133412910 24 172} {2121124028352543972 24 173}]
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 169 rf.lastIncludedTerm 24 rf.commitIndex 169 rf.lastApplied 169
flag 15505 term 26 leader 1 nextIndex[0]: 174  matchIndex[0]: 173
term 26 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
flag 59820 term 26 leader 1 nextIndex[2]: 170  matchIndex[2]: 169
term 26 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=172
leader log:
[{snapshot 24 169} {4233538606409705085 24 170} {1198119770657433739 24 171} {7711888659133412910 24 172} {2121124028352543972 24 173}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 24 169} {4233538606409705085 24 170} {1198119770657433739 24 171} {7711888659133412910 24 172} {2121124028352543972 24 173}]
------------------------------------------------------
flag 69821 term 26 leader 1 nextIndex[0]: 174  matchIndex[0]: 173
term 26 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
flag 42660 term 26 leader 1 nextIndex[2]: 174  matchIndex[2]: 173
term 26 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 24 169} {4233538606409705085 24 170} {1198119770657433739 24 171} {7711888659133412910 24 172} {2121124028352543972 24 173}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=172
leader log:
[{snapshot 24 169} {4233538606409705085 24 170} {1198119770657433739 24 171} {7711888659133412910 24 172} {2121124028352543972 24 173}]
------------------------------------------------------
flag 4205 term 26 leader 1 nextIndex[0]: 174  matchIndex[0]: 173
term 26 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
flag 41227 term 26 leader 1 nextIndex[2]: 174  matchIndex[2]: 173
term 26 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 24 169} {4233538606409705085 24 170} {1198119770657433739 24 171} {7711888659133412910 24 172} {2121124028352543972 24 173}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=172
leader log:
[{snapshot 24 169} {4233538606409705085 24 170} {1198119770657433739 24 171} {7711888659133412910 24 172} {2121124028352543972 24 173}]
------------------------------------------------------
flag 51920 term 26 leader 1 nextIndex[0]: 174  matchIndex[0]: 173
term 26 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
flag 36338 term 26 leader 1 nextIndex[2]: 174  matchIndex[2]: 173
term 26 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 24 169} {4233538606409705085 24 170} {1198119770657433739 24 171} {7711888659133412910 24 172} {2121124028352543972 24 173}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=172
leader log:
[{snapshot 24 169} {4233538606409705085 24 170} {1198119770657433739 24 171} {7711888659133412910 24 172} {2121124028352543972 24 173}]
------------------------------------------------------
flag 58946 term 26 leader 1 nextIndex[0]: 174  matchIndex[0]: 173
term 26 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
flag 80243 term 26 leader 1 nextIndex[2]: 174  matchIndex[2]: 173
term 26 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=172
leader log:
[{snapshot 24 169} {4233538606409705085 24 170} {1198119770657433739 24 171} {7711888659133412910 24 172} {2121124028352543972 24 173}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 24 169} {4233538606409705085 24 170} {1198119770657433739 24 171} {7711888659133412910 24 172} {2121124028352543972 24 173}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68654 term 26 leader 1 nextIndex[0]: 174  matchIndex[0]: 173
term 26 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
flag 67803 term 26 leader 1 nextIndex[2]: 174  matchIndex[2]: 173
term 26 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 24 169} {4233538606409705085 24 170} {1198119770657433739 24 171} {7711888659133412910 24 172} {2121124028352543972 24 173}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=172
leader log:
[{snapshot 24 169} {4233538606409705085 24 170} {1198119770657433739 24 171} {7711888659133412910 24 172} {2121124028352543972 24 173}]
------------------------------------------------------
flag 59051 term 26 leader 1 nextIndex[0]: 174  matchIndex[0]: 173
term 26 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
flag 5048 term 26 leader 1 nextIndex[2]: 174  matchIndex[2]: 173
term 26 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 24 169} {4233538606409705085 24 170} {1198119770657433739 24 171} {7711888659133412910 24 172} {2121124028352543972 24 173}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=172
leader log:
[{snapshot 24 169} {4233538606409705085 24 170} {1198119770657433739 24 171} {7711888659133412910 24 172} {2121124028352543972 24 173}]
------------------------------------------------------
flag 94347 term 26 leader 1 nextIndex[0]: 174  matchIndex[0]: 173
term 26 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
flag 38668 term 26 leader 1 nextIndex[2]: 174  matchIndex[2]: 173
term 26 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 24 169} {4233538606409705085 24 170} {1198119770657433739 24 171} {7711888659133412910 24 172} {2121124028352543972 24 173}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=172
leader log:
[{snapshot 24 169} {4233538606409705085 24 170} {1198119770657433739 24 171} {7711888659133412910 24 172} {2121124028352543972 24 173}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 26 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 43369 term 26 leader 1 nextIndex[0]: 174  matchIndex[0]: 173
term 26 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
flag 27523 term 26 leader 1 nextIndex[2]: 174  matchIndex[2]: 173
term 26 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 24 169} {4233538606409705085 24 170} {1198119770657433739 24 171} {7711888659133412910 24 172} {2121124028352543972 24 173}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=172
leader log:
[{snapshot 24 169} {4233538606409705085 24 170} {1198119770657433739 24 171} {7711888659133412910 24 172} {2121124028352543972 24 173}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87186 term 26 leader 1 nextIndex[0]: 174  matchIndex[0]: 173
term 26 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
flag 69397 term 26 leader 1 nextIndex[2]: 174  matchIndex[2]: 173
term 26 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:172 
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 24 169} {4233538606409705085 24 170} {1198119770657433739 24 171} {7711888659133412910 24 172} {2121124028352543972 24 173}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=172
leader log:
[{snapshot 24 169} {4233538606409705085 24 170} {1198119770657433739 24 171} {7711888659133412910 24 172} {2121124028352543972 24 173}]
------------------------------------------------------
flag 66787 term 26 leader 1 nextIndex[0]: 174  matchIndex[0]: 173
term 26 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
flag 55163 term 26 leader 1 nextIndex[2]: 174  matchIndex[2]: 173
term 26 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 24 169} {4233538606409705085 24 170} {1198119770657433739 24 171} {7711888659133412910 24 172} {2121124028352543972 24 173}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=172
leader log:
[{snapshot 24 169} {4233538606409705085 24 170} {1198119770657433739 24 171} {7711888659133412910 24 172} {2121124028352543972 24 173}]
------------------------------------------------------
flag 59141 term 26 leader 1 nextIndex[0]: 174  matchIndex[0]: 173
term 26 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
flag 72145 term 26 leader 1 nextIndex[2]: 174  matchIndex[2]: 173
term 26 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 24 169} {4233538606409705085 24 170} {1198119770657433739 24 171} {7711888659133412910 24 172} {2121124028352543972 24 173}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=172
leader log:
[{snapshot 24 169} {4233538606409705085 24 170} {1198119770657433739 24 171} {7711888659133412910 24 172} {2121124028352543972 24 173}]
------------------------------------------------------
flag 23700 term 26 leader 1 nextIndex[0]: 174  matchIndex[0]: 173
term 26 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
flag 18841 term 26 leader 1 nextIndex[2]: 174  matchIndex[2]: 173
term 26 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 24 169} {4233538606409705085 24 170} {1198119770657433739 24 171} {7711888659133412910 24 172} {2121124028352543972 24 173}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=172
leader log:
[{snapshot 24 169} {4233538606409705085 24 170} {1198119770657433739 24 171} {7711888659133412910 24 172} {2121124028352543972 24 173}]
------------------------------------------------------
term 26 server 0 not vote for server 1, 任期不够新
term 26 server 1 get outdate rpc reply from server 0
flag 67039 term 26 leader 1 nextIndex[0]: 174  matchIndex[0]: 173
term 26 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
flag 76065 term 26 leader 1 nextIndex[2]: 174  matchIndex[2]: 173
term 26 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 24 169} {4233538606409705085 24 170} {1198119770657433739 24 171} {7711888659133412910 24 172} {2121124028352543972 24 173}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=172
leader log:
[{snapshot 24 169} {4233538606409705085 24 170} {1198119770657433739 24 171} {7711888659133412910 24 172} {2121124028352543972 24 173}]
------------------------------------------------------
flag 60928 term 26 leader 1 nextIndex[0]: 174  matchIndex[0]: 173
term 26 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
flag 97429 term 26 leader 1 nextIndex[2]: 174  matchIndex[2]: 173
term 26 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 24 169} {4233538606409705085 24 170} {1198119770657433739 24 171} {7711888659133412910 24 172} {2121124028352543972 24 173}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=172
leader log:
[{snapshot 24 169} {4233538606409705085 24 170} {1198119770657433739 24 171} {7711888659133412910 24 172} {2121124028352543972 24 173}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60127 term 26 leader 1 nextIndex[0]: 174  matchIndex[0]: 173
term 26 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
flag 23940 term 26 leader 1 nextIndex[2]: 174  matchIndex[2]: 173
term 26 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 24 169} {4233538606409705085 24 170} {1198119770657433739 24 171} {7711888659133412910 24 172} {2121124028352543972 24 173}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=172
leader log:
[{snapshot 24 169} {4233538606409705085 24 170} {1198119770657433739 24 171} {7711888659133412910 24 172} {2121124028352543972 24 173}]
------------------------------------------------------
flag 48535 term 26 leader 1 nextIndex[0]: 174  matchIndex[0]: 173
term 26 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
flag 58040 term 26 leader 1 nextIndex[2]: 174  matchIndex[2]: 173
term 26 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 24 169} {4233538606409705085 24 170} {1198119770657433739 24 171} {7711888659133412910 24 172} {2121124028352543972 24 173}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=172
leader log:
[{snapshot 24 169} {4233538606409705085 24 170} {1198119770657433739 24 171} {7711888659133412910 24 172} {2121124028352543972 24 173}]
------------------------------------------------------
flag 71497 term 26 leader 1 nextIndex[0]: 174  matchIndex[0]: 173
term 26 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
flag 65062 term 26 leader 1 nextIndex[2]: 174  matchIndex[2]: 173
term 26 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=172
leader log:
[{snapshot 24 169} {4233538606409705085 24 170} {1198119770657433739 24 171} {7711888659133412910 24 172} {2121124028352543972 24 173}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=172
leader log:
[{snapshot 24 169} {4233538606409705085 24 170} {1198119770657433739 24 171} {7711888659133412910 24 172} {2121124028352543972 24 173}]
------------------------------------------------------
client write log 2121124028352543972 (index 174) to leader 1
flag 12334 term 26 leader 1 nextIndex[0]: 174  matchIndex[0]: 173
term 26 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
flag 81162 term 26 leader 1 nextIndex[2]: 174  matchIndex[2]: 173
term 26 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=175
update matchIndex[0]=174
update leader CommitIndex=174
leader log:
[{snapshot 24 169} {4233538606409705085 24 170} {1198119770657433739 24 171} {7711888659133412910 24 172} {2121124028352543972 24 173} {2121124028352543972 26 174}]
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=175
update matchIndex[2]=174
update leader CommitIndex=174
leader log:
[{snapshot 24 169} {4233538606409705085 24 170} {1198119770657433739 24 171} {7711888659133412910 24 172} {2121124028352543972 24 173} {2121124028352543972 26 174}]
------------------------------------------------------
flag 10354 term 26 leader 1 nextIndex[0]: 175  matchIndex[0]: 174
term 26 leader 1 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 26 leaderCommit: 174 
------------------------------------------------------
flag 26995 term 26 leader 1 nextIndex[2]: 175  matchIndex[2]: 174
term 26 leader 1 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 26 leaderCommit: 174 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=175
update matchIndex[2]=174
update leader CommitIndex=174
leader log:
[{snapshot 24 169} {4233538606409705085 24 170} {1198119770657433739 24 171} {7711888659133412910 24 172} {2121124028352543972 24 173} {2121124028352543972 26 174}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=175
update matchIndex[0]=174
update leader CommitIndex=174
leader log:
[{snapshot 24 169} {4233538606409705085 24 170} {1198119770657433739 24 171} {7711888659133412910 24 172} {2121124028352543972 24 173} {2121124028352543972 26 174}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27397 term 26 leader 1 nextIndex[0]: 175  matchIndex[0]: 174
term 26 leader 1 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 26 leaderCommit: 174 
------------------------------------------------------
flag 9878 term 26 leader 1 nextIndex[2]: 175  matchIndex[2]: 174
term 26 leader 1 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 26 leaderCommit: 174 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=175
update matchIndex[2]=174
update leader CommitIndex=174
leader log:
[{snapshot 24 169} {4233538606409705085 24 170} {1198119770657433739 24 171} {7711888659133412910 24 172} {2121124028352543972 24 173} {2121124028352543972 26 174}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=175
update matchIndex[0]=174
update leader CommitIndex=174
leader log:
[{snapshot 24 169} {4233538606409705085 24 170} {1198119770657433739 24 171} {7711888659133412910 24 172} {2121124028352543972 24 173} {2121124028352543972 26 174}]
------------------------------------------------------
flag 74988 term 26 leader 1 nextIndex[0]: 175  matchIndex[0]: 174
term 26 leader 1 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 26 leaderCommit: 174 
------------------------------------------------------
flag 52759 term 26 leader 1 nextIndex[2]: 175  matchIndex[2]: 174
term 26 leader 1 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 26 leaderCommit: 174 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=175
update matchIndex[0]=174
update leader CommitIndex=174
leader log:
[{snapshot 24 169} {4233538606409705085 24 170} {1198119770657433739 24 171} {7711888659133412910 24 172} {2121124028352543972 24 173} {2121124028352543972 26 174}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=175
update matchIndex[2]=174
update leader CommitIndex=174
leader log:
[{snapshot 24 169} {4233538606409705085 24 170} {1198119770657433739 24 171} {7711888659133412910 24 172} {2121124028352543972 24 173} {2121124028352543972 26 174}]
------------------------------------------------------
flag 24259 term 26 leader 1 nextIndex[0]: 175  matchIndex[0]: 174
term 26 leader 1 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 26 leaderCommit: 174 
------------------------------------------------------
flag 91019 term 26 leader 1 nextIndex[2]: 175  matchIndex[2]: 174
term 26 leader 1 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 26 leaderCommit: 174 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=175
update matchIndex[2]=174
update leader CommitIndex=174
leader log:
[{snapshot 24 169} {4233538606409705085 24 170} {1198119770657433739 24 171} {7711888659133412910 24 172} {2121124028352543972 24 173} {2121124028352543972 26 174}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=175
update matchIndex[0]=174
update leader CommitIndex=174
leader log:
[{snapshot 24 169} {4233538606409705085 24 170} {1198119770657433739 24 171} {7711888659133412910 24 172} {2121124028352543972 24 173} {2121124028352543972 26 174}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31762 term 26 leader 1 nextIndex[0]: 175  matchIndex[0]: 174
term 26 leader 1 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 26 leaderCommit: 174 
------------------------------------------------------
flag 51358 term 26 leader 1 nextIndex[2]: 175  matchIndex[2]: 174
term 26 leader 1 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 26 leaderCommit: 174 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=175
update matchIndex[2]=174
update leader CommitIndex=174
leader log:
[{snapshot 24 169} {4233538606409705085 24 170} {1198119770657433739 24 171} {7711888659133412910 24 172} {2121124028352543972 24 173} {2121124028352543972 26 174}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=175
update matchIndex[0]=174
update leader CommitIndex=174
leader log:
[{snapshot 24 169} {4233538606409705085 24 170} {1198119770657433739 24 171} {7711888659133412910 24 172} {2121124028352543972 24 173} {2121124028352543972 26 174}]
------------------------------------------------------
term 26 server 2 not vote for server 1, 任期不够新
term 26 server 1 get outdate rpc reply from server 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62974 term 26 leader 1 nextIndex[0]: 175  matchIndex[0]: 174
term 26 leader 1 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 26 leaderCommit: 174 
------------------------------------------------------
flag 97758 term 26 leader 1 nextIndex[2]: 175  matchIndex[2]: 174
term 26 leader 1 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 26 leaderCommit: 174 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=175
update matchIndex[2]=174
update leader CommitIndex=174
leader log:
[{snapshot 24 169} {4233538606409705085 24 170} {1198119770657433739 24 171} {7711888659133412910 24 172} {2121124028352543972 24 173} {2121124028352543972 26 174}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=175
update matchIndex[0]=174
update leader CommitIndex=174
leader log:
[{snapshot 24 169} {4233538606409705085 24 170} {1198119770657433739 24 171} {7711888659133412910 24 172} {2121124028352543972 24 173} {2121124028352543972 26 174}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 2949739140717193163 (index 175) to leader 1
flag 78016 term 26 leader 1 nextIndex[0]: 175  matchIndex[0]: 174
term 26 leader 1 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 26 leaderCommit: 174 
------------------------------------------------------
flag 71337 term 26 leader 1 nextIndex[2]: 175  matchIndex[2]: 174
term 26 leader 1 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 26 leaderCommit: 174 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=175
leader log:
[{snapshot 24 169} {4233538606409705085 24 170} {1198119770657433739 24 171} {7711888659133412910 24 172} {2121124028352543972 24 173} {2121124028352543972 26 174} {2949739140717193163 26 175}]
------------------------------------------------------
flag 9009 term 26 leader 1 nextIndex[0]: 176  matchIndex[0]: 175
term 26 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 26 leaderCommit: 175 
------------------------------------------------------
flag 51628 term 26 leader 1 nextIndex[2]: 175  matchIndex[2]: 174
term 26 leader 1 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 26 leaderCommit: 175 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=175
leader log:
[{snapshot 24 169} {4233538606409705085 24 170} {1198119770657433739 24 171} {7711888659133412910 24 172} {2121124028352543972 24 173} {2121124028352543972 26 174} {2949739140717193163 26 175}]
------------------------------------------------------
client write log 2618774700164698098 (index 176) to leader 1
client write log 1683880456174344527 (index 177) to leader 1
client write log 6341879556056496040 (index 178) to leader 1
client write log 5902334229475099447 (index 179) to leader 1
client write log 991349198861678836 (index 180) to leader 1
client write log 429553162036018110 (index 181) to leader 1
client write log 7450760801299323874 (index 182) to leader 1
flag 45760 term 26 leader 1 nextIndex[0]: 176  matchIndex[0]: 175
term 26 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 26 leaderCommit: 175 
------------------------------------------------------
flag 96322 term 26 leader 1 nextIndex[2]: 175  matchIndex[2]: 174
term 26 leader 1 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 26 leaderCommit: 175 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=183
update matchIndex[0]=182
update leader CommitIndex=182
leader log:
[{snapshot 24 169} {4233538606409705085 24 170} {1198119770657433739 24 171} {7711888659133412910 24 172} {2121124028352543972 24 173} {2121124028352543972 26 174} {2949739140717193163 26 175} {2618774700164698098 26 176} {1683880456174344527 26 177} {6341879556056496040 26 178} {5902334229475099447 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182}]
------------------------------------------------------
term 26 Server1 start snapshot! index=179
term 26 server1 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=182
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26445 term 26 leader 1 nextIndex[0]: 183  matchIndex[0]: 182
term 26 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 26 leaderCommit: 182 
------------------------------------------------------
term 26 leader 1 nextIndex[2]: 175  matchIndex[2]: 174
term 26 leader 1 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 26
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=183
update matchIndex[0]=182
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182}]
------------------------------------------------------
term 26 Server0 start snapshot! index=179
term 26 server0 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=182
-------------------------------------------------------------
!!!!!!connect server 2
client write log 5287362727292370879 (index 183) to leader 1
term 26 server 1 not vote for server 2, 日志不够新
term 26 server 0 not vote for server 2, 日志不够新
term 28 server 2 vote for server 1
term 28 server 0 vote for server 1
term 28 server 1 get vote from server 0
term 28 server 1 become leader
------------------------------------------------------
term 28 server 1 get outdate rpc reply from server 2
flag 83891 term 28 leader 1 nextIndex[0]: 184  matchIndex[0]: 0
term 28 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 182 
------------------------------------------------------
flag 88971 term 28 leader 1 nextIndex[2]: 184  matchIndex[2]: 0
term 28 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 182 
------------------------------------------------------
term 28 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 184->183
------------------------------------------------------
term 28 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 184->183
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85346 term 28 leader 1 nextIndex[0]: 183  matchIndex[0]: 0
term 28 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 26 leaderCommit: 182 
------------------------------------------------------
term 28 leader 1 nextIndex[2]: 175  matchIndex[2]: 0
term 28 leader 1 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 26
------------------------------------------------------
term 28 server 2 InstallSnapshot success
------------------------------------------------------
term 28 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 180 matchIndex[2] 179 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 179 rf.lastIncludedTerm 26 rf.commitIndex 179 rf.lastApplied 179
term 28 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183}]
------------------------------------------------------
flag 48168 term 28 leader 1 nextIndex[0]: 184  matchIndex[0]: 183
term 28 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 182 
------------------------------------------------------
flag 63714 term 28 leader 1 nextIndex[2]: 180  matchIndex[2]: 179
term 28 leader 1 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 26 leaderCommit: 182 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183}]
------------------------------------------------------
flag 9720 term 28 leader 1 nextIndex[0]: 184  matchIndex[0]: 183
term 28 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 182 
------------------------------------------------------
flag 46381 term 28 leader 1 nextIndex[2]: 184  matchIndex[2]: 183
term 28 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 182 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:182 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4244 term 28 leader 1 nextIndex[0]: 184  matchIndex[0]: 183
term 28 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 182 
------------------------------------------------------
flag 86020 term 28 leader 1 nextIndex[2]: 184  matchIndex[2]: 183
term 28 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 182 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183}]
------------------------------------------------------
flag 1357 term 28 leader 1 nextIndex[0]: 184  matchIndex[0]: 183
term 28 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 182 
------------------------------------------------------
flag 40377 term 28 leader 1 nextIndex[2]: 184  matchIndex[2]: 183
term 28 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 182 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67673 term 28 leader 1 nextIndex[0]: 184  matchIndex[0]: 183
term 28 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 182 
------------------------------------------------------
flag 99449 term 28 leader 1 nextIndex[2]: 184  matchIndex[2]: 183
term 28 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 182 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183}]
------------------------------------------------------
flag 69278 term 28 leader 1 nextIndex[0]: 184  matchIndex[0]: 183
term 28 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 182 
------------------------------------------------------
flag 39595 term 28 leader 1 nextIndex[2]: 184  matchIndex[2]: 183
term 28 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 182 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:182 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183}]
------------------------------------------------------
flag 85563 term 28 leader 1 nextIndex[0]: 184  matchIndex[0]: 183
term 28 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 182 
------------------------------------------------------
flag 17740 term 28 leader 1 nextIndex[2]: 184  matchIndex[2]: 183
term 28 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 182 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:182 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90146 term 28 leader 1 nextIndex[0]: 184  matchIndex[0]: 183
term 28 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 182 
------------------------------------------------------
flag 44684 term 28 leader 1 nextIndex[2]: 184  matchIndex[2]: 183
term 28 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 182 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183}]
------------------------------------------------------
flag 42957 term 28 leader 1 nextIndex[0]: 184  matchIndex[0]: 183
term 28 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 182 
------------------------------------------------------
flag 79999 term 28 leader 1 nextIndex[2]: 184  matchIndex[2]: 183
term 28 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 182 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49046 term 28 leader 1 nextIndex[0]: 184  matchIndex[0]: 183
term 28 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 182 
------------------------------------------------------
flag 65001 term 28 leader 1 nextIndex[2]: 184  matchIndex[2]: 183
term 28 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 182 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183}]
------------------------------------------------------
flag 92690 term 28 leader 1 nextIndex[0]: 184  matchIndex[0]: 183
term 28 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 182 
------------------------------------------------------
flag 83227 term 28 leader 1 nextIndex[2]: 184  matchIndex[2]: 183
term 28 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 182 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:182 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34035 term 28 leader 1 nextIndex[0]: 184  matchIndex[0]: 183
term 28 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 182 
------------------------------------------------------
flag 29534 term 28 leader 1 nextIndex[2]: 184  matchIndex[2]: 183
term 28 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 182 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18008 term 28 leader 1 nextIndex[0]: 184  matchIndex[0]: 183
term 28 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 182 
------------------------------------------------------
flag 68529 term 28 leader 1 nextIndex[2]: 184  matchIndex[2]: 183
term 28 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 182 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:182 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183}]
------------------------------------------------------
flag 65755 term 28 leader 1 nextIndex[0]: 184  matchIndex[0]: 183
term 28 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 182 
------------------------------------------------------
flag 90024 term 28 leader 1 nextIndex[2]: 184  matchIndex[2]: 183
term 28 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 182 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:182 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183}]
------------------------------------------------------
flag 94722 term 28 leader 1 nextIndex[0]: 184  matchIndex[0]: 183
term 28 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 182 
------------------------------------------------------
flag 7534 term 28 leader 1 nextIndex[2]: 184  matchIndex[2]: 183
term 28 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 182 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183}]
------------------------------------------------------
flag 68681 term 28 leader 1 nextIndex[0]: 184  matchIndex[0]: 183
term 28 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 182 
------------------------------------------------------
flag 48585 term 28 leader 1 nextIndex[2]: 184  matchIndex[2]: 183
term 28 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 182 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:182 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183}]
------------------------------------------------------
flag 90618 term 28 leader 1 nextIndex[0]: 184  matchIndex[0]: 183
term 28 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 182 
------------------------------------------------------
flag 13304 term 28 leader 1 nextIndex[2]: 184  matchIndex[2]: 183
term 28 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 182 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:182 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183}]
------------------------------------------------------
flag 79450 term 28 leader 1 nextIndex[0]: 184  matchIndex[0]: 183
term 28 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 182 
------------------------------------------------------
flag 57239 term 28 leader 1 nextIndex[2]: 184  matchIndex[2]: 183
term 28 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 182 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183}]
------------------------------------------------------
client write log 5287362727292370879 (index 184) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76147 term 28 leader 1 nextIndex[0]: 184  matchIndex[0]: 183
term 28 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 182 
------------------------------------------------------
flag 55641 term 28 leader 1 nextIndex[2]: 184  matchIndex[2]: 183
term 28 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 182 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183} {5287362727292370879 28 184}]
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183} {5287362727292370879 28 184}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65166 term 28 leader 1 nextIndex[0]: 185  matchIndex[0]: 184
term 28 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 28 leaderCommit: 184 
------------------------------------------------------
flag 54518 term 28 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 28 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 28 leaderCommit: 184 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183} {5287362727292370879 28 184}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183} {5287362727292370879 28 184}]
------------------------------------------------------
flag 62800 term 28 leader 1 nextIndex[0]: 185  matchIndex[0]: 184
term 28 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 28 leaderCommit: 184 
------------------------------------------------------
flag 9006 term 28 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 28 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 28 leaderCommit: 184 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183} {5287362727292370879 28 184}]
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183} {5287362727292370879 28 184}]
------------------------------------------------------
flag 83363 term 28 leader 1 nextIndex[0]: 185  matchIndex[0]: 184
term 28 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 28 leaderCommit: 184 
------------------------------------------------------
flag 68069 term 28 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 28 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 28 leaderCommit: 184 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183} {5287362727292370879 28 184}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183} {5287362727292370879 28 184}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5522 term 28 leader 1 nextIndex[0]: 185  matchIndex[0]: 184
term 28 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 28 leaderCommit: 184 
------------------------------------------------------
flag 78903 term 28 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 28 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 28 leaderCommit: 184 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183} {5287362727292370879 28 184}]
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183} {5287362727292370879 28 184}]
------------------------------------------------------
flag 36633 term 28 leader 1 nextIndex[0]: 185  matchIndex[0]: 184
term 28 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 28 leaderCommit: 184 
------------------------------------------------------
flag 45619 term 28 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 28 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 28 leaderCommit: 184 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183} {5287362727292370879 28 184}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183} {5287362727292370879 28 184}]
------------------------------------------------------
flag 72482 term 28 leader 1 nextIndex[0]: 185  matchIndex[0]: 184
term 28 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 28 leaderCommit: 184 
------------------------------------------------------
flag 42552 term 28 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 28 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 28 leaderCommit: 184 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183} {5287362727292370879 28 184}]
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183} {5287362727292370879 28 184}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 21100 term 28 leader 1 nextIndex[0]: 185  matchIndex[0]: 184
term 28 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 28 leaderCommit: 184 
------------------------------------------------------
flag 41990 term 28 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 28 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 28 leaderCommit: 184 
------------------------------------------------------
term 28 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 32357 term 28 leader 1 nextIndex[0]: 185  matchIndex[0]: 184
term 28 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 28 leaderCommit: 184 
------------------------------------------------------
flag 93704 term 28 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 28 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 28 leaderCommit: 184 
------------------------------------------------------
flag 52514 term 28 leader 1 nextIndex[0]: 185  matchIndex[0]: 184
term 28 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 28 leaderCommit: 184 
------------------------------------------------------
flag 34405 term 28 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 28 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 28 leaderCommit: 184 
------------------------------------------------------
flag 62997 term 28 leader 1 nextIndex[0]: 185  matchIndex[0]: 184
term 28 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 28 leaderCommit: 184 
------------------------------------------------------
flag 47099 term 28 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 28 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 28 leaderCommit: 184 
------------------------------------------------------
term 29 server 2 vote for server 0
term 29 server 0 get vote from server 2
term 29 server 0 become leader
------------------------------------------------------
flag 65492 term 29 leader 0 nextIndex[1]: 185  matchIndex[1]: 0
term 29 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 28 leaderCommit: 184 
------------------------------------------------------
flag 72947 term 29 leader 0 nextIndex[2]: 185  matchIndex[2]: 0
term 29 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 28 leaderCommit: 184 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183} {5287362727292370879 28 184}]
------------------------------------------------------
client write log 4106442922610530734 (index 185) to leader 0
flag 41916 term 28 leader 1 nextIndex[0]: 185  matchIndex[0]: 184
term 28 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 28 leaderCommit: 184 
------------------------------------------------------
flag 71476 term 28 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 28 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 28 leaderCommit: 184 
------------------------------------------------------
flag 19533 term 29 leader 0 nextIndex[1]: 185  matchIndex[1]: 0
term 29 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 28 leaderCommit: 184 
------------------------------------------------------
flag 39820 term 29 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 29 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 28 leaderCommit: 184 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183} {5287362727292370879 28 184} {4106442922610530734 29 185}]
------------------------------------------------------
flag 18295 term 28 leader 1 nextIndex[0]: 185  matchIndex[0]: 184
term 28 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 28 leaderCommit: 184 
------------------------------------------------------
flag 39227 term 28 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 28 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 28 leaderCommit: 184 
------------------------------------------------------
flag 89540 term 29 leader 0 nextIndex[1]: 185  matchIndex[1]: 0
term 29 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 28 leaderCommit: 185 
------------------------------------------------------
flag 35779 term 29 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 29 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183} {5287362727292370879 28 184} {4106442922610530734 29 185}]
------------------------------------------------------
client write log 3236935182385719525 (index 186) to leader 0
flag 34932 term 28 leader 1 nextIndex[0]: 185  matchIndex[0]: 184
term 28 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 28 leaderCommit: 184 
------------------------------------------------------
flag 30720 term 28 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 28 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 28 leaderCommit: 184 
------------------------------------------------------
flag 7354 term 29 leader 0 nextIndex[1]: 185  matchIndex[1]: 0
term 29 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 28 leaderCommit: 185 
------------------------------------------------------
flag 83346 term 29 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 29 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183} {5287362727292370879 28 184} {4106442922610530734 29 185} {3236935182385719525 29 186}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 185->184
------------------------------------------------------
flag 9312 term 28 leader 1 nextIndex[0]: 185  matchIndex[0]: 184
term 28 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 28 leaderCommit: 184 
------------------------------------------------------
term 28 leader 1 nextIndex[2]: 0  matchIndex[2]: 184
term 28 leader 1 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 26
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6736 term 29 leader 0 nextIndex[1]: 185  matchIndex[1]: 0
term 29 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 28 leaderCommit: 186 
------------------------------------------------------
flag 55697 term 29 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 29 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183} {5287362727292370879 28 184} {4106442922610530734 29 185} {3236935182385719525 29 186}]
------------------------------------------------------
term 28 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
!!!!!!connect server 1
client write log 306117535458127640 (index 185) to leader 1
flag 78246 term 28 leader 1 nextIndex[0]: 185  matchIndex[0]: 184
term 28 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 28 leaderCommit: 184 
------------------------------------------------------
term 28 leader 1 nextIndex[2]: 0  matchIndex[2]: 184
term 28 leader 1 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 26
------------------------------------------------------
term 29 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 28 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 29 server 0 AppendEntries false 领导者任期过期 args.Term 28
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85058 term 29 leader 0 nextIndex[1]: 185  matchIndex[1]: 0
term 29 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 28 leaderCommit: 186 
------------------------------------------------------
flag 11451 term 29 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 29 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183} {5287362727292370879 28 184} {4106442922610530734 29 185} {3236935182385719525 29 186}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183} {5287362727292370879 28 184} {4106442922610530734 29 185} {3236935182385719525 29 186}]
------------------------------------------------------
flag 13792 term 29 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 29 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
flag 55894 term 29 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 29 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183} {5287362727292370879 28 184} {4106442922610530734 29 185} {3236935182385719525 29 186}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183} {5287362727292370879 28 184} {4106442922610530734 29 185} {3236935182385719525 29 186}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36549 term 29 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 29 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
flag 47801 term 29 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 29 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183} {5287362727292370879 28 184} {4106442922610530734 29 185} {3236935182385719525 29 186}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183} {5287362727292370879 28 184} {4106442922610530734 29 185} {3236935182385719525 29 186}]
------------------------------------------------------
flag 18899 term 29 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 29 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
flag 93263 term 29 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 29 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183} {5287362727292370879 28 184} {4106442922610530734 29 185} {3236935182385719525 29 186}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183} {5287362727292370879 28 184} {4106442922610530734 29 185} {3236935182385719525 29 186}]
------------------------------------------------------
flag 82611 term 29 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 29 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
flag 2726 term 29 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 29 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183} {5287362727292370879 28 184} {4106442922610530734 29 185} {3236935182385719525 29 186}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183} {5287362727292370879 28 184} {4106442922610530734 29 185} {3236935182385719525 29 186}]
------------------------------------------------------
flag 94620 term 29 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 29 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
flag 70543 term 29 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 29 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183} {5287362727292370879 28 184} {4106442922610530734 29 185} {3236935182385719525 29 186}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183} {5287362727292370879 28 184} {4106442922610530734 29 185} {3236935182385719525 29 186}]
------------------------------------------------------
flag 42399 term 29 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 29 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
flag 29105 term 29 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 29 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183} {5287362727292370879 28 184} {4106442922610530734 29 185} {3236935182385719525 29 186}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183} {5287362727292370879 28 184} {4106442922610530734 29 185} {3236935182385719525 29 186}]
------------------------------------------------------
flag 56655 term 29 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 29 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
flag 38792 term 29 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 29 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183} {5287362727292370879 28 184} {4106442922610530734 29 185} {3236935182385719525 29 186}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183} {5287362727292370879 28 184} {4106442922610530734 29 185} {3236935182385719525 29 186}]
------------------------------------------------------
term 29 server 1 not vote for server 0, 日志不够新
term 29 server 0 get outdate rpc reply from server 1
flag 37187 term 29 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 29 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
flag 60399 term 29 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 29 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183} {5287362727292370879 28 184} {4106442922610530734 29 185} {3236935182385719525 29 186}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183} {5287362727292370879 28 184} {4106442922610530734 29 185} {3236935182385719525 29 186}]
------------------------------------------------------
flag 7940 term 29 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 29 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
flag 25654 term 29 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 29 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183} {5287362727292370879 28 184} {4106442922610530734 29 185} {3236935182385719525 29 186}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183} {5287362727292370879 28 184} {4106442922610530734 29 185} {3236935182385719525 29 186}]
------------------------------------------------------
flag 26610 term 29 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 29 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
flag 89716 term 29 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 29 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183} {5287362727292370879 28 184} {4106442922610530734 29 185} {3236935182385719525 29 186}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183} {5287362727292370879 28 184} {4106442922610530734 29 185} {3236935182385719525 29 186}]
------------------------------------------------------
flag 70599 term 29 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 29 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
flag 6344 term 29 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 29 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183} {5287362727292370879 28 184} {4106442922610530734 29 185} {3236935182385719525 29 186}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183} {5287362727292370879 28 184} {4106442922610530734 29 185} {3236935182385719525 29 186}]
------------------------------------------------------
flag 18268 term 29 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 29 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
flag 82410 term 29 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 29 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183} {5287362727292370879 28 184} {4106442922610530734 29 185} {3236935182385719525 29 186}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183} {5287362727292370879 28 184} {4106442922610530734 29 185} {3236935182385719525 29 186}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41135 term 29 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 29 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
flag 81895 term 29 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 29 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183} {5287362727292370879 28 184} {4106442922610530734 29 185} {3236935182385719525 29 186}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183} {5287362727292370879 28 184} {4106442922610530734 29 185} {3236935182385719525 29 186}]
------------------------------------------------------
term 29 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24116 term 29 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 29 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
flag 63125 term 29 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 29 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183} {5287362727292370879 28 184} {4106442922610530734 29 185} {3236935182385719525 29 186}]
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183} {5287362727292370879 28 184} {4106442922610530734 29 185} {3236935182385719525 29 186}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 187->186
------------------------------------------------------
term 29 leader 0 nextIndex[1]: 0  matchIndex[1]: 186
term 29 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 26
------------------------------------------------------
flag 94942 term 29 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 29 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183} {5287362727292370879 28 184} {4106442922610530734 29 185} {3236935182385719525 29 186}]
------------------------------------------------------
term 29 server 1 InstallSnapshot fail
rf.commitIndex 186 args.LastIncludedIndex 179
------------------------------------------------------
term 29 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 180 matchIndex[1] 179 
------------------------------------------------------------------------
flag 60183 term 29 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 29 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 26 leaderCommit: 186 
------------------------------------------------------
flag 50450 term 29 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 29 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183} {5287362727292370879 28 184} {4106442922610530734 29 185} {3236935182385719525 29 186}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183} {5287362727292370879 28 184} {4106442922610530734 29 185} {3236935182385719525 29 186}]
------------------------------------------------------
flag 9435 term 29 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 29 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
flag 12181 term 29 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 29 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
term 29 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183} {5287362727292370879 28 184} {4106442922610530734 29 185} {3236935182385719525 29 186}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183} {5287362727292370879 28 184} {4106442922610530734 29 185} {3236935182385719525 29 186}]
------------------------------------------------------
flag 65204 term 29 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 29 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
flag 79645 term 29 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 29 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183} {5287362727292370879 28 184} {4106442922610530734 29 185} {3236935182385719525 29 186}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183} {5287362727292370879 28 184} {4106442922610530734 29 185} {3236935182385719525 29 186}]
------------------------------------------------------
flag 40557 term 29 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 29 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
flag 50455 term 29 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 29 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183} {5287362727292370879 28 184} {4106442922610530734 29 185} {3236935182385719525 29 186}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183} {5287362727292370879 28 184} {4106442922610530734 29 185} {3236935182385719525 29 186}]
------------------------------------------------------
client write log 306117535458127640 (index 187) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 187->186
------------------------------------------------------
term 29 leader 0 nextIndex[1]: 0  matchIndex[1]: 186
term 29 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 26
------------------------------------------------------
flag 24977 term 29 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 29 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183} {5287362727292370879 28 184} {4106442922610530734 29 185} {3236935182385719525 29 186} {306117535458127640 29 187}]
------------------------------------------------------
term 29 server 1 InstallSnapshot fail
rf.commitIndex 186 args.LastIncludedIndex 179
------------------------------------------------------
term 29 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 180 matchIndex[1] 179 
------------------------------------------------------------------------
flag 4123 term 29 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 29 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 26 leaderCommit: 187 
------------------------------------------------------
flag 90842 term 29 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 29 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 187 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183} {5287362727292370879 28 184} {4106442922610530734 29 185} {3236935182385719525 29 186} {306117535458127640 29 187}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183} {5287362727292370879 28 184} {4106442922610530734 29 185} {3236935182385719525 29 186} {306117535458127640 29 187}]
------------------------------------------------------
flag 41328 term 29 leader 0 nextIndex[1]: 188  matchIndex[1]: 187
term 29 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 187 
------------------------------------------------------
flag 90789 term 29 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 29 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 187 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
term 29 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
update leader CommitIndex=187
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183} {5287362727292370879 28 184} {4106442922610530734 29 185} {3236935182385719525 29 186} {306117535458127640 29 187}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183} {5287362727292370879 28 184} {4106442922610530734 29 185} {3236935182385719525 29 186} {306117535458127640 29 187}]
------------------------------------------------------
flag 18438 term 29 leader 0 nextIndex[1]: 188  matchIndex[1]: 187
term 29 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 187 
------------------------------------------------------
flag 21650 term 29 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 29 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 187 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183} {5287362727292370879 28 184} {4106442922610530734 29 185} {3236935182385719525 29 186} {306117535458127640 29 187}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183} {5287362727292370879 28 184} {4106442922610530734 29 185} {3236935182385719525 29 186} {306117535458127640 29 187}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 188->187
------------------------------------------------------
term 29 leader 0 nextIndex[1]: 0  matchIndex[1]: 187
term 29 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 26
------------------------------------------------------
flag 44667 term 29 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 29 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 187 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
term 29 server 1 InstallSnapshot fail
rf.commitIndex 187 args.LastIncludedIndex 179
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183} {5287362727292370879 28 184} {4106442922610530734 29 185} {3236935182385719525 29 186} {306117535458127640 29 187}]
------------------------------------------------------
term 29 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 180 matchIndex[1] 179 
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69634 term 29 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 29 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 26 leaderCommit: 187 
------------------------------------------------------
flag 34136 term 29 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 29 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 187 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183} {5287362727292370879 28 184} {4106442922610530734 29 185} {3236935182385719525 29 186} {306117535458127640 29 187}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183} {5287362727292370879 28 184} {4106442922610530734 29 185} {3236935182385719525 29 186} {306117535458127640 29 187}]
------------------------------------------------------
flag 1744 term 29 leader 0 nextIndex[1]: 188  matchIndex[1]: 187
term 29 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 187 
------------------------------------------------------
flag 62503 term 29 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 29 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 187 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183} {5287362727292370879 28 184} {4106442922610530734 29 185} {3236935182385719525 29 186} {306117535458127640 29 187}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183} {5287362727292370879 28 184} {4106442922610530734 29 185} {3236935182385719525 29 186} {306117535458127640 29 187}]
------------------------------------------------------
flag 77086 term 29 leader 0 nextIndex[1]: 188  matchIndex[1]: 187
term 29 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 187 
------------------------------------------------------
flag 59901 term 29 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 29 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 187 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183} {5287362727292370879 28 184} {4106442922610530734 29 185} {3236935182385719525 29 186} {306117535458127640 29 187}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183} {5287362727292370879 28 184} {4106442922610530734 29 185} {3236935182385719525 29 186} {306117535458127640 29 187}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 3733201626303354742 (index 188) to leader 0
flag 94766 term 29 leader 0 nextIndex[1]: 188  matchIndex[1]: 187
term 29 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 187 
------------------------------------------------------
flag 32780 term 29 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 29 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 187 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=188
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183} {5287362727292370879 28 184} {4106442922610530734 29 185} {3236935182385719525 29 186} {306117535458127640 29 187} {3733201626303354742 29 188}]
------------------------------------------------------
flag 16289 term 29 leader 0 nextIndex[1]: 188  matchIndex[1]: 187
term 29 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 188 
------------------------------------------------------
flag 61821 term 29 leader 0 nextIndex[2]: 189  matchIndex[2]: 188
term 29 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 29 leaderCommit: 188 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=188
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183} {5287362727292370879 28 184} {4106442922610530734 29 185} {3236935182385719525 29 186} {306117535458127640 29 187} {3733201626303354742 29 188}]
------------------------------------------------------
client write log 2718232571843551227 (index 189) to leader 0
client write log 6988117519957255484 (index 190) to leader 0
client write log 2289059931784934909 (index 191) to leader 0
client write log 22694084548212060 (index 192) to leader 0
client write log 4033972619493348645 (index 193) to leader 0
client write log 8570476242658164445 (index 194) to leader 0
client write log 446007400942914367 (index 195) to leader 0
client write log 6423969912985835794 (index 196) to leader 0
client write log 5743555277057726330 (index 197) to leader 0
client write log 5738732194651083025 (index 198) to leader 0
client write log 5407468873625530575 (index 199) to leader 0
flag 46518 term 29 leader 0 nextIndex[1]: 188  matchIndex[1]: 187
term 29 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 188 
------------------------------------------------------
flag 83495 term 29 leader 0 nextIndex[2]: 189  matchIndex[2]: 188
term 29 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 29 leaderCommit: 188 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=200
update matchIndex[2]=199
update leader CommitIndex=199
leader log:
[{snapshot 26 179} {991349198861678836 26 180} {429553162036018110 26 181} {7450760801299323874 26 182} {5287362727292370879 26 183} {5287362727292370879 28 184} {4106442922610530734 29 185} {3236935182385719525 29 186} {306117535458127640 29 187} {3733201626303354742 29 188} {2718232571843551227 29 189} {6988117519957255484 29 190} {2289059931784934909 29 191} {22694084548212060 29 192} {4033972619493348645 29 193} {8570476242658164445 29 194} {446007400942914367 29 195} {6423969912985835794 29 196} {5743555277057726330 29 197} {5738732194651083025 29 198} {5407468873625530575 29 199}]
------------------------------------------------------
term 29 Server0 start snapshot! index=189
term 29 server0 snapshot success
lastIncludedIndex=189 lastApplied=190 lastIndex=199
-------------------------------------------------------------
term 29 Server0 start snapshot! index=199
term 29 server0 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=199
-------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 188->187
------------------------------------------------------
term 29 leader 0 nextIndex[1]: 0  matchIndex[1]: 187
term 29 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 29
------------------------------------------------------
flag 45644 term 29 leader 0 nextIndex[2]: 200  matchIndex[2]: 199
term 29 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=200
update matchIndex[2]=199
update leader CommitIndex=199
leader log:
[{snapshot 29 199}]
------------------------------------------------------
term 29 Server2 start snapshot! index=189
term 29 server2 snapshot success
lastIncludedIndex=189 lastApplied=190 lastIndex=199
-------------------------------------------------------------
term 29 Server2 start snapshot! index=199
term 29 server2 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=199
-------------------------------------------------------------
!!!!!!connect server 1
client write log 1382911952096714338 (index 200) to leader 0
term 29 server 2 not vote for server 1, 日志不够新
term 29 server 0 not vote for server 1, 日志不够新
term 31 server 2 vote for server 0
term 31 server 1 vote for server 0
term 31 server 0 get vote from server 2
term 31 server 0 become leader
------------------------------------------------------
term 31 server 0 get outdate rpc reply from server 1
flag 33291 term 31 leader 0 nextIndex[1]: 201  matchIndex[1]: 0
term 31 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
flag 18532 term 31 leader 0 nextIndex[2]: 201  matchIndex[2]: 0
term 31 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
term 31 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 201->200
------------------------------------------------------
term 31 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 201->200
------------------------------------------------------
term 31 leader 0 nextIndex[1]: 188  matchIndex[1]: 0
term 31 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 29
------------------------------------------------------
flag 14292 term 31 leader 0 nextIndex[2]: 200  matchIndex[2]: 0
term 31 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
term 31 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 199 rf.lastIncludedTerm 29 rf.commitIndex 199 rf.lastApplied 199
[{snapshot 29 199} {1382911952096714338 29 200}]
------------------------------------------------------
term 31 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 200 matchIndex[1] 199 
------------------------------------------------------------------------
flag 85666 term 31 leader 0 nextIndex[1]: 200  matchIndex[1]: 199
term 31 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
flag 22843 term 31 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 31 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 29 199} {1382911952096714338 29 200}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 29 199} {1382911952096714338 29 200}]
------------------------------------------------------
flag 12480 term 31 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 31 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
flag 27279 term 31 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 31 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 29 199} {1382911952096714338 29 200}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 29 199} {1382911952096714338 29 200}]
------------------------------------------------------
flag 4358 term 31 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 31 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
flag 56338 term 31 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 31 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 29 199} {1382911952096714338 29 200}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 29 199} {1382911952096714338 29 200}]
------------------------------------------------------
flag 86114 term 31 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 31 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
flag 21062 term 31 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 31 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 29 199} {1382911952096714338 29 200}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 29 199} {1382911952096714338 29 200}]
------------------------------------------------------
flag 64320 term 31 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 31 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
flag 15890 term 31 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 31 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 29 199} {1382911952096714338 29 200}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 29 199} {1382911952096714338 29 200}]
------------------------------------------------------
flag 64134 term 31 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 31 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
flag 86637 term 31 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 31 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 29 199} {1382911952096714338 29 200}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 29 199} {1382911952096714338 29 200}]
------------------------------------------------------
flag 14524 term 31 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 31 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
flag 88330 term 31 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 31 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 29 199} {1382911952096714338 29 200}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 29 199} {1382911952096714338 29 200}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72893 term 31 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 31 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
flag 97051 term 31 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 31 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 29 199} {1382911952096714338 29 200}]
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 29 199} {1382911952096714338 29 200}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39564 term 31 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 31 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
flag 89577 term 31 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 31 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 29 199} {1382911952096714338 29 200}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 29 199} {1382911952096714338 29 200}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15545 term 31 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 31 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
flag 97461 term 31 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 31 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 29 199} {1382911952096714338 29 200}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 29 199} {1382911952096714338 29 200}]
------------------------------------------------------
flag 20116 term 31 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 31 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
flag 44111 term 31 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 31 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 29 199} {1382911952096714338 29 200}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 29 199} {1382911952096714338 29 200}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73527 term 31 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 31 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
flag 43315 term 31 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 31 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 29 199} {1382911952096714338 29 200}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 29 199} {1382911952096714338 29 200}]
------------------------------------------------------
flag 71885 term 31 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 31 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
flag 79251 term 31 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 31 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 29 199} {1382911952096714338 29 200}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 29 199} {1382911952096714338 29 200}]
------------------------------------------------------
flag 29885 term 31 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 31 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
flag 10262 term 31 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 31 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 29 199} {1382911952096714338 29 200}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 29 199} {1382911952096714338 29 200}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72351 term 31 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 31 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
flag 3938 term 31 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 31 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
term 31 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 29 199} {1382911952096714338 29 200}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 29 199} {1382911952096714338 29 200}]
------------------------------------------------------
flag 11408 term 31 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 31 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
flag 52603 term 31 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 31 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 29 199} {1382911952096714338 29 200}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 29 199} {1382911952096714338 29 200}]
------------------------------------------------------
flag 7541 term 31 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 31 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
flag 27886 term 31 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 31 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 29 199} {1382911952096714338 29 200}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 29 199} {1382911952096714338 29 200}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4473 term 31 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 31 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
flag 64170 term 31 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 31 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 29 199} {1382911952096714338 29 200}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 29 199} {1382911952096714338 29 200}]
------------------------------------------------------
client write log 1382911952096714338 (index 201) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47238 term 31 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 31 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
flag 91516 term 31 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 31 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 29 leaderCommit: 199 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=201
leader log:
[{snapshot 29 199} {1382911952096714338 29 200} {1382911952096714338 31 201}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=201
leader log:
[{snapshot 29 199} {1382911952096714338 29 200} {1382911952096714338 31 201}]
------------------------------------------------------
flag 94122 term 31 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 31 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 31 leaderCommit: 201 
------------------------------------------------------
flag 55054 term 31 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 31 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 31 leaderCommit: 201 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=201
leader log:
[{snapshot 29 199} {1382911952096714338 29 200} {1382911952096714338 31 201}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=201
leader log:
[{snapshot 29 199} {1382911952096714338 29 200} {1382911952096714338 31 201}]
------------------------------------------------------
flag 42947 term 31 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 31 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 31 leaderCommit: 201 
------------------------------------------------------
flag 83675 term 31 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 31 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 31 leaderCommit: 201 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=201
leader log:
[{snapshot 29 199} {1382911952096714338 29 200} {1382911952096714338 31 201}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=201
leader log:
[{snapshot 29 199} {1382911952096714338 29 200} {1382911952096714338 31 201}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11923 term 31 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 31 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 31 leaderCommit: 201 
------------------------------------------------------
flag 11561 term 31 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 31 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 31 leaderCommit: 201 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=201
leader log:
[{snapshot 29 199} {1382911952096714338 29 200} {1382911952096714338 31 201}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=201
leader log:
[{snapshot 29 199} {1382911952096714338 29 200} {1382911952096714338 31 201}]
------------------------------------------------------
flag 79992 term 31 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 31 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 31 leaderCommit: 201 
------------------------------------------------------
flag 14763 term 31 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 31 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 31 leaderCommit: 201 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=201
leader log:
[{snapshot 29 199} {1382911952096714338 29 200} {1382911952096714338 31 201}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=201
leader log:
[{snapshot 29 199} {1382911952096714338 29 200} {1382911952096714338 31 201}]
------------------------------------------------------
flag 29228 term 31 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 31 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 31 leaderCommit: 201 
------------------------------------------------------
flag 23392 term 31 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 31 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 31 leaderCommit: 201 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=201
leader log:
[{snapshot 29 199} {1382911952096714338 29 200} {1382911952096714338 31 201}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=201
leader log:
[{snapshot 29 199} {1382911952096714338 29 200} {1382911952096714338 31 201}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 2500737433348086238 (index 202) to leader 0
flag 50080 term 31 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 31 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 31 leaderCommit: 201 
------------------------------------------------------
flag 46313 term 31 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 31 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 31 leaderCommit: 201 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=202
leader log:
[{snapshot 29 199} {1382911952096714338 29 200} {1382911952096714338 31 201} {2500737433348086238 31 202}]
------------------------------------------------------
flag 98278 term 31 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 31 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
flag 3369 term 31 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 31 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=202
leader log:
[{snapshot 29 199} {1382911952096714338 29 200} {1382911952096714338 31 201} {2500737433348086238 31 202}]
------------------------------------------------------
client write log 8379219721167360175 (index 203) to leader 0
client write log 8793894347020004215 (index 204) to leader 0
client write log 1494098626379688197 (index 205) to leader 0
client write log 4255328882265481984 (index 206) to leader 0
client write log 7455729436366264595 (index 207) to leader 0
client write log 3156839273606414770 (index 208) to leader 0
client write log 4962607448893130135 (index 209) to leader 0
client write log 512897326603401503 (index 210) to leader 0
client write log 5814667326323513820 (index 211) to leader 0
flag 80596 term 31 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 31 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
flag 54033 term 31 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 31 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=211
leader log:
[{snapshot 29 199} {1382911952096714338 29 200} {1382911952096714338 31 201} {2500737433348086238 31 202} {8379219721167360175 31 203} {8793894347020004215 31 204} {1494098626379688197 31 205} {4255328882265481984 31 206} {7455729436366264595 31 207} {3156839273606414770 31 208} {4962607448893130135 31 209} {512897326603401503 31 210} {5814667326323513820 31 211}]
------------------------------------------------------
term 31 Server0 start snapshot! index=209
term 31 server0 snapshot success
lastIncludedIndex=209 lastApplied=210 lastIndex=211
-------------------------------------------------------------
term 31 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 31 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 31
------------------------------------------------------
flag 30054 term 31 leader 0 nextIndex[2]: 212  matchIndex[2]: 211
term 31 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 31 leaderCommit: 211 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=211
leader log:
[{snapshot 31 209} {512897326603401503 31 210} {5814667326323513820 31 211}]
------------------------------------------------------
term 31 Server2 start snapshot! index=209
term 31 server2 snapshot success
lastIncludedIndex=209 lastApplied=210 lastIndex=211
-------------------------------------------------------------
!!!!!!connect server 1
client write log 8996070996925344559 (index 212) to leader 0
term 31 server 2 not vote for server 1, 日志不够新
term 31 server 0 not vote for server 1, 日志不够新
term 33 server 2 vote for server 0
term 33 server 1 vote for server 0
term 33 server 0 get vote from server 2
term 33 server 0 become leader
------------------------------------------------------
term 33 server 0 get outdate rpc reply from server 1
flag 50024 term 33 leader 0 nextIndex[1]: 213  matchIndex[1]: 0
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 31 leaderCommit: 211 
------------------------------------------------------
flag 69603 term 33 leader 0 nextIndex[2]: 213  matchIndex[2]: 0
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 31 leaderCommit: 211 
------------------------------------------------------
term 33 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 213->212
------------------------------------------------------
term 33 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 213->212
------------------------------------------------------
term 33 leader 0 nextIndex[1]: 202  matchIndex[1]: 0
term 33 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 31
------------------------------------------------------
flag 35713 term 33 leader 0 nextIndex[2]: 212  matchIndex[2]: 0
term 33 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 31 leaderCommit: 211 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
term 33 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 31 209} {512897326603401503 31 210} {5814667326323513820 31 211} {8996070996925344559 31 212}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 209 rf.lastIncludedTerm 31 rf.commitIndex 209 rf.lastApplied 209
term 33 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 210 matchIndex[1] 209 
------------------------------------------------------------------------
flag 43514 term 33 leader 0 nextIndex[1]: 210  matchIndex[1]: 209
term 33 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 31 leaderCommit: 211 
------------------------------------------------------
flag 83802 term 33 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 31 leaderCommit: 211 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 31 209} {512897326603401503 31 210} {5814667326323513820 31 211} {8996070996925344559 31 212}]
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 31 209} {512897326603401503 31 210} {5814667326323513820 31 211} {8996070996925344559 31 212}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81411 term 33 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 31 leaderCommit: 211 
------------------------------------------------------
flag 21304 term 33 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 31 leaderCommit: 211 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 31 209} {512897326603401503 31 210} {5814667326323513820 31 211} {8996070996925344559 31 212}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 31 209} {512897326603401503 31 210} {5814667326323513820 31 211} {8996070996925344559 31 212}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41997 term 33 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 31 leaderCommit: 211 
------------------------------------------------------
flag 17087 term 33 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 31 leaderCommit: 211 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 31 209} {512897326603401503 31 210} {5814667326323513820 31 211} {8996070996925344559 31 212}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 31 209} {512897326603401503 31 210} {5814667326323513820 31 211} {8996070996925344559 31 212}]
------------------------------------------------------
flag 28111 term 33 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 31 leaderCommit: 211 
------------------------------------------------------
flag 52635 term 33 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 31 leaderCommit: 211 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 31 209} {512897326603401503 31 210} {5814667326323513820 31 211} {8996070996925344559 31 212}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 31 209} {512897326603401503 31 210} {5814667326323513820 31 211} {8996070996925344559 31 212}]
------------------------------------------------------
flag 21833 term 33 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 31 leaderCommit: 211 
------------------------------------------------------
flag 75364 term 33 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 31 leaderCommit: 211 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 31 209} {512897326603401503 31 210} {5814667326323513820 31 211} {8996070996925344559 31 212}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 31 209} {512897326603401503 31 210} {5814667326323513820 31 211} {8996070996925344559 31 212}]
------------------------------------------------------
flag 14974 term 33 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 31 leaderCommit: 211 
------------------------------------------------------
flag 62870 term 33 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 31 leaderCommit: 211 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 31 209} {512897326603401503 31 210} {5814667326323513820 31 211} {8996070996925344559 31 212}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 31 209} {512897326603401503 31 210} {5814667326323513820 31 211} {8996070996925344559 31 212}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3156 term 33 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 31 leaderCommit: 211 
------------------------------------------------------
flag 63194 term 33 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 31 leaderCommit: 211 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 31 209} {512897326603401503 31 210} {5814667326323513820 31 211} {8996070996925344559 31 212}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 31 209} {512897326603401503 31 210} {5814667326323513820 31 211} {8996070996925344559 31 212}]
------------------------------------------------------
flag 70477 term 33 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 31 leaderCommit: 211 
------------------------------------------------------
flag 41759 term 33 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 31 leaderCommit: 211 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 31 209} {512897326603401503 31 210} {5814667326323513820 31 211} {8996070996925344559 31 212}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 31 209} {512897326603401503 31 210} {5814667326323513820 31 211} {8996070996925344559 31 212}]
------------------------------------------------------
flag 89515 term 33 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 31 leaderCommit: 211 
------------------------------------------------------
flag 33118 term 33 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 31 leaderCommit: 211 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 31 209} {512897326603401503 31 210} {5814667326323513820 31 211} {8996070996925344559 31 212}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 31 209} {512897326603401503 31 210} {5814667326323513820 31 211} {8996070996925344559 31 212}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56459 term 33 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 31 leaderCommit: 211 
------------------------------------------------------
flag 35413 term 33 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 31 leaderCommit: 211 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 31 209} {512897326603401503 31 210} {5814667326323513820 31 211} {8996070996925344559 31 212}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 31 209} {512897326603401503 31 210} {5814667326323513820 31 211} {8996070996925344559 31 212}]
------------------------------------------------------
flag 18773 term 33 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 31 leaderCommit: 211 
------------------------------------------------------
flag 99000 term 33 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 31 leaderCommit: 211 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 31 209} {512897326603401503 31 210} {5814667326323513820 31 211} {8996070996925344559 31 212}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 31 209} {512897326603401503 31 210} {5814667326323513820 31 211} {8996070996925344559 31 212}]
------------------------------------------------------
flag 5918 term 33 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 31 leaderCommit: 211 
------------------------------------------------------
flag 66932 term 33 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 31 leaderCommit: 211 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 31 209} {512897326603401503 31 210} {5814667326323513820 31 211} {8996070996925344559 31 212}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 31 209} {512897326603401503 31 210} {5814667326323513820 31 211} {8996070996925344559 31 212}]
------------------------------------------------------
flag 61623 term 33 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 31 leaderCommit: 211 
------------------------------------------------------
flag 9308 term 33 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 31 leaderCommit: 211 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 31 209} {512897326603401503 31 210} {5814667326323513820 31 211} {8996070996925344559 31 212}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 31 209} {512897326603401503 31 210} {5814667326323513820 31 211} {8996070996925344559 31 212}]
------------------------------------------------------
flag 82667 term 33 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 31 leaderCommit: 211 
------------------------------------------------------
flag 54470 term 33 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 31 leaderCommit: 211 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 31 209} {512897326603401503 31 210} {5814667326323513820 31 211} {8996070996925344559 31 212}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 31 209} {512897326603401503 31 210} {5814667326323513820 31 211} {8996070996925344559 31 212}]
------------------------------------------------------
term 33 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 77974 term 33 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 31 leaderCommit: 211 
------------------------------------------------------
flag 55765 term 33 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 31 leaderCommit: 211 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 31 209} {512897326603401503 31 210} {5814667326323513820 31 211} {8996070996925344559 31 212}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 31 209} {512897326603401503 31 210} {5814667326323513820 31 211} {8996070996925344559 31 212}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81578 term 33 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 31 leaderCommit: 211 
------------------------------------------------------
flag 12742 term 33 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 31 leaderCommit: 211 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 31 209} {512897326603401503 31 210} {5814667326323513820 31 211} {8996070996925344559 31 212}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 31 209} {512897326603401503 31 210} {5814667326323513820 31 211} {8996070996925344559 31 212}]
------------------------------------------------------
flag 34808 term 33 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 31 leaderCommit: 211 
------------------------------------------------------
flag 83970 term 33 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 31 leaderCommit: 211 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 31 209} {512897326603401503 31 210} {5814667326323513820 31 211} {8996070996925344559 31 212}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 31 209} {512897326603401503 31 210} {5814667326323513820 31 211} {8996070996925344559 31 212}]
------------------------------------------------------
flag 22600 term 33 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 31 leaderCommit: 211 
------------------------------------------------------
flag 93930 term 33 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 31 leaderCommit: 211 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=211
leader log:
[{snapshot 31 209} {512897326603401503 31 210} {5814667326323513820 31 211} {8996070996925344559 31 212}]
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 31 209} {512897326603401503 31 210} {5814667326323513820 31 211} {8996070996925344559 31 212}]
------------------------------------------------------
client write log 8996070996925344559 (index 213) to leader 0
flag 50167 term 33 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 31 leaderCommit: 211 
------------------------------------------------------
flag 59117 term 33 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 31 leaderCommit: 211 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=213
leader log:
[{snapshot 31 209} {512897326603401503 31 210} {5814667326323513820 31 211} {8996070996925344559 31 212} {8996070996925344559 33 213}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=213
leader log:
[{snapshot 31 209} {512897326603401503 31 210} {5814667326323513820 31 211} {8996070996925344559 31 212} {8996070996925344559 33 213}]
------------------------------------------------------
flag 25401 term 33 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 33 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 33 leaderCommit: 213 
------------------------------------------------------
flag 19084 term 33 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 33 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 33 leaderCommit: 213 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=213
leader log:
[{snapshot 31 209} {512897326603401503 31 210} {5814667326323513820 31 211} {8996070996925344559 31 212} {8996070996925344559 33 213}]
term 33 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=213
leader log:
[{snapshot 31 209} {512897326603401503 31 210} {5814667326323513820 31 211} {8996070996925344559 31 212} {8996070996925344559 33 213}]
------------------------------------------------------
flag 56305 term 33 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 33 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 33 leaderCommit: 213 
------------------------------------------------------
flag 78892 term 33 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 33 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 33 leaderCommit: 213 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=213
leader log:
[{snapshot 31 209} {512897326603401503 31 210} {5814667326323513820 31 211} {8996070996925344559 31 212} {8996070996925344559 33 213}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=213
leader log:
[{snapshot 31 209} {512897326603401503 31 210} {5814667326323513820 31 211} {8996070996925344559 31 212} {8996070996925344559 33 213}]
------------------------------------------------------
flag 74539 term 33 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 33 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 33 leaderCommit: 213 
------------------------------------------------------
flag 83528 term 33 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 33 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 33 leaderCommit: 213 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=213
leader log:
[{snapshot 31 209} {512897326603401503 31 210} {5814667326323513820 31 211} {8996070996925344559 31 212} {8996070996925344559 33 213}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=213
leader log:
[{snapshot 31 209} {512897326603401503 31 210} {5814667326323513820 31 211} {8996070996925344559 31 212} {8996070996925344559 33 213}]
------------------------------------------------------
flag 82096 term 33 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 33 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 33 leaderCommit: 213 
------------------------------------------------------
flag 37474 term 33 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 33 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 33 leaderCommit: 213 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=213
leader log:
[{snapshot 31 209} {512897326603401503 31 210} {5814667326323513820 31 211} {8996070996925344559 31 212} {8996070996925344559 33 213}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=213
leader log:
[{snapshot 31 209} {512897326603401503 31 210} {5814667326323513820 31 211} {8996070996925344559 31 212} {8996070996925344559 33 213}]
------------------------------------------------------
flag 6514 term 33 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 33 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 33 leaderCommit: 213 
------------------------------------------------------
flag 37641 term 33 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 33 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 33 leaderCommit: 213 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=213
leader log:
[{snapshot 31 209} {512897326603401503 31 210} {5814667326323513820 31 211} {8996070996925344559 31 212} {8996070996925344559 33 213}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=213
leader log:
[{snapshot 31 209} {512897326603401503 31 210} {5814667326323513820 31 211} {8996070996925344559 31 212} {8996070996925344559 33 213}]
------------------------------------------------------
flag 48529 term 33 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 33 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 33 leaderCommit: 213 
------------------------------------------------------
flag 67686 term 33 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 33 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 33 leaderCommit: 213 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:213 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=213
leader log:
[{snapshot 31 209} {512897326603401503 31 210} {5814667326323513820 31 211} {8996070996925344559 31 212} {8996070996925344559 33 213}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=213
leader log:
[{snapshot 31 209} {512897326603401503 31 210} {5814667326323513820 31 211} {8996070996925344559 31 212} {8996070996925344559 33 213}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 9653 term 33 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 33 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 33 leaderCommit: 213 
------------------------------------------------------
flag 17041 term 33 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 33 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 33 leaderCommit: 213 
------------------------------------------------------
flag 56524 term 33 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 33 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 33 leaderCommit: 213 
------------------------------------------------------
flag 46851 term 33 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 33 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 33 leaderCommit: 213 
------------------------------------------------------
flag 85417 term 33 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 33 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 33 leaderCommit: 213 
------------------------------------------------------
flag 10772 term 33 leader 0 nextIndex[2]: 214  matchIndex[2]: 213
term 33 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 33 leaderCommit: 213 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 214->213
------------------------------------------------------
term 34 server 2 vote for server 1
term 34 server 1 get vote from server 2
term 34 server 1 become leader
------------------------------------------------------
flag 48407 term 33 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 33 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 33 leaderCommit: 213 
------------------------------------------------------
term 33 leader 0 nextIndex[2]: 0  matchIndex[2]: 213
term 33 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 31
------------------------------------------------------
flag 3785 term 34 leader 1 nextIndex[0]: 214  matchIndex[0]: 0
term 34 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 33 leaderCommit: 213 
------------------------------------------------------
flag 44277 term 34 leader 1 nextIndex[2]: 214  matchIndex[2]: 0
term 34 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 33 leaderCommit: 213 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=213
leader log:
[{snapshot 31 209} {512897326603401503 31 210} {5814667326323513820 31 211} {8996070996925344559 31 212} {8996070996925344559 33 213}]
------------------------------------------------------
client write log 4386404710111212878 (index 214) to leader 1
flag 53125 term 33 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 33 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 33 leaderCommit: 213 
------------------------------------------------------
term 33 leader 0 nextIndex[2]: 0  matchIndex[2]: 213
term 33 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 31
------------------------------------------------------
flag 81125 term 34 leader 1 nextIndex[0]: 214  matchIndex[0]: 0
term 34 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 33 leaderCommit: 213 
------------------------------------------------------
flag 55055 term 34 leader 1 nextIndex[2]: 214  matchIndex[2]: 213
term 34 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 33 leaderCommit: 213 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=214
leader log:
[{snapshot 31 209} {512897326603401503 31 210} {5814667326323513820 31 211} {8996070996925344559 31 212} {8996070996925344559 33 213} {4386404710111212878 34 214}]
------------------------------------------------------
flag 64790 term 33 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 33 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 33 leaderCommit: 213 
------------------------------------------------------
term 33 leader 0 nextIndex[2]: 0  matchIndex[2]: 213
term 33 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 31
------------------------------------------------------
flag 49531 term 34 leader 1 nextIndex[0]: 214  matchIndex[0]: 0
term 34 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 33 leaderCommit: 214 
------------------------------------------------------
flag 8303 term 34 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 34 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 34 leaderCommit: 214 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=214
leader log:
[{snapshot 31 209} {512897326603401503 31 210} {5814667326323513820 31 211} {8996070996925344559 31 212} {8996070996925344559 33 213} {4386404710111212878 34 214}]
------------------------------------------------------
client write log 862853800010670213 (index 215) to leader 1
client write log 7815931131531338357 (index 216) to leader 1
client write log 9144233316477438054 (index 217) to leader 1
client write log 8295563678910965864 (index 218) to leader 1
client write log 3209812814077669550 (index 219) to leader 1
client write log 1097862355148738591 (index 220) to leader 1
client write log 84234187430017396 (index 221) to leader 1
client write log 6284275012752115588 (index 222) to leader 1
client write log 6537578988722769244 (index 223) to leader 1
flag 32757 term 33 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 33 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 33 leaderCommit: 213 
------------------------------------------------------
term 33 leader 0 nextIndex[2]: 0  matchIndex[2]: 213
term 33 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 31
------------------------------------------------------
flag 9569 term 34 leader 1 nextIndex[0]: 214  matchIndex[0]: 0
term 34 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 33 leaderCommit: 214 
------------------------------------------------------
flag 65648 term 34 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 34 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 34 leaderCommit: 214 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=224
update matchIndex[2]=223
update leader CommitIndex=223
leader log:
[{snapshot 31 209} {512897326603401503 31 210} {5814667326323513820 31 211} {8996070996925344559 31 212} {8996070996925344559 33 213} {4386404710111212878 34 214} {862853800010670213 34 215} {7815931131531338357 34 216} {9144233316477438054 34 217} {8295563678910965864 34 218} {3209812814077669550 34 219} {1097862355148738591 34 220} {84234187430017396 34 221} {6284275012752115588 34 222} {6537578988722769244 34 223}]
------------------------------------------------------
term 34 Server1 start snapshot! index=219
term 34 server1 snapshot success
lastIncludedIndex=219 lastApplied=220 lastIndex=223
-------------------------------------------------------------
flag 2657 term 33 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 33 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 33 leaderCommit: 213 
------------------------------------------------------
term 33 leader 0 nextIndex[2]: 0  matchIndex[2]: 213
term 33 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 31
------------------------------------------------------
term 34 leader 1 nextIndex[0]: 214  matchIndex[0]: 0
term 34 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 34
------------------------------------------------------
flag 3781 term 34 leader 1 nextIndex[2]: 224  matchIndex[2]: 223
term 34 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 34 leaderCommit: 223 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=224
update matchIndex[2]=223
update leader CommitIndex=223
leader log:
[{snapshot 34 219} {1097862355148738591 34 220} {84234187430017396 34 221} {6284275012752115588 34 222} {6537578988722769244 34 223}]
------------------------------------------------------
term 34 Server2 start snapshot! index=219
term 34 server2 snapshot success
lastIncludedIndex=219 lastApplied=220 lastIndex=223
-------------------------------------------------------------
!!!!!!connect server 0
client write log 4252380536423144847 (index 224) to leader 1
flag 42743 term 33 leader 0 nextIndex[1]: 214  matchIndex[1]: 213
term 33 leader 0 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 33 leaderCommit: 213 
------------------------------------------------------
term 33 leader 0 nextIndex[2]: 0  matchIndex[2]: 213
term 33 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 31
------------------------------------------------------
term 34 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 33 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 34 server 1 AppendEntries false 领导者任期过期 args.Term 33
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 34 leader 1 nextIndex[0]: 214  matchIndex[0]: 0
term 34 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 34
------------------------------------------------------
flag 24244 term 34 leader 1 nextIndex[2]: 224  matchIndex[2]: 223
term 34 leader 1 sendAppendEntries PrevLogIndex: 223  PrevLogTerm: 34 leaderCommit: 223 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:223 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=225
update matchIndex[2]=224
update leader CommitIndex=224
leader log:
[{snapshot 34 219} {1097862355148738591 34 220} {84234187430017396 34 221} {6284275012752115588 34 222} {6537578988722769244 34 223} {4252380536423144847 34 224}]
------------------------------------------------------
term 34 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 219 rf.lastIncludedTerm 34 rf.commitIndex 219 rf.lastApplied 219
term 34 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 220 matchIndex[0] 219 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 220->219
------------------------------------------------------
term 34 leader 1 nextIndex[0]: 0  matchIndex[0]: 219
term 34 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 34
------------------------------------------------------
flag 26697 term 34 leader 1 nextIndex[2]: 225  matchIndex[2]: 224
term 34 leader 1 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 34 leaderCommit: 224 
------------------------------------------------------
term 34 server 2 not vote for server 0, 日志不够新
term 34 server 1 not vote for server 0, 日志不够新
term 35 server 2 AppendEntries false 领导者任期过期 args.Term 34
------------------------------------------------------
term 35 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 35 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 36 server 2 vote for server 1
term 36 server 0 vote for server 1
term 36 server 1 get vote from server 2
term 36 server 1 become leader
------------------------------------------------------
term 36 server 1 get outdate rpc reply from server 0
flag 71732 term 36 leader 1 nextIndex[0]: 225  matchIndex[0]: 0
term 36 leader 1 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 34 leaderCommit: 224 
------------------------------------------------------
flag 57274 term 36 leader 1 nextIndex[2]: 225  matchIndex[2]: 0
term 36 leader 1 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 34 leaderCommit: 224 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
term 36 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=225
update matchIndex[2]=224
update leader CommitIndex=224
leader log:
[{snapshot 34 219} {1097862355148738591 34 220} {84234187430017396 34 221} {6284275012752115588 34 222} {6537578988722769244 34 223} {4252380536423144847 34 224}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 225->224
------------------------------------------------------
flag 84602 term 36 leader 1 nextIndex[0]: 220  matchIndex[0]: 0
term 36 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 34 leaderCommit: 224 
------------------------------------------------------
flag 83219 term 36 leader 1 nextIndex[2]: 225  matchIndex[2]: 224
term 36 leader 1 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 34 leaderCommit: 224 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=225
update matchIndex[2]=224
update leader CommitIndex=224
leader log:
[{snapshot 34 219} {1097862355148738591 34 220} {84234187430017396 34 221} {6284275012752115588 34 222} {6537578988722769244 34 223} {4252380536423144847 34 224}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=224
leader log:
[{snapshot 34 219} {1097862355148738591 34 220} {84234187430017396 34 221} {6284275012752115588 34 222} {6537578988722769244 34 223} {4252380536423144847 34 224}]
------------------------------------------------------
flag 93996 term 36 leader 1 nextIndex[0]: 225  matchIndex[0]: 224
term 36 leader 1 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 34 leaderCommit: 224 
------------------------------------------------------
flag 89395 term 36 leader 1 nextIndex[2]: 225  matchIndex[2]: 224
term 36 leader 1 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 34 leaderCommit: 224 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=225
update matchIndex[2]=224
update leader CommitIndex=224
leader log:
[{snapshot 34 219} {1097862355148738591 34 220} {84234187430017396 34 221} {6284275012752115588 34 222} {6537578988722769244 34 223} {4252380536423144847 34 224}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=224
leader log:
[{snapshot 34 219} {1097862355148738591 34 220} {84234187430017396 34 221} {6284275012752115588 34 222} {6537578988722769244 34 223} {4252380536423144847 34 224}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 36 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 75443 term 36 leader 1 nextIndex[0]: 225  matchIndex[0]: 224
term 36 leader 1 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 34 leaderCommit: 224 
------------------------------------------------------
flag 77408 term 36 leader 1 nextIndex[2]: 225  matchIndex[2]: 224
term 36 leader 1 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 34 leaderCommit: 224 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=225
update matchIndex[2]=224
update leader CommitIndex=224
leader log:
[{snapshot 34 219} {1097862355148738591 34 220} {84234187430017396 34 221} {6284275012752115588 34 222} {6537578988722769244 34 223} {4252380536423144847 34 224}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=224
leader log:
[{snapshot 34 219} {1097862355148738591 34 220} {84234187430017396 34 221} {6284275012752115588 34 222} {6537578988722769244 34 223} {4252380536423144847 34 224}]
------------------------------------------------------
flag 62032 term 36 leader 1 nextIndex[0]: 225  matchIndex[0]: 224
term 36 leader 1 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 34 leaderCommit: 224 
------------------------------------------------------
flag 40287 term 36 leader 1 nextIndex[2]: 225  matchIndex[2]: 224
term 36 leader 1 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 34 leaderCommit: 224 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=225
update matchIndex[2]=224
update leader CommitIndex=224
leader log:
[{snapshot 34 219} {1097862355148738591 34 220} {84234187430017396 34 221} {6284275012752115588 34 222} {6537578988722769244 34 223} {4252380536423144847 34 224}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=224
leader log:
[{snapshot 34 219} {1097862355148738591 34 220} {84234187430017396 34 221} {6284275012752115588 34 222} {6537578988722769244 34 223} {4252380536423144847 34 224}]
------------------------------------------------------
flag 89195 term 36 leader 1 nextIndex[0]: 225  matchIndex[0]: 224
term 36 leader 1 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 34 leaderCommit: 224 
------------------------------------------------------
flag 90261 term 36 leader 1 nextIndex[2]: 225  matchIndex[2]: 224
term 36 leader 1 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 34 leaderCommit: 224 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=225
update matchIndex[2]=224
update leader CommitIndex=224
leader log:
[{snapshot 34 219} {1097862355148738591 34 220} {84234187430017396 34 221} {6284275012752115588 34 222} {6537578988722769244 34 223} {4252380536423144847 34 224}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=224
leader log:
[{snapshot 34 219} {1097862355148738591 34 220} {84234187430017396 34 221} {6284275012752115588 34 222} {6537578988722769244 34 223} {4252380536423144847 34 224}]
------------------------------------------------------
flag 37749 term 36 leader 1 nextIndex[0]: 225  matchIndex[0]: 224
term 36 leader 1 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 34 leaderCommit: 224 
------------------------------------------------------
flag 68939 term 36 leader 1 nextIndex[2]: 225  matchIndex[2]: 224
term 36 leader 1 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 34 leaderCommit: 224 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=225
update matchIndex[2]=224
update leader CommitIndex=224
leader log:
[{snapshot 34 219} {1097862355148738591 34 220} {84234187430017396 34 221} {6284275012752115588 34 222} {6537578988722769244 34 223} {4252380536423144847 34 224}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=224
leader log:
[{snapshot 34 219} {1097862355148738591 34 220} {84234187430017396 34 221} {6284275012752115588 34 222} {6537578988722769244 34 223} {4252380536423144847 34 224}]
------------------------------------------------------
term 36 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 20450 term 36 leader 1 nextIndex[0]: 225  matchIndex[0]: 224
term 36 leader 1 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 34 leaderCommit: 224 
------------------------------------------------------
flag 52182 term 36 leader 1 nextIndex[2]: 225  matchIndex[2]: 224
term 36 leader 1 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 34 leaderCommit: 224 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=225
update matchIndex[2]=224
update leader CommitIndex=224
leader log:
[{snapshot 34 219} {1097862355148738591 34 220} {84234187430017396 34 221} {6284275012752115588 34 222} {6537578988722769244 34 223} {4252380536423144847 34 224}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=224
leader log:
[{snapshot 34 219} {1097862355148738591 34 220} {84234187430017396 34 221} {6284275012752115588 34 222} {6537578988722769244 34 223} {4252380536423144847 34 224}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 4423206124429017335 (index 225) to leader 1
flag 57421 term 36 leader 1 nextIndex[0]: 225  matchIndex[0]: 224
term 36 leader 1 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 34 leaderCommit: 224 
------------------------------------------------------
flag 55395 term 36 leader 1 nextIndex[2]: 225  matchIndex[2]: 224
term 36 leader 1 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 34 leaderCommit: 224 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=225
leader log:
[{snapshot 34 219} {1097862355148738591 34 220} {84234187430017396 34 221} {6284275012752115588 34 222} {6537578988722769244 34 223} {4252380536423144847 34 224} {4423206124429017335 36 225}]
------------------------------------------------------
flag 49051 term 36 leader 1 nextIndex[0]: 226  matchIndex[0]: 225
term 36 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 36 leaderCommit: 225 
------------------------------------------------------
flag 69194 term 36 leader 1 nextIndex[2]: 225  matchIndex[2]: 224
term 36 leader 1 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 34 leaderCommit: 225 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=225
leader log:
[{snapshot 34 219} {1097862355148738591 34 220} {84234187430017396 34 221} {6284275012752115588 34 222} {6537578988722769244 34 223} {4252380536423144847 34 224} {4423206124429017335 36 225}]
------------------------------------------------------
client write log 4659664048888561710 (index 226) to leader 1
client write log 1073536637474196565 (index 227) to leader 1
client write log 2884452128715319357 (index 228) to leader 1
client write log 8908030992160356371 (index 229) to leader 1
client write log 3143456299105663343 (index 230) to leader 1
client write log 9019965464937431218 (index 231) to leader 1
client write log 6303015280322154398 (index 232) to leader 1
client write log 5640973680896298475 (index 233) to leader 1
client write log 7602712818705650935 (index 234) to leader 1
client write log 773194695275308652 (index 235) to leader 1
client write log 979920835845655443 (index 236) to leader 1
client write log 5355932570929509694 (index 237) to leader 1
client write log 290165898225902013 (index 238) to leader 1
client write log 7021194347013324904 (index 239) to leader 1
term 36 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 41525 term 36 leader 1 nextIndex[0]: 226  matchIndex[0]: 225
term 36 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 36 leaderCommit: 225 
------------------------------------------------------
flag 53583 term 36 leader 1 nextIndex[2]: 225  matchIndex[2]: 224
term 36 leader 1 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 34 leaderCommit: 225 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=239
leader log:
[{snapshot 34 219} {1097862355148738591 34 220} {84234187430017396 34 221} {6284275012752115588 34 222} {6537578988722769244 34 223} {4252380536423144847 34 224} {4423206124429017335 36 225} {4659664048888561710 36 226} {1073536637474196565 36 227} {2884452128715319357 36 228} {8908030992160356371 36 229} {3143456299105663343 36 230} {9019965464937431218 36 231} {6303015280322154398 36 232} {5640973680896298475 36 233} {7602712818705650935 36 234} {773194695275308652 36 235} {979920835845655443 36 236} {5355932570929509694 36 237} {290165898225902013 36 238} {7021194347013324904 36 239}]
------------------------------------------------------
term 36 Server1 start snapshot! index=229
term 36 server1 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=239
-------------------------------------------------------------
term 36 Server1 start snapshot! index=239
term 36 server1 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=239
-------------------------------------------------------------
flag 87453 term 36 leader 1 nextIndex[0]: 240  matchIndex[0]: 239
term 36 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 36 leaderCommit: 239 
------------------------------------------------------
term 36 leader 1 nextIndex[2]: 225  matchIndex[2]: 224
term 36 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 36
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=239
leader log:
[{snapshot 36 239}]
------------------------------------------------------
term 36 Server0 start snapshot! index=229
term 36 server0 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=239
-------------------------------------------------------------
term 36 Server0 start snapshot! index=239
term 36 server0 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=239
-------------------------------------------------------------
!!!!!!connect server 2
client write log 1942009510451976050 (index 240) to leader 1
term 36 server 1 not vote for server 2, 日志不够新
term 36 server 0 not vote for server 2, 日志不够新
term 38 server 2 vote for server 1
term 38 server 1 get vote from server 2
term 38 server 1 become leader
------------------------------------------------------
term 38 server 0 vote for server 1
term 38 server 1 get outdate rpc reply from server 0
flag 33830 term 38 leader 1 nextIndex[0]: 241  matchIndex[0]: 0
term 38 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 36 leaderCommit: 239 
------------------------------------------------------
flag 13331 term 38 leader 1 nextIndex[2]: 241  matchIndex[2]: 0
term 38 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 36 leaderCommit: 239 
------------------------------------------------------
term 38 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 241->240
------------------------------------------------------
term 38 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 241->240
------------------------------------------------------
term 38 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 56922 term 38 leader 1 nextIndex[0]: 240  matchIndex[0]: 0
term 38 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 36 leaderCommit: 239 
------------------------------------------------------
term 38 leader 1 nextIndex[2]: 225  matchIndex[2]: 0
term 38 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 36
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=241
update matchIndex[0]=240
update leader CommitIndex=239
leader log:
[{snapshot 36 239} {1942009510451976050 36 240}]
------------------------------------------------------
term 38 server 2 InstallSnapshot success
------------------------------------------------------
term 38 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 240 matchIndex[2] 239 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 239 rf.lastIncludedTerm 36 rf.commitIndex 239 rf.lastApplied 239
flag 43090 term 38 leader 1 nextIndex[0]: 241  matchIndex[0]: 240
term 38 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 36 leaderCommit: 239 
------------------------------------------------------
flag 31644 term 38 leader 1 nextIndex[2]: 240  matchIndex[2]: 239
term 38 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 36 leaderCommit: 239 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=239
leader log:
[{snapshot 36 239} {1942009510451976050 36 240}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=241
update matchIndex[0]=240
update leader CommitIndex=239
leader log:
[{snapshot 36 239} {1942009510451976050 36 240}]
------------------------------------------------------
flag 66217 term 38 leader 1 nextIndex[0]: 241  matchIndex[0]: 240
term 38 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 36 leaderCommit: 239 
------------------------------------------------------
flag 88146 term 38 leader 1 nextIndex[2]: 241  matchIndex[2]: 240
term 38 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 36 leaderCommit: 239 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=239
leader log:
[{snapshot 36 239} {1942009510451976050 36 240}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=241
update matchIndex[0]=240
update leader CommitIndex=239
leader log:
[{snapshot 36 239} {1942009510451976050 36 240}]
------------------------------------------------------
flag 80186 term 38 leader 1 nextIndex[0]: 241  matchIndex[0]: 240
term 38 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 36 leaderCommit: 239 
------------------------------------------------------
flag 25648 term 38 leader 1 nextIndex[2]: 241  matchIndex[2]: 240
term 38 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 36 leaderCommit: 239 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=239
leader log:
[{snapshot 36 239} {1942009510451976050 36 240}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=241
update matchIndex[0]=240
update leader CommitIndex=239
leader log:
[{snapshot 36 239} {1942009510451976050 36 240}]
------------------------------------------------------
flag 15608 term 38 leader 1 nextIndex[0]: 241  matchIndex[0]: 240
term 38 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 36 leaderCommit: 239 
------------------------------------------------------
flag 53839 term 38 leader 1 nextIndex[2]: 241  matchIndex[2]: 240
term 38 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 36 leaderCommit: 239 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=239
leader log:
[{snapshot 36 239} {1942009510451976050 36 240}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=241
update matchIndex[0]=240
update leader CommitIndex=239
leader log:
[{snapshot 36 239} {1942009510451976050 36 240}]
------------------------------------------------------
flag 5781 term 38 leader 1 nextIndex[0]: 241  matchIndex[0]: 240
term 38 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 36 leaderCommit: 239 
------------------------------------------------------
flag 19343 term 38 leader 1 nextIndex[2]: 241  matchIndex[2]: 240
term 38 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 36 leaderCommit: 239 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=239
leader log:
[{snapshot 36 239} {1942009510451976050 36 240}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=241
update matchIndex[0]=240
update leader CommitIndex=239
leader log:
[{snapshot 36 239} {1942009510451976050 36 240}]
------------------------------------------------------
flag 98936 term 38 leader 1 nextIndex[0]: 241  matchIndex[0]: 240
term 38 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 36 leaderCommit: 239 
------------------------------------------------------
flag 94434 term 38 leader 1 nextIndex[2]: 241  matchIndex[2]: 240
term 38 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 36 leaderCommit: 239 
------------------------------------------------------
term 38 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=241
update matchIndex[0]=240
update leader CommitIndex=239
leader log:
[{snapshot 36 239} {1942009510451976050 36 240}]
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=239
leader log:
[{snapshot 36 239} {1942009510451976050 36 240}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23507 term 38 leader 1 nextIndex[0]: 241  matchIndex[0]: 240
term 38 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 36 leaderCommit: 239 
------------------------------------------------------
flag 68211 term 38 leader 1 nextIndex[2]: 241  matchIndex[2]: 240
term 38 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 36 leaderCommit: 239 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=241
update matchIndex[0]=240
update leader CommitIndex=239
leader log:
[{snapshot 36 239} {1942009510451976050 36 240}]
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=239
leader log:
[{snapshot 36 239} {1942009510451976050 36 240}]
------------------------------------------------------
flag 6511 term 38 leader 1 nextIndex[0]: 241  matchIndex[0]: 240
term 38 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 36 leaderCommit: 239 
------------------------------------------------------
flag 30902 term 38 leader 1 nextIndex[2]: 241  matchIndex[2]: 240
term 38 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 36 leaderCommit: 239 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=241
update matchIndex[0]=240
update leader CommitIndex=239
leader log:
[{snapshot 36 239} {1942009510451976050 36 240}]
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=239
leader log:
[{snapshot 36 239} {1942009510451976050 36 240}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1385 term 38 leader 1 nextIndex[0]: 241  matchIndex[0]: 240
term 38 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 36 leaderCommit: 239 
------------------------------------------------------
flag 74069 term 38 leader 1 nextIndex[2]: 241  matchIndex[2]: 240
term 38 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 36 leaderCommit: 239 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=239
leader log:
[{snapshot 36 239} {1942009510451976050 36 240}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=241
update matchIndex[0]=240
update leader CommitIndex=239
leader log:
[{snapshot 36 239} {1942009510451976050 36 240}]
------------------------------------------------------
flag 31296 term 38 leader 1 nextIndex[0]: 241  matchIndex[0]: 240
term 38 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 36 leaderCommit: 239 
------------------------------------------------------
flag 68590 term 38 leader 1 nextIndex[2]: 241  matchIndex[2]: 240
term 38 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 36 leaderCommit: 239 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
term 38 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
update matchIndex[2]=240
update leader CommitIndex=239
leader log:
[{snapshot 36 239} {1942009510451976050 36 240}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=241
update matchIndex[0]=240
update leader CommitIndex=239
leader log:
[{snapshot 36 239} {1942009510451976050 36 240}]
------------------------------------------------------
flag 99587 term 38 leader 1 nextIndex[0]: 241  matchIndex[0]: 240
term 38 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 36 leaderCommit: 239 
------------------------------------------------------
flag 22332 term 38 leader 1 nextIndex[2]: 241  matchIndex[2]: 240
term 38 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 36 leaderCommit: 239 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=239
leader log:
[{snapshot 36 239} {1942009510451976050 36 240}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=241
update matchIndex[0]=240
update leader CommitIndex=239
leader log:
[{snapshot 36 239} {1942009510451976050 36 240}]
------------------------------------------------------
flag 78005 term 38 leader 1 nextIndex[0]: 241  matchIndex[0]: 240
term 38 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 36 leaderCommit: 239 
------------------------------------------------------
flag 30921 term 38 leader 1 nextIndex[2]: 241  matchIndex[2]: 240
term 38 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 36 leaderCommit: 239 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=241
update matchIndex[0]=240
update leader CommitIndex=239
leader log:
[{snapshot 36 239} {1942009510451976050 36 240}]
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=239
leader log:
[{snapshot 36 239} {1942009510451976050 36 240}]
------------------------------------------------------
flag 54201 term 38 leader 1 nextIndex[0]: 241  matchIndex[0]: 240
term 38 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 36 leaderCommit: 239 
------------------------------------------------------
flag 10419 term 38 leader 1 nextIndex[2]: 241  matchIndex[2]: 240
term 38 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 36 leaderCommit: 239 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=239
leader log:
[{snapshot 36 239} {1942009510451976050 36 240}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=241
update matchIndex[0]=240
update leader CommitIndex=239
leader log:
[{snapshot 36 239} {1942009510451976050 36 240}]
------------------------------------------------------
flag 55288 term 38 leader 1 nextIndex[0]: 241  matchIndex[0]: 240
term 38 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 36 leaderCommit: 239 
------------------------------------------------------
flag 53019 term 38 leader 1 nextIndex[2]: 241  matchIndex[2]: 240
term 38 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 36 leaderCommit: 239 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=239
leader log:
[{snapshot 36 239} {1942009510451976050 36 240}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=241
update matchIndex[0]=240
update leader CommitIndex=239
leader log:
[{snapshot 36 239} {1942009510451976050 36 240}]
------------------------------------------------------
flag 12324 term 38 leader 1 nextIndex[0]: 241  matchIndex[0]: 240
term 38 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 36 leaderCommit: 239 
------------------------------------------------------
flag 51530 term 38 leader 1 nextIndex[2]: 241  matchIndex[2]: 240
term 38 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 36 leaderCommit: 239 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=239
leader log:
term 38 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
[{snapshot 36 239} {1942009510451976050 36 240}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=241
update matchIndex[0]=240
update leader CommitIndex=239
leader log:
[{snapshot 36 239} {1942009510451976050 36 240}]
------------------------------------------------------
flag 71356 term 38 leader 1 nextIndex[0]: 241  matchIndex[0]: 240
term 38 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 36 leaderCommit: 239 
------------------------------------------------------
flag 98966 term 38 leader 1 nextIndex[2]: 241  matchIndex[2]: 240
term 38 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 36 leaderCommit: 239 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=239
leader log:
[{snapshot 36 239} {1942009510451976050 36 240}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=241
update matchIndex[0]=240
update leader CommitIndex=239
leader log:
[{snapshot 36 239} {1942009510451976050 36 240}]
------------------------------------------------------
term 38 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 14161 term 38 leader 1 nextIndex[0]: 241  matchIndex[0]: 240
term 38 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 36 leaderCommit: 239 
------------------------------------------------------
flag 70345 term 38 leader 1 nextIndex[2]: 241  matchIndex[2]: 240
term 38 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 36 leaderCommit: 239 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=239
leader log:
[{snapshot 36 239} {1942009510451976050 36 240}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=241
update matchIndex[0]=240
update leader CommitIndex=239
leader log:
[{snapshot 36 239} {1942009510451976050 36 240}]
------------------------------------------------------
flag 47366 term 38 leader 1 nextIndex[0]: 241  matchIndex[0]: 240
term 38 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 36 leaderCommit: 239 
------------------------------------------------------
flag 22707 term 38 leader 1 nextIndex[2]: 241  matchIndex[2]: 240
term 38 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 36 leaderCommit: 239 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=239
leader log:
[{snapshot 36 239} {1942009510451976050 36 240}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=241
update matchIndex[0]=240
update leader CommitIndex=239
leader log:
[{snapshot 36 239} {1942009510451976050 36 240}]
------------------------------------------------------
client write log 1942009510451976050 (index 241) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97041 term 38 leader 1 nextIndex[0]: 241  matchIndex[0]: 240
term 38 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 36 leaderCommit: 239 
------------------------------------------------------
flag 76245 term 38 leader 1 nextIndex[2]: 241  matchIndex[2]: 240
term 38 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 36 leaderCommit: 239 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=241
leader log:
[{snapshot 36 239} {1942009510451976050 36 240} {1942009510451976050 38 241}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=241
leader log:
[{snapshot 36 239} {1942009510451976050 36 240} {1942009510451976050 38 241}]
------------------------------------------------------
term 38 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 68360 term 38 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 38 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 38 leaderCommit: 241 
------------------------------------------------------
flag 65005 term 38 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 38 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 38 leaderCommit: 241 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=241
leader log:
[{snapshot 36 239} {1942009510451976050 36 240} {1942009510451976050 38 241}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=241
leader log:
[{snapshot 36 239} {1942009510451976050 36 240} {1942009510451976050 38 241}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32716 term 38 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 38 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 38 leaderCommit: 241 
------------------------------------------------------
flag 92960 term 38 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 38 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 38 leaderCommit: 241 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=241
leader log:
[{snapshot 36 239} {1942009510451976050 36 240} {1942009510451976050 38 241}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=241
leader log:
[{snapshot 36 239} {1942009510451976050 36 240} {1942009510451976050 38 241}]
------------------------------------------------------
flag 98067 term 38 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 38 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 38 leaderCommit: 241 
------------------------------------------------------
flag 23546 term 38 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 38 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 38 leaderCommit: 241 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=241
leader log:
[{snapshot 36 239} {1942009510451976050 36 240} {1942009510451976050 38 241}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=241
leader log:
[{snapshot 36 239} {1942009510451976050 36 240} {1942009510451976050 38 241}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29786 term 38 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 38 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 38 leaderCommit: 241 
------------------------------------------------------
flag 79384 term 38 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 38 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 38 leaderCommit: 241 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=241
leader log:
[{snapshot 36 239} {1942009510451976050 36 240} {1942009510451976050 38 241}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=241
leader log:
[{snapshot 36 239} {1942009510451976050 36 240} {1942009510451976050 38 241}]
------------------------------------------------------
flag 1382 term 38 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 38 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 38 leaderCommit: 241 
------------------------------------------------------
flag 83187 term 38 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 38 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 38 leaderCommit: 241 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=241
leader log:
[{snapshot 36 239} {1942009510451976050 36 240} {1942009510451976050 38 241}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=241
leader log:
[{snapshot 36 239} {1942009510451976050 36 240} {1942009510451976050 38 241}]
------------------------------------------------------
flag 51020 term 38 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 38 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 38 leaderCommit: 241 
------------------------------------------------------
flag 4139 term 38 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 38 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 38 leaderCommit: 241 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=241
leader log:
[{snapshot 36 239} {1942009510451976050 36 240} {1942009510451976050 38 241}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=241
leader log:
[{snapshot 36 239} {1942009510451976050 36 240} {1942009510451976050 38 241}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 3285755449241357162 (index 242) to leader 1
flag 35867 term 38 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 38 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 38 leaderCommit: 241 
------------------------------------------------------
flag 75496 term 38 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 38 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 38 leaderCommit: 241 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=242
leader log:
[{snapshot 36 239} {1942009510451976050 36 240} {1942009510451976050 38 241} {3285755449241357162 38 242}]
------------------------------------------------------
flag 38024 term 38 leader 1 nextIndex[0]: 243  matchIndex[0]: 242
term 38 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 38 leaderCommit: 242 
------------------------------------------------------
flag 90558 term 38 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 38 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 38 leaderCommit: 242 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=242
leader log:
[{snapshot 36 239} {1942009510451976050 36 240} {1942009510451976050 38 241} {3285755449241357162 38 242}]
------------------------------------------------------
client write log 8584939212681725229 (index 243) to leader 1
client write log 4061560125239143068 (index 244) to leader 1
client write log 8963244024547665168 (index 245) to leader 1
client write log 3348874976180102263 (index 246) to leader 1
client write log 1507070234730881426 (index 247) to leader 1
client write log 8668863570826326990 (index 248) to leader 1
client write log 1273929874265398037 (index 249) to leader 1
client write log 9159212814311878768 (index 250) to leader 1
client write log 738862552792755867 (index 251) to leader 1
client write log 6299927555208715654 (index 252) to leader 1
client write log 2234477363379666987 (index 253) to leader 1
client write log 700855355250916376 (index 254) to leader 1
client write log 2349093461774839354 (index 255) to leader 1
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 242->241
------------------------------------------------------
flag 17875 term 38 leader 1 nextIndex[0]: 243  matchIndex[0]: 242
term 38 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 38 leaderCommit: 242 
------------------------------------------------------
term 38 leader 1 nextIndex[2]: 0  matchIndex[2]: 241
term 38 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 36
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=255
leader log:
[{snapshot 36 239} {1942009510451976050 36 240} {1942009510451976050 38 241} {3285755449241357162 38 242} {8584939212681725229 38 243} {4061560125239143068 38 244} {8963244024547665168 38 245} {3348874976180102263 38 246} {1507070234730881426 38 247} {8668863570826326990 38 248} {1273929874265398037 38 249} {9159212814311878768 38 250} {738862552792755867 38 251} {6299927555208715654 38 252} {2234477363379666987 38 253} {700855355250916376 38 254} {2349093461774839354 38 255}]
------------------------------------------------------
term 38 Server1 start snapshot! index=249
term 38 server1 snapshot success
lastIncludedIndex=249 lastApplied=250 lastIndex=255
-------------------------------------------------------------
term 38 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44273 term 38 leader 1 nextIndex[0]: 256  matchIndex[0]: 255
term 38 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 38 leaderCommit: 255 
------------------------------------------------------
term 38 leader 1 nextIndex[2]: 0  matchIndex[2]: 241
term 38 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 38
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=255
leader log:
[{snapshot 38 249} {9159212814311878768 38 250} {738862552792755867 38 251} {6299927555208715654 38 252} {2234477363379666987 38 253} {700855355250916376 38 254} {2349093461774839354 38 255}]
------------------------------------------------------
term 38 Server0 start snapshot! index=249
term 38 server0 snapshot success
lastIncludedIndex=249 lastApplied=250 lastIndex=255
-------------------------------------------------------------
!!!!!!connect server 2
client write log 8232939638040173383 (index 256) to leader 1
flag 97660 term 38 leader 1 nextIndex[0]: 256  matchIndex[0]: 255
term 38 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 38 leaderCommit: 255 
------------------------------------------------------
term 38 leader 1 nextIndex[2]: 0  matchIndex[2]: 241
term 38 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 38
------------------------------------------------------
term 39 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
term 38 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 40 server 2 vote for server 1
term 40 server 1 get vote from server 2
term 40 server 1 become leader
------------------------------------------------------
term 40 server 0 vote for server 1
term 40 server 1 get outdate rpc reply from server 0
flag 73897 term 40 leader 1 nextIndex[0]: 257  matchIndex[0]: 0
term 40 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 38 leaderCommit: 255 
------------------------------------------------------
flag 61190 term 40 leader 1 nextIndex[2]: 257  matchIndex[2]: 0
term 40 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 38 leaderCommit: 255 
------------------------------------------------------
term 40 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 257->256
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=255
leader log:
[{snapshot 38 249} {9159212814311878768 38 250} {738862552792755867 38 251} {6299927555208715654 38 252} {2234477363379666987 38 253} {700855355250916376 38 254} {2349093461774839354 38 255} {8232939638040173383 38 256}]
------------------------------------------------------
term 40 server 0 not vote for server 2, 任期不够新
term 40 server 2 get outdate rpc reply from server 0
term 40 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52921 term 40 leader 1 nextIndex[0]: 257  matchIndex[0]: 256
term 40 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 38 leaderCommit: 255 
------------------------------------------------------
term 40 leader 1 nextIndex[2]: 242  matchIndex[2]: 0
term 40 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 38
------------------------------------------------------
term 40 server 2 InstallSnapshot success
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
term 40 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 250 matchIndex[2] 249 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=255
leader log:
[{snapshot 38 249} {9159212814311878768 38 250} {738862552792755867 38 251} {6299927555208715654 38 252} {2234477363379666987 38 253} {700855355250916376 38 254} {2349093461774839354 38 255} {8232939638040173383 38 256}]
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 249 rf.lastIncludedTerm 38 rf.commitIndex 249 rf.lastApplied 249
flag 98858 term 40 leader 1 nextIndex[0]: 257  matchIndex[0]: 256
term 40 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 38 leaderCommit: 255 
------------------------------------------------------
flag 20259 term 40 leader 1 nextIndex[2]: 250  matchIndex[2]: 249
term 40 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 38 leaderCommit: 255 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=255
leader log:
[{snapshot 38 249} {9159212814311878768 38 250} {738862552792755867 38 251} {6299927555208715654 38 252} {2234477363379666987 38 253} {700855355250916376 38 254} {2349093461774839354 38 255} {8232939638040173383 38 256}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=255
leader log:
[{snapshot 38 249} {9159212814311878768 38 250} {738862552792755867 38 251} {6299927555208715654 38 252} {2234477363379666987 38 253} {700855355250916376 38 254} {2349093461774839354 38 255} {8232939638040173383 38 256}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56458 term 40 leader 1 nextIndex[0]: 257  matchIndex[0]: 256
term 40 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 38 leaderCommit: 255 
------------------------------------------------------
flag 75046 term 40 leader 1 nextIndex[2]: 257  matchIndex[2]: 256
term 40 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 38 leaderCommit: 255 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=255
leader log:
[{snapshot 38 249} {9159212814311878768 38 250} {738862552792755867 38 251} {6299927555208715654 38 252} {2234477363379666987 38 253} {700855355250916376 38 254} {2349093461774839354 38 255} {8232939638040173383 38 256}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=255
leader log:
[{snapshot 38 249} {9159212814311878768 38 250} {738862552792755867 38 251} {6299927555208715654 38 252} {2234477363379666987 38 253} {700855355250916376 38 254} {2349093461774839354 38 255} {8232939638040173383 38 256}]
------------------------------------------------------
flag 19657 term 40 leader 1 nextIndex[0]: 257  matchIndex[0]: 256
term 40 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 38 leaderCommit: 255 
------------------------------------------------------
flag 30731 term 40 leader 1 nextIndex[2]: 257  matchIndex[2]: 256
term 40 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 38 leaderCommit: 255 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=255
leader log:
term 40 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
[{snapshot 38 249} {9159212814311878768 38 250} {738862552792755867 38 251} {6299927555208715654 38 252} {2234477363379666987 38 253} {700855355250916376 38 254} {2349093461774839354 38 255} {8232939638040173383 38 256}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=255
leader log:
[{snapshot 38 249} {9159212814311878768 38 250} {738862552792755867 38 251} {6299927555208715654 38 252} {2234477363379666987 38 253} {700855355250916376 38 254} {2349093461774839354 38 255} {8232939638040173383 38 256}]
------------------------------------------------------
flag 68880 term 40 leader 1 nextIndex[0]: 257  matchIndex[0]: 256
term 40 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 38 leaderCommit: 255 
------------------------------------------------------
flag 23662 term 40 leader 1 nextIndex[2]: 257  matchIndex[2]: 256
term 40 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 38 leaderCommit: 255 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=255
leader log:
[{snapshot 38 249} {9159212814311878768 38 250} {738862552792755867 38 251} {6299927555208715654 38 252} {2234477363379666987 38 253} {700855355250916376 38 254} {2349093461774839354 38 255} {8232939638040173383 38 256}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=255
leader log:
[{snapshot 38 249} {9159212814311878768 38 250} {738862552792755867 38 251} {6299927555208715654 38 252} {2234477363379666987 38 253} {700855355250916376 38 254} {2349093461774839354 38 255} {8232939638040173383 38 256}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77491 term 40 leader 1 nextIndex[0]: 257  matchIndex[0]: 256
term 40 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 38 leaderCommit: 255 
------------------------------------------------------
flag 70007 term 40 leader 1 nextIndex[2]: 257  matchIndex[2]: 256
term 40 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 38 leaderCommit: 255 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=255
leader log:
[{snapshot 38 249} {9159212814311878768 38 250} {738862552792755867 38 251} {6299927555208715654 38 252} {2234477363379666987 38 253} {700855355250916376 38 254} {2349093461774839354 38 255} {8232939638040173383 38 256}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=255
leader log:
[{snapshot 38 249} {9159212814311878768 38 250} {738862552792755867 38 251} {6299927555208715654 38 252} {2234477363379666987 38 253} {700855355250916376 38 254} {2349093461774839354 38 255} {8232939638040173383 38 256}]
------------------------------------------------------
flag 24257 term 40 leader 1 nextIndex[0]: 257  matchIndex[0]: 256
term 40 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 38 leaderCommit: 255 
------------------------------------------------------
flag 65577 term 40 leader 1 nextIndex[2]: 257  matchIndex[2]: 256
term 40 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 38 leaderCommit: 255 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=255
leader log:
[{snapshot 38 249} {9159212814311878768 38 250} {738862552792755867 38 251} {6299927555208715654 38 252} {2234477363379666987 38 253} {700855355250916376 38 254} {2349093461774839354 38 255} {8232939638040173383 38 256}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=255
leader log:
[{snapshot 38 249} {9159212814311878768 38 250} {738862552792755867 38 251} {6299927555208715654 38 252} {2234477363379666987 38 253} {700855355250916376 38 254} {2349093461774839354 38 255} {8232939638040173383 38 256}]
------------------------------------------------------
term 40 server 0 not vote for server 1, 任期不够新
term 40 server 1 get outdate rpc reply from server 0
flag 56997 term 40 leader 1 nextIndex[0]: 257  matchIndex[0]: 256
term 40 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 38 leaderCommit: 255 
------------------------------------------------------
flag 55410 term 40 leader 1 nextIndex[2]: 257  matchIndex[2]: 256
term 40 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 38 leaderCommit: 255 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=255
leader log:
[{snapshot 38 249} {9159212814311878768 38 250} {738862552792755867 38 251} {6299927555208715654 38 252} {2234477363379666987 38 253} {700855355250916376 38 254} {2349093461774839354 38 255} {8232939638040173383 38 256}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=255
leader log:
[{snapshot 38 249} {9159212814311878768 38 250} {738862552792755867 38 251} {6299927555208715654 38 252} {2234477363379666987 38 253} {700855355250916376 38 254} {2349093461774839354 38 255} {8232939638040173383 38 256}]
------------------------------------------------------
flag 48404 term 40 leader 1 nextIndex[0]: 257  matchIndex[0]: 256
term 40 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 38 leaderCommit: 255 
------------------------------------------------------
flag 17171 term 40 leader 1 nextIndex[2]: 257  matchIndex[2]: 256
term 40 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 38 leaderCommit: 255 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=255
leader log:
[{snapshot 38 249} {9159212814311878768 38 250} {738862552792755867 38 251} {6299927555208715654 38 252} {2234477363379666987 38 253} {700855355250916376 38 254} {2349093461774839354 38 255} {8232939638040173383 38 256}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=255
leader log:
[{snapshot 38 249} {9159212814311878768 38 250} {738862552792755867 38 251} {6299927555208715654 38 252} {2234477363379666987 38 253} {700855355250916376 38 254} {2349093461774839354 38 255} {8232939638040173383 38 256}]
------------------------------------------------------
flag 7754 term 40 leader 1 nextIndex[0]: 257  matchIndex[0]: 256
term 40 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 38 leaderCommit: 255 
------------------------------------------------------
flag 40093 term 40 leader 1 nextIndex[2]: 257  matchIndex[2]: 256
term 40 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 38 leaderCommit: 255 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=255
leader log:
[{snapshot 38 249} {9159212814311878768 38 250} {738862552792755867 38 251} {6299927555208715654 38 252} {2234477363379666987 38 253} {700855355250916376 38 254} {2349093461774839354 38 255} {8232939638040173383 38 256}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=255
leader log:
[{snapshot 38 249} {9159212814311878768 38 250} {738862552792755867 38 251} {6299927555208715654 38 252} {2234477363379666987 38 253} {700855355250916376 38 254} {2349093461774839354 38 255} {8232939638040173383 38 256}]
------------------------------------------------------
flag 87807 term 40 leader 1 nextIndex[0]: 257  matchIndex[0]: 256
term 40 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 38 leaderCommit: 255 
------------------------------------------------------
flag 63405 term 40 leader 1 nextIndex[2]: 257  matchIndex[2]: 256
term 40 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 38 leaderCommit: 255 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=255
leader log:
[{snapshot 38 249} {9159212814311878768 38 250} {738862552792755867 38 251} {6299927555208715654 38 252} {2234477363379666987 38 253} {700855355250916376 38 254} {2349093461774839354 38 255} {8232939638040173383 38 256}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=255
leader log:
[{snapshot 38 249} {9159212814311878768 38 250} {738862552792755867 38 251} {6299927555208715654 38 252} {2234477363379666987 38 253} {700855355250916376 38 254} {2349093461774839354 38 255} {8232939638040173383 38 256}]
------------------------------------------------------
flag 88955 term 40 leader 1 nextIndex[0]: 257  matchIndex[0]: 256
term 40 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 38 leaderCommit: 255 
------------------------------------------------------
flag 63683 term 40 leader 1 nextIndex[2]: 257  matchIndex[2]: 256
term 40 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 38 leaderCommit: 255 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=255
leader log:
[{snapshot 38 249} {9159212814311878768 38 250} {738862552792755867 38 251} {6299927555208715654 38 252} {2234477363379666987 38 253} {700855355250916376 38 254} {2349093461774839354 38 255} {8232939638040173383 38 256}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=255
leader log:
[{snapshot 38 249} {9159212814311878768 38 250} {738862552792755867 38 251} {6299927555208715654 38 252} {2234477363379666987 38 253} {700855355250916376 38 254} {2349093461774839354 38 255} {8232939638040173383 38 256}]
------------------------------------------------------
flag 88234 term 40 leader 1 nextIndex[0]: 257  matchIndex[0]: 256
term 40 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 38 leaderCommit: 255 
------------------------------------------------------
flag 53862 term 40 leader 1 nextIndex[2]: 257  matchIndex[2]: 256
term 40 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 38 leaderCommit: 255 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=255
leader log:
[{snapshot 38 249} {9159212814311878768 38 250} {738862552792755867 38 251} {6299927555208715654 38 252} {2234477363379666987 38 253} {700855355250916376 38 254} {2349093461774839354 38 255} {8232939638040173383 38 256}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=255
leader log:
[{snapshot 38 249} {9159212814311878768 38 250} {738862552792755867 38 251} {6299927555208715654 38 252} {2234477363379666987 38 253} {700855355250916376 38 254} {2349093461774839354 38 255} {8232939638040173383 38 256}]
------------------------------------------------------
flag 91739 term 40 leader 1 nextIndex[0]: 257  matchIndex[0]: 256
term 40 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 38 leaderCommit: 255 
------------------------------------------------------
flag 59338 term 40 leader 1 nextIndex[2]: 257  matchIndex[2]: 256
term 40 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 38 leaderCommit: 255 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=255
leader log:
[{snapshot 38 249} {9159212814311878768 38 250} {738862552792755867 38 251} {6299927555208715654 38 252} {2234477363379666987 38 253} {700855355250916376 38 254} {2349093461774839354 38 255} {8232939638040173383 38 256}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=255
leader log:
[{snapshot 38 249} {9159212814311878768 38 250} {738862552792755867 38 251} {6299927555208715654 38 252} {2234477363379666987 38 253} {700855355250916376 38 254} {2349093461774839354 38 255} {8232939638040173383 38 256}]
------------------------------------------------------
flag 79777 term 40 leader 1 nextIndex[0]: 257  matchIndex[0]: 256
term 40 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 38 leaderCommit: 255 
------------------------------------------------------
flag 94880 term 40 leader 1 nextIndex[2]: 257  matchIndex[2]: 256
term 40 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 38 leaderCommit: 255 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=255
leader log:
[{snapshot 38 249} {9159212814311878768 38 250} {738862552792755867 38 251} {6299927555208715654 38 252} {2234477363379666987 38 253} {700855355250916376 38 254} {2349093461774839354 38 255} {8232939638040173383 38 256}]
term 40 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=255
leader log:
[{snapshot 38 249} {9159212814311878768 38 250} {738862552792755867 38 251} {6299927555208715654 38 252} {2234477363379666987 38 253} {700855355250916376 38 254} {2349093461774839354 38 255} {8232939638040173383 38 256}]
------------------------------------------------------
flag 57057 term 40 leader 1 nextIndex[0]: 257  matchIndex[0]: 256
term 40 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 38 leaderCommit: 255 
------------------------------------------------------
flag 68480 term 40 leader 1 nextIndex[2]: 257  matchIndex[2]: 256
term 40 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 38 leaderCommit: 255 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=255
leader log:
[{snapshot 38 249} {9159212814311878768 38 250} {738862552792755867 38 251} {6299927555208715654 38 252} {2234477363379666987 38 253} {700855355250916376 38 254} {2349093461774839354 38 255} {8232939638040173383 38 256}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=255
leader log:
[{snapshot 38 249} {9159212814311878768 38 250} {738862552792755867 38 251} {6299927555208715654 38 252} {2234477363379666987 38 253} {700855355250916376 38 254} {2349093461774839354 38 255} {8232939638040173383 38 256}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90289 term 40 leader 1 nextIndex[0]: 257  matchIndex[0]: 256
term 40 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 38 leaderCommit: 255 
------------------------------------------------------
flag 7398 term 40 leader 1 nextIndex[2]: 257  matchIndex[2]: 256
term 40 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 38 leaderCommit: 255 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=255
leader log:
[{snapshot 38 249} {9159212814311878768 38 250} {738862552792755867 38 251} {6299927555208715654 38 252} {2234477363379666987 38 253} {700855355250916376 38 254} {2349093461774839354 38 255} {8232939638040173383 38 256}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=255
leader log:
[{snapshot 38 249} {9159212814311878768 38 250} {738862552792755867 38 251} {6299927555208715654 38 252} {2234477363379666987 38 253} {700855355250916376 38 254} {2349093461774839354 38 255} {8232939638040173383 38 256}]
------------------------------------------------------
flag 62875 term 40 leader 1 nextIndex[0]: 257  matchIndex[0]: 256
term 40 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 38 leaderCommit: 255 
------------------------------------------------------
flag 47889 term 40 leader 1 nextIndex[2]: 257  matchIndex[2]: 256
term 40 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 38 leaderCommit: 255 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=255
leader log:
[{snapshot 38 249} {9159212814311878768 38 250} {738862552792755867 38 251} {6299927555208715654 38 252} {2234477363379666987 38 253} {700855355250916376 38 254} {2349093461774839354 38 255} {8232939638040173383 38 256}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=255
leader log:
[{snapshot 38 249} {9159212814311878768 38 250} {738862552792755867 38 251} {6299927555208715654 38 252} {2234477363379666987 38 253} {700855355250916376 38 254} {2349093461774839354 38 255} {8232939638040173383 38 256}]
------------------------------------------------------
client write log 8232939638040173383 (index 257) to leader 1
flag 29550 term 40 leader 1 nextIndex[0]: 257  matchIndex[0]: 256
term 40 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 38 leaderCommit: 255 
------------------------------------------------------
flag 40696 term 40 leader 1 nextIndex[2]: 257  matchIndex[2]: 256
term 40 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 38 leaderCommit: 255 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=257
leader log:
[{snapshot 38 249} {9159212814311878768 38 250} {738862552792755867 38 251} {6299927555208715654 38 252} {2234477363379666987 38 253} {700855355250916376 38 254} {2349093461774839354 38 255} {8232939638040173383 38 256} {8232939638040173383 40 257}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=257
leader log:
[{snapshot 38 249} {9159212814311878768 38 250} {738862552792755867 38 251} {6299927555208715654 38 252} {2234477363379666987 38 253} {700855355250916376 38 254} {2349093461774839354 38 255} {8232939638040173383 38 256} {8232939638040173383 40 257}]
------------------------------------------------------
flag 6575 term 40 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 40 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 40 leaderCommit: 257 
------------------------------------------------------
flag 11902 term 40 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 40 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 40 leaderCommit: 257 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=257
leader log:
[{snapshot 38 249} {9159212814311878768 38 250} {738862552792755867 38 251} {6299927555208715654 38 252} {2234477363379666987 38 253} {700855355250916376 38 254} {2349093461774839354 38 255} {8232939638040173383 38 256} {8232939638040173383 40 257}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=257
leader log:
[{snapshot 38 249} {9159212814311878768 38 250} {738862552792755867 38 251} {6299927555208715654 38 252} {2234477363379666987 38 253} {700855355250916376 38 254} {2349093461774839354 38 255} {8232939638040173383 38 256} {8232939638040173383 40 257}]
------------------------------------------------------
flag 67181 term 40 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 40 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 40 leaderCommit: 257 
------------------------------------------------------
flag 56281 term 40 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 40 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 40 leaderCommit: 257 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=257
leader log:
[{snapshot 38 249} {9159212814311878768 38 250} {738862552792755867 38 251} {6299927555208715654 38 252} {2234477363379666987 38 253} {700855355250916376 38 254} {2349093461774839354 38 255} {8232939638040173383 38 256} {8232939638040173383 40 257}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=257
leader log:
[{snapshot 38 249} {9159212814311878768 38 250} {738862552792755867 38 251} {6299927555208715654 38 252} {2234477363379666987 38 253} {700855355250916376 38 254} {2349093461774839354 38 255} {8232939638040173383 38 256} {8232939638040173383 40 257}]
------------------------------------------------------
flag 9515 term 40 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 40 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 40 leaderCommit: 257 
------------------------------------------------------
flag 11876 term 40 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 40 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 40 leaderCommit: 257 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=257
leader log:
[{snapshot 38 249} {9159212814311878768 38 250} {738862552792755867 38 251} {6299927555208715654 38 252} {2234477363379666987 38 253} {700855355250916376 38 254} {2349093461774839354 38 255} {8232939638040173383 38 256} {8232939638040173383 40 257}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=257
leader log:
[{snapshot 38 249} {9159212814311878768 38 250} {738862552792755867 38 251} {6299927555208715654 38 252} {2234477363379666987 38 253} {700855355250916376 38 254} {2349093461774839354 38 255} {8232939638040173383 38 256} {8232939638040173383 40 257}]
------------------------------------------------------
flag 91429 term 40 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 40 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 40 leaderCommit: 257 
------------------------------------------------------
flag 23036 term 40 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 40 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 40 leaderCommit: 257 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=257
leader log:
[{snapshot 38 249} {9159212814311878768 38 250} {738862552792755867 38 251} {6299927555208715654 38 252} {2234477363379666987 38 253} {700855355250916376 38 254} {2349093461774839354 38 255} {8232939638040173383 38 256} {8232939638040173383 40 257}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=257
leader log:
[{snapshot 38 249} {9159212814311878768 38 250} {738862552792755867 38 251} {6299927555208715654 38 252} {2234477363379666987 38 253} {700855355250916376 38 254} {2349093461774839354 38 255} {8232939638040173383 38 256} {8232939638040173383 40 257}]
------------------------------------------------------
flag 80212 term 40 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 40 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 40 leaderCommit: 257 
------------------------------------------------------
flag 24723 term 40 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 40 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 40 leaderCommit: 257 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=257
leader log:
[{snapshot 38 249} {9159212814311878768 38 250} {738862552792755867 38 251} {6299927555208715654 38 252} {2234477363379666987 38 253} {700855355250916376 38 254} {2349093461774839354 38 255} {8232939638040173383 38 256} {8232939638040173383 40 257}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=257
leader log:
[{snapshot 38 249} {9159212814311878768 38 250} {738862552792755867 38 251} {6299927555208715654 38 252} {2234477363379666987 38 253} {700855355250916376 38 254} {2349093461774839354 38 255} {8232939638040173383 38 256} {8232939638040173383 40 257}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 9745 term 40 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 40 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 40 leaderCommit: 257 
------------------------------------------------------
flag 67655 term 40 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 40 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 40 leaderCommit: 257 
------------------------------------------------------
flag 84423 term 40 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 40 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 40 leaderCommit: 257 
------------------------------------------------------
flag 43261 term 40 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 40 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 40 leaderCommit: 257 
------------------------------------------------------
flag 61881 term 40 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 40 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 40 leaderCommit: 257 
------------------------------------------------------
flag 55667 term 40 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 40 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 40 leaderCommit: 257 
------------------------------------------------------
flag 85670 term 40 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 40 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 40 leaderCommit: 257 
------------------------------------------------------
flag 56103 term 40 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 40 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 40 leaderCommit: 257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 258->257
------------------------------------------------------
term 41 server 2 vote for server 0
term 41 server 0 get vote from server 2
term 41 server 0 become leader
------------------------------------------------------
client write log 4360808297711133639 (index 258) to leader 0
flag 3159 term 41 leader 0 nextIndex[1]: 258  matchIndex[1]: 0
term 41 leader 0 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 40 leaderCommit: 257 
------------------------------------------------------
flag 52393 term 41 leader 0 nextIndex[2]: 258  matchIndex[2]: 0
term 41 leader 0 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 40 leaderCommit: 257 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 38 249} {9159212814311878768 38 250} {738862552792755867 38 251} {6299927555208715654 38 252} {2234477363379666987 38 253} {700855355250916376 38 254} {2349093461774839354 38 255} {8232939638040173383 38 256} {8232939638040173383 40 257} {4360808297711133639 41 258}]
------------------------------------------------------
term 40 leader 1 nextIndex[0]: 0  matchIndex[0]: 257
term 40 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 38
------------------------------------------------------
flag 59556 term 40 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 40 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 40 leaderCommit: 257 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57803 term 41 leader 0 nextIndex[1]: 258  matchIndex[1]: 0
term 41 leader 0 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 40 leaderCommit: 258 
------------------------------------------------------
flag 18800 term 41 leader 0 nextIndex[2]: 259  matchIndex[2]: 258
term 41 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 38 249} {9159212814311878768 38 250} {738862552792755867 38 251} {6299927555208715654 38 252} {2234477363379666987 38 253} {700855355250916376 38 254} {2349093461774839354 38 255} {8232939638040173383 38 256} {8232939638040173383 40 257} {4360808297711133639 41 258}]
------------------------------------------------------
client write log 2119446961476589646 (index 259) to leader 0
term 40 leader 1 nextIndex[0]: 0  matchIndex[0]: 257
term 40 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 38
------------------------------------------------------
flag 29957 term 40 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 40 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 40 leaderCommit: 257 
------------------------------------------------------
flag 4834 term 41 leader 0 nextIndex[1]: 258  matchIndex[1]: 0
term 41 leader 0 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 40 leaderCommit: 258 
------------------------------------------------------
flag 31570 term 41 leader 0 nextIndex[2]: 259  matchIndex[2]: 258
term 41 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=259
leader log:
[{snapshot 38 249} {9159212814311878768 38 250} {738862552792755867 38 251} {6299927555208715654 38 252} {2234477363379666987 38 253} {700855355250916376 38 254} {2349093461774839354 38 255} {8232939638040173383 38 256} {8232939638040173383 40 257} {4360808297711133639 41 258} {2119446961476589646 41 259}]
------------------------------------------------------
term 41 Server0 start snapshot! index=259
term 41 server0 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=259
-------------------------------------------------------------
term 40 leader 1 nextIndex[0]: 0  matchIndex[0]: 257
term 40 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 38
------------------------------------------------------
flag 13291 term 40 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 40 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 40 leaderCommit: 257 
------------------------------------------------------
term 41 leader 0 nextIndex[1]: 258  matchIndex[1]: 0
term 41 leader 0 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 41
------------------------------------------------------
flag 7840 term 41 leader 0 nextIndex[2]: 260  matchIndex[2]: 259
term 41 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 259 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=259
leader log:
[{snapshot 41 259}]
------------------------------------------------------
term 41 Server2 start snapshot! index=259
term 41 server2 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=259
-------------------------------------------------------------
!!!!!!connect server 1
client write log 5826667836661608197 (index 258) to leader 1
term 40 leader 1 nextIndex[0]: 0  matchIndex[0]: 257
term 40 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 38
------------------------------------------------------
flag 60996 term 40 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 40 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 40 leaderCommit: 257 
------------------------------------------------------
term 41 server 2 AppendEntries false 领导者任期过期 args.Term 40
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 41 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 41 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 41 leader 0 nextIndex[1]: 258  matchIndex[1]: 0
term 41 leader 0 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 41
------------------------------------------------------
flag 15517 term 41 leader 0 nextIndex[2]: 260  matchIndex[2]: 259
term 41 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 259 
------------------------------------------------------
term 41 server 1 InstallSnapshot success
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
term 41 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 260 matchIndex[1] 259 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 259 rf.lastIncludedTerm 41 rf.commitIndex 259 rf.lastApplied 259
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=259
leader log:
[{snapshot 41 259}]
------------------------------------------------------
term 41 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 51786 term 41 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 41 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 259 
------------------------------------------------------
flag 25398 term 41 leader 0 nextIndex[2]: 260  matchIndex[2]: 259
term 41 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 259 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=259
leader log:
[{snapshot 41 259}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=259
leader log:
[{snapshot 41 259}]
------------------------------------------------------
flag 37033 term 41 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 41 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 259 
------------------------------------------------------
flag 3070 term 41 leader 0 nextIndex[2]: 260  matchIndex[2]: 259
term 41 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 259 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=259
leader log:
[{snapshot 41 259}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=259
leader log:
[{snapshot 41 259}]
------------------------------------------------------
flag 25776 term 41 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 41 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 259 
------------------------------------------------------
flag 24343 term 41 leader 0 nextIndex[2]: 260  matchIndex[2]: 259
term 41 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 259 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=259
leader log:
[{snapshot 41 259}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=259
leader log:
[{snapshot 41 259}]
------------------------------------------------------
flag 68618 term 41 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 41 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 259 
------------------------------------------------------
flag 56657 term 41 leader 0 nextIndex[2]: 260  matchIndex[2]: 259
term 41 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 259 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=259
leader log:
[{snapshot 41 259}]
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=259
leader log:
[{snapshot 41 259}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50246 term 41 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 41 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 259 
------------------------------------------------------
flag 41608 term 41 leader 0 nextIndex[2]: 260  matchIndex[2]: 259
term 41 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 259 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=259
leader log:
[{snapshot 41 259}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=259
leader log:
[{snapshot 41 259}]
------------------------------------------------------
flag 45685 term 41 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 41 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 259 
------------------------------------------------------
flag 50373 term 41 leader 0 nextIndex[2]: 260  matchIndex[2]: 259
term 41 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 259 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=259
leader log:
[{snapshot 41 259}]
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=259
leader log:
[{snapshot 41 259}]
------------------------------------------------------
term 41 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 33811 term 41 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 41 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 259 
------------------------------------------------------
flag 16033 term 41 leader 0 nextIndex[2]: 260  matchIndex[2]: 259
term 41 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 259 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=259
leader log:
[{snapshot 41 259}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=259
leader log:
[{snapshot 41 259}]
------------------------------------------------------
term 41 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 19451 term 41 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 41 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 259 
------------------------------------------------------
flag 29580 term 41 leader 0 nextIndex[2]: 260  matchIndex[2]: 259
term 41 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 259 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=259
leader log:
[{snapshot 41 259}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=259
leader log:
[{snapshot 41 259}]
------------------------------------------------------
flag 66160 term 41 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 41 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 259 
------------------------------------------------------
flag 28825 term 41 leader 0 nextIndex[2]: 260  matchIndex[2]: 259
term 41 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 259 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=259
leader log:
[{snapshot 41 259}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=259
leader log:
[{snapshot 41 259}]
------------------------------------------------------
flag 73987 term 41 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 41 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 259 
------------------------------------------------------
flag 93701 term 41 leader 0 nextIndex[2]: 260  matchIndex[2]: 259
term 41 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 259 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=259
leader log:
[{snapshot 41 259}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=259
leader log:
[{snapshot 41 259}]
------------------------------------------------------
flag 57660 term 41 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 41 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 259 
------------------------------------------------------
flag 61735 term 41 leader 0 nextIndex[2]: 260  matchIndex[2]: 259
term 41 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 259 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=259
leader log:
[{snapshot 41 259}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=259
leader log:
[{snapshot 41 259}]
------------------------------------------------------
flag 40922 term 41 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 41 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 259 
------------------------------------------------------
flag 85306 term 41 leader 0 nextIndex[2]: 260  matchIndex[2]: 259
term 41 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 259 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=259
leader log:
[{snapshot 41 259}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=259
leader log:
[{snapshot 41 259}]
------------------------------------------------------
flag 49300 term 41 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 41 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 259 
------------------------------------------------------
flag 1962 term 41 leader 0 nextIndex[2]: 260  matchIndex[2]: 259
term 41 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 259 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=259
leader log:
[{snapshot 41 259}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=259
leader log:
[{snapshot 41 259}]
------------------------------------------------------
flag 49686 term 41 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 41 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 259 
------------------------------------------------------
flag 67330 term 41 leader 0 nextIndex[2]: 260  matchIndex[2]: 259
term 41 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 259 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=259
leader log:
[{snapshot 41 259}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=259
leader log:
[{snapshot 41 259}]
------------------------------------------------------
flag 15647 term 41 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 41 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 259 
------------------------------------------------------
flag 93690 term 41 leader 0 nextIndex[2]: 260  matchIndex[2]: 259
term 41 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 259 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=259
leader log:
[{snapshot 41 259}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=259
leader log:
[{snapshot 41 259}]
------------------------------------------------------
flag 85412 term 41 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 41 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 259 
------------------------------------------------------
flag 41001 term 41 leader 0 nextIndex[2]: 260  matchIndex[2]: 259
term 41 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 259 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=259
leader log:
[{snapshot 41 259}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=259
leader log:
[{snapshot 41 259}]
------------------------------------------------------
flag 89652 term 41 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 41 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 259 
------------------------------------------------------
flag 79539 term 41 leader 0 nextIndex[2]: 260  matchIndex[2]: 259
term 41 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 259 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=259
leader log:
[{snapshot 41 259}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=259
leader log:
[{snapshot 41 259}]
------------------------------------------------------
flag 82794 term 41 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 41 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 259 
------------------------------------------------------
flag 4492 term 41 leader 0 nextIndex[2]: 260  matchIndex[2]: 259
term 41 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 259 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=259
leader log:
[{snapshot 41 259}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=259
leader log:
[{snapshot 41 259}]
------------------------------------------------------
flag 9369 term 41 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 41 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 259 
------------------------------------------------------
flag 21227 term 41 leader 0 nextIndex[2]: 260  matchIndex[2]: 259
term 41 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 259 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=259
leader log:
[{snapshot 41 259}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=259
leader log:
[{snapshot 41 259}]
------------------------------------------------------
client write log 5826667836661608197 (index 260) to leader 0
flag 52667 term 41 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 41 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 259 
------------------------------------------------------
flag 4855 term 41 leader 0 nextIndex[2]: 260  matchIndex[2]: 259
term 41 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 259 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {5826667836661608197 41 260}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {5826667836661608197 41 260}]
------------------------------------------------------
flag 57135 term 41 leader 0 nextIndex[1]: 261  matchIndex[1]: 260
term 41 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
flag 29740 term 41 leader 0 nextIndex[2]: 261  matchIndex[2]: 260
term 41 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {5826667836661608197 41 260}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {5826667836661608197 41 260}]
------------------------------------------------------
flag 14770 term 41 leader 0 nextIndex[1]: 261  matchIndex[1]: 260
term 41 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
flag 26844 term 41 leader 0 nextIndex[2]: 261  matchIndex[2]: 260
term 41 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {5826667836661608197 41 260}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {5826667836661608197 41 260}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83910 term 41 leader 0 nextIndex[1]: 261  matchIndex[1]: 260
term 41 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
flag 84931 term 41 leader 0 nextIndex[2]: 261  matchIndex[2]: 260
term 41 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {5826667836661608197 41 260}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {5826667836661608197 41 260}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3526 term 41 leader 0 nextIndex[1]: 261  matchIndex[1]: 260
term 41 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
flag 222 term 41 leader 0 nextIndex[2]: 261  matchIndex[2]: 260
term 41 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {5826667836661608197 41 260}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {5826667836661608197 41 260}]
------------------------------------------------------
flag 13721 term 41 leader 0 nextIndex[1]: 261  matchIndex[1]: 260
term 41 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
flag 35094 term 41 leader 0 nextIndex[2]: 261  matchIndex[2]: 260
term 41 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {5826667836661608197 41 260}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {5826667836661608197 41 260}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 1448719972608182119 (index 261) to leader 0
flag 45069 term 41 leader 0 nextIndex[1]: 261  matchIndex[1]: 260
term 41 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
flag 90640 term 41 leader 0 nextIndex[2]: 261  matchIndex[2]: 260
term 41 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=261
leader log:
[{snapshot 41 259} {5826667836661608197 41 260} {1448719972608182119 41 261}]
------------------------------------------------------
flag 85027 term 41 leader 0 nextIndex[1]: 261  matchIndex[1]: 260
term 41 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 41 leaderCommit: 261 
------------------------------------------------------
flag 31014 term 41 leader 0 nextIndex[2]: 262  matchIndex[2]: 261
term 41 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 41 leaderCommit: 261 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=261
leader log:
[{snapshot 41 259} {5826667836661608197 41 260} {1448719972608182119 41 261}]
------------------------------------------------------
client write log 1306124102807165765 (index 262) to leader 0
client write log 3603382019581930472 (index 263) to leader 0
client write log 1698451459638247589 (index 264) to leader 0
client write log 1158631364976580443 (index 265) to leader 0
client write log 9205458467447710594 (index 266) to leader 0
client write log 4091033298339449002 (index 267) to leader 0
client write log 5256869812129810728 (index 268) to leader 0
client write log 7075290631360998727 (index 269) to leader 0
client write log 2836277832081316455 (index 270) to leader 0
flag 93184 term 41 leader 0 nextIndex[1]: 261  matchIndex[1]: 260
term 41 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 41 leaderCommit: 261 
------------------------------------------------------
flag 76025 term 41 leader 0 nextIndex[2]: 262  matchIndex[2]: 261
term 41 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 41 leaderCommit: 261 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=271
update matchIndex[2]=270
update leader CommitIndex=270
leader log:
[{snapshot 41 259} {5826667836661608197 41 260} {1448719972608182119 41 261} {1306124102807165765 41 262} {3603382019581930472 41 263} {1698451459638247589 41 264} {1158631364976580443 41 265} {9205458467447710594 41 266} {4091033298339449002 41 267} {5256869812129810728 41 268} {7075290631360998727 41 269} {2836277832081316455 41 270}]
------------------------------------------------------
term 41 Server0 start snapshot! index=269
term 41 server0 snapshot success
lastIncludedIndex=269 lastApplied=269 lastIndex=270
-------------------------------------------------------------
term 41 leader 0 nextIndex[1]: 261  matchIndex[1]: 260
term 41 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 41
------------------------------------------------------
flag 54389 term 41 leader 0 nextIndex[2]: 271  matchIndex[2]: 270
term 41 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 41 leaderCommit: 270 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=271
update matchIndex[2]=270
update leader CommitIndex=270
leader log:
[{snapshot 41 269} {2836277832081316455 41 270}]
------------------------------------------------------
term 41 Server2 start snapshot! index=269
term 41 server2 snapshot success
lastIncludedIndex=269 lastApplied=269 lastIndex=270
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!connect server 1
client write log 8839732739809152103 (index 271) to leader 0
term 41 leader 0 nextIndex[1]: 261  matchIndex[1]: 260
term 41 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 41
------------------------------------------------------
flag 28016 term 41 leader 0 nextIndex[2]: 271  matchIndex[2]: 270
term 41 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 41 leaderCommit: 270 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:270 
------------------------------------------------------
term 42 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=271
leader log:
[{snapshot 41 269} {2836277832081316455 41 270} {8839732739809152103 41 271}]
------------------------------------------------------
term 41 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 42 server 1 not vote for server 2, 任期不够新
term 41 server 2 get outdate rpc reply from server 1
term 43 server 2 vote for server 0
term 43 server 0 get vote from server 2
term 43 server 1 vote for server 0
term 43 server 0 become leader
------------------------------------------------------
term 43 server 0 get outdate rpc reply from server 1
flag 27658 term 43 leader 0 nextIndex[1]: 272  matchIndex[1]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 41 leaderCommit: 271 
------------------------------------------------------
flag 29124 term 43 leader 0 nextIndex[2]: 272  matchIndex[2]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 41 leaderCommit: 271 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=271
leader log:
[{snapshot 41 269} {2836277832081316455 41 270} {8839732739809152103 41 271}]
------------------------------------------------------
term 43 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 272->271
------------------------------------------------------
term 43 leader 0 nextIndex[1]: 261  matchIndex[1]: 0
term 43 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 41
------------------------------------------------------
flag 66011 term 43 leader 0 nextIndex[2]: 272  matchIndex[2]: 271
term 43 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 41 leaderCommit: 271 
------------------------------------------------------
term 43 server 1 InstallSnapshot success
------------------------------------------------------
term 43 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 270 matchIndex[1] 269 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 269 rf.lastIncludedTerm 41 rf.commitIndex 269 rf.lastApplied 269
term 43 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=271
leader log:
[{snapshot 41 269} {2836277832081316455 41 270} {8839732739809152103 41 271}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85219 term 43 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 43 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 41 leaderCommit: 271 
------------------------------------------------------
flag 33900 term 43 leader 0 nextIndex[2]: 272  matchIndex[2]: 271
term 43 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 41 leaderCommit: 271 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=271
leader log:
[{snapshot 41 269} {2836277832081316455 41 270} {8839732739809152103 41 271}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=271
leader log:
[{snapshot 41 269} {2836277832081316455 41 270} {8839732739809152103 41 271}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56466 term 43 leader 0 nextIndex[1]: 272  matchIndex[1]: 271
term 43 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 41 leaderCommit: 271 
------------------------------------------------------
flag 52131 term 43 leader 0 nextIndex[2]: 272  matchIndex[2]: 271
term 43 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 41 leaderCommit: 271 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=271
leader log:
[{snapshot 41 269} {2836277832081316455 41 270} {8839732739809152103 41 271}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=271
leader log:
[{snapshot 41 269} {2836277832081316455 41 270} {8839732739809152103 41 271}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47687 term 43 leader 0 nextIndex[1]: 272  matchIndex[1]: 271
term 43 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 41 leaderCommit: 271 
------------------------------------------------------
flag 35428 term 43 leader 0 nextIndex[2]: 272  matchIndex[2]: 271
term 43 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 41 leaderCommit: 271 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=271
leader log:
[{snapshot 41 269} {2836277832081316455 41 270} {8839732739809152103 41 271}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=271
leader log:
[{snapshot 41 269} {2836277832081316455 41 270} {8839732739809152103 41 271}]
------------------------------------------------------
flag 86176 term 43 leader 0 nextIndex[1]: 272  matchIndex[1]: 271
term 43 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 41 leaderCommit: 271 
------------------------------------------------------
flag 87319 term 43 leader 0 nextIndex[2]: 272  matchIndex[2]: 271
term 43 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 41 leaderCommit: 271 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=271
leader log:
[{snapshot 41 269} {2836277832081316455 41 270} {8839732739809152103 41 271}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=271
leader log:
[{snapshot 41 269} {2836277832081316455 41 270} {8839732739809152103 41 271}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69331 term 43 leader 0 nextIndex[1]: 272  matchIndex[1]: 271
term 43 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 41 leaderCommit: 271 
------------------------------------------------------
flag 47204 term 43 leader 0 nextIndex[2]: 272  matchIndex[2]: 271
term 43 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 41 leaderCommit: 271 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=271
leader log:
[{snapshot 41 269} {2836277832081316455 41 270} {8839732739809152103 41 271}]
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=271
leader log:
[{snapshot 41 269} {2836277832081316455 41 270} {8839732739809152103 41 271}]
------------------------------------------------------
flag 32688 term 43 leader 0 nextIndex[1]: 272  matchIndex[1]: 271
term 43 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 41 leaderCommit: 271 
------------------------------------------------------
flag 35319 term 43 leader 0 nextIndex[2]: 272  matchIndex[2]: 271
term 43 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 41 leaderCommit: 271 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=271
leader log:
[{snapshot 41 269} {2836277832081316455 41 270} {8839732739809152103 41 271}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=271
leader log:
[{snapshot 41 269} {2836277832081316455 41 270} {8839732739809152103 41 271}]
------------------------------------------------------
term 43 server 0 not vote for server 1, 任期不够新
term 43 server 1 get outdate rpc reply from server 0
term 43 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
!!!!!!diconnect server 1
client write log 4410320106513253504 (index 272) to leader 0
flag 50887 term 43 leader 0 nextIndex[1]: 272  matchIndex[1]: 271
term 43 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 41 leaderCommit: 271 
------------------------------------------------------
flag 18211 term 43 leader 0 nextIndex[2]: 272  matchIndex[2]: 271
term 43 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 41 leaderCommit: 271 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=272
leader log:
[{snapshot 41 269} {2836277832081316455 41 270} {8839732739809152103 41 271} {4410320106513253504 43 272}]
------------------------------------------------------
flag 52786 term 43 leader 0 nextIndex[1]: 272  matchIndex[1]: 271
term 43 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 41 leaderCommit: 272 
------------------------------------------------------
flag 54436 term 43 leader 0 nextIndex[2]: 273  matchIndex[2]: 272
term 43 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 43 leaderCommit: 272 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=272
leader log:
[{snapshot 41 269} {2836277832081316455 41 270} {8839732739809152103 41 271} {4410320106513253504 43 272}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 930975955270034889 (index 273) to leader 0
client write log 6903844810133611721 (index 274) to leader 0
client write log 2290555185155572876 (index 275) to leader 0
client write log 9009837404182077035 (index 276) to leader 0
client write log 3029979847092933745 (index 277) to leader 0
client write log 6472875536271695767 (index 278) to leader 0
client write log 2518521952507964431 (index 279) to leader 0
client write log 2540759460566806404 (index 280) to leader 0
client write log 8928344370940575245 (index 281) to leader 0
client write log 3305034042575373502 (index 282) to leader 0
client write log 2181887122590213990 (index 283) to leader 0
client write log 5155245069846227381 (index 284) to leader 0
flag 80708 term 43 leader 0 nextIndex[1]: 272  matchIndex[1]: 271
term 43 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 41 leaderCommit: 272 
------------------------------------------------------
flag 78336 term 43 leader 0 nextIndex[2]: 273  matchIndex[2]: 272
term 43 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 43 leaderCommit: 272 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=284
leader log:
[{snapshot 41 269} {2836277832081316455 41 270} {8839732739809152103 41 271} {4410320106513253504 43 272} {930975955270034889 43 273} {6903844810133611721 43 274} {2290555185155572876 43 275} {9009837404182077035 43 276} {3029979847092933745 43 277} {6472875536271695767 43 278} {2518521952507964431 43 279} {2540759460566806404 43 280} {8928344370940575245 43 281} {3305034042575373502 43 282} {2181887122590213990 43 283} {5155245069846227381 43 284}]
------------------------------------------------------
term 43 Server0 start snapshot! index=279
term 43 server0 snapshot success
lastIncludedIndex=279 lastApplied=280 lastIndex=284
-------------------------------------------------------------
term 43 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 43 leader 0 nextIndex[1]: 272  matchIndex[1]: 271
term 43 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 43
------------------------------------------------------
flag 30328 term 43 leader 0 nextIndex[2]: 285  matchIndex[2]: 284
term 43 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 43 leaderCommit: 284 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=284
leader log:
[{snapshot 43 279} {2540759460566806404 43 280} {8928344370940575245 43 281} {3305034042575373502 43 282} {2181887122590213990 43 283} {5155245069846227381 43 284}]
------------------------------------------------------
term 43 Server2 start snapshot! index=279
term 43 server2 snapshot success
lastIncludedIndex=279 lastApplied=280 lastIndex=284
-------------------------------------------------------------
!!!!!!connect server 1
client write log 1892536876720807877 (index 285) to leader 0
term 43 server 2 not vote for server 1, 日志不够新
term 43 server 0 not vote for server 1, 日志不够新
term 45 server 2 vote for server 0
term 45 server 0 get vote from server 2
term 45 server 0 become leader
------------------------------------------------------
term 45 server 1 vote for server 0
term 45 server 0 get outdate rpc reply from server 1
flag 84437 term 45 leader 0 nextIndex[1]: 286  matchIndex[1]: 0
term 45 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 43 leaderCommit: 284 
------------------------------------------------------
flag 36125 term 45 leader 0 nextIndex[2]: 286  matchIndex[2]: 0
term 45 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 43 leaderCommit: 284 
------------------------------------------------------
term 45 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 286->285
------------------------------------------------------
term 45 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 286->285
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 45 leader 0 nextIndex[1]: 272  matchIndex[1]: 0
term 45 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 43
------------------------------------------------------
flag 65510 term 45 leader 0 nextIndex[2]: 285  matchIndex[2]: 0
term 45 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 43 leaderCommit: 284 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=284
leader log:
[{snapshot 43 279} {2540759460566806404 43 280} {8928344370940575245 43 281} {3305034042575373502 43 282} {2181887122590213990 43 283} {5155245069846227381 43 284} {1892536876720807877 43 285}]
------------------------------------------------------
term 45 server 1 InstallSnapshot success
------------------------------------------------------
term 45 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 280 matchIndex[1] 279 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 279 rf.lastIncludedTerm 43 rf.commitIndex 279 rf.lastApplied 279
flag 29037 term 45 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 45 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 43 leaderCommit: 284 
------------------------------------------------------
flag 98673 term 45 leader 0 nextIndex[2]: 286  matchIndex[2]: 285
term 45 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 43 leaderCommit: 284 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=284
leader log:
[{snapshot 43 279} {2540759460566806404 43 280} {8928344370940575245 43 281} {3305034042575373502 43 282} {2181887122590213990 43 283} {5155245069846227381 43 284} {1892536876720807877 43 285}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=284
leader log:
[{snapshot 43 279} {2540759460566806404 43 280} {8928344370940575245 43 281} {3305034042575373502 43 282} {2181887122590213990 43 283} {5155245069846227381 43 284} {1892536876720807877 43 285}]
------------------------------------------------------
term 45 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 18486 term 45 leader 0 nextIndex[1]: 286  matchIndex[1]: 285
term 45 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 43 leaderCommit: 284 
------------------------------------------------------
flag 74641 term 45 leader 0 nextIndex[2]: 286  matchIndex[2]: 285
term 45 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 43 leaderCommit: 284 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=284
leader log:
[{snapshot 43 279} {2540759460566806404 43 280} {8928344370940575245 43 281} {3305034042575373502 43 282} {2181887122590213990 43 283} {5155245069846227381 43 284} {1892536876720807877 43 285}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=284
leader log:
[{snapshot 43 279} {2540759460566806404 43 280} {8928344370940575245 43 281} {3305034042575373502 43 282} {2181887122590213990 43 283} {5155245069846227381 43 284} {1892536876720807877 43 285}]
------------------------------------------------------
term 45 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 93576 term 45 leader 0 nextIndex[1]: 286  matchIndex[1]: 285
term 45 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 43 leaderCommit: 284 
------------------------------------------------------
flag 15642 term 45 leader 0 nextIndex[2]: 286  matchIndex[2]: 285
term 45 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 43 leaderCommit: 284 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=284
leader log:
term 45 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
[{snapshot 43 279} {2540759460566806404 43 280} {8928344370940575245 43 281} {3305034042575373502 43 282} {2181887122590213990 43 283} {5155245069846227381 43 284} {1892536876720807877 43 285}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=284
leader log:
[{snapshot 43 279} {2540759460566806404 43 280} {8928344370940575245 43 281} {3305034042575373502 43 282} {2181887122590213990 43 283} {5155245069846227381 43 284} {1892536876720807877 43 285}]
------------------------------------------------------
flag 62271 term 45 leader 0 nextIndex[1]: 286  matchIndex[1]: 285
term 45 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 43 leaderCommit: 284 
------------------------------------------------------
flag 4409 term 45 leader 0 nextIndex[2]: 286  matchIndex[2]: 285
term 45 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 43 leaderCommit: 284 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=284
leader log:
[{snapshot 43 279} {2540759460566806404 43 280} {8928344370940575245 43 281} {3305034042575373502 43 282} {2181887122590213990 43 283} {5155245069846227381 43 284} {1892536876720807877 43 285}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=284
leader log:
[{snapshot 43 279} {2540759460566806404 43 280} {8928344370940575245 43 281} {3305034042575373502 43 282} {2181887122590213990 43 283} {5155245069846227381 43 284} {1892536876720807877 43 285}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84322 term 45 leader 0 nextIndex[1]: 286  matchIndex[1]: 285
term 45 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 43 leaderCommit: 284 
------------------------------------------------------
flag 14212 term 45 leader 0 nextIndex[2]: 286  matchIndex[2]: 285
term 45 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 43 leaderCommit: 284 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=284
leader log:
[{snapshot 43 279} {2540759460566806404 43 280} {8928344370940575245 43 281} {3305034042575373502 43 282} {2181887122590213990 43 283} {5155245069846227381 43 284} {1892536876720807877 43 285}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=284
leader log:
[{snapshot 43 279} {2540759460566806404 43 280} {8928344370940575245 43 281} {3305034042575373502 43 282} {2181887122590213990 43 283} {5155245069846227381 43 284} {1892536876720807877 43 285}]
------------------------------------------------------
flag 80348 term 45 leader 0 nextIndex[1]: 286  matchIndex[1]: 285
term 45 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 43 leaderCommit: 284 
------------------------------------------------------
flag 98907 term 45 leader 0 nextIndex[2]: 286  matchIndex[2]: 285
term 45 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 43 leaderCommit: 284 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
term 45 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
update leader CommitIndex=284
leader log:
[{snapshot 43 279} {2540759460566806404 43 280} {8928344370940575245 43 281} {3305034042575373502 43 282} {2181887122590213990 43 283} {5155245069846227381 43 284} {1892536876720807877 43 285}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=284
leader log:
[{snapshot 43 279} {2540759460566806404 43 280} {8928344370940575245 43 281} {3305034042575373502 43 282} {2181887122590213990 43 283} {5155245069846227381 43 284} {1892536876720807877 43 285}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52670 term 45 leader 0 nextIndex[1]: 286  matchIndex[1]: 285
term 45 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 43 leaderCommit: 284 
------------------------------------------------------
flag 22681 term 45 leader 0 nextIndex[2]: 286  matchIndex[2]: 285
term 45 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 43 leaderCommit: 284 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=284
leader log:
[{snapshot 43 279} {2540759460566806404 43 280} {8928344370940575245 43 281} {3305034042575373502 43 282} {2181887122590213990 43 283} {5155245069846227381 43 284} {1892536876720807877 43 285}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=284
leader log:
[{snapshot 43 279} {2540759460566806404 43 280} {8928344370940575245 43 281} {3305034042575373502 43 282} {2181887122590213990 43 283} {5155245069846227381 43 284} {1892536876720807877 43 285}]
------------------------------------------------------
flag 14412 term 45 leader 0 nextIndex[1]: 286  matchIndex[1]: 285
term 45 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 43 leaderCommit: 284 
------------------------------------------------------
flag 46736 term 45 leader 0 nextIndex[2]: 286  matchIndex[2]: 285
term 45 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 43 leaderCommit: 284 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=284
leader log:
[{snapshot 43 279} {2540759460566806404 43 280} {8928344370940575245 43 281} {3305034042575373502 43 282} {2181887122590213990 43 283} {5155245069846227381 43 284} {1892536876720807877 43 285}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=284
leader log:
[{snapshot 43 279} {2540759460566806404 43 280} {8928344370940575245 43 281} {3305034042575373502 43 282} {2181887122590213990 43 283} {5155245069846227381 43 284} {1892536876720807877 43 285}]
------------------------------------------------------
flag 17941 term 45 leader 0 nextIndex[1]: 286  matchIndex[1]: 285
term 45 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 43 leaderCommit: 284 
------------------------------------------------------
flag 54714 term 45 leader 0 nextIndex[2]: 286  matchIndex[2]: 285
term 45 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 43 leaderCommit: 284 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=284
leader log:
[{snapshot 43 279} {2540759460566806404 43 280} {8928344370940575245 43 281} {3305034042575373502 43 282} {2181887122590213990 43 283} {5155245069846227381 43 284} {1892536876720807877 43 285}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=284
leader log:
[{snapshot 43 279} {2540759460566806404 43 280} {8928344370940575245 43 281} {3305034042575373502 43 282} {2181887122590213990 43 283} {5155245069846227381 43 284} {1892536876720807877 43 285}]
------------------------------------------------------
flag 39195 term 45 leader 0 nextIndex[1]: 286  matchIndex[1]: 285
term 45 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 43 leaderCommit: 284 
------------------------------------------------------
flag 84158 term 45 leader 0 nextIndex[2]: 286  matchIndex[2]: 285
term 45 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 43 leaderCommit: 284 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=284
leader log:
[{snapshot 43 279} {2540759460566806404 43 280} {8928344370940575245 43 281} {3305034042575373502 43 282} {2181887122590213990 43 283} {5155245069846227381 43 284} {1892536876720807877 43 285}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=284
leader log:
[{snapshot 43 279} {2540759460566806404 43 280} {8928344370940575245 43 281} {3305034042575373502 43 282} {2181887122590213990 43 283} {5155245069846227381 43 284} {1892536876720807877 43 285}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6027 term 45 leader 0 nextIndex[1]: 286  matchIndex[1]: 285
term 45 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 43 leaderCommit: 284 
------------------------------------------------------
flag 96518 term 45 leader 0 nextIndex[2]: 286  matchIndex[2]: 285
term 45 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 43 leaderCommit: 284 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=284
leader log:
[{snapshot 43 279} {2540759460566806404 43 280} {8928344370940575245 43 281} {3305034042575373502 43 282} {2181887122590213990 43 283} {5155245069846227381 43 284} {1892536876720807877 43 285}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=284
leader log:
[{snapshot 43 279} {2540759460566806404 43 280} {8928344370940575245 43 281} {3305034042575373502 43 282} {2181887122590213990 43 283} {5155245069846227381 43 284} {1892536876720807877 43 285}]
------------------------------------------------------
flag 44089 term 45 leader 0 nextIndex[1]: 286  matchIndex[1]: 285
term 45 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 43 leaderCommit: 284 
------------------------------------------------------
flag 2109 term 45 leader 0 nextIndex[2]: 286  matchIndex[2]: 285
term 45 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 43 leaderCommit: 284 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=284
leader log:
[{snapshot 43 279} {2540759460566806404 43 280} {8928344370940575245 43 281} {3305034042575373502 43 282} {2181887122590213990 43 283} {5155245069846227381 43 284} {1892536876720807877 43 285}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=284
leader log:
[{snapshot 43 279} {2540759460566806404 43 280} {8928344370940575245 43 281} {3305034042575373502 43 282} {2181887122590213990 43 283} {5155245069846227381 43 284} {1892536876720807877 43 285}]
------------------------------------------------------
flag 19152 term 45 leader 0 nextIndex[1]: 286  matchIndex[1]: 285
term 45 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 43 leaderCommit: 284 
------------------------------------------------------
flag 80710 term 45 leader 0 nextIndex[2]: 286  matchIndex[2]: 285
term 45 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 43 leaderCommit: 284 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=284
leader log:
[{snapshot 43 279} {2540759460566806404 43 280} {8928344370940575245 43 281} {3305034042575373502 43 282} {2181887122590213990 43 283} {5155245069846227381 43 284} {1892536876720807877 43 285}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=284
leader log:
[{snapshot 43 279} {2540759460566806404 43 280} {8928344370940575245 43 281} {3305034042575373502 43 282} {2181887122590213990 43 283} {5155245069846227381 43 284} {1892536876720807877 43 285}]
------------------------------------------------------
flag 69319 term 45 leader 0 nextIndex[1]: 286  matchIndex[1]: 285
term 45 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 43 leaderCommit: 284 
------------------------------------------------------
flag 4838 term 45 leader 0 nextIndex[2]: 286  matchIndex[2]: 285
term 45 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 43 leaderCommit: 284 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=284
leader log:
[{snapshot 43 279} {2540759460566806404 43 280} {8928344370940575245 43 281} {3305034042575373502 43 282} {2181887122590213990 43 283} {5155245069846227381 43 284} {1892536876720807877 43 285}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=284
leader log:
[{snapshot 43 279} {2540759460566806404 43 280} {8928344370940575245 43 281} {3305034042575373502 43 282} {2181887122590213990 43 283} {5155245069846227381 43 284} {1892536876720807877 43 285}]
------------------------------------------------------
flag 92609 term 45 leader 0 nextIndex[1]: 286  matchIndex[1]: 285
term 45 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 43 leaderCommit: 284 
------------------------------------------------------
flag 26919 term 45 leader 0 nextIndex[2]: 286  matchIndex[2]: 285
term 45 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 43 leaderCommit: 284 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=284
leader log:
[{snapshot 43 279} {2540759460566806404 43 280} {8928344370940575245 43 281} {3305034042575373502 43 282} {2181887122590213990 43 283} {5155245069846227381 43 284} {1892536876720807877 43 285}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=284
leader log:
[{snapshot 43 279} {2540759460566806404 43 280} {8928344370940575245 43 281} {3305034042575373502 43 282} {2181887122590213990 43 283} {5155245069846227381 43 284} {1892536876720807877 43 285}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57340 term 45 leader 0 nextIndex[1]: 286  matchIndex[1]: 285
term 45 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 43 leaderCommit: 284 
------------------------------------------------------
flag 596 term 45 leader 0 nextIndex[2]: 286  matchIndex[2]: 285
term 45 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 43 leaderCommit: 284 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=284
leader log:
[{snapshot 43 279} {2540759460566806404 43 280} {8928344370940575245 43 281} {3305034042575373502 43 282} {2181887122590213990 43 283} {5155245069846227381 43 284} {1892536876720807877 43 285}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=284
leader log:
[{snapshot 43 279} {2540759460566806404 43 280} {8928344370940575245 43 281} {3305034042575373502 43 282} {2181887122590213990 43 283} {5155245069846227381 43 284} {1892536876720807877 43 285}]
------------------------------------------------------
flag 54351 term 45 leader 0 nextIndex[1]: 286  matchIndex[1]: 285
term 45 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 43 leaderCommit: 284 
------------------------------------------------------
flag 53082 term 45 leader 0 nextIndex[2]: 286  matchIndex[2]: 285
term 45 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 43 leaderCommit: 284 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=284
leader log:
[{snapshot 43 279} {2540759460566806404 43 280} {8928344370940575245 43 281} {3305034042575373502 43 282} {2181887122590213990 43 283} {5155245069846227381 43 284} {1892536876720807877 43 285}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=284
leader log:
[{snapshot 43 279} {2540759460566806404 43 280} {8928344370940575245 43 281} {3305034042575373502 43 282} {2181887122590213990 43 283} {5155245069846227381 43 284} {1892536876720807877 43 285}]
------------------------------------------------------
client write log 1892536876720807877 (index 286) to leader 0
flag 67731 term 45 leader 0 nextIndex[1]: 286  matchIndex[1]: 285
term 45 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 43 leaderCommit: 284 
------------------------------------------------------
flag 12273 term 45 leader 0 nextIndex[2]: 286  matchIndex[2]: 285
term 45 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 43 leaderCommit: 284 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {2540759460566806404 43 280} {8928344370940575245 43 281} {3305034042575373502 43 282} {2181887122590213990 43 283} {5155245069846227381 43 284} {1892536876720807877 43 285} {1892536876720807877 45 286}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {2540759460566806404 43 280} {8928344370940575245 43 281} {3305034042575373502 43 282} {2181887122590213990 43 283} {5155245069846227381 43 284} {1892536876720807877 43 285} {1892536876720807877 45 286}]
------------------------------------------------------
flag 92743 term 45 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 45 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
flag 35382 term 45 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 45 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {2540759460566806404 43 280} {8928344370940575245 43 281} {3305034042575373502 43 282} {2181887122590213990 43 283} {5155245069846227381 43 284} {1892536876720807877 43 285} {1892536876720807877 45 286}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {2540759460566806404 43 280} {8928344370940575245 43 281} {3305034042575373502 43 282} {2181887122590213990 43 283} {5155245069846227381 43 284} {1892536876720807877 43 285} {1892536876720807877 45 286}]
------------------------------------------------------
term 45 server 1 not vote for server 0, 任期不够新
term 45 server 0 get outdate rpc reply from server 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82129 term 45 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 45 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
flag 29489 term 45 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 45 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {2540759460566806404 43 280} {8928344370940575245 43 281} {3305034042575373502 43 282} {2181887122590213990 43 283} {5155245069846227381 43 284} {1892536876720807877 43 285} {1892536876720807877 45 286}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {2540759460566806404 43 280} {8928344370940575245 43 281} {3305034042575373502 43 282} {2181887122590213990 43 283} {5155245069846227381 43 284} {1892536876720807877 43 285} {1892536876720807877 45 286}]
------------------------------------------------------
flag 53090 term 45 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 45 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
flag 9759 term 45 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 45 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {2540759460566806404 43 280} {8928344370940575245 43 281} {3305034042575373502 43 282} {2181887122590213990 43 283} {5155245069846227381 43 284} {1892536876720807877 43 285} {1892536876720807877 45 286}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {2540759460566806404 43 280} {8928344370940575245 43 281} {3305034042575373502 43 282} {2181887122590213990 43 283} {5155245069846227381 43 284} {1892536876720807877 43 285} {1892536876720807877 45 286}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27934 term 45 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 45 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
flag 71891 term 45 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 45 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {2540759460566806404 43 280} {8928344370940575245 43 281} {3305034042575373502 43 282} {2181887122590213990 43 283} {5155245069846227381 43 284} {1892536876720807877 43 285} {1892536876720807877 45 286}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {2540759460566806404 43 280} {8928344370940575245 43 281} {3305034042575373502 43 282} {2181887122590213990 43 283} {5155245069846227381 43 284} {1892536876720807877 43 285} {1892536876720807877 45 286}]
------------------------------------------------------
flag 1003 term 45 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 45 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
flag 61015 term 45 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 45 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {2540759460566806404 43 280} {8928344370940575245 43 281} {3305034042575373502 43 282} {2181887122590213990 43 283} {5155245069846227381 43 284} {1892536876720807877 43 285} {1892536876720807877 45 286}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {2540759460566806404 43 280} {8928344370940575245 43 281} {3305034042575373502 43 282} {2181887122590213990 43 283} {5155245069846227381 43 284} {1892536876720807877 43 285} {1892536876720807877 45 286}]
------------------------------------------------------
flag 22771 term 45 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 45 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
flag 79794 term 45 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 45 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {2540759460566806404 43 280} {8928344370940575245 43 281} {3305034042575373502 43 282} {2181887122590213990 43 283} {5155245069846227381 43 284} {1892536876720807877 43 285} {1892536876720807877 45 286}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {2540759460566806404 43 280} {8928344370940575245 43 281} {3305034042575373502 43 282} {2181887122590213990 43 283} {5155245069846227381 43 284} {1892536876720807877 43 285} {1892536876720807877 45 286}]
------------------------------------------------------
!!!!!!diconnect server 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89797 term 45 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 45 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
flag 71098 term 45 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 45 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
flag 17077 term 45 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 45 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
flag 41697 term 45 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 45 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
flag 23878 term 45 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 45 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
flag 49881 term 45 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 45 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
term 46 server 1 vote for server 2
term 46 server 2 get vote from server 1
term 46 server 2 become leader
------------------------------------------------------
client write log 3962075283792474514 (index 287) to leader 2
flag 26646 term 46 leader 2 nextIndex[0]: 287  matchIndex[0]: 0
term 46 leader 2 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
flag 81260 term 46 leader 2 nextIndex[1]: 287  matchIndex[1]: 0
term 46 leader 2 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=287
leader log:
[{snapshot 43 279} {2540759460566806404 43 280} {8928344370940575245 43 281} {3305034042575373502 43 282} {2181887122590213990 43 283} {5155245069846227381 43 284} {1892536876720807877 43 285} {1892536876720807877 45 286} {3962075283792474514 46 287}]
------------------------------------------------------
flag 67760 term 45 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 45 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
flag 55467 term 45 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 45 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
flag 27104 term 46 leader 2 nextIndex[0]: 287  matchIndex[0]: 0
term 46 leader 2 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
flag 30935 term 46 leader 2 nextIndex[1]: 288  matchIndex[1]: 287
term 46 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 46 leaderCommit: 287 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=287
leader log:
[{snapshot 43 279} {2540759460566806404 43 280} {8928344370940575245 43 281} {3305034042575373502 43 282} {2181887122590213990 43 283} {5155245069846227381 43 284} {1892536876720807877 43 285} {1892536876720807877 45 286} {3962075283792474514 46 287}]
------------------------------------------------------
client write log 6925972184165675778 (index 288) to leader 2
flag 23422 term 45 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 45 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
flag 20174 term 45 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 45 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
flag 85194 term 46 leader 2 nextIndex[0]: 287  matchIndex[0]: 0
term 46 leader 2 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
flag 74582 term 46 leader 2 nextIndex[1]: 288  matchIndex[1]: 287
term 46 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 46 leaderCommit: 287 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=288
leader log:
[{snapshot 43 279} {2540759460566806404 43 280} {8928344370940575245 43 281} {3305034042575373502 43 282} {2181887122590213990 43 283} {5155245069846227381 43 284} {1892536876720807877 43 285} {1892536876720807877 45 286} {3962075283792474514 46 287} {6925972184165675778 46 288}]
------------------------------------------------------
flag 24378 term 45 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 45 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
flag 10248 term 45 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 45 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
flag 96721 term 46 leader 2 nextIndex[0]: 287  matchIndex[0]: 0
term 46 leader 2 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 288 
------------------------------------------------------
flag 94509 term 46 leader 2 nextIndex[1]: 289  matchIndex[1]: 288
term 46 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 46 leaderCommit: 288 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=288
leader log:
[{snapshot 43 279} {2540759460566806404 43 280} {8928344370940575245 43 281} {3305034042575373502 43 282} {2181887122590213990 43 283} {5155245069846227381 43 284} {1892536876720807877 43 285} {1892536876720807877 45 286} {3962075283792474514 46 287} {6925972184165675778 46 288}]
------------------------------------------------------
!!!!!!connect server 0
client write log 6552546858268057734 (index 289) to leader 2
flag 67434 term 45 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 45 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
flag 9024 term 45 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 45 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
term 46 server 2 AppendEntries false 领导者任期过期 args.Term 45
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 46 server 1 AppendEntries false 领导者任期过期 args.Term 45
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68198 term 46 leader 2 nextIndex[0]: 287  matchIndex[0]: 0
term 46 leader 2 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 288 
------------------------------------------------------
flag 83913 term 46 leader 2 nextIndex[1]: 289  matchIndex[1]: 288
term 46 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 46 leaderCommit: 288 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=289
leader log:
[{snapshot 43 279} {2540759460566806404 43 280} {8928344370940575245 43 281} {3305034042575373502 43 282} {2181887122590213990 43 283} {5155245069846227381 43 284} {1892536876720807877 43 285} {1892536876720807877 45 286} {3962075283792474514 46 287} {6925972184165675778 46 288} {6552546858268057734 46 289}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=290
update matchIndex[0]=289
update leader CommitIndex=289
leader log:
[{snapshot 43 279} {2540759460566806404 43 280} {8928344370940575245 43 281} {3305034042575373502 43 282} {2181887122590213990 43 283} {5155245069846227381 43 284} {1892536876720807877 43 285} {1892536876720807877 45 286} {3962075283792474514 46 287} {6925972184165675778 46 288} {6552546858268057734 46 289}]
------------------------------------------------------
term 46 Server2 start snapshot! index=289
term 46 server2 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=289
-------------------------------------------------------------
flag 25677 term 46 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 46 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 46 leaderCommit: 289 
------------------------------------------------------
flag 49509 term 46 leader 2 nextIndex[1]: 290  matchIndex[1]: 289
term 46 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 46 leaderCommit: 289 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=289
leader log:
[{snapshot 46 289}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=290
update matchIndex[0]=289
update leader CommitIndex=289
leader log:
[{snapshot 46 289}]
------------------------------------------------------
term 46 Server0 start snapshot! index=289
term 46 Server1 start snapshot! index=289
term 46 server1 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=289
-------------------------------------------------------------
term 46 server0 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=289
-------------------------------------------------------------
flag 46829 term 46 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 46 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 46 leaderCommit: 289 
------------------------------------------------------
flag 39270 term 46 leader 2 nextIndex[1]: 290  matchIndex[1]: 289
term 46 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 46 leaderCommit: 289 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=289
leader log:
[{snapshot 46 289}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=290
update matchIndex[0]=289
update leader CommitIndex=289
leader log:
[{snapshot 46 289}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67497 term 46 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 46 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 46 leaderCommit: 289 
------------------------------------------------------
flag 94103 term 46 leader 2 nextIndex[1]: 290  matchIndex[1]: 289
term 46 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 46 leaderCommit: 289 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=289
leader log:
[{snapshot 46 289}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=290
update matchIndex[0]=289
update leader CommitIndex=289
leader log:
[{snapshot 46 289}]
------------------------------------------------------
flag 37054 term 46 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 46 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 46 leaderCommit: 289 
------------------------------------------------------
flag 16299 term 46 leader 2 nextIndex[1]: 290  matchIndex[1]: 289
term 46 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 46 leaderCommit: 289 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=289
leader log:
[{snapshot 46 289}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=290
update matchIndex[0]=289
update leader CommitIndex=289
leader log:
[{snapshot 46 289}]
------------------------------------------------------
flag 14826 term 46 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 46 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 46 leaderCommit: 289 
------------------------------------------------------
flag 62467 term 46 leader 2 nextIndex[1]: 290  matchIndex[1]: 289
term 46 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 46 leaderCommit: 289 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=290
update matchIndex[0]=289
update leader CommitIndex=289
leader log:
[{snapshot 46 289}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=289
leader log:
[{snapshot 46 289}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69910 term 46 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 46 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 46 leaderCommit: 289 
------------------------------------------------------
flag 74125 term 46 leader 2 nextIndex[1]: 290  matchIndex[1]: 289
term 46 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 46 leaderCommit: 289 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=289
leader log:
[{snapshot 46 289}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=290
update matchIndex[0]=289
update leader CommitIndex=289
leader log:
[{snapshot 46 289}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 2080568495485902212 (index 290) to leader 2
flag 94587 term 46 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 46 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 46 leaderCommit: 289 
------------------------------------------------------
flag 90444 term 46 leader 2 nextIndex[1]: 290  matchIndex[1]: 289
term 46 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 46 leaderCommit: 289 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 46 289} {2080568495485902212 46 290}]
------------------------------------------------------
flag 50279 term 46 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 46 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
flag 5272 term 46 leader 2 nextIndex[1]: 291  matchIndex[1]: 290
term 46 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 46 289} {2080568495485902212 46 290}]
------------------------------------------------------
client write log 748843365112958095 (index 291) to leader 2
client write log 921401999960599385 (index 292) to leader 2
client write log 6601300158673745250 (index 293) to leader 2
client write log 9003795406635372253 (index 294) to leader 2
client write log 5968263161501447280 (index 295) to leader 2
client write log 3547998243984806991 (index 296) to leader 2
flag 53680 term 46 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 46 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
flag 8965 term 46 leader 2 nextIndex[1]: 291  matchIndex[1]: 290
term 46 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 46 289} {2080568495485902212 46 290} {748843365112958095 46 291} {921401999960599385 46 292} {6601300158673745250 46 293} {9003795406635372253 46 294} {5968263161501447280 46 295} {3547998243984806991 46 296}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19963 term 46 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 46 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
flag 23243 term 46 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 46 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 46 289} {2080568495485902212 46 290} {748843365112958095 46 291} {921401999960599385 46 292} {6601300158673745250 46 293} {9003795406635372253 46 294} {5968263161501447280 46 295} {3547998243984806991 46 296}]
------------------------------------------------------
!!!!!!connect server 0
client write log 6306129717241591166 (index 297) to leader 2
term 46 server 2 not vote for server 0, 日志不够新
term 46 server 1 not vote for server 0, 日志不够新
term 48 server 1 vote for server 2
term 48 server 2 get vote from server 1
term 48 server 2 become leader
------------------------------------------------------
term 48 server 0 vote for server 2
term 48 server 2 get outdate rpc reply from server 0
flag 13987 term 48 leader 2 nextIndex[0]: 298  matchIndex[0]: 0
term 48 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
flag 39820 term 48 leader 2 nextIndex[1]: 298  matchIndex[1]: 0
term 48 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
term 48 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 48 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 298->297
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 298->297
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9970 term 48 leader 2 nextIndex[0]: 290  matchIndex[0]: 0
term 48 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
flag 16020 term 48 leader 2 nextIndex[1]: 297  matchIndex[1]: 0
term 48 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=296
leader log:
[{snapshot 46 289} {2080568495485902212 46 290} {748843365112958095 46 291} {921401999960599385 46 292} {6601300158673745250 46 293} {9003795406635372253 46 294} {5968263161501447280 46 295} {3547998243984806991 46 296} {6306129717241591166 46 297}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=296
leader log:
[{snapshot 46 289} {2080568495485902212 46 290} {748843365112958095 46 291} {921401999960599385 46 292} {6601300158673745250 46 293} {9003795406635372253 46 294} {5968263161501447280 46 295} {3547998243984806991 46 296} {6306129717241591166 46 297}]
------------------------------------------------------
flag 31200 term 48 leader 2 nextIndex[0]: 298  matchIndex[0]: 297
term 48 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
flag 10274 term 48 leader 2 nextIndex[1]: 298  matchIndex[1]: 297
term 48 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=296
leader log:
[{snapshot 46 289} {2080568495485902212 46 290} {748843365112958095 46 291} {921401999960599385 46 292} {6601300158673745250 46 293} {9003795406635372253 46 294} {5968263161501447280 46 295} {3547998243984806991 46 296} {6306129717241591166 46 297}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=296
leader log:
[{snapshot 46 289} {2080568495485902212 46 290} {748843365112958095 46 291} {921401999960599385 46 292} {6601300158673745250 46 293} {9003795406635372253 46 294} {5968263161501447280 46 295} {3547998243984806991 46 296} {6306129717241591166 46 297}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52738 term 48 leader 2 nextIndex[0]: 298  matchIndex[0]: 297
term 48 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
flag 85379 term 48 leader 2 nextIndex[1]: 298  matchIndex[1]: 297
term 48 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=296
leader log:
[{snapshot 46 289} {2080568495485902212 46 290} {748843365112958095 46 291} {921401999960599385 46 292} {6601300158673745250 46 293} {9003795406635372253 46 294} {5968263161501447280 46 295} {3547998243984806991 46 296} {6306129717241591166 46 297}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=296
leader log:
[{snapshot 46 289} {2080568495485902212 46 290} {748843365112958095 46 291} {921401999960599385 46 292} {6601300158673745250 46 293} {9003795406635372253 46 294} {5968263161501447280 46 295} {3547998243984806991 46 296} {6306129717241591166 46 297}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27303 term 48 leader 2 nextIndex[0]: 298  matchIndex[0]: 297
term 48 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
flag 73472 term 48 leader 2 nextIndex[1]: 298  matchIndex[1]: 297
term 48 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=296
leader log:
[{snapshot 46 289} {2080568495485902212 46 290} {748843365112958095 46 291} {921401999960599385 46 292} {6601300158673745250 46 293} {9003795406635372253 46 294} {5968263161501447280 46 295} {3547998243984806991 46 296} {6306129717241591166 46 297}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=296
leader log:
[{snapshot 46 289} {2080568495485902212 46 290} {748843365112958095 46 291} {921401999960599385 46 292} {6601300158673745250 46 293} {9003795406635372253 46 294} {5968263161501447280 46 295} {3547998243984806991 46 296} {6306129717241591166 46 297}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42199 term 48 leader 2 nextIndex[0]: 298  matchIndex[0]: 297
term 48 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
flag 29857 term 48 leader 2 nextIndex[1]: 298  matchIndex[1]: 297
term 48 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=296
leader log:
[{snapshot 46 289} {2080568495485902212 46 290} {748843365112958095 46 291} {921401999960599385 46 292} {6601300158673745250 46 293} {9003795406635372253 46 294} {5968263161501447280 46 295} {3547998243984806991 46 296} {6306129717241591166 46 297}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=296
leader log:
[{snapshot 46 289} {2080568495485902212 46 290} {748843365112958095 46 291} {921401999960599385 46 292} {6601300158673745250 46 293} {9003795406635372253 46 294} {5968263161501447280 46 295} {3547998243984806991 46 296} {6306129717241591166 46 297}]
------------------------------------------------------
term 48 server 2 not vote for server 1, 任期不够新
term 48 server 1 get outdate rpc reply from server 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89120 term 48 leader 2 nextIndex[0]: 298  matchIndex[0]: 297
term 48 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
flag 11581 term 48 leader 2 nextIndex[1]: 298  matchIndex[1]: 297
term 48 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=296
leader log:
[{snapshot 46 289} {2080568495485902212 46 290} {748843365112958095 46 291} {921401999960599385 46 292} {6601300158673745250 46 293} {9003795406635372253 46 294} {5968263161501447280 46 295} {3547998243984806991 46 296} {6306129717241591166 46 297}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=296
leader log:
[{snapshot 46 289} {2080568495485902212 46 290} {748843365112958095 46 291} {921401999960599385 46 292} {6601300158673745250 46 293} {9003795406635372253 46 294} {5968263161501447280 46 295} {3547998243984806991 46 296} {6306129717241591166 46 297}]
------------------------------------------------------
flag 32542 term 48 leader 2 nextIndex[0]: 298  matchIndex[0]: 297
term 48 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
flag 64360 term 48 leader 2 nextIndex[1]: 298  matchIndex[1]: 297
term 48 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=296
leader log:
[{snapshot 46 289} {2080568495485902212 46 290} {748843365112958095 46 291} {921401999960599385 46 292} {6601300158673745250 46 293} {9003795406635372253 46 294} {5968263161501447280 46 295} {3547998243984806991 46 296} {6306129717241591166 46 297}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=296
leader log:
[{snapshot 46 289} {2080568495485902212 46 290} {748843365112958095 46 291} {921401999960599385 46 292} {6601300158673745250 46 293} {9003795406635372253 46 294} {5968263161501447280 46 295} {3547998243984806991 46 296} {6306129717241591166 46 297}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20389 term 48 leader 2 nextIndex[0]: 298  matchIndex[0]: 297
term 48 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
flag 65619 term 48 leader 2 nextIndex[1]: 298  matchIndex[1]: 297
term 48 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=296
leader log:
[{snapshot 46 289} {2080568495485902212 46 290} {748843365112958095 46 291} {921401999960599385 46 292} {6601300158673745250 46 293} {9003795406635372253 46 294} {5968263161501447280 46 295} {3547998243984806991 46 296} {6306129717241591166 46 297}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=296
leader log:
[{snapshot 46 289} {2080568495485902212 46 290} {748843365112958095 46 291} {921401999960599385 46 292} {6601300158673745250 46 293} {9003795406635372253 46 294} {5968263161501447280 46 295} {3547998243984806991 46 296} {6306129717241591166 46 297}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4601 term 48 leader 2 nextIndex[0]: 298  matchIndex[0]: 297
term 48 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
flag 76883 term 48 leader 2 nextIndex[1]: 298  matchIndex[1]: 297
term 48 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=296
leader log:
[{snapshot 46 289} {2080568495485902212 46 290} {748843365112958095 46 291} {921401999960599385 46 292} {6601300158673745250 46 293} {9003795406635372253 46 294} {5968263161501447280 46 295} {3547998243984806991 46 296} {6306129717241591166 46 297}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=296
leader log:
[{snapshot 46 289} {2080568495485902212 46 290} {748843365112958095 46 291} {921401999960599385 46 292} {6601300158673745250 46 293} {9003795406635372253 46 294} {5968263161501447280 46 295} {3547998243984806991 46 296} {6306129717241591166 46 297}]
------------------------------------------------------
flag 9068 term 48 leader 2 nextIndex[0]: 298  matchIndex[0]: 297
term 48 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
flag 37643 term 48 leader 2 nextIndex[1]: 298  matchIndex[1]: 297
term 48 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=296
leader log:
[{snapshot 46 289} {2080568495485902212 46 290} {748843365112958095 46 291} {921401999960599385 46 292} {6601300158673745250 46 293} {9003795406635372253 46 294} {5968263161501447280 46 295} {3547998243984806991 46 296} {6306129717241591166 46 297}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=296
leader log:
[{snapshot 46 289} {2080568495485902212 46 290} {748843365112958095 46 291} {921401999960599385 46 292} {6601300158673745250 46 293} {9003795406635372253 46 294} {5968263161501447280 46 295} {3547998243984806991 46 296} {6306129717241591166 46 297}]
------------------------------------------------------
flag 62380 term 48 leader 2 nextIndex[0]: 298  matchIndex[0]: 297
term 48 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
flag 31419 term 48 leader 2 nextIndex[1]: 298  matchIndex[1]: 297
term 48 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=296
leader log:
[{snapshot 46 289} {2080568495485902212 46 290} {748843365112958095 46 291} {921401999960599385 46 292} {6601300158673745250 46 293} {9003795406635372253 46 294} {5968263161501447280 46 295} {3547998243984806991 46 296} {6306129717241591166 46 297}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=296
leader log:
[{snapshot 46 289} {2080568495485902212 46 290} {748843365112958095 46 291} {921401999960599385 46 292} {6601300158673745250 46 293} {9003795406635372253 46 294} {5968263161501447280 46 295} {3547998243984806991 46 296} {6306129717241591166 46 297}]
------------------------------------------------------
flag 8524 term 48 leader 2 nextIndex[0]: 298  matchIndex[0]: 297
term 48 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
flag 58426 term 48 leader 2 nextIndex[1]: 298  matchIndex[1]: 297
term 48 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:296 
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=296
leader log:
[{snapshot 46 289} {2080568495485902212 46 290} {748843365112958095 46 291} {921401999960599385 46 292} {6601300158673745250 46 293} {9003795406635372253 46 294} {5968263161501447280 46 295} {3547998243984806991 46 296} {6306129717241591166 46 297}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=296
leader log:
[{snapshot 46 289} {2080568495485902212 46 290} {748843365112958095 46 291} {921401999960599385 46 292} {6601300158673745250 46 293} {9003795406635372253 46 294} {5968263161501447280 46 295} {3547998243984806991 46 296} {6306129717241591166 46 297}]
------------------------------------------------------
flag 1702 term 48 leader 2 nextIndex[0]: 298  matchIndex[0]: 297
term 48 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
flag 26249 term 48 leader 2 nextIndex[1]: 298  matchIndex[1]: 297
term 48 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=296
leader log:
[{snapshot 46 289} {2080568495485902212 46 290} {748843365112958095 46 291} {921401999960599385 46 292} {6601300158673745250 46 293} {9003795406635372253 46 294} {5968263161501447280 46 295} {3547998243984806991 46 296} {6306129717241591166 46 297}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=296
leader log:
[{snapshot 46 289} {2080568495485902212 46 290} {748843365112958095 46 291} {921401999960599385 46 292} {6601300158673745250 46 293} {9003795406635372253 46 294} {5968263161501447280 46 295} {3547998243984806991 46 296} {6306129717241591166 46 297}]
------------------------------------------------------
flag 56230 term 48 leader 2 nextIndex[0]: 298  matchIndex[0]: 297
term 48 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
flag 6611 term 48 leader 2 nextIndex[1]: 298  matchIndex[1]: 297
term 48 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=296
leader log:
[{snapshot 46 289} {2080568495485902212 46 290} {748843365112958095 46 291} {921401999960599385 46 292} {6601300158673745250 46 293} {9003795406635372253 46 294} {5968263161501447280 46 295} {3547998243984806991 46 296} {6306129717241591166 46 297}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=296
leader log:
[{snapshot 46 289} {2080568495485902212 46 290} {748843365112958095 46 291} {921401999960599385 46 292} {6601300158673745250 46 293} {9003795406635372253 46 294} {5968263161501447280 46 295} {3547998243984806991 46 296} {6306129717241591166 46 297}]
------------------------------------------------------
flag 30042 term 48 leader 2 nextIndex[0]: 298  matchIndex[0]: 297
term 48 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
flag 28229 term 48 leader 2 nextIndex[1]: 298  matchIndex[1]: 297
term 48 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=296
leader log:
[{snapshot 46 289} {2080568495485902212 46 290} {748843365112958095 46 291} {921401999960599385 46 292} {6601300158673745250 46 293} {9003795406635372253 46 294} {5968263161501447280 46 295} {3547998243984806991 46 296} {6306129717241591166 46 297}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=296
leader log:
[{snapshot 46 289} {2080568495485902212 46 290} {748843365112958095 46 291} {921401999960599385 46 292} {6601300158673745250 46 293} {9003795406635372253 46 294} {5968263161501447280 46 295} {3547998243984806991 46 296} {6306129717241591166 46 297}]
------------------------------------------------------
flag 72147 term 48 leader 2 nextIndex[0]: 298  matchIndex[0]: 297
term 48 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
flag 4305 term 48 leader 2 nextIndex[1]: 298  matchIndex[1]: 297
term 48 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=296
leader log:
[{snapshot 46 289} {2080568495485902212 46 290} {748843365112958095 46 291} {921401999960599385 46 292} {6601300158673745250 46 293} {9003795406635372253 46 294} {5968263161501447280 46 295} {3547998243984806991 46 296} {6306129717241591166 46 297}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=296
leader log:
[{snapshot 46 289} {2080568495485902212 46 290} {748843365112958095 46 291} {921401999960599385 46 292} {6601300158673745250 46 293} {9003795406635372253 46 294} {5968263161501447280 46 295} {3547998243984806991 46 296} {6306129717241591166 46 297}]
------------------------------------------------------
flag 65082 term 48 leader 2 nextIndex[0]: 298  matchIndex[0]: 297
term 48 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
flag 58875 term 48 leader 2 nextIndex[1]: 298  matchIndex[1]: 297
term 48 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=296
leader log:
[{snapshot 46 289} {2080568495485902212 46 290} {748843365112958095 46 291} {921401999960599385 46 292} {6601300158673745250 46 293} {9003795406635372253 46 294} {5968263161501447280 46 295} {3547998243984806991 46 296} {6306129717241591166 46 297}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=296
leader log:
[{snapshot 46 289} {2080568495485902212 46 290} {748843365112958095 46 291} {921401999960599385 46 292} {6601300158673745250 46 293} {9003795406635372253 46 294} {5968263161501447280 46 295} {3547998243984806991 46 296} {6306129717241591166 46 297}]
------------------------------------------------------
flag 45698 term 48 leader 2 nextIndex[0]: 298  matchIndex[0]: 297
term 48 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
flag 98384 term 48 leader 2 nextIndex[1]: 298  matchIndex[1]: 297
term 48 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=296
leader log:
[{snapshot 46 289} {2080568495485902212 46 290} {748843365112958095 46 291} {921401999960599385 46 292} {6601300158673745250 46 293} {9003795406635372253 46 294} {5968263161501447280 46 295} {3547998243984806991 46 296} {6306129717241591166 46 297}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=296
leader log:
[{snapshot 46 289} {2080568495485902212 46 290} {748843365112958095 46 291} {921401999960599385 46 292} {6601300158673745250 46 293} {9003795406635372253 46 294} {5968263161501447280 46 295} {3547998243984806991 46 296} {6306129717241591166 46 297}]
------------------------------------------------------
client write log 6306129717241591166 (index 298) to leader 2
flag 98627 term 48 leader 2 nextIndex[0]: 298  matchIndex[0]: 297
term 48 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
flag 53725 term 48 leader 2 nextIndex[1]: 298  matchIndex[1]: 297
term 48 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 296 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {2080568495485902212 46 290} {748843365112958095 46 291} {921401999960599385 46 292} {6601300158673745250 46 293} {9003795406635372253 46 294} {5968263161501447280 46 295} {3547998243984806991 46 296} {6306129717241591166 46 297} {6306129717241591166 48 298}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {2080568495485902212 46 290} {748843365112958095 46 291} {921401999960599385 46 292} {6601300158673745250 46 293} {9003795406635372253 46 294} {5968263161501447280 46 295} {3547998243984806991 46 296} {6306129717241591166 46 297} {6306129717241591166 48 298}]
------------------------------------------------------
flag 87937 term 48 leader 2 nextIndex[0]: 299  matchIndex[0]: 298
term 48 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
flag 24333 term 48 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 48 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=298
leader log:
term 48 server 0 AppendEntries true commitIndex:298 
------------------------------------------------------
[{snapshot 46 289} {2080568495485902212 46 290} {748843365112958095 46 291} {921401999960599385 46 292} {6601300158673745250 46 293} {9003795406635372253 46 294} {5968263161501447280 46 295} {3547998243984806991 46 296} {6306129717241591166 46 297} {6306129717241591166 48 298}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {2080568495485902212 46 290} {748843365112958095 46 291} {921401999960599385 46 292} {6601300158673745250 46 293} {9003795406635372253 46 294} {5968263161501447280 46 295} {3547998243984806991 46 296} {6306129717241591166 46 297} {6306129717241591166 48 298}]
------------------------------------------------------
flag 75878 term 48 leader 2 nextIndex[0]: 299  matchIndex[0]: 298
term 48 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
flag 57296 term 48 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 48 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {2080568495485902212 46 290} {748843365112958095 46 291} {921401999960599385 46 292} {6601300158673745250 46 293} {9003795406635372253 46 294} {5968263161501447280 46 295} {3547998243984806991 46 296} {6306129717241591166 46 297} {6306129717241591166 48 298}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {2080568495485902212 46 290} {748843365112958095 46 291} {921401999960599385 46 292} {6601300158673745250 46 293} {9003795406635372253 46 294} {5968263161501447280 46 295} {3547998243984806991 46 296} {6306129717241591166 46 297} {6306129717241591166 48 298}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66306 term 48 leader 2 nextIndex[0]: 299  matchIndex[0]: 298
term 48 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
flag 37477 term 48 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 48 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {2080568495485902212 46 290} {748843365112958095 46 291} {921401999960599385 46 292} {6601300158673745250 46 293} {9003795406635372253 46 294} {5968263161501447280 46 295} {3547998243984806991 46 296} {6306129717241591166 46 297} {6306129717241591166 48 298}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {2080568495485902212 46 290} {748843365112958095 46 291} {921401999960599385 46 292} {6601300158673745250 46 293} {9003795406635372253 46 294} {5968263161501447280 46 295} {3547998243984806991 46 296} {6306129717241591166 46 297} {6306129717241591166 48 298}]
------------------------------------------------------
flag 20614 term 48 leader 2 nextIndex[0]: 299  matchIndex[0]: 298
term 48 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
flag 53280 term 48 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 48 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {2080568495485902212 46 290} {748843365112958095 46 291} {921401999960599385 46 292} {6601300158673745250 46 293} {9003795406635372253 46 294} {5968263161501447280 46 295} {3547998243984806991 46 296} {6306129717241591166 46 297} {6306129717241591166 48 298}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {2080568495485902212 46 290} {748843365112958095 46 291} {921401999960599385 46 292} {6601300158673745250 46 293} {9003795406635372253 46 294} {5968263161501447280 46 295} {3547998243984806991 46 296} {6306129717241591166 46 297} {6306129717241591166 48 298}]
------------------------------------------------------
flag 64966 term 48 leader 2 nextIndex[0]: 299  matchIndex[0]: 298
term 48 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
flag 56252 term 48 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 48 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {2080568495485902212 46 290} {748843365112958095 46 291} {921401999960599385 46 292} {6601300158673745250 46 293} {9003795406635372253 46 294} {5968263161501447280 46 295} {3547998243984806991 46 296} {6306129717241591166 46 297} {6306129717241591166 48 298}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {2080568495485902212 46 290} {748843365112958095 46 291} {921401999960599385 46 292} {6601300158673745250 46 293} {9003795406635372253 46 294} {5968263161501447280 46 295} {3547998243984806991 46 296} {6306129717241591166 46 297} {6306129717241591166 48 298}]
------------------------------------------------------
flag 78605 term 48 leader 2 nextIndex[0]: 299  matchIndex[0]: 298
term 48 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
flag 29547 term 48 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 48 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {2080568495485902212 46 290} {748843365112958095 46 291} {921401999960599385 46 292} {6601300158673745250 46 293} {9003795406635372253 46 294} {5968263161501447280 46 295} {3547998243984806991 46 296} {6306129717241591166 46 297} {6306129717241591166 48 298}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {2080568495485902212 46 290} {748843365112958095 46 291} {921401999960599385 46 292} {6601300158673745250 46 293} {9003795406635372253 46 294} {5968263161501447280 46 295} {3547998243984806991 46 296} {6306129717241591166 46 297} {6306129717241591166 48 298}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 18999420067802331 (index 299) to leader 2
flag 97174 term 48 leader 2 nextIndex[0]: 299  matchIndex[0]: 298
term 48 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
flag 91590 term 48 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 48 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=299
leader log:
[{snapshot 46 289} {2080568495485902212 46 290} {748843365112958095 46 291} {921401999960599385 46 292} {6601300158673745250 46 293} {9003795406635372253 46 294} {5968263161501447280 46 295} {3547998243984806991 46 296} {6306129717241591166 46 297} {6306129717241591166 48 298} {18999420067802331 48 299}]
------------------------------------------------------
term 48 Server2 start snapshot! index=299
term 48 server2 snapshot success
lastIncludedIndex=299 lastApplied=299 lastIndex=299
-------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 299->298
------------------------------------------------------
term 48 leader 2 nextIndex[0]: 0  matchIndex[0]: 298
term 48 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 48
------------------------------------------------------
flag 39463 term 48 leader 2 nextIndex[1]: 300  matchIndex[1]: 299
term 48 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 299 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=299
leader log:
[{snapshot 48 299}]
------------------------------------------------------
term 48 Server1 start snapshot! index=299
term 48 server1 snapshot success
lastIncludedIndex=299 lastApplied=299 lastIndex=299
-------------------------------------------------------------
client write log 3941769665489430731 (index 300) to leader 2
client write log 920868789088263294 (index 301) to leader 2
client write log 3234477050076335708 (index 302) to leader 2
client write log 8026350604895244027 (index 303) to leader 2
client write log 3435487860690992124 (index 304) to leader 2
client write log 4223737061940854973 (index 305) to leader 2
client write log 4684978291663201153 (index 306) to leader 2
client write log 7013591721174040611 (index 307) to leader 2
client write log 8062110996023084757 (index 308) to leader 2
client write log 4041474960624225328 (index 309) to leader 2
client write log 7260912735383467296 (index 310) to leader 2
client write log 3799301567519328291 (index 311) to leader 2
term 48 leader 2 nextIndex[0]: 0  matchIndex[0]: 298
term 48 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 48
------------------------------------------------------
flag 96280 term 48 leader 2 nextIndex[1]: 300  matchIndex[1]: 299
term 48 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 299 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 48 299} {3941769665489430731 48 300} {920868789088263294 48 301} {3234477050076335708 48 302} {8026350604895244027 48 303} {3435487860690992124 48 304} {4223737061940854973 48 305} {4684978291663201153 48 306} {7013591721174040611 48 307} {8062110996023084757 48 308} {4041474960624225328 48 309} {7260912735383467296 48 310} {3799301567519328291 48 311}]
------------------------------------------------------
term 48 Server2 start snapshot! index=309
term 48 server2 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=311
-------------------------------------------------------------
term 48 leader 2 nextIndex[0]: 0  matchIndex[0]: 298
term 48 leader 2 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 48
------------------------------------------------------
flag 93519 term 48 leader 2 nextIndex[1]: 312  matchIndex[1]: 311
term 48 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 48 leaderCommit: 311 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 48 309} {7260912735383467296 48 310} {3799301567519328291 48 311}]
------------------------------------------------------
term 48 Server1 start snapshot! index=309
term 48 server1 snapshot success
lastIncludedIndex=309 lastApplied=310 lastIndex=311
-------------------------------------------------------------
!!!!!!connect server 0
client write log 2509617887247763923 (index 312) to leader 2
term 48 server 2 not vote for server 0, 日志不够新
term 48 server 1 not vote for server 0, 日志不够新
term 50 server 1 vote for server 2
term 50 server 0 vote for server 2
term 50 server 2 get vote from server 1
term 50 server 2 become leader
------------------------------------------------------
term 50 server 2 get outdate rpc reply from server 0
flag 53322 term 50 leader 2 nextIndex[0]: 313  matchIndex[0]: 0
term 50 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 48 leaderCommit: 311 
------------------------------------------------------
flag 9194 term 50 leader 2 nextIndex[1]: 313  matchIndex[1]: 0
term 50 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 48 leaderCommit: 311 
------------------------------------------------------
term 50 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 313->312
------------------------------------------------------
term 50 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 313->312
------------------------------------------------------
term 50 leader 2 nextIndex[0]: 299  matchIndex[0]: 0
term 50 leader 2 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 48
------------------------------------------------------
flag 79726 term 50 leader 2 nextIndex[1]: 312  matchIndex[1]: 0
term 50 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 48 leaderCommit: 311 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=313
update matchIndex[1]=312
update leader CommitIndex=311
leader log:
[{snapshot 48 309} {7260912735383467296 48 310} {3799301567519328291 48 311} {2509617887247763923 48 312}]
------------------------------------------------------
term 50 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 309 rf.lastIncludedTerm 48 rf.commitIndex 309 rf.lastApplied 309
term 50 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 310 matchIndex[0] 309 
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11501 term 50 leader 2 nextIndex[0]: 310  matchIndex[0]: 309
term 50 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 48 leaderCommit: 311 
------------------------------------------------------
flag 54411 term 50 leader 2 nextIndex[1]: 313  matchIndex[1]: 312
term 50 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 48 leaderCommit: 311 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=313
update matchIndex[1]=312
update leader CommitIndex=311
leader log:
[{snapshot 48 309} {7260912735383467296 48 310} {3799301567519328291 48 311} {2509617887247763923 48 312}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=313
update matchIndex[0]=312
update leader CommitIndex=311
leader log:
[{snapshot 48 309} {7260912735383467296 48 310} {3799301567519328291 48 311} {2509617887247763923 48 312}]
------------------------------------------------------
flag 77796 term 50 leader 2 nextIndex[0]: 313  matchIndex[0]: 312
term 50 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 48 leaderCommit: 311 
------------------------------------------------------
flag 34914 term 50 leader 2 nextIndex[1]: 313  matchIndex[1]: 312
term 50 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 48 leaderCommit: 311 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:311 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=313
update matchIndex[0]=312
update leader CommitIndex=311
leader log:
[{snapshot 48 309} {7260912735383467296 48 310} {3799301567519328291 48 311} {2509617887247763923 48 312}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=313
update matchIndex[1]=312
update leader CommitIndex=311
leader log:
[{snapshot 48 309} {7260912735383467296 48 310} {3799301567519328291 48 311} {2509617887247763923 48 312}]
------------------------------------------------------
term 50 server 0 not vote for server 2, 任期不够新
term 50 server 2 get outdate rpc reply from server 0
flag 37597 term 50 leader 2 nextIndex[0]: 313  matchIndex[0]: 312
term 50 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 48 leaderCommit: 311 
------------------------------------------------------
flag 28253 term 50 leader 2 nextIndex[1]: 313  matchIndex[1]: 312
term 50 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 48 leaderCommit: 311 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueterm 50 server 0 AppendEntries true commitIndex:311 
------------------------------------------------------
update nextIndex[1]=313
update matchIndex[1]=312
update leader CommitIndex=311
leader log:
[{snapshot 48 309} {7260912735383467296 48 310} {3799301567519328291 48 311} {2509617887247763923 48 312}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=313
update matchIndex[0]=312
update leader CommitIndex=311
leader log:
[{snapshot 48 309} {7260912735383467296 48 310} {3799301567519328291 48 311} {2509617887247763923 48 312}]
------------------------------------------------------
flag 73896 term 50 leader 2 nextIndex[0]: 313  matchIndex[0]: 312
term 50 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 48 leaderCommit: 311 
------------------------------------------------------
flag 91843 term 50 leader 2 nextIndex[1]: 313  matchIndex[1]: 312
term 50 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 48 leaderCommit: 311 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=313
update matchIndex[1]=312
update leader CommitIndex=311
leader log:
[{snapshot 48 309} {7260912735383467296 48 310} {3799301567519328291 48 311} {2509617887247763923 48 312}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=313
update matchIndex[0]=312
update leader CommitIndex=311
leader log:
[{snapshot 48 309} {7260912735383467296 48 310} {3799301567519328291 48 311} {2509617887247763923 48 312}]
------------------------------------------------------
flag 36187 term 50 leader 2 nextIndex[0]: 313  matchIndex[0]: 312
term 50 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 48 leaderCommit: 311 
------------------------------------------------------
flag 88926 term 50 leader 2 nextIndex[1]: 313  matchIndex[1]: 312
term 50 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 48 leaderCommit: 311 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=313
update matchIndex[1]=312
update leader CommitIndex=311
leader log:
[{snapshot 48 309} {7260912735383467296 48 310} {3799301567519328291 48 311} {2509617887247763923 48 312}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=313
update matchIndex[0]=312
update leader CommitIndex=311
leader log:
[{snapshot 48 309} {7260912735383467296 48 310} {3799301567519328291 48 311} {2509617887247763923 48 312}]
------------------------------------------------------
flag 85699 term 50 leader 2 nextIndex[0]: 313  matchIndex[0]: 312
term 50 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 48 leaderCommit: 311 
------------------------------------------------------
flag 87110 term 50 leader 2 nextIndex[1]: 313  matchIndex[1]: 312
term 50 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 48 leaderCommit: 311 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=313
update matchIndex[0]=312
update leader CommitIndex=311
leader log:
[{snapshot 48 309} {7260912735383467296 48 310} {3799301567519328291 48 311} {2509617887247763923 48 312}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=313
update matchIndex[1]=312
update leader CommitIndex=311
leader log:
[{snapshot 48 309} {7260912735383467296 48 310} {3799301567519328291 48 311} {2509617887247763923 48 312}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11557 term 50 leader 2 nextIndex[0]: 313  matchIndex[0]: 312
term 50 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 48 leaderCommit: 311 
------------------------------------------------------
flag 83180 term 50 leader 2 nextIndex[1]: 313  matchIndex[1]: 312
term 50 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 48 leaderCommit: 311 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=313
update matchIndex[0]=312
update leader CommitIndex=311
leader log:
[{snapshot 48 309} {7260912735383467296 48 310} {3799301567519328291 48 311} {2509617887247763923 48 312}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=313
update matchIndex[1]=312
update leader CommitIndex=311
leader log:
[{snapshot 48 309} {7260912735383467296 48 310} {3799301567519328291 48 311} {2509617887247763923 48 312}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17159 term 50 leader 2 nextIndex[0]: 313  matchIndex[0]: 312
term 50 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 48 leaderCommit: 311 
------------------------------------------------------
flag 72470 term 50 leader 2 nextIndex[1]: 313  matchIndex[1]: 312
term 50 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 48 leaderCommit: 311 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:311 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=313
update matchIndex[0]=312
update leader CommitIndex=311
leader log:
[{snapshot 48 309} {7260912735383467296 48 310} {3799301567519328291 48 311} {2509617887247763923 48 312}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=313
update matchIndex[1]=312
update leader CommitIndex=311
leader log:
[{snapshot 48 309} {7260912735383467296 48 310} {3799301567519328291 48 311} {2509617887247763923 48 312}]
------------------------------------------------------
flag 30203 term 50 leader 2 nextIndex[0]: 313  matchIndex[0]: 312
term 50 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 48 leaderCommit: 311 
------------------------------------------------------
flag 10866 term 50 leader 2 nextIndex[1]: 313  matchIndex[1]: 312
term 50 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 48 leaderCommit: 311 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=313
update matchIndex[1]=312
update leader CommitIndex=311
leader log:
[{snapshot 48 309} {7260912735383467296 48 310} {3799301567519328291 48 311} {2509617887247763923 48 312}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=313
update matchIndex[0]=312
update leader CommitIndex=311
leader log:
[{snapshot 48 309} {7260912735383467296 48 310} {3799301567519328291 48 311} {2509617887247763923 48 312}]
------------------------------------------------------
flag 57758 term 50 leader 2 nextIndex[0]: 313  matchIndex[0]: 312
term 50 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 48 leaderCommit: 311 
------------------------------------------------------
flag 65473 term 50 leader 2 nextIndex[1]: 313  matchIndex[1]: 312
term 50 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 48 leaderCommit: 311 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=313
update matchIndex[1]=312
update leader CommitIndex=311
leader log:
[{snapshot 48 309} {7260912735383467296 48 310} {3799301567519328291 48 311} {2509617887247763923 48 312}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=313
update matchIndex[0]=312
update leader CommitIndex=311
leader log:
[{snapshot 48 309} {7260912735383467296 48 310} {3799301567519328291 48 311} {2509617887247763923 48 312}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29302 term 50 leader 2 nextIndex[0]: 313  matchIndex[0]: 312
term 50 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 48 leaderCommit: 311 
------------------------------------------------------
flag 93703 term 50 leader 2 nextIndex[1]: 313  matchIndex[1]: 312
term 50 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 48 leaderCommit: 311 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:311 
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=313
update matchIndex[1]=312
update leader CommitIndex=311
leader log:
[{snapshot 48 309} {7260912735383467296 48 310} {3799301567519328291 48 311} {2509617887247763923 48 312}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=313
update matchIndex[0]=312
update leader CommitIndex=311
leader log:
[{snapshot 48 309} {7260912735383467296 48 310} {3799301567519328291 48 311} {2509617887247763923 48 312}]
------------------------------------------------------
flag 26896 term 50 leader 2 nextIndex[0]: 313  matchIndex[0]: 312
term 50 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 48 leaderCommit: 311 
------------------------------------------------------
flag 63828 term 50 leader 2 nextIndex[1]: 313  matchIndex[1]: 312
term 50 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 48 leaderCommit: 311 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=313
update matchIndex[1]=312
update leader CommitIndex=311
leader log:
[{snapshot 48 309} {7260912735383467296 48 310} {3799301567519328291 48 311} {2509617887247763923 48 312}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=313
update matchIndex[0]=312
update leader CommitIndex=311
leader log:
[{snapshot 48 309} {7260912735383467296 48 310} {3799301567519328291 48 311} {2509617887247763923 48 312}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56972 term 50 leader 2 nextIndex[0]: 313  matchIndex[0]: 312
term 50 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 48 leaderCommit: 311 
------------------------------------------------------
flag 20690 term 50 leader 2 nextIndex[1]: 313  matchIndex[1]: 312
term 50 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 48 leaderCommit: 311 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=313
update matchIndex[1]=312
update leader CommitIndex=311
leader log:
[{snapshot 48 309} {7260912735383467296 48 310} {3799301567519328291 48 311} {2509617887247763923 48 312}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=313
update matchIndex[0]=312
update leader CommitIndex=311
leader log:
[{snapshot 48 309} {7260912735383467296 48 310} {3799301567519328291 48 311} {2509617887247763923 48 312}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31261 term 50 leader 2 nextIndex[0]: 313  matchIndex[0]: 312
term 50 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 48 leaderCommit: 311 
------------------------------------------------------
flag 74788 term 50 leader 2 nextIndex[1]: 313  matchIndex[1]: 312
term 50 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 48 leaderCommit: 311 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=313
update matchIndex[1]=312
update leader CommitIndex=311
leader log:
[{snapshot 48 309} {7260912735383467296 48 310} {3799301567519328291 48 311} {2509617887247763923 48 312}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=313
update matchIndex[0]=312
update leader CommitIndex=311
leader log:
[{snapshot 48 309} {7260912735383467296 48 310} {3799301567519328291 48 311} {2509617887247763923 48 312}]
------------------------------------------------------
flag 96470 term 50 leader 2 nextIndex[0]: 313  matchIndex[0]: 312
term 50 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 48 leaderCommit: 311 
------------------------------------------------------
flag 93787 term 50 leader 2 nextIndex[1]: 313  matchIndex[1]: 312
term 50 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 48 leaderCommit: 311 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=313
update matchIndex[1]=312
update leader CommitIndex=311
leader log:
[{snapshot 48 309} {7260912735383467296 48 310} {3799301567519328291 48 311} {2509617887247763923 48 312}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=313
update matchIndex[0]=312
update leader CommitIndex=311
leader log:
[{snapshot 48 309} {7260912735383467296 48 310} {3799301567519328291 48 311} {2509617887247763923 48 312}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9491 term 50 leader 2 nextIndex[0]: 313  matchIndex[0]: 312
term 50 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 48 leaderCommit: 311 
------------------------------------------------------
flag 39051 term 50 leader 2 nextIndex[1]: 313  matchIndex[1]: 312
term 50 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 48 leaderCommit: 311 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=313
update matchIndex[1]=312
update leader CommitIndex=311
leader log:
[{snapshot 48 309} {7260912735383467296 48 310} {3799301567519328291 48 311} {2509617887247763923 48 312}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=313
update matchIndex[0]=312
update leader CommitIndex=311
leader log:
[{snapshot 48 309} {7260912735383467296 48 310} {3799301567519328291 48 311} {2509617887247763923 48 312}]
------------------------------------------------------
flag 33833 term 50 leader 2 nextIndex[0]: 313  matchIndex[0]: 312
term 50 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 48 leaderCommit: 311 
------------------------------------------------------
flag 75354 term 50 leader 2 nextIndex[1]: 313  matchIndex[1]: 312
term 50 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 48 leaderCommit: 311 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:311 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=313
update matchIndex[0]=312
update leader CommitIndex=311
leader log:
[{snapshot 48 309} {7260912735383467296 48 310} {3799301567519328291 48 311} {2509617887247763923 48 312}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=313
update matchIndex[1]=312
update leader CommitIndex=311
leader log:
[{snapshot 48 309} {7260912735383467296 48 310} {3799301567519328291 48 311} {2509617887247763923 48 312}]
------------------------------------------------------
flag 28971 term 50 leader 2 nextIndex[0]: 313  matchIndex[0]: 312
term 50 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 48 leaderCommit: 311 
------------------------------------------------------
flag 72733 term 50 leader 2 nextIndex[1]: 313  matchIndex[1]: 312
term 50 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 48 leaderCommit: 311 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=313
update matchIndex[1]=312
update leader CommitIndex=311
leader log:
[{snapshot 48 309} {7260912735383467296 48 310} {3799301567519328291 48 311} {2509617887247763923 48 312}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=313
update matchIndex[0]=312
update leader CommitIndex=311
leader log:
[{snapshot 48 309} {7260912735383467296 48 310} {3799301567519328291 48 311} {2509617887247763923 48 312}]
------------------------------------------------------
client write log 2509617887247763923 (index 313) to leader 2
flag 71921 term 50 leader 2 nextIndex[0]: 313  matchIndex[0]: 312
term 50 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 48 leaderCommit: 311 
------------------------------------------------------
flag 21217 term 50 leader 2 nextIndex[1]: 313  matchIndex[1]: 312
term 50 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 48 leaderCommit: 311 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=313
leader log:
[{snapshot 48 309} {7260912735383467296 48 310} {3799301567519328291 48 311} {2509617887247763923 48 312} {2509617887247763923 50 313}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=314
update matchIndex[0]=313
update leader CommitIndex=313
leader log:
[{snapshot 48 309} {7260912735383467296 48 310} {3799301567519328291 48 311} {2509617887247763923 48 312} {2509617887247763923 50 313}]
------------------------------------------------------
flag 44372 term 50 leader 2 nextIndex[0]: 314  matchIndex[0]: 313
term 50 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
flag 3026 term 50 leader 2 nextIndex[1]: 314  matchIndex[1]: 313
term 50 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=313
leader log:
[{snapshot 48 309} {7260912735383467296 48 310} {3799301567519328291 48 311} {2509617887247763923 48 312} {2509617887247763923 50 313}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=314
update matchIndex[0]=313
update leader CommitIndex=313
leader log:
[{snapshot 48 309} {7260912735383467296 48 310} {3799301567519328291 48 311} {2509617887247763923 48 312} {2509617887247763923 50 313}]
------------------------------------------------------
flag 34410 term 50 leader 2 nextIndex[0]: 314  matchIndex[0]: 313
term 50 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
flag 46255 term 50 leader 2 nextIndex[1]: 314  matchIndex[1]: 313
term 50 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=313
leader log:
[{snapshot 48 309} {7260912735383467296 48 310} {3799301567519328291 48 311} {2509617887247763923 48 312} {2509617887247763923 50 313}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=314
update matchIndex[0]=313
update leader CommitIndex=313
leader log:
[{snapshot 48 309} {7260912735383467296 48 310} {3799301567519328291 48 311} {2509617887247763923 48 312} {2509617887247763923 50 313}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39608 term 50 leader 2 nextIndex[0]: 314  matchIndex[0]: 313
term 50 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
flag 22905 term 50 leader 2 nextIndex[1]: 314  matchIndex[1]: 313
term 50 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=313
leader log:
[{snapshot 48 309} {7260912735383467296 48 310} {3799301567519328291 48 311} {2509617887247763923 48 312} {2509617887247763923 50 313}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=314
update matchIndex[0]=313
update leader CommitIndex=313
leader log:
[{snapshot 48 309} {7260912735383467296 48 310} {3799301567519328291 48 311} {2509617887247763923 48 312} {2509617887247763923 50 313}]
------------------------------------------------------
flag 22843 term 50 leader 2 nextIndex[0]: 314  matchIndex[0]: 313
term 50 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
flag 28183 term 50 leader 2 nextIndex[1]: 314  matchIndex[1]: 313
term 50 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=313
leader log:
[{snapshot 48 309} {7260912735383467296 48 310} {3799301567519328291 48 311} {2509617887247763923 48 312} {2509617887247763923 50 313}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=314
update matchIndex[0]=313
update leader CommitIndex=313
leader log:
[{snapshot 48 309} {7260912735383467296 48 310} {3799301567519328291 48 311} {2509617887247763923 48 312} {2509617887247763923 50 313}]
------------------------------------------------------
flag 82590 term 50 leader 2 nextIndex[0]: 314  matchIndex[0]: 313
term 50 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
flag 22194 term 50 leader 2 nextIndex[1]: 314  matchIndex[1]: 313
term 50 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=313
leader log:
[{snapshot 48 309} {7260912735383467296 48 310} {3799301567519328291 48 311} {2509617887247763923 48 312} {2509617887247763923 50 313}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=314
update matchIndex[0]=313
update leader CommitIndex=313
leader log:
[{snapshot 48 309} {7260912735383467296 48 310} {3799301567519328291 48 311} {2509617887247763923 48 312} {2509617887247763923 50 313}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41449 term 50 leader 2 nextIndex[0]: 314  matchIndex[0]: 313
term 50 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
flag 31122 term 50 leader 2 nextIndex[1]: 314  matchIndex[1]: 313
term 50 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=313
leader log:
[{snapshot 48 309} {7260912735383467296 48 310} {3799301567519328291 48 311} {2509617887247763923 48 312} {2509617887247763923 50 313}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=314
update matchIndex[0]=313
update leader CommitIndex=313
leader log:
[{snapshot 48 309} {7260912735383467296 48 310} {3799301567519328291 48 311} {2509617887247763923 48 312} {2509617887247763923 50 313}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 50833 term 50 leader 2 nextIndex[0]: 314  matchIndex[0]: 313
term 50 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
flag 65052 term 50 leader 2 nextIndex[1]: 314  matchIndex[1]: 313
term 50 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
flag 84812 term 50 leader 2 nextIndex[0]: 314  matchIndex[0]: 313
term 50 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
flag 4285 term 50 leader 2 nextIndex[1]: 314  matchIndex[1]: 313
term 50 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
flag 64695 term 50 leader 2 nextIndex[0]: 314  matchIndex[0]: 313
term 50 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
flag 21982 term 50 leader 2 nextIndex[1]: 314  matchIndex[1]: 313
term 50 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97059 term 50 leader 2 nextIndex[0]: 314  matchIndex[0]: 313
term 50 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
flag 28808 term 50 leader 2 nextIndex[1]: 314  matchIndex[1]: 313
term 50 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
term 51 server 1 vote for server 0
term 51 server 0 get vote from server 1
term 51 server 0 become leader
------------------------------------------------------
flag 77099 term 51 leader 0 nextIndex[1]: 314  matchIndex[1]: 0
term 51 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
flag 69336 term 51 leader 0 nextIndex[2]: 314  matchIndex[2]: 0
term 51 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=313
leader log:
[{snapshot 48 309} {7260912735383467296 48 310} {3799301567519328291 48 311} {2509617887247763923 48 312} {2509617887247763923 50 313}]
------------------------------------------------------
client write log 786375049165450817 (index 314) to leader 0
flag 40091 term 50 leader 2 nextIndex[0]: 314  matchIndex[0]: 313
term 50 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
flag 6785 term 50 leader 2 nextIndex[1]: 314  matchIndex[1]: 313
term 50 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
flag 79674 term 51 leader 0 nextIndex[1]: 314  matchIndex[1]: 313
term 51 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
flag 14249 term 51 leader 0 nextIndex[2]: 314  matchIndex[2]: 0
term 51 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=314
leader log:
[{snapshot 48 309} {7260912735383467296 48 310} {3799301567519328291 48 311} {2509617887247763923 48 312} {2509617887247763923 50 313} {786375049165450817 51 314}]
------------------------------------------------------
term 50 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 28843 term 50 leader 2 nextIndex[0]: 314  matchIndex[0]: 313
term 50 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
flag 13496 term 50 leader 2 nextIndex[1]: 314  matchIndex[1]: 313
term 50 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 314->313
------------------------------------------------------
flag 1745 term 51 leader 0 nextIndex[1]: 315  matchIndex[1]: 314
term 51 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 51 leaderCommit: 314 
------------------------------------------------------
term 51 leader 0 nextIndex[2]: 0  matchIndex[2]: 0
term 51 leader 0 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 48
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=314
leader log:
[{snapshot 48 309} {7260912735383467296 48 310} {3799301567519328291 48 311} {2509617887247763923 48 312} {2509617887247763923 50 313} {786375049165450817 51 314}]
------------------------------------------------------
client write log 3465704988833868697 (index 315) to leader 0
client write log 6870054205662859802 (index 316) to leader 0
client write log 3507900796050503843 (index 317) to leader 0
client write log 4850801990367852406 (index 318) to leader 0
client write log 4000480050063347263 (index 319) to leader 0
client write log 8177561597240587283 (index 320) to leader 0
client write log 7593753436162696513 (index 321) to leader 0
client write log 4795049579349134783 (index 322) to leader 0
flag 18103 term 50 leader 2 nextIndex[0]: 314  matchIndex[0]: 313
term 50 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
flag 23144 term 50 leader 2 nextIndex[1]: 314  matchIndex[1]: 313
term 50 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
flag 48322 term 51 leader 0 nextIndex[1]: 315  matchIndex[1]: 314
term 51 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 51 leaderCommit: 314 
------------------------------------------------------
term 51 leader 0 nextIndex[2]: 0  matchIndex[2]: 0
term 51 leader 0 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 48
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=323
update matchIndex[1]=322
update leader CommitIndex=322
leader log:
[{snapshot 48 309} {7260912735383467296 48 310} {3799301567519328291 48 311} {2509617887247763923 48 312} {2509617887247763923 50 313} {786375049165450817 51 314} {3465704988833868697 51 315} {6870054205662859802 51 316} {3507900796050503843 51 317} {4850801990367852406 51 318} {4000480050063347263 51 319} {8177561597240587283 51 320} {7593753436162696513 51 321} {4795049579349134783 51 322}]
------------------------------------------------------
term 51 Server0 start snapshot! index=319
term 51 server0 snapshot success
lastIncludedIndex=319 lastApplied=320 lastIndex=322
-------------------------------------------------------------
flag 51329 term 50 leader 2 nextIndex[0]: 314  matchIndex[0]: 313
term 50 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
flag 12895 term 50 leader 2 nextIndex[1]: 314  matchIndex[1]: 313
term 50 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
flag 7475 term 51 leader 0 nextIndex[1]: 323  matchIndex[1]: 322
term 51 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
term 51 leader 0 nextIndex[2]: 0  matchIndex[2]: 0
term 51 leader 0 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 51
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=323
update matchIndex[1]=322
update leader CommitIndex=322
leader log:
[{snapshot 51 319} {8177561597240587283 51 320} {7593753436162696513 51 321} {4795049579349134783 51 322}]
------------------------------------------------------
term 51 Server1 start snapshot! index=319
term 51 server1 snapshot success
lastIncludedIndex=319 lastApplied=320 lastIndex=322
-------------------------------------------------------------
!!!!!!connect server 2
client write log 9031609932354383945 (index 314) to leader 2
flag 55131 term 50 leader 2 nextIndex[0]: 314  matchIndex[0]: 313
term 50 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
flag 35718 term 50 leader 2 nextIndex[1]: 314  matchIndex[1]: 313
term 50 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
term 51 server 1 AppendEntries false 领导者任期过期 args.Term 50
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 51 server 0 AppendEntries false 领导者任期过期 args.Term 50
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2771 term 51 leader 0 nextIndex[1]: 323  matchIndex[1]: 322
term 51 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
term 51 leader 0 nextIndex[2]: 0  matchIndex[2]: 0
term 51 leader 0 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 51
------------------------------------------------------
term 51 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 319 rf.lastIncludedTerm 51 rf.commitIndex 319 rf.lastApplied 319
term 51 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
term 51 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 320 matchIndex[2] 319 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=323
update matchIndex[1]=322
update leader CommitIndex=322
leader log:
[{snapshot 51 319} {8177561597240587283 51 320} {7593753436162696513 51 321} {4795049579349134783 51 322}]
------------------------------------------------------
flag 71185 term 51 leader 0 nextIndex[1]: 323  matchIndex[1]: 322
term 51 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
flag 56475 term 51 leader 0 nextIndex[2]: 320  matchIndex[2]: 319
term 51 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=323
update matchIndex[2]=322
update leader CommitIndex=322
leader log:
[{snapshot 51 319} {8177561597240587283 51 320} {7593753436162696513 51 321} {4795049579349134783 51 322}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=323
update matchIndex[1]=322
update leader CommitIndex=322
leader log:
[{snapshot 51 319} {8177561597240587283 51 320} {7593753436162696513 51 321} {4795049579349134783 51 322}]
------------------------------------------------------
flag 39746 term 51 leader 0 nextIndex[1]: 323  matchIndex[1]: 322
term 51 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
flag 96324 term 51 leader 0 nextIndex[2]: 323  matchIndex[2]: 322
term 51 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=323
update matchIndex[2]=322
update leader CommitIndex=322
leader log:
[{snapshot 51 319} {8177561597240587283 51 320} {7593753436162696513 51 321} {4795049579349134783 51 322}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=323
update matchIndex[1]=322
update leader CommitIndex=322
leader log:
[{snapshot 51 319} {8177561597240587283 51 320} {7593753436162696513 51 321} {4795049579349134783 51 322}]
------------------------------------------------------
flag 34848 term 51 leader 0 nextIndex[1]: 323  matchIndex[1]: 322
term 51 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
flag 37649 term 51 leader 0 nextIndex[2]: 323  matchIndex[2]: 322
term 51 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=323
update matchIndex[2]=322
update leader CommitIndex=322
leader log:
[{snapshot 51 319} {8177561597240587283 51 320} {7593753436162696513 51 321} {4795049579349134783 51 322}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=323
update matchIndex[1]=322
update leader CommitIndex=322
leader log:
[{snapshot 51 319} {8177561597240587283 51 320} {7593753436162696513 51 321} {4795049579349134783 51 322}]
------------------------------------------------------
flag 74706 term 51 leader 0 nextIndex[1]: 323  matchIndex[1]: 322
term 51 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
flag 2717 term 51 leader 0 nextIndex[2]: 323  matchIndex[2]: 322
term 51 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=323
update matchIndex[2]=322
update leader CommitIndex=322
leader log:
[{snapshot 51 319} {8177561597240587283 51 320} {7593753436162696513 51 321} {4795049579349134783 51 322}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=323
update matchIndex[1]=322
update leader CommitIndex=322
leader log:
[{snapshot 51 319} {8177561597240587283 51 320} {7593753436162696513 51 321} {4795049579349134783 51 322}]
------------------------------------------------------
flag 8906 term 51 leader 0 nextIndex[1]: 323  matchIndex[1]: 322
term 51 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
flag 84298 term 51 leader 0 nextIndex[2]: 323  matchIndex[2]: 322
term 51 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=323
update matchIndex[2]=322
update leader CommitIndex=322
leader log:
[{snapshot 51 319} {8177561597240587283 51 320} {7593753436162696513 51 321} {4795049579349134783 51 322}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=323
update matchIndex[1]=322
update leader CommitIndex=322
leader log:
[{snapshot 51 319} {8177561597240587283 51 320} {7593753436162696513 51 321} {4795049579349134783 51 322}]
------------------------------------------------------
flag 65718 term 51 leader 0 nextIndex[1]: 323  matchIndex[1]: 322
term 51 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
flag 21753 term 51 leader 0 nextIndex[2]: 323  matchIndex[2]: 322
term 51 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=323
update matchIndex[1]=322
update leader CommitIndex=322
leader log:
[{snapshot 51 319} {8177561597240587283 51 320} {7593753436162696513 51 321} {4795049579349134783 51 322}]
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=323
update matchIndex[2]=322
update leader CommitIndex=322
leader log:
[{snapshot 51 319} {8177561597240587283 51 320} {7593753436162696513 51 321} {4795049579349134783 51 322}]
------------------------------------------------------
flag 11105 term 51 leader 0 nextIndex[1]: 323  matchIndex[1]: 322
term 51 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
flag 10688 term 51 leader 0 nextIndex[2]: 323  matchIndex[2]: 322
term 51 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=323
update matchIndex[2]=322
update leader CommitIndex=322
leader log:
[{snapshot 51 319} {8177561597240587283 51 320} {7593753436162696513 51 321} {4795049579349134783 51 322}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=323
update matchIndex[1]=322
update leader CommitIndex=322
leader log:
[{snapshot 51 319} {8177561597240587283 51 320} {7593753436162696513 51 321} {4795049579349134783 51 322}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 323->322
------------------------------------------------------
flag 15586 term 51 leader 0 nextIndex[1]: 323  matchIndex[1]: 322
term 51 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
term 51 leader 0 nextIndex[2]: 0  matchIndex[2]: 322
term 51 leader 0 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 51
------------------------------------------------------
term 51 server 2 InstallSnapshot fail
rf.commitIndex 322 args.LastIncludedIndex 319
------------------------------------------------------
term 51 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 320 matchIndex[2] 319 
------------------------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=323
update matchIndex[1]=322
update leader CommitIndex=322
leader log:
[{snapshot 51 319} {8177561597240587283 51 320} {7593753436162696513 51 321} {4795049579349134783 51 322}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9472 term 51 leader 0 nextIndex[1]: 323  matchIndex[1]: 322
term 51 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
flag 24550 term 51 leader 0 nextIndex[2]: 320  matchIndex[2]: 319
term 51 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=323
update matchIndex[2]=322
update leader CommitIndex=322
leader log:
[{snapshot 51 319} {8177561597240587283 51 320} {7593753436162696513 51 321} {4795049579349134783 51 322}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=323
update matchIndex[1]=322
update leader CommitIndex=322
leader log:
[{snapshot 51 319} {8177561597240587283 51 320} {7593753436162696513 51 321} {4795049579349134783 51 322}]
------------------------------------------------------
flag 96485 term 51 leader 0 nextIndex[1]: 323  matchIndex[1]: 322
term 51 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
flag 33244 term 51 leader 0 nextIndex[2]: 323  matchIndex[2]: 322
term 51 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=323
update matchIndex[2]=322
update leader CommitIndex=322
leader log:
[{snapshot 51 319} {8177561597240587283 51 320} {7593753436162696513 51 321} {4795049579349134783 51 322}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=323
update matchIndex[1]=322
update leader CommitIndex=322
leader log:
[{snapshot 51 319} {8177561597240587283 51 320} {7593753436162696513 51 321} {4795049579349134783 51 322}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53107 term 51 leader 0 nextIndex[1]: 323  matchIndex[1]: 322
term 51 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
flag 97204 term 51 leader 0 nextIndex[2]: 323  matchIndex[2]: 322
term 51 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=323
update matchIndex[2]=322
update leader CommitIndex=322
leader log:
[{snapshot 51 319} {8177561597240587283 51 320} {7593753436162696513 51 321} {4795049579349134783 51 322}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=323
update matchIndex[1]=322
update leader CommitIndex=322
leader log:
[{snapshot 51 319} {8177561597240587283 51 320} {7593753436162696513 51 321} {4795049579349134783 51 322}]
------------------------------------------------------
term 51 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 68872 term 51 leader 0 nextIndex[1]: 323  matchIndex[1]: 322
term 51 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
flag 94402 term 51 leader 0 nextIndex[2]: 323  matchIndex[2]: 322
term 51 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=323
update matchIndex[2]=322
update leader CommitIndex=322
leader log:
[{snapshot 51 319} {8177561597240587283 51 320} {7593753436162696513 51 321} {4795049579349134783 51 322}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=323
update matchIndex[1]=322
update leader CommitIndex=322
leader log:
[{snapshot 51 319} {8177561597240587283 51 320} {7593753436162696513 51 321} {4795049579349134783 51 322}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22760 term 51 leader 0 nextIndex[1]: 323  matchIndex[1]: 322
term 51 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
flag 78627 term 51 leader 0 nextIndex[2]: 323  matchIndex[2]: 322
term 51 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=323
update matchIndex[2]=322
update leader CommitIndex=322
leader log:
[{snapshot 51 319} {8177561597240587283 51 320} {7593753436162696513 51 321} {4795049579349134783 51 322}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=323
update matchIndex[1]=322
update leader CommitIndex=322
leader log:
[{snapshot 51 319} {8177561597240587283 51 320} {7593753436162696513 51 321} {4795049579349134783 51 322}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92937 term 51 leader 0 nextIndex[1]: 323  matchIndex[1]: 322
term 51 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
flag 65267 term 51 leader 0 nextIndex[2]: 323  matchIndex[2]: 322
term 51 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=323
term 51 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
update matchIndex[2]=322
update leader CommitIndex=322
leader log:
[{snapshot 51 319} {8177561597240587283 51 320} {7593753436162696513 51 321} {4795049579349134783 51 322}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=323
update matchIndex[1]=322
update leader CommitIndex=322
leader log:
[{snapshot 51 319} {8177561597240587283 51 320} {7593753436162696513 51 321} {4795049579349134783 51 322}]
------------------------------------------------------
flag 4392 term 51 leader 0 nextIndex[1]: 323  matchIndex[1]: 322
term 51 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
flag 42367 term 51 leader 0 nextIndex[2]: 323  matchIndex[2]: 322
term 51 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=323
update matchIndex[2]=322
update leader CommitIndex=322
leader log:
[{snapshot 51 319} {8177561597240587283 51 320} {7593753436162696513 51 321} {4795049579349134783 51 322}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=323
update matchIndex[1]=322
update leader CommitIndex=322
leader log:
[{snapshot 51 319} {8177561597240587283 51 320} {7593753436162696513 51 321} {4795049579349134783 51 322}]
------------------------------------------------------
flag 94521 term 51 leader 0 nextIndex[1]: 323  matchIndex[1]: 322
term 51 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
flag 66435 term 51 leader 0 nextIndex[2]: 323  matchIndex[2]: 322
term 51 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=323
update matchIndex[2]=322
update leader CommitIndex=322
leader log:
[{snapshot 51 319} {8177561597240587283 51 320} {7593753436162696513 51 321} {4795049579349134783 51 322}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=323
update matchIndex[1]=322
update leader CommitIndex=322
leader log:
[{snapshot 51 319} {8177561597240587283 51 320} {7593753436162696513 51 321} {4795049579349134783 51 322}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56942 term 51 leader 0 nextIndex[1]: 323  matchIndex[1]: 322
term 51 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
flag 54463 term 51 leader 0 nextIndex[2]: 323  matchIndex[2]: 322
term 51 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:322 
term 51 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=323
update matchIndex[2]=322
update leader CommitIndex=322
leader log:
[{snapshot 51 319} {8177561597240587283 51 320} {7593753436162696513 51 321} {4795049579349134783 51 322}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=323
update matchIndex[1]=322
update leader CommitIndex=322
leader log:
[{snapshot 51 319} {8177561597240587283 51 320} {7593753436162696513 51 321} {4795049579349134783 51 322}]
------------------------------------------------------
flag 62365 term 51 leader 0 nextIndex[1]: 323  matchIndex[1]: 322
term 51 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
flag 78430 term 51 leader 0 nextIndex[2]: 323  matchIndex[2]: 322
term 51 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=323
update matchIndex[2]=322
update leader CommitIndex=322
leader log:
[{snapshot 51 319} {8177561597240587283 51 320} {7593753436162696513 51 321} {4795049579349134783 51 322}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=323
update matchIndex[1]=322
update leader CommitIndex=322
leader log:
[{snapshot 51 319} {8177561597240587283 51 320} {7593753436162696513 51 321} {4795049579349134783 51 322}]
------------------------------------------------------
flag 80471 term 51 leader 0 nextIndex[1]: 323  matchIndex[1]: 322
term 51 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
flag 98744 term 51 leader 0 nextIndex[2]: 323  matchIndex[2]: 322
term 51 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=323
update matchIndex[2]=322
update leader CommitIndex=322
leader log:
[{snapshot 51 319} {8177561597240587283 51 320} {7593753436162696513 51 321} {4795049579349134783 51 322}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=323
update matchIndex[1]=322
update leader CommitIndex=322
leader log:
[{snapshot 51 319} {8177561597240587283 51 320} {7593753436162696513 51 321} {4795049579349134783 51 322}]
------------------------------------------------------
client write log 9031609932354383945 (index 323) to leader 0
flag 56963 term 51 leader 0 nextIndex[1]: 323  matchIndex[1]: 322
term 51 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
flag 1423 term 51 leader 0 nextIndex[2]: 323  matchIndex[2]: 322
term 51 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 51 leaderCommit: 322 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 51 319} {8177561597240587283 51 320} {7593753436162696513 51 321} {4795049579349134783 51 322} {9031609932354383945 51 323}]
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 51 319} {8177561597240587283 51 320} {7593753436162696513 51 321} {4795049579349134783 51 322} {9031609932354383945 51 323}]
------------------------------------------------------
flag 97549 term 51 leader 0 nextIndex[1]: 324  matchIndex[1]: 323
term 51 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 51 leaderCommit: 323 
------------------------------------------------------
flag 15887 term 51 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 51 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 51 leaderCommit: 323 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
term 51 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 51 319} {8177561597240587283 51 320} {7593753436162696513 51 321} {4795049579349134783 51 322} {9031609932354383945 51 323}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 51 319} {8177561597240587283 51 320} {7593753436162696513 51 321} {4795049579349134783 51 322} {9031609932354383945 51 323}]
------------------------------------------------------
flag 41330 term 51 leader 0 nextIndex[1]: 324  matchIndex[1]: 323
term 51 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 51 leaderCommit: 323 
------------------------------------------------------
flag 53857 term 51 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 51 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 51 leaderCommit: 323 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
term 51 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 51 319} {8177561597240587283 51 320} {7593753436162696513 51 321} {4795049579349134783 51 322} {9031609932354383945 51 323}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 51 319} {8177561597240587283 51 320} {7593753436162696513 51 321} {4795049579349134783 51 322} {9031609932354383945 51 323}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89857 term 51 leader 0 nextIndex[1]: 324  matchIndex[1]: 323
term 51 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 51 leaderCommit: 323 
------------------------------------------------------
flag 31601 term 51 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 51 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 51 leaderCommit: 323 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 51 319} {8177561597240587283 51 320} {7593753436162696513 51 321} {4795049579349134783 51 322} {9031609932354383945 51 323}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 51 319} {8177561597240587283 51 320} {7593753436162696513 51 321} {4795049579349134783 51 322} {9031609932354383945 51 323}]
------------------------------------------------------
flag 40915 term 51 leader 0 nextIndex[1]: 324  matchIndex[1]: 323
term 51 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 51 leaderCommit: 323 
------------------------------------------------------
flag 64687 term 51 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 51 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 51 leaderCommit: 323 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 51 319} {8177561597240587283 51 320} {7593753436162696513 51 321} {4795049579349134783 51 322} {9031609932354383945 51 323}]
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 51 319} {8177561597240587283 51 320} {7593753436162696513 51 321} {4795049579349134783 51 322} {9031609932354383945 51 323}]
------------------------------------------------------
flag 38470 term 51 leader 0 nextIndex[1]: 324  matchIndex[1]: 323
term 51 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 51 leaderCommit: 323 
------------------------------------------------------
flag 91210 term 51 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 51 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 51 leaderCommit: 323 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 51 319} {8177561597240587283 51 320} {7593753436162696513 51 321} {4795049579349134783 51 322} {9031609932354383945 51 323}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 51 319} {8177561597240587283 51 320} {7593753436162696513 51 321} {4795049579349134783 51 322} {9031609932354383945 51 323}]
------------------------------------------------------
term 51 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 5895 term 51 leader 0 nextIndex[1]: 324  matchIndex[1]: 323
term 51 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 51 leaderCommit: 323 
------------------------------------------------------
flag 72861 term 51 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 51 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 51 leaderCommit: 323 
------------------------------------------------------
!!!!!!diconnect server 1
client write log 1892072775256613869 (index 324) to leader 0
term 51 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 51 319} {8177561597240587283 51 320} {7593753436162696513 51 321} {4795049579349134783 51 322} {9031609932354383945 51 323} {1892072775256613869 51 324}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50535 term 51 leader 0 nextIndex[1]: 324  matchIndex[1]: 323
term 51 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 51 leaderCommit: 323 
------------------------------------------------------
flag 55679 term 51 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 51 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 51 leaderCommit: 323 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=324
leader log:
[{snapshot 51 319} {8177561597240587283 51 320} {7593753436162696513 51 321} {4795049579349134783 51 322} {9031609932354383945 51 323} {1892072775256613869 51 324}]
------------------------------------------------------
flag 24533 term 51 leader 0 nextIndex[1]: 324  matchIndex[1]: 323
term 51 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 51 leaderCommit: 324 
------------------------------------------------------
flag 4583 term 51 leader 0 nextIndex[2]: 325  matchIndex[2]: 324
term 51 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 51 leaderCommit: 324 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=324
leader log:
[{snapshot 51 319} {8177561597240587283 51 320} {7593753436162696513 51 321} {4795049579349134783 51 322} {9031609932354383945 51 323} {1892072775256613869 51 324}]
------------------------------------------------------
client write log 1259824960463866193 (index 325) to leader 0
client write log 6752592600349396607 (index 326) to leader 0
client write log 5561044343042513854 (index 327) to leader 0
client write log 361955823279813394 (index 328) to leader 0
client write log 2646777914231924185 (index 329) to leader 0
client write log 6078293207843457456 (index 330) to leader 0
client write log 3737076880063937755 (index 331) to leader 0
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 324->323
------------------------------------------------------
term 51 leader 0 nextIndex[1]: 0  matchIndex[1]: 323
term 51 leader 0 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 51
------------------------------------------------------
flag 6072 term 51 leader 0 nextIndex[2]: 325  matchIndex[2]: 324
term 51 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 51 leaderCommit: 324 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=331
leader log:
[{snapshot 51 319} {8177561597240587283 51 320} {7593753436162696513 51 321} {4795049579349134783 51 322} {9031609932354383945 51 323} {1892072775256613869 51 324} {1259824960463866193 51 325} {6752592600349396607 51 326} {5561044343042513854 51 327} {361955823279813394 51 328} {2646777914231924185 51 329} {6078293207843457456 51 330} {3737076880063937755 51 331}]
------------------------------------------------------
term 51 Server0 start snapshot! index=329
term 51 server0 snapshot success
lastIncludedIndex=329 lastApplied=330 lastIndex=331
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 51 leader 0 nextIndex[1]: 0  matchIndex[1]: 323
term 51 leader 0 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 51
------------------------------------------------------
flag 26576 term 51 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 51 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 51 leaderCommit: 331 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=331
leader log:
[{snapshot 51 329} {6078293207843457456 51 330} {3737076880063937755 51 331}]
------------------------------------------------------
term 51 Server2 start snapshot! index=329
term 51 server2 snapshot success
lastIncludedIndex=329 lastApplied=330 lastIndex=331
-------------------------------------------------------------
!!!!!!connect server 1
client write log 6732595872810018418 (index 332) to leader 0
term 51 server 2 not vote for server 0, 日志不够新
term 51 server 0 get outdate rpc reply from server 2
term 51 leader 0 nextIndex[1]: 0  matchIndex[1]: 323
term 51 leader 0 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 51
------------------------------------------------------
flag 31840 term 51 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 51 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 51 leaderCommit: 331 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
term 52 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 51 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 53 server 2 vote for server 0
term 53 server 1 vote for server 0
term 53 server 0 get vote from server 2
term 53 server 0 become leader
------------------------------------------------------
term 53 server 0 get outdate rpc reply from server 1
flag 48880 term 53 leader 0 nextIndex[1]: 333  matchIndex[1]: 0
term 53 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 51 leaderCommit: 331 
------------------------------------------------------
flag 57123 term 53 leader 0 nextIndex[2]: 333  matchIndex[2]: 0
term 53 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 51 leaderCommit: 331 
------------------------------------------------------
term 53 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 333->332
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=331
leader log:
[{snapshot 51 329} {6078293207843457456 51 330} {3737076880063937755 51 331} {6732595872810018418 51 332}]
------------------------------------------------------
term 53 leader 0 nextIndex[1]: 324  matchIndex[1]: 0
term 53 leader 0 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 51
------------------------------------------------------
flag 83856 term 53 leader 0 nextIndex[2]: 333  matchIndex[2]: 332
term 53 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 51 leaderCommit: 331 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
term 53 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=331
leader log:
[{snapshot 51 329} {6078293207843457456 51 330} {3737076880063937755 51 331} {6732595872810018418 51 332}]
------------------------------------------------------
term 53 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 330 matchIndex[1] 329 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 329 rf.lastIncludedTerm 51 rf.commitIndex 329 rf.lastApplied 329
flag 81865 term 53 leader 0 nextIndex[1]: 330  matchIndex[1]: 329
term 53 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 51 leaderCommit: 331 
------------------------------------------------------
flag 978 term 53 leader 0 nextIndex[2]: 333  matchIndex[2]: 332
term 53 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 51 leaderCommit: 331 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=331
leader log:
[{snapshot 51 329} {6078293207843457456 51 330} {3737076880063937755 51 331} {6732595872810018418 51 332}]
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=331
leader log:
[{snapshot 51 329} {6078293207843457456 51 330} {3737076880063937755 51 331} {6732595872810018418 51 332}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31035 term 53 leader 0 nextIndex[1]: 333  matchIndex[1]: 332
term 53 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 51 leaderCommit: 331 
------------------------------------------------------
flag 94825 term 53 leader 0 nextIndex[2]: 333  matchIndex[2]: 332
term 53 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 51 leaderCommit: 331 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=331
leader log:
[{snapshot 51 329} {6078293207843457456 51 330} {3737076880063937755 51 331} {6732595872810018418 51 332}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=331
leader log:
[{snapshot 51 329} {6078293207843457456 51 330} {3737076880063937755 51 331} {6732595872810018418 51 332}]
------------------------------------------------------
flag 29793 term 53 leader 0 nextIndex[1]: 333  matchIndex[1]: 332
term 53 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 51 leaderCommit: 331 
------------------------------------------------------
flag 11710 term 53 leader 0 nextIndex[2]: 333  matchIndex[2]: 332
term 53 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 51 leaderCommit: 331 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=331
leader log:
[{snapshot 51 329} {6078293207843457456 51 330} {3737076880063937755 51 331} {6732595872810018418 51 332}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=331
leader log:
[{snapshot 51 329} {6078293207843457456 51 330} {3737076880063937755 51 331} {6732595872810018418 51 332}]
------------------------------------------------------
flag 55772 term 53 leader 0 nextIndex[1]: 333  matchIndex[1]: 332
term 53 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 51 leaderCommit: 331 
------------------------------------------------------
flag 12825 term 53 leader 0 nextIndex[2]: 333  matchIndex[2]: 332
term 53 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 51 leaderCommit: 331 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=331
leader log:
[{snapshot 51 329} {6078293207843457456 51 330} {3737076880063937755 51 331} {6732595872810018418 51 332}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=331
leader log:
[{snapshot 51 329} {6078293207843457456 51 330} {3737076880063937755 51 331} {6732595872810018418 51 332}]
------------------------------------------------------
flag 4278 term 53 leader 0 nextIndex[1]: 333  matchIndex[1]: 332
term 53 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 51 leaderCommit: 331 
------------------------------------------------------
flag 54631 term 53 leader 0 nextIndex[2]: 333  matchIndex[2]: 332
term 53 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 51 leaderCommit: 331 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=331
leader log:
[{snapshot 51 329} {6078293207843457456 51 330} {3737076880063937755 51 331} {6732595872810018418 51 332}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=331
leader log:
[{snapshot 51 329} {6078293207843457456 51 330} {3737076880063937755 51 331} {6732595872810018418 51 332}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19899 term 53 leader 0 nextIndex[1]: 333  matchIndex[1]: 332
term 53 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 51 leaderCommit: 331 
------------------------------------------------------
flag 5849 term 53 leader 0 nextIndex[2]: 333  matchIndex[2]: 332
term 53 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 51 leaderCommit: 331 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=331
leader log:
[{snapshot 51 329} {6078293207843457456 51 330} {3737076880063937755 51 331} {6732595872810018418 51 332}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=331
leader log:
[{snapshot 51 329} {6078293207843457456 51 330} {3737076880063937755 51 331} {6732595872810018418 51 332}]
------------------------------------------------------
flag 10943 term 53 leader 0 nextIndex[1]: 333  matchIndex[1]: 332
term 53 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 51 leaderCommit: 331 
------------------------------------------------------
flag 14698 term 53 leader 0 nextIndex[2]: 333  matchIndex[2]: 332
term 53 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 51 leaderCommit: 331 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=331
leader log:
[{snapshot 51 329} {6078293207843457456 51 330} {3737076880063937755 51 331} {6732595872810018418 51 332}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=331
leader log:
[{snapshot 51 329} {6078293207843457456 51 330} {3737076880063937755 51 331} {6732595872810018418 51 332}]
------------------------------------------------------
flag 36369 term 53 leader 0 nextIndex[1]: 333  matchIndex[1]: 332
term 53 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 51 leaderCommit: 331 
------------------------------------------------------
flag 41446 term 53 leader 0 nextIndex[2]: 333  matchIndex[2]: 332
term 53 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 51 leaderCommit: 331 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=331
leader log:
[{snapshot 51 329} {6078293207843457456 51 330} {3737076880063937755 51 331} {6732595872810018418 51 332}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=331
leader log:
[{snapshot 51 329} {6078293207843457456 51 330} {3737076880063937755 51 331} {6732595872810018418 51 332}]
------------------------------------------------------
flag 52527 term 53 leader 0 nextIndex[1]: 333  matchIndex[1]: 332
term 53 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 51 leaderCommit: 331 
------------------------------------------------------
flag 7232 term 53 leader 0 nextIndex[2]: 333  matchIndex[2]: 332
term 53 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 51 leaderCommit: 331 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=331
leader log:
[{snapshot 51 329} {6078293207843457456 51 330} {3737076880063937755 51 331} {6732595872810018418 51 332}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=331
leader log:
[{snapshot 51 329} {6078293207843457456 51 330} {3737076880063937755 51 331} {6732595872810018418 51 332}]
------------------------------------------------------
flag 27366 term 53 leader 0 nextIndex[1]: 333  matchIndex[1]: 332
term 53 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 51 leaderCommit: 331 
------------------------------------------------------
flag 41954 term 53 leader 0 nextIndex[2]: 333  matchIndex[2]: 332
term 53 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 51 leaderCommit: 331 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=331
leader log:
[{snapshot 51 329} {6078293207843457456 51 330} {3737076880063937755 51 331} {6732595872810018418 51 332}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=331
leader log:
[{snapshot 51 329} {6078293207843457456 51 330} {3737076880063937755 51 331} {6732595872810018418 51 332}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36455 term 53 leader 0 nextIndex[1]: 333  matchIndex[1]: 332
term 53 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 51 leaderCommit: 331 
------------------------------------------------------
flag 41425 term 53 leader 0 nextIndex[2]: 333  matchIndex[2]: 332
term 53 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 51 leaderCommit: 331 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=331
leader log:
[{snapshot 51 329} {6078293207843457456 51 330} {3737076880063937755 51 331} {6732595872810018418 51 332}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=331
leader log:
[{snapshot 51 329} {6078293207843457456 51 330} {3737076880063937755 51 331} {6732595872810018418 51 332}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 53 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 74640 term 53 leader 0 nextIndex[1]: 333  matchIndex[1]: 332
term 53 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 51 leaderCommit: 331 
------------------------------------------------------
flag 12489 term 53 leader 0 nextIndex[2]: 333  matchIndex[2]: 332
term 53 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 51 leaderCommit: 331 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
term 53 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
update matchIndex[2]=332
update leader CommitIndex=331
leader log:
[{snapshot 51 329} {6078293207843457456 51 330} {3737076880063937755 51 331} {6732595872810018418 51 332}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=331
leader log:
[{snapshot 51 329} {6078293207843457456 51 330} {3737076880063937755 51 331} {6732595872810018418 51 332}]
------------------------------------------------------
flag 77069 term 53 leader 0 nextIndex[1]: 333  matchIndex[1]: 332
term 53 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 51 leaderCommit: 331 
------------------------------------------------------
flag 66565 term 53 leader 0 nextIndex[2]: 333  matchIndex[2]: 332
term 53 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 51 leaderCommit: 331 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=331
leader log:
[{snapshot 51 329} {6078293207843457456 51 330} {3737076880063937755 51 331} {6732595872810018418 51 332}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=331
leader log:
[{snapshot 51 329} {6078293207843457456 51 330} {3737076880063937755 51 331} {6732595872810018418 51 332}]
------------------------------------------------------
flag 20455 term 53 leader 0 nextIndex[1]: 333  matchIndex[1]: 332
term 53 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 51 leaderCommit: 331 
------------------------------------------------------
flag 83985 term 53 leader 0 nextIndex[2]: 333  matchIndex[2]: 332
term 53 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 51 leaderCommit: 331 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=331
leader log:
term 53 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
[{snapshot 51 329} {6078293207843457456 51 330} {3737076880063937755 51 331} {6732595872810018418 51 332}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=331
leader log:
[{snapshot 51 329} {6078293207843457456 51 330} {3737076880063937755 51 331} {6732595872810018418 51 332}]
------------------------------------------------------
flag 38057 term 53 leader 0 nextIndex[1]: 333  matchIndex[1]: 332
term 53 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 51 leaderCommit: 331 
------------------------------------------------------
flag 25220 term 53 leader 0 nextIndex[2]: 333  matchIndex[2]: 332
term 53 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 51 leaderCommit: 331 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=331
leader log:
[{snapshot 51 329} {6078293207843457456 51 330} {3737076880063937755 51 331} {6732595872810018418 51 332}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=331
leader log:
[{snapshot 51 329} {6078293207843457456 51 330} {3737076880063937755 51 331} {6732595872810018418 51 332}]
------------------------------------------------------
flag 72385 term 53 leader 0 nextIndex[1]: 333  matchIndex[1]: 332
term 53 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 51 leaderCommit: 331 
------------------------------------------------------
flag 35598 term 53 leader 0 nextIndex[2]: 333  matchIndex[2]: 332
term 53 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 51 leaderCommit: 331 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=331
leader log:
[{snapshot 51 329} {6078293207843457456 51 330} {3737076880063937755 51 331} {6732595872810018418 51 332}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=331
leader log:
[{snapshot 51 329} {6078293207843457456 51 330} {3737076880063937755 51 331} {6732595872810018418 51 332}]
------------------------------------------------------
flag 1129 term 53 leader 0 nextIndex[1]: 333  matchIndex[1]: 332
term 53 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 51 leaderCommit: 331 
------------------------------------------------------
flag 92750 term 53 leader 0 nextIndex[2]: 333  matchIndex[2]: 332
term 53 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 51 leaderCommit: 331 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=331
leader log:
term 53 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
[{snapshot 51 329} {6078293207843457456 51 330} {3737076880063937755 51 331} {6732595872810018418 51 332}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=331
leader log:
[{snapshot 51 329} {6078293207843457456 51 330} {3737076880063937755 51 331} {6732595872810018418 51 332}]
------------------------------------------------------
client write log 6732595872810018418 (index 333) to leader 0
flag 52448 term 53 leader 0 nextIndex[1]: 333  matchIndex[1]: 332
term 53 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 51 leaderCommit: 331 
------------------------------------------------------
flag 11606 term 53 leader 0 nextIndex[2]: 333  matchIndex[2]: 332
term 53 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 51 leaderCommit: 331 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=333
leader log:
[{snapshot 51 329} {6078293207843457456 51 330} {3737076880063937755 51 331} {6732595872810018418 51 332} {6732595872810018418 53 333}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=333
leader log:
[{snapshot 51 329} {6078293207843457456 51 330} {3737076880063937755 51 331} {6732595872810018418 51 332} {6732595872810018418 53 333}]
------------------------------------------------------
flag 15762 term 53 leader 0 nextIndex[1]: 334  matchIndex[1]: 333
term 53 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 333 
------------------------------------------------------
flag 59608 term 53 leader 0 nextIndex[2]: 334  matchIndex[2]: 333
term 53 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 333 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=333
leader log:
[{snapshot 51 329} {6078293207843457456 51 330} {3737076880063937755 51 331} {6732595872810018418 51 332} {6732595872810018418 53 333}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=333
leader log:
[{snapshot 51 329} {6078293207843457456 51 330} {3737076880063937755 51 331} {6732595872810018418 51 332} {6732595872810018418 53 333}]
------------------------------------------------------
flag 3229 term 53 leader 0 nextIndex[1]: 334  matchIndex[1]: 333
term 53 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 333 
------------------------------------------------------
flag 30355 term 53 leader 0 nextIndex[2]: 334  matchIndex[2]: 333
term 53 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 333 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=333
leader log:
[{snapshot 51 329} {6078293207843457456 51 330} {3737076880063937755 51 331} {6732595872810018418 51 332} {6732595872810018418 53 333}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=333
leader log:
[{snapshot 51 329} {6078293207843457456 51 330} {3737076880063937755 51 331} {6732595872810018418 51 332} {6732595872810018418 53 333}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73713 term 53 leader 0 nextIndex[1]: 334  matchIndex[1]: 333
term 53 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 333 
------------------------------------------------------
flag 92933 term 53 leader 0 nextIndex[2]: 334  matchIndex[2]: 333
term 53 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 333 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:333 
term 53 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=333
leader log:
[{snapshot 51 329} {6078293207843457456 51 330} {3737076880063937755 51 331} {6732595872810018418 51 332} {6732595872810018418 53 333}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=333
leader log:
[{snapshot 51 329} {6078293207843457456 51 330} {3737076880063937755 51 331} {6732595872810018418 51 332} {6732595872810018418 53 333}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62702 term 53 leader 0 nextIndex[1]: 334  matchIndex[1]: 333
term 53 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 333 
------------------------------------------------------
flag 50418 term 53 leader 0 nextIndex[2]: 334  matchIndex[2]: 333
term 53 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 333 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=333
leader log:
[{snapshot 51 329} {6078293207843457456 51 330} {3737076880063937755 51 331} {6732595872810018418 51 332} {6732595872810018418 53 333}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=333
leader log:
[{snapshot 51 329} {6078293207843457456 51 330} {3737076880063937755 51 331} {6732595872810018418 51 332} {6732595872810018418 53 333}]
------------------------------------------------------
flag 31975 term 53 leader 0 nextIndex[1]: 334  matchIndex[1]: 333
term 53 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 333 
------------------------------------------------------
flag 82304 term 53 leader 0 nextIndex[2]: 334  matchIndex[2]: 333
term 53 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 333 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=333
leader log:
[{snapshot 51 329} {6078293207843457456 51 330} {3737076880063937755 51 331} {6732595872810018418 51 332} {6732595872810018418 53 333}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=333
leader log:
[{snapshot 51 329} {6078293207843457456 51 330} {3737076880063937755 51 331} {6732595872810018418 51 332} {6732595872810018418 53 333}]
------------------------------------------------------
  ... Passed --  77.8  3 1783  779049  333
--- PASS: TestSnapshotInstall2D (77.77s)
PASS
