=== RUN   TestSnapshotAllCrash2D
Test (2D): crash and restart all servers ...
term 1 server 2 vote for server 0
term 1 server 0 get vote from server 2
term 1 server 0 become leader
------------------------------------------------------
term 1 server 1 vote for server 0
term 1 server 0 get outdate rpc reply from server 1
client write log 2850026546343788475 (index 1) to leader 0
flag 81526 term 1 leader 0 nextIndex[1]: 1  matchIndex[1]: 0
[{2850026546343788475 1 1}]
term 1 leader 0 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 3278 term 1 leader 0 nextIndex[2]: 1  matchIndex[2]: 0
[{2850026546343788475 1 1}]
term 1 leader 0 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
server 2 log:
[{<nil> 0 0} {2850026546343788475 1 1}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2850026546343788475 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
server 1 log:
[{<nil> 0 0} {2850026546343788475 1 1}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2850026546343788475 1 1}]
------------------------------------------------------
flag 37302 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
[]
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 53121 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
[]
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
server 2 log:
[{<nil> 0 0} {2850026546343788475 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
server 1 log:
[{<nil> 0 0} {2850026546343788475 1 1}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2850026546343788475 1 1}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2850026546343788475 1 1}]
------------------------------------------------------
client write log 854786644061675167 (index 2) to leader 0
flag 68689 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
[{854786644061675167 1 2}]
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 98597 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
[{854786644061675167 1 2}]
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
server 2 log:
[{<nil> 0 0} {2850026546343788475 1 1} {854786644061675167 1 2}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
server 1 log:
[{<nil> 0 0} {2850026546343788475 1 1} {854786644061675167 1 2}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=3
update matchIndex[2]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {2850026546343788475 1 1} {854786644061675167 1 2}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {2850026546343788475 1 1} {854786644061675167 1 2}]
------------------------------------------------------
flag 19274 term 1 leader 0 nextIndex[1]: 3  matchIndex[1]: 2
[]
term 1 leader 0 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 50503 term 1 leader 0 nextIndex[2]: 3  matchIndex[2]: 2
[]
term 1 leader 0 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:2 
server 2 log:
[{<nil> 0 0} {2850026546343788475 1 1} {854786644061675167 1 2}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=3
update matchIndex[2]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {2850026546343788475 1 1} {854786644061675167 1 2}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
server 1 log:
[{<nil> 0 0} {2850026546343788475 1 1} {854786644061675167 1 2}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {2850026546343788475 1 1} {854786644061675167 1 2}]
------------------------------------------------------
client write log 3750149303019967859 (index 3) to leader 0
flag 79901 term 1 leader 0 nextIndex[1]: 3  matchIndex[1]: 2
[{3750149303019967859 1 3}]
term 1 leader 0 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 78304 term 1 leader 0 nextIndex[2]: 3  matchIndex[2]: 2
[{3750149303019967859 1 3}]
term 1 leader 0 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:2 
server 2 log:
[{<nil> 0 0} {2850026546343788475 1 1} {854786644061675167 1 2} {3750149303019967859 1 3}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=4
update matchIndex[2]=3
update leader CommitIndex=3
leader log:
[{<nil> 0 0} {2850026546343788475 1 1} {854786644061675167 1 2} {3750149303019967859 1 3}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
server 1 log:
[{<nil> 0 0} {2850026546343788475 1 1} {854786644061675167 1 2} {3750149303019967859 1 3}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=4
update matchIndex[1]=3
update leader CommitIndex=3
leader log:
[{<nil> 0 0} {2850026546343788475 1 1} {854786644061675167 1 2} {3750149303019967859 1 3}]
------------------------------------------------------
flag 79076 term 1 leader 0 nextIndex[1]: 4  matchIndex[1]: 3
[]
term 1 leader 0 sendAppendEntries PrevLogIndex: 3  PrevLogTerm: 1 leaderCommit: 3 
------------------------------------------------------
flag 93726 term 1 leader 0 nextIndex[2]: 4  matchIndex[2]: 3
[]
term 1 leader 0 sendAppendEntries PrevLogIndex: 3  PrevLogTerm: 1 leaderCommit: 3 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:3 
server 2 log:
[{<nil> 0 0} {2850026546343788475 1 1} {854786644061675167 1 2} {3750149303019967859 1 3}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:3 
server 1 log:
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=4
[{<nil> 0 0} {2850026546343788475 1 1} {854786644061675167 1 2} {3750149303019967859 1 3}]
------------------------------------------------------
update matchIndex[2]=3
update leader CommitIndex=3
leader log:
[{<nil> 0 0} {2850026546343788475 1 1} {854786644061675167 1 2} {3750149303019967859 1 3}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=4
update matchIndex[1]=3
update leader CommitIndex=3
leader log:
[{<nil> 0 0} {2850026546343788475 1 1} {854786644061675167 1 2} {3750149303019967859 1 3}]
------------------------------------------------------
client write log 1152704716753785173 (index 4) to leader 0
flag 92036 term 1 leader 0 nextIndex[1]: 4  matchIndex[1]: 3
[{1152704716753785173 1 4}]
term 1 leader 0 sendAppendEntries PrevLogIndex: 3  PrevLogTerm: 1 leaderCommit: 3 
------------------------------------------------------
flag 59075 term 1 leader 0 nextIndex[2]: 4  matchIndex[2]: 3
[{1152704716753785173 1 4}]
term 1 leader 0 sendAppendEntries PrevLogIndex: 3  PrevLogTerm: 1 leaderCommit: 3 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:3 
server 2 log:
[{<nil> 0 0} {2850026546343788475 1 1} {854786644061675167 1 2} {3750149303019967859 1 3} {1152704716753785173 1 4}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:3 
server 1 log:
[{<nil> 0 0} {2850026546343788475 1 1} {854786644061675167 1 2} {3750149303019967859 1 3} {1152704716753785173 1 4}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=5
update matchIndex[2]=4
update leader CommitIndex=4
leader log:
[{<nil> 0 0} {2850026546343788475 1 1} {854786644061675167 1 2} {3750149303019967859 1 3} {1152704716753785173 1 4}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=5
update matchIndex[1]=4
update leader CommitIndex=4
leader log:
[{<nil> 0 0} {2850026546343788475 1 1} {854786644061675167 1 2} {3750149303019967859 1 3} {1152704716753785173 1 4}]
------------------------------------------------------
flag 47402 term 1 leader 0 nextIndex[1]: 5  matchIndex[1]: 4
[]
term 1 leader 0 sendAppendEntries PrevLogIndex: 4  PrevLogTerm: 1 leaderCommit: 4 
------------------------------------------------------
flag 47027 term 1 leader 0 nextIndex[2]: 5  matchIndex[2]: 4
[]
term 1 leader 0 sendAppendEntries PrevLogIndex: 4  PrevLogTerm: 1 leaderCommit: 4 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:4 
server 2 log:
[{<nil> 0 0} {2850026546343788475 1 1} {854786644061675167 1 2} {3750149303019967859 1 3} {1152704716753785173 1 4}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:4 
server 1 log:
[{<nil> 0 0} {2850026546343788475 1 1} {854786644061675167 1 2} {3750149303019967859 1 3} {1152704716753785173 1 4}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=5
update matchIndex[1]=4
update leader CommitIndex=4
leader log:
[{<nil> 0 0} {2850026546343788475 1 1} {854786644061675167 1 2} {3750149303019967859 1 3} {1152704716753785173 1 4}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=5
update matchIndex[2]=4
update leader CommitIndex=4
leader log:
[{<nil> 0 0} {2850026546343788475 1 1} {854786644061675167 1 2} {3750149303019967859 1 3} {1152704716753785173 1 4}]
------------------------------------------------------
client write log 6975796263465042303 (index 5) to leader 0
flag 9749 term 1 leader 0 nextIndex[1]: 5  matchIndex[1]: 4
[{6975796263465042303 1 5}]
term 1 leader 0 sendAppendEntries PrevLogIndex: 4  PrevLogTerm: 1 leaderCommit: 4 
------------------------------------------------------
flag 77462 term 1 leader 0 nextIndex[2]: 5  matchIndex[2]: 4
[{6975796263465042303 1 5}]
term 1 leader 0 sendAppendEntries PrevLogIndex: 4  PrevLogTerm: 1 leaderCommit: 4 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:4 
server 2 log:
[{<nil> 0 0} {2850026546343788475 1 1} {854786644061675167 1 2} {3750149303019967859 1 3} {1152704716753785173 1 4} {6975796263465042303 1 5}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:4 
server 1 log:
[{<nil> 0 0} {2850026546343788475 1 1} {854786644061675167 1 2} {3750149303019967859 1 3} {1152704716753785173 1 4} {6975796263465042303 1 5}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=6
update matchIndex[2]=5
update leader CommitIndex=5
leader log:
[{<nil> 0 0} {2850026546343788475 1 1} {854786644061675167 1 2} {3750149303019967859 1 3} {1152704716753785173 1 4} {6975796263465042303 1 5}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=6
update matchIndex[1]=5
update leader CommitIndex=5
leader log:
[{<nil> 0 0} {2850026546343788475 1 1} {854786644061675167 1 2} {3750149303019967859 1 3} {1152704716753785173 1 4} {6975796263465042303 1 5}]
------------------------------------------------------
flag 56314 term 1 leader 0 nextIndex[1]: 6  matchIndex[1]: 5
[]
term 1 leader 0 sendAppendEntries PrevLogIndex: 5  PrevLogTerm: 1 leaderCommit: 5 
------------------------------------------------------
flag 33424 term 1 leader 0 nextIndex[2]: 6  matchIndex[2]: 5
[]
term 1 leader 0 sendAppendEntries PrevLogIndex: 5  PrevLogTerm: 1 leaderCommit: 5 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:5 
server 2 log:
term 1 server 1 AppendEntries true commitIndex:5 
server 1 log:
[{<nil> 0 0} {2850026546343788475 1 1} {854786644061675167 1 2} {3750149303019967859 1 3} {1152704716753785173 1 4} {6975796263465042303 1 5}]
------------------------------------------------------
[{<nil> 0 0} {2850026546343788475 1 1} {854786644061675167 1 2} {3750149303019967859 1 3} {1152704716753785173 1 4} {6975796263465042303 1 5}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=6
update matchIndex[1]=5
update leader CommitIndex=5
leader log:
[{<nil> 0 0} {2850026546343788475 1 1} {854786644061675167 1 2} {3750149303019967859 1 3} {1152704716753785173 1 4} {6975796263465042303 1 5}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=6
update matchIndex[2]=5
update leader CommitIndex=5
leader log:
[{<nil> 0 0} {2850026546343788475 1 1} {854786644061675167 1 2} {3750149303019967859 1 3} {1152704716753785173 1 4} {6975796263465042303 1 5}]
------------------------------------------------------
client write log 2750440105762899905 (index 6) to leader 0
flag 46409 term 1 leader 0 nextIndex[1]: 6  matchIndex[1]: 5
[{2750440105762899905 1 6}]
term 1 leader 0 sendAppendEntries PrevLogIndex: 5  PrevLogTerm: 1 leaderCommit: 5 
------------------------------------------------------
flag 80840 term 1 leader 0 nextIndex[2]: 6  matchIndex[2]: 5
[{2750440105762899905 1 6}]
term 1 leader 0 sendAppendEntries PrevLogIndex: 5  PrevLogTerm: 1 leaderCommit: 5 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:5 
server 2 log:
term 1 server 1 AppendEntries true commitIndex:5 
server 1 log:
[{<nil> 0 0} {2850026546343788475 1 1} {854786644061675167 1 2} {3750149303019967859 1 3} {1152704716753785173 1 4} {6975796263465042303 1 5} {2750440105762899905 1 6}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=7
update matchIndex[1]=6
update leader CommitIndex=6
leader log:
[{<nil> 0 0} {2850026546343788475 1 1} {854786644061675167 1 2} {3750149303019967859 1 3} {1152704716753785173 1 4} {6975796263465042303 1 5} {2750440105762899905 1 6}]
------------------------------------------------------
[{<nil> 0 0} {2850026546343788475 1 1} {854786644061675167 1 2} {3750149303019967859 1 3} {1152704716753785173 1 4} {6975796263465042303 1 5} {2750440105762899905 1 6}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=7
update matchIndex[2]=6
update leader CommitIndex=6
leader log:
[{<nil> 0 0} {2850026546343788475 1 1} {854786644061675167 1 2} {3750149303019967859 1 3} {1152704716753785173 1 4} {6975796263465042303 1 5} {2750440105762899905 1 6}]
------------------------------------------------------
flag 54138 term 1 leader 0 nextIndex[1]: 7  matchIndex[1]: 6
[]
term 1 leader 0 sendAppendEntries PrevLogIndex: 6  PrevLogTerm: 1 leaderCommit: 6 
------------------------------------------------------
flag 46696 term 1 leader 0 nextIndex[2]: 7  matchIndex[2]: 6
[]
term 1 leader 0 sendAppendEntries PrevLogIndex: 6  PrevLogTerm: 1 leaderCommit: 6 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:6 
server 2 log:
[{<nil> 0 0} {2850026546343788475 1 1} {854786644061675167 1 2} {3750149303019967859 1 3} {1152704716753785173 1 4} {6975796263465042303 1 5} {2750440105762899905 1 6}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:6 
server 1 log:
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=7
update matchIndex[2]=6
update leader CommitIndex=6
leader log:
[{<nil> 0 0} {2850026546343788475 1 1} {854786644061675167 1 2} {3750149303019967859 1 3} {1152704716753785173 1 4} {6975796263465042303 1 5} {2750440105762899905 1 6}]
------------------------------------------------------
[{<nil> 0 0} {2850026546343788475 1 1} {854786644061675167 1 2} {3750149303019967859 1 3} {1152704716753785173 1 4} {6975796263465042303 1 5} {2750440105762899905 1 6}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=7
update matchIndex[1]=6
update leader CommitIndex=6
leader log:
[{<nil> 0 0} {2850026546343788475 1 1} {854786644061675167 1 2} {3750149303019967859 1 3} {1152704716753785173 1 4} {6975796263465042303 1 5} {2750440105762899905 1 6}]
------------------------------------------------------
client write log 3107102258450301054 (index 7) to leader 0
flag 77745 term 1 leader 0 nextIndex[1]: 7  matchIndex[1]: 6
[{3107102258450301054 1 7}]
term 1 leader 0 sendAppendEntries PrevLogIndex: 6  PrevLogTerm: 1 leaderCommit: 6 
------------------------------------------------------
flag 43661 term 1 leader 0 nextIndex[2]: 7  matchIndex[2]: 6
[{3107102258450301054 1 7}]
term 1 leader 0 sendAppendEntries PrevLogIndex: 6  PrevLogTerm: 1 leaderCommit: 6 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:6 
server 2 log:
[{<nil> 0 0} {2850026546343788475 1 1} {854786644061675167 1 2} {3750149303019967859 1 3} {1152704716753785173 1 4} {6975796263465042303 1 5} {2750440105762899905 1 6} {3107102258450301054 1 7}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=8
update matchIndex[2]=7
update leader CommitIndex=7
leader log:
[{<nil> 0 0} {2850026546343788475 1 1} {854786644061675167 1 2} {3750149303019967859 1 3} {1152704716753785173 1 4} {6975796263465042303 1 5} {2750440105762899905 1 6} {3107102258450301054 1 7}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:6 
server 1 log:
[{<nil> 0 0} {2850026546343788475 1 1} {854786644061675167 1 2} {3750149303019967859 1 3} {1152704716753785173 1 4} {6975796263465042303 1 5} {2750440105762899905 1 6} {3107102258450301054 1 7}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=8
update matchIndex[1]=7
update leader CommitIndex=7
leader log:
[{<nil> 0 0} {2850026546343788475 1 1} {854786644061675167 1 2} {3750149303019967859 1 3} {1152704716753785173 1 4} {6975796263465042303 1 5} {2750440105762899905 1 6} {3107102258450301054 1 7}]
------------------------------------------------------
flag 82859 term 1 leader 0 nextIndex[1]: 8  matchIndex[1]: 7
[]
term 1 leader 0 sendAppendEntries PrevLogIndex: 7  PrevLogTerm: 1 leaderCommit: 7 
------------------------------------------------------
flag 82618 term 1 leader 0 nextIndex[2]: 8  matchIndex[2]: 7
[]
term 1 leader 0 sendAppendEntries PrevLogIndex: 7  PrevLogTerm: 1 leaderCommit: 7 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:7 
server 2 log:
[{<nil> 0 0} {2850026546343788475 1 1} {854786644061675167 1 2} {3750149303019967859 1 3} {1152704716753785173 1 4} {6975796263465042303 1 5} {2750440105762899905 1 6} {3107102258450301054 1 7}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:7 
server 1 log:
[{<nil> 0 0} {2850026546343788475 1 1} {854786644061675167 1 2} {3750149303019967859 1 3} {1152704716753785173 1 4} {6975796263465042303 1 5} {2750440105762899905 1 6} {3107102258450301054 1 7}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=8
update matchIndex[2]=7
update leader CommitIndex=7
leader log:
[{<nil> 0 0} {2850026546343788475 1 1} {854786644061675167 1 2} {3750149303019967859 1 3} {1152704716753785173 1 4} {6975796263465042303 1 5} {2750440105762899905 1 6} {3107102258450301054 1 7}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=8
update matchIndex[1]=7
update leader CommitIndex=7
leader log:
[{<nil> 0 0} {2850026546343788475 1 1} {854786644061675167 1 2} {3750149303019967859 1 3} {1152704716753785173 1 4} {6975796263465042303 1 5} {2750440105762899905 1 6} {3107102258450301054 1 7}]
------------------------------------------------------
client write log 8633844530079621384 (index 8) to leader 0
flag 55531 term 1 leader 0 nextIndex[1]: 8  matchIndex[1]: 7
[{8633844530079621384 1 8}]
term 1 leader 0 sendAppendEntries PrevLogIndex: 7  PrevLogTerm: 1 leaderCommit: 7 
------------------------------------------------------
flag 5825 term 1 leader 0 nextIndex[2]: 8  matchIndex[2]: 7
[{8633844530079621384 1 8}]
term 1 leader 0 sendAppendEntries PrevLogIndex: 7  PrevLogTerm: 1 leaderCommit: 7 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:7 
server 2 log:
[{<nil> 0 0} {2850026546343788475 1 1} {854786644061675167 1 2} {3750149303019967859 1 3} {1152704716753785173 1 4} {6975796263465042303 1 5} {2750440105762899905 1 6} {3107102258450301054 1 7} {8633844530079621384 1 8}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=9
update matchIndex[2]=8
update leader CommitIndex=8
leader log:
term 1 server 1 AppendEntries true commitIndex:7 
server 1 log:
[{<nil> 0 0} {2850026546343788475 1 1} {854786644061675167 1 2} {3750149303019967859 1 3} {1152704716753785173 1 4} {6975796263465042303 1 5} {2750440105762899905 1 6} {3107102258450301054 1 7} {8633844530079621384 1 8}]
------------------------------------------------------
[{<nil> 0 0} {2850026546343788475 1 1} {854786644061675167 1 2} {3750149303019967859 1 3} {1152704716753785173 1 4} {6975796263465042303 1 5} {2750440105762899905 1 6} {3107102258450301054 1 7} {8633844530079621384 1 8}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=9
update matchIndex[1]=8
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {2850026546343788475 1 1} {854786644061675167 1 2} {3750149303019967859 1 3} {1152704716753785173 1 4} {6975796263465042303 1 5} {2750440105762899905 1 6} {3107102258450301054 1 7} {8633844530079621384 1 8}]
------------------------------------------------------
flag 12735 term 1 leader 0 nextIndex[1]: 9  matchIndex[1]: 8
[]
term 1 leader 0 sendAppendEntries PrevLogIndex: 8  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 86982 term 1 leader 0 nextIndex[2]: 9  matchIndex[2]: 8
[]
term 1 leader 0 sendAppendEntries PrevLogIndex: 8  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:8 
server 2 log:
[{<nil> 0 0} {2850026546343788475 1 1} {854786644061675167 1 2} {3750149303019967859 1 3} {1152704716753785173 1 4} {6975796263465042303 1 5} {2750440105762899905 1 6} {3107102258450301054 1 7} {8633844530079621384 1 8}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=9
update matchIndex[2]=8
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {2850026546343788475 1 1} {854786644061675167 1 2} {3750149303019967859 1 3} {1152704716753785173 1 4} {6975796263465042303 1 5} {2750440105762899905 1 6} {3107102258450301054 1 7} {8633844530079621384 1 8}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:8 
server 1 log:
[{<nil> 0 0} {2850026546343788475 1 1} {854786644061675167 1 2} {3750149303019967859 1 3} {1152704716753785173 1 4} {6975796263465042303 1 5} {2750440105762899905 1 6} {3107102258450301054 1 7} {8633844530079621384 1 8}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=9
update matchIndex[1]=8
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {2850026546343788475 1 1} {854786644061675167 1 2} {3750149303019967859 1 3} {1152704716753785173 1 4} {6975796263465042303 1 5} {2750440105762899905 1 6} {3107102258450301054 1 7} {8633844530079621384 1 8}]
------------------------------------------------------
client write log 7058410416804017345 (index 9) to leader 0
flag 99256 term 1 leader 0 nextIndex[1]: 9  matchIndex[1]: 8
[{7058410416804017345 1 9}]
term 1 leader 0 sendAppendEntries PrevLogIndex: 8  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 43815 term 1 leader 0 nextIndex[2]: 9  matchIndex[2]: 8
[{7058410416804017345 1 9}]
term 1 leader 0 sendAppendEntries PrevLogIndex: 8  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:8 
server 2 log:
[{<nil> 0 0} {2850026546343788475 1 1} {854786644061675167 1 2} {3750149303019967859 1 3} {1152704716753785173 1 4} {6975796263465042303 1 5} {2750440105762899905 1 6} {3107102258450301054 1 7} {8633844530079621384 1 8} {7058410416804017345 1 9}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:8 
server 1 log:
[{<nil> 0 0} {2850026546343788475 1 1} {854786644061675167 1 2} {3750149303019967859 1 3} {1152704716753785173 1 4} {6975796263465042303 1 5} {2750440105762899905 1 6} {3107102258450301054 1 7} {8633844530079621384 1 8} {7058410416804017345 1 9}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=9
leader log:
[{<nil> 0 0} {2850026546343788475 1 1} {854786644061675167 1 2} {3750149303019967859 1 3} {1152704716753785173 1 4} {6975796263465042303 1 5} {2750440105762899905 1 6} {3107102258450301054 1 7} {8633844530079621384 1 8} {7058410416804017345 1 9}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=9
leader log:
[{<nil> 0 0} {2850026546343788475 1 1} {854786644061675167 1 2} {3750149303019967859 1 3} {1152704716753785173 1 4} {6975796263465042303 1 5} {2750440105762899905 1 6} {3107102258450301054 1 7} {8633844530079621384 1 8} {7058410416804017345 1 9}]
------------------------------------------------------
term 1 Server0 start snapshot! index=9
term 1 server0 snapshot success
lastIncludedIndex=9 lastApplied=9 lastIndex=9
-------------------------------------------------------------
flag 99504 term 1 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
[]
term 1 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 90753 term 1 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
[]
term 1 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:9 
server 2 log:
[{<nil> 0 0} {2850026546343788475 1 1} {854786644061675167 1 2} {3750149303019967859 1 3} {1152704716753785173 1 4} {6975796263465042303 1 5} {2750440105762899905 1 6} {3107102258450301054 1 7} {8633844530079621384 1 8} {7058410416804017345 1 9}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=9
leader log:
[{snapshot 1 9}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:9 
server 1 log:
[{<nil> 0 0} {2850026546343788475 1 1} {854786644061675167 1 2} {3750149303019967859 1 3} {1152704716753785173 1 4} {6975796263465042303 1 5} {2750440105762899905 1 6} {3107102258450301054 1 7} {8633844530079621384 1 8} {7058410416804017345 1 9}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=9
leader log:
[{snapshot 1 9}]
------------------------------------------------------
term 1 Server1 start snapshot! index=9
term 1 server1 snapshot success
lastIncludedIndex=9 lastApplied=9 lastIndex=9
-------------------------------------------------------------
term 1 Server2 start snapshot! index=9
term 1 server2 snapshot success
lastIncludedIndex=9 lastApplied=9 lastIndex=9
-------------------------------------------------------------
client write log 7407679100716739429 (index 10) to leader 0
flag 95672 term 1 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
[{7407679100716739429 1 10}]
term 1 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 17457 term 1 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
[{7407679100716739429 1 10}]
term 1 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:9 
server 2 log:
[{snapshot 1 9} {7407679100716739429 1 10}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:9 
server 1 log:
[{snapshot 1 9} {7407679100716739429 1 10}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {7407679100716739429 1 10}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {7407679100716739429 1 10}]
------------------------------------------------------
flag 66957 term 1 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
[]
term 1 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 33834 term 1 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
[]
term 1 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:10 
server 2 log:
term 1 server 1 AppendEntries true commitIndex:10 
server 1 log:
[{snapshot 1 9} {7407679100716739429 1 10}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {7407679100716739429 1 10}]
------------------------------------------------------
[{snapshot 1 9} {7407679100716739429 1 10}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {7407679100716739429 1 10}]
------------------------------------------------------
!!!!!! server 0 crash
!!!!!! server 1 crash
!!!!!! server 2 crash
获取persist信息成功 server 0 currentTerm 1 voteFor 0 logs [{snapshot 1 9} {7407679100716739429 1 10}]
!!!!!! server 0 crash
获取persist信息成功 server 1 currentTerm 1 voteFor 0 logs [{snapshot 1 9} {7407679100716739429 1 10}]
!!!!!! server 1 crash
获取persist信息成功 server 2 currentTerm 1 voteFor 0 logs [{snapshot 1 9} {7407679100716739429 1 10}]
!!!!!! server 2 crash
flag 51319 term 1 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
[]
term 1 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 45573 term 1 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
[]
term 1 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 2 server 2 vote for server 1
term 2 server 0 vote for server 1
term 2 server 1 get vote from server 2
term 2 server 1 become leader
------------------------------------------------------
term 2 server 1 get outdate rpc reply from server 0
flag 98383 term 2 leader 1 nextIndex[0]: 11  matchIndex[0]: 0
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 99417 term 2 leader 1 nextIndex[2]: 11  matchIndex[2]: 0
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:9 
server 2 log:
[{snapshot 1 9} {7407679100716739429 1 10}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7407679100716739429 1 10}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:9 
server 0 log:
[{snapshot 1 9} {7407679100716739429 1 10}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7407679100716739429 1 10}]
------------------------------------------------------
client write log 7899348924955375458 (index 11) to leader 1
flag 82673 term 2 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
[{7899348924955375458 2 11}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 10726 term 2 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
[{7899348924955375458 2 11}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:9 
server 2 log:
[{snapshot 1 9} {7407679100716739429 1 10} {7899348924955375458 2 11}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:9 
server 0 log:
[{snapshot 1 9} {7407679100716739429 1 10} {7899348924955375458 2 11}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7407679100716739429 1 10} {7899348924955375458 2 11}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7407679100716739429 1 10} {7899348924955375458 2 11}]
------------------------------------------------------
flag 84575 term 2 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 2 leaderCommit: 11 
------------------------------------------------------
flag 83792 term 2 leader 1 nextIndex[2]: 12  matchIndex[2]: 11
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 2 leaderCommit: 11 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:11 
server 2 log:
[{snapshot 1 9} {7407679100716739429 1 10} {7899348924955375458 2 11}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:11 
server 0 log:
[{snapshot 1 9} {7407679100716739429 1 10} {7899348924955375458 2 11}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7407679100716739429 1 10} {7899348924955375458 2 11}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7407679100716739429 1 10} {7899348924955375458 2 11}]
------------------------------------------------------
client write log 1226879008581259774 (index 12) to leader 1
flag 99259 term 2 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
[{1226879008581259774 2 12}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 2 leaderCommit: 11 
------------------------------------------------------
flag 20407 term 2 leader 1 nextIndex[2]: 12  matchIndex[2]: 11
[{1226879008581259774 2 12}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 2 leaderCommit: 11 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:11 
server 2 log:
[{snapshot 1 9} {7407679100716739429 1 10} {7899348924955375458 2 11} {1226879008581259774 2 12}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {7407679100716739429 1 10} {7899348924955375458 2 11} {1226879008581259774 2 12}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:11 
server 0 log:
[{snapshot 1 9} {7407679100716739429 1 10} {7899348924955375458 2 11} {1226879008581259774 2 12}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {7407679100716739429 1 10} {7899348924955375458 2 11} {1226879008581259774 2 12}]
------------------------------------------------------
flag 9329 term 2 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 2 leaderCommit: 12 
------------------------------------------------------
flag 47790 term 2 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 2 leaderCommit: 12 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:12 
server 2 log:
[{snapshot 1 9} {7407679100716739429 1 10} {7899348924955375458 2 11} {1226879008581259774 2 12}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:12 
server 0 log:
[{snapshot 1 9} {7407679100716739429 1 10} {7899348924955375458 2 11} {1226879008581259774 2 12}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {7407679100716739429 1 10} {7899348924955375458 2 11} {1226879008581259774 2 12}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {7407679100716739429 1 10} {7899348924955375458 2 11} {1226879008581259774 2 12}]
------------------------------------------------------
client write log 6569027891564762918 (index 13) to leader 1
flag 64726 term 2 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
[{6569027891564762918 2 13}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 2 leaderCommit: 12 
------------------------------------------------------
flag 29853 term 2 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
[{6569027891564762918 2 13}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 2 leaderCommit: 12 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:12 
server 2 log:
[{snapshot 1 9} {7407679100716739429 1 10} {7899348924955375458 2 11} {1226879008581259774 2 12} {6569027891564762918 2 13}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:12 
server 0 log:
[{snapshot 1 9} {7407679100716739429 1 10} {7899348924955375458 2 11} {1226879008581259774 2 12} {6569027891564762918 2 13}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {7407679100716739429 1 10} {7899348924955375458 2 11} {1226879008581259774 2 12} {6569027891564762918 2 13}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {7407679100716739429 1 10} {7899348924955375458 2 11} {1226879008581259774 2 12} {6569027891564762918 2 13}]
------------------------------------------------------
flag 40199 term 2 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 2 leaderCommit: 13 
------------------------------------------------------
flag 28659 term 2 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 2 leaderCommit: 13 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:13 
server 2 log:
[{snapshot 1 9} {7407679100716739429 1 10} {7899348924955375458 2 11} {1226879008581259774 2 12} {6569027891564762918 2 13}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:13 
server 0 log:
[{snapshot 1 9} {7407679100716739429 1 10} {7899348924955375458 2 11} {1226879008581259774 2 12} {6569027891564762918 2 13}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {7407679100716739429 1 10} {7899348924955375458 2 11} {1226879008581259774 2 12} {6569027891564762918 2 13}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {7407679100716739429 1 10} {7899348924955375458 2 11} {1226879008581259774 2 12} {6569027891564762918 2 13}]
------------------------------------------------------
client write log 2715167939011111558 (index 14) to leader 1
flag 65442 term 2 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
[{2715167939011111558 2 14}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 2 leaderCommit: 13 
------------------------------------------------------
flag 36388 term 2 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
[{2715167939011111558 2 14}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 2 leaderCommit: 13 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:13 
server 2 log:
[{snapshot 1 9} {7407679100716739429 1 10} {7899348924955375458 2 11} {1226879008581259774 2 12} {6569027891564762918 2 13} {2715167939011111558 2 14}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {7407679100716739429 1 10} {7899348924955375458 2 11} {1226879008581259774 2 12} {6569027891564762918 2 13} {2715167939011111558 2 14}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:13 
server 0 log:
[{snapshot 1 9} {7407679100716739429 1 10} {7899348924955375458 2 11} {1226879008581259774 2 12} {6569027891564762918 2 13} {2715167939011111558 2 14}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {7407679100716739429 1 10} {7899348924955375458 2 11} {1226879008581259774 2 12} {6569027891564762918 2 13} {2715167939011111558 2 14}]
------------------------------------------------------
flag 86579 term 2 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 2 leaderCommit: 14 
------------------------------------------------------
flag 42826 term 2 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 2 leaderCommit: 14 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:14 
server 2 log:
[{snapshot 1 9} {7407679100716739429 1 10} {7899348924955375458 2 11} {1226879008581259774 2 12} {6569027891564762918 2 13} {2715167939011111558 2 14}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:14 
server 0 log:
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {7407679100716739429 1 10} {7899348924955375458 2 11} {1226879008581259774 2 12} {6569027891564762918 2 13} {2715167939011111558 2 14}]
------------------------------------------------------
[{snapshot 1 9} {7407679100716739429 1 10} {7899348924955375458 2 11} {1226879008581259774 2 12} {6569027891564762918 2 13} {2715167939011111558 2 14}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {7407679100716739429 1 10} {7899348924955375458 2 11} {1226879008581259774 2 12} {6569027891564762918 2 13} {2715167939011111558 2 14}]
------------------------------------------------------
client write log 249387550965855516 (index 15) to leader 1
flag 33781 term 2 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
[{249387550965855516 2 15}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 2 leaderCommit: 14 
------------------------------------------------------
flag 90327 term 2 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
[{249387550965855516 2 15}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 2 leaderCommit: 14 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:14 
server 2 log:
[{snapshot 1 9} {7407679100716739429 1 10} {7899348924955375458 2 11} {1226879008581259774 2 12} {6569027891564762918 2 13} {2715167939011111558 2 14} {249387550965855516 2 15}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:14 
server 0 log:
[{snapshot 1 9} {7407679100716739429 1 10} {7899348924955375458 2 11} {1226879008581259774 2 12} {6569027891564762918 2 13} {2715167939011111558 2 14} {249387550965855516 2 15}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {7407679100716739429 1 10} {7899348924955375458 2 11} {1226879008581259774 2 12} {6569027891564762918 2 13} {2715167939011111558 2 14} {249387550965855516 2 15}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {7407679100716739429 1 10} {7899348924955375458 2 11} {1226879008581259774 2 12} {6569027891564762918 2 13} {2715167939011111558 2 14} {249387550965855516 2 15}]
------------------------------------------------------
flag 39511 term 2 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 2 leaderCommit: 15 
------------------------------------------------------
flag 59974 term 2 leader 1 nextIndex[2]: 16  matchIndex[2]: 15
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 2 leaderCommit: 15 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:15 
server 2 log:
[{snapshot 1 9} {7407679100716739429 1 10} {7899348924955375458 2 11} {1226879008581259774 2 12} {6569027891564762918 2 13} {2715167939011111558 2 14} {249387550965855516 2 15}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:15 
server 0 log:
[{snapshot 1 9} {7407679100716739429 1 10} {7899348924955375458 2 11} {1226879008581259774 2 12} {6569027891564762918 2 13} {2715167939011111558 2 14} {249387550965855516 2 15}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {7407679100716739429 1 10} {7899348924955375458 2 11} {1226879008581259774 2 12} {6569027891564762918 2 13} {2715167939011111558 2 14} {249387550965855516 2 15}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {7407679100716739429 1 10} {7899348924955375458 2 11} {1226879008581259774 2 12} {6569027891564762918 2 13} {2715167939011111558 2 14} {249387550965855516 2 15}]
------------------------------------------------------
client write log 7792586710417885863 (index 16) to leader 1
flag 53060 term 2 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
[{7792586710417885863 2 16}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 2 leaderCommit: 15 
------------------------------------------------------
flag 44136 term 2 leader 1 nextIndex[2]: 16  matchIndex[2]: 15
[{7792586710417885863 2 16}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 2 leaderCommit: 15 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:15 
server 2 log:
[{snapshot 1 9} {7407679100716739429 1 10} {7899348924955375458 2 11} {1226879008581259774 2 12} {6569027891564762918 2 13} {2715167939011111558 2 14} {249387550965855516 2 15} {7792586710417885863 2 16}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:15 
server 0 log:
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {7407679100716739429 1 10} {7899348924955375458 2 11} {1226879008581259774 2 12} {6569027891564762918 2 13} {2715167939011111558 2 14} {249387550965855516 2 15} {7792586710417885863 2 16}]
------------------------------------------------------
[{snapshot 1 9} {7407679100716739429 1 10} {7899348924955375458 2 11} {1226879008581259774 2 12} {6569027891564762918 2 13} {2715167939011111558 2 14} {249387550965855516 2 15} {7792586710417885863 2 16}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {7407679100716739429 1 10} {7899348924955375458 2 11} {1226879008581259774 2 12} {6569027891564762918 2 13} {2715167939011111558 2 14} {249387550965855516 2 15} {7792586710417885863 2 16}]
------------------------------------------------------
flag 35315 term 2 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 2 leaderCommit: 16 
------------------------------------------------------
flag 17909 term 2 leader 1 nextIndex[2]: 17  matchIndex[2]: 16
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 2 leaderCommit: 16 
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:16 
server 0 log:
[{snapshot 1 9} {7407679100716739429 1 10} {7899348924955375458 2 11} {1226879008581259774 2 12} {6569027891564762918 2 13} {2715167939011111558 2 14} {249387550965855516 2 15} {7792586710417885863 2 16}]
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:16 
server 2 log:
[{snapshot 1 9} {7407679100716739429 1 10} {7899348924955375458 2 11} {1226879008581259774 2 12} {6569027891564762918 2 13} {2715167939011111558 2 14} {249387550965855516 2 15} {7792586710417885863 2 16}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {7407679100716739429 1 10} {7899348924955375458 2 11} {1226879008581259774 2 12} {6569027891564762918 2 13} {2715167939011111558 2 14} {249387550965855516 2 15} {7792586710417885863 2 16}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {7407679100716739429 1 10} {7899348924955375458 2 11} {1226879008581259774 2 12} {6569027891564762918 2 13} {2715167939011111558 2 14} {249387550965855516 2 15} {7792586710417885863 2 16}]
------------------------------------------------------
client write log 7088432184315252760 (index 17) to leader 1
flag 67544 term 2 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
[{7088432184315252760 2 17}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 2 leaderCommit: 16 
------------------------------------------------------
flag 32836 term 2 leader 1 nextIndex[2]: 17  matchIndex[2]: 16
[{7088432184315252760 2 17}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 2 leaderCommit: 16 
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:16 
server 0 log:
[{snapshot 1 9} {7407679100716739429 1 10} {7899348924955375458 2 11} {1226879008581259774 2 12} {6569027891564762918 2 13} {2715167939011111558 2 14} {249387550965855516 2 15} {7792586710417885863 2 16} {7088432184315252760 2 17}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {7407679100716739429 1 10} {7899348924955375458 2 11} {1226879008581259774 2 12} {6569027891564762918 2 13} {2715167939011111558 2 14} {249387550965855516 2 15} {7792586710417885863 2 16} {7088432184315252760 2 17}]
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:16 
server 2 log:
[{snapshot 1 9} {7407679100716739429 1 10} {7899348924955375458 2 11} {1226879008581259774 2 12} {6569027891564762918 2 13} {2715167939011111558 2 14} {249387550965855516 2 15} {7792586710417885863 2 16} {7088432184315252760 2 17}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {7407679100716739429 1 10} {7899348924955375458 2 11} {1226879008581259774 2 12} {6569027891564762918 2 13} {2715167939011111558 2 14} {249387550965855516 2 15} {7792586710417885863 2 16} {7088432184315252760 2 17}]
------------------------------------------------------
flag 24949 term 2 leader 1 nextIndex[0]: 18  matchIndex[0]: 17
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 2 leaderCommit: 17 
------------------------------------------------------
flag 86857 term 2 leader 1 nextIndex[2]: 18  matchIndex[2]: 17
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 2 leaderCommit: 17 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:17 
server 2 log:
[{snapshot 1 9} {7407679100716739429 1 10} {7899348924955375458 2 11} {1226879008581259774 2 12} {6569027891564762918 2 13} {2715167939011111558 2 14} {249387550965855516 2 15} {7792586710417885863 2 16} {7088432184315252760 2 17}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=17
leader log:
term 2 server 0 AppendEntries true commitIndex:17 
server 0 log:
[{snapshot 1 9} {7407679100716739429 1 10} {7899348924955375458 2 11} {1226879008581259774 2 12} {6569027891564762918 2 13} {2715167939011111558 2 14} {249387550965855516 2 15} {7792586710417885863 2 16} {7088432184315252760 2 17}]
------------------------------------------------------
[{snapshot 1 9} {7407679100716739429 1 10} {7899348924955375458 2 11} {1226879008581259774 2 12} {6569027891564762918 2 13} {2715167939011111558 2 14} {249387550965855516 2 15} {7792586710417885863 2 16} {7088432184315252760 2 17}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {7407679100716739429 1 10} {7899348924955375458 2 11} {1226879008581259774 2 12} {6569027891564762918 2 13} {2715167939011111558 2 14} {249387550965855516 2 15} {7792586710417885863 2 16} {7088432184315252760 2 17}]
------------------------------------------------------
client write log 7093974517971085206 (index 18) to leader 1
flag 9478 term 2 leader 1 nextIndex[0]: 18  matchIndex[0]: 17
[{7093974517971085206 2 18}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 2 leaderCommit: 17 
------------------------------------------------------
flag 97374 term 2 leader 1 nextIndex[2]: 18  matchIndex[2]: 17
[{7093974517971085206 2 18}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 2 leaderCommit: 17 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:17 
server 2 log:
[{snapshot 1 9} {7407679100716739429 1 10} {7899348924955375458 2 11} {1226879008581259774 2 12} {6569027891564762918 2 13} {2715167939011111558 2 14} {249387550965855516 2 15} {7792586710417885863 2 16} {7088432184315252760 2 17} {7093974517971085206 2 18}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {7407679100716739429 1 10} {7899348924955375458 2 11} {1226879008581259774 2 12} {6569027891564762918 2 13} {2715167939011111558 2 14} {249387550965855516 2 15} {7792586710417885863 2 16} {7088432184315252760 2 17} {7093974517971085206 2 18}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:17 
server 0 log:
[{snapshot 1 9} {7407679100716739429 1 10} {7899348924955375458 2 11} {1226879008581259774 2 12} {6569027891564762918 2 13} {2715167939011111558 2 14} {249387550965855516 2 15} {7792586710417885863 2 16} {7088432184315252760 2 17} {7093974517971085206 2 18}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {7407679100716739429 1 10} {7899348924955375458 2 11} {1226879008581259774 2 12} {6569027891564762918 2 13} {2715167939011111558 2 14} {249387550965855516 2 15} {7792586710417885863 2 16} {7088432184315252760 2 17} {7093974517971085206 2 18}]
------------------------------------------------------
flag 97944 term 2 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 2 leaderCommit: 18 
------------------------------------------------------
flag 4294 term 2 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 2 leaderCommit: 18 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:18 
server 2 log:
[{snapshot 1 9} {7407679100716739429 1 10} {7899348924955375458 2 11} {1226879008581259774 2 12} {6569027891564762918 2 13} {2715167939011111558 2 14} {249387550965855516 2 15} {7792586710417885863 2 16} {7088432184315252760 2 17} {7093974517971085206 2 18}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=19
update matchIndex[2]=18
term 2 server 0 AppendEntries true commitIndex:18 
server 0 log:
[{snapshot 1 9} {7407679100716739429 1 10} {7899348924955375458 2 11} {1226879008581259774 2 12} {6569027891564762918 2 13} {2715167939011111558 2 14} {249387550965855516 2 15} {7792586710417885863 2 16} {7088432184315252760 2 17} {7093974517971085206 2 18}]
------------------------------------------------------
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {7407679100716739429 1 10} {7899348924955375458 2 11} {1226879008581259774 2 12} {6569027891564762918 2 13} {2715167939011111558 2 14} {249387550965855516 2 15} {7792586710417885863 2 16} {7088432184315252760 2 17} {7093974517971085206 2 18}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {7407679100716739429 1 10} {7899348924955375458 2 11} {1226879008581259774 2 12} {6569027891564762918 2 13} {2715167939011111558 2 14} {249387550965855516 2 15} {7792586710417885863 2 16} {7088432184315252760 2 17} {7093974517971085206 2 18}]
------------------------------------------------------
client write log 5966582376925454601 (index 19) to leader 1
flag 75145 term 2 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
[{5966582376925454601 2 19}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 2 leaderCommit: 18 
------------------------------------------------------
flag 66748 term 2 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
[{5966582376925454601 2 19}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 2 leaderCommit: 18 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:18 
server 2 log:
[{snapshot 1 9} {7407679100716739429 1 10} {7899348924955375458 2 11} {1226879008581259774 2 12} {6569027891564762918 2 13} {2715167939011111558 2 14} {249387550965855516 2 15} {7792586710417885863 2 16} {7088432184315252760 2 17} {7093974517971085206 2 18} {5966582376925454601 2 19}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:18 
server 0 log:
[{snapshot 1 9} {7407679100716739429 1 10} {7899348924955375458 2 11} {1226879008581259774 2 12} {6569027891564762918 2 13} {2715167939011111558 2 14} {249387550965855516 2 15} {7792586710417885863 2 16} {7088432184315252760 2 17} {7093974517971085206 2 18} {5966582376925454601 2 19}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=20
update matchIndex[2]=19
update leader CommitIndex=19
leader log:
[{snapshot 1 9} {7407679100716739429 1 10} {7899348924955375458 2 11} {1226879008581259774 2 12} {6569027891564762918 2 13} {2715167939011111558 2 14} {249387550965855516 2 15} {7792586710417885863 2 16} {7088432184315252760 2 17} {7093974517971085206 2 18} {5966582376925454601 2 19}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 1 9} {7407679100716739429 1 10} {7899348924955375458 2 11} {1226879008581259774 2 12} {6569027891564762918 2 13} {2715167939011111558 2 14} {249387550965855516 2 15} {7792586710417885863 2 16} {7088432184315252760 2 17} {7093974517971085206 2 18} {5966582376925454601 2 19}]
------------------------------------------------------
term 2 Server1 start snapshot! index=19
term 2 server1 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
flag 34392 term 2 leader 1 nextIndex[0]: 20  matchIndex[0]: 19
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 2 leaderCommit: 19 
------------------------------------------------------
flag 58109 term 2 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 2 leaderCommit: 19 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:19 
server 2 log:
[{snapshot 1 9} {7407679100716739429 1 10} {7899348924955375458 2 11} {1226879008581259774 2 12} {6569027891564762918 2 13} {2715167939011111558 2 14} {249387550965855516 2 15} {7792586710417885863 2 16} {7088432184315252760 2 17} {7093974517971085206 2 18} {5966582376925454601 2 19}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=20
update matchIndex[2]=19
update leader CommitIndex=19
leader log:
[{snapshot 2 19}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:19 
server 0 log:
[{snapshot 1 9} {7407679100716739429 1 10} {7899348924955375458 2 11} {1226879008581259774 2 12} {6569027891564762918 2 13} {2715167939011111558 2 14} {249387550965855516 2 15} {7792586710417885863 2 16} {7088432184315252760 2 17} {7093974517971085206 2 18} {5966582376925454601 2 19}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 2 19}]
------------------------------------------------------
term 2 Server0 start snapshot! index=19
term 2 Server2 start snapshot! index=19
term 2 server0 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
term 2 server2 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
client write log 8568745472536027182 (index 20) to leader 1
flag 76417 term 2 leader 1 nextIndex[0]: 20  matchIndex[0]: 19
[{8568745472536027182 2 20}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 2 leaderCommit: 19 
------------------------------------------------------
flag 62090 term 2 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
[{8568745472536027182 2 20}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 2 leaderCommit: 19 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:19 
server 2 log:
[{snapshot 2 19} {8568745472536027182 2 20}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=21
update matchIndex[2]=20
update leader CommitIndex=20
leader log:
[{snapshot 2 19} {8568745472536027182 2 20}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:19 
server 0 log:
[{snapshot 2 19} {8568745472536027182 2 20}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=21
update matchIndex[0]=20
update leader CommitIndex=20
leader log:
[{snapshot 2 19} {8568745472536027182 2 20}]
------------------------------------------------------
flag 84744 term 2 leader 1 nextIndex[0]: 21  matchIndex[0]: 20
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 2 leaderCommit: 20 
------------------------------------------------------
flag 45743 term 2 leader 1 nextIndex[2]: 21  matchIndex[2]: 20
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 2 leaderCommit: 20 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:20 
server 2 log:
[{snapshot 2 19} {8568745472536027182 2 20}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=21
update matchIndex[2]=20
update leader CommitIndex=20
leader log:
[{snapshot 2 19} {8568745472536027182 2 20}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:20 
server 0 log:
[{snapshot 2 19} {8568745472536027182 2 20}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=21
update matchIndex[0]=20
update leader CommitIndex=20
leader log:
[{snapshot 2 19} {8568745472536027182 2 20}]
------------------------------------------------------
client write log 5241663458717569257 (index 21) to leader 1
flag 44438 term 2 leader 1 nextIndex[0]: 21  matchIndex[0]: 20
[{5241663458717569257 2 21}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 2 leaderCommit: 20 
------------------------------------------------------
flag 93920 term 2 leader 1 nextIndex[2]: 21  matchIndex[2]: 20
[{5241663458717569257 2 21}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 2 leaderCommit: 20 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:20 
server 2 log:
[{snapshot 2 19} {8568745472536027182 2 20} {5241663458717569257 2 21}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:20 
server 0 log:
[{snapshot 2 19} {8568745472536027182 2 20} {5241663458717569257 2 21}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=22
update matchIndex[2]=21
update leader CommitIndex=21
leader log:
[{snapshot 2 19} {8568745472536027182 2 20} {5241663458717569257 2 21}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=22
update matchIndex[0]=21
update leader CommitIndex=21
leader log:
[{snapshot 2 19} {8568745472536027182 2 20} {5241663458717569257 2 21}]
------------------------------------------------------
flag 25449 term 2 leader 1 nextIndex[0]: 22  matchIndex[0]: 21
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 2 leaderCommit: 21 
------------------------------------------------------
flag 80493 term 2 leader 1 nextIndex[2]: 22  matchIndex[2]: 21
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 2 leaderCommit: 21 
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:21 
server 0 log:
[{snapshot 2 19} {8568745472536027182 2 20} {5241663458717569257 2 21}]
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:21 
server 2 log:
[{snapshot 2 19} {8568745472536027182 2 20} {5241663458717569257 2 21}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=22
update matchIndex[0]=21
update leader CommitIndex=21
leader log:
[{snapshot 2 19} {8568745472536027182 2 20} {5241663458717569257 2 21}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=22
update matchIndex[2]=21
update leader CommitIndex=21
leader log:
[{snapshot 2 19} {8568745472536027182 2 20} {5241663458717569257 2 21}]
------------------------------------------------------
client write log 2011041235722487106 (index 22) to leader 1
flag 65144 term 2 leader 1 nextIndex[0]: 22  matchIndex[0]: 21
[{2011041235722487106 2 22}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 2 leaderCommit: 21 
------------------------------------------------------
flag 53987 term 2 leader 1 nextIndex[2]: 22  matchIndex[2]: 21
[{2011041235722487106 2 22}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 2 leaderCommit: 21 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:21 
server 2 log:
[{snapshot 2 19} {8568745472536027182 2 20} {5241663458717569257 2 21} {2011041235722487106 2 22}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:21 
server 0 log:
[{snapshot 2 19} {8568745472536027182 2 20} {5241663458717569257 2 21} {2011041235722487106 2 22}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=23
update matchIndex[2]=22
update leader CommitIndex=22
leader log:
[{snapshot 2 19} {8568745472536027182 2 20} {5241663458717569257 2 21} {2011041235722487106 2 22}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=23
update matchIndex[0]=22
update leader CommitIndex=22
leader log:
[{snapshot 2 19} {8568745472536027182 2 20} {5241663458717569257 2 21} {2011041235722487106 2 22}]
------------------------------------------------------
flag 36938 term 2 leader 1 nextIndex[0]: 23  matchIndex[0]: 22
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 2 leaderCommit: 22 
------------------------------------------------------
flag 51116 term 2 leader 1 nextIndex[2]: 23  matchIndex[2]: 22
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 2 leaderCommit: 22 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:22 
server 2 log:
[{snapshot 2 19} {8568745472536027182 2 20} {5241663458717569257 2 21} {2011041235722487106 2 22}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=23
update matchIndex[2]=22
update leader CommitIndex=22
leader log:
[{snapshot 2 19} {8568745472536027182 2 20} {5241663458717569257 2 21} {2011041235722487106 2 22}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:22 
server 0 log:
[{snapshot 2 19} {8568745472536027182 2 20} {5241663458717569257 2 21} {2011041235722487106 2 22}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=23
update matchIndex[0]=22
update leader CommitIndex=22
leader log:
[{snapshot 2 19} {8568745472536027182 2 20} {5241663458717569257 2 21} {2011041235722487106 2 22}]
------------------------------------------------------
client write log 3650764455519277689 (index 23) to leader 1
flag 75125 term 2 leader 1 nextIndex[0]: 23  matchIndex[0]: 22
[{3650764455519277689 2 23}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 2 leaderCommit: 22 
------------------------------------------------------
flag 4429 term 2 leader 1 nextIndex[2]: 23  matchIndex[2]: 22
[{3650764455519277689 2 23}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 2 leaderCommit: 22 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:22 
server 2 log:
[{snapshot 2 19} {8568745472536027182 2 20} {5241663458717569257 2 21} {2011041235722487106 2 22} {3650764455519277689 2 23}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=23
leader log:
[{snapshot 2 19} {8568745472536027182 2 20} {5241663458717569257 2 21} {2011041235722487106 2 22} {3650764455519277689 2 23}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:22 
server 0 log:
[{snapshot 2 19} {8568745472536027182 2 20} {5241663458717569257 2 21} {2011041235722487106 2 22} {3650764455519277689 2 23}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 2 19} {8568745472536027182 2 20} {5241663458717569257 2 21} {2011041235722487106 2 22} {3650764455519277689 2 23}]
------------------------------------------------------
flag 8853 term 2 leader 1 nextIndex[0]: 24  matchIndex[0]: 23
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 2 leaderCommit: 23 
------------------------------------------------------
flag 48037 term 2 leader 1 nextIndex[2]: 24  matchIndex[2]: 23
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 2 leaderCommit: 23 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:23 
server 2 log:
[{snapshot 2 19} {8568745472536027182 2 20} {5241663458717569257 2 21} {2011041235722487106 2 22} {3650764455519277689 2 23}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=23
leader log:
[{snapshot 2 19} {8568745472536027182 2 20} {5241663458717569257 2 21} {2011041235722487106 2 22} {3650764455519277689 2 23}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:23 
server 0 log:
[{snapshot 2 19} {8568745472536027182 2 20} {5241663458717569257 2 21} {2011041235722487106 2 22} {3650764455519277689 2 23}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 2 19} {8568745472536027182 2 20} {5241663458717569257 2 21} {2011041235722487106 2 22} {3650764455519277689 2 23}]
------------------------------------------------------
client write log 5457172587987175095 (index 24) to leader 1
flag 55597 term 2 leader 1 nextIndex[0]: 24  matchIndex[0]: 23
[{5457172587987175095 2 24}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 2 leaderCommit: 23 
------------------------------------------------------
flag 24750 term 2 leader 1 nextIndex[2]: 24  matchIndex[2]: 23
[{5457172587987175095 2 24}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 2 leaderCommit: 23 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:23 
server 2 log:
[{snapshot 2 19} {8568745472536027182 2 20} {5241663458717569257 2 21} {2011041235722487106 2 22} {3650764455519277689 2 23} {5457172587987175095 2 24}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=25
update matchIndex[2]=24
update leader CommitIndex=24
leader log:
[{snapshot 2 19} {8568745472536027182 2 20} {5241663458717569257 2 21} {2011041235722487106 2 22} {3650764455519277689 2 23} {5457172587987175095 2 24}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:23 
server 0 log:
[{snapshot 2 19} {8568745472536027182 2 20} {5241663458717569257 2 21} {2011041235722487106 2 22} {3650764455519277689 2 23} {5457172587987175095 2 24}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 2 19} {8568745472536027182 2 20} {5241663458717569257 2 21} {2011041235722487106 2 22} {3650764455519277689 2 23} {5457172587987175095 2 24}]
------------------------------------------------------
flag 1334 term 2 leader 1 nextIndex[0]: 25  matchIndex[0]: 24
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 2 leaderCommit: 24 
------------------------------------------------------
flag 11927 term 2 leader 1 nextIndex[2]: 25  matchIndex[2]: 24
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 2 leaderCommit: 24 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:24 
server 2 log:
[{snapshot 2 19} {8568745472536027182 2 20} {5241663458717569257 2 21} {2011041235722487106 2 22} {3650764455519277689 2 23} {5457172587987175095 2 24}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:24 
server 0 log:
[{snapshot 2 19} {8568745472536027182 2 20} {5241663458717569257 2 21} {2011041235722487106 2 22} {3650764455519277689 2 23} {5457172587987175095 2 24}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=25
update matchIndex[2]=24
update leader CommitIndex=24
leader log:
[{snapshot 2 19} {8568745472536027182 2 20} {5241663458717569257 2 21} {2011041235722487106 2 22} {3650764455519277689 2 23} {5457172587987175095 2 24}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 2 19} {8568745472536027182 2 20} {5241663458717569257 2 21} {2011041235722487106 2 22} {3650764455519277689 2 23} {5457172587987175095 2 24}]
------------------------------------------------------
client write log 6718052212932067360 (index 25) to leader 1
flag 76476 term 2 leader 1 nextIndex[0]: 25  matchIndex[0]: 24
[{6718052212932067360 2 25}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 2 leaderCommit: 24 
------------------------------------------------------
flag 17268 term 2 leader 1 nextIndex[2]: 25  matchIndex[2]: 24
[{6718052212932067360 2 25}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 2 leaderCommit: 24 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:24 
server 2 log:
[{snapshot 2 19} {8568745472536027182 2 20} {5241663458717569257 2 21} {2011041235722487106 2 22} {3650764455519277689 2 23} {5457172587987175095 2 24} {6718052212932067360 2 25}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 2 19} {8568745472536027182 2 20} {5241663458717569257 2 21} {2011041235722487106 2 22} {3650764455519277689 2 23} {5457172587987175095 2 24} {6718052212932067360 2 25}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:24 
server 0 log:
[{snapshot 2 19} {8568745472536027182 2 20} {5241663458717569257 2 21} {2011041235722487106 2 22} {3650764455519277689 2 23} {5457172587987175095 2 24} {6718052212932067360 2 25}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=25
leader log:
[{snapshot 2 19} {8568745472536027182 2 20} {5241663458717569257 2 21} {2011041235722487106 2 22} {3650764455519277689 2 23} {5457172587987175095 2 24} {6718052212932067360 2 25}]
------------------------------------------------------
flag 25746 term 2 leader 1 nextIndex[0]: 26  matchIndex[0]: 25
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 2 leaderCommit: 25 
------------------------------------------------------
flag 79326 term 2 leader 1 nextIndex[2]: 26  matchIndex[2]: 25
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 2 leaderCommit: 25 
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:25 
server 0 log:
[{snapshot 2 19} {8568745472536027182 2 20} {5241663458717569257 2 21} {2011041235722487106 2 22} {3650764455519277689 2 23} {5457172587987175095 2 24} {6718052212932067360 2 25}]
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:25 
server 2 log:
[{snapshot 2 19} {8568745472536027182 2 20} {5241663458717569257 2 21} {2011041235722487106 2 22} {3650764455519277689 2 23} {5457172587987175095 2 24} {6718052212932067360 2 25}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=25
leader log:
[{snapshot 2 19} {8568745472536027182 2 20} {5241663458717569257 2 21} {2011041235722487106 2 22} {3650764455519277689 2 23} {5457172587987175095 2 24} {6718052212932067360 2 25}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 2 19} {8568745472536027182 2 20} {5241663458717569257 2 21} {2011041235722487106 2 22} {3650764455519277689 2 23} {5457172587987175095 2 24} {6718052212932067360 2 25}]
------------------------------------------------------
client write log 2144432147902435170 (index 26) to leader 1
flag 74151 term 2 leader 1 nextIndex[0]: 26  matchIndex[0]: 25
[{2144432147902435170 2 26}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 2 leaderCommit: 25 
------------------------------------------------------
flag 39571 term 2 leader 1 nextIndex[2]: 26  matchIndex[2]: 25
[{2144432147902435170 2 26}]
term 2 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 2 leaderCommit: 25 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:25 
server 2 log:
[{snapshot 2 19} {8568745472536027182 2 20} {5241663458717569257 2 21} {2011041235722487106 2 22} {3650764455519277689 2 23} {5457172587987175095 2 24} {6718052212932067360 2 25} {2144432147902435170 2 26}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:25 
server 0 log:
[{snapshot 2 19} {8568745472536027182 2 20} {5241663458717569257 2 21} {2011041235722487106 2 22} {3650764455519277689 2 23} {5457172587987175095 2 24} {6718052212932067360 2 25} {2144432147902435170 2 26}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 2 19} {8568745472536027182 2 20} {5241663458717569257 2 21} {2011041235722487106 2 22} {3650764455519277689 2 23} {5457172587987175095 2 24} {6718052212932067360 2 25} {2144432147902435170 2 26}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=26
leader log:
[{snapshot 2 19} {8568745472536027182 2 20} {5241663458717569257 2 21} {2011041235722487106 2 22} {3650764455519277689 2 23} {5457172587987175095 2 24} {6718052212932067360 2 25} {2144432147902435170 2 26}]
------------------------------------------------------
flag 52584 term 2 leader 1 nextIndex[0]: 27  matchIndex[0]: 26
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 2 leaderCommit: 26 
------------------------------------------------------
flag 97135 term 2 leader 1 nextIndex[2]: 27  matchIndex[2]: 26
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 2 leaderCommit: 26 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:26 
server 2 log:
[{snapshot 2 19} {8568745472536027182 2 20} {5241663458717569257 2 21} {2011041235722487106 2 22} {3650764455519277689 2 23} {5457172587987175095 2 24} {6718052212932067360 2 25} {2144432147902435170 2 26}]
------------------------------------------------------
term 2 server 0 AppendEntries true commitIndex:26 
server 0 log:
[{snapshot 2 19} {8568745472536027182 2 20} {5241663458717569257 2 21} {2011041235722487106 2 22} {3650764455519277689 2 23} {5457172587987175095 2 24} {6718052212932067360 2 25} {2144432147902435170 2 26}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 2 19} {8568745472536027182 2 20} {5241663458717569257 2 21} {2011041235722487106 2 22} {3650764455519277689 2 23} {5457172587987175095 2 24} {6718052212932067360 2 25} {2144432147902435170 2 26}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=26
leader log:
[{snapshot 2 19} {8568745472536027182 2 20} {5241663458717569257 2 21} {2011041235722487106 2 22} {3650764455519277689 2 23} {5457172587987175095 2 24} {6718052212932067360 2 25} {2144432147902435170 2 26}]
------------------------------------------------------
!!!!!! server 0 crash
!!!!!! server 1 crash
!!!!!! server 2 crash
获取persist信息成功 server 0 currentTerm 2 voteFor 1 logs [{snapshot 2 19} {8568745472536027182 2 20} {5241663458717569257 2 21} {2011041235722487106 2 22} {3650764455519277689 2 23} {5457172587987175095 2 24} {6718052212932067360 2 25} {2144432147902435170 2 26}]
!!!!!! server 0 crash
获取persist信息成功 server 1 currentTerm 2 voteFor 1 logs [{snapshot 2 19} {8568745472536027182 2 20} {5241663458717569257 2 21} {2011041235722487106 2 22} {3650764455519277689 2 23} {5457172587987175095 2 24} {6718052212932067360 2 25} {2144432147902435170 2 26}]
!!!!!! server 1 crash
获取persist信息成功 server 2 currentTerm 2 voteFor 1 logs [{snapshot 2 19} {8568745472536027182 2 20} {5241663458717569257 2 21} {2011041235722487106 2 22} {3650764455519277689 2 23} {5457172587987175095 2 24} {6718052212932067360 2 25} {2144432147902435170 2 26}]
!!!!!! server 2 crash
flag 99098 term 2 leader 1 nextIndex[0]: 27  matchIndex[0]: 26
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 2 leaderCommit: 26 
------------------------------------------------------
flag 25537 term 2 leader 1 nextIndex[2]: 27  matchIndex[2]: 26
[]
term 2 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 2 leaderCommit: 26 
------------------------------------------------------
term 3 server 1 vote for server 2
term 3 server 0 vote for server 2
term 3 server 2 get vote from server 1
term 3 server 2 become leader
------------------------------------------------------
term 3 server 2 get outdate rpc reply from server 0
flag 86460 term 3 leader 2 nextIndex[0]: 27  matchIndex[0]: 0
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 2 leaderCommit: 19 
------------------------------------------------------
flag 20234 term 3 leader 2 nextIndex[1]: 27  matchIndex[1]: 0
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 2 leaderCommit: 19 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:19 
server 1 log:
[{snapshot 2 19} {8568745472536027182 2 20} {5241663458717569257 2 21} {2011041235722487106 2 22} {3650764455519277689 2 23} {5457172587987175095 2 24} {6718052212932067360 2 25} {2144432147902435170 2 26}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:19 
server 0 log:
[{snapshot 2 19} {8568745472536027182 2 20} {5241663458717569257 2 21} {2011041235722487106 2 22} {3650764455519277689 2 23} {5457172587987175095 2 24} {6718052212932067360 2 25} {2144432147902435170 2 26}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=19
leader log:
[{snapshot 2 19} {8568745472536027182 2 20} {5241663458717569257 2 21} {2011041235722487106 2 22} {3650764455519277689 2 23} {5457172587987175095 2 24} {6718052212932067360 2 25} {2144432147902435170 2 26}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=19
leader log:
[{snapshot 2 19} {8568745472536027182 2 20} {5241663458717569257 2 21} {2011041235722487106 2 22} {3650764455519277689 2 23} {5457172587987175095 2 24} {6718052212932067360 2 25} {2144432147902435170 2 26}]
------------------------------------------------------
client write log 1385909063225976544 (index 27) to leader 2
flag 95291 term 3 leader 2 nextIndex[0]: 27  matchIndex[0]: 26
[{1385909063225976544 3 27}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 2 leaderCommit: 19 
------------------------------------------------------
flag 64853 term 3 leader 2 nextIndex[1]: 27  matchIndex[1]: 26
[{1385909063225976544 3 27}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 2 leaderCommit: 19 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:19 
server 1 log:
[{snapshot 2 19} {8568745472536027182 2 20} {5241663458717569257 2 21} {2011041235722487106 2 22} {3650764455519277689 2 23} {5457172587987175095 2 24} {6718052212932067360 2 25} {2144432147902435170 2 26} {1385909063225976544 3 27}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 2 19} {8568745472536027182 2 20} {5241663458717569257 2 21} {2011041235722487106 2 22} {3650764455519277689 2 23} {5457172587987175095 2 24} {6718052212932067360 2 25} {2144432147902435170 2 26} {1385909063225976544 3 27}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:19 
server 0 log:
[{snapshot 2 19} {8568745472536027182 2 20} {5241663458717569257 2 21} {2011041235722487106 2 22} {3650764455519277689 2 23} {5457172587987175095 2 24} {6718052212932067360 2 25} {2144432147902435170 2 26} {1385909063225976544 3 27}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 2 19} {8568745472536027182 2 20} {5241663458717569257 2 21} {2011041235722487106 2 22} {3650764455519277689 2 23} {5457172587987175095 2 24} {6718052212932067360 2 25} {2144432147902435170 2 26} {1385909063225976544 3 27}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 11->10
------------------------------------------------------
flag 66111 term 3 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 3 leaderCommit: 27 
------------------------------------------------------
flag 98022 term 3 leader 2 nextIndex[1]: 28  matchIndex[1]: 27
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 3 leaderCommit: 27 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:27 
server 1 log:
[{snapshot 2 19} {8568745472536027182 2 20} {5241663458717569257 2 21} {2011041235722487106 2 22} {3650764455519277689 2 23} {5457172587987175095 2 24} {6718052212932067360 2 25} {2144432147902435170 2 26} {1385909063225976544 3 27}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:27 
server 0 log:
[{snapshot 2 19} {8568745472536027182 2 20} {5241663458717569257 2 21} {2011041235722487106 2 22} {3650764455519277689 2 23} {5457172587987175095 2 24} {6718052212932067360 2 25} {2144432147902435170 2 26} {1385909063225976544 3 27}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 2 19} {8568745472536027182 2 20} {5241663458717569257 2 21} {2011041235722487106 2 22} {3650764455519277689 2 23} {5457172587987175095 2 24} {6718052212932067360 2 25} {2144432147902435170 2 26} {1385909063225976544 3 27}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 2 19} {8568745472536027182 2 20} {5241663458717569257 2 21} {2011041235722487106 2 22} {3650764455519277689 2 23} {5457172587987175095 2 24} {6718052212932067360 2 25} {2144432147902435170 2 26} {1385909063225976544 3 27}]
------------------------------------------------------
client write log 6445403050032188000 (index 28) to leader 2
flag 25343 term 3 leader 2 nextIndex[0]: 28  matchIndex[0]: 27
[{6445403050032188000 3 28}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 3 leaderCommit: 27 
------------------------------------------------------
flag 69384 term 3 leader 2 nextIndex[1]: 28  matchIndex[1]: 27
[{6445403050032188000 3 28}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 3 leaderCommit: 27 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:27 
server 1 log:
[{snapshot 2 19} {8568745472536027182 2 20} {5241663458717569257 2 21} {2011041235722487106 2 22} {3650764455519277689 2 23} {5457172587987175095 2 24} {6718052212932067360 2 25} {2144432147902435170 2 26} {1385909063225976544 3 27} {6445403050032188000 3 28}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=29
update matchIndex[1]=28
update leader CommitIndex=28
leader log:
[{snapshot 2 19} {8568745472536027182 2 20} {5241663458717569257 2 21} {2011041235722487106 2 22} {3650764455519277689 2 23} {5457172587987175095 2 24} {6718052212932067360 2 25} {2144432147902435170 2 26} {1385909063225976544 3 27} {6445403050032188000 3 28}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:27 
server 0 log:
[{snapshot 2 19} {8568745472536027182 2 20} {5241663458717569257 2 21} {2011041235722487106 2 22} {3650764455519277689 2 23} {5457172587987175095 2 24} {6718052212932067360 2 25} {2144432147902435170 2 26} {1385909063225976544 3 27} {6445403050032188000 3 28}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=28
leader log:
[{snapshot 2 19} {8568745472536027182 2 20} {5241663458717569257 2 21} {2011041235722487106 2 22} {3650764455519277689 2 23} {5457172587987175095 2 24} {6718052212932067360 2 25} {2144432147902435170 2 26} {1385909063225976544 3 27} {6445403050032188000 3 28}]
------------------------------------------------------
flag 4943 term 3 leader 2 nextIndex[0]: 29  matchIndex[0]: 28
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 3 leaderCommit: 28 
------------------------------------------------------
flag 43040 term 3 leader 2 nextIndex[1]: 29  matchIndex[1]: 28
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 3 leaderCommit: 28 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:28 
server 1 log:
[{snapshot 2 19} {8568745472536027182 2 20} {5241663458717569257 2 21} {2011041235722487106 2 22} {3650764455519277689 2 23} {5457172587987175095 2 24} {6718052212932067360 2 25} {2144432147902435170 2 26} {1385909063225976544 3 27} {6445403050032188000 3 28}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=29
update matchIndex[1]=28
update leader CommitIndex=28
leader log:
[{snapshot 2 19} {8568745472536027182 2 20} {5241663458717569257 2 21} {2011041235722487106 2 22} {3650764455519277689 2 23} {5457172587987175095 2 24} {6718052212932067360 2 25} {2144432147902435170 2 26} {1385909063225976544 3 27} {6445403050032188000 3 28}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:28 
server 0 log:
[{snapshot 2 19} {8568745472536027182 2 20} {5241663458717569257 2 21} {2011041235722487106 2 22} {3650764455519277689 2 23} {5457172587987175095 2 24} {6718052212932067360 2 25} {2144432147902435170 2 26} {1385909063225976544 3 27} {6445403050032188000 3 28}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=28
leader log:
[{snapshot 2 19} {8568745472536027182 2 20} {5241663458717569257 2 21} {2011041235722487106 2 22} {3650764455519277689 2 23} {5457172587987175095 2 24} {6718052212932067360 2 25} {2144432147902435170 2 26} {1385909063225976544 3 27} {6445403050032188000 3 28}]
------------------------------------------------------
client write log 1477954130258080172 (index 29) to leader 2
flag 86195 term 3 leader 2 nextIndex[0]: 29  matchIndex[0]: 28
[{1477954130258080172 3 29}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 3 leaderCommit: 28 
------------------------------------------------------
flag 21252 term 3 leader 2 nextIndex[1]: 29  matchIndex[1]: 28
[{1477954130258080172 3 29}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 3 leaderCommit: 28 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:28 
server 1 log:
term 3 server 0 AppendEntries true commitIndex:28 
server 0 log:
[{snapshot 2 19} {8568745472536027182 2 20} {5241663458717569257 2 21} {2011041235722487106 2 22} {3650764455519277689 2 23} {5457172587987175095 2 24} {6718052212932067360 2 25} {2144432147902435170 2 26} {1385909063225976544 3 27} {6445403050032188000 3 28} {1477954130258080172 3 29}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=29
leader log:
[{snapshot 2 19} {8568745472536027182 2 20} {5241663458717569257 2 21} {2011041235722487106 2 22} {3650764455519277689 2 23} {5457172587987175095 2 24} {6718052212932067360 2 25} {2144432147902435170 2 26} {1385909063225976544 3 27} {6445403050032188000 3 28} {1477954130258080172 3 29}]
------------------------------------------------------
[{snapshot 2 19} {8568745472536027182 2 20} {5241663458717569257 2 21} {2011041235722487106 2 22} {3650764455519277689 2 23} {5457172587987175095 2 24} {6718052212932067360 2 25} {2144432147902435170 2 26} {1385909063225976544 3 27} {6445403050032188000 3 28} {1477954130258080172 3 29}]
------------------------------------------------------
term 3 Server2 start snapshot! index=29
term 3 server2 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=29
-------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=30
update matchIndex[1]=29
update leader CommitIndex=29
leader log:
[{snapshot 3 29}]
------------------------------------------------------
flag 53112 term 3 leader 2 nextIndex[0]: 30  matchIndex[0]: 29
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 3 leaderCommit: 29 
------------------------------------------------------
flag 46206 term 3 leader 2 nextIndex[1]: 30  matchIndex[1]: 29
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 3 leaderCommit: 29 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:29 
server 1 log:
[{snapshot 2 19} {8568745472536027182 2 20} {5241663458717569257 2 21} {2011041235722487106 2 22} {3650764455519277689 2 23} {5457172587987175095 2 24} {6718052212932067360 2 25} {2144432147902435170 2 26} {1385909063225976544 3 27} {6445403050032188000 3 28} {1477954130258080172 3 29}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=30
update matchIndex[1]=29
update leader CommitIndex=29
leader log:
[{snapshot 3 29}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:29 
server 0 log:
[{snapshot 2 19} {8568745472536027182 2 20} {5241663458717569257 2 21} {2011041235722487106 2 22} {3650764455519277689 2 23} {5457172587987175095 2 24} {6718052212932067360 2 25} {2144432147902435170 2 26} {1385909063225976544 3 27} {6445403050032188000 3 28} {1477954130258080172 3 29}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=29
leader log:
[{snapshot 3 29}]
------------------------------------------------------
term 3 Server1 start snapshot! index=29
term 3 Server0 start snapshot! index=29
term 3 server1 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=29
-------------------------------------------------------------
term 3 server0 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=29
-------------------------------------------------------------
client write log 6581655563519547701 (index 30) to leader 2
flag 13328 term 3 leader 2 nextIndex[0]: 30  matchIndex[0]: 29
[{6581655563519547701 3 30}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 3 leaderCommit: 29 
------------------------------------------------------
flag 67015 term 3 leader 2 nextIndex[1]: 30  matchIndex[1]: 29
[{6581655563519547701 3 30}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 3 leaderCommit: 29 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:29 
server 1 log:
[{snapshot 3 29} {6581655563519547701 3 30}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=31
update matchIndex[1]=30
update leader CommitIndex=30
leader log:
[{snapshot 3 29} {6581655563519547701 3 30}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:29 
server 0 log:
[{snapshot 3 29} {6581655563519547701 3 30}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=30
leader log:
[{snapshot 3 29} {6581655563519547701 3 30}]
------------------------------------------------------
flag 38772 term 3 leader 2 nextIndex[0]: 31  matchIndex[0]: 30
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 3 leaderCommit: 30 
------------------------------------------------------
flag 27736 term 3 leader 2 nextIndex[1]: 31  matchIndex[1]: 30
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 3 leaderCommit: 30 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:30 
server 1 log:
[{snapshot 3 29} {6581655563519547701 3 30}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=31
update matchIndex[1]=30
update leader CommitIndex=30
leader log:
[{snapshot 3 29} {6581655563519547701 3 30}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:30 
server 0 log:
[{snapshot 3 29} {6581655563519547701 3 30}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=30
leader log:
[{snapshot 3 29} {6581655563519547701 3 30}]
------------------------------------------------------
client write log 9013081895807660523 (index 31) to leader 2
flag 46573 term 3 leader 2 nextIndex[0]: 31  matchIndex[0]: 30
[{9013081895807660523 3 31}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 3 leaderCommit: 30 
------------------------------------------------------
flag 1097 term 3 leader 2 nextIndex[1]: 31  matchIndex[1]: 30
[{9013081895807660523 3 31}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 3 leaderCommit: 30 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:30 
server 1 log:
term 3 server 0 AppendEntries true commitIndex:30 
server 0 log:
[{snapshot 3 29} {6581655563519547701 3 30} {9013081895807660523 3 31}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=31
leader log:
[{snapshot 3 29} {6581655563519547701 3 30} {9013081895807660523 3 31}]
------------------------------------------------------
[{snapshot 3 29} {6581655563519547701 3 30} {9013081895807660523 3 31}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=32
update matchIndex[1]=31
update leader CommitIndex=31
leader log:
[{snapshot 3 29} {6581655563519547701 3 30} {9013081895807660523 3 31}]
------------------------------------------------------
flag 15323 term 3 leader 2 nextIndex[0]: 32  matchIndex[0]: 31
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 3 leaderCommit: 31 
------------------------------------------------------
flag 27208 term 3 leader 2 nextIndex[1]: 32  matchIndex[1]: 31
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 3 leaderCommit: 31 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:31 
server 1 log:
[{snapshot 3 29} {6581655563519547701 3 30} {9013081895807660523 3 31}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:31 
server 0 log:
[{snapshot 3 29} {6581655563519547701 3 30} {9013081895807660523 3 31}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=32
update matchIndex[1]=31
update leader CommitIndex=31
leader log:
[{snapshot 3 29} {6581655563519547701 3 30} {9013081895807660523 3 31}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=31
leader log:
[{snapshot 3 29} {6581655563519547701 3 30} {9013081895807660523 3 31}]
------------------------------------------------------
client write log 8119255354243616703 (index 32) to leader 2
flag 92357 term 3 leader 2 nextIndex[0]: 32  matchIndex[0]: 31
[{8119255354243616703 3 32}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 3 leaderCommit: 31 
------------------------------------------------------
flag 622 term 3 leader 2 nextIndex[1]: 32  matchIndex[1]: 31
[{8119255354243616703 3 32}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 3 leaderCommit: 31 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:31 
server 1 log:
[{snapshot 3 29} {6581655563519547701 3 30} {9013081895807660523 3 31} {8119255354243616703 3 32}]
term 3 server 0 AppendEntries true commitIndex:31 
server 0 log:
[{snapshot 3 29} {6581655563519547701 3 30} {9013081895807660523 3 31} {8119255354243616703 3 32}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=32
leader log:
[{snapshot 3 29} {6581655563519547701 3 30} {9013081895807660523 3 31} {8119255354243616703 3 32}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=32
leader log:
[{snapshot 3 29} {6581655563519547701 3 30} {9013081895807660523 3 31} {8119255354243616703 3 32}]
------------------------------------------------------
flag 27710 term 3 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 3 leaderCommit: 32 
------------------------------------------------------
flag 92672 term 3 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 3 leaderCommit: 32 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:32 
server 1 log:
[{snapshot 3 29} {6581655563519547701 3 30} {9013081895807660523 3 31} {8119255354243616703 3 32}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:32 
server 0 log:
[{snapshot 3 29} {6581655563519547701 3 30} {9013081895807660523 3 31} {8119255354243616703 3 32}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=32
leader log:
[{snapshot 3 29} {6581655563519547701 3 30} {9013081895807660523 3 31} {8119255354243616703 3 32}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=32
leader log:
[{snapshot 3 29} {6581655563519547701 3 30} {9013081895807660523 3 31} {8119255354243616703 3 32}]
------------------------------------------------------
client write log 6113854352683524430 (index 33) to leader 2
flag 60832 term 3 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
[{6113854352683524430 3 33}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 3 leaderCommit: 32 
------------------------------------------------------
flag 46278 term 3 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
[{6113854352683524430 3 33}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 3 leaderCommit: 32 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:32 
server 1 log:
[{snapshot 3 29} {6581655563519547701 3 30} {9013081895807660523 3 31} {8119255354243616703 3 32} {6113854352683524430 3 33}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:32 
server 0 log:
[{snapshot 3 29} {6581655563519547701 3 30} {9013081895807660523 3 31} {8119255354243616703 3 32} {6113854352683524430 3 33}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 3 29} {6581655563519547701 3 30} {9013081895807660523 3 31} {8119255354243616703 3 32} {6113854352683524430 3 33}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=33
leader log:
[{snapshot 3 29} {6581655563519547701 3 30} {9013081895807660523 3 31} {8119255354243616703 3 32} {6113854352683524430 3 33}]
------------------------------------------------------
flag 96046 term 3 leader 2 nextIndex[0]: 34  matchIndex[0]: 33
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 3 leaderCommit: 33 
------------------------------------------------------
flag 7629 term 3 leader 2 nextIndex[1]: 34  matchIndex[1]: 33
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 3 leaderCommit: 33 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:33 
server 1 log:
[{snapshot 3 29} {6581655563519547701 3 30} {9013081895807660523 3 31} {8119255354243616703 3 32} {6113854352683524430 3 33}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:33 
server 0 log:
[{snapshot 3 29} {6581655563519547701 3 30} {9013081895807660523 3 31} {8119255354243616703 3 32} {6113854352683524430 3 33}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 3 29} {6581655563519547701 3 30} {9013081895807660523 3 31} {8119255354243616703 3 32} {6113854352683524430 3 33}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=33
leader log:
[{snapshot 3 29} {6581655563519547701 3 30} {9013081895807660523 3 31} {8119255354243616703 3 32} {6113854352683524430 3 33}]
------------------------------------------------------
client write log 7141750872636961886 (index 34) to leader 2
flag 34098 term 3 leader 2 nextIndex[0]: 34  matchIndex[0]: 33
[{7141750872636961886 3 34}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 3 leaderCommit: 33 
------------------------------------------------------
flag 79622 term 3 leader 2 nextIndex[1]: 34  matchIndex[1]: 33
[{7141750872636961886 3 34}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 3 leaderCommit: 33 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:33 
server 1 log:
[{snapshot 3 29} {6581655563519547701 3 30} {9013081895807660523 3 31} {8119255354243616703 3 32} {6113854352683524430 3 33} {7141750872636961886 3 34}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 3 29} {6581655563519547701 3 30} {9013081895807660523 3 31} {8119255354243616703 3 32} {6113854352683524430 3 33} {7141750872636961886 3 34}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:33 
server 0 log:
[{snapshot 3 29} {6581655563519547701 3 30} {9013081895807660523 3 31} {8119255354243616703 3 32} {6113854352683524430 3 33} {7141750872636961886 3 34}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=34
leader log:
[{snapshot 3 29} {6581655563519547701 3 30} {9013081895807660523 3 31} {8119255354243616703 3 32} {6113854352683524430 3 33} {7141750872636961886 3 34}]
------------------------------------------------------
flag 45818 term 3 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 3 leaderCommit: 34 
------------------------------------------------------
flag 7684 term 3 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 3 leaderCommit: 34 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:34 
server 1 log:
[{snapshot 3 29} {6581655563519547701 3 30} {9013081895807660523 3 31} {8119255354243616703 3 32} {6113854352683524430 3 33} {7141750872636961886 3 34}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 3 29} {6581655563519547701 3 30} {9013081895807660523 3 31} {8119255354243616703 3 32} {6113854352683524430 3 33} {7141750872636961886 3 34}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:34 
server 0 log:
[{snapshot 3 29} {6581655563519547701 3 30} {9013081895807660523 3 31} {8119255354243616703 3 32} {6113854352683524430 3 33} {7141750872636961886 3 34}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=34
leader log:
[{snapshot 3 29} {6581655563519547701 3 30} {9013081895807660523 3 31} {8119255354243616703 3 32} {6113854352683524430 3 33} {7141750872636961886 3 34}]
------------------------------------------------------
client write log 5868561899332094515 (index 35) to leader 2
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 11->10
------------------------------------------------------
flag 83137 term 3 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
[{5868561899332094515 3 35}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 3 leaderCommit: 34 
------------------------------------------------------
flag 47778 term 3 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
[{5868561899332094515 3 35}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 3 leaderCommit: 34 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:34 
server 1 log:
[{snapshot 3 29} {6581655563519547701 3 30} {9013081895807660523 3 31} {8119255354243616703 3 32} {6113854352683524430 3 33} {7141750872636961886 3 34} {5868561899332094515 3 35}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:34 
server 0 log:
[{snapshot 3 29} {6581655563519547701 3 30} {9013081895807660523 3 31} {8119255354243616703 3 32} {6113854352683524430 3 33} {7141750872636961886 3 34} {5868561899332094515 3 35}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 3 29} {6581655563519547701 3 30} {9013081895807660523 3 31} {8119255354243616703 3 32} {6113854352683524430 3 33} {7141750872636961886 3 34} {5868561899332094515 3 35}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=36
update matchIndex[0]=35
update leader CommitIndex=35
leader log:
[{snapshot 3 29} {6581655563519547701 3 30} {9013081895807660523 3 31} {8119255354243616703 3 32} {6113854352683524430 3 33} {7141750872636961886 3 34} {5868561899332094515 3 35}]
------------------------------------------------------
flag 97918 term 3 leader 2 nextIndex[0]: 36  matchIndex[0]: 35
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 3 leaderCommit: 35 
------------------------------------------------------
flag 58869 term 3 leader 2 nextIndex[1]: 36  matchIndex[1]: 35
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 3 leaderCommit: 35 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:35 
server 1 log:
[{snapshot 3 29} {6581655563519547701 3 30} {9013081895807660523 3 31} {8119255354243616703 3 32} {6113854352683524430 3 33} {7141750872636961886 3 34} {5868561899332094515 3 35}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:35 
server 0 log:
[{snapshot 3 29} {6581655563519547701 3 30} {9013081895807660523 3 31} {8119255354243616703 3 32} {6113854352683524430 3 33} {7141750872636961886 3 34} {5868561899332094515 3 35}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 3 29} {6581655563519547701 3 30} {9013081895807660523 3 31} {8119255354243616703 3 32} {6113854352683524430 3 33} {7141750872636961886 3 34} {5868561899332094515 3 35}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=36
update matchIndex[0]=35
update leader CommitIndex=35
leader log:
[{snapshot 3 29} {6581655563519547701 3 30} {9013081895807660523 3 31} {8119255354243616703 3 32} {6113854352683524430 3 33} {7141750872636961886 3 34} {5868561899332094515 3 35}]
------------------------------------------------------
client write log 1406285378504162304 (index 36) to leader 2
flag 59142 term 3 leader 2 nextIndex[0]: 36  matchIndex[0]: 35
[{1406285378504162304 3 36}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 3 leaderCommit: 35 
------------------------------------------------------
flag 9139 term 3 leader 2 nextIndex[1]: 36  matchIndex[1]: 35
[{1406285378504162304 3 36}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 3 leaderCommit: 35 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:35 
server 1 log:
[{snapshot 3 29} {6581655563519547701 3 30} {9013081895807660523 3 31} {8119255354243616703 3 32} {6113854352683524430 3 33} {7141750872636961886 3 34} {5868561899332094515 3 35} {1406285378504162304 3 36}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:35 
server 0 log:
[{snapshot 3 29} {6581655563519547701 3 30} {9013081895807660523 3 31} {8119255354243616703 3 32} {6113854352683524430 3 33} {7141750872636961886 3 34} {5868561899332094515 3 35} {1406285378504162304 3 36}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=36
leader log:
[{snapshot 3 29} {6581655563519547701 3 30} {9013081895807660523 3 31} {8119255354243616703 3 32} {6113854352683524430 3 33} {7141750872636961886 3 34} {5868561899332094515 3 35} {1406285378504162304 3 36}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=37
update matchIndex[0]=36
update leader CommitIndex=36
leader log:
[{snapshot 3 29} {6581655563519547701 3 30} {9013081895807660523 3 31} {8119255354243616703 3 32} {6113854352683524430 3 33} {7141750872636961886 3 34} {5868561899332094515 3 35} {1406285378504162304 3 36}]
------------------------------------------------------
flag 18628 term 3 leader 2 nextIndex[0]: 37  matchIndex[0]: 36
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 3 leaderCommit: 36 
------------------------------------------------------
flag 23642 term 3 leader 2 nextIndex[1]: 37  matchIndex[1]: 36
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 3 leaderCommit: 36 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:36 
server 1 log:
[{snapshot 3 29} {6581655563519547701 3 30} {9013081895807660523 3 31} {8119255354243616703 3 32} {6113854352683524430 3 33} {7141750872636961886 3 34} {5868561899332094515 3 35} {1406285378504162304 3 36}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=36
leader log:
[{snapshot 3 29} {6581655563519547701 3 30} {9013081895807660523 3 31} {8119255354243616703 3 32} {6113854352683524430 3 33} {7141750872636961886 3 34} {5868561899332094515 3 35} {1406285378504162304 3 36}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:36 
server 0 log:
[{snapshot 3 29} {6581655563519547701 3 30} {9013081895807660523 3 31} {8119255354243616703 3 32} {6113854352683524430 3 33} {7141750872636961886 3 34} {5868561899332094515 3 35} {1406285378504162304 3 36}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=37
update matchIndex[0]=36
update leader CommitIndex=36
leader log:
[{snapshot 3 29} {6581655563519547701 3 30} {9013081895807660523 3 31} {8119255354243616703 3 32} {6113854352683524430 3 33} {7141750872636961886 3 34} {5868561899332094515 3 35} {1406285378504162304 3 36}]
------------------------------------------------------
client write log 3435938751837017449 (index 37) to leader 2
flag 78527 term 3 leader 2 nextIndex[0]: 37  matchIndex[0]: 36
[{3435938751837017449 3 37}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 3 leaderCommit: 36 
------------------------------------------------------
flag 65170 term 3 leader 2 nextIndex[1]: 37  matchIndex[1]: 36
[{3435938751837017449 3 37}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 3 leaderCommit: 36 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:36 
server 1 log:
[{snapshot 3 29} {6581655563519547701 3 30} {9013081895807660523 3 31} {8119255354243616703 3 32} {6113854352683524430 3 33} {7141750872636961886 3 34} {5868561899332094515 3 35} {1406285378504162304 3 36} {3435938751837017449 3 37}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:36 
server 0 log:
[{snapshot 3 29} {6581655563519547701 3 30} {9013081895807660523 3 31} {8119255354243616703 3 32} {6113854352683524430 3 33} {7141750872636961886 3 34} {5868561899332094515 3 35} {1406285378504162304 3 36} {3435938751837017449 3 37}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=37
leader log:
[{snapshot 3 29} {6581655563519547701 3 30} {9013081895807660523 3 31} {8119255354243616703 3 32} {6113854352683524430 3 33} {7141750872636961886 3 34} {5868561899332094515 3 35} {1406285378504162304 3 36} {3435938751837017449 3 37}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=37
leader log:
[{snapshot 3 29} {6581655563519547701 3 30} {9013081895807660523 3 31} {8119255354243616703 3 32} {6113854352683524430 3 33} {7141750872636961886 3 34} {5868561899332094515 3 35} {1406285378504162304 3 36} {3435938751837017449 3 37}]
------------------------------------------------------
flag 62917 term 3 leader 2 nextIndex[0]: 38  matchIndex[0]: 37
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 3 leaderCommit: 37 
------------------------------------------------------
flag 73917 term 3 leader 2 nextIndex[1]: 38  matchIndex[1]: 37
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 3 leaderCommit: 37 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:37 
server 1 log:
[{snapshot 3 29} {6581655563519547701 3 30} {9013081895807660523 3 31} {8119255354243616703 3 32} {6113854352683524430 3 33} {7141750872636961886 3 34} {5868561899332094515 3 35} {1406285378504162304 3 36} {3435938751837017449 3 37}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=37
leader log:
[{snapshot 3 29} {6581655563519547701 3 30} {9013081895807660523 3 31} {8119255354243616703 3 32} {6113854352683524430 3 33} {7141750872636961886 3 34} {5868561899332094515 3 35} {1406285378504162304 3 36} {3435938751837017449 3 37}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:37 
server 0 log:
[{snapshot 3 29} {6581655563519547701 3 30} {9013081895807660523 3 31} {8119255354243616703 3 32} {6113854352683524430 3 33} {7141750872636961886 3 34} {5868561899332094515 3 35} {1406285378504162304 3 36} {3435938751837017449 3 37}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=37
leader log:
[{snapshot 3 29} {6581655563519547701 3 30} {9013081895807660523 3 31} {8119255354243616703 3 32} {6113854352683524430 3 33} {7141750872636961886 3 34} {5868561899332094515 3 35} {1406285378504162304 3 36} {3435938751837017449 3 37}]
------------------------------------------------------
client write log 3701822847312411285 (index 38) to leader 2
flag 57737 term 3 leader 2 nextIndex[0]: 38  matchIndex[0]: 37
[{3701822847312411285 3 38}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 3 leaderCommit: 37 
------------------------------------------------------
flag 21785 term 3 leader 2 nextIndex[1]: 38  matchIndex[1]: 37
[{3701822847312411285 3 38}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 3 leaderCommit: 37 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:37 
server 1 log:
[{snapshot 3 29} {6581655563519547701 3 30} {9013081895807660523 3 31} {8119255354243616703 3 32} {6113854352683524430 3 33} {7141750872636961886 3 34} {5868561899332094515 3 35} {1406285378504162304 3 36} {3435938751837017449 3 37} {3701822847312411285 3 38}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:37 
server 0 log:
[{snapshot 3 29} {6581655563519547701 3 30} {9013081895807660523 3 31} {8119255354243616703 3 32} {6113854352683524430 3 33} {7141750872636961886 3 34} {5868561899332094515 3 35} {1406285378504162304 3 36} {3435938751837017449 3 37} {3701822847312411285 3 38}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=38
leader log:
[{snapshot 3 29} {6581655563519547701 3 30} {9013081895807660523 3 31} {8119255354243616703 3 32} {6113854352683524430 3 33} {7141750872636961886 3 34} {5868561899332094515 3 35} {1406285378504162304 3 36} {3435938751837017449 3 37} {3701822847312411285 3 38}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=38
leader log:
[{snapshot 3 29} {6581655563519547701 3 30} {9013081895807660523 3 31} {8119255354243616703 3 32} {6113854352683524430 3 33} {7141750872636961886 3 34} {5868561899332094515 3 35} {1406285378504162304 3 36} {3435938751837017449 3 37} {3701822847312411285 3 38}]
------------------------------------------------------
flag 44600 term 3 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 3 leaderCommit: 38 
------------------------------------------------------
flag 9404 term 3 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 3 leaderCommit: 38 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:38 
server 1 log:
[{snapshot 3 29} {6581655563519547701 3 30} {9013081895807660523 3 31} {8119255354243616703 3 32} {6113854352683524430 3 33} {7141750872636961886 3 34} {5868561899332094515 3 35} {1406285378504162304 3 36} {3435938751837017449 3 37} {3701822847312411285 3 38}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:38 
server 0 log:
[{snapshot 3 29} {6581655563519547701 3 30} {9013081895807660523 3 31} {8119255354243616703 3 32} {6113854352683524430 3 33} {7141750872636961886 3 34} {5868561899332094515 3 35} {1406285378504162304 3 36} {3435938751837017449 3 37} {3701822847312411285 3 38}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=38
leader log:
[{snapshot 3 29} {6581655563519547701 3 30} {9013081895807660523 3 31} {8119255354243616703 3 32} {6113854352683524430 3 33} {7141750872636961886 3 34} {5868561899332094515 3 35} {1406285378504162304 3 36} {3435938751837017449 3 37} {3701822847312411285 3 38}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=38
leader log:
[{snapshot 3 29} {6581655563519547701 3 30} {9013081895807660523 3 31} {8119255354243616703 3 32} {6113854352683524430 3 33} {7141750872636961886 3 34} {5868561899332094515 3 35} {1406285378504162304 3 36} {3435938751837017449 3 37} {3701822847312411285 3 38}]
------------------------------------------------------
client write log 2480296639753710539 (index 39) to leader 2
flag 42635 term 3 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
[{2480296639753710539 3 39}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 3 leaderCommit: 38 
------------------------------------------------------
flag 47508 term 3 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
[{2480296639753710539 3 39}]
term 3 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 3 leaderCommit: 38 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:38 
server 1 log:
[{snapshot 3 29} {6581655563519547701 3 30} {9013081895807660523 3 31} {8119255354243616703 3 32} {6113854352683524430 3 33} {7141750872636961886 3 34} {5868561899332094515 3 35} {1406285378504162304 3 36} {3435938751837017449 3 37} {3701822847312411285 3 38} {2480296639753710539 3 39}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=39
leader log:
term 3 server 0 AppendEntries true commitIndex:38 
server 0 log:
[{snapshot 3 29} {6581655563519547701 3 30} {9013081895807660523 3 31} {8119255354243616703 3 32} {6113854352683524430 3 33} {7141750872636961886 3 34} {5868561899332094515 3 35} {1406285378504162304 3 36} {3435938751837017449 3 37} {3701822847312411285 3 38} {2480296639753710539 3 39}]
------------------------------------------------------
[{snapshot 3 29} {6581655563519547701 3 30} {9013081895807660523 3 31} {8119255354243616703 3 32} {6113854352683524430 3 33} {7141750872636961886 3 34} {5868561899332094515 3 35} {1406285378504162304 3 36} {3435938751837017449 3 37} {3701822847312411285 3 38} {2480296639753710539 3 39}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=39
leader log:
[{snapshot 3 29} {6581655563519547701 3 30} {9013081895807660523 3 31} {8119255354243616703 3 32} {6113854352683524430 3 33} {7141750872636961886 3 34} {5868561899332094515 3 35} {1406285378504162304 3 36} {3435938751837017449 3 37} {3701822847312411285 3 38} {2480296639753710539 3 39}]
------------------------------------------------------
term 3 Server2 start snapshot! index=39
term 3 server2 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=39
-------------------------------------------------------------
flag 92174 term 3 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 3 leaderCommit: 39 
------------------------------------------------------
flag 41728 term 3 leader 2 nextIndex[1]: 40  matchIndex[1]: 39
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 3 leaderCommit: 39 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:39 
server 1 log:
[{snapshot 3 29} {6581655563519547701 3 30} {9013081895807660523 3 31} {8119255354243616703 3 32} {6113854352683524430 3 33} {7141750872636961886 3 34} {5868561899332094515 3 35} {1406285378504162304 3 36} {3435938751837017449 3 37} {3701822847312411285 3 38} {2480296639753710539 3 39}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:39 
server 0 log:
[{snapshot 3 29} {6581655563519547701 3 30} {9013081895807660523 3 31} {8119255354243616703 3 32} {6113854352683524430 3 33} {7141750872636961886 3 34} {5868561899332094515 3 35} {1406285378504162304 3 36} {3435938751837017449 3 37} {3701822847312411285 3 38} {2480296639753710539 3 39}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=39
leader log:
[{snapshot 3 39}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=39
leader log:
[{snapshot 3 39}]
------------------------------------------------------
term 3 Server1 start snapshot! index=39
term 3 server1 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=39
-------------------------------------------------------------
term 3 Server0 start snapshot! index=39
term 3 server0 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=39
-------------------------------------------------------------
!!!!!! server 0 crash
!!!!!! server 1 crash
!!!!!! server 2 crash
获取persist信息成功 server 0 currentTerm 3 voteFor 2 logs [{snapshot 3 39}]
!!!!!! server 0 crash
获取persist信息成功 server 1 currentTerm 3 voteFor 2 logs [{snapshot 3 39}]
!!!!!! server 1 crash
获取persist信息成功 server 2 currentTerm 3 voteFor 2 logs [{snapshot 3 39}]
!!!!!! server 2 crash
flag 39787 term 3 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 3 leaderCommit: 39 
------------------------------------------------------
flag 6230 term 3 leader 2 nextIndex[1]: 40  matchIndex[1]: 39
[]
term 3 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 3 leaderCommit: 39 
------------------------------------------------------
term 4 server 2 vote for server 1
term 4 server 0 vote for server 1
term 4 server 1 get vote from server 2
term 4 server 1 become leader
------------------------------------------------------
term 4 server 1 get outdate rpc reply from server 0
client write log 4193516146754428658 (index 40) to leader 1
flag 93788 term 4 leader 1 nextIndex[0]: 40  matchIndex[0]: 0
[{4193516146754428658 4 40}]
term 4 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 3 leaderCommit: 39 
------------------------------------------------------
flag 7989 term 4 leader 1 nextIndex[2]: 40  matchIndex[2]: 0
[{4193516146754428658 4 40}]
term 4 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 3 leaderCommit: 39 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:39 
server 2 log:
[{snapshot 3 39} {4193516146754428658 4 40}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 3 39} {4193516146754428658 4 40}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:39 
server 0 log:
[{snapshot 3 39} {4193516146754428658 4 40}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=40
leader log:
[{snapshot 3 39} {4193516146754428658 4 40}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 40->39
------------------------------------------------------
flag 38820 term 4 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
[]
term 4 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 4 leaderCommit: 40 
------------------------------------------------------
flag 83059 term 4 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
[]
term 4 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 4 leaderCommit: 40 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:40 
server 2 log:
[{snapshot 3 39} {4193516146754428658 4 40}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:40 
server 0 log:
[{snapshot 3 39} {4193516146754428658 4 40}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 3 39} {4193516146754428658 4 40}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=40
leader log:
[{snapshot 3 39} {4193516146754428658 4 40}]
------------------------------------------------------
client write log 7654460947997619099 (index 41) to leader 1
flag 72576 term 4 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
[{7654460947997619099 4 41}]
term 4 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 4 leaderCommit: 40 
------------------------------------------------------
flag 71906 term 4 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
[{7654460947997619099 4 41}]
term 4 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 4 leaderCommit: 40 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:40 
server 2 log:
[{snapshot 3 39} {4193516146754428658 4 40} {7654460947997619099 4 41}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=41
leader log:
[{snapshot 3 39} {4193516146754428658 4 40} {7654460947997619099 4 41}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:40 
server 0 log:
[{snapshot 3 39} {4193516146754428658 4 40} {7654460947997619099 4 41}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=41
leader log:
[{snapshot 3 39} {4193516146754428658 4 40} {7654460947997619099 4 41}]
------------------------------------------------------
flag 11015 term 4 leader 1 nextIndex[0]: 42  matchIndex[0]: 41
[]
term 4 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 4 leaderCommit: 41 
------------------------------------------------------
flag 31704 term 4 leader 1 nextIndex[2]: 42  matchIndex[2]: 41
[]
term 4 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 4 leaderCommit: 41 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:41 
server 2 log:
[{snapshot 3 39} {4193516146754428658 4 40} {7654460947997619099 4 41}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:41 
server 0 log:
[{snapshot 3 39} {4193516146754428658 4 40} {7654460947997619099 4 41}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=41
leader log:
[{snapshot 3 39} {4193516146754428658 4 40} {7654460947997619099 4 41}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=41
leader log:
[{snapshot 3 39} {4193516146754428658 4 40} {7654460947997619099 4 41}]
------------------------------------------------------
client write log 635580680034234103 (index 42) to leader 1
flag 26582 term 4 leader 1 nextIndex[0]: 42  matchIndex[0]: 41
[{635580680034234103 4 42}]
term 4 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 4 leaderCommit: 41 
------------------------------------------------------
flag 40561 term 4 leader 1 nextIndex[2]: 42  matchIndex[2]: 41
[{635580680034234103 4 42}]
term 4 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 4 leaderCommit: 41 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:41 
server 2 log:
[{snapshot 3 39} {4193516146754428658 4 40} {7654460947997619099 4 41} {635580680034234103 4 42}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 3 39} {4193516146754428658 4 40} {7654460947997619099 4 41} {635580680034234103 4 42}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:41 
server 0 log:
[{snapshot 3 39} {4193516146754428658 4 40} {7654460947997619099 4 41} {635580680034234103 4 42}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=42
leader log:
[{snapshot 3 39} {4193516146754428658 4 40} {7654460947997619099 4 41} {635580680034234103 4 42}]
------------------------------------------------------
flag 42751 term 4 leader 1 nextIndex[0]: 43  matchIndex[0]: 42
[]
term 4 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
flag 6992 term 4 leader 1 nextIndex[2]: 43  matchIndex[2]: 42
[]
term 4 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:42 
server 2 log:
[{snapshot 3 39} {4193516146754428658 4 40} {7654460947997619099 4 41} {635580680034234103 4 42}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 3 39} {4193516146754428658 4 40} {7654460947997619099 4 41} {635580680034234103 4 42}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:42 
server 0 log:
[{snapshot 3 39} {4193516146754428658 4 40} {7654460947997619099 4 41} {635580680034234103 4 42}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=42
leader log:
[{snapshot 3 39} {4193516146754428658 4 40} {7654460947997619099 4 41} {635580680034234103 4 42}]
------------------------------------------------------
client write log 8772643059267037013 (index 43) to leader 1
flag 22407 term 4 leader 1 nextIndex[0]: 43  matchIndex[0]: 42
[{8772643059267037013 4 43}]
term 4 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
flag 50352 term 4 leader 1 nextIndex[2]: 43  matchIndex[2]: 42
[{8772643059267037013 4 43}]
term 4 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:42 
server 2 log:
[{snapshot 3 39} {4193516146754428658 4 40} {7654460947997619099 4 41} {635580680034234103 4 42} {8772643059267037013 4 43}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 3 39} {4193516146754428658 4 40} {7654460947997619099 4 41} {635580680034234103 4 42} {8772643059267037013 4 43}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:42 
server 0 log:
[{snapshot 3 39} {4193516146754428658 4 40} {7654460947997619099 4 41} {635580680034234103 4 42} {8772643059267037013 4 43}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=43
leader log:
[{snapshot 3 39} {4193516146754428658 4 40} {7654460947997619099 4 41} {635580680034234103 4 42} {8772643059267037013 4 43}]
------------------------------------------------------
flag 77777 term 4 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
[]
term 4 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
flag 50708 term 4 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
[]
term 4 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:43 
server 2 log:
[{snapshot 3 39} {4193516146754428658 4 40} {7654460947997619099 4 41} {635580680034234103 4 42} {8772643059267037013 4 43}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:43 
server 0 log:
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 3 39} {4193516146754428658 4 40} {7654460947997619099 4 41} {635580680034234103 4 42} {8772643059267037013 4 43}]
------------------------------------------------------
[{snapshot 3 39} {4193516146754428658 4 40} {7654460947997619099 4 41} {635580680034234103 4 42} {8772643059267037013 4 43}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=43
leader log:
[{snapshot 3 39} {4193516146754428658 4 40} {7654460947997619099 4 41} {635580680034234103 4 42} {8772643059267037013 4 43}]
------------------------------------------------------
client write log 8630960896770993101 (index 44) to leader 1
flag 97639 term 4 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
[{8630960896770993101 4 44}]
term 4 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
flag 75201 term 4 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
[{8630960896770993101 4 44}]
term 4 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:43 
server 2 log:
[{snapshot 3 39} {4193516146754428658 4 40} {7654460947997619099 4 41} {635580680034234103 4 42} {8772643059267037013 4 43} {8630960896770993101 4 44}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=44
leader log:
[{snapshot 3 39} {4193516146754428658 4 40} {7654460947997619099 4 41} {635580680034234103 4 42} {8772643059267037013 4 43} {8630960896770993101 4 44}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:43 
server 0 log:
[{snapshot 3 39} {4193516146754428658 4 40} {7654460947997619099 4 41} {635580680034234103 4 42} {8772643059267037013 4 43} {8630960896770993101 4 44}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=44
leader log:
[{snapshot 3 39} {4193516146754428658 4 40} {7654460947997619099 4 41} {635580680034234103 4 42} {8772643059267037013 4 43} {8630960896770993101 4 44}]
------------------------------------------------------
flag 65758 term 4 leader 1 nextIndex[0]: 45  matchIndex[0]: 44
[]
term 4 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 44 
------------------------------------------------------
flag 14913 term 4 leader 1 nextIndex[2]: 45  matchIndex[2]: 44
[]
term 4 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 44 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:44 
server 2 log:
[{snapshot 3 39} {4193516146754428658 4 40} {7654460947997619099 4 41} {635580680034234103 4 42} {8772643059267037013 4 43} {8630960896770993101 4 44}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:44 
server 0 log:
[{snapshot 3 39} {4193516146754428658 4 40} {7654460947997619099 4 41} {635580680034234103 4 42} {8772643059267037013 4 43} {8630960896770993101 4 44}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=44
leader log:
[{snapshot 3 39} {4193516146754428658 4 40} {7654460947997619099 4 41} {635580680034234103 4 42} {8772643059267037013 4 43} {8630960896770993101 4 44}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=44
leader log:
[{snapshot 3 39} {4193516146754428658 4 40} {7654460947997619099 4 41} {635580680034234103 4 42} {8772643059267037013 4 43} {8630960896770993101 4 44}]
------------------------------------------------------
client write log 2570216408507170540 (index 45) to leader 1
flag 35979 term 4 leader 1 nextIndex[0]: 45  matchIndex[0]: 44
[{2570216408507170540 4 45}]
term 4 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 44 
------------------------------------------------------
flag 21167 term 4 leader 1 nextIndex[2]: 45  matchIndex[2]: 44
[{2570216408507170540 4 45}]
term 4 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 44 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:44 
server 2 log:
[{snapshot 3 39} {4193516146754428658 4 40} {7654460947997619099 4 41} {635580680034234103 4 42} {8772643059267037013 4 43} {8630960896770993101 4 44} {2570216408507170540 4 45}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 3 39} {4193516146754428658 4 40} {7654460947997619099 4 41} {635580680034234103 4 42} {8772643059267037013 4 43} {8630960896770993101 4 44} {2570216408507170540 4 45}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:44 
server 0 log:
[{snapshot 3 39} {4193516146754428658 4 40} {7654460947997619099 4 41} {635580680034234103 4 42} {8772643059267037013 4 43} {8630960896770993101 4 44} {2570216408507170540 4 45}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=45
leader log:
[{snapshot 3 39} {4193516146754428658 4 40} {7654460947997619099 4 41} {635580680034234103 4 42} {8772643059267037013 4 43} {8630960896770993101 4 44} {2570216408507170540 4 45}]
------------------------------------------------------
flag 30 term 4 leader 1 nextIndex[0]: 46  matchIndex[0]: 45
[]
term 4 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 4 leaderCommit: 45 
------------------------------------------------------
flag 24668 term 4 leader 1 nextIndex[2]: 46  matchIndex[2]: 45
[]
term 4 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 4 leaderCommit: 45 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:45 
server 2 log:
[{snapshot 3 39} {4193516146754428658 4 40} {7654460947997619099 4 41} {635580680034234103 4 42} {8772643059267037013 4 43} {8630960896770993101 4 44} {2570216408507170540 4 45}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:45 
server 0 log:
[{snapshot 3 39} {4193516146754428658 4 40} {7654460947997619099 4 41} {635580680034234103 4 42} {8772643059267037013 4 43} {8630960896770993101 4 44} {2570216408507170540 4 45}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 3 39} {4193516146754428658 4 40} {7654460947997619099 4 41} {635580680034234103 4 42} {8772643059267037013 4 43} {8630960896770993101 4 44} {2570216408507170540 4 45}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=45
leader log:
[{snapshot 3 39} {4193516146754428658 4 40} {7654460947997619099 4 41} {635580680034234103 4 42} {8772643059267037013 4 43} {8630960896770993101 4 44} {2570216408507170540 4 45}]
------------------------------------------------------
client write log 8036314863313931477 (index 46) to leader 1
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 40->39
------------------------------------------------------
flag 53950 term 4 leader 1 nextIndex[0]: 46  matchIndex[0]: 45
[{8036314863313931477 4 46}]
term 4 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 4 leaderCommit: 45 
------------------------------------------------------
flag 38406 term 4 leader 1 nextIndex[2]: 46  matchIndex[2]: 45
[{8036314863313931477 4 46}]
term 4 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 4 leaderCommit: 45 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:45 
server 2 log:
[{snapshot 3 39} {4193516146754428658 4 40} {7654460947997619099 4 41} {635580680034234103 4 42} {8772643059267037013 4 43} {8630960896770993101 4 44} {2570216408507170540 4 45} {8036314863313931477 4 46}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:45 
server 0 log:
[{snapshot 3 39} {4193516146754428658 4 40} {7654460947997619099 4 41} {635580680034234103 4 42} {8772643059267037013 4 43} {8630960896770993101 4 44} {2570216408507170540 4 45} {8036314863313931477 4 46}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=47
update matchIndex[2]=46
update leader CommitIndex=46
leader log:
[{snapshot 3 39} {4193516146754428658 4 40} {7654460947997619099 4 41} {635580680034234103 4 42} {8772643059267037013 4 43} {8630960896770993101 4 44} {2570216408507170540 4 45} {8036314863313931477 4 46}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=47
update matchIndex[0]=46
update leader CommitIndex=46
leader log:
[{snapshot 3 39} {4193516146754428658 4 40} {7654460947997619099 4 41} {635580680034234103 4 42} {8772643059267037013 4 43} {8630960896770993101 4 44} {2570216408507170540 4 45} {8036314863313931477 4 46}]
------------------------------------------------------
flag 41906 term 4 leader 1 nextIndex[0]: 47  matchIndex[0]: 46
[]
term 4 leader 1 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 4 leaderCommit: 46 
------------------------------------------------------
flag 80726 term 4 leader 1 nextIndex[2]: 47  matchIndex[2]: 46
[]
term 4 leader 1 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 4 leaderCommit: 46 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:46 
server 2 log:
[{snapshot 3 39} {4193516146754428658 4 40} {7654460947997619099 4 41} {635580680034234103 4 42} {8772643059267037013 4 43} {8630960896770993101 4 44} {2570216408507170540 4 45} {8036314863313931477 4 46}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=47
update matchIndex[2]=46
update leader CommitIndex=46
leader log:
[{snapshot 3 39} {4193516146754428658 4 40} {7654460947997619099 4 41} {635580680034234103 4 42} {8772643059267037013 4 43} {8630960896770993101 4 44} {2570216408507170540 4 45} {8036314863313931477 4 46}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:46 
server 0 log:
[{snapshot 3 39} {4193516146754428658 4 40} {7654460947997619099 4 41} {635580680034234103 4 42} {8772643059267037013 4 43} {8630960896770993101 4 44} {2570216408507170540 4 45} {8036314863313931477 4 46}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=47
update matchIndex[0]=46
update leader CommitIndex=46
leader log:
[{snapshot 3 39} {4193516146754428658 4 40} {7654460947997619099 4 41} {635580680034234103 4 42} {8772643059267037013 4 43} {8630960896770993101 4 44} {2570216408507170540 4 45} {8036314863313931477 4 46}]
------------------------------------------------------
client write log 4001683587585774565 (index 47) to leader 1
flag 91329 term 4 leader 1 nextIndex[0]: 47  matchIndex[0]: 46
[{4001683587585774565 4 47}]
term 4 leader 1 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 4 leaderCommit: 46 
------------------------------------------------------
flag 44663 term 4 leader 1 nextIndex[2]: 47  matchIndex[2]: 46
[{4001683587585774565 4 47}]
term 4 leader 1 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 4 leaderCommit: 46 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:46 
server 2 log:
[{snapshot 3 39} {4193516146754428658 4 40} {7654460947997619099 4 41} {635580680034234103 4 42} {8772643059267037013 4 43} {8630960896770993101 4 44} {2570216408507170540 4 45} {8036314863313931477 4 46} {4001683587585774565 4 47}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
term 4 server 0 AppendEntries true commitIndex:46 
server 0 log:
update nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=47
leader log:
[{snapshot 3 39} {4193516146754428658 4 40} {7654460947997619099 4 41} {635580680034234103 4 42} {8772643059267037013 4 43} {8630960896770993101 4 44} {2570216408507170540 4 45} {8036314863313931477 4 46} {4001683587585774565 4 47}]
------------------------------------------------------
[{snapshot 3 39} {4193516146754428658 4 40} {7654460947997619099 4 41} {635580680034234103 4 42} {8772643059267037013 4 43} {8630960896770993101 4 44} {2570216408507170540 4 45} {8036314863313931477 4 46} {4001683587585774565 4 47}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=47
leader log:
[{snapshot 3 39} {4193516146754428658 4 40} {7654460947997619099 4 41} {635580680034234103 4 42} {8772643059267037013 4 43} {8630960896770993101 4 44} {2570216408507170540 4 45} {8036314863313931477 4 46} {4001683587585774565 4 47}]
------------------------------------------------------
flag 80706 term 4 leader 1 nextIndex[0]: 48  matchIndex[0]: 47
[]
term 4 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 4 leaderCommit: 47 
------------------------------------------------------
flag 7976 term 4 leader 1 nextIndex[2]: 48  matchIndex[2]: 47
[]
term 4 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 4 leaderCommit: 47 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:47 
server 2 log:
[{snapshot 3 39} {4193516146754428658 4 40} {7654460947997619099 4 41} {635580680034234103 4 42} {8772643059267037013 4 43} {8630960896770993101 4 44} {2570216408507170540 4 45} {8036314863313931477 4 46} {4001683587585774565 4 47}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=47
leader log:
[{snapshot 3 39} {4193516146754428658 4 40} {7654460947997619099 4 41} {635580680034234103 4 42} {8772643059267037013 4 43} {8630960896770993101 4 44} {2570216408507170540 4 45} {8036314863313931477 4 46} {4001683587585774565 4 47}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:47 
server 0 log:
[{snapshot 3 39} {4193516146754428658 4 40} {7654460947997619099 4 41} {635580680034234103 4 42} {8772643059267037013 4 43} {8630960896770993101 4 44} {2570216408507170540 4 45} {8036314863313931477 4 46} {4001683587585774565 4 47}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=47
leader log:
[{snapshot 3 39} {4193516146754428658 4 40} {7654460947997619099 4 41} {635580680034234103 4 42} {8772643059267037013 4 43} {8630960896770993101 4 44} {2570216408507170540 4 45} {8036314863313931477 4 46} {4001683587585774565 4 47}]
------------------------------------------------------
client write log 828184347740947663 (index 48) to leader 1
flag 25830 term 4 leader 1 nextIndex[0]: 48  matchIndex[0]: 47
[{828184347740947663 4 48}]
term 4 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 4 leaderCommit: 47 
------------------------------------------------------
flag 55424 term 4 leader 1 nextIndex[2]: 48  matchIndex[2]: 47
[{828184347740947663 4 48}]
term 4 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 4 leaderCommit: 47 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:47 
server 2 log:
[{snapshot 3 39} {4193516146754428658 4 40} {7654460947997619099 4 41} {635580680034234103 4 42} {8772643059267037013 4 43} {8630960896770993101 4 44} {2570216408507170540 4 45} {8036314863313931477 4 46} {4001683587585774565 4 47} {828184347740947663 4 48}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:47 
server 0 log:
[{snapshot 3 39} {4193516146754428658 4 40} {7654460947997619099 4 41} {635580680034234103 4 42} {8772643059267037013 4 43} {8630960896770993101 4 44} {2570216408507170540 4 45} {8036314863313931477 4 46} {4001683587585774565 4 47} {828184347740947663 4 48}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=48
leader log:
[{snapshot 3 39} {4193516146754428658 4 40} {7654460947997619099 4 41} {635580680034234103 4 42} {8772643059267037013 4 43} {8630960896770993101 4 44} {2570216408507170540 4 45} {8036314863313931477 4 46} {4001683587585774565 4 47} {828184347740947663 4 48}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=48
leader log:
[{snapshot 3 39} {4193516146754428658 4 40} {7654460947997619099 4 41} {635580680034234103 4 42} {8772643059267037013 4 43} {8630960896770993101 4 44} {2570216408507170540 4 45} {8036314863313931477 4 46} {4001683587585774565 4 47} {828184347740947663 4 48}]
------------------------------------------------------
flag 47454 term 4 leader 1 nextIndex[0]: 49  matchIndex[0]: 48
[]
term 4 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 4 leaderCommit: 48 
------------------------------------------------------
flag 73868 term 4 leader 1 nextIndex[2]: 49  matchIndex[2]: 48
[]
term 4 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 4 leaderCommit: 48 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:48 
server 2 log:
[{snapshot 3 39} {4193516146754428658 4 40} {7654460947997619099 4 41} {635580680034234103 4 42} {8772643059267037013 4 43} {8630960896770993101 4 44} {2570216408507170540 4 45} {8036314863313931477 4 46} {4001683587585774565 4 47} {828184347740947663 4 48}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:48 
server 0 log:
[{snapshot 3 39} {4193516146754428658 4 40} {7654460947997619099 4 41} {635580680034234103 4 42} {8772643059267037013 4 43} {8630960896770993101 4 44} {2570216408507170540 4 45} {8036314863313931477 4 46} {4001683587585774565 4 47} {828184347740947663 4 48}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=48
leader log:
[{snapshot 3 39} {4193516146754428658 4 40} {7654460947997619099 4 41} {635580680034234103 4 42} {8772643059267037013 4 43} {8630960896770993101 4 44} {2570216408507170540 4 45} {8036314863313931477 4 46} {4001683587585774565 4 47} {828184347740947663 4 48}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=48
leader log:
[{snapshot 3 39} {4193516146754428658 4 40} {7654460947997619099 4 41} {635580680034234103 4 42} {8772643059267037013 4 43} {8630960896770993101 4 44} {2570216408507170540 4 45} {8036314863313931477 4 46} {4001683587585774565 4 47} {828184347740947663 4 48}]
------------------------------------------------------
client write log 7587919933387401157 (index 49) to leader 1
flag 53079 term 4 leader 1 nextIndex[0]: 49  matchIndex[0]: 48
[{7587919933387401157 4 49}]
term 4 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 4 leaderCommit: 48 
------------------------------------------------------
flag 52287 term 4 leader 1 nextIndex[2]: 49  matchIndex[2]: 48
[{7587919933387401157 4 49}]
term 4 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 4 leaderCommit: 48 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:48 
server 2 log:
[{snapshot 3 39} {4193516146754428658 4 40} {7654460947997619099 4 41} {635580680034234103 4 42} {8772643059267037013 4 43} {8630960896770993101 4 44} {2570216408507170540 4 45} {8036314863313931477 4 46} {4001683587585774565 4 47} {828184347740947663 4 48} {7587919933387401157 4 49}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=49
leader log:
[{snapshot 3 39} {4193516146754428658 4 40} {7654460947997619099 4 41} {635580680034234103 4 42} {8772643059267037013 4 43} {8630960896770993101 4 44} {2570216408507170540 4 45} {8036314863313931477 4 46} {4001683587585774565 4 47} {828184347740947663 4 48} {7587919933387401157 4 49}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:48 
server 0 log:
[{snapshot 3 39} {4193516146754428658 4 40} {7654460947997619099 4 41} {635580680034234103 4 42} {8772643059267037013 4 43} {8630960896770993101 4 44} {2570216408507170540 4 45} {8036314863313931477 4 46} {4001683587585774565 4 47} {828184347740947663 4 48} {7587919933387401157 4 49}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=49
leader log:
[{snapshot 3 39} {4193516146754428658 4 40} {7654460947997619099 4 41} {635580680034234103 4 42} {8772643059267037013 4 43} {8630960896770993101 4 44} {2570216408507170540 4 45} {8036314863313931477 4 46} {4001683587585774565 4 47} {828184347740947663 4 48} {7587919933387401157 4 49}]
------------------------------------------------------
term 4 Server1 start snapshot! index=49
term 4 server1 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=49
-------------------------------------------------------------
flag 72224 term 4 leader 1 nextIndex[0]: 50  matchIndex[0]: 49
[]
term 4 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 4 leaderCommit: 49 
------------------------------------------------------
flag 98109 term 4 leader 1 nextIndex[2]: 50  matchIndex[2]: 49
[]
term 4 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 4 leaderCommit: 49 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:49 
server 2 log:
[{snapshot 3 39} {4193516146754428658 4 40} {7654460947997619099 4 41} {635580680034234103 4 42} {8772643059267037013 4 43} {8630960896770993101 4 44} {2570216408507170540 4 45} {8036314863313931477 4 46} {4001683587585774565 4 47} {828184347740947663 4 48} {7587919933387401157 4 49}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=49
leader log:
[{snapshot 4 49}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:49 
server 0 log:
[{snapshot 3 39} {4193516146754428658 4 40} {7654460947997619099 4 41} {635580680034234103 4 42} {8772643059267037013 4 43} {8630960896770993101 4 44} {2570216408507170540 4 45} {8036314863313931477 4 46} {4001683587585774565 4 47} {828184347740947663 4 48} {7587919933387401157 4 49}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=49
leader log:
[{snapshot 4 49}]
------------------------------------------------------
term 4 Server2 start snapshot! index=49
term 4 server2 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=49
-------------------------------------------------------------
term 4 Server0 start snapshot! index=49
term 4 server0 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=49
-------------------------------------------------------------
client write log 1039600415434101753 (index 50) to leader 1
flag 1534 term 4 leader 1 nextIndex[0]: 50  matchIndex[0]: 49
[{1039600415434101753 4 50}]
term 4 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 4 leaderCommit: 49 
------------------------------------------------------
flag 52457 term 4 leader 1 nextIndex[2]: 50  matchIndex[2]: 49
[{1039600415434101753 4 50}]
term 4 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 4 leaderCommit: 49 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:49 
server 2 log:
[{snapshot 4 49} {1039600415434101753 4 50}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 4 49} {1039600415434101753 4 50}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:49 
server 0 log:
[{snapshot 4 49} {1039600415434101753 4 50}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=51
update matchIndex[0]=50
update leader CommitIndex=50
leader log:
[{snapshot 4 49} {1039600415434101753 4 50}]
------------------------------------------------------
flag 7040 term 4 leader 1 nextIndex[0]: 51  matchIndex[0]: 50
[]
term 4 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 4 leaderCommit: 50 
------------------------------------------------------
flag 48420 term 4 leader 1 nextIndex[2]: 51  matchIndex[2]: 50
[]
term 4 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 4 leaderCommit: 50 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:50 
server 0 log:
[{snapshot 4 49} {1039600415434101753 4 50}]
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:50 
server 2 log:
[{snapshot 4 49} {1039600415434101753 4 50}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=51
update matchIndex[0]=50
update leader CommitIndex=50
leader log:
[{snapshot 4 49} {1039600415434101753 4 50}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 4 49} {1039600415434101753 4 50}]
------------------------------------------------------
client write log 7714993247740322480 (index 51) to leader 1
flag 71288 term 4 leader 1 nextIndex[0]: 51  matchIndex[0]: 50
[{7714993247740322480 4 51}]
term 4 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 4 leaderCommit: 50 
------------------------------------------------------
flag 37422 term 4 leader 1 nextIndex[2]: 51  matchIndex[2]: 50
[{7714993247740322480 4 51}]
term 4 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 4 leaderCommit: 50 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:50 
server 2 log:
[{snapshot 4 49} {1039600415434101753 4 50} {7714993247740322480 4 51}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:50 
server 0 log:
[{snapshot 4 49} {1039600415434101753 4 50} {7714993247740322480 4 51}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=51
leader log:
[{snapshot 4 49} {1039600415434101753 4 50} {7714993247740322480 4 51}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=51
leader log:
[{snapshot 4 49} {1039600415434101753 4 50} {7714993247740322480 4 51}]
------------------------------------------------------
flag 31162 term 4 leader 1 nextIndex[0]: 52  matchIndex[0]: 51
[]
term 4 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 4 leaderCommit: 51 
------------------------------------------------------
flag 94128 term 4 leader 1 nextIndex[2]: 52  matchIndex[2]: 51
[]
term 4 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 4 leaderCommit: 51 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:51 
server 2 log:
[{snapshot 4 49} {1039600415434101753 4 50} {7714993247740322480 4 51}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:51 
server 0 log:
[{snapshot 4 49} {1039600415434101753 4 50} {7714993247740322480 4 51}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=51
leader log:
[{snapshot 4 49} {1039600415434101753 4 50} {7714993247740322480 4 51}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=51
leader log:
[{snapshot 4 49} {1039600415434101753 4 50} {7714993247740322480 4 51}]
------------------------------------------------------
!!!!!! server 0 crash
!!!!!! server 1 crash
!!!!!! server 2 crash
获取persist信息成功 server 0 currentTerm 4 voteFor 1 logs [{snapshot 4 49} {1039600415434101753 4 50} {7714993247740322480 4 51}]
!!!!!! server 0 crash
获取persist信息成功 server 1 currentTerm 4 voteFor 1 logs [{snapshot 4 49} {1039600415434101753 4 50} {7714993247740322480 4 51}]
!!!!!! server 1 crash
获取persist信息成功 server 2 currentTerm 4 voteFor 1 logs [{snapshot 4 49} {1039600415434101753 4 50} {7714993247740322480 4 51}]
!!!!!! server 2 crash
flag 83046 term 4 leader 1 nextIndex[0]: 52  matchIndex[0]: 51
[]
term 4 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 4 leaderCommit: 51 
------------------------------------------------------
flag 30144 term 4 leader 1 nextIndex[2]: 52  matchIndex[2]: 51
[]
term 4 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 4 leaderCommit: 51 
------------------------------------------------------
term 5 server 2 vote for server 1
term 5 server 0 vote for server 1
term 5 server 1 get vote from server 2
term 5 server 1 become leader
------------------------------------------------------
term 5 server 1 get outdate rpc reply from server 0
flag 17614 term 5 leader 1 nextIndex[0]: 52  matchIndex[0]: 0
[]
term 5 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 4 leaderCommit: 49 
------------------------------------------------------
flag 81758 term 5 leader 1 nextIndex[2]: 52  matchIndex[2]: 0
[]
term 5 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 4 leaderCommit: 49 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:49 
server 2 log:
[{snapshot 4 49} {1039600415434101753 4 50} {7714993247740322480 4 51}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=49
leader log:
[{snapshot 4 49} {1039600415434101753 4 50} {7714993247740322480 4 51}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:49 
server 0 log:
[{snapshot 4 49} {1039600415434101753 4 50} {7714993247740322480 4 51}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=49
leader log:
[{snapshot 4 49} {1039600415434101753 4 50} {7714993247740322480 4 51}]
------------------------------------------------------
client write log 216406691094778360 (index 52) to leader 1
flag 51590 term 5 leader 1 nextIndex[0]: 52  matchIndex[0]: 51
[{216406691094778360 5 52}]
term 5 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 4 leaderCommit: 49 
------------------------------------------------------
flag 19542 term 5 leader 1 nextIndex[2]: 52  matchIndex[2]: 51
[{216406691094778360 5 52}]
term 5 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 4 leaderCommit: 49 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:49 
server 2 log:
[{snapshot 4 49} {1039600415434101753 4 50} {7714993247740322480 4 51} {216406691094778360 5 52}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:49 
server 0 log:
[{snapshot 4 49} {1039600415434101753 4 50} {7714993247740322480 4 51} {216406691094778360 5 52}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 4 49} {1039600415434101753 4 50} {7714993247740322480 4 51} {216406691094778360 5 52}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=52
leader log:
[{snapshot 4 49} {1039600415434101753 4 50} {7714993247740322480 4 51} {216406691094778360 5 52}]
------------------------------------------------------
flag 53682 term 5 leader 1 nextIndex[0]: 53  matchIndex[0]: 52
[]
term 5 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 5 leaderCommit: 52 
------------------------------------------------------
flag 33873 term 5 leader 1 nextIndex[2]: 53  matchIndex[2]: 52
[]
term 5 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 5 leaderCommit: 52 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:52 
server 2 log:
[{snapshot 4 49} {1039600415434101753 4 50} {7714993247740322480 4 51} {216406691094778360 5 52}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:52 
server 0 log:
[{snapshot 4 49} {1039600415434101753 4 50} {7714993247740322480 4 51} {216406691094778360 5 52}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 4 49} {1039600415434101753 4 50} {7714993247740322480 4 51} {216406691094778360 5 52}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=52
leader log:
[{snapshot 4 49} {1039600415434101753 4 50} {7714993247740322480 4 51} {216406691094778360 5 52}]
------------------------------------------------------
client write log 3231061271716617467 (index 53) to leader 1
flag 43733 term 5 leader 1 nextIndex[0]: 53  matchIndex[0]: 52
[{3231061271716617467 5 53}]
term 5 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 5 leaderCommit: 52 
------------------------------------------------------
flag 4718 term 5 leader 1 nextIndex[2]: 53  matchIndex[2]: 52
[{3231061271716617467 5 53}]
term 5 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 5 leaderCommit: 52 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:52 
server 2 log:
[{snapshot 4 49} {1039600415434101753 4 50} {7714993247740322480 4 51} {216406691094778360 5 52} {3231061271716617467 5 53}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:52 
server 0 log:
[{snapshot 4 49} {1039600415434101753 4 50} {7714993247740322480 4 51} {216406691094778360 5 52} {3231061271716617467 5 53}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=53
leader log:
[{snapshot 4 49} {1039600415434101753 4 50} {7714993247740322480 4 51} {216406691094778360 5 52} {3231061271716617467 5 53}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 4 49} {1039600415434101753 4 50} {7714993247740322480 4 51} {216406691094778360 5 52} {3231061271716617467 5 53}]
------------------------------------------------------
flag 68209 term 5 leader 1 nextIndex[0]: 54  matchIndex[0]: 53
[]
term 5 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 5 leaderCommit: 53 
------------------------------------------------------
flag 41945 term 5 leader 1 nextIndex[2]: 54  matchIndex[2]: 53
[]
term 5 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 5 leaderCommit: 53 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:53 
server 2 log:
[{snapshot 4 49} {1039600415434101753 4 50} {7714993247740322480 4 51} {216406691094778360 5 52} {3231061271716617467 5 53}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=53
leader log:
[{snapshot 4 49} {1039600415434101753 4 50} {7714993247740322480 4 51} {216406691094778360 5 52} {3231061271716617467 5 53}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:53 
server 0 log:
[{snapshot 4 49} {1039600415434101753 4 50} {7714993247740322480 4 51} {216406691094778360 5 52} {3231061271716617467 5 53}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 4 49} {1039600415434101753 4 50} {7714993247740322480 4 51} {216406691094778360 5 52} {3231061271716617467 5 53}]
------------------------------------------------------
client write log 2884374488026331976 (index 54) to leader 1
flag 94057 term 5 leader 1 nextIndex[0]: 54  matchIndex[0]: 53
[{2884374488026331976 5 54}]
term 5 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 5 leaderCommit: 53 
------------------------------------------------------
flag 105 term 5 leader 1 nextIndex[2]: 54  matchIndex[2]: 53
[{2884374488026331976 5 54}]
term 5 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 5 leaderCommit: 53 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:53 
server 2 log:
[{snapshot 4 49} {1039600415434101753 4 50} {7714993247740322480 4 51} {216406691094778360 5 52} {3231061271716617467 5 53} {2884374488026331976 5 54}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=54
leader log:
[{snapshot 4 49} {1039600415434101753 4 50} {7714993247740322480 4 51} {216406691094778360 5 52} {3231061271716617467 5 53} {2884374488026331976 5 54}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:53 
server 0 log:
[{snapshot 4 49} {1039600415434101753 4 50} {7714993247740322480 4 51} {216406691094778360 5 52} {3231061271716617467 5 53} {2884374488026331976 5 54}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=54
leader log:
[{snapshot 4 49} {1039600415434101753 4 50} {7714993247740322480 4 51} {216406691094778360 5 52} {3231061271716617467 5 53} {2884374488026331976 5 54}]
------------------------------------------------------
flag 8668 term 5 leader 1 nextIndex[0]: 55  matchIndex[0]: 54
[]
term 5 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 5 leaderCommit: 54 
------------------------------------------------------
flag 45211 term 5 leader 1 nextIndex[2]: 55  matchIndex[2]: 54
[]
term 5 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 5 leaderCommit: 54 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:54 
server 2 log:
[{snapshot 4 49} {1039600415434101753 4 50} {7714993247740322480 4 51} {216406691094778360 5 52} {3231061271716617467 5 53} {2884374488026331976 5 54}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:54 
server 0 log:
[{snapshot 4 49} {1039600415434101753 4 50} {7714993247740322480 4 51} {216406691094778360 5 52} {3231061271716617467 5 53} {2884374488026331976 5 54}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=54
leader log:
[{snapshot 4 49} {1039600415434101753 4 50} {7714993247740322480 4 51} {216406691094778360 5 52} {3231061271716617467 5 53} {2884374488026331976 5 54}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=54
leader log:
[{snapshot 4 49} {1039600415434101753 4 50} {7714993247740322480 4 51} {216406691094778360 5 52} {3231061271716617467 5 53} {2884374488026331976 5 54}]
------------------------------------------------------
client write log 259400336862164774 (index 55) to leader 1
flag 25468 term 5 leader 1 nextIndex[0]: 55  matchIndex[0]: 54
[{259400336862164774 5 55}]
term 5 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 5 leaderCommit: 54 
------------------------------------------------------
flag 10895 term 5 leader 1 nextIndex[2]: 55  matchIndex[2]: 54
[{259400336862164774 5 55}]
term 5 leader 1 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 5 leaderCommit: 54 
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:54 
server 0 log:
[{snapshot 4 49} {1039600415434101753 4 50} {7714993247740322480 4 51} {216406691094778360 5 52} {3231061271716617467 5 53} {2884374488026331976 5 54} {259400336862164774 5 55}]
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:54 
server 2 log:
[{snapshot 4 49} {1039600415434101753 4 50} {7714993247740322480 4 51} {216406691094778360 5 52} {3231061271716617467 5 53} {2884374488026331976 5 54} {259400336862164774 5 55}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=55
leader log:
[{snapshot 4 49} {1039600415434101753 4 50} {7714993247740322480 4 51} {216406691094778360 5 52} {3231061271716617467 5 53} {2884374488026331976 5 54} {259400336862164774 5 55}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=55
leader log:
[{snapshot 4 49} {1039600415434101753 4 50} {7714993247740322480 4 51} {216406691094778360 5 52} {3231061271716617467 5 53} {2884374488026331976 5 54} {259400336862164774 5 55}]
------------------------------------------------------
flag 82935 term 5 leader 1 nextIndex[0]: 56  matchIndex[0]: 55
[]
term 5 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 5 leaderCommit: 55 
------------------------------------------------------
flag 39269 term 5 leader 1 nextIndex[2]: 56  matchIndex[2]: 55
[]
term 5 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 5 leaderCommit: 55 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:55 
server 2 log:
[{snapshot 4 49} {1039600415434101753 4 50} {7714993247740322480 4 51} {216406691094778360 5 52} {3231061271716617467 5 53} {2884374488026331976 5 54} {259400336862164774 5 55}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:55 
server 0 log:
[{snapshot 4 49} {1039600415434101753 4 50} {7714993247740322480 4 51} {216406691094778360 5 52} {3231061271716617467 5 53} {2884374488026331976 5 54} {259400336862164774 5 55}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=55
leader log:
[{snapshot 4 49} {1039600415434101753 4 50} {7714993247740322480 4 51} {216406691094778360 5 52} {3231061271716617467 5 53} {2884374488026331976 5 54} {259400336862164774 5 55}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=55
leader log:
[{snapshot 4 49} {1039600415434101753 4 50} {7714993247740322480 4 51} {216406691094778360 5 52} {3231061271716617467 5 53} {2884374488026331976 5 54} {259400336862164774 5 55}]
------------------------------------------------------
client write log 6756330845597481860 (index 56) to leader 1
flag 10385 term 5 leader 1 nextIndex[0]: 56  matchIndex[0]: 55
[{6756330845597481860 5 56}]
term 5 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 5 leaderCommit: 55 
------------------------------------------------------
flag 69828 term 5 leader 1 nextIndex[2]: 56  matchIndex[2]: 55
[{6756330845597481860 5 56}]
term 5 leader 1 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 5 leaderCommit: 55 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:55 
server 2 log:
[{snapshot 4 49} {1039600415434101753 4 50} {7714993247740322480 4 51} {216406691094778360 5 52} {3231061271716617467 5 53} {2884374488026331976 5 54} {259400336862164774 5 55} {6756330845597481860 5 56}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:55 
server 0 log:
[{snapshot 4 49} {1039600415434101753 4 50} {7714993247740322480 4 51} {216406691094778360 5 52} {3231061271716617467 5 53} {2884374488026331976 5 54} {259400336862164774 5 55} {6756330845597481860 5 56}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=56
leader log:
[{snapshot 4 49} {1039600415434101753 4 50} {7714993247740322480 4 51} {216406691094778360 5 52} {3231061271716617467 5 53} {2884374488026331976 5 54} {259400336862164774 5 55} {6756330845597481860 5 56}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=56
leader log:
[{snapshot 4 49} {1039600415434101753 4 50} {7714993247740322480 4 51} {216406691094778360 5 52} {3231061271716617467 5 53} {2884374488026331976 5 54} {259400336862164774 5 55} {6756330845597481860 5 56}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 27->26
------------------------------------------------------
flag 532 term 5 leader 1 nextIndex[0]: 57  matchIndex[0]: 56
[]
term 5 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 5 leaderCommit: 56 
------------------------------------------------------
flag 9553 term 5 leader 1 nextIndex[2]: 57  matchIndex[2]: 56
[]
term 5 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 5 leaderCommit: 56 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:56 
server 2 log:
[{snapshot 4 49} {1039600415434101753 4 50} {7714993247740322480 4 51} {216406691094778360 5 52} {3231061271716617467 5 53} {2884374488026331976 5 54} {259400336862164774 5 55} {6756330845597481860 5 56}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:56 
server 0 log:
[{snapshot 4 49} {1039600415434101753 4 50} {7714993247740322480 4 51} {216406691094778360 5 52} {3231061271716617467 5 53} {2884374488026331976 5 54} {259400336862164774 5 55} {6756330845597481860 5 56}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=56
leader log:
[{snapshot 4 49} {1039600415434101753 4 50} {7714993247740322480 4 51} {216406691094778360 5 52} {3231061271716617467 5 53} {2884374488026331976 5 54} {259400336862164774 5 55} {6756330845597481860 5 56}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=56
leader log:
[{snapshot 4 49} {1039600415434101753 4 50} {7714993247740322480 4 51} {216406691094778360 5 52} {3231061271716617467 5 53} {2884374488026331976 5 54} {259400336862164774 5 55} {6756330845597481860 5 56}]
------------------------------------------------------
client write log 7900781351931648339 (index 57) to leader 1
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 27->26
------------------------------------------------------
flag 12302 term 5 leader 1 nextIndex[0]: 57  matchIndex[0]: 56
[{7900781351931648339 5 57}]
term 5 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 5 leaderCommit: 56 
------------------------------------------------------
flag 44904 term 5 leader 1 nextIndex[2]: 57  matchIndex[2]: 56
[{7900781351931648339 5 57}]
term 5 leader 1 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 5 leaderCommit: 56 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:56 
server 2 log:
[{snapshot 4 49} {1039600415434101753 4 50} {7714993247740322480 4 51} {216406691094778360 5 52} {3231061271716617467 5 53} {2884374488026331976 5 54} {259400336862164774 5 55} {6756330845597481860 5 56} {7900781351931648339 5 57}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 4 49} {1039600415434101753 4 50} {7714993247740322480 4 51} {216406691094778360 5 52} {3231061271716617467 5 53} {2884374488026331976 5 54} {259400336862164774 5 55} {6756330845597481860 5 56} {7900781351931648339 5 57}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:56 
server 0 log:
[{snapshot 4 49} {1039600415434101753 4 50} {7714993247740322480 4 51} {216406691094778360 5 52} {3231061271716617467 5 53} {2884374488026331976 5 54} {259400336862164774 5 55} {6756330845597481860 5 56} {7900781351931648339 5 57}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=58
update matchIndex[0]=57
update leader CommitIndex=57
leader log:
[{snapshot 4 49} {1039600415434101753 4 50} {7714993247740322480 4 51} {216406691094778360 5 52} {3231061271716617467 5 53} {2884374488026331976 5 54} {259400336862164774 5 55} {6756330845597481860 5 56} {7900781351931648339 5 57}]
------------------------------------------------------
flag 32797 term 5 leader 1 nextIndex[0]: 58  matchIndex[0]: 57
[]
term 5 leader 1 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 5 leaderCommit: 57 
------------------------------------------------------
flag 43627 term 5 leader 1 nextIndex[2]: 58  matchIndex[2]: 57
[]
term 5 leader 1 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 5 leaderCommit: 57 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:57 
server 2 log:
term 5 server 0 AppendEntries true commitIndex:57 
server 0 log:
[{snapshot 4 49} {1039600415434101753 4 50} {7714993247740322480 4 51} {216406691094778360 5 52} {3231061271716617467 5 53} {2884374488026331976 5 54} {259400336862164774 5 55} {6756330845597481860 5 56} {7900781351931648339 5 57}]
------------------------------------------------------
[{snapshot 4 49} {1039600415434101753 4 50} {7714993247740322480 4 51} {216406691094778360 5 52} {3231061271716617467 5 53} {2884374488026331976 5 54} {259400336862164774 5 55} {6756330845597481860 5 56} {7900781351931648339 5 57}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=58
update matchIndex[0]=57
update leader CommitIndex=57
leader log:
[{snapshot 4 49} {1039600415434101753 4 50} {7714993247740322480 4 51} {216406691094778360 5 52} {3231061271716617467 5 53} {2884374488026331976 5 54} {259400336862164774 5 55} {6756330845597481860 5 56} {7900781351931648339 5 57}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 4 49} {1039600415434101753 4 50} {7714993247740322480 4 51} {216406691094778360 5 52} {3231061271716617467 5 53} {2884374488026331976 5 54} {259400336862164774 5 55} {6756330845597481860 5 56} {7900781351931648339 5 57}]
------------------------------------------------------
client write log 5422405404241933056 (index 58) to leader 1
flag 37574 term 5 leader 1 nextIndex[0]: 58  matchIndex[0]: 57
[{5422405404241933056 5 58}]
term 5 leader 1 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 5 leaderCommit: 57 
------------------------------------------------------
flag 68488 term 5 leader 1 nextIndex[2]: 58  matchIndex[2]: 57
[{5422405404241933056 5 58}]
term 5 leader 1 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 5 leaderCommit: 57 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:57 
server 2 log:
[{snapshot 4 49} {1039600415434101753 4 50} {7714993247740322480 4 51} {216406691094778360 5 52} {3231061271716617467 5 53} {2884374488026331976 5 54} {259400336862164774 5 55} {6756330845597481860 5 56} {7900781351931648339 5 57} {5422405404241933056 5 58}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:57 
server 0 log:
[{snapshot 4 49} {1039600415434101753 4 50} {7714993247740322480 4 51} {216406691094778360 5 52} {3231061271716617467 5 53} {2884374488026331976 5 54} {259400336862164774 5 55} {6756330845597481860 5 56} {7900781351931648339 5 57} {5422405404241933056 5 58}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 4 49} {1039600415434101753 4 50} {7714993247740322480 4 51} {216406691094778360 5 52} {3231061271716617467 5 53} {2884374488026331976 5 54} {259400336862164774 5 55} {6756330845597481860 5 56} {7900781351931648339 5 57} {5422405404241933056 5 58}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=58
leader log:
[{snapshot 4 49} {1039600415434101753 4 50} {7714993247740322480 4 51} {216406691094778360 5 52} {3231061271716617467 5 53} {2884374488026331976 5 54} {259400336862164774 5 55} {6756330845597481860 5 56} {7900781351931648339 5 57} {5422405404241933056 5 58}]
------------------------------------------------------
flag 35107 term 5 leader 1 nextIndex[0]: 59  matchIndex[0]: 58
[]
term 5 leader 1 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 5 leaderCommit: 58 
------------------------------------------------------
flag 44768 term 5 leader 1 nextIndex[2]: 59  matchIndex[2]: 58
[]
term 5 leader 1 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 5 leaderCommit: 58 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:58 
server 2 log:
term 5 server 0 AppendEntries true commitIndex:58 
server 0 log:
[{snapshot 4 49} {1039600415434101753 4 50} {7714993247740322480 4 51} {216406691094778360 5 52} {3231061271716617467 5 53} {2884374488026331976 5 54} {259400336862164774 5 55} {6756330845597481860 5 56} {7900781351931648339 5 57} {5422405404241933056 5 58}]
------------------------------------------------------
[{snapshot 4 49} {1039600415434101753 4 50} {7714993247740322480 4 51} {216406691094778360 5 52} {3231061271716617467 5 53} {2884374488026331976 5 54} {259400336862164774 5 55} {6756330845597481860 5 56} {7900781351931648339 5 57} {5422405404241933056 5 58}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=58
leader log:
[{snapshot 4 49} {1039600415434101753 4 50} {7714993247740322480 4 51} {216406691094778360 5 52} {3231061271716617467 5 53} {2884374488026331976 5 54} {259400336862164774 5 55} {6756330845597481860 5 56} {7900781351931648339 5 57} {5422405404241933056 5 58}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 4 49} {1039600415434101753 4 50} {7714993247740322480 4 51} {216406691094778360 5 52} {3231061271716617467 5 53} {2884374488026331976 5 54} {259400336862164774 5 55} {6756330845597481860 5 56} {7900781351931648339 5 57} {5422405404241933056 5 58}]
------------------------------------------------------
client write log 1135366920505924518 (index 59) to leader 1
flag 44458 term 5 leader 1 nextIndex[0]: 59  matchIndex[0]: 58
[{1135366920505924518 5 59}]
term 5 leader 1 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 5 leaderCommit: 58 
------------------------------------------------------
flag 73997 term 5 leader 1 nextIndex[2]: 59  matchIndex[2]: 58
[{1135366920505924518 5 59}]
term 5 leader 1 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 5 leaderCommit: 58 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:58 
server 2 log:
[{snapshot 4 49} {1039600415434101753 4 50} {7714993247740322480 4 51} {216406691094778360 5 52} {3231061271716617467 5 53} {2884374488026331976 5 54} {259400336862164774 5 55} {6756330845597481860 5 56} {7900781351931648339 5 57} {5422405404241933056 5 58} {1135366920505924518 5 59}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:58 
server 0 log:
[{snapshot 4 49} {1039600415434101753 4 50} {7714993247740322480 4 51} {216406691094778360 5 52} {3231061271716617467 5 53} {2884374488026331976 5 54} {259400336862164774 5 55} {6756330845597481860 5 56} {7900781351931648339 5 57} {5422405404241933056 5 58} {1135366920505924518 5 59}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=59
leader log:
[{snapshot 4 49} {1039600415434101753 4 50} {7714993247740322480 4 51} {216406691094778360 5 52} {3231061271716617467 5 53} {2884374488026331976 5 54} {259400336862164774 5 55} {6756330845597481860 5 56} {7900781351931648339 5 57} {5422405404241933056 5 58} {1135366920505924518 5 59}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=60
update matchIndex[0]=59
update leader CommitIndex=59
leader log:
[{snapshot 4 49} {1039600415434101753 4 50} {7714993247740322480 4 51} {216406691094778360 5 52} {3231061271716617467 5 53} {2884374488026331976 5 54} {259400336862164774 5 55} {6756330845597481860 5 56} {7900781351931648339 5 57} {5422405404241933056 5 58} {1135366920505924518 5 59}]
------------------------------------------------------
term 5 Server1 start snapshot! index=59
term 5 server1 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=59
-------------------------------------------------------------
flag 42602 term 5 leader 1 nextIndex[0]: 60  matchIndex[0]: 59
[]
term 5 leader 1 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 5 leaderCommit: 59 
------------------------------------------------------
flag 76595 term 5 leader 1 nextIndex[2]: 60  matchIndex[2]: 59
[]
term 5 leader 1 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 5 leaderCommit: 59 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:59 
server 2 log:
[{snapshot 4 49} {1039600415434101753 4 50} {7714993247740322480 4 51} {216406691094778360 5 52} {3231061271716617467 5 53} {2884374488026331976 5 54} {259400336862164774 5 55} {6756330845597481860 5 56} {7900781351931648339 5 57} {5422405404241933056 5 58} {1135366920505924518 5 59}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=59
leader log:
[{snapshot 5 59}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:59 
server 0 log:
[{snapshot 4 49} {1039600415434101753 4 50} {7714993247740322480 4 51} {216406691094778360 5 52} {3231061271716617467 5 53} {2884374488026331976 5 54} {259400336862164774 5 55} {6756330845597481860 5 56} {7900781351931648339 5 57} {5422405404241933056 5 58} {1135366920505924518 5 59}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=60
update matchIndex[0]=59
update leader CommitIndex=59
leader log:
[{snapshot 5 59}]
------------------------------------------------------
term 5 Server2 start snapshot! index=59
term 5 server2 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=59
-------------------------------------------------------------
term 5 Server0 start snapshot! index=59
term 5 server0 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=59
-------------------------------------------------------------
client write log 4200682201881299194 (index 60) to leader 1
flag 82016 term 5 leader 1 nextIndex[0]: 60  matchIndex[0]: 59
[{4200682201881299194 5 60}]
term 5 leader 1 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 5 leaderCommit: 59 
------------------------------------------------------
flag 63503 term 5 leader 1 nextIndex[2]: 60  matchIndex[2]: 59
[{4200682201881299194 5 60}]
term 5 leader 1 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 5 leaderCommit: 59 
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:59 
server 2 log:
[{snapshot 5 59} {4200682201881299194 5 60}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:59 
server 0 log:
[{snapshot 5 59} {4200682201881299194 5 60}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=60
leader log:
[{snapshot 5 59} {4200682201881299194 5 60}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=60
leader log:
[{snapshot 5 59} {4200682201881299194 5 60}]
------------------------------------------------------
flag 26011 term 5 leader 1 nextIndex[0]: 61  matchIndex[0]: 60
[]
term 5 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 5 leaderCommit: 60 
------------------------------------------------------
flag 68196 term 5 leader 1 nextIndex[2]: 61  matchIndex[2]: 60
[]
term 5 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 5 leaderCommit: 60 
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:60 
server 0 log:
[{snapshot 5 59} {4200682201881299194 5 60}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=60
leader log:
[{snapshot 5 59} {4200682201881299194 5 60}]
------------------------------------------------------
term 5 server 2 AppendEntries true commitIndex:60 
server 2 log:
[{snapshot 5 59} {4200682201881299194 5 60}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=60
leader log:
[{snapshot 5 59} {4200682201881299194 5 60}]
------------------------------------------------------
!!!!!! server 0 crash
!!!!!! server 1 crash
!!!!!! server 2 crash
获取persist信息成功 server 0 currentTerm 5 voteFor 1 logs [{snapshot 5 59} {4200682201881299194 5 60}]
!!!!!! server 0 crash
获取persist信息成功 server 1 currentTerm 5 voteFor 1 logs [{snapshot 5 59} {4200682201881299194 5 60}]
!!!!!! server 1 crash
获取persist信息成功 server 2 currentTerm 5 voteFor 1 logs [{snapshot 5 59} {4200682201881299194 5 60}]
!!!!!! server 2 crash
flag 27554 term 5 leader 1 nextIndex[0]: 61  matchIndex[0]: 60
[]
term 5 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 5 leaderCommit: 60 
------------------------------------------------------
flag 48513 term 5 leader 1 nextIndex[2]: 61  matchIndex[2]: 60
[]
term 5 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 5 leaderCommit: 60 
------------------------------------------------------
term 6 server 1 vote for server 2
term 6 server 0 vote for server 2
term 6 server 2 get vote from server 1
term 6 server 2 become leader
------------------------------------------------------
term 6 server 2 get outdate rpc reply from server 0
flag 66573 term 6 leader 2 nextIndex[0]: 61  matchIndex[0]: 0
[]
term 6 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 5 leaderCommit: 59 
------------------------------------------------------
flag 39903 term 6 leader 2 nextIndex[1]: 61  matchIndex[1]: 0
[]
term 6 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 5 leaderCommit: 59 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:59 
server 1 log:
[{snapshot 5 59} {4200682201881299194 5 60}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=59
leader log:
[{snapshot 5 59} {4200682201881299194 5 60}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:59 
server 0 log:
[{snapshot 5 59} {4200682201881299194 5 60}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=59
leader log:
[{snapshot 5 59} {4200682201881299194 5 60}]
------------------------------------------------------
client write log 124219143902290216 (index 61) to leader 2
flag 54689 term 6 leader 2 nextIndex[0]: 61  matchIndex[0]: 60
[{124219143902290216 6 61}]
term 6 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 5 leaderCommit: 59 
------------------------------------------------------
flag 85838 term 6 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
[{124219143902290216 6 61}]
term 6 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 5 leaderCommit: 59 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:59 
server 1 log:
[{snapshot 5 59} {4200682201881299194 5 60} {124219143902290216 6 61}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 5 59} {4200682201881299194 5 60} {124219143902290216 6 61}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:59 
server 0 log:
[{snapshot 5 59} {4200682201881299194 5 60} {124219143902290216 6 61}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 5 59} {4200682201881299194 5 60} {124219143902290216 6 61}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 61->60
------------------------------------------------------
flag 84576 term 6 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
[]
term 6 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 6 leaderCommit: 61 
------------------------------------------------------
flag 23845 term 6 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
[]
term 6 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 6 leaderCommit: 61 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:61 
server 1 log:
[{snapshot 5 59} {4200682201881299194 5 60} {124219143902290216 6 61}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:61 
server 0 log:
[{snapshot 5 59} {4200682201881299194 5 60} {124219143902290216 6 61}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 5 59} {4200682201881299194 5 60} {124219143902290216 6 61}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 5 59} {4200682201881299194 5 60} {124219143902290216 6 61}]
------------------------------------------------------
  ... Passed --  13.8  3  294   87010   61
--- PASS: TestSnapshotAllCrash2D (13.85s)
PASS
