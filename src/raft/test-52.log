=== RUN   TestSnapshotInstall2D
Test (2D): install snapshots (disconnect) ...
term 1 server 0 vote for server 1
term 1 server 1 get vote from server 0
term 1 server 1 become leader
------------------------------------------------------
term 1 server 2 vote for server 1
term 1 server 1 get outdate rpc reply from server 2
flag 47462 term 1 leader 1 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 73144 term 1 leader 1 nextIndex[2]: 1  matchIndex[2]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=1
update matchIndex[2]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=1
update matchIndex[0]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
client write log 8631942173618686125 (index 1) to leader 1
flag 31367 term 1 leader 1 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 46064 term 1 leader 1 nextIndex[2]: 1  matchIndex[2]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8631942173618686125 1 1}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8631942173618686125 1 1}]
------------------------------------------------------
flag 85922 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 86431 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8631942173618686125 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8631942173618686125 1 1}]
------------------------------------------------------
flag 58883 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 1918 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8631942173618686125 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8631942173618686125 1 1}]
------------------------------------------------------
flag 35596 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 46470 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8631942173618686125 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8631942173618686125 1 1}]
------------------------------------------------------
flag 75811 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 54791 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8631942173618686125 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8631942173618686125 1 1}]
------------------------------------------------------
flag 24961 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 39324 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8631942173618686125 1 1}]
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8631942173618686125 1 1}]
------------------------------------------------------
flag 93363 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 93004 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8631942173618686125 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8631942173618686125 1 1}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 5649194295054285019 (index 2) to leader 1
flag 83424 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 73828 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=3
update matchIndex[0]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {8631942173618686125 1 1} {5649194295054285019 1 2}]
------------------------------------------------------
flag 35083 term 1 leader 1 nextIndex[0]: 3  matchIndex[0]: 2
term 1 leader 1 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 79380 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=3
update matchIndex[0]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {8631942173618686125 1 1} {5649194295054285019 1 2}]
------------------------------------------------------
client write log 318143863950191191 (index 3) to leader 1
client write log 2481584084935983532 (index 4) to leader 1
client write log 1648718900876269987 (index 5) to leader 1
client write log 5771689937289111399 (index 6) to leader 1
client write log 2383801332890005854 (index 7) to leader 1
client write log 607641532583409818 (index 8) to leader 1
client write log 8654394506243593340 (index 9) to leader 1
flag 74584 term 1 leader 1 nextIndex[0]: 3  matchIndex[0]: 2
term 1 leader 1 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 15884 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=9
leader log:
[{<nil> 0 0} {8631942173618686125 1 1} {5649194295054285019 1 2} {318143863950191191 1 3} {2481584084935983532 1 4} {1648718900876269987 1 5} {5771689937289111399 1 6} {2383801332890005854 1 7} {607641532583409818 1 8} {8654394506243593340 1 9}]
------------------------------------------------------
term 1 Server1 start snapshot! index=9
term 1 server1 snapshot success
lastIncludedIndex=9 lastApplied=9 lastIndex=9
-------------------------------------------------------------
flag 55830 term 1 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 1 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=9
leader log:
[{snapshot 1 9}]
------------------------------------------------------
term 1 Server0 start snapshot! index=9
term 1 server0 snapshot success
lastIncludedIndex=9 lastApplied=9 lastIndex=9
-------------------------------------------------------------
!!!!!!connect server 2
client write log 1905010038277069863 (index 10) to leader 1
flag 54459 term 1 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 1 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 2 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {1905010038277069863 1 10}]
------------------------------------------------------
term 1 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 1 server 0 not vote for server 2, 日志不够新
term 3 server 2 vote for server 1
term 3 server 1 get vote from server 2
term 3 server 1 become leader
------------------------------------------------------
term 3 server 0 vote for server 1
term 3 server 1 get outdate rpc reply from server 0
flag 15322 term 3 leader 1 nextIndex[0]: 11  matchIndex[0]: 0
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 10428 term 3 leader 1 nextIndex[2]: 11  matchIndex[2]: 0
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 11->10
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {1905010038277069863 1 10}]
------------------------------------------------------
flag 1137 term 3 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 leader 1 nextIndex[2]: 2  matchIndex[2]: 0
term 3 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 3 server 2 InstallSnapshot success
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 10 matchIndex[2] 9 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 9 rf.lastIncludedTerm 1 rf.commitIndex 9 rf.lastApplied 9
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {1905010038277069863 1 10}]
------------------------------------------------------
flag 44288 term 3 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 17491 term 3 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {1905010038277069863 1 10}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {1905010038277069863 1 10}]
------------------------------------------------------
flag 11901 term 3 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 70149 term 3 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {1905010038277069863 1 10}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {1905010038277069863 1 10}]
------------------------------------------------------
flag 42447 term 3 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 76946 term 3 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {1905010038277069863 1 10}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {1905010038277069863 1 10}]
------------------------------------------------------
flag 66767 term 3 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 5018 term 3 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {1905010038277069863 1 10}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {1905010038277069863 1 10}]
------------------------------------------------------
flag 46967 term 3 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 28385 term 3 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {1905010038277069863 1 10}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {1905010038277069863 1 10}]
------------------------------------------------------
flag 4976 term 3 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 93150 term 3 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {1905010038277069863 1 10}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {1905010038277069863 1 10}]
------------------------------------------------------
flag 52204 term 3 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 85736 term 3 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {1905010038277069863 1 10}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {1905010038277069863 1 10}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 72637 term 3 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 24159 term 3 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 17792 term 3 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 92547 term 3 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 97450 term 3 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 17932 term 3 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 4 server 2 vote for server 0
term 4 server 0 get vote from server 2
term 4 server 0 become leader
------------------------------------------------------
flag 14708 term 4 leader 0 nextIndex[1]: 11  matchIndex[1]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 36033 term 4 leader 0 nextIndex[2]: 11  matchIndex[2]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {1905010038277069863 1 10}]
------------------------------------------------------
flag 47146 term 3 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 73485 term 3 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
client write log 2060372654383408115 (index 11) to leader 0
flag 47757 term 4 leader 0 nextIndex[1]: 11  matchIndex[1]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 22104 term 4 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 4 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {1905010038277069863 1 10} {2060372654383408115 4 11}]
------------------------------------------------------
flag 96347 term 3 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 61443 term 3 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 68660 term 4 leader 0 nextIndex[1]: 11  matchIndex[1]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 33600 term 4 leader 0 nextIndex[2]: 12  matchIndex[2]: 11
term 4 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 4 leaderCommit: 11 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {1905010038277069863 1 10} {2060372654383408115 4 11}]
------------------------------------------------------
flag 57456 term 3 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 1057 term 3 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
client write log 2544760684263394542 (index 12) to leader 0
flag 95990 term 4 leader 0 nextIndex[1]: 11  matchIndex[1]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 47348 term 4 leader 0 nextIndex[2]: 12  matchIndex[2]: 11
term 4 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 4 leaderCommit: 11 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {1905010038277069863 1 10} {2060372654383408115 4 11} {2544760684263394542 4 12}]
------------------------------------------------------
flag 54675 term 3 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 19670 term 3 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 22210 term 4 leader 0 nextIndex[1]: 11  matchIndex[1]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 88765 term 4 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
term 4 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 4 leaderCommit: 12 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {1905010038277069863 1 10} {2060372654383408115 4 11} {2544760684263394542 4 12}]
------------------------------------------------------
flag 96802 term 3 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 37524 term 3 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
!!!!!!connect server 1
client write log 5748216495773534399 (index 11) to leader 1
flag 98211 term 4 leader 0 nextIndex[1]: 11  matchIndex[1]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 13537 term 4 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
term 4 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 4 leaderCommit: 12 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {1905010038277069863 1 10} {2060372654383408115 4 11} {2544760684263394542 4 12}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {1905010038277069863 1 10} {2060372654383408115 4 11} {2544760684263394542 4 12}]
------------------------------------------------------
flag 57270 term 4 leader 0 nextIndex[1]: 13  matchIndex[1]: 12
term 4 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 4 leaderCommit: 12 
------------------------------------------------------
flag 14259 term 4 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
term 4 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 4 leaderCommit: 12 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {1905010038277069863 1 10} {2060372654383408115 4 11} {2544760684263394542 4 12}]
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {1905010038277069863 1 10} {2060372654383408115 4 11} {2544760684263394542 4 12}]
------------------------------------------------------
flag 56 term 4 leader 0 nextIndex[1]: 13  matchIndex[1]: 12
term 4 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 4 leaderCommit: 12 
------------------------------------------------------
flag 80530 term 4 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
term 4 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 4 leaderCommit: 12 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {1905010038277069863 1 10} {2060372654383408115 4 11} {2544760684263394542 4 12}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {1905010038277069863 1 10} {2060372654383408115 4 11} {2544760684263394542 4 12}]
------------------------------------------------------
flag 40721 term 4 leader 0 nextIndex[1]: 13  matchIndex[1]: 12
term 4 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 4 leaderCommit: 12 
------------------------------------------------------
flag 45559 term 4 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
term 4 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 4 leaderCommit: 12 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {1905010038277069863 1 10} {2060372654383408115 4 11} {2544760684263394542 4 12}]
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {1905010038277069863 1 10} {2060372654383408115 4 11} {2544760684263394542 4 12}]
------------------------------------------------------
flag 48684 term 4 leader 0 nextIndex[1]: 13  matchIndex[1]: 12
term 4 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 4 leaderCommit: 12 
------------------------------------------------------
flag 6331 term 4 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
term 4 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 4 leaderCommit: 12 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {1905010038277069863 1 10} {2060372654383408115 4 11} {2544760684263394542 4 12}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {1905010038277069863 1 10} {2060372654383408115 4 11} {2544760684263394542 4 12}]
------------------------------------------------------
flag 50854 term 4 leader 0 nextIndex[1]: 13  matchIndex[1]: 12
term 4 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 4 leaderCommit: 12 
------------------------------------------------------
flag 55026 term 4 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
term 4 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 4 leaderCommit: 12 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {1905010038277069863 1 10} {2060372654383408115 4 11} {2544760684263394542 4 12}]
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {1905010038277069863 1 10} {2060372654383408115 4 11} {2544760684263394542 4 12}]
------------------------------------------------------
flag 31651 term 4 leader 0 nextIndex[1]: 13  matchIndex[1]: 12
term 4 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 4 leaderCommit: 12 
------------------------------------------------------
flag 12282 term 4 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
term 4 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 4 leaderCommit: 12 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {1905010038277069863 1 10} {2060372654383408115 4 11} {2544760684263394542 4 12}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {1905010038277069863 1 10} {2060372654383408115 4 11} {2544760684263394542 4 12}]
------------------------------------------------------
flag 41100 term 4 leader 0 nextIndex[1]: 13  matchIndex[1]: 12
term 4 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 4 leaderCommit: 12 
------------------------------------------------------
flag 69161 term 4 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
term 4 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 4 leaderCommit: 12 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {1905010038277069863 1 10} {2060372654383408115 4 11} {2544760684263394542 4 12}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {1905010038277069863 1 10} {2060372654383408115 4 11} {2544760684263394542 4 12}]
------------------------------------------------------
flag 55204 term 4 leader 0 nextIndex[1]: 13  matchIndex[1]: 12
term 4 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 4 leaderCommit: 12 
------------------------------------------------------
flag 14071 term 4 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
term 4 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 4 leaderCommit: 12 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {1905010038277069863 1 10} {2060372654383408115 4 11} {2544760684263394542 4 12}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {1905010038277069863 1 10} {2060372654383408115 4 11} {2544760684263394542 4 12}]
------------------------------------------------------
flag 64756 term 4 leader 0 nextIndex[1]: 13  matchIndex[1]: 12
term 4 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 4 leaderCommit: 12 
------------------------------------------------------
flag 37002 term 4 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
term 4 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 4 leaderCommit: 12 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {1905010038277069863 1 10} {2060372654383408115 4 11} {2544760684263394542 4 12}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {1905010038277069863 1 10} {2060372654383408115 4 11} {2544760684263394542 4 12}]
------------------------------------------------------
flag 64944 term 4 leader 0 nextIndex[1]: 13  matchIndex[1]: 12
term 4 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 4 leaderCommit: 12 
------------------------------------------------------
flag 44504 term 4 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
term 4 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 4 leaderCommit: 12 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {1905010038277069863 1 10} {2060372654383408115 4 11} {2544760684263394542 4 12}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {1905010038277069863 1 10} {2060372654383408115 4 11} {2544760684263394542 4 12}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65246 term 4 leader 0 nextIndex[1]: 13  matchIndex[1]: 12
term 4 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 4 leaderCommit: 12 
------------------------------------------------------
flag 43309 term 4 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
term 4 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 4 leaderCommit: 12 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {1905010038277069863 1 10} {2060372654383408115 4 11} {2544760684263394542 4 12}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {1905010038277069863 1 10} {2060372654383408115 4 11} {2544760684263394542 4 12}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11635 term 4 leader 0 nextIndex[1]: 13  matchIndex[1]: 12
term 4 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 4 leaderCommit: 12 
------------------------------------------------------
flag 95249 term 4 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
term 4 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 4 leaderCommit: 12 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {1905010038277069863 1 10} {2060372654383408115 4 11} {2544760684263394542 4 12}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {1905010038277069863 1 10} {2060372654383408115 4 11} {2544760684263394542 4 12}]
------------------------------------------------------
term 4 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 76291 term 4 leader 0 nextIndex[1]: 13  matchIndex[1]: 12
term 4 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 4 leaderCommit: 12 
------------------------------------------------------
flag 77066 term 4 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
term 4 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 4 leaderCommit: 12 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {1905010038277069863 1 10} {2060372654383408115 4 11} {2544760684263394542 4 12}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {1905010038277069863 1 10} {2060372654383408115 4 11} {2544760684263394542 4 12}]
------------------------------------------------------
flag 75824 term 4 leader 0 nextIndex[1]: 13  matchIndex[1]: 12
term 4 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 4 leaderCommit: 12 
------------------------------------------------------
flag 39557 term 4 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
term 4 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 4 leaderCommit: 12 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {1905010038277069863 1 10} {2060372654383408115 4 11} {2544760684263394542 4 12}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {1905010038277069863 1 10} {2060372654383408115 4 11} {2544760684263394542 4 12}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46715 term 4 leader 0 nextIndex[1]: 13  matchIndex[1]: 12
term 4 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 4 leaderCommit: 12 
------------------------------------------------------
flag 21333 term 4 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
term 4 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 4 leaderCommit: 12 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {1905010038277069863 1 10} {2060372654383408115 4 11} {2544760684263394542 4 12}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {1905010038277069863 1 10} {2060372654383408115 4 11} {2544760684263394542 4 12}]
------------------------------------------------------
flag 99475 term 4 leader 0 nextIndex[1]: 13  matchIndex[1]: 12
term 4 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 4 leaderCommit: 12 
------------------------------------------------------
flag 92031 term 4 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
term 4 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 4 leaderCommit: 12 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {1905010038277069863 1 10} {2060372654383408115 4 11} {2544760684263394542 4 12}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {1905010038277069863 1 10} {2060372654383408115 4 11} {2544760684263394542 4 12}]
------------------------------------------------------
flag 95621 term 4 leader 0 nextIndex[1]: 13  matchIndex[1]: 12
term 4 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 4 leaderCommit: 12 
------------------------------------------------------
flag 36873 term 4 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
term 4 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 4 leaderCommit: 12 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {1905010038277069863 1 10} {2060372654383408115 4 11} {2544760684263394542 4 12}]
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {1905010038277069863 1 10} {2060372654383408115 4 11} {2544760684263394542 4 12}]
------------------------------------------------------
flag 4318 term 4 leader 0 nextIndex[1]: 13  matchIndex[1]: 12
term 4 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 4 leaderCommit: 12 
------------------------------------------------------
flag 43282 term 4 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
term 4 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 4 leaderCommit: 12 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {1905010038277069863 1 10} {2060372654383408115 4 11} {2544760684263394542 4 12}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {1905010038277069863 1 10} {2060372654383408115 4 11} {2544760684263394542 4 12}]
------------------------------------------------------
flag 44642 term 4 leader 0 nextIndex[1]: 13  matchIndex[1]: 12
term 4 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 4 leaderCommit: 12 
------------------------------------------------------
flag 7725 term 4 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
term 4 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 4 leaderCommit: 12 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {1905010038277069863 1 10} {2060372654383408115 4 11} {2544760684263394542 4 12}]
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {1905010038277069863 1 10} {2060372654383408115 4 11} {2544760684263394542 4 12}]
------------------------------------------------------
client write log 5748216495773534399 (index 13) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92815 term 4 leader 0 nextIndex[1]: 13  matchIndex[1]: 12
term 4 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 4 leaderCommit: 12 
------------------------------------------------------
flag 5088 term 4 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
term 4 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 4 leaderCommit: 12 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {1905010038277069863 1 10} {2060372654383408115 4 11} {2544760684263394542 4 12} {5748216495773534399 4 13}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {1905010038277069863 1 10} {2060372654383408115 4 11} {2544760684263394542 4 12} {5748216495773534399 4 13}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20955 term 4 leader 0 nextIndex[1]: 14  matchIndex[1]: 13
term 4 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
flag 35246 term 4 leader 0 nextIndex[2]: 14  matchIndex[2]: 13
term 4 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {1905010038277069863 1 10} {2060372654383408115 4 11} {2544760684263394542 4 12} {5748216495773534399 4 13}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {1905010038277069863 1 10} {2060372654383408115 4 11} {2544760684263394542 4 12} {5748216495773534399 4 13}]
------------------------------------------------------
flag 64328 term 4 leader 0 nextIndex[1]: 14  matchIndex[1]: 13
term 4 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
flag 93023 term 4 leader 0 nextIndex[2]: 14  matchIndex[2]: 13
term 4 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {1905010038277069863 1 10} {2060372654383408115 4 11} {2544760684263394542 4 12} {5748216495773534399 4 13}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {1905010038277069863 1 10} {2060372654383408115 4 11} {2544760684263394542 4 12} {5748216495773534399 4 13}]
------------------------------------------------------
term 4 server 1 not vote for server 2, 任期不够新
term 4 server 2 get outdate rpc reply from server 1
flag 90735 term 4 leader 0 nextIndex[1]: 14  matchIndex[1]: 13
term 4 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
flag 46868 term 4 leader 0 nextIndex[2]: 14  matchIndex[2]: 13
term 4 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {1905010038277069863 1 10} {2060372654383408115 4 11} {2544760684263394542 4 12} {5748216495773534399 4 13}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {1905010038277069863 1 10} {2060372654383408115 4 11} {2544760684263394542 4 12} {5748216495773534399 4 13}]
------------------------------------------------------
flag 1969 term 4 leader 0 nextIndex[1]: 14  matchIndex[1]: 13
term 4 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
flag 88260 term 4 leader 0 nextIndex[2]: 14  matchIndex[2]: 13
term 4 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {1905010038277069863 1 10} {2060372654383408115 4 11} {2544760684263394542 4 12} {5748216495773534399 4 13}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {1905010038277069863 1 10} {2060372654383408115 4 11} {2544760684263394542 4 12} {5748216495773534399 4 13}]
------------------------------------------------------
flag 81220 term 4 leader 0 nextIndex[1]: 14  matchIndex[1]: 13
term 4 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
flag 70252 term 4 leader 0 nextIndex[2]: 14  matchIndex[2]: 13
term 4 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {1905010038277069863 1 10} {2060372654383408115 4 11} {2544760684263394542 4 12} {5748216495773534399 4 13}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {1905010038277069863 1 10} {2060372654383408115 4 11} {2544760684263394542 4 12} {5748216495773534399 4 13}]
------------------------------------------------------
flag 48792 term 4 leader 0 nextIndex[1]: 14  matchIndex[1]: 13
term 4 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
flag 43859 term 4 leader 0 nextIndex[2]: 14  matchIndex[2]: 13
term 4 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
term 4 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
[{snapshot 1 9} {1905010038277069863 1 10} {2060372654383408115 4 11} {2544760684263394542 4 12} {5748216495773534399 4 13}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {1905010038277069863 1 10} {2060372654383408115 4 11} {2544760684263394542 4 12} {5748216495773534399 4 13}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 984616080833208975 (index 14) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99429 term 4 leader 0 nextIndex[1]: 14  matchIndex[1]: 13
term 4 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
flag 24978 term 4 leader 0 nextIndex[2]: 14  matchIndex[2]: 13
term 4 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {1905010038277069863 1 10} {2060372654383408115 4 11} {2544760684263394542 4 12} {5748216495773534399 4 13} {984616080833208975 4 14}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11244 term 4 leader 0 nextIndex[1]: 14  matchIndex[1]: 13
term 4 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
flag 9312 term 4 leader 0 nextIndex[2]: 15  matchIndex[2]: 14
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {1905010038277069863 1 10} {2060372654383408115 4 11} {2544760684263394542 4 12} {5748216495773534399 4 13} {984616080833208975 4 14}]
------------------------------------------------------
client write log 2359990062908197346 (index 15) to leader 0
client write log 2952100115189082497 (index 16) to leader 0
client write log 1102565262851670548 (index 17) to leader 0
client write log 8796576343582461983 (index 18) to leader 0
client write log 2880449254178918224 (index 19) to leader 0
client write log 8784022578550002808 (index 20) to leader 0
client write log 7406688313724583764 (index 21) to leader 0
client write log 2972819122570714221 (index 22) to leader 0
client write log 1054565614668685469 (index 23) to leader 0
client write log 806196893480699392 (index 24) to leader 0
client write log 6695648278564856327 (index 25) to leader 0
client write log 8257030182456677671 (index 26) to leader 0
flag 38976 term 4 leader 0 nextIndex[1]: 14  matchIndex[1]: 13
term 4 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
flag 55526 term 4 leader 0 nextIndex[2]: 15  matchIndex[2]: 14
term 4 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 1 9} {1905010038277069863 1 10} {2060372654383408115 4 11} {2544760684263394542 4 12} {5748216495773534399 4 13} {984616080833208975 4 14} {2359990062908197346 4 15} {2952100115189082497 4 16} {1102565262851670548 4 17} {8796576343582461983 4 18} {2880449254178918224 4 19} {8784022578550002808 4 20} {7406688313724583764 4 21} {2972819122570714221 4 22} {1054565614668685469 4 23} {806196893480699392 4 24} {6695648278564856327 4 25} {8257030182456677671 4 26}]
------------------------------------------------------
term 4 Server0 start snapshot! index=19
term 4 server0 snapshot success
lastIncludedIndex=19 lastApplied=20 lastIndex=26
-------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 14->13
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 0->-1
------------------------------------------------------
term 4 leader 0 nextIndex[1]: 0  matchIndex[1]: 13
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
flag 4504 term 4 leader 0 nextIndex[2]: 27  matchIndex[2]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {8784022578550002808 4 20} {7406688313724583764 4 21} {2972819122570714221 4 22} {1054565614668685469 4 23} {806196893480699392 4 24} {6695648278564856327 4 25} {8257030182456677671 4 26}]
------------------------------------------------------
term 4 Server2 start snapshot! index=19
term 4 server2 snapshot success
lastIncludedIndex=19 lastApplied=20 lastIndex=26
-------------------------------------------------------------
!!!!!!connect server 1
client write log 2200854378613135144 (index 27) to leader 0
term 4 leader 0 nextIndex[1]: 0  matchIndex[1]: 13
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
flag 99615 term 4 leader 0 nextIndex[2]: 27  matchIndex[2]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 5 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 4 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 6 server 2 vote for server 0
term 6 server 1 vote for server 0
term 6 server 0 get vote from server 1
term 6 server 0 become leader
------------------------------------------------------
term 6 server 0 get outdate rpc reply from server 2
flag 63220 term 6 leader 0 nextIndex[1]: 28  matchIndex[1]: 0
term 6 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 41881 term 6 leader 0 nextIndex[2]: 28  matchIndex[2]: 0
term 6 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {8784022578550002808 4 20} {7406688313724583764 4 21} {2972819122570714221 4 22} {1054565614668685469 4 23} {806196893480699392 4 24} {6695648278564856327 4 25} {8257030182456677671 4 26} {2200854378613135144 4 27}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 28->27
------------------------------------------------------
term 6 leader 0 nextIndex[1]: 14  matchIndex[1]: 0
term 6 leader 0 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
flag 85622 term 6 leader 0 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {8784022578550002808 4 20} {7406688313724583764 4 21} {2972819122570714221 4 22} {1054565614668685469 4 23} {806196893480699392 4 24} {6695648278564856327 4 25} {8257030182456677671 4 26} {2200854378613135144 4 27}]
------------------------------------------------------
term 6 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 19 rf.lastIncludedTerm 4 rf.commitIndex 19 rf.lastApplied 19
term 6 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 20 matchIndex[1] 19 
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87826 term 6 leader 0 nextIndex[1]: 20  matchIndex[1]: 19
term 6 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 4240 term 6 leader 0 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {8784022578550002808 4 20} {7406688313724583764 4 21} {2972819122570714221 4 22} {1054565614668685469 4 23} {806196893480699392 4 24} {6695648278564856327 4 25} {8257030182456677671 4 26} {2200854378613135144 4 27}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {8784022578550002808 4 20} {7406688313724583764 4 21} {2972819122570714221 4 22} {1054565614668685469 4 23} {806196893480699392 4 24} {6695648278564856327 4 25} {8257030182456677671 4 26} {2200854378613135144 4 27}]
------------------------------------------------------
flag 19486 term 6 leader 0 nextIndex[1]: 28  matchIndex[1]: 27
term 6 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 22022 term 6 leader 0 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {8784022578550002808 4 20} {7406688313724583764 4 21} {2972819122570714221 4 22} {1054565614668685469 4 23} {806196893480699392 4 24} {6695648278564856327 4 25} {8257030182456677671 4 26} {2200854378613135144 4 27}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {8784022578550002808 4 20} {7406688313724583764 4 21} {2972819122570714221 4 22} {1054565614668685469 4 23} {806196893480699392 4 24} {6695648278564856327 4 25} {8257030182456677671 4 26} {2200854378613135144 4 27}]
------------------------------------------------------
flag 39138 term 6 leader 0 nextIndex[1]: 28  matchIndex[1]: 27
term 6 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 35985 term 6 leader 0 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {8784022578550002808 4 20} {7406688313724583764 4 21} {2972819122570714221 4 22} {1054565614668685469 4 23} {806196893480699392 4 24} {6695648278564856327 4 25} {8257030182456677671 4 26} {2200854378613135144 4 27}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {8784022578550002808 4 20} {7406688313724583764 4 21} {2972819122570714221 4 22} {1054565614668685469 4 23} {806196893480699392 4 24} {6695648278564856327 4 25} {8257030182456677671 4 26} {2200854378613135144 4 27}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28532 term 6 leader 0 nextIndex[1]: 28  matchIndex[1]: 27
term 6 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 79887 term 6 leader 0 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {8784022578550002808 4 20} {7406688313724583764 4 21} {2972819122570714221 4 22} {1054565614668685469 4 23} {806196893480699392 4 24} {6695648278564856327 4 25} {8257030182456677671 4 26} {2200854378613135144 4 27}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {8784022578550002808 4 20} {7406688313724583764 4 21} {2972819122570714221 4 22} {1054565614668685469 4 23} {806196893480699392 4 24} {6695648278564856327 4 25} {8257030182456677671 4 26} {2200854378613135144 4 27}]
------------------------------------------------------
flag 82203 term 6 leader 0 nextIndex[1]: 28  matchIndex[1]: 27
term 6 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 49944 term 6 leader 0 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {8784022578550002808 4 20} {7406688313724583764 4 21} {2972819122570714221 4 22} {1054565614668685469 4 23} {806196893480699392 4 24} {6695648278564856327 4 25} {8257030182456677671 4 26} {2200854378613135144 4 27}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {8784022578550002808 4 20} {7406688313724583764 4 21} {2972819122570714221 4 22} {1054565614668685469 4 23} {806196893480699392 4 24} {6695648278564856327 4 25} {8257030182456677671 4 26} {2200854378613135144 4 27}]
------------------------------------------------------
flag 58218 term 6 leader 0 nextIndex[1]: 28  matchIndex[1]: 27
term 6 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 69034 term 6 leader 0 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {8784022578550002808 4 20} {7406688313724583764 4 21} {2972819122570714221 4 22} {1054565614668685469 4 23} {806196893480699392 4 24} {6695648278564856327 4 25} {8257030182456677671 4 26} {2200854378613135144 4 27}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {8784022578550002808 4 20} {7406688313724583764 4 21} {2972819122570714221 4 22} {1054565614668685469 4 23} {806196893480699392 4 24} {6695648278564856327 4 25} {8257030182456677671 4 26} {2200854378613135144 4 27}]
------------------------------------------------------
flag 69510 term 6 leader 0 nextIndex[1]: 28  matchIndex[1]: 27
term 6 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 94055 term 6 leader 0 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {8784022578550002808 4 20} {7406688313724583764 4 21} {2972819122570714221 4 22} {1054565614668685469 4 23} {806196893480699392 4 24} {6695648278564856327 4 25} {8257030182456677671 4 26} {2200854378613135144 4 27}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {8784022578550002808 4 20} {7406688313724583764 4 21} {2972819122570714221 4 22} {1054565614668685469 4 23} {806196893480699392 4 24} {6695648278564856327 4 25} {8257030182456677671 4 26} {2200854378613135144 4 27}]
------------------------------------------------------
flag 68824 term 6 leader 0 nextIndex[1]: 28  matchIndex[1]: 27
term 6 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 82693 term 6 leader 0 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {8784022578550002808 4 20} {7406688313724583764 4 21} {2972819122570714221 4 22} {1054565614668685469 4 23} {806196893480699392 4 24} {6695648278564856327 4 25} {8257030182456677671 4 26} {2200854378613135144 4 27}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {8784022578550002808 4 20} {7406688313724583764 4 21} {2972819122570714221 4 22} {1054565614668685469 4 23} {806196893480699392 4 24} {6695648278564856327 4 25} {8257030182456677671 4 26} {2200854378613135144 4 27}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54552 term 6 leader 0 nextIndex[1]: 28  matchIndex[1]: 27
term 6 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 91242 term 6 leader 0 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {8784022578550002808 4 20} {7406688313724583764 4 21} {2972819122570714221 4 22} {1054565614668685469 4 23} {806196893480699392 4 24} {6695648278564856327 4 25} {8257030182456677671 4 26} {2200854378613135144 4 27}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {8784022578550002808 4 20} {7406688313724583764 4 21} {2972819122570714221 4 22} {1054565614668685469 4 23} {806196893480699392 4 24} {6695648278564856327 4 25} {8257030182456677671 4 26} {2200854378613135144 4 27}]
------------------------------------------------------
flag 86401 term 6 leader 0 nextIndex[1]: 28  matchIndex[1]: 27
term 6 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 98190 term 6 leader 0 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {8784022578550002808 4 20} {7406688313724583764 4 21} {2972819122570714221 4 22} {1054565614668685469 4 23} {806196893480699392 4 24} {6695648278564856327 4 25} {8257030182456677671 4 26} {2200854378613135144 4 27}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {8784022578550002808 4 20} {7406688313724583764 4 21} {2972819122570714221 4 22} {1054565614668685469 4 23} {806196893480699392 4 24} {6695648278564856327 4 25} {8257030182456677671 4 26} {2200854378613135144 4 27}]
------------------------------------------------------
flag 18956 term 6 leader 0 nextIndex[1]: 28  matchIndex[1]: 27
term 6 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 76589 term 6 leader 0 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {8784022578550002808 4 20} {7406688313724583764 4 21} {2972819122570714221 4 22} {1054565614668685469 4 23} {806196893480699392 4 24} {6695648278564856327 4 25} {8257030182456677671 4 26} {2200854378613135144 4 27}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {8784022578550002808 4 20} {7406688313724583764 4 21} {2972819122570714221 4 22} {1054565614668685469 4 23} {806196893480699392 4 24} {6695648278564856327 4 25} {8257030182456677671 4 26} {2200854378613135144 4 27}]
------------------------------------------------------
flag 37771 term 6 leader 0 nextIndex[1]: 28  matchIndex[1]: 27
term 6 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 82660 term 6 leader 0 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {8784022578550002808 4 20} {7406688313724583764 4 21} {2972819122570714221 4 22} {1054565614668685469 4 23} {806196893480699392 4 24} {6695648278564856327 4 25} {8257030182456677671 4 26} {2200854378613135144 4 27}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {8784022578550002808 4 20} {7406688313724583764 4 21} {2972819122570714221 4 22} {1054565614668685469 4 23} {806196893480699392 4 24} {6695648278564856327 4 25} {8257030182456677671 4 26} {2200854378613135144 4 27}]
------------------------------------------------------
flag 22146 term 6 leader 0 nextIndex[1]: 28  matchIndex[1]: 27
term 6 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 76802 term 6 leader 0 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {8784022578550002808 4 20} {7406688313724583764 4 21} {2972819122570714221 4 22} {1054565614668685469 4 23} {806196893480699392 4 24} {6695648278564856327 4 25} {8257030182456677671 4 26} {2200854378613135144 4 27}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {8784022578550002808 4 20} {7406688313724583764 4 21} {2972819122570714221 4 22} {1054565614668685469 4 23} {806196893480699392 4 24} {6695648278564856327 4 25} {8257030182456677671 4 26} {2200854378613135144 4 27}]
------------------------------------------------------
flag 82910 term 6 leader 0 nextIndex[1]: 28  matchIndex[1]: 27
term 6 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 84333 term 6 leader 0 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {8784022578550002808 4 20} {7406688313724583764 4 21} {2972819122570714221 4 22} {1054565614668685469 4 23} {806196893480699392 4 24} {6695648278564856327 4 25} {8257030182456677671 4 26} {2200854378613135144 4 27}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {8784022578550002808 4 20} {7406688313724583764 4 21} {2972819122570714221 4 22} {1054565614668685469 4 23} {806196893480699392 4 24} {6695648278564856327 4 25} {8257030182456677671 4 26} {2200854378613135144 4 27}]
------------------------------------------------------
term 6 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 93381 term 6 leader 0 nextIndex[1]: 28  matchIndex[1]: 27
term 6 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 42808 term 6 leader 0 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {8784022578550002808 4 20} {7406688313724583764 4 21} {2972819122570714221 4 22} {1054565614668685469 4 23} {806196893480699392 4 24} {6695648278564856327 4 25} {8257030182456677671 4 26} {2200854378613135144 4 27}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {8784022578550002808 4 20} {7406688313724583764 4 21} {2972819122570714221 4 22} {1054565614668685469 4 23} {806196893480699392 4 24} {6695648278564856327 4 25} {8257030182456677671 4 26} {2200854378613135144 4 27}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91435 term 6 leader 0 nextIndex[1]: 28  matchIndex[1]: 27
term 6 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 75710 term 6 leader 0 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {8784022578550002808 4 20} {7406688313724583764 4 21} {2972819122570714221 4 22} {1054565614668685469 4 23} {806196893480699392 4 24} {6695648278564856327 4 25} {8257030182456677671 4 26} {2200854378613135144 4 27}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {8784022578550002808 4 20} {7406688313724583764 4 21} {2972819122570714221 4 22} {1054565614668685469 4 23} {806196893480699392 4 24} {6695648278564856327 4 25} {8257030182456677671 4 26} {2200854378613135144 4 27}]
------------------------------------------------------
flag 47851 term 6 leader 0 nextIndex[1]: 28  matchIndex[1]: 27
term 6 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 572 term 6 leader 0 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=26
leader log:
term 6 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
[{snapshot 4 19} {8784022578550002808 4 20} {7406688313724583764 4 21} {2972819122570714221 4 22} {1054565614668685469 4 23} {806196893480699392 4 24} {6695648278564856327 4 25} {8257030182456677671 4 26} {2200854378613135144 4 27}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {8784022578550002808 4 20} {7406688313724583764 4 21} {2972819122570714221 4 22} {1054565614668685469 4 23} {806196893480699392 4 24} {6695648278564856327 4 25} {8257030182456677671 4 26} {2200854378613135144 4 27}]
------------------------------------------------------
term 6 server 0 not vote for server 1, 任期不够新
term 6 server 1 get outdate rpc reply from server 0
client write log 2200854378613135144 (index 28) to leader 0
flag 92838 term 6 leader 0 nextIndex[1]: 28  matchIndex[1]: 27
term 6 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 44536 term 6 leader 0 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=29
update matchIndex[1]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {8784022578550002808 4 20} {7406688313724583764 4 21} {2972819122570714221 4 22} {1054565614668685469 4 23} {806196893480699392 4 24} {6695648278564856327 4 25} {8257030182456677671 4 26} {2200854378613135144 4 27} {2200854378613135144 6 28}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=29
update matchIndex[2]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {8784022578550002808 4 20} {7406688313724583764 4 21} {2972819122570714221 4 22} {1054565614668685469 4 23} {806196893480699392 4 24} {6695648278564856327 4 25} {8257030182456677671 4 26} {2200854378613135144 4 27} {2200854378613135144 6 28}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52555 term 6 leader 0 nextIndex[1]: 29  matchIndex[1]: 28
term 6 leader 0 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 6 leaderCommit: 28 
------------------------------------------------------
flag 92692 term 6 leader 0 nextIndex[2]: 29  matchIndex[2]: 28
term 6 leader 0 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 6 leaderCommit: 28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=29
update matchIndex[2]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {8784022578550002808 4 20} {7406688313724583764 4 21} {2972819122570714221 4 22} {1054565614668685469 4 23} {806196893480699392 4 24} {6695648278564856327 4 25} {8257030182456677671 4 26} {2200854378613135144 4 27} {2200854378613135144 6 28}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=29
update matchIndex[1]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {8784022578550002808 4 20} {7406688313724583764 4 21} {2972819122570714221 4 22} {1054565614668685469 4 23} {806196893480699392 4 24} {6695648278564856327 4 25} {8257030182456677671 4 26} {2200854378613135144 4 27} {2200854378613135144 6 28}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 6 server 1 not vote for server 0, 任期不够新
term 6 server 0 get outdate rpc reply from server 1
flag 56819 term 6 leader 0 nextIndex[1]: 29  matchIndex[1]: 28
term 6 leader 0 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 6 leaderCommit: 28 
------------------------------------------------------
flag 3226 term 6 leader 0 nextIndex[2]: 29  matchIndex[2]: 28
term 6 leader 0 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 6 leaderCommit: 28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=29
update matchIndex[2]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {8784022578550002808 4 20} {7406688313724583764 4 21} {2972819122570714221 4 22} {1054565614668685469 4 23} {806196893480699392 4 24} {6695648278564856327 4 25} {8257030182456677671 4 26} {2200854378613135144 4 27} {2200854378613135144 6 28}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=29
update matchIndex[1]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {8784022578550002808 4 20} {7406688313724583764 4 21} {2972819122570714221 4 22} {1054565614668685469 4 23} {806196893480699392 4 24} {6695648278564856327 4 25} {8257030182456677671 4 26} {2200854378613135144 4 27} {2200854378613135144 6 28}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95942 term 6 leader 0 nextIndex[1]: 29  matchIndex[1]: 28
term 6 leader 0 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 6 leaderCommit: 28 
------------------------------------------------------
flag 92673 term 6 leader 0 nextIndex[2]: 29  matchIndex[2]: 28
term 6 leader 0 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 6 leaderCommit: 28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=29
update matchIndex[2]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {8784022578550002808 4 20} {7406688313724583764 4 21} {2972819122570714221 4 22} {1054565614668685469 4 23} {806196893480699392 4 24} {6695648278564856327 4 25} {8257030182456677671 4 26} {2200854378613135144 4 27} {2200854378613135144 6 28}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=29
update matchIndex[1]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {8784022578550002808 4 20} {7406688313724583764 4 21} {2972819122570714221 4 22} {1054565614668685469 4 23} {806196893480699392 4 24} {6695648278564856327 4 25} {8257030182456677671 4 26} {2200854378613135144 4 27} {2200854378613135144 6 28}]
------------------------------------------------------
flag 35801 term 6 leader 0 nextIndex[1]: 29  matchIndex[1]: 28
term 6 leader 0 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 6 leaderCommit: 28 
------------------------------------------------------
flag 264 term 6 leader 0 nextIndex[2]: 29  matchIndex[2]: 28
term 6 leader 0 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 6 leaderCommit: 28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=29
update matchIndex[2]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {8784022578550002808 4 20} {7406688313724583764 4 21} {2972819122570714221 4 22} {1054565614668685469 4 23} {806196893480699392 4 24} {6695648278564856327 4 25} {8257030182456677671 4 26} {2200854378613135144 4 27} {2200854378613135144 6 28}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=29
update matchIndex[1]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {8784022578550002808 4 20} {7406688313724583764 4 21} {2972819122570714221 4 22} {1054565614668685469 4 23} {806196893480699392 4 24} {6695648278564856327 4 25} {8257030182456677671 4 26} {2200854378613135144 4 27} {2200854378613135144 6 28}]
------------------------------------------------------
flag 3365 term 6 leader 0 nextIndex[1]: 29  matchIndex[1]: 28
term 6 leader 0 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 6 leaderCommit: 28 
------------------------------------------------------
flag 43754 term 6 leader 0 nextIndex[2]: 29  matchIndex[2]: 28
term 6 leader 0 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 6 leaderCommit: 28 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=29
update matchIndex[1]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {8784022578550002808 4 20} {7406688313724583764 4 21} {2972819122570714221 4 22} {1054565614668685469 4 23} {806196893480699392 4 24} {6695648278564856327 4 25} {8257030182456677671 4 26} {2200854378613135144 4 27} {2200854378613135144 6 28}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=29
update matchIndex[2]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {8784022578550002808 4 20} {7406688313724583764 4 21} {2972819122570714221 4 22} {1054565614668685469 4 23} {806196893480699392 4 24} {6695648278564856327 4 25} {8257030182456677671 4 26} {2200854378613135144 4 27} {2200854378613135144 6 28}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 8156314402568550951 (index 29) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74926 term 6 leader 0 nextIndex[1]: 29  matchIndex[1]: 28
term 6 leader 0 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 6 leaderCommit: 28 
------------------------------------------------------
flag 73497 term 6 leader 0 nextIndex[2]: 29  matchIndex[2]: 28
term 6 leader 0 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 6 leaderCommit: 28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=29
leader log:
[{snapshot 4 19} {8784022578550002808 4 20} {7406688313724583764 4 21} {2972819122570714221 4 22} {1054565614668685469 4 23} {806196893480699392 4 24} {6695648278564856327 4 25} {8257030182456677671 4 26} {2200854378613135144 4 27} {2200854378613135144 6 28} {8156314402568550951 6 29}]
------------------------------------------------------
term 6 Server0 start snapshot! index=29
term 6 server0 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=29
-------------------------------------------------------------
term 6 leader 0 nextIndex[1]: 29  matchIndex[1]: 28
term 6 leader 0 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 6
------------------------------------------------------
flag 34825 term 6 leader 0 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 0 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 6 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=29
leader log:
[{snapshot 6 29}]
------------------------------------------------------
term 6 Server2 start snapshot! index=29
term 6 server2 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=29
-------------------------------------------------------------
client write log 1955859479963720214 (index 30) to leader 0
client write log 3365582800664102619 (index 31) to leader 0
client write log 7255372076476610585 (index 32) to leader 0
client write log 9074231675358034581 (index 33) to leader 0
client write log 3675000250915374593 (index 34) to leader 0
client write log 3311580813298840930 (index 35) to leader 0
client write log 4577331747538874073 (index 36) to leader 0
client write log 2872947862080891097 (index 37) to leader 0
client write log 93854837253565405 (index 38) to leader 0
term 6 leader 0 nextIndex[1]: 29  matchIndex[1]: 28
term 6 leader 0 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 6
------------------------------------------------------
flag 10444 term 6 leader 0 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 0 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 6 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {1955859479963720214 6 30} {3365582800664102619 6 31} {7255372076476610585 6 32} {9074231675358034581 6 33} {3675000250915374593 6 34} {3311580813298840930 6 35} {4577331747538874073 6 36} {2872947862080891097 6 37} {93854837253565405 6 38}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 6 leader 0 nextIndex[1]: 29  matchIndex[1]: 28
term 6 leader 0 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 6
------------------------------------------------------
flag 21591 term 6 leader 0 nextIndex[2]: 39  matchIndex[2]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {1955859479963720214 6 30} {3365582800664102619 6 31} {7255372076476610585 6 32} {9074231675358034581 6 33} {3675000250915374593 6 34} {3311580813298840930 6 35} {4577331747538874073 6 36} {2872947862080891097 6 37} {93854837253565405 6 38}]
------------------------------------------------------
!!!!!!connect server 1
client write log 9039853953488739847 (index 39) to leader 0
term 6 server 2 not vote for server 1, 日志不够新
term 6 server 0 not vote for server 1, 日志不够新
term 8 server 2 vote for server 0
term 8 server 1 vote for server 0
term 8 server 0 get vote from server 2
term 8 server 0 become leader
------------------------------------------------------
term 8 server 0 get outdate rpc reply from server 1
flag 28974 term 8 leader 0 nextIndex[1]: 40  matchIndex[1]: 0
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 36595 term 8 leader 0 nextIndex[2]: 40  matchIndex[2]: 0
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 8 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 40->39
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 40->39
------------------------------------------------------
term 8 leader 0 nextIndex[1]: 29  matchIndex[1]: 0
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 6
------------------------------------------------------
flag 72078 term 8 leader 0 nextIndex[2]: 39  matchIndex[2]: 0
term 8 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {1955859479963720214 6 30} {3365582800664102619 6 31} {7255372076476610585 6 32} {9074231675358034581 6 33} {3675000250915374593 6 34} {3311580813298840930 6 35} {4577331747538874073 6 36} {2872947862080891097 6 37} {93854837253565405 6 38} {9039853953488739847 6 39}]
------------------------------------------------------
term 8 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 29 rf.lastIncludedTerm 6 rf.commitIndex 29 rf.lastApplied 29
term 8 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 30 matchIndex[1] 29 
------------------------------------------------------------------------
flag 78942 term 8 leader 0 nextIndex[1]: 30  matchIndex[1]: 29
term 8 leader 0 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 14584 term 8 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {1955859479963720214 6 30} {3365582800664102619 6 31} {7255372076476610585 6 32} {9074231675358034581 6 33} {3675000250915374593 6 34} {3311580813298840930 6 35} {4577331747538874073 6 36} {2872947862080891097 6 37} {93854837253565405 6 38} {9039853953488739847 6 39}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {1955859479963720214 6 30} {3365582800664102619 6 31} {7255372076476610585 6 32} {9074231675358034581 6 33} {3675000250915374593 6 34} {3311580813298840930 6 35} {4577331747538874073 6 36} {2872947862080891097 6 37} {93854837253565405 6 38} {9039853953488739847 6 39}]
------------------------------------------------------
flag 96214 term 8 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 94114 term 8 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {1955859479963720214 6 30} {3365582800664102619 6 31} {7255372076476610585 6 32} {9074231675358034581 6 33} {3675000250915374593 6 34} {3311580813298840930 6 35} {4577331747538874073 6 36} {2872947862080891097 6 37} {93854837253565405 6 38} {9039853953488739847 6 39}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {1955859479963720214 6 30} {3365582800664102619 6 31} {7255372076476610585 6 32} {9074231675358034581 6 33} {3675000250915374593 6 34} {3311580813298840930 6 35} {4577331747538874073 6 36} {2872947862080891097 6 37} {93854837253565405 6 38} {9039853953488739847 6 39}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31959 term 8 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 13387 term 8 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {1955859479963720214 6 30} {3365582800664102619 6 31} {7255372076476610585 6 32} {9074231675358034581 6 33} {3675000250915374593 6 34} {3311580813298840930 6 35} {4577331747538874073 6 36} {2872947862080891097 6 37} {93854837253565405 6 38} {9039853953488739847 6 39}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {1955859479963720214 6 30} {3365582800664102619 6 31} {7255372076476610585 6 32} {9074231675358034581 6 33} {3675000250915374593 6 34} {3311580813298840930 6 35} {4577331747538874073 6 36} {2872947862080891097 6 37} {93854837253565405 6 38} {9039853953488739847 6 39}]
------------------------------------------------------
flag 43670 term 8 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 52182 term 8 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {1955859479963720214 6 30} {3365582800664102619 6 31} {7255372076476610585 6 32} {9074231675358034581 6 33} {3675000250915374593 6 34} {3311580813298840930 6 35} {4577331747538874073 6 36} {2872947862080891097 6 37} {93854837253565405 6 38} {9039853953488739847 6 39}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {1955859479963720214 6 30} {3365582800664102619 6 31} {7255372076476610585 6 32} {9074231675358034581 6 33} {3675000250915374593 6 34} {3311580813298840930 6 35} {4577331747538874073 6 36} {2872947862080891097 6 37} {93854837253565405 6 38} {9039853953488739847 6 39}]
------------------------------------------------------
flag 40414 term 8 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 21797 term 8 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {1955859479963720214 6 30} {3365582800664102619 6 31} {7255372076476610585 6 32} {9074231675358034581 6 33} {3675000250915374593 6 34} {3311580813298840930 6 35} {4577331747538874073 6 36} {2872947862080891097 6 37} {93854837253565405 6 38} {9039853953488739847 6 39}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {1955859479963720214 6 30} {3365582800664102619 6 31} {7255372076476610585 6 32} {9074231675358034581 6 33} {3675000250915374593 6 34} {3311580813298840930 6 35} {4577331747538874073 6 36} {2872947862080891097 6 37} {93854837253565405 6 38} {9039853953488739847 6 39}]
------------------------------------------------------
flag 24047 term 8 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 51664 term 8 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {1955859479963720214 6 30} {3365582800664102619 6 31} {7255372076476610585 6 32} {9074231675358034581 6 33} {3675000250915374593 6 34} {3311580813298840930 6 35} {4577331747538874073 6 36} {2872947862080891097 6 37} {93854837253565405 6 38} {9039853953488739847 6 39}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {1955859479963720214 6 30} {3365582800664102619 6 31} {7255372076476610585 6 32} {9074231675358034581 6 33} {3675000250915374593 6 34} {3311580813298840930 6 35} {4577331747538874073 6 36} {2872947862080891097 6 37} {93854837253565405 6 38} {9039853953488739847 6 39}]
------------------------------------------------------
flag 16764 term 8 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 58986 term 8 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {1955859479963720214 6 30} {3365582800664102619 6 31} {7255372076476610585 6 32} {9074231675358034581 6 33} {3675000250915374593 6 34} {3311580813298840930 6 35} {4577331747538874073 6 36} {2872947862080891097 6 37} {93854837253565405 6 38} {9039853953488739847 6 39}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {1955859479963720214 6 30} {3365582800664102619 6 31} {7255372076476610585 6 32} {9074231675358034581 6 33} {3675000250915374593 6 34} {3311580813298840930 6 35} {4577331747538874073 6 36} {2872947862080891097 6 37} {93854837253565405 6 38} {9039853953488739847 6 39}]
------------------------------------------------------
term 8 server 2 not vote for server 1, 任期不够新
term 8 server 1 get outdate rpc reply from server 2
flag 81751 term 8 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 34717 term 8 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {1955859479963720214 6 30} {3365582800664102619 6 31} {7255372076476610585 6 32} {9074231675358034581 6 33} {3675000250915374593 6 34} {3311580813298840930 6 35} {4577331747538874073 6 36} {2872947862080891097 6 37} {93854837253565405 6 38} {9039853953488739847 6 39}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {1955859479963720214 6 30} {3365582800664102619 6 31} {7255372076476610585 6 32} {9074231675358034581 6 33} {3675000250915374593 6 34} {3311580813298840930 6 35} {4577331747538874073 6 36} {2872947862080891097 6 37} {93854837253565405 6 38} {9039853953488739847 6 39}]
------------------------------------------------------
flag 83630 term 8 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 16559 term 8 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {1955859479963720214 6 30} {3365582800664102619 6 31} {7255372076476610585 6 32} {9074231675358034581 6 33} {3675000250915374593 6 34} {3311580813298840930 6 35} {4577331747538874073 6 36} {2872947862080891097 6 37} {93854837253565405 6 38} {9039853953488739847 6 39}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {1955859479963720214 6 30} {3365582800664102619 6 31} {7255372076476610585 6 32} {9074231675358034581 6 33} {3675000250915374593 6 34} {3311580813298840930 6 35} {4577331747538874073 6 36} {2872947862080891097 6 37} {93854837253565405 6 38} {9039853953488739847 6 39}]
------------------------------------------------------
flag 94870 term 8 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 4601 term 8 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {1955859479963720214 6 30} {3365582800664102619 6 31} {7255372076476610585 6 32} {9074231675358034581 6 33} {3675000250915374593 6 34} {3311580813298840930 6 35} {4577331747538874073 6 36} {2872947862080891097 6 37} {93854837253565405 6 38} {9039853953488739847 6 39}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {1955859479963720214 6 30} {3365582800664102619 6 31} {7255372076476610585 6 32} {9074231675358034581 6 33} {3675000250915374593 6 34} {3311580813298840930 6 35} {4577331747538874073 6 36} {2872947862080891097 6 37} {93854837253565405 6 38} {9039853953488739847 6 39}]
------------------------------------------------------
flag 56237 term 8 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 58392 term 8 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {1955859479963720214 6 30} {3365582800664102619 6 31} {7255372076476610585 6 32} {9074231675358034581 6 33} {3675000250915374593 6 34} {3311580813298840930 6 35} {4577331747538874073 6 36} {2872947862080891097 6 37} {93854837253565405 6 38} {9039853953488739847 6 39}]
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {1955859479963720214 6 30} {3365582800664102619 6 31} {7255372076476610585 6 32} {9074231675358034581 6 33} {3675000250915374593 6 34} {3311580813298840930 6 35} {4577331747538874073 6 36} {2872947862080891097 6 37} {93854837253565405 6 38} {9039853953488739847 6 39}]
------------------------------------------------------
flag 44002 term 8 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 5480 term 8 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {1955859479963720214 6 30} {3365582800664102619 6 31} {7255372076476610585 6 32} {9074231675358034581 6 33} {3675000250915374593 6 34} {3311580813298840930 6 35} {4577331747538874073 6 36} {2872947862080891097 6 37} {93854837253565405 6 38} {9039853953488739847 6 39}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {1955859479963720214 6 30} {3365582800664102619 6 31} {7255372076476610585 6 32} {9074231675358034581 6 33} {3675000250915374593 6 34} {3311580813298840930 6 35} {4577331747538874073 6 36} {2872947862080891097 6 37} {93854837253565405 6 38} {9039853953488739847 6 39}]
------------------------------------------------------
flag 27546 term 8 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 53657 term 8 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {1955859479963720214 6 30} {3365582800664102619 6 31} {7255372076476610585 6 32} {9074231675358034581 6 33} {3675000250915374593 6 34} {3311580813298840930 6 35} {4577331747538874073 6 36} {2872947862080891097 6 37} {93854837253565405 6 38} {9039853953488739847 6 39}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {1955859479963720214 6 30} {3365582800664102619 6 31} {7255372076476610585 6 32} {9074231675358034581 6 33} {3675000250915374593 6 34} {3311580813298840930 6 35} {4577331747538874073 6 36} {2872947862080891097 6 37} {93854837253565405 6 38} {9039853953488739847 6 39}]
------------------------------------------------------
flag 27825 term 8 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 42168 term 8 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {1955859479963720214 6 30} {3365582800664102619 6 31} {7255372076476610585 6 32} {9074231675358034581 6 33} {3675000250915374593 6 34} {3311580813298840930 6 35} {4577331747538874073 6 36} {2872947862080891097 6 37} {93854837253565405 6 38} {9039853953488739847 6 39}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {1955859479963720214 6 30} {3365582800664102619 6 31} {7255372076476610585 6 32} {9074231675358034581 6 33} {3675000250915374593 6 34} {3311580813298840930 6 35} {4577331747538874073 6 36} {2872947862080891097 6 37} {93854837253565405 6 38} {9039853953488739847 6 39}]
------------------------------------------------------
flag 67843 term 8 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 46640 term 8 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {1955859479963720214 6 30} {3365582800664102619 6 31} {7255372076476610585 6 32} {9074231675358034581 6 33} {3675000250915374593 6 34} {3311580813298840930 6 35} {4577331747538874073 6 36} {2872947862080891097 6 37} {93854837253565405 6 38} {9039853953488739847 6 39}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {1955859479963720214 6 30} {3365582800664102619 6 31} {7255372076476610585 6 32} {9074231675358034581 6 33} {3675000250915374593 6 34} {3311580813298840930 6 35} {4577331747538874073 6 36} {2872947862080891097 6 37} {93854837253565405 6 38} {9039853953488739847 6 39}]
------------------------------------------------------
flag 12059 term 8 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 45015 term 8 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {1955859479963720214 6 30} {3365582800664102619 6 31} {7255372076476610585 6 32} {9074231675358034581 6 33} {3675000250915374593 6 34} {3311580813298840930 6 35} {4577331747538874073 6 36} {2872947862080891097 6 37} {93854837253565405 6 38} {9039853953488739847 6 39}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {1955859479963720214 6 30} {3365582800664102619 6 31} {7255372076476610585 6 32} {9074231675358034581 6 33} {3675000250915374593 6 34} {3311580813298840930 6 35} {4577331747538874073 6 36} {2872947862080891097 6 37} {93854837253565405 6 38} {9039853953488739847 6 39}]
------------------------------------------------------
flag 45122 term 8 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 38050 term 8 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {1955859479963720214 6 30} {3365582800664102619 6 31} {7255372076476610585 6 32} {9074231675358034581 6 33} {3675000250915374593 6 34} {3311580813298840930 6 35} {4577331747538874073 6 36} {2872947862080891097 6 37} {93854837253565405 6 38} {9039853953488739847 6 39}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {1955859479963720214 6 30} {3365582800664102619 6 31} {7255372076476610585 6 32} {9074231675358034581 6 33} {3675000250915374593 6 34} {3311580813298840930 6 35} {4577331747538874073 6 36} {2872947862080891097 6 37} {93854837253565405 6 38} {9039853953488739847 6 39}]
------------------------------------------------------
client write log 9039853953488739847 (index 40) to leader 0
flag 73419 term 8 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 28110 term 8 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 29} {1955859479963720214 6 30} {3365582800664102619 6 31} {7255372076476610585 6 32} {9074231675358034581 6 33} {3675000250915374593 6 34} {3311580813298840930 6 35} {4577331747538874073 6 36} {2872947862080891097 6 37} {93854837253565405 6 38} {9039853953488739847 6 39} {9039853953488739847 8 40}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 29} {1955859479963720214 6 30} {3365582800664102619 6 31} {7255372076476610585 6 32} {9074231675358034581 6 33} {3675000250915374593 6 34} {3311580813298840930 6 35} {4577331747538874073 6 36} {2872947862080891097 6 37} {93854837253565405 6 38} {9039853953488739847 6 39} {9039853953488739847 8 40}]
------------------------------------------------------
term 8 Server0 start snapshot! index=39
term 8 server0 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=40
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 8 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 38366 term 8 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 11173 term 8 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {9039853953488739847 8 40}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
term 8 Server1 start snapshot! index=39
term 8 server1 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=40
-------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {9039853953488739847 8 40}]
------------------------------------------------------
term 8 Server2 start snapshot! index=39
term 8 server2 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=40
-------------------------------------------------------------
flag 53608 term 8 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 17377 term 8 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {9039853953488739847 8 40}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {9039853953488739847 8 40}]
------------------------------------------------------
flag 23791 term 8 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 81596 term 8 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {9039853953488739847 8 40}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {9039853953488739847 8 40}]
------------------------------------------------------
flag 380 term 8 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 31392 term 8 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {9039853953488739847 8 40}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {9039853953488739847 8 40}]
------------------------------------------------------
flag 34852 term 8 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 60554 term 8 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {9039853953488739847 8 40}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {9039853953488739847 8 40}]
------------------------------------------------------
term 8 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 20668 term 8 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 51365 term 8 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {9039853953488739847 8 40}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {9039853953488739847 8 40}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 97229 term 8 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 36060 term 8 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 63669 term 8 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 23996 term 8 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 30863 term 8 leader 0 nextIndex[1]: 41  matchIndex[1]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 47693 term 8 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 41->40
------------------------------------------------------
term 8 leader 0 nextIndex[1]: 0  matchIndex[1]: 40
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 30749 term 8 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
term 9 server 1 vote for server 2
term 9 server 2 get vote from server 1
term 9 server 2 become leader
------------------------------------------------------
client write log 4090505411208618436 (index 41) to leader 2
flag 97899 term 9 leader 2 nextIndex[0]: 41  matchIndex[0]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 17709 term 9 leader 2 nextIndex[1]: 41  matchIndex[1]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {9039853953488739847 8 40} {4090505411208618436 9 41}]
------------------------------------------------------
term 8 leader 0 nextIndex[1]: 0  matchIndex[1]: 40
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 41755 term 8 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
flag 62268 term 9 leader 2 nextIndex[0]: 41  matchIndex[0]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 41 
------------------------------------------------------
flag 7998 term 9 leader 2 nextIndex[1]: 42  matchIndex[1]: 41
term 9 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 9 leaderCommit: 41 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {9039853953488739847 8 40} {4090505411208618436 9 41}]
------------------------------------------------------
client write log 1014396862773099601 (index 42) to leader 2
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 41->40
------------------------------------------------------
term 8 leader 0 nextIndex[1]: 0  matchIndex[1]: 40
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 67377 term 8 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
term 9 leader 2 nextIndex[0]: 0  matchIndex[0]: 0
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 85727 term 9 leader 2 nextIndex[1]: 42  matchIndex[1]: 41
term 9 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 9 leaderCommit: 41 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {9039853953488739847 8 40} {4090505411208618436 9 41} {1014396862773099601 9 42}]
------------------------------------------------------
term 8 leader 0 nextIndex[1]: 0  matchIndex[1]: 40
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 873 term 8 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
term 9 leader 2 nextIndex[0]: 0  matchIndex[0]: 0
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 78001 term 9 leader 2 nextIndex[1]: 43  matchIndex[1]: 42
term 9 leader 2 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {9039853953488739847 8 40} {4090505411208618436 9 41} {1014396862773099601 9 42}]
------------------------------------------------------
!!!!!!connect server 0
client write log 2879851469272429659 (index 43) to leader 2
term 8 leader 0 nextIndex[1]: 0  matchIndex[1]: 40
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 79799 term 8 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
term 9 server 2 AppendEntries false 领导者任期过期 args.Term 8
------------------------------------------------------
term 9 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 9 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 9 leader 2 nextIndex[0]: 0  matchIndex[0]: 0
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 11254 term 9 leader 2 nextIndex[1]: 43  matchIndex[1]: 42
term 9 leader 2 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 9 leaderCommit: 42 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
term 9 server 0 InstallSnapshot fail
rf.commitIndex 40 args.LastIncludedIndex 39
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {9039853953488739847 8 40} {4090505411208618436 9 41} {1014396862773099601 9 42} {2879851469272429659 9 43}]
------------------------------------------------------
term 9 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 40 matchIndex[0] 39 
------------------------------------------------------------------------
flag 60096 term 9 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 9 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
flag 253 term 9 leader 2 nextIndex[1]: 44  matchIndex[1]: 43
term 9 leader 2 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {9039853953488739847 8 40} {4090505411208618436 9 41} {1014396862773099601 9 42} {2879851469272429659 9 43}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {9039853953488739847 8 40} {4090505411208618436 9 41} {1014396862773099601 9 42} {2879851469272429659 9 43}]
------------------------------------------------------
term 9 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 40 matchIndex[0] 39 
------------------------------------------------------------------------
flag 53027 term 9 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 9 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
flag 57568 term 9 leader 2 nextIndex[1]: 44  matchIndex[1]: 43
term 9 leader 2 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {9039853953488739847 8 40} {4090505411208618436 9 41} {1014396862773099601 9 42} {2879851469272429659 9 43}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {9039853953488739847 8 40} {4090505411208618436 9 41} {1014396862773099601 9 42} {2879851469272429659 9 43}]
------------------------------------------------------
term 9 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 40 matchIndex[0] 39 
------------------------------------------------------------------------
flag 43891 term 9 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 9 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
flag 1251 term 9 leader 2 nextIndex[1]: 44  matchIndex[1]: 43
term 9 leader 2 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {9039853953488739847 8 40} {4090505411208618436 9 41} {1014396862773099601 9 42} {2879851469272429659 9 43}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {9039853953488739847 8 40} {4090505411208618436 9 41} {1014396862773099601 9 42} {2879851469272429659 9 43}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19841 term 9 leader 2 nextIndex[0]: 44  matchIndex[0]: 43
term 9 leader 2 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
flag 39246 term 9 leader 2 nextIndex[1]: 44  matchIndex[1]: 43
term 9 leader 2 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {9039853953488739847 8 40} {4090505411208618436 9 41} {1014396862773099601 9 42} {2879851469272429659 9 43}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {9039853953488739847 8 40} {4090505411208618436 9 41} {1014396862773099601 9 42} {2879851469272429659 9 43}]
------------------------------------------------------
flag 34763 term 9 leader 2 nextIndex[0]: 44  matchIndex[0]: 43
term 9 leader 2 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
flag 20331 term 9 leader 2 nextIndex[1]: 44  matchIndex[1]: 43
term 9 leader 2 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {9039853953488739847 8 40} {4090505411208618436 9 41} {1014396862773099601 9 42} {2879851469272429659 9 43}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {9039853953488739847 8 40} {4090505411208618436 9 41} {1014396862773099601 9 42} {2879851469272429659 9 43}]
------------------------------------------------------
flag 14678 term 9 leader 2 nextIndex[0]: 44  matchIndex[0]: 43
term 9 leader 2 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
flag 41669 term 9 leader 2 nextIndex[1]: 44  matchIndex[1]: 43
term 9 leader 2 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {9039853953488739847 8 40} {4090505411208618436 9 41} {1014396862773099601 9 42} {2879851469272429659 9 43}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {9039853953488739847 8 40} {4090505411208618436 9 41} {1014396862773099601 9 42} {2879851469272429659 9 43}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 2458018633664393769 (index 44) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35898 term 9 leader 2 nextIndex[0]: 44  matchIndex[0]: 43
term 9 leader 2 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
flag 6935 term 9 leader 2 nextIndex[1]: 44  matchIndex[1]: 43
term 9 leader 2 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 43 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {9039853953488739847 8 40} {4090505411208618436 9 41} {1014396862773099601 9 42} {2879851469272429659 9 43} {2458018633664393769 9 44}]
------------------------------------------------------
flag 71391 term 9 leader 2 nextIndex[0]: 44  matchIndex[0]: 43
term 9 leader 2 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
flag 92721 term 9 leader 2 nextIndex[1]: 45  matchIndex[1]: 44
term 9 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {9039853953488739847 8 40} {4090505411208618436 9 41} {1014396862773099601 9 42} {2879851469272429659 9 43} {2458018633664393769 9 44}]
------------------------------------------------------
client write log 5663662936171735075 (index 45) to leader 2
client write log 371183375155298607 (index 46) to leader 2
client write log 7788736579839794357 (index 47) to leader 2
client write log 8256959322744694216 (index 48) to leader 2
client write log 7528548966514795319 (index 49) to leader 2
client write log 2567200854972322350 (index 50) to leader 2
client write log 1576818781298933270 (index 51) to leader 2
client write log 101089483684975402 (index 52) to leader 2
client write log 7410124462101779456 (index 53) to leader 2
client write log 7592747884392318792 (index 54) to leader 2
client write log 7060528177607808253 (index 55) to leader 2
client write log 7963689078686103967 (index 56) to leader 2
client write log 7825654899626255061 (index 57) to leader 2
client write log 7081765508065075357 (index 58) to leader 2
term 9 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 29498 term 9 leader 2 nextIndex[0]: 44  matchIndex[0]: 43
term 9 leader 2 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
flag 96869 term 9 leader 2 nextIndex[1]: 45  matchIndex[1]: 44
term 9 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 6 39} {9039853953488739847 8 40} {4090505411208618436 9 41} {1014396862773099601 9 42} {2879851469272429659 9 43} {2458018633664393769 9 44} {5663662936171735075 9 45} {371183375155298607 9 46} {7788736579839794357 9 47} {8256959322744694216 9 48} {7528548966514795319 9 49} {2567200854972322350 9 50} {1576818781298933270 9 51} {101089483684975402 9 52} {7410124462101779456 9 53} {7592747884392318792 9 54} {7060528177607808253 9 55} {7963689078686103967 9 56} {7825654899626255061 9 57} {7081765508065075357 9 58}]
------------------------------------------------------
term 9 Server2 start snapshot! index=49
term 9 server2 snapshot success
lastIncludedIndex=49 lastApplied=50 lastIndex=58
-------------------------------------------------------------
term 9 leader 2 nextIndex[0]: 44  matchIndex[0]: 43
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
flag 66408 term 9 leader 2 nextIndex[1]: 59  matchIndex[1]: 58
term 9 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {2567200854972322350 9 50} {1576818781298933270 9 51} {101089483684975402 9 52} {7410124462101779456 9 53} {7592747884392318792 9 54} {7060528177607808253 9 55} {7963689078686103967 9 56} {7825654899626255061 9 57} {7081765508065075357 9 58}]
------------------------------------------------------
term 9 Server1 start snapshot! index=49
term 9 server1 snapshot success
lastIncludedIndex=49 lastApplied=50 lastIndex=58
-------------------------------------------------------------
!!!!!!connect server 0
client write log 1871849642950466936 (index 59) to leader 2
term 9 server 2 not vote for server 0, 日志不够新
term 9 server 1 not vote for server 0, 日志不够新
term 11 server 1 vote for server 2
term 11 server 0 vote for server 2
term 11 server 2 get vote from server 1
term 11 server 2 become leader
------------------------------------------------------
term 11 server 2 get outdate rpc reply from server 0
flag 2224 term 11 leader 2 nextIndex[0]: 60  matchIndex[0]: 0
term 11 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 84686 term 11 leader 2 nextIndex[1]: 60  matchIndex[1]: 0
term 11 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 11 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 11 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 60->59
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 60->59
------------------------------------------------------
term 11 leader 2 nextIndex[0]: 44  matchIndex[0]: 0
term 11 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
flag 52661 term 11 leader 2 nextIndex[1]: 59  matchIndex[1]: 0
term 11 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=58
leader log:
term 11 server 0 InstallSnapshot success
------------------------------------------------------
[{snapshot 9 49} {2567200854972322350 9 50} {1576818781298933270 9 51} {101089483684975402 9 52} {7410124462101779456 9 53} {7592747884392318792 9 54} {7060528177607808253 9 55} {7963689078686103967 9 56} {7825654899626255061 9 57} {7081765508065075357 9 58} {1871849642950466936 9 59}]
------------------------------------------------------
term 11 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 50 matchIndex[0] 49 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 49 rf.lastIncludedTerm 9 rf.commitIndex 49 rf.lastApplied 49
flag 26516 term 11 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 11 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 52339 term 11 leader 2 nextIndex[1]: 60  matchIndex[1]: 59
term 11 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {2567200854972322350 9 50} {1576818781298933270 9 51} {101089483684975402 9 52} {7410124462101779456 9 53} {7592747884392318792 9 54} {7060528177607808253 9 55} {7963689078686103967 9 56} {7825654899626255061 9 57} {7081765508065075357 9 58} {1871849642950466936 9 59}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=60
update matchIndex[0]=59
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {2567200854972322350 9 50} {1576818781298933270 9 51} {101089483684975402 9 52} {7410124462101779456 9 53} {7592747884392318792 9 54} {7060528177607808253 9 55} {7963689078686103967 9 56} {7825654899626255061 9 57} {7081765508065075357 9 58} {1871849642950466936 9 59}]
------------------------------------------------------
flag 86766 term 11 leader 2 nextIndex[0]: 60  matchIndex[0]: 59
term 11 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 98024 term 11 leader 2 nextIndex[1]: 60  matchIndex[1]: 59
term 11 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=60
update matchIndex[0]=59
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {2567200854972322350 9 50} {1576818781298933270 9 51} {101089483684975402 9 52} {7410124462101779456 9 53} {7592747884392318792 9 54} {7060528177607808253 9 55} {7963689078686103967 9 56} {7825654899626255061 9 57} {7081765508065075357 9 58} {1871849642950466936 9 59}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {2567200854972322350 9 50} {1576818781298933270 9 51} {101089483684975402 9 52} {7410124462101779456 9 53} {7592747884392318792 9 54} {7060528177607808253 9 55} {7963689078686103967 9 56} {7825654899626255061 9 57} {7081765508065075357 9 58} {1871849642950466936 9 59}]
------------------------------------------------------
term 11 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 2553 term 11 leader 2 nextIndex[0]: 60  matchIndex[0]: 59
term 11 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 91291 term 11 leader 2 nextIndex[1]: 60  matchIndex[1]: 59
term 11 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {2567200854972322350 9 50} {1576818781298933270 9 51} {101089483684975402 9 52} {7410124462101779456 9 53} {7592747884392318792 9 54} {7060528177607808253 9 55} {7963689078686103967 9 56} {7825654899626255061 9 57} {7081765508065075357 9 58} {1871849642950466936 9 59}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=60
update matchIndex[0]=59
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {2567200854972322350 9 50} {1576818781298933270 9 51} {101089483684975402 9 52} {7410124462101779456 9 53} {7592747884392318792 9 54} {7060528177607808253 9 55} {7963689078686103967 9 56} {7825654899626255061 9 57} {7081765508065075357 9 58} {1871849642950466936 9 59}]
------------------------------------------------------
flag 41693 term 11 leader 2 nextIndex[0]: 60  matchIndex[0]: 59
term 11 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 78516 term 11 leader 2 nextIndex[1]: 60  matchIndex[1]: 59
term 11 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {2567200854972322350 9 50} {1576818781298933270 9 51} {101089483684975402 9 52} {7410124462101779456 9 53} {7592747884392318792 9 54} {7060528177607808253 9 55} {7963689078686103967 9 56} {7825654899626255061 9 57} {7081765508065075357 9 58} {1871849642950466936 9 59}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=60
update matchIndex[0]=59
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {2567200854972322350 9 50} {1576818781298933270 9 51} {101089483684975402 9 52} {7410124462101779456 9 53} {7592747884392318792 9 54} {7060528177607808253 9 55} {7963689078686103967 9 56} {7825654899626255061 9 57} {7081765508065075357 9 58} {1871849642950466936 9 59}]
------------------------------------------------------
flag 98144 term 11 leader 2 nextIndex[0]: 60  matchIndex[0]: 59
term 11 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 95268 term 11 leader 2 nextIndex[1]: 60  matchIndex[1]: 59
term 11 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:58 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {2567200854972322350 9 50} {1576818781298933270 9 51} {101089483684975402 9 52} {7410124462101779456 9 53} {7592747884392318792 9 54} {7060528177607808253 9 55} {7963689078686103967 9 56} {7825654899626255061 9 57} {7081765508065075357 9 58} {1871849642950466936 9 59}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=60
update matchIndex[0]=59
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {2567200854972322350 9 50} {1576818781298933270 9 51} {101089483684975402 9 52} {7410124462101779456 9 53} {7592747884392318792 9 54} {7060528177607808253 9 55} {7963689078686103967 9 56} {7825654899626255061 9 57} {7081765508065075357 9 58} {1871849642950466936 9 59}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 11 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 88997 term 11 leader 2 nextIndex[0]: 60  matchIndex[0]: 59
term 11 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 3959 term 11 leader 2 nextIndex[1]: 60  matchIndex[1]: 59
term 11 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:58 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=60
update matchIndex[0]=59
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {2567200854972322350 9 50} {1576818781298933270 9 51} {101089483684975402 9 52} {7410124462101779456 9 53} {7592747884392318792 9 54} {7060528177607808253 9 55} {7963689078686103967 9 56} {7825654899626255061 9 57} {7081765508065075357 9 58} {1871849642950466936 9 59}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {2567200854972322350 9 50} {1576818781298933270 9 51} {101089483684975402 9 52} {7410124462101779456 9 53} {7592747884392318792 9 54} {7060528177607808253 9 55} {7963689078686103967 9 56} {7825654899626255061 9 57} {7081765508065075357 9 58} {1871849642950466936 9 59}]
------------------------------------------------------
flag 4878 term 11 leader 2 nextIndex[0]: 60  matchIndex[0]: 59
term 11 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 23228 term 11 leader 2 nextIndex[1]: 60  matchIndex[1]: 59
term 11 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=58
leader log:
term 11 server 0 AppendEntries true commitIndex:58 
------------------------------------------------------
[{snapshot 9 49} {2567200854972322350 9 50} {1576818781298933270 9 51} {101089483684975402 9 52} {7410124462101779456 9 53} {7592747884392318792 9 54} {7060528177607808253 9 55} {7963689078686103967 9 56} {7825654899626255061 9 57} {7081765508065075357 9 58} {1871849642950466936 9 59}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=60
update matchIndex[0]=59
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {2567200854972322350 9 50} {1576818781298933270 9 51} {101089483684975402 9 52} {7410124462101779456 9 53} {7592747884392318792 9 54} {7060528177607808253 9 55} {7963689078686103967 9 56} {7825654899626255061 9 57} {7081765508065075357 9 58} {1871849642950466936 9 59}]
------------------------------------------------------
flag 70173 term 11 leader 2 nextIndex[0]: 60  matchIndex[0]: 59
term 11 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 83082 term 11 leader 2 nextIndex[1]: 60  matchIndex[1]: 59
term 11 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {2567200854972322350 9 50} {1576818781298933270 9 51} {101089483684975402 9 52} {7410124462101779456 9 53} {7592747884392318792 9 54} {7060528177607808253 9 55} {7963689078686103967 9 56} {7825654899626255061 9 57} {7081765508065075357 9 58} {1871849642950466936 9 59}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=60
update matchIndex[0]=59
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {2567200854972322350 9 50} {1576818781298933270 9 51} {101089483684975402 9 52} {7410124462101779456 9 53} {7592747884392318792 9 54} {7060528177607808253 9 55} {7963689078686103967 9 56} {7825654899626255061 9 57} {7081765508065075357 9 58} {1871849642950466936 9 59}]
------------------------------------------------------
flag 80107 term 11 leader 2 nextIndex[0]: 60  matchIndex[0]: 59
term 11 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 66222 term 11 leader 2 nextIndex[1]: 60  matchIndex[1]: 59
term 11 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {2567200854972322350 9 50} {1576818781298933270 9 51} {101089483684975402 9 52} {7410124462101779456 9 53} {7592747884392318792 9 54} {7060528177607808253 9 55} {7963689078686103967 9 56} {7825654899626255061 9 57} {7081765508065075357 9 58} {1871849642950466936 9 59}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=60
update matchIndex[0]=59
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {2567200854972322350 9 50} {1576818781298933270 9 51} {101089483684975402 9 52} {7410124462101779456 9 53} {7592747884392318792 9 54} {7060528177607808253 9 55} {7963689078686103967 9 56} {7825654899626255061 9 57} {7081765508065075357 9 58} {1871849642950466936 9 59}]
------------------------------------------------------
flag 20883 term 11 leader 2 nextIndex[0]: 60  matchIndex[0]: 59
term 11 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 44933 term 11 leader 2 nextIndex[1]: 60  matchIndex[1]: 59
term 11 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {2567200854972322350 9 50} {1576818781298933270 9 51} {101089483684975402 9 52} {7410124462101779456 9 53} {7592747884392318792 9 54} {7060528177607808253 9 55} {7963689078686103967 9 56} {7825654899626255061 9 57} {7081765508065075357 9 58} {1871849642950466936 9 59}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=60
update matchIndex[0]=59
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {2567200854972322350 9 50} {1576818781298933270 9 51} {101089483684975402 9 52} {7410124462101779456 9 53} {7592747884392318792 9 54} {7060528177607808253 9 55} {7963689078686103967 9 56} {7825654899626255061 9 57} {7081765508065075357 9 58} {1871849642950466936 9 59}]
------------------------------------------------------
flag 77986 term 11 leader 2 nextIndex[0]: 60  matchIndex[0]: 59
term 11 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 83573 term 11 leader 2 nextIndex[1]: 60  matchIndex[1]: 59
term 11 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {2567200854972322350 9 50} {1576818781298933270 9 51} {101089483684975402 9 52} {7410124462101779456 9 53} {7592747884392318792 9 54} {7060528177607808253 9 55} {7963689078686103967 9 56} {7825654899626255061 9 57} {7081765508065075357 9 58} {1871849642950466936 9 59}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=60
update matchIndex[0]=59
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {2567200854972322350 9 50} {1576818781298933270 9 51} {101089483684975402 9 52} {7410124462101779456 9 53} {7592747884392318792 9 54} {7060528177607808253 9 55} {7963689078686103967 9 56} {7825654899626255061 9 57} {7081765508065075357 9 58} {1871849642950466936 9 59}]
------------------------------------------------------
term 11 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 86787 term 11 leader 2 nextIndex[0]: 60  matchIndex[0]: 59
term 11 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 64137 term 11 leader 2 nextIndex[1]: 60  matchIndex[1]: 59
term 11 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:58 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=60
update matchIndex[0]=59
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {2567200854972322350 9 50} {1576818781298933270 9 51} {101089483684975402 9 52} {7410124462101779456 9 53} {7592747884392318792 9 54} {7060528177607808253 9 55} {7963689078686103967 9 56} {7825654899626255061 9 57} {7081765508065075357 9 58} {1871849642950466936 9 59}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {2567200854972322350 9 50} {1576818781298933270 9 51} {101089483684975402 9 52} {7410124462101779456 9 53} {7592747884392318792 9 54} {7060528177607808253 9 55} {7963689078686103967 9 56} {7825654899626255061 9 57} {7081765508065075357 9 58} {1871849642950466936 9 59}]
------------------------------------------------------
flag 27504 term 11 leader 2 nextIndex[0]: 60  matchIndex[0]: 59
term 11 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 1278 term 11 leader 2 nextIndex[1]: 60  matchIndex[1]: 59
term 11 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=60
update matchIndex[0]=59
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {2567200854972322350 9 50} {1576818781298933270 9 51} {101089483684975402 9 52} {7410124462101779456 9 53} {7592747884392318792 9 54} {7060528177607808253 9 55} {7963689078686103967 9 56} {7825654899626255061 9 57} {7081765508065075357 9 58} {1871849642950466936 9 59}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {2567200854972322350 9 50} {1576818781298933270 9 51} {101089483684975402 9 52} {7410124462101779456 9 53} {7592747884392318792 9 54} {7060528177607808253 9 55} {7963689078686103967 9 56} {7825654899626255061 9 57} {7081765508065075357 9 58} {1871849642950466936 9 59}]
------------------------------------------------------
flag 82353 term 11 leader 2 nextIndex[0]: 60  matchIndex[0]: 59
term 11 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 55066 term 11 leader 2 nextIndex[1]: 60  matchIndex[1]: 59
term 11 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueterm 11 server 0 AppendEntries true commitIndex:58 
------------------------------------------------------
update nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {2567200854972322350 9 50} {1576818781298933270 9 51} {101089483684975402 9 52} {7410124462101779456 9 53} {7592747884392318792 9 54} {7060528177607808253 9 55} {7963689078686103967 9 56} {7825654899626255061 9 57} {7081765508065075357 9 58} {1871849642950466936 9 59}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=60
update matchIndex[0]=59
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {2567200854972322350 9 50} {1576818781298933270 9 51} {101089483684975402 9 52} {7410124462101779456 9 53} {7592747884392318792 9 54} {7060528177607808253 9 55} {7963689078686103967 9 56} {7825654899626255061 9 57} {7081765508065075357 9 58} {1871849642950466936 9 59}]
------------------------------------------------------
flag 97818 term 11 leader 2 nextIndex[0]: 60  matchIndex[0]: 59
term 11 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 17279 term 11 leader 2 nextIndex[1]: 60  matchIndex[1]: 59
term 11 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {2567200854972322350 9 50} {1576818781298933270 9 51} {101089483684975402 9 52} {7410124462101779456 9 53} {7592747884392318792 9 54} {7060528177607808253 9 55} {7963689078686103967 9 56} {7825654899626255061 9 57} {7081765508065075357 9 58} {1871849642950466936 9 59}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=60
update matchIndex[0]=59
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {2567200854972322350 9 50} {1576818781298933270 9 51} {101089483684975402 9 52} {7410124462101779456 9 53} {7592747884392318792 9 54} {7060528177607808253 9 55} {7963689078686103967 9 56} {7825654899626255061 9 57} {7081765508065075357 9 58} {1871849642950466936 9 59}]
------------------------------------------------------
flag 41796 term 11 leader 2 nextIndex[0]: 60  matchIndex[0]: 59
term 11 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 87644 term 11 leader 2 nextIndex[1]: 60  matchIndex[1]: 59
term 11 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=58
leader log:
term 11 server 0 AppendEntries true commitIndex:58 
------------------------------------------------------
[{snapshot 9 49} {2567200854972322350 9 50} {1576818781298933270 9 51} {101089483684975402 9 52} {7410124462101779456 9 53} {7592747884392318792 9 54} {7060528177607808253 9 55} {7963689078686103967 9 56} {7825654899626255061 9 57} {7081765508065075357 9 58} {1871849642950466936 9 59}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=60
update matchIndex[0]=59
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {2567200854972322350 9 50} {1576818781298933270 9 51} {101089483684975402 9 52} {7410124462101779456 9 53} {7592747884392318792 9 54} {7060528177607808253 9 55} {7963689078686103967 9 56} {7825654899626255061 9 57} {7081765508065075357 9 58} {1871849642950466936 9 59}]
------------------------------------------------------
flag 82674 term 11 leader 2 nextIndex[0]: 60  matchIndex[0]: 59
term 11 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 96618 term 11 leader 2 nextIndex[1]: 60  matchIndex[1]: 59
term 11 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=60
update matchIndex[0]=59
term 11 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {2567200854972322350 9 50} {1576818781298933270 9 51} {101089483684975402 9 52} {7410124462101779456 9 53} {7592747884392318792 9 54} {7060528177607808253 9 55} {7963689078686103967 9 56} {7825654899626255061 9 57} {7081765508065075357 9 58} {1871849642950466936 9 59}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {2567200854972322350 9 50} {1576818781298933270 9 51} {101089483684975402 9 52} {7410124462101779456 9 53} {7592747884392318792 9 54} {7060528177607808253 9 55} {7963689078686103967 9 56} {7825654899626255061 9 57} {7081765508065075357 9 58} {1871849642950466936 9 59}]
------------------------------------------------------
flag 35049 term 11 leader 2 nextIndex[0]: 60  matchIndex[0]: 59
term 11 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 9377 term 11 leader 2 nextIndex[1]: 60  matchIndex[1]: 59
term 11 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {2567200854972322350 9 50} {1576818781298933270 9 51} {101089483684975402 9 52} {7410124462101779456 9 53} {7592747884392318792 9 54} {7060528177607808253 9 55} {7963689078686103967 9 56} {7825654899626255061 9 57} {7081765508065075357 9 58} {1871849642950466936 9 59}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=60
update matchIndex[0]=59
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {2567200854972322350 9 50} {1576818781298933270 9 51} {101089483684975402 9 52} {7410124462101779456 9 53} {7592747884392318792 9 54} {7060528177607808253 9 55} {7963689078686103967 9 56} {7825654899626255061 9 57} {7081765508065075357 9 58} {1871849642950466936 9 59}]
------------------------------------------------------
client write log 1871849642950466936 (index 60) to leader 2
flag 86889 term 11 leader 2 nextIndex[0]: 60  matchIndex[0]: 59
term 11 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
flag 16122 term 11 leader 2 nextIndex[1]: 60  matchIndex[1]: 59
term 11 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 58 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:58 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 49} {2567200854972322350 9 50} {1576818781298933270 9 51} {101089483684975402 9 52} {7410124462101779456 9 53} {7592747884392318792 9 54} {7060528177607808253 9 55} {7963689078686103967 9 56} {7825654899626255061 9 57} {7081765508065075357 9 58} {1871849642950466936 9 59} {1871849642950466936 11 60}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 49} {2567200854972322350 9 50} {1576818781298933270 9 51} {101089483684975402 9 52} {7410124462101779456 9 53} {7592747884392318792 9 54} {7060528177607808253 9 55} {7963689078686103967 9 56} {7825654899626255061 9 57} {7081765508065075357 9 58} {1871849642950466936 9 59} {1871849642950466936 11 60}]
------------------------------------------------------
term 11 Server2 start snapshot! index=59
term 11 server2 snapshot success
lastIncludedIndex=59 lastApplied=60 lastIndex=60
-------------------------------------------------------------
term 11 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 43939 term 11 leader 2 nextIndex[0]: 61  matchIndex[0]: 60
term 11 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
flag 22865 term 11 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 11 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {1871849642950466936 11 60}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {1871849642950466936 11 60}]
------------------------------------------------------
term 11 Server0 start snapshot! index=59
term 11 server0 snapshot success
lastIncludedIndex=59 lastApplied=60 lastIndex=60
-------------------------------------------------------------
term 11 Server1 start snapshot! index=59
term 11 server1 snapshot success
lastIncludedIndex=59 lastApplied=60 lastIndex=60
-------------------------------------------------------------
flag 85200 term 11 leader 2 nextIndex[0]: 61  matchIndex[0]: 60
term 11 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
flag 7212 term 11 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 11 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {1871849642950466936 11 60}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {1871849642950466936 11 60}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90385 term 11 leader 2 nextIndex[0]: 61  matchIndex[0]: 60
term 11 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
flag 10912 term 11 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 11 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {1871849642950466936 11 60}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {1871849642950466936 11 60}]
------------------------------------------------------
flag 488 term 11 leader 2 nextIndex[0]: 61  matchIndex[0]: 60
term 11 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
flag 82564 term 11 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 11 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {1871849642950466936 11 60}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {1871849642950466936 11 60}]
------------------------------------------------------
flag 86924 term 11 leader 2 nextIndex[0]: 61  matchIndex[0]: 60
term 11 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
flag 24349 term 11 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 11 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {1871849642950466936 11 60}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {1871849642950466936 11 60}]
------------------------------------------------------
flag 7773 term 11 leader 2 nextIndex[0]: 61  matchIndex[0]: 60
term 11 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
flag 5123 term 11 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 11 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {1871849642950466936 11 60}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {1871849642950466936 11 60}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 6384362171352770467 (index 61) to leader 2
flag 35099 term 11 leader 2 nextIndex[0]: 61  matchIndex[0]: 60
term 11 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
flag 3911 term 11 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 11 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {1871849642950466936 11 60} {6384362171352770467 11 61}]
------------------------------------------------------
flag 23359 term 11 leader 2 nextIndex[0]: 61  matchIndex[0]: 60
term 11 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 61 
------------------------------------------------------
flag 61424 term 11 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 11 leaderCommit: 61 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {1871849642950466936 11 60} {6384362171352770467 11 61}]
------------------------------------------------------
client write log 3666592637626534975 (index 62) to leader 2
client write log 1740723722988442100 (index 63) to leader 2
client write log 1952688960818237066 (index 64) to leader 2
client write log 7165291805607640467 (index 65) to leader 2
client write log 6757601875947644477 (index 66) to leader 2
client write log 4870224973851439607 (index 67) to leader 2
client write log 3243355634777443056 (index 68) to leader 2
flag 78324 term 11 leader 2 nextIndex[0]: 61  matchIndex[0]: 60
term 11 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 61 
------------------------------------------------------
flag 78379 term 11 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 11 leaderCommit: 61 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {1871849642950466936 11 60} {6384362171352770467 11 61} {3666592637626534975 11 62} {1740723722988442100 11 63} {1952688960818237066 11 64} {7165291805607640467 11 65} {6757601875947644477 11 66} {4870224973851439607 11 67} {3243355634777443056 11 68}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43965 term 11 leader 2 nextIndex[0]: 61  matchIndex[0]: 60
term 11 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
flag 1612 term 11 leader 2 nextIndex[1]: 69  matchIndex[1]: 68
term 11 leader 2 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {1871849642950466936 11 60} {6384362171352770467 11 61} {3666592637626534975 11 62} {1740723722988442100 11 63} {1952688960818237066 11 64} {7165291805607640467 11 65} {6757601875947644477 11 66} {4870224973851439607 11 67} {3243355634777443056 11 68}]
------------------------------------------------------
!!!!!!connect server 0
client write log 6311524812058988767 (index 69) to leader 2
term 11 server 2 not vote for server 0, 日志不够新
term 11 server 1 not vote for server 0, 日志不够新
term 13 server 1 vote for server 2
term 13 server 2 get vote from server 1
term 13 server 0 vote for server 2
term 13 server 2 become leader
------------------------------------------------------
term 13 server 2 get outdate rpc reply from server 0
flag 71937 term 13 leader 2 nextIndex[0]: 70  matchIndex[0]: 0
term 13 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
flag 45463 term 13 leader 2 nextIndex[1]: 70  matchIndex[1]: 0
term 13 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
term 13 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 13 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 70->69
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 70->69
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99608 term 13 leader 2 nextIndex[0]: 61  matchIndex[0]: 0
term 13 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
flag 13909 term 13 leader 2 nextIndex[1]: 69  matchIndex[1]: 0
term 13 leader 2 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {1871849642950466936 11 60} {6384362171352770467 11 61} {3666592637626534975 11 62} {1740723722988442100 11 63} {1952688960818237066 11 64} {7165291805607640467 11 65} {6757601875947644477 11 66} {4870224973851439607 11 67} {3243355634777443056 11 68} {6311524812058988767 11 69}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {1871849642950466936 11 60} {6384362171352770467 11 61} {3666592637626534975 11 62} {1740723722988442100 11 63} {1952688960818237066 11 64} {7165291805607640467 11 65} {6757601875947644477 11 66} {4870224973851439607 11 67} {3243355634777443056 11 68} {6311524812058988767 11 69}]
------------------------------------------------------
flag 85613 term 13 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 13 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
flag 95870 term 13 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 13 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=68
leader log:
term 13 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
[{snapshot 9 59} {1871849642950466936 11 60} {6384362171352770467 11 61} {3666592637626534975 11 62} {1740723722988442100 11 63} {1952688960818237066 11 64} {7165291805607640467 11 65} {6757601875947644477 11 66} {4870224973851439607 11 67} {3243355634777443056 11 68} {6311524812058988767 11 69}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {1871849642950466936 11 60} {6384362171352770467 11 61} {3666592637626534975 11 62} {1740723722988442100 11 63} {1952688960818237066 11 64} {7165291805607640467 11 65} {6757601875947644477 11 66} {4870224973851439607 11 67} {3243355634777443056 11 68} {6311524812058988767 11 69}]
------------------------------------------------------
flag 76606 term 13 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 13 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
flag 56890 term 13 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 13 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {1871849642950466936 11 60} {6384362171352770467 11 61} {3666592637626534975 11 62} {1740723722988442100 11 63} {1952688960818237066 11 64} {7165291805607640467 11 65} {6757601875947644477 11 66} {4870224973851439607 11 67} {3243355634777443056 11 68} {6311524812058988767 11 69}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {1871849642950466936 11 60} {6384362171352770467 11 61} {3666592637626534975 11 62} {1740723722988442100 11 63} {1952688960818237066 11 64} {7165291805607640467 11 65} {6757601875947644477 11 66} {4870224973851439607 11 67} {3243355634777443056 11 68} {6311524812058988767 11 69}]
------------------------------------------------------
flag 58080 term 13 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 13 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
flag 58918 term 13 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 13 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {1871849642950466936 11 60} {6384362171352770467 11 61} {3666592637626534975 11 62} {1740723722988442100 11 63} {1952688960818237066 11 64} {7165291805607640467 11 65} {6757601875947644477 11 66} {4870224973851439607 11 67} {3243355634777443056 11 68} {6311524812058988767 11 69}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {1871849642950466936 11 60} {6384362171352770467 11 61} {3666592637626534975 11 62} {1740723722988442100 11 63} {1952688960818237066 11 64} {7165291805607640467 11 65} {6757601875947644477 11 66} {4870224973851439607 11 67} {3243355634777443056 11 68} {6311524812058988767 11 69}]
------------------------------------------------------
flag 53237 term 13 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 13 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
flag 7930 term 13 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 13 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {1871849642950466936 11 60} {6384362171352770467 11 61} {3666592637626534975 11 62} {1740723722988442100 11 63} {1952688960818237066 11 64} {7165291805607640467 11 65} {6757601875947644477 11 66} {4870224973851439607 11 67} {3243355634777443056 11 68} {6311524812058988767 11 69}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {1871849642950466936 11 60} {6384362171352770467 11 61} {3666592637626534975 11 62} {1740723722988442100 11 63} {1952688960818237066 11 64} {7165291805607640467 11 65} {6757601875947644477 11 66} {4870224973851439607 11 67} {3243355634777443056 11 68} {6311524812058988767 11 69}]
------------------------------------------------------
flag 57360 term 13 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 13 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
flag 86658 term 13 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 13 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {1871849642950466936 11 60} {6384362171352770467 11 61} {3666592637626534975 11 62} {1740723722988442100 11 63} {1952688960818237066 11 64} {7165291805607640467 11 65} {6757601875947644477 11 66} {4870224973851439607 11 67} {3243355634777443056 11 68} {6311524812058988767 11 69}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {1871849642950466936 11 60} {6384362171352770467 11 61} {3666592637626534975 11 62} {1740723722988442100 11 63} {1952688960818237066 11 64} {7165291805607640467 11 65} {6757601875947644477 11 66} {4870224973851439607 11 67} {3243355634777443056 11 68} {6311524812058988767 11 69}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 13 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 93846 term 13 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 13 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
flag 40868 term 13 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 13 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {1871849642950466936 11 60} {6384362171352770467 11 61} {3666592637626534975 11 62} {1740723722988442100 11 63} {1952688960818237066 11 64} {7165291805607640467 11 65} {6757601875947644477 11 66} {4870224973851439607 11 67} {3243355634777443056 11 68} {6311524812058988767 11 69}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {1871849642950466936 11 60} {6384362171352770467 11 61} {3666592637626534975 11 62} {1740723722988442100 11 63} {1952688960818237066 11 64} {7165291805607640467 11 65} {6757601875947644477 11 66} {4870224973851439607 11 67} {3243355634777443056 11 68} {6311524812058988767 11 69}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33537 term 13 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 13 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
flag 10019 term 13 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 13 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {1871849642950466936 11 60} {6384362171352770467 11 61} {3666592637626534975 11 62} {1740723722988442100 11 63} {1952688960818237066 11 64} {7165291805607640467 11 65} {6757601875947644477 11 66} {4870224973851439607 11 67} {3243355634777443056 11 68} {6311524812058988767 11 69}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {1871849642950466936 11 60} {6384362171352770467 11 61} {3666592637626534975 11 62} {1740723722988442100 11 63} {1952688960818237066 11 64} {7165291805607640467 11 65} {6757601875947644477 11 66} {4870224973851439607 11 67} {3243355634777443056 11 68} {6311524812058988767 11 69}]
------------------------------------------------------
flag 97513 term 13 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 13 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
flag 78626 term 13 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 13 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {1871849642950466936 11 60} {6384362171352770467 11 61} {3666592637626534975 11 62} {1740723722988442100 11 63} {1952688960818237066 11 64} {7165291805607640467 11 65} {6757601875947644477 11 66} {4870224973851439607 11 67} {3243355634777443056 11 68} {6311524812058988767 11 69}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {1871849642950466936 11 60} {6384362171352770467 11 61} {3666592637626534975 11 62} {1740723722988442100 11 63} {1952688960818237066 11 64} {7165291805607640467 11 65} {6757601875947644477 11 66} {4870224973851439607 11 67} {3243355634777443056 11 68} {6311524812058988767 11 69}]
------------------------------------------------------
flag 84815 term 13 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 13 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
flag 68567 term 13 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 13 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {1871849642950466936 11 60} {6384362171352770467 11 61} {3666592637626534975 11 62} {1740723722988442100 11 63} {1952688960818237066 11 64} {7165291805607640467 11 65} {6757601875947644477 11 66} {4870224973851439607 11 67} {3243355634777443056 11 68} {6311524812058988767 11 69}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {1871849642950466936 11 60} {6384362171352770467 11 61} {3666592637626534975 11 62} {1740723722988442100 11 63} {1952688960818237066 11 64} {7165291805607640467 11 65} {6757601875947644477 11 66} {4870224973851439607 11 67} {3243355634777443056 11 68} {6311524812058988767 11 69}]
------------------------------------------------------
flag 5668 term 13 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 13 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
flag 47726 term 13 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 13 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {1871849642950466936 11 60} {6384362171352770467 11 61} {3666592637626534975 11 62} {1740723722988442100 11 63} {1952688960818237066 11 64} {7165291805607640467 11 65} {6757601875947644477 11 66} {4870224973851439607 11 67} {3243355634777443056 11 68} {6311524812058988767 11 69}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {1871849642950466936 11 60} {6384362171352770467 11 61} {3666592637626534975 11 62} {1740723722988442100 11 63} {1952688960818237066 11 64} {7165291805607640467 11 65} {6757601875947644477 11 66} {4870224973851439607 11 67} {3243355634777443056 11 68} {6311524812058988767 11 69}]
------------------------------------------------------
flag 89996 term 13 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 13 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
flag 69415 term 13 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 13 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {1871849642950466936 11 60} {6384362171352770467 11 61} {3666592637626534975 11 62} {1740723722988442100 11 63} {1952688960818237066 11 64} {7165291805607640467 11 65} {6757601875947644477 11 66} {4870224973851439607 11 67} {3243355634777443056 11 68} {6311524812058988767 11 69}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {1871849642950466936 11 60} {6384362171352770467 11 61} {3666592637626534975 11 62} {1740723722988442100 11 63} {1952688960818237066 11 64} {7165291805607640467 11 65} {6757601875947644477 11 66} {4870224973851439607 11 67} {3243355634777443056 11 68} {6311524812058988767 11 69}]
------------------------------------------------------
flag 84579 term 13 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 13 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
flag 43100 term 13 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 13 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {1871849642950466936 11 60} {6384362171352770467 11 61} {3666592637626534975 11 62} {1740723722988442100 11 63} {1952688960818237066 11 64} {7165291805607640467 11 65} {6757601875947644477 11 66} {4870224973851439607 11 67} {3243355634777443056 11 68} {6311524812058988767 11 69}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {1871849642950466936 11 60} {6384362171352770467 11 61} {3666592637626534975 11 62} {1740723722988442100 11 63} {1952688960818237066 11 64} {7165291805607640467 11 65} {6757601875947644477 11 66} {4870224973851439607 11 67} {3243355634777443056 11 68} {6311524812058988767 11 69}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34758 term 13 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 13 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
flag 47003 term 13 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 13 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {1871849642950466936 11 60} {6384362171352770467 11 61} {3666592637626534975 11 62} {1740723722988442100 11 63} {1952688960818237066 11 64} {7165291805607640467 11 65} {6757601875947644477 11 66} {4870224973851439607 11 67} {3243355634777443056 11 68} {6311524812058988767 11 69}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {1871849642950466936 11 60} {6384362171352770467 11 61} {3666592637626534975 11 62} {1740723722988442100 11 63} {1952688960818237066 11 64} {7165291805607640467 11 65} {6757601875947644477 11 66} {4870224973851439607 11 67} {3243355634777443056 11 68} {6311524812058988767 11 69}]
------------------------------------------------------
flag 65044 term 13 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 13 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
flag 92815 term 13 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 13 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {1871849642950466936 11 60} {6384362171352770467 11 61} {3666592637626534975 11 62} {1740723722988442100 11 63} {1952688960818237066 11 64} {7165291805607640467 11 65} {6757601875947644477 11 66} {4870224973851439607 11 67} {3243355634777443056 11 68} {6311524812058988767 11 69}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {1871849642950466936 11 60} {6384362171352770467 11 61} {3666592637626534975 11 62} {1740723722988442100 11 63} {1952688960818237066 11 64} {7165291805607640467 11 65} {6757601875947644477 11 66} {4870224973851439607 11 67} {3243355634777443056 11 68} {6311524812058988767 11 69}]
------------------------------------------------------
flag 42057 term 13 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 13 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
flag 12146 term 13 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 13 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {1871849642950466936 11 60} {6384362171352770467 11 61} {3666592637626534975 11 62} {1740723722988442100 11 63} {1952688960818237066 11 64} {7165291805607640467 11 65} {6757601875947644477 11 66} {4870224973851439607 11 67} {3243355634777443056 11 68} {6311524812058988767 11 69}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {1871849642950466936 11 60} {6384362171352770467 11 61} {3666592637626534975 11 62} {1740723722988442100 11 63} {1952688960818237066 11 64} {7165291805607640467 11 65} {6757601875947644477 11 66} {4870224973851439607 11 67} {3243355634777443056 11 68} {6311524812058988767 11 69}]
------------------------------------------------------
flag 31169 term 13 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 13 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
flag 81020 term 13 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 13 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {1871849642950466936 11 60} {6384362171352770467 11 61} {3666592637626534975 11 62} {1740723722988442100 11 63} {1952688960818237066 11 64} {7165291805607640467 11 65} {6757601875947644477 11 66} {4870224973851439607 11 67} {3243355634777443056 11 68} {6311524812058988767 11 69}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {1871849642950466936 11 60} {6384362171352770467 11 61} {3666592637626534975 11 62} {1740723722988442100 11 63} {1952688960818237066 11 64} {7165291805607640467 11 65} {6757601875947644477 11 66} {4870224973851439607 11 67} {3243355634777443056 11 68} {6311524812058988767 11 69}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82355 term 13 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 13 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
flag 76398 term 13 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 13 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {1871849642950466936 11 60} {6384362171352770467 11 61} {3666592637626534975 11 62} {1740723722988442100 11 63} {1952688960818237066 11 64} {7165291805607640467 11 65} {6757601875947644477 11 66} {4870224973851439607 11 67} {3243355634777443056 11 68} {6311524812058988767 11 69}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {1871849642950466936 11 60} {6384362171352770467 11 61} {3666592637626534975 11 62} {1740723722988442100 11 63} {1952688960818237066 11 64} {7165291805607640467 11 65} {6757601875947644477 11 66} {4870224973851439607 11 67} {3243355634777443056 11 68} {6311524812058988767 11 69}]
------------------------------------------------------
client write log 6311524812058988767 (index 70) to leader 2
flag 54954 term 13 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 13 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
flag 84662 term 13 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 13 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 59} {1871849642950466936 11 60} {6384362171352770467 11 61} {3666592637626534975 11 62} {1740723722988442100 11 63} {1952688960818237066 11 64} {7165291805607640467 11 65} {6757601875947644477 11 66} {4870224973851439607 11 67} {3243355634777443056 11 68} {6311524812058988767 11 69} {6311524812058988767 13 70}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 59} {1871849642950466936 11 60} {6384362171352770467 11 61} {3666592637626534975 11 62} {1740723722988442100 11 63} {1952688960818237066 11 64} {7165291805607640467 11 65} {6757601875947644477 11 66} {4870224973851439607 11 67} {3243355634777443056 11 68} {6311524812058988767 11 69} {6311524812058988767 13 70}]
------------------------------------------------------
term 13 Server2 start snapshot! index=69
term 13 server2 snapshot success
lastIncludedIndex=69 lastApplied=70 lastIndex=70
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61521 term 13 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 13 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 13 leaderCommit: 70 
------------------------------------------------------
flag 81300 term 13 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 13 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 13 leaderCommit: 70 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {6311524812058988767 13 70}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {6311524812058988767 13 70}]
------------------------------------------------------
term 13 Server1 start snapshot! index=69
term 13 server1 snapshot success
lastIncludedIndex=69 lastApplied=70 lastIndex=70
-------------------------------------------------------------
term 13 Server0 start snapshot! index=69
term 13 server0 snapshot success
lastIncludedIndex=69 lastApplied=70 lastIndex=70
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79033 term 13 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 13 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 13 leaderCommit: 70 
------------------------------------------------------
flag 82160 term 13 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 13 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 13 leaderCommit: 70 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {6311524812058988767 13 70}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {6311524812058988767 13 70}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 13 server 0 not vote for server 2, 任期不够新
term 13 server 2 get outdate rpc reply from server 0
flag 50226 term 13 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 13 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 13 leaderCommit: 70 
------------------------------------------------------
flag 16842 term 13 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 13 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 13 leaderCommit: 70 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {6311524812058988767 13 70}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {6311524812058988767 13 70}]
------------------------------------------------------
flag 40690 term 13 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 13 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 13 leaderCommit: 70 
------------------------------------------------------
flag 42704 term 13 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 13 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 13 leaderCommit: 70 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {6311524812058988767 13 70}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {6311524812058988767 13 70}]
------------------------------------------------------
flag 93767 term 13 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 13 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 13 leaderCommit: 70 
------------------------------------------------------
flag 78556 term 13 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 13 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 13 leaderCommit: 70 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {6311524812058988767 13 70}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {6311524812058988767 13 70}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 38411 term 13 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 13 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 13 leaderCommit: 70 
------------------------------------------------------
flag 84089 term 13 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 13 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 13 leaderCommit: 70 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97226 term 13 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 13 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 13 leaderCommit: 70 
------------------------------------------------------
flag 15836 term 13 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 13 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 13 leaderCommit: 70 
------------------------------------------------------
flag 90254 term 13 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 13 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 13 leaderCommit: 70 
------------------------------------------------------
flag 4954 term 13 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 13 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 13 leaderCommit: 70 
------------------------------------------------------
term 14 server 0 vote for server 1
term 14 server 1 get vote from server 0
term 14 server 1 become leader
------------------------------------------------------
flag 13120 term 14 leader 1 nextIndex[0]: 71  matchIndex[0]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 13 leaderCommit: 70 
------------------------------------------------------
flag 26347 term 14 leader 1 nextIndex[2]: 71  matchIndex[2]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 13 leaderCommit: 70 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {6311524812058988767 13 70}]
------------------------------------------------------
client write log 3213995703831462403 (index 71) to leader 1
flag 95032 term 13 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 13 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 13 leaderCommit: 70 
------------------------------------------------------
flag 72859 term 13 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 13 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 13 leaderCommit: 70 
------------------------------------------------------
flag 16356 term 14 leader 1 nextIndex[0]: 71  matchIndex[0]: 70
term 14 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 13 leaderCommit: 70 
------------------------------------------------------
flag 87268 term 14 leader 1 nextIndex[2]: 71  matchIndex[2]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 13 leaderCommit: 70 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=72
update matchIndex[0]=71
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {6311524812058988767 13 70} {3213995703831462403 14 71}]
------------------------------------------------------
flag 28388 term 13 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 13 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 13 leaderCommit: 70 
------------------------------------------------------
flag 47347 term 13 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 13 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 13 leaderCommit: 70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 71->70
------------------------------------------------------
flag 48110 term 14 leader 1 nextIndex[0]: 72  matchIndex[0]: 71
term 14 leader 1 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 14 leaderCommit: 71 
------------------------------------------------------
flag 67699 term 14 leader 1 nextIndex[2]: 71  matchIndex[2]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 13 leaderCommit: 71 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=72
update matchIndex[0]=71
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {6311524812058988767 13 70} {3213995703831462403 14 71}]
------------------------------------------------------
client write log 8199631793160238364 (index 72) to leader 1
flag 97218 term 13 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 13 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 13 leaderCommit: 70 
------------------------------------------------------
term 13 leader 2 nextIndex[1]: 0  matchIndex[1]: 70
term 13 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
flag 91566 term 14 leader 1 nextIndex[0]: 72  matchIndex[0]: 71
term 14 leader 1 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 14 leaderCommit: 71 
------------------------------------------------------
flag 54478 term 14 leader 1 nextIndex[2]: 71  matchIndex[2]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 13 leaderCommit: 71 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=73
update matchIndex[0]=72
update leader CommitIndex=72
leader log:
[{snapshot 11 69} {6311524812058988767 13 70} {3213995703831462403 14 71} {8199631793160238364 14 72}]
------------------------------------------------------
flag 21382 term 13 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 13 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 13 leaderCommit: 70 
------------------------------------------------------
term 13 leader 2 nextIndex[1]: 0  matchIndex[1]: 70
term 13 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5351 term 14 leader 1 nextIndex[0]: 73  matchIndex[0]: 72
term 14 leader 1 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 14 leaderCommit: 72 
------------------------------------------------------
flag 73043 term 14 leader 1 nextIndex[2]: 71  matchIndex[2]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=73
update matchIndex[0]=72
update leader CommitIndex=72
leader log:
[{snapshot 11 69} {6311524812058988767 13 70} {3213995703831462403 14 71} {8199631793160238364 14 72}]
------------------------------------------------------
!!!!!!connect server 2
client write log 5447931725685405983 (index 73) to leader 1
flag 28915 term 13 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 13 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 13 leaderCommit: 70 
------------------------------------------------------
term 13 leader 2 nextIndex[1]: 0  matchIndex[1]: 70
term 13 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
term 14 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 13 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 14 server 0 AppendEntries false 领导者任期过期 args.Term 13
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55985 term 14 leader 1 nextIndex[0]: 73  matchIndex[0]: 72
term 14 leader 1 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 14 leaderCommit: 72 
------------------------------------------------------
flag 46976 term 14 leader 1 nextIndex[2]: 71  matchIndex[2]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:72 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=74
update matchIndex[0]=73
update leader CommitIndex=73
leader log:
[{snapshot 11 69} {6311524812058988767 13 70} {3213995703831462403 14 71} {8199631793160238364 14 72} {5447931725685405983 14 73}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=74
update matchIndex[2]=73
update leader CommitIndex=73
leader log:
[{snapshot 11 69} {6311524812058988767 13 70} {3213995703831462403 14 71} {8199631793160238364 14 72} {5447931725685405983 14 73}]
------------------------------------------------------
flag 48878 term 14 leader 1 nextIndex[0]: 74  matchIndex[0]: 73
term 14 leader 1 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 14 leaderCommit: 73 
------------------------------------------------------
flag 64441 term 14 leader 1 nextIndex[2]: 74  matchIndex[2]: 73
term 14 leader 1 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 14 leaderCommit: 73 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:73 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=74
update matchIndex[0]=73
update leader CommitIndex=73
leader log:
[{snapshot 11 69} {6311524812058988767 13 70} {3213995703831462403 14 71} {8199631793160238364 14 72} {5447931725685405983 14 73}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=74
update matchIndex[2]=73
update leader CommitIndex=73
leader log:
[{snapshot 11 69} {6311524812058988767 13 70} {3213995703831462403 14 71} {8199631793160238364 14 72} {5447931725685405983 14 73}]
------------------------------------------------------
flag 80044 term 14 leader 1 nextIndex[0]: 74  matchIndex[0]: 73
term 14 leader 1 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 14 leaderCommit: 73 
------------------------------------------------------
flag 40737 term 14 leader 1 nextIndex[2]: 74  matchIndex[2]: 73
term 14 leader 1 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 14 leaderCommit: 73 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=74
update matchIndex[2]=73
update leader CommitIndex=73
leader log:
term 14 server 0 AppendEntries true commitIndex:73 
------------------------------------------------------
[{snapshot 11 69} {6311524812058988767 13 70} {3213995703831462403 14 71} {8199631793160238364 14 72} {5447931725685405983 14 73}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=74
update matchIndex[0]=73
update leader CommitIndex=73
leader log:
[{snapshot 11 69} {6311524812058988767 13 70} {3213995703831462403 14 71} {8199631793160238364 14 72} {5447931725685405983 14 73}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53697 term 14 leader 1 nextIndex[0]: 74  matchIndex[0]: 73
term 14 leader 1 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 14 leaderCommit: 73 
------------------------------------------------------
flag 25478 term 14 leader 1 nextIndex[2]: 74  matchIndex[2]: 73
term 14 leader 1 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 14 leaderCommit: 73 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=74
update matchIndex[2]=73
update leader CommitIndex=73
leader log:
[{snapshot 11 69} {6311524812058988767 13 70} {3213995703831462403 14 71} {8199631793160238364 14 72} {5447931725685405983 14 73}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=74
update matchIndex[0]=73
update leader CommitIndex=73
leader log:
[{snapshot 11 69} {6311524812058988767 13 70} {3213995703831462403 14 71} {8199631793160238364 14 72} {5447931725685405983 14 73}]
------------------------------------------------------
term 14 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 87360 term 14 leader 1 nextIndex[0]: 74  matchIndex[0]: 73
term 14 leader 1 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 14 leaderCommit: 73 
------------------------------------------------------
flag 73552 term 14 leader 1 nextIndex[2]: 74  matchIndex[2]: 73
term 14 leader 1 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 14 leaderCommit: 73 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:73 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=74
update matchIndex[2]=73
update leader CommitIndex=73
leader log:
[{snapshot 11 69} {6311524812058988767 13 70} {3213995703831462403 14 71} {8199631793160238364 14 72} {5447931725685405983 14 73}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=74
update matchIndex[0]=73
update leader CommitIndex=73
leader log:
[{snapshot 11 69} {6311524812058988767 13 70} {3213995703831462403 14 71} {8199631793160238364 14 72} {5447931725685405983 14 73}]
------------------------------------------------------
flag 72041 term 14 leader 1 nextIndex[0]: 74  matchIndex[0]: 73
term 14 leader 1 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 14 leaderCommit: 73 
------------------------------------------------------
flag 58180 term 14 leader 1 nextIndex[2]: 74  matchIndex[2]: 73
term 14 leader 1 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 14 leaderCommit: 73 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:73 
term 14 server 0 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=74
update matchIndex[0]=73
update leader CommitIndex=73
leader log:
[{snapshot 11 69} {6311524812058988767 13 70} {3213995703831462403 14 71} {8199631793160238364 14 72} {5447931725685405983 14 73}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=74
update matchIndex[2]=73
update leader CommitIndex=73
leader log:
[{snapshot 11 69} {6311524812058988767 13 70} {3213995703831462403 14 71} {8199631793160238364 14 72} {5447931725685405983 14 73}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 1842433790461119571 (index 74) to leader 1
flag 92623 term 14 leader 1 nextIndex[0]: 74  matchIndex[0]: 73
term 14 leader 1 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 14 leaderCommit: 73 
------------------------------------------------------
flag 2233 term 14 leader 1 nextIndex[2]: 74  matchIndex[2]: 73
term 14 leader 1 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 14 leaderCommit: 73 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=75
update matchIndex[0]=74
update leader CommitIndex=74
leader log:
[{snapshot 11 69} {6311524812058988767 13 70} {3213995703831462403 14 71} {8199631793160238364 14 72} {5447931725685405983 14 73} {1842433790461119571 14 74}]
------------------------------------------------------
flag 36857 term 14 leader 1 nextIndex[0]: 75  matchIndex[0]: 74
term 14 leader 1 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
flag 90757 term 14 leader 1 nextIndex[2]: 74  matchIndex[2]: 73
term 14 leader 1 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=75
update matchIndex[0]=74
update leader CommitIndex=74
leader log:
[{snapshot 11 69} {6311524812058988767 13 70} {3213995703831462403 14 71} {8199631793160238364 14 72} {5447931725685405983 14 73} {1842433790461119571 14 74}]
------------------------------------------------------
client write log 7744211585437081532 (index 75) to leader 1
client write log 7899374543353378208 (index 76) to leader 1
client write log 5893203983434709084 (index 77) to leader 1
client write log 6841080750966019867 (index 78) to leader 1
client write log 1638225235630898668 (index 79) to leader 1
client write log 1609670632252820 (index 80) to leader 1
client write log 4571798410048310162 (index 81) to leader 1
client write log 5531357313069220954 (index 82) to leader 1
client write log 8288213497805560509 (index 83) to leader 1
client write log 2024364643498927973 (index 84) to leader 1
client write log 6555164518189950954 (index 85) to leader 1
client write log 6318717439985885512 (index 86) to leader 1
client write log 4581148056414276600 (index 87) to leader 1
flag 44341 term 14 leader 1 nextIndex[0]: 75  matchIndex[0]: 74
term 14 leader 1 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
flag 63924 term 14 leader 1 nextIndex[2]: 74  matchIndex[2]: 73
term 14 leader 1 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=87
leader log:
[{snapshot 11 69} {6311524812058988767 13 70} {3213995703831462403 14 71} {8199631793160238364 14 72} {5447931725685405983 14 73} {1842433790461119571 14 74} {7744211585437081532 14 75} {7899374543353378208 14 76} {5893203983434709084 14 77} {6841080750966019867 14 78} {1638225235630898668 14 79} {1609670632252820 14 80} {4571798410048310162 14 81} {5531357313069220954 14 82} {8288213497805560509 14 83} {2024364643498927973 14 84} {6555164518189950954 14 85} {6318717439985885512 14 86} {4581148056414276600 14 87}]
------------------------------------------------------
term 14 Server1 start snapshot! index=79
term 14 server1 snapshot success
lastIncludedIndex=79 lastApplied=80 lastIndex=87
-------------------------------------------------------------
term 14 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 18022 term 14 leader 1 nextIndex[0]: 88  matchIndex[0]: 87
term 14 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
term 14 leader 1 nextIndex[2]: 74  matchIndex[2]: 73
term 14 leader 1 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 14
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=87
leader log:
[{snapshot 14 79} {1609670632252820 14 80} {4571798410048310162 14 81} {5531357313069220954 14 82} {8288213497805560509 14 83} {2024364643498927973 14 84} {6555164518189950954 14 85} {6318717439985885512 14 86} {4581148056414276600 14 87}]
------------------------------------------------------
term 14 Server0 start snapshot! index=79
term 14 server0 snapshot success
lastIncludedIndex=79 lastApplied=80 lastIndex=87
-------------------------------------------------------------
!!!!!!connect server 2
client write log 7802852025805533131 (index 88) to leader 1
flag 48405 term 14 leader 1 nextIndex[0]: 88  matchIndex[0]: 87
term 14 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
term 14 leader 1 nextIndex[2]: 74  matchIndex[2]: 73
term 14 leader 1 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 14
------------------------------------------------------
term 15 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 14 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 16 server 2 vote for server 1
term 16 server 0 vote for server 1
term 16 server 1 get vote from server 2
term 16 server 1 become leader
------------------------------------------------------
term 16 server 1 get outdate rpc reply from server 0
flag 21957 term 16 leader 1 nextIndex[0]: 89  matchIndex[0]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
flag 2975 term 16 leader 1 nextIndex[2]: 89  matchIndex[2]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
term 16 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 89->88
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=87
leader log:
[{snapshot 14 79} {1609670632252820 14 80} {4571798410048310162 14 81} {5531357313069220954 14 82} {8288213497805560509 14 83} {2024364643498927973 14 84} {6555164518189950954 14 85} {6318717439985885512 14 86} {4581148056414276600 14 87} {7802852025805533131 14 88}]
------------------------------------------------------
flag 56612 term 16 leader 1 nextIndex[0]: 89  matchIndex[0]: 88
term 16 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
term 16 leader 1 nextIndex[2]: 74  matchIndex[2]: 0
term 16 leader 1 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 14
------------------------------------------------------
term 16 server 2 InstallSnapshot success
------------------------------------------------------
term 16 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 80 matchIndex[2] 79 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 79 rf.lastIncludedTerm 14 rf.commitIndex 79 rf.lastApplied 79
term 16 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=87
leader log:
[{snapshot 14 79} {1609670632252820 14 80} {4571798410048310162 14 81} {5531357313069220954 14 82} {8288213497805560509 14 83} {2024364643498927973 14 84} {6555164518189950954 14 85} {6318717439985885512 14 86} {4581148056414276600 14 87} {7802852025805533131 14 88}]
------------------------------------------------------
flag 19979 term 16 leader 1 nextIndex[0]: 89  matchIndex[0]: 88
term 16 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
flag 52607 term 16 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 16 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=87
leader log:
[{snapshot 14 79} {1609670632252820 14 80} {4571798410048310162 14 81} {5531357313069220954 14 82} {8288213497805560509 14 83} {2024364643498927973 14 84} {6555164518189950954 14 85} {6318717439985885512 14 86} {4581148056414276600 14 87} {7802852025805533131 14 88}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=87
leader log:
[{snapshot 14 79} {1609670632252820 14 80} {4571798410048310162 14 81} {5531357313069220954 14 82} {8288213497805560509 14 83} {2024364643498927973 14 84} {6555164518189950954 14 85} {6318717439985885512 14 86} {4581148056414276600 14 87} {7802852025805533131 14 88}]
------------------------------------------------------
term 16 server 1 not vote for server 2, 任期不够新
term 16 server 2 get outdate rpc reply from server 1
flag 20479 term 16 leader 1 nextIndex[0]: 89  matchIndex[0]: 88
term 16 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
flag 88046 term 16 leader 1 nextIndex[2]: 89  matchIndex[2]: 88
term 16 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=87
leader log:
[{snapshot 14 79} {1609670632252820 14 80} {4571798410048310162 14 81} {5531357313069220954 14 82} {8288213497805560509 14 83} {2024364643498927973 14 84} {6555164518189950954 14 85} {6318717439985885512 14 86} {4581148056414276600 14 87} {7802852025805533131 14 88}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=87
leader log:
[{snapshot 14 79} {1609670632252820 14 80} {4571798410048310162 14 81} {5531357313069220954 14 82} {8288213497805560509 14 83} {2024364643498927973 14 84} {6555164518189950954 14 85} {6318717439985885512 14 86} {4581148056414276600 14 87} {7802852025805533131 14 88}]
------------------------------------------------------
flag 47892 term 16 leader 1 nextIndex[0]: 89  matchIndex[0]: 88
term 16 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
flag 51463 term 16 leader 1 nextIndex[2]: 89  matchIndex[2]: 88
term 16 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=87
leader log:
[{snapshot 14 79} {1609670632252820 14 80} {4571798410048310162 14 81} {5531357313069220954 14 82} {8288213497805560509 14 83} {2024364643498927973 14 84} {6555164518189950954 14 85} {6318717439985885512 14 86} {4581148056414276600 14 87} {7802852025805533131 14 88}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=87
leader log:
[{snapshot 14 79} {1609670632252820 14 80} {4571798410048310162 14 81} {5531357313069220954 14 82} {8288213497805560509 14 83} {2024364643498927973 14 84} {6555164518189950954 14 85} {6318717439985885512 14 86} {4581148056414276600 14 87} {7802852025805533131 14 88}]
------------------------------------------------------
flag 8148 term 16 leader 1 nextIndex[0]: 89  matchIndex[0]: 88
term 16 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
flag 2912 term 16 leader 1 nextIndex[2]: 89  matchIndex[2]: 88
term 16 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=87
leader log:
term 16 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
[{snapshot 14 79} {1609670632252820 14 80} {4571798410048310162 14 81} {5531357313069220954 14 82} {8288213497805560509 14 83} {2024364643498927973 14 84} {6555164518189950954 14 85} {6318717439985885512 14 86} {4581148056414276600 14 87} {7802852025805533131 14 88}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=87
leader log:
[{snapshot 14 79} {1609670632252820 14 80} {4571798410048310162 14 81} {5531357313069220954 14 82} {8288213497805560509 14 83} {2024364643498927973 14 84} {6555164518189950954 14 85} {6318717439985885512 14 86} {4581148056414276600 14 87} {7802852025805533131 14 88}]
------------------------------------------------------
flag 64071 term 16 leader 1 nextIndex[0]: 89  matchIndex[0]: 88
term 16 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
flag 32465 term 16 leader 1 nextIndex[2]: 89  matchIndex[2]: 88
term 16 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=87
leader log:
[{snapshot 14 79} {1609670632252820 14 80} {4571798410048310162 14 81} {5531357313069220954 14 82} {8288213497805560509 14 83} {2024364643498927973 14 84} {6555164518189950954 14 85} {6318717439985885512 14 86} {4581148056414276600 14 87} {7802852025805533131 14 88}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=87
leader log:
[{snapshot 14 79} {1609670632252820 14 80} {4571798410048310162 14 81} {5531357313069220954 14 82} {8288213497805560509 14 83} {2024364643498927973 14 84} {6555164518189950954 14 85} {6318717439985885512 14 86} {4581148056414276600 14 87} {7802852025805533131 14 88}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54050 term 16 leader 1 nextIndex[0]: 89  matchIndex[0]: 88
term 16 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
flag 17808 term 16 leader 1 nextIndex[2]: 89  matchIndex[2]: 88
term 16 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=87
leader log:
[{snapshot 14 79} {1609670632252820 14 80} {4571798410048310162 14 81} {5531357313069220954 14 82} {8288213497805560509 14 83} {2024364643498927973 14 84} {6555164518189950954 14 85} {6318717439985885512 14 86} {4581148056414276600 14 87} {7802852025805533131 14 88}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=87
leader log:
[{snapshot 14 79} {1609670632252820 14 80} {4571798410048310162 14 81} {5531357313069220954 14 82} {8288213497805560509 14 83} {2024364643498927973 14 84} {6555164518189950954 14 85} {6318717439985885512 14 86} {4581148056414276600 14 87} {7802852025805533131 14 88}]
------------------------------------------------------
flag 79115 term 16 leader 1 nextIndex[0]: 89  matchIndex[0]: 88
term 16 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
flag 98009 term 16 leader 1 nextIndex[2]: 89  matchIndex[2]: 88
term 16 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=87
leader log:
[{snapshot 14 79} {1609670632252820 14 80} {4571798410048310162 14 81} {5531357313069220954 14 82} {8288213497805560509 14 83} {2024364643498927973 14 84} {6555164518189950954 14 85} {6318717439985885512 14 86} {4581148056414276600 14 87} {7802852025805533131 14 88}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=87
leader log:
[{snapshot 14 79} {1609670632252820 14 80} {4571798410048310162 14 81} {5531357313069220954 14 82} {8288213497805560509 14 83} {2024364643498927973 14 84} {6555164518189950954 14 85} {6318717439985885512 14 86} {4581148056414276600 14 87} {7802852025805533131 14 88}]
------------------------------------------------------
flag 96779 term 16 leader 1 nextIndex[0]: 89  matchIndex[0]: 88
term 16 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
flag 28297 term 16 leader 1 nextIndex[2]: 89  matchIndex[2]: 88
term 16 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=87
leader log:
[{snapshot 14 79} {1609670632252820 14 80} {4571798410048310162 14 81} {5531357313069220954 14 82} {8288213497805560509 14 83} {2024364643498927973 14 84} {6555164518189950954 14 85} {6318717439985885512 14 86} {4581148056414276600 14 87} {7802852025805533131 14 88}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=87
leader log:
[{snapshot 14 79} {1609670632252820 14 80} {4571798410048310162 14 81} {5531357313069220954 14 82} {8288213497805560509 14 83} {2024364643498927973 14 84} {6555164518189950954 14 85} {6318717439985885512 14 86} {4581148056414276600 14 87} {7802852025805533131 14 88}]
------------------------------------------------------
term 16 server 2 not vote for server 1, 任期不够新
term 16 server 1 get outdate rpc reply from server 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69484 term 16 leader 1 nextIndex[0]: 89  matchIndex[0]: 88
term 16 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
flag 97339 term 16 leader 1 nextIndex[2]: 89  matchIndex[2]: 88
term 16 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=87
leader log:
[{snapshot 14 79} {1609670632252820 14 80} {4571798410048310162 14 81} {5531357313069220954 14 82} {8288213497805560509 14 83} {2024364643498927973 14 84} {6555164518189950954 14 85} {6318717439985885512 14 86} {4581148056414276600 14 87} {7802852025805533131 14 88}]
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=87
leader log:
[{snapshot 14 79} {1609670632252820 14 80} {4571798410048310162 14 81} {5531357313069220954 14 82} {8288213497805560509 14 83} {2024364643498927973 14 84} {6555164518189950954 14 85} {6318717439985885512 14 86} {4581148056414276600 14 87} {7802852025805533131 14 88}]
------------------------------------------------------
flag 8834 term 16 leader 1 nextIndex[0]: 89  matchIndex[0]: 88
term 16 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
flag 26005 term 16 leader 1 nextIndex[2]: 89  matchIndex[2]: 88
term 16 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=87
leader log:
[{snapshot 14 79} {1609670632252820 14 80} {4571798410048310162 14 81} {5531357313069220954 14 82} {8288213497805560509 14 83} {2024364643498927973 14 84} {6555164518189950954 14 85} {6318717439985885512 14 86} {4581148056414276600 14 87} {7802852025805533131 14 88}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=87
leader log:
[{snapshot 14 79} {1609670632252820 14 80} {4571798410048310162 14 81} {5531357313069220954 14 82} {8288213497805560509 14 83} {2024364643498927973 14 84} {6555164518189950954 14 85} {6318717439985885512 14 86} {4581148056414276600 14 87} {7802852025805533131 14 88}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33335 term 16 leader 1 nextIndex[0]: 89  matchIndex[0]: 88
term 16 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
flag 60318 term 16 leader 1 nextIndex[2]: 89  matchIndex[2]: 88
term 16 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=87
leader log:
[{snapshot 14 79} {1609670632252820 14 80} {4571798410048310162 14 81} {5531357313069220954 14 82} {8288213497805560509 14 83} {2024364643498927973 14 84} {6555164518189950954 14 85} {6318717439985885512 14 86} {4581148056414276600 14 87} {7802852025805533131 14 88}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=87
leader log:
[{snapshot 14 79} {1609670632252820 14 80} {4571798410048310162 14 81} {5531357313069220954 14 82} {8288213497805560509 14 83} {2024364643498927973 14 84} {6555164518189950954 14 85} {6318717439985885512 14 86} {4581148056414276600 14 87} {7802852025805533131 14 88}]
------------------------------------------------------
flag 85884 term 16 leader 1 nextIndex[0]: 89  matchIndex[0]: 88
term 16 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
flag 93767 term 16 leader 1 nextIndex[2]: 89  matchIndex[2]: 88
term 16 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=87
leader log:
[{snapshot 14 79} {1609670632252820 14 80} {4571798410048310162 14 81} {5531357313069220954 14 82} {8288213497805560509 14 83} {2024364643498927973 14 84} {6555164518189950954 14 85} {6318717439985885512 14 86} {4581148056414276600 14 87} {7802852025805533131 14 88}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=87
leader log:
[{snapshot 14 79} {1609670632252820 14 80} {4571798410048310162 14 81} {5531357313069220954 14 82} {8288213497805560509 14 83} {2024364643498927973 14 84} {6555164518189950954 14 85} {6318717439985885512 14 86} {4581148056414276600 14 87} {7802852025805533131 14 88}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 225 term 16 leader 1 nextIndex[0]: 89  matchIndex[0]: 88
term 16 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
flag 67846 term 16 leader 1 nextIndex[2]: 89  matchIndex[2]: 88
term 16 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:87 
term 16 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=87
leader log:
[{snapshot 14 79} {1609670632252820 14 80} {4571798410048310162 14 81} {5531357313069220954 14 82} {8288213497805560509 14 83} {2024364643498927973 14 84} {6555164518189950954 14 85} {6318717439985885512 14 86} {4581148056414276600 14 87} {7802852025805533131 14 88}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=87
leader log:
[{snapshot 14 79} {1609670632252820 14 80} {4571798410048310162 14 81} {5531357313069220954 14 82} {8288213497805560509 14 83} {2024364643498927973 14 84} {6555164518189950954 14 85} {6318717439985885512 14 86} {4581148056414276600 14 87} {7802852025805533131 14 88}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88405 term 16 leader 1 nextIndex[0]: 89  matchIndex[0]: 88
term 16 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
flag 55794 term 16 leader 1 nextIndex[2]: 89  matchIndex[2]: 88
term 16 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=87
leader log:
[{snapshot 14 79} {1609670632252820 14 80} {4571798410048310162 14 81} {5531357313069220954 14 82} {8288213497805560509 14 83} {2024364643498927973 14 84} {6555164518189950954 14 85} {6318717439985885512 14 86} {4581148056414276600 14 87} {7802852025805533131 14 88}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=87
leader log:
[{snapshot 14 79} {1609670632252820 14 80} {4571798410048310162 14 81} {5531357313069220954 14 82} {8288213497805560509 14 83} {2024364643498927973 14 84} {6555164518189950954 14 85} {6318717439985885512 14 86} {4581148056414276600 14 87} {7802852025805533131 14 88}]
------------------------------------------------------
flag 44119 term 16 leader 1 nextIndex[0]: 89  matchIndex[0]: 88
term 16 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
flag 72301 term 16 leader 1 nextIndex[2]: 89  matchIndex[2]: 88
term 16 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=87
leader log:
[{snapshot 14 79} {1609670632252820 14 80} {4571798410048310162 14 81} {5531357313069220954 14 82} {8288213497805560509 14 83} {2024364643498927973 14 84} {6555164518189950954 14 85} {6318717439985885512 14 86} {4581148056414276600 14 87} {7802852025805533131 14 88}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=87
leader log:
[{snapshot 14 79} {1609670632252820 14 80} {4571798410048310162 14 81} {5531357313069220954 14 82} {8288213497805560509 14 83} {2024364643498927973 14 84} {6555164518189950954 14 85} {6318717439985885512 14 86} {4581148056414276600 14 87} {7802852025805533131 14 88}]
------------------------------------------------------
flag 37788 term 16 leader 1 nextIndex[0]: 89  matchIndex[0]: 88
term 16 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
flag 44973 term 16 leader 1 nextIndex[2]: 89  matchIndex[2]: 88
term 16 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=87
leader log:
[{snapshot 14 79} {1609670632252820 14 80} {4571798410048310162 14 81} {5531357313069220954 14 82} {8288213497805560509 14 83} {2024364643498927973 14 84} {6555164518189950954 14 85} {6318717439985885512 14 86} {4581148056414276600 14 87} {7802852025805533131 14 88}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=87
leader log:
[{snapshot 14 79} {1609670632252820 14 80} {4571798410048310162 14 81} {5531357313069220954 14 82} {8288213497805560509 14 83} {2024364643498927973 14 84} {6555164518189950954 14 85} {6318717439985885512 14 86} {4581148056414276600 14 87} {7802852025805533131 14 88}]
------------------------------------------------------
client write log 7802852025805533131 (index 89) to leader 1
flag 50511 term 16 leader 1 nextIndex[0]: 89  matchIndex[0]: 88
term 16 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
flag 38997 term 16 leader 1 nextIndex[2]: 89  matchIndex[2]: 88
term 16 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=89
leader log:
[{snapshot 14 79} {1609670632252820 14 80} {4571798410048310162 14 81} {5531357313069220954 14 82} {8288213497805560509 14 83} {2024364643498927973 14 84} {6555164518189950954 14 85} {6318717439985885512 14 86} {4581148056414276600 14 87} {7802852025805533131 14 88} {7802852025805533131 16 89}]
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=89
leader log:
[{snapshot 14 79} {1609670632252820 14 80} {4571798410048310162 14 81} {5531357313069220954 14 82} {8288213497805560509 14 83} {2024364643498927973 14 84} {6555164518189950954 14 85} {6318717439985885512 14 86} {4581148056414276600 14 87} {7802852025805533131 14 88} {7802852025805533131 16 89}]
------------------------------------------------------
term 16 Server1 start snapshot! index=89
term 16 server1 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=89
-------------------------------------------------------------
flag 45391 term 16 leader 1 nextIndex[0]: 90  matchIndex[0]: 89
term 16 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 16 leaderCommit: 89 
------------------------------------------------------
flag 16682 term 16 leader 1 nextIndex[2]: 90  matchIndex[2]: 89
term 16 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 16 leaderCommit: 89 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=89
leader log:
[{snapshot 16 89}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=89
leader log:
[{snapshot 16 89}]
------------------------------------------------------
term 16 Server2 start snapshot! index=89
term 16 server2 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=89
-------------------------------------------------------------
term 16 Server0 start snapshot! index=89
term 16 server0 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=89
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72356 term 16 leader 1 nextIndex[0]: 90  matchIndex[0]: 89
term 16 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 16 leaderCommit: 89 
------------------------------------------------------
flag 46289 term 16 leader 1 nextIndex[2]: 90  matchIndex[2]: 89
term 16 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 16 leaderCommit: 89 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:89 
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=89
leader log:
[{snapshot 16 89}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=89
leader log:
[{snapshot 16 89}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85856 term 16 leader 1 nextIndex[0]: 90  matchIndex[0]: 89
term 16 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 16 leaderCommit: 89 
------------------------------------------------------
flag 79088 term 16 leader 1 nextIndex[2]: 90  matchIndex[2]: 89
term 16 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 16 leaderCommit: 89 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=89
leader log:
[{snapshot 16 89}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=89
leader log:
[{snapshot 16 89}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2890 term 16 leader 1 nextIndex[0]: 90  matchIndex[0]: 89
term 16 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 16 leaderCommit: 89 
------------------------------------------------------
flag 28363 term 16 leader 1 nextIndex[2]: 90  matchIndex[2]: 89
term 16 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 16 leaderCommit: 89 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=89
leader log:
[{snapshot 16 89}]
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=89
leader log:
[{snapshot 16 89}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60248 term 16 leader 1 nextIndex[0]: 90  matchIndex[0]: 89
term 16 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 16 leaderCommit: 89 
------------------------------------------------------
flag 64178 term 16 leader 1 nextIndex[2]: 90  matchIndex[2]: 89
term 16 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 16 leaderCommit: 89 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=89
leader log:
[{snapshot 16 89}]
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=89
leader log:
[{snapshot 16 89}]
------------------------------------------------------
term 16 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 91255 term 16 leader 1 nextIndex[0]: 90  matchIndex[0]: 89
term 16 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 16 leaderCommit: 89 
------------------------------------------------------
flag 92756 term 16 leader 1 nextIndex[2]: 90  matchIndex[2]: 89
term 16 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 16 leaderCommit: 89 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=89
leader log:
[{snapshot 16 89}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=89
leader log:
[{snapshot 16 89}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 8805726253005193513 (index 90) to leader 1
flag 39572 term 16 leader 1 nextIndex[0]: 90  matchIndex[0]: 89
term 16 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 16 leaderCommit: 89 
------------------------------------------------------
flag 9548 term 16 leader 1 nextIndex[2]: 90  matchIndex[2]: 89
term 16 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 16 leaderCommit: 89 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=90
leader log:
[{snapshot 16 89} {8805726253005193513 16 90}]
------------------------------------------------------
flag 1429 term 16 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 16 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
flag 46999 term 16 leader 1 nextIndex[2]: 90  matchIndex[2]: 89
term 16 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=90
leader log:
[{snapshot 16 89} {8805726253005193513 16 90}]
------------------------------------------------------
client write log 2772838140329781996 (index 91) to leader 1
client write log 1551151669528476478 (index 92) to leader 1
client write log 5385812135408041785 (index 93) to leader 1
client write log 939913653490419492 (index 94) to leader 1
client write log 7097740145636137714 (index 95) to leader 1
client write log 4117941658435732614 (index 96) to leader 1
client write log 2955821359692138053 (index 97) to leader 1
client write log 1113050167693114288 (index 98) to leader 1
client write log 2969673992606303105 (index 99) to leader 1
client write log 1645761106678198054 (index 100) to leader 1
client write log 3930403400703502892 (index 101) to leader 1
flag 9043 term 16 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 16 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
flag 58247 term 16 leader 1 nextIndex[2]: 90  matchIndex[2]: 89
term 16 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=101
leader log:
[{snapshot 16 89} {8805726253005193513 16 90} {2772838140329781996 16 91} {1551151669528476478 16 92} {5385812135408041785 16 93} {939913653490419492 16 94} {7097740145636137714 16 95} {4117941658435732614 16 96} {2955821359692138053 16 97} {1113050167693114288 16 98} {2969673992606303105 16 99} {1645761106678198054 16 100} {3930403400703502892 16 101}]
------------------------------------------------------
term 16 Server1 start snapshot! index=99
term 16 server1 snapshot success
lastIncludedIndex=99 lastApplied=100 lastIndex=101
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30622 term 16 leader 1 nextIndex[0]: 102  matchIndex[0]: 101
term 16 leader 1 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 16 leader 1 nextIndex[2]: 90  matchIndex[2]: 89
term 16 leader 1 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 16
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1645761106678198054 16 100} {3930403400703502892 16 101}]
------------------------------------------------------
term 16 Server0 start snapshot! index=99
term 16 server0 snapshot success
lastIncludedIndex=99 lastApplied=100 lastIndex=101
-------------------------------------------------------------
!!!!!!connect server 2
client write log 8293308588694769651 (index 102) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75432 term 16 leader 1 nextIndex[0]: 102  matchIndex[0]: 101
term 16 leader 1 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 16 leader 1 nextIndex[2]: 90  matchIndex[2]: 89
term 16 leader 1 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 16
------------------------------------------------------
term 17 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 16 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 18 server 2 vote for server 1
term 18 server 1 get vote from server 2
term 18 server 0 vote for server 1
term 18 server 1 become leader
------------------------------------------------------
term 18 server 1 get outdate rpc reply from server 0
flag 80127 term 18 leader 1 nextIndex[0]: 103  matchIndex[0]: 0
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 12010 term 18 leader 1 nextIndex[2]: 103  matchIndex[2]: 0
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 103->102
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1645761106678198054 16 100} {3930403400703502892 16 101} {8293308588694769651 16 102}]
------------------------------------------------------
flag 65585 term 18 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 leader 1 nextIndex[2]: 90  matchIndex[2]: 0
term 18 leader 1 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 16
------------------------------------------------------
term 18 server 2 InstallSnapshot success
------------------------------------------------------
term 18 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 100 matchIndex[2] 99 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 99 rf.lastIncludedTerm 16 rf.commitIndex 99 rf.lastApplied 99
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1645761106678198054 16 100} {3930403400703502892 16 101} {8293308588694769651 16 102}]
------------------------------------------------------
flag 80047 term 18 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 50693 term 18 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 18 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1645761106678198054 16 100} {3930403400703502892 16 101} {8293308588694769651 16 102}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1645761106678198054 16 100} {3930403400703502892 16 101} {8293308588694769651 16 102}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37226 term 18 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 33898 term 18 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1645761106678198054 16 100} {3930403400703502892 16 101} {8293308588694769651 16 102}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1645761106678198054 16 100} {3930403400703502892 16 101} {8293308588694769651 16 102}]
------------------------------------------------------
flag 38229 term 18 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 92911 term 18 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1645761106678198054 16 100} {3930403400703502892 16 101} {8293308588694769651 16 102}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1645761106678198054 16 100} {3930403400703502892 16 101} {8293308588694769651 16 102}]
------------------------------------------------------
flag 2624 term 18 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 62043 term 18 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1645761106678198054 16 100} {3930403400703502892 16 101} {8293308588694769651 16 102}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1645761106678198054 16 100} {3930403400703502892 16 101} {8293308588694769651 16 102}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25374 term 18 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 10080 term 18 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1645761106678198054 16 100} {3930403400703502892 16 101} {8293308588694769651 16 102}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1645761106678198054 16 100} {3930403400703502892 16 101} {8293308588694769651 16 102}]
------------------------------------------------------
term 18 server 0 not vote for server 2, 任期不够新
term 18 server 2 get outdate rpc reply from server 0
flag 74939 term 18 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 92632 term 18 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1645761106678198054 16 100} {3930403400703502892 16 101} {8293308588694769651 16 102}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1645761106678198054 16 100} {3930403400703502892 16 101} {8293308588694769651 16 102}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97446 term 18 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 97892 term 18 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1645761106678198054 16 100} {3930403400703502892 16 101} {8293308588694769651 16 102}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1645761106678198054 16 100} {3930403400703502892 16 101} {8293308588694769651 16 102}]
------------------------------------------------------
flag 47147 term 18 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 86155 term 18 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1645761106678198054 16 100} {3930403400703502892 16 101} {8293308588694769651 16 102}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1645761106678198054 16 100} {3930403400703502892 16 101} {8293308588694769651 16 102}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78954 term 18 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 89436 term 18 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1645761106678198054 16 100} {3930403400703502892 16 101} {8293308588694769651 16 102}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1645761106678198054 16 100} {3930403400703502892 16 101} {8293308588694769651 16 102}]
------------------------------------------------------
flag 69434 term 18 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 63208 term 18 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1645761106678198054 16 100} {3930403400703502892 16 101} {8293308588694769651 16 102}]
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1645761106678198054 16 100} {3930403400703502892 16 101} {8293308588694769651 16 102}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41973 term 18 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 83975 term 18 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
[{snapshot 16 99} {1645761106678198054 16 100} {3930403400703502892 16 101} {8293308588694769651 16 102}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1645761106678198054 16 100} {3930403400703502892 16 101} {8293308588694769651 16 102}]
------------------------------------------------------
flag 98425 term 18 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 3738 term 18 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1645761106678198054 16 100} {3930403400703502892 16 101} {8293308588694769651 16 102}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1645761106678198054 16 100} {3930403400703502892 16 101} {8293308588694769651 16 102}]
------------------------------------------------------
term 18 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 24493 term 18 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 7748 term 18 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1645761106678198054 16 100} {3930403400703502892 16 101} {8293308588694769651 16 102}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1645761106678198054 16 100} {3930403400703502892 16 101} {8293308588694769651 16 102}]
------------------------------------------------------
flag 69619 term 18 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 12185 term 18 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1645761106678198054 16 100} {3930403400703502892 16 101} {8293308588694769651 16 102}]
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1645761106678198054 16 100} {3930403400703502892 16 101} {8293308588694769651 16 102}]
------------------------------------------------------
term 18 server 1 not vote for server 2, 任期不够新
term 18 server 2 get outdate rpc reply from server 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38004 term 18 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 30657 term 18 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1645761106678198054 16 100} {3930403400703502892 16 101} {8293308588694769651 16 102}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1645761106678198054 16 100} {3930403400703502892 16 101} {8293308588694769651 16 102}]
------------------------------------------------------
flag 1486 term 18 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 28638 term 18 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1645761106678198054 16 100} {3930403400703502892 16 101} {8293308588694769651 16 102}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1645761106678198054 16 100} {3930403400703502892 16 101} {8293308588694769651 16 102}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 8293308588694769651 (index 103) to leader 1
flag 75282 term 18 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 37988 term 18 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {1645761106678198054 16 100} {3930403400703502892 16 101} {8293308588694769651 16 102} {8293308588694769651 18 103}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {1645761106678198054 16 100} {3930403400703502892 16 101} {8293308588694769651 16 102} {8293308588694769651 18 103}]
------------------------------------------------------
flag 51177 term 18 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
flag 16356 term 18 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:103 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {1645761106678198054 16 100} {3930403400703502892 16 101} {8293308588694769651 16 102} {8293308588694769651 18 103}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {1645761106678198054 16 100} {3930403400703502892 16 101} {8293308588694769651 16 102} {8293308588694769651 18 103}]
------------------------------------------------------
flag 80446 term 18 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
flag 61398 term 18 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {1645761106678198054 16 100} {3930403400703502892 16 101} {8293308588694769651 16 102} {8293308588694769651 18 103}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {1645761106678198054 16 100} {3930403400703502892 16 101} {8293308588694769651 16 102} {8293308588694769651 18 103}]
------------------------------------------------------
flag 61138 term 18 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
flag 3298 term 18 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {1645761106678198054 16 100} {3930403400703502892 16 101} {8293308588694769651 16 102} {8293308588694769651 18 103}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {1645761106678198054 16 100} {3930403400703502892 16 101} {8293308588694769651 16 102} {8293308588694769651 18 103}]
------------------------------------------------------
flag 94097 term 18 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
flag 91260 term 18 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {1645761106678198054 16 100} {3930403400703502892 16 101} {8293308588694769651 16 102} {8293308588694769651 18 103}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {1645761106678198054 16 100} {3930403400703502892 16 101} {8293308588694769651 16 102} {8293308588694769651 18 103}]
------------------------------------------------------
flag 38798 term 18 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
flag 563 term 18 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {1645761106678198054 16 100} {3930403400703502892 16 101} {8293308588694769651 16 102} {8293308588694769651 18 103}]
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {1645761106678198054 16 100} {3930403400703502892 16 101} {8293308588694769651 16 102} {8293308588694769651 18 103}]
------------------------------------------------------
flag 85894 term 18 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
flag 8082 term 18 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {1645761106678198054 16 100} {3930403400703502892 16 101} {8293308588694769651 16 102} {8293308588694769651 18 103}]
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {1645761106678198054 16 100} {3930403400703502892 16 101} {8293308588694769651 16 102} {8293308588694769651 18 103}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 70250 term 18 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
flag 42959 term 18 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
flag 32063 term 18 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
flag 62871 term 18 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
flag 58459 term 18 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
flag 13405 term 18 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
term 19 server 0 vote for server 2
term 19 server 2 get vote from server 0
term 19 server 2 become leader
------------------------------------------------------
client write log 1580034444446679018 (index 104) to leader 2
flag 72036 term 19 leader 2 nextIndex[0]: 104  matchIndex[0]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
flag 57726 term 19 leader 2 nextIndex[1]: 104  matchIndex[1]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=105
update matchIndex[0]=104
update leader CommitIndex=104
leader log:
[{snapshot 16 99} {1645761106678198054 16 100} {3930403400703502892 16 101} {8293308588694769651 16 102} {8293308588694769651 18 103} {1580034444446679018 19 104}]
------------------------------------------------------
flag 49094 term 18 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
flag 10167 term 18 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
flag 88538 term 19 leader 2 nextIndex[0]: 105  matchIndex[0]: 104
term 19 leader 2 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 19 leaderCommit: 104 
------------------------------------------------------
flag 65609 term 19 leader 2 nextIndex[1]: 104  matchIndex[1]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 104 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=105
update matchIndex[0]=104
update leader CommitIndex=104
leader log:
[{snapshot 16 99} {1645761106678198054 16 100} {3930403400703502892 16 101} {8293308588694769651 16 102} {8293308588694769651 18 103} {1580034444446679018 19 104}]
------------------------------------------------------
flag 74571 term 18 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
flag 38334 term 18 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
client write log 5789134817423671685 (index 105) to leader 2
client write log 4188158733301792736 (index 106) to leader 2
client write log 1913459492977307336 (index 107) to leader 2
client write log 3527555185300037523 (index 108) to leader 2
client write log 7111144898632106824 (index 109) to leader 2
client write log 551361399569709674 (index 110) to leader 2
client write log 1060793765667480996 (index 111) to leader 2
client write log 5790426045699976692 (index 112) to leader 2
client write log 109829639366312596 (index 113) to leader 2
client write log 4470194396222539577 (index 114) to leader 2
flag 7568 term 19 leader 2 nextIndex[0]: 105  matchIndex[0]: 104
term 19 leader 2 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 19 leaderCommit: 104 
------------------------------------------------------
flag 57215 term 19 leader 2 nextIndex[1]: 104  matchIndex[1]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 104 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=114
leader log:
[{snapshot 16 99} {1645761106678198054 16 100} {3930403400703502892 16 101} {8293308588694769651 16 102} {8293308588694769651 18 103} {1580034444446679018 19 104} {5789134817423671685 19 105} {4188158733301792736 19 106} {1913459492977307336 19 107} {3527555185300037523 19 108} {7111144898632106824 19 109} {551361399569709674 19 110} {1060793765667480996 19 111} {5790426045699976692 19 112} {109829639366312596 19 113} {4470194396222539577 19 114}]
------------------------------------------------------
term 19 Server2 start snapshot! index=109
term 19 server2 snapshot success
lastIncludedIndex=109 lastApplied=110 lastIndex=114
-------------------------------------------------------------
flag 3057 term 18 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
flag 98466 term 18 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
flag 35565 term 19 leader 2 nextIndex[0]: 115  matchIndex[0]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 19 leader 2 nextIndex[1]: 104  matchIndex[1]: 0
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 19
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {551361399569709674 19 110} {1060793765667480996 19 111} {5790426045699976692 19 112} {109829639366312596 19 113} {4470194396222539577 19 114}]
------------------------------------------------------
term 19 Server0 start snapshot! index=109
term 19 server0 snapshot success
lastIncludedIndex=109 lastApplied=110 lastIndex=114
-------------------------------------------------------------
flag 36797 term 18 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
flag 84070 term 18 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
!!!!!!connect server 1
client write log 112307041056802275 (index 104) to leader 1
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 104->103
------------------------------------------------------
flag 98004 term 19 leader 2 nextIndex[0]: 115  matchIndex[0]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 19 leader 2 nextIndex[1]: 104  matchIndex[1]: 0
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 19
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:114 
------------------------------------------------------
term 19 server 1 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {551361399569709674 19 110} {1060793765667480996 19 111} {5790426045699976692 19 112} {109829639366312596 19 113} {4470194396222539577 19 114}]
------------------------------------------------------
term 19 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 110 matchIndex[1] 109 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 109 rf.lastIncludedTerm 19 rf.commitIndex 109 rf.lastApplied 109
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74644 term 19 leader 2 nextIndex[0]: 115  matchIndex[0]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 16294 term 19 leader 2 nextIndex[1]: 110  matchIndex[1]: 109
term 19 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {551361399569709674 19 110} {1060793765667480996 19 111} {5790426045699976692 19 112} {109829639366312596 19 113} {4470194396222539577 19 114}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {551361399569709674 19 110} {1060793765667480996 19 111} {5790426045699976692 19 112} {109829639366312596 19 113} {4470194396222539577 19 114}]
------------------------------------------------------
flag 88991 term 19 leader 2 nextIndex[0]: 115  matchIndex[0]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 48982 term 19 leader 2 nextIndex[1]: 115  matchIndex[1]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {551361399569709674 19 110} {1060793765667480996 19 111} {5790426045699976692 19 112} {109829639366312596 19 113} {4470194396222539577 19 114}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {551361399569709674 19 110} {1060793765667480996 19 111} {5790426045699976692 19 112} {109829639366312596 19 113} {4470194396222539577 19 114}]
------------------------------------------------------
flag 44178 term 19 leader 2 nextIndex[0]: 115  matchIndex[0]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 19358 term 19 leader 2 nextIndex[1]: 115  matchIndex[1]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {551361399569709674 19 110} {1060793765667480996 19 111} {5790426045699976692 19 112} {109829639366312596 19 113} {4470194396222539577 19 114}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {551361399569709674 19 110} {1060793765667480996 19 111} {5790426045699976692 19 112} {109829639366312596 19 113} {4470194396222539577 19 114}]
------------------------------------------------------
flag 63488 term 19 leader 2 nextIndex[0]: 115  matchIndex[0]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 61507 term 19 leader 2 nextIndex[1]: 115  matchIndex[1]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:114 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {551361399569709674 19 110} {1060793765667480996 19 111} {5790426045699976692 19 112} {109829639366312596 19 113} {4470194396222539577 19 114}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {551361399569709674 19 110} {1060793765667480996 19 111} {5790426045699976692 19 112} {109829639366312596 19 113} {4470194396222539577 19 114}]
------------------------------------------------------
flag 40792 term 19 leader 2 nextIndex[0]: 115  matchIndex[0]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 7358 term 19 leader 2 nextIndex[1]: 115  matchIndex[1]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {551361399569709674 19 110} {1060793765667480996 19 111} {5790426045699976692 19 112} {109829639366312596 19 113} {4470194396222539577 19 114}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {551361399569709674 19 110} {1060793765667480996 19 111} {5790426045699976692 19 112} {109829639366312596 19 113} {4470194396222539577 19 114}]
------------------------------------------------------
flag 39513 term 19 leader 2 nextIndex[0]: 115  matchIndex[0]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 53546 term 19 leader 2 nextIndex[1]: 115  matchIndex[1]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {551361399569709674 19 110} {1060793765667480996 19 111} {5790426045699976692 19 112} {109829639366312596 19 113} {4470194396222539577 19 114}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {551361399569709674 19 110} {1060793765667480996 19 111} {5790426045699976692 19 112} {109829639366312596 19 113} {4470194396222539577 19 114}]
------------------------------------------------------
flag 89054 term 19 leader 2 nextIndex[0]: 115  matchIndex[0]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 3376 term 19 leader 2 nextIndex[1]: 115  matchIndex[1]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {551361399569709674 19 110} {1060793765667480996 19 111} {5790426045699976692 19 112} {109829639366312596 19 113} {4470194396222539577 19 114}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {551361399569709674 19 110} {1060793765667480996 19 111} {5790426045699976692 19 112} {109829639366312596 19 113} {4470194396222539577 19 114}]
------------------------------------------------------
flag 78689 term 19 leader 2 nextIndex[0]: 115  matchIndex[0]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 13443 term 19 leader 2 nextIndex[1]: 115  matchIndex[1]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {551361399569709674 19 110} {1060793765667480996 19 111} {5790426045699976692 19 112} {109829639366312596 19 113} {4470194396222539577 19 114}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {551361399569709674 19 110} {1060793765667480996 19 111} {5790426045699976692 19 112} {109829639366312596 19 113} {4470194396222539577 19 114}]
------------------------------------------------------
flag 25230 term 19 leader 2 nextIndex[0]: 115  matchIndex[0]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 44429 term 19 leader 2 nextIndex[1]: 115  matchIndex[1]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {551361399569709674 19 110} {1060793765667480996 19 111} {5790426045699976692 19 112} {109829639366312596 19 113} {4470194396222539577 19 114}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {551361399569709674 19 110} {1060793765667480996 19 111} {5790426045699976692 19 112} {109829639366312596 19 113} {4470194396222539577 19 114}]
------------------------------------------------------
flag 96156 term 19 leader 2 nextIndex[0]: 115  matchIndex[0]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 24008 term 19 leader 2 nextIndex[1]: 115  matchIndex[1]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {551361399569709674 19 110} {1060793765667480996 19 111} {5790426045699976692 19 112} {109829639366312596 19 113} {4470194396222539577 19 114}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {551361399569709674 19 110} {1060793765667480996 19 111} {5790426045699976692 19 112} {109829639366312596 19 113} {4470194396222539577 19 114}]
------------------------------------------------------
term 19 server 0 not vote for server 2, 任期不够新
term 19 server 2 get outdate rpc reply from server 0
flag 25609 term 19 leader 2 nextIndex[0]: 115  matchIndex[0]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 64202 term 19 leader 2 nextIndex[1]: 115  matchIndex[1]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {551361399569709674 19 110} {1060793765667480996 19 111} {5790426045699976692 19 112} {109829639366312596 19 113} {4470194396222539577 19 114}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {551361399569709674 19 110} {1060793765667480996 19 111} {5790426045699976692 19 112} {109829639366312596 19 113} {4470194396222539577 19 114}]
------------------------------------------------------
flag 26795 term 19 leader 2 nextIndex[0]: 115  matchIndex[0]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 39768 term 19 leader 2 nextIndex[1]: 115  matchIndex[1]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {551361399569709674 19 110} {1060793765667480996 19 111} {5790426045699976692 19 112} {109829639366312596 19 113} {4470194396222539577 19 114}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {551361399569709674 19 110} {1060793765667480996 19 111} {5790426045699976692 19 112} {109829639366312596 19 113} {4470194396222539577 19 114}]
------------------------------------------------------
flag 52832 term 19 leader 2 nextIndex[0]: 115  matchIndex[0]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 76924 term 19 leader 2 nextIndex[1]: 115  matchIndex[1]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:114 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {551361399569709674 19 110} {1060793765667480996 19 111} {5790426045699976692 19 112} {109829639366312596 19 113} {4470194396222539577 19 114}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {551361399569709674 19 110} {1060793765667480996 19 111} {5790426045699976692 19 112} {109829639366312596 19 113} {4470194396222539577 19 114}]
------------------------------------------------------
flag 65635 term 19 leader 2 nextIndex[0]: 115  matchIndex[0]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 1418 term 19 leader 2 nextIndex[1]: 115  matchIndex[1]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {551361399569709674 19 110} {1060793765667480996 19 111} {5790426045699976692 19 112} {109829639366312596 19 113} {4470194396222539577 19 114}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {551361399569709674 19 110} {1060793765667480996 19 111} {5790426045699976692 19 112} {109829639366312596 19 113} {4470194396222539577 19 114}]
------------------------------------------------------
flag 21409 term 19 leader 2 nextIndex[0]: 115  matchIndex[0]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 18093 term 19 leader 2 nextIndex[1]: 115  matchIndex[1]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {551361399569709674 19 110} {1060793765667480996 19 111} {5790426045699976692 19 112} {109829639366312596 19 113} {4470194396222539577 19 114}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {551361399569709674 19 110} {1060793765667480996 19 111} {5790426045699976692 19 112} {109829639366312596 19 113} {4470194396222539577 19 114}]
------------------------------------------------------
flag 94943 term 19 leader 2 nextIndex[0]: 115  matchIndex[0]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 68982 term 19 leader 2 nextIndex[1]: 115  matchIndex[1]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {551361399569709674 19 110} {1060793765667480996 19 111} {5790426045699976692 19 112} {109829639366312596 19 113} {4470194396222539577 19 114}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {551361399569709674 19 110} {1060793765667480996 19 111} {5790426045699976692 19 112} {109829639366312596 19 113} {4470194396222539577 19 114}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 115->114
------------------------------------------------------
flag 23039 term 19 leader 2 nextIndex[0]: 115  matchIndex[0]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 19 leader 2 nextIndex[1]: 0  matchIndex[1]: 114
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 19
------------------------------------------------------
term 19 server 1 InstallSnapshot fail
rf.commitIndex 114 args.LastIncludedIndex 109
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:114 
------------------------------------------------------
term 19 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 110 matchIndex[1] 109 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {551361399569709674 19 110} {1060793765667480996 19 111} {5790426045699976692 19 112} {109829639366312596 19 113} {4470194396222539577 19 114}]
------------------------------------------------------
flag 60487 term 19 leader 2 nextIndex[0]: 115  matchIndex[0]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 66227 term 19 leader 2 nextIndex[1]: 110  matchIndex[1]: 109
term 19 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=114
term 19 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader log:
[{snapshot 19 109} {551361399569709674 19 110} {1060793765667480996 19 111} {5790426045699976692 19 112} {109829639366312596 19 113} {4470194396222539577 19 114}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {551361399569709674 19 110} {1060793765667480996 19 111} {5790426045699976692 19 112} {109829639366312596 19 113} {4470194396222539577 19 114}]
------------------------------------------------------
flag 973 term 19 leader 2 nextIndex[0]: 115  matchIndex[0]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 79169 term 19 leader 2 nextIndex[1]: 115  matchIndex[1]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {551361399569709674 19 110} {1060793765667480996 19 111} {5790426045699976692 19 112} {109829639366312596 19 113} {4470194396222539577 19 114}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=114
leader log:
[{snapshot 19 109} {551361399569709674 19 110} {1060793765667480996 19 111} {5790426045699976692 19 112} {109829639366312596 19 113} {4470194396222539577 19 114}]
------------------------------------------------------
client write log 112307041056802275 (index 115) to leader 2
term 19 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 110 matchIndex[1] 109 
------------------------------------------------------------------------
flag 25459 term 19 leader 2 nextIndex[0]: 115  matchIndex[0]: 114
term 19 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 81888 term 19 leader 2 nextIndex[1]: 110  matchIndex[1]: 109
term 19 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:114 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=115
leader log:
[{snapshot 19 109} {551361399569709674 19 110} {1060793765667480996 19 111} {5790426045699976692 19 112} {109829639366312596 19 113} {4470194396222539577 19 114} {112307041056802275 19 115}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 19 109} {551361399569709674 19 110} {1060793765667480996 19 111} {5790426045699976692 19 112} {109829639366312596 19 113} {4470194396222539577 19 114} {112307041056802275 19 115}]
------------------------------------------------------
flag 7562 term 19 leader 2 nextIndex[0]: 116  matchIndex[0]: 115
term 19 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
flag 14570 term 19 leader 2 nextIndex[1]: 116  matchIndex[1]: 115
term 19 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 19 109} {551361399569709674 19 110} {1060793765667480996 19 111} {5790426045699976692 19 112} {109829639366312596 19 113} {4470194396222539577 19 114} {112307041056802275 19 115}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=115
leader log:
[{snapshot 19 109} {551361399569709674 19 110} {1060793765667480996 19 111} {5790426045699976692 19 112} {109829639366312596 19 113} {4470194396222539577 19 114} {112307041056802275 19 115}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80189 term 19 leader 2 nextIndex[0]: 116  matchIndex[0]: 115
term 19 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
flag 19029 term 19 leader 2 nextIndex[1]: 116  matchIndex[1]: 115
term 19 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 19 109} {551361399569709674 19 110} {1060793765667480996 19 111} {5790426045699976692 19 112} {109829639366312596 19 113} {4470194396222539577 19 114} {112307041056802275 19 115}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=115
leader log:
[{snapshot 19 109} {551361399569709674 19 110} {1060793765667480996 19 111} {5790426045699976692 19 112} {109829639366312596 19 113} {4470194396222539577 19 114} {112307041056802275 19 115}]
------------------------------------------------------
flag 19213 term 19 leader 2 nextIndex[0]: 116  matchIndex[0]: 115
term 19 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
flag 47536 term 19 leader 2 nextIndex[1]: 116  matchIndex[1]: 115
term 19 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 19 109} {551361399569709674 19 110} {1060793765667480996 19 111} {5790426045699976692 19 112} {109829639366312596 19 113} {4470194396222539577 19 114} {112307041056802275 19 115}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=115
leader log:
[{snapshot 19 109} {551361399569709674 19 110} {1060793765667480996 19 111} {5790426045699976692 19 112} {109829639366312596 19 113} {4470194396222539577 19 114} {112307041056802275 19 115}]
------------------------------------------------------
flag 89801 term 19 leader 2 nextIndex[0]: 116  matchIndex[0]: 115
term 19 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
flag 10111 term 19 leader 2 nextIndex[1]: 116  matchIndex[1]: 115
term 19 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 19 109} {551361399569709674 19 110} {1060793765667480996 19 111} {5790426045699976692 19 112} {109829639366312596 19 113} {4470194396222539577 19 114} {112307041056802275 19 115}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=115
leader log:
[{snapshot 19 109} {551361399569709674 19 110} {1060793765667480996 19 111} {5790426045699976692 19 112} {109829639366312596 19 113} {4470194396222539577 19 114} {112307041056802275 19 115}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 116->115
------------------------------------------------------
flag 26267 term 19 leader 2 nextIndex[0]: 116  matchIndex[0]: 115
term 19 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
term 19 leader 2 nextIndex[1]: 0  matchIndex[1]: 115
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 19
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=115
leader log:
[{snapshot 19 109} {551361399569709674 19 110} {1060793765667480996 19 111} {5790426045699976692 19 112} {109829639366312596 19 113} {4470194396222539577 19 114} {112307041056802275 19 115}]
------------------------------------------------------
term 19 server 1 InstallSnapshot fail
rf.commitIndex 115 args.LastIncludedIndex 109
------------------------------------------------------
term 19 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 110 matchIndex[1] 109 
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 0
client write log 5904770366240669202 (index 116) to leader 2
flag 69826 term 19 leader 2 nextIndex[0]: 116  matchIndex[0]: 115
term 19 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
flag 10501 term 19 leader 2 nextIndex[1]: 110  matchIndex[1]: 109
term 19 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=116
leader log:
[{snapshot 19 109} {551361399569709674 19 110} {1060793765667480996 19 111} {5790426045699976692 19 112} {109829639366312596 19 113} {4470194396222539577 19 114} {112307041056802275 19 115} {5904770366240669202 19 116}]
------------------------------------------------------
flag 32272 term 19 leader 2 nextIndex[0]: 116  matchIndex[0]: 115
term 19 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
flag 86133 term 19 leader 2 nextIndex[1]: 117  matchIndex[1]: 116
term 19 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=116
leader log:
[{snapshot 19 109} {551361399569709674 19 110} {1060793765667480996 19 111} {5790426045699976692 19 112} {109829639366312596 19 113} {4470194396222539577 19 114} {112307041056802275 19 115} {5904770366240669202 19 116}]
------------------------------------------------------
client write log 4898552431950748228 (index 117) to leader 2
client write log 1610507608046988435 (index 118) to leader 2
client write log 2375152518506110316 (index 119) to leader 2
client write log 27432236346790572 (index 120) to leader 2
client write log 6998182329783557504 (index 121) to leader 2
client write log 3978630005243986076 (index 122) to leader 2
client write log 1703924661929006393 (index 123) to leader 2
client write log 5684454875312575491 (index 124) to leader 2
client write log 6972192651603492667 (index 125) to leader 2
client write log 4422664190975466878 (index 126) to leader 2
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 117->116
------------------------------------------------------
flag 98354 term 19 leader 2 nextIndex[0]: 116  matchIndex[0]: 115
term 19 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
term 19 leader 2 nextIndex[1]: 0  matchIndex[1]: 116
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 19
------------------------------------------------------
term 19 server 1 InstallSnapshot fail
rf.commitIndex 116 args.LastIncludedIndex 109
------------------------------------------------------
term 19 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 110 matchIndex[1] 109 
------------------------------------------------------------------------
flag 18776 term 19 leader 2 nextIndex[0]: 116  matchIndex[0]: 115
term 19 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
flag 7410 term 19 leader 2 nextIndex[1]: 110  matchIndex[1]: 109
term 19 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=126
leader log:
[{snapshot 19 109} {551361399569709674 19 110} {1060793765667480996 19 111} {5790426045699976692 19 112} {109829639366312596 19 113} {4470194396222539577 19 114} {112307041056802275 19 115} {5904770366240669202 19 116} {4898552431950748228 19 117} {1610507608046988435 19 118} {2375152518506110316 19 119} {27432236346790572 19 120} {6998182329783557504 19 121} {3978630005243986076 19 122} {1703924661929006393 19 123} {5684454875312575491 19 124} {6972192651603492667 19 125} {4422664190975466878 19 126}]
------------------------------------------------------
term 19 Server2 start snapshot! index=119
term 19 server2 snapshot success
lastIncludedIndex=119 lastApplied=120 lastIndex=126
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 19 leader 2 nextIndex[0]: 116  matchIndex[0]: 115
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 19
------------------------------------------------------
flag 7645 term 19 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 19 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {27432236346790572 19 120} {6998182329783557504 19 121} {3978630005243986076 19 122} {1703924661929006393 19 123} {5684454875312575491 19 124} {6972192651603492667 19 125} {4422664190975466878 19 126}]
------------------------------------------------------
term 19 Server1 start snapshot! index=119
term 19 server1 snapshot success
lastIncludedIndex=119 lastApplied=120 lastIndex=126
-------------------------------------------------------------
!!!!!!connect server 0
client write log 6090804629492818161 (index 127) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 19 leader 2 nextIndex[0]: 116  matchIndex[0]: 115
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 19
------------------------------------------------------
flag 62077 term 19 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 19 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
term 20 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 19 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 21 server 1 vote for server 2
term 21 server 2 get vote from server 1
term 21 server 2 become leader
------------------------------------------------------
term 21 server 0 vote for server 2
term 21 server 2 get outdate rpc reply from server 0
flag 86834 term 21 leader 2 nextIndex[0]: 128  matchIndex[0]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
flag 10890 term 21 leader 2 nextIndex[1]: 128  matchIndex[1]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
term 21 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {27432236346790572 19 120} {6998182329783557504 19 121} {3978630005243986076 19 122} {1703924661929006393 19 123} {5684454875312575491 19 124} {6972192651603492667 19 125} {4422664190975466878 19 126} {6090804629492818161 19 127}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 128->127
------------------------------------------------------
term 21 leader 2 nextIndex[0]: 116  matchIndex[0]: 0
term 21 leader 2 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 19
------------------------------------------------------
flag 6986 term 21 leader 2 nextIndex[1]: 128  matchIndex[1]: 127
term 21 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
term 21 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueServer0 get CondInstallSnapshot!
rf.lastIncludedIndex 119 rf.lastIncludedTerm 19 rf.commitIndex 119 rf.lastApplied 119
update nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {27432236346790572 19 120} {6998182329783557504 19 121} {3978630005243986076 19 122} {1703924661929006393 19 123} {5684454875312575491 19 124} {6972192651603492667 19 125} {4422664190975466878 19 126} {6090804629492818161 19 127}]
------------------------------------------------------
term 21 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 120 matchIndex[0] 119 
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75638 term 21 leader 2 nextIndex[0]: 120  matchIndex[0]: 119
term 21 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
flag 25944 term 21 leader 2 nextIndex[1]: 128  matchIndex[1]: 127
term 21 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {27432236346790572 19 120} {6998182329783557504 19 121} {3978630005243986076 19 122} {1703924661929006393 19 123} {5684454875312575491 19 124} {6972192651603492667 19 125} {4422664190975466878 19 126} {6090804629492818161 19 127}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {27432236346790572 19 120} {6998182329783557504 19 121} {3978630005243986076 19 122} {1703924661929006393 19 123} {5684454875312575491 19 124} {6972192651603492667 19 125} {4422664190975466878 19 126} {6090804629492818161 19 127}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69487 term 21 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 21 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
flag 44519 term 21 leader 2 nextIndex[1]: 128  matchIndex[1]: 127
term 21 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {27432236346790572 19 120} {6998182329783557504 19 121} {3978630005243986076 19 122} {1703924661929006393 19 123} {5684454875312575491 19 124} {6972192651603492667 19 125} {4422664190975466878 19 126} {6090804629492818161 19 127}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {27432236346790572 19 120} {6998182329783557504 19 121} {3978630005243986076 19 122} {1703924661929006393 19 123} {5684454875312575491 19 124} {6972192651603492667 19 125} {4422664190975466878 19 126} {6090804629492818161 19 127}]
------------------------------------------------------
flag 91319 term 21 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 21 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
flag 71705 term 21 leader 2 nextIndex[1]: 128  matchIndex[1]: 127
term 21 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {27432236346790572 19 120} {6998182329783557504 19 121} {3978630005243986076 19 122} {1703924661929006393 19 123} {5684454875312575491 19 124} {6972192651603492667 19 125} {4422664190975466878 19 126} {6090804629492818161 19 127}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {27432236346790572 19 120} {6998182329783557504 19 121} {3978630005243986076 19 122} {1703924661929006393 19 123} {5684454875312575491 19 124} {6972192651603492667 19 125} {4422664190975466878 19 126} {6090804629492818161 19 127}]
------------------------------------------------------
flag 38449 term 21 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 21 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
flag 70449 term 21 leader 2 nextIndex[1]: 128  matchIndex[1]: 127
term 21 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=126
leader log:
term 21 server 0 AppendEntries true commitIndex:126 
------------------------------------------------------
[{snapshot 19 119} {27432236346790572 19 120} {6998182329783557504 19 121} {3978630005243986076 19 122} {1703924661929006393 19 123} {5684454875312575491 19 124} {6972192651603492667 19 125} {4422664190975466878 19 126} {6090804629492818161 19 127}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {27432236346790572 19 120} {6998182329783557504 19 121} {3978630005243986076 19 122} {1703924661929006393 19 123} {5684454875312575491 19 124} {6972192651603492667 19 125} {4422664190975466878 19 126} {6090804629492818161 19 127}]
------------------------------------------------------
term 21 server 1 not vote for server 0, 任期不够新
term 21 server 0 get outdate rpc reply from server 1
flag 66595 term 21 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 21 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
flag 23274 term 21 leader 2 nextIndex[1]: 128  matchIndex[1]: 127
term 21 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {27432236346790572 19 120} {6998182329783557504 19 121} {3978630005243986076 19 122} {1703924661929006393 19 123} {5684454875312575491 19 124} {6972192651603492667 19 125} {4422664190975466878 19 126} {6090804629492818161 19 127}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {27432236346790572 19 120} {6998182329783557504 19 121} {3978630005243986076 19 122} {1703924661929006393 19 123} {5684454875312575491 19 124} {6972192651603492667 19 125} {4422664190975466878 19 126} {6090804629492818161 19 127}]
------------------------------------------------------
flag 15320 term 21 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 21 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
flag 93811 term 21 leader 2 nextIndex[1]: 128  matchIndex[1]: 127
term 21 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:126 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {27432236346790572 19 120} {6998182329783557504 19 121} {3978630005243986076 19 122} {1703924661929006393 19 123} {5684454875312575491 19 124} {6972192651603492667 19 125} {4422664190975466878 19 126} {6090804629492818161 19 127}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {27432236346790572 19 120} {6998182329783557504 19 121} {3978630005243986076 19 122} {1703924661929006393 19 123} {5684454875312575491 19 124} {6972192651603492667 19 125} {4422664190975466878 19 126} {6090804629492818161 19 127}]
------------------------------------------------------
flag 1699 term 21 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 21 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
flag 74720 term 21 leader 2 nextIndex[1]: 128  matchIndex[1]: 127
term 21 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {27432236346790572 19 120} {6998182329783557504 19 121} {3978630005243986076 19 122} {1703924661929006393 19 123} {5684454875312575491 19 124} {6972192651603492667 19 125} {4422664190975466878 19 126} {6090804629492818161 19 127}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {27432236346790572 19 120} {6998182329783557504 19 121} {3978630005243986076 19 122} {1703924661929006393 19 123} {5684454875312575491 19 124} {6972192651603492667 19 125} {4422664190975466878 19 126} {6090804629492818161 19 127}]
------------------------------------------------------
flag 72729 term 21 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 21 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
flag 26662 term 21 leader 2 nextIndex[1]: 128  matchIndex[1]: 127
term 21 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {27432236346790572 19 120} {6998182329783557504 19 121} {3978630005243986076 19 122} {1703924661929006393 19 123} {5684454875312575491 19 124} {6972192651603492667 19 125} {4422664190975466878 19 126} {6090804629492818161 19 127}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {27432236346790572 19 120} {6998182329783557504 19 121} {3978630005243986076 19 122} {1703924661929006393 19 123} {5684454875312575491 19 124} {6972192651603492667 19 125} {4422664190975466878 19 126} {6090804629492818161 19 127}]
------------------------------------------------------
term 21 server 2 not vote for server 0, 任期不够新
term 21 server 0 get outdate rpc reply from server 2
flag 23880 term 21 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 21 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
flag 48123 term 21 leader 2 nextIndex[1]: 128  matchIndex[1]: 127
term 21 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {27432236346790572 19 120} {6998182329783557504 19 121} {3978630005243986076 19 122} {1703924661929006393 19 123} {5684454875312575491 19 124} {6972192651603492667 19 125} {4422664190975466878 19 126} {6090804629492818161 19 127}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {27432236346790572 19 120} {6998182329783557504 19 121} {3978630005243986076 19 122} {1703924661929006393 19 123} {5684454875312575491 19 124} {6972192651603492667 19 125} {4422664190975466878 19 126} {6090804629492818161 19 127}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39189 term 21 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 21 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
flag 34526 term 21 leader 2 nextIndex[1]: 128  matchIndex[1]: 127
term 21 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:126 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {27432236346790572 19 120} {6998182329783557504 19 121} {3978630005243986076 19 122} {1703924661929006393 19 123} {5684454875312575491 19 124} {6972192651603492667 19 125} {4422664190975466878 19 126} {6090804629492818161 19 127}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {27432236346790572 19 120} {6998182329783557504 19 121} {3978630005243986076 19 122} {1703924661929006393 19 123} {5684454875312575491 19 124} {6972192651603492667 19 125} {4422664190975466878 19 126} {6090804629492818161 19 127}]
------------------------------------------------------
flag 91554 term 21 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 21 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
flag 32236 term 21 leader 2 nextIndex[1]: 128  matchIndex[1]: 127
term 21 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {27432236346790572 19 120} {6998182329783557504 19 121} {3978630005243986076 19 122} {1703924661929006393 19 123} {5684454875312575491 19 124} {6972192651603492667 19 125} {4422664190975466878 19 126} {6090804629492818161 19 127}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {27432236346790572 19 120} {6998182329783557504 19 121} {3978630005243986076 19 122} {1703924661929006393 19 123} {5684454875312575491 19 124} {6972192651603492667 19 125} {4422664190975466878 19 126} {6090804629492818161 19 127}]
------------------------------------------------------
flag 65277 term 21 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 21 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
flag 98072 term 21 leader 2 nextIndex[1]: 128  matchIndex[1]: 127
term 21 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {27432236346790572 19 120} {6998182329783557504 19 121} {3978630005243986076 19 122} {1703924661929006393 19 123} {5684454875312575491 19 124} {6972192651603492667 19 125} {4422664190975466878 19 126} {6090804629492818161 19 127}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {27432236346790572 19 120} {6998182329783557504 19 121} {3978630005243986076 19 122} {1703924661929006393 19 123} {5684454875312575491 19 124} {6972192651603492667 19 125} {4422664190975466878 19 126} {6090804629492818161 19 127}]
------------------------------------------------------
flag 78780 term 21 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 21 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
flag 64409 term 21 leader 2 nextIndex[1]: 128  matchIndex[1]: 127
term 21 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {27432236346790572 19 120} {6998182329783557504 19 121} {3978630005243986076 19 122} {1703924661929006393 19 123} {5684454875312575491 19 124} {6972192651603492667 19 125} {4422664190975466878 19 126} {6090804629492818161 19 127}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {27432236346790572 19 120} {6998182329783557504 19 121} {3978630005243986076 19 122} {1703924661929006393 19 123} {5684454875312575491 19 124} {6972192651603492667 19 125} {4422664190975466878 19 126} {6090804629492818161 19 127}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8487 term 21 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 21 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
flag 29894 term 21 leader 2 nextIndex[1]: 128  matchIndex[1]: 127
term 21 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {27432236346790572 19 120} {6998182329783557504 19 121} {3978630005243986076 19 122} {1703924661929006393 19 123} {5684454875312575491 19 124} {6972192651603492667 19 125} {4422664190975466878 19 126} {6090804629492818161 19 127}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {27432236346790572 19 120} {6998182329783557504 19 121} {3978630005243986076 19 122} {1703924661929006393 19 123} {5684454875312575491 19 124} {6972192651603492667 19 125} {4422664190975466878 19 126} {6090804629492818161 19 127}]
------------------------------------------------------
flag 42352 term 21 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 21 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
flag 72287 term 21 leader 2 nextIndex[1]: 128  matchIndex[1]: 127
term 21 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {27432236346790572 19 120} {6998182329783557504 19 121} {3978630005243986076 19 122} {1703924661929006393 19 123} {5684454875312575491 19 124} {6972192651603492667 19 125} {4422664190975466878 19 126} {6090804629492818161 19 127}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {27432236346790572 19 120} {6998182329783557504 19 121} {3978630005243986076 19 122} {1703924661929006393 19 123} {5684454875312575491 19 124} {6972192651603492667 19 125} {4422664190975466878 19 126} {6090804629492818161 19 127}]
------------------------------------------------------
flag 84865 term 21 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 21 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
flag 16938 term 21 leader 2 nextIndex[1]: 128  matchIndex[1]: 127
term 21 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {27432236346790572 19 120} {6998182329783557504 19 121} {3978630005243986076 19 122} {1703924661929006393 19 123} {5684454875312575491 19 124} {6972192651603492667 19 125} {4422664190975466878 19 126} {6090804629492818161 19 127}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {27432236346790572 19 120} {6998182329783557504 19 121} {3978630005243986076 19 122} {1703924661929006393 19 123} {5684454875312575491 19 124} {6972192651603492667 19 125} {4422664190975466878 19 126} {6090804629492818161 19 127}]
------------------------------------------------------
flag 34371 term 21 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 21 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
flag 22383 term 21 leader 2 nextIndex[1]: 128  matchIndex[1]: 127
term 21 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {27432236346790572 19 120} {6998182329783557504 19 121} {3978630005243986076 19 122} {1703924661929006393 19 123} {5684454875312575491 19 124} {6972192651603492667 19 125} {4422664190975466878 19 126} {6090804629492818161 19 127}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {27432236346790572 19 120} {6998182329783557504 19 121} {3978630005243986076 19 122} {1703924661929006393 19 123} {5684454875312575491 19 124} {6972192651603492667 19 125} {4422664190975466878 19 126} {6090804629492818161 19 127}]
------------------------------------------------------
client write log 6090804629492818161 (index 128) to leader 2
flag 84274 term 21 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 21 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
flag 75438 term 21 leader 2 nextIndex[1]: 128  matchIndex[1]: 127
term 21 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:126 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {27432236346790572 19 120} {6998182329783557504 19 121} {3978630005243986076 19 122} {1703924661929006393 19 123} {5684454875312575491 19 124} {6972192651603492667 19 125} {4422664190975466878 19 126} {6090804629492818161 19 127} {6090804629492818161 21 128}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {27432236346790572 19 120} {6998182329783557504 19 121} {3978630005243986076 19 122} {1703924661929006393 19 123} {5684454875312575491 19 124} {6972192651603492667 19 125} {4422664190975466878 19 126} {6090804629492818161 19 127} {6090804629492818161 21 128}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11254 term 21 leader 2 nextIndex[0]: 129  matchIndex[0]: 128
term 21 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
flag 55271 term 21 leader 2 nextIndex[1]: 129  matchIndex[1]: 128
term 21 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {27432236346790572 19 120} {6998182329783557504 19 121} {3978630005243986076 19 122} {1703924661929006393 19 123} {5684454875312575491 19 124} {6972192651603492667 19 125} {4422664190975466878 19 126} {6090804629492818161 19 127} {6090804629492818161 21 128}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {27432236346790572 19 120} {6998182329783557504 19 121} {3978630005243986076 19 122} {1703924661929006393 19 123} {5684454875312575491 19 124} {6972192651603492667 19 125} {4422664190975466878 19 126} {6090804629492818161 19 127} {6090804629492818161 21 128}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25475 term 21 leader 2 nextIndex[0]: 129  matchIndex[0]: 128
term 21 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
flag 35089 term 21 leader 2 nextIndex[1]: 129  matchIndex[1]: 128
term 21 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {27432236346790572 19 120} {6998182329783557504 19 121} {3978630005243986076 19 122} {1703924661929006393 19 123} {5684454875312575491 19 124} {6972192651603492667 19 125} {4422664190975466878 19 126} {6090804629492818161 19 127} {6090804629492818161 21 128}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {27432236346790572 19 120} {6998182329783557504 19 121} {3978630005243986076 19 122} {1703924661929006393 19 123} {5684454875312575491 19 124} {6972192651603492667 19 125} {4422664190975466878 19 126} {6090804629492818161 19 127} {6090804629492818161 21 128}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16097 term 21 leader 2 nextIndex[0]: 129  matchIndex[0]: 128
term 21 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
flag 13526 term 21 leader 2 nextIndex[1]: 129  matchIndex[1]: 128
term 21 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {27432236346790572 19 120} {6998182329783557504 19 121} {3978630005243986076 19 122} {1703924661929006393 19 123} {5684454875312575491 19 124} {6972192651603492667 19 125} {4422664190975466878 19 126} {6090804629492818161 19 127} {6090804629492818161 21 128}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {27432236346790572 19 120} {6998182329783557504 19 121} {3978630005243986076 19 122} {1703924661929006393 19 123} {5684454875312575491 19 124} {6972192651603492667 19 125} {4422664190975466878 19 126} {6090804629492818161 19 127} {6090804629492818161 21 128}]
------------------------------------------------------
flag 31234 term 21 leader 2 nextIndex[0]: 129  matchIndex[0]: 128
term 21 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
flag 73635 term 21 leader 2 nextIndex[1]: 129  matchIndex[1]: 128
term 21 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {27432236346790572 19 120} {6998182329783557504 19 121} {3978630005243986076 19 122} {1703924661929006393 19 123} {5684454875312575491 19 124} {6972192651603492667 19 125} {4422664190975466878 19 126} {6090804629492818161 19 127} {6090804629492818161 21 128}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {27432236346790572 19 120} {6998182329783557504 19 121} {3978630005243986076 19 122} {1703924661929006393 19 123} {5684454875312575491 19 124} {6972192651603492667 19 125} {4422664190975466878 19 126} {6090804629492818161 19 127} {6090804629492818161 21 128}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83058 term 21 leader 2 nextIndex[0]: 129  matchIndex[0]: 128
term 21 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
flag 98382 term 21 leader 2 nextIndex[1]: 129  matchIndex[1]: 128
term 21 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {27432236346790572 19 120} {6998182329783557504 19 121} {3978630005243986076 19 122} {1703924661929006393 19 123} {5684454875312575491 19 124} {6972192651603492667 19 125} {4422664190975466878 19 126} {6090804629492818161 19 127} {6090804629492818161 21 128}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {27432236346790572 19 120} {6998182329783557504 19 121} {3978630005243986076 19 122} {1703924661929006393 19 123} {5684454875312575491 19 124} {6972192651603492667 19 125} {4422664190975466878 19 126} {6090804629492818161 19 127} {6090804629492818161 21 128}]
------------------------------------------------------
flag 2833 term 21 leader 2 nextIndex[0]: 129  matchIndex[0]: 128
term 21 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
flag 84874 term 21 leader 2 nextIndex[1]: 129  matchIndex[1]: 128
term 21 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {27432236346790572 19 120} {6998182329783557504 19 121} {3978630005243986076 19 122} {1703924661929006393 19 123} {5684454875312575491 19 124} {6972192651603492667 19 125} {4422664190975466878 19 126} {6090804629492818161 19 127} {6090804629492818161 21 128}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {27432236346790572 19 120} {6998182329783557504 19 121} {3978630005243986076 19 122} {1703924661929006393 19 123} {5684454875312575491 19 124} {6972192651603492667 19 125} {4422664190975466878 19 126} {6090804629492818161 19 127} {6090804629492818161 21 128}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 7947114202389019803 (index 129) to leader 2
flag 40159 term 21 leader 2 nextIndex[0]: 129  matchIndex[0]: 128
term 21 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
flag 43685 term 21 leader 2 nextIndex[1]: 129  matchIndex[1]: 128
term 21 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=129
leader log:
[{snapshot 19 119} {27432236346790572 19 120} {6998182329783557504 19 121} {3978630005243986076 19 122} {1703924661929006393 19 123} {5684454875312575491 19 124} {6972192651603492667 19 125} {4422664190975466878 19 126} {6090804629492818161 19 127} {6090804629492818161 21 128} {7947114202389019803 21 129}]
------------------------------------------------------
term 21 Server2 start snapshot! index=129
term 21 server2 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=129
-------------------------------------------------------------
term 21 leader 2 nextIndex[0]: 129  matchIndex[0]: 128
term 21 leader 2 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 21
------------------------------------------------------
flag 68180 term 21 leader 2 nextIndex[1]: 130  matchIndex[1]: 129
term 21 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 129 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=129
leader log:
[{snapshot 21 129}]
------------------------------------------------------
term 21 Server1 start snapshot! index=129
term 21 server1 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=129
-------------------------------------------------------------
client write log 2342845701662507795 (index 130) to leader 2
client write log 5827130365460104283 (index 131) to leader 2
client write log 3095263005266069932 (index 132) to leader 2
client write log 896147182652611936 (index 133) to leader 2
client write log 3670347697390888838 (index 134) to leader 2
client write log 5621506165043966614 (index 135) to leader 2
term 21 server 1 not vote for server 2, 任期不够新
term 21 server 2 get outdate rpc reply from server 1
term 21 leader 2 nextIndex[0]: 129  matchIndex[0]: 128
term 21 leader 2 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 21
------------------------------------------------------
flag 36609 term 21 leader 2 nextIndex[1]: 130  matchIndex[1]: 129
term 21 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 129 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {2342845701662507795 21 130} {5827130365460104283 21 131} {3095263005266069932 21 132} {896147182652611936 21 133} {3670347697390888838 21 134} {5621506165043966614 21 135}]
------------------------------------------------------
term 21 leader 2 nextIndex[0]: 129  matchIndex[0]: 128
term 21 leader 2 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 21
------------------------------------------------------
flag 38278 term 21 leader 2 nextIndex[1]: 136  matchIndex[1]: 135
term 21 leader 2 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {2342845701662507795 21 130} {5827130365460104283 21 131} {3095263005266069932 21 132} {896147182652611936 21 133} {3670347697390888838 21 134} {5621506165043966614 21 135}]
------------------------------------------------------
!!!!!!connect server 0
client write log 4895697996990569087 (index 136) to leader 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 21 server 2 not vote for server 0, 日志不够新
term 21 server 1 not vote for server 0, 日志不够新
term 23 server 1 vote for server 2
term 23 server 2 get vote from server 1
term 23 server 2 become leader
------------------------------------------------------
term 23 server 0 vote for server 2
term 23 server 2 get outdate rpc reply from server 0
flag 89154 term 23 leader 2 nextIndex[0]: 137  matchIndex[0]: 0
term 23 leader 2 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
flag 75173 term 23 leader 2 nextIndex[1]: 137  matchIndex[1]: 0
term 23 leader 2 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
term 23 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 23 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 137->136
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 137->136
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 23 leader 2 nextIndex[0]: 129  matchIndex[0]: 0
term 23 leader 2 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 21
------------------------------------------------------
flag 95076 term 23 leader 2 nextIndex[1]: 136  matchIndex[1]: 0
term 23 leader 2 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:135 
------------------------------------------------------
term 23 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=137
update matchIndex[1]=136
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {2342845701662507795 21 130} {5827130365460104283 21 131} {3095263005266069932 21 132} {896147182652611936 21 133} {3670347697390888838 21 134} {5621506165043966614 21 135} {4895697996990569087 21 136}]
------------------------------------------------------
term 23 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 130 matchIndex[0] 129 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 129 rf.lastIncludedTerm 21 rf.commitIndex 129 rf.lastApplied 129
flag 60624 term 23 leader 2 nextIndex[0]: 130  matchIndex[0]: 129
term 23 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
flag 37821 term 23 leader 2 nextIndex[1]: 137  matchIndex[1]: 136
term 23 leader 2 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=137
update matchIndex[1]=136
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {2342845701662507795 21 130} {5827130365460104283 21 131} {3095263005266069932 21 132} {896147182652611936 21 133} {3670347697390888838 21 134} {5621506165043966614 21 135} {4895697996990569087 21 136}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=137
update matchIndex[0]=136
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {2342845701662507795 21 130} {5827130365460104283 21 131} {3095263005266069932 21 132} {896147182652611936 21 133} {3670347697390888838 21 134} {5621506165043966614 21 135} {4895697996990569087 21 136}]
------------------------------------------------------
flag 73381 term 23 leader 2 nextIndex[0]: 137  matchIndex[0]: 136
term 23 leader 2 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
flag 55564 term 23 leader 2 nextIndex[1]: 137  matchIndex[1]: 136
term 23 leader 2 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=137
update matchIndex[1]=136
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {2342845701662507795 21 130} {5827130365460104283 21 131} {3095263005266069932 21 132} {896147182652611936 21 133} {3670347697390888838 21 134} {5621506165043966614 21 135} {4895697996990569087 21 136}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=137
update matchIndex[0]=136
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {2342845701662507795 21 130} {5827130365460104283 21 131} {3095263005266069932 21 132} {896147182652611936 21 133} {3670347697390888838 21 134} {5621506165043966614 21 135} {4895697996990569087 21 136}]
------------------------------------------------------
flag 75544 term 23 leader 2 nextIndex[0]: 137  matchIndex[0]: 136
term 23 leader 2 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
flag 91354 term 23 leader 2 nextIndex[1]: 137  matchIndex[1]: 136
term 23 leader 2 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=137
update matchIndex[1]=136
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {2342845701662507795 21 130} {5827130365460104283 21 131} {3095263005266069932 21 132} {896147182652611936 21 133} {3670347697390888838 21 134} {5621506165043966614 21 135} {4895697996990569087 21 136}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=137
update matchIndex[0]=136
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {2342845701662507795 21 130} {5827130365460104283 21 131} {3095263005266069932 21 132} {896147182652611936 21 133} {3670347697390888838 21 134} {5621506165043966614 21 135} {4895697996990569087 21 136}]
------------------------------------------------------
flag 52169 term 23 leader 2 nextIndex[0]: 137  matchIndex[0]: 136
term 23 leader 2 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
flag 14283 term 23 leader 2 nextIndex[1]: 137  matchIndex[1]: 136
term 23 leader 2 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=137
update matchIndex[1]=136
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {2342845701662507795 21 130} {5827130365460104283 21 131} {3095263005266069932 21 132} {896147182652611936 21 133} {3670347697390888838 21 134} {5621506165043966614 21 135} {4895697996990569087 21 136}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=137
update matchIndex[0]=136
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {2342845701662507795 21 130} {5827130365460104283 21 131} {3095263005266069932 21 132} {896147182652611936 21 133} {3670347697390888838 21 134} {5621506165043966614 21 135} {4895697996990569087 21 136}]
------------------------------------------------------
term 23 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 36288 term 23 leader 2 nextIndex[0]: 137  matchIndex[0]: 136
term 23 leader 2 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
flag 75651 term 23 leader 2 nextIndex[1]: 137  matchIndex[1]: 136
term 23 leader 2 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=137
update matchIndex[1]=136
update leader CommitIndex=135
leader log:
term 23 server 0 AppendEntries true commitIndex:135 
------------------------------------------------------
[{snapshot 21 129} {2342845701662507795 21 130} {5827130365460104283 21 131} {3095263005266069932 21 132} {896147182652611936 21 133} {3670347697390888838 21 134} {5621506165043966614 21 135} {4895697996990569087 21 136}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=137
update matchIndex[0]=136
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {2342845701662507795 21 130} {5827130365460104283 21 131} {3095263005266069932 21 132} {896147182652611936 21 133} {3670347697390888838 21 134} {5621506165043966614 21 135} {4895697996990569087 21 136}]
------------------------------------------------------
flag 41481 term 23 leader 2 nextIndex[0]: 137  matchIndex[0]: 136
term 23 leader 2 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
flag 55250 term 23 leader 2 nextIndex[1]: 137  matchIndex[1]: 136
term 23 leader 2 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:135 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=137
update matchIndex[1]=136
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {2342845701662507795 21 130} {5827130365460104283 21 131} {3095263005266069932 21 132} {896147182652611936 21 133} {3670347697390888838 21 134} {5621506165043966614 21 135} {4895697996990569087 21 136}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=137
update matchIndex[0]=136
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {2342845701662507795 21 130} {5827130365460104283 21 131} {3095263005266069932 21 132} {896147182652611936 21 133} {3670347697390888838 21 134} {5621506165043966614 21 135} {4895697996990569087 21 136}]
------------------------------------------------------
flag 14240 term 23 leader 2 nextIndex[0]: 137  matchIndex[0]: 136
term 23 leader 2 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
flag 73903 term 23 leader 2 nextIndex[1]: 137  matchIndex[1]: 136
term 23 leader 2 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:135 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=137
update matchIndex[0]=136
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {2342845701662507795 21 130} {5827130365460104283 21 131} {3095263005266069932 21 132} {896147182652611936 21 133} {3670347697390888838 21 134} {5621506165043966614 21 135} {4895697996990569087 21 136}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=137
update matchIndex[1]=136
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {2342845701662507795 21 130} {5827130365460104283 21 131} {3095263005266069932 21 132} {896147182652611936 21 133} {3670347697390888838 21 134} {5621506165043966614 21 135} {4895697996990569087 21 136}]
------------------------------------------------------
flag 32298 term 23 leader 2 nextIndex[0]: 137  matchIndex[0]: 136
term 23 leader 2 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
flag 98256 term 23 leader 2 nextIndex[1]: 137  matchIndex[1]: 136
term 23 leader 2 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:135 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=137
update matchIndex[1]=136
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {2342845701662507795 21 130} {5827130365460104283 21 131} {3095263005266069932 21 132} {896147182652611936 21 133} {3670347697390888838 21 134} {5621506165043966614 21 135} {4895697996990569087 21 136}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=137
update matchIndex[0]=136
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {2342845701662507795 21 130} {5827130365460104283 21 131} {3095263005266069932 21 132} {896147182652611936 21 133} {3670347697390888838 21 134} {5621506165043966614 21 135} {4895697996990569087 21 136}]
------------------------------------------------------
flag 54696 term 23 leader 2 nextIndex[0]: 137  matchIndex[0]: 136
term 23 leader 2 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
flag 51112 term 23 leader 2 nextIndex[1]: 137  matchIndex[1]: 136
term 23 leader 2 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=137
update matchIndex[1]=136
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {2342845701662507795 21 130} {5827130365460104283 21 131} {3095263005266069932 21 132} {896147182652611936 21 133} {3670347697390888838 21 134} {5621506165043966614 21 135} {4895697996990569087 21 136}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=137
update matchIndex[0]=136
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {2342845701662507795 21 130} {5827130365460104283 21 131} {3095263005266069932 21 132} {896147182652611936 21 133} {3670347697390888838 21 134} {5621506165043966614 21 135} {4895697996990569087 21 136}]
------------------------------------------------------
flag 98293 term 23 leader 2 nextIndex[0]: 137  matchIndex[0]: 136
term 23 leader 2 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
flag 34439 term 23 leader 2 nextIndex[1]: 137  matchIndex[1]: 136
term 23 leader 2 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=137
update matchIndex[1]=136
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {2342845701662507795 21 130} {5827130365460104283 21 131} {3095263005266069932 21 132} {896147182652611936 21 133} {3670347697390888838 21 134} {5621506165043966614 21 135} {4895697996990569087 21 136}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=137
update matchIndex[0]=136
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {2342845701662507795 21 130} {5827130365460104283 21 131} {3095263005266069932 21 132} {896147182652611936 21 133} {3670347697390888838 21 134} {5621506165043966614 21 135} {4895697996990569087 21 136}]
------------------------------------------------------
flag 45966 term 23 leader 2 nextIndex[0]: 137  matchIndex[0]: 136
term 23 leader 2 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
flag 99497 term 23 leader 2 nextIndex[1]: 137  matchIndex[1]: 136
term 23 leader 2 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=137
update matchIndex[0]=136
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {2342845701662507795 21 130} {5827130365460104283 21 131} {3095263005266069932 21 132} {896147182652611936 21 133} {3670347697390888838 21 134} {5621506165043966614 21 135} {4895697996990569087 21 136}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=137
update matchIndex[1]=136
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {2342845701662507795 21 130} {5827130365460104283 21 131} {3095263005266069932 21 132} {896147182652611936 21 133} {3670347697390888838 21 134} {5621506165043966614 21 135} {4895697996990569087 21 136}]
------------------------------------------------------
flag 20814 term 23 leader 2 nextIndex[0]: 137  matchIndex[0]: 136
term 23 leader 2 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
flag 11091 term 23 leader 2 nextIndex[1]: 137  matchIndex[1]: 136
term 23 leader 2 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=137
update matchIndex[0]=136
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {2342845701662507795 21 130} {5827130365460104283 21 131} {3095263005266069932 21 132} {896147182652611936 21 133} {3670347697390888838 21 134} {5621506165043966614 21 135} {4895697996990569087 21 136}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=137
update matchIndex[1]=136
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {2342845701662507795 21 130} {5827130365460104283 21 131} {3095263005266069932 21 132} {896147182652611936 21 133} {3670347697390888838 21 134} {5621506165043966614 21 135} {4895697996990569087 21 136}]
------------------------------------------------------
flag 74992 term 23 leader 2 nextIndex[0]: 137  matchIndex[0]: 136
term 23 leader 2 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
flag 19036 term 23 leader 2 nextIndex[1]: 137  matchIndex[1]: 136
term 23 leader 2 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=137
update matchIndex[0]=136
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {2342845701662507795 21 130} {5827130365460104283 21 131} {3095263005266069932 21 132} {896147182652611936 21 133} {3670347697390888838 21 134} {5621506165043966614 21 135} {4895697996990569087 21 136}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=137
update matchIndex[1]=136
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {2342845701662507795 21 130} {5827130365460104283 21 131} {3095263005266069932 21 132} {896147182652611936 21 133} {3670347697390888838 21 134} {5621506165043966614 21 135} {4895697996990569087 21 136}]
------------------------------------------------------
flag 68059 term 23 leader 2 nextIndex[0]: 137  matchIndex[0]: 136
term 23 leader 2 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
flag 47806 term 23 leader 2 nextIndex[1]: 137  matchIndex[1]: 136
term 23 leader 2 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=137
update matchIndex[1]=136
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {2342845701662507795 21 130} {5827130365460104283 21 131} {3095263005266069932 21 132} {896147182652611936 21 133} {3670347697390888838 21 134} {5621506165043966614 21 135} {4895697996990569087 21 136}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=137
update matchIndex[0]=136
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {2342845701662507795 21 130} {5827130365460104283 21 131} {3095263005266069932 21 132} {896147182652611936 21 133} {3670347697390888838 21 134} {5621506165043966614 21 135} {4895697996990569087 21 136}]
------------------------------------------------------
flag 58137 term 23 leader 2 nextIndex[0]: 137  matchIndex[0]: 136
term 23 leader 2 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
flag 63500 term 23 leader 2 nextIndex[1]: 137  matchIndex[1]: 136
term 23 leader 2 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=137
update matchIndex[1]=136
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {2342845701662507795 21 130} {5827130365460104283 21 131} {3095263005266069932 21 132} {896147182652611936 21 133} {3670347697390888838 21 134} {5621506165043966614 21 135} {4895697996990569087 21 136}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=137
update matchIndex[0]=136
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {2342845701662507795 21 130} {5827130365460104283 21 131} {3095263005266069932 21 132} {896147182652611936 21 133} {3670347697390888838 21 134} {5621506165043966614 21 135} {4895697996990569087 21 136}]
------------------------------------------------------
flag 25784 term 23 leader 2 nextIndex[0]: 137  matchIndex[0]: 136
term 23 leader 2 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
flag 98112 term 23 leader 2 nextIndex[1]: 137  matchIndex[1]: 136
term 23 leader 2 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=137
update matchIndex[1]=136
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {2342845701662507795 21 130} {5827130365460104283 21 131} {3095263005266069932 21 132} {896147182652611936 21 133} {3670347697390888838 21 134} {5621506165043966614 21 135} {4895697996990569087 21 136}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=137
update matchIndex[0]=136
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {2342845701662507795 21 130} {5827130365460104283 21 131} {3095263005266069932 21 132} {896147182652611936 21 133} {3670347697390888838 21 134} {5621506165043966614 21 135} {4895697996990569087 21 136}]
------------------------------------------------------
flag 94088 term 23 leader 2 nextIndex[0]: 137  matchIndex[0]: 136
term 23 leader 2 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
flag 18161 term 23 leader 2 nextIndex[1]: 137  matchIndex[1]: 136
term 23 leader 2 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=137
update matchIndex[1]=136
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {2342845701662507795 21 130} {5827130365460104283 21 131} {3095263005266069932 21 132} {896147182652611936 21 133} {3670347697390888838 21 134} {5621506165043966614 21 135} {4895697996990569087 21 136}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=137
update matchIndex[0]=136
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {2342845701662507795 21 130} {5827130365460104283 21 131} {3095263005266069932 21 132} {896147182652611936 21 133} {3670347697390888838 21 134} {5621506165043966614 21 135} {4895697996990569087 21 136}]
------------------------------------------------------
flag 13722 term 23 leader 2 nextIndex[0]: 137  matchIndex[0]: 136
term 23 leader 2 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
flag 24953 term 23 leader 2 nextIndex[1]: 137  matchIndex[1]: 136
term 23 leader 2 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:135 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:135 
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=137
update matchIndex[0]=136
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {2342845701662507795 21 130} {5827130365460104283 21 131} {3095263005266069932 21 132} {896147182652611936 21 133} {3670347697390888838 21 134} {5621506165043966614 21 135} {4895697996990569087 21 136}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=137
update matchIndex[1]=136
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {2342845701662507795 21 130} {5827130365460104283 21 131} {3095263005266069932 21 132} {896147182652611936 21 133} {3670347697390888838 21 134} {5621506165043966614 21 135} {4895697996990569087 21 136}]
------------------------------------------------------
client write log 4895697996990569087 (index 137) to leader 2
flag 56700 term 23 leader 2 nextIndex[0]: 137  matchIndex[0]: 136
term 23 leader 2 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
flag 1486 term 23 leader 2 nextIndex[1]: 137  matchIndex[1]: 136
term 23 leader 2 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=138
update matchIndex[0]=137
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {2342845701662507795 21 130} {5827130365460104283 21 131} {3095263005266069932 21 132} {896147182652611936 21 133} {3670347697390888838 21 134} {5621506165043966614 21 135} {4895697996990569087 21 136} {4895697996990569087 23 137}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=138
update matchIndex[1]=137
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {2342845701662507795 21 130} {5827130365460104283 21 131} {3095263005266069932 21 132} {896147182652611936 21 133} {3670347697390888838 21 134} {5621506165043966614 21 135} {4895697996990569087 21 136} {4895697996990569087 23 137}]
------------------------------------------------------
flag 40979 term 23 leader 2 nextIndex[0]: 138  matchIndex[0]: 137
term 23 leader 2 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 23 leaderCommit: 137 
------------------------------------------------------
flag 60585 term 23 leader 2 nextIndex[1]: 138  matchIndex[1]: 137
term 23 leader 2 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 23 leaderCommit: 137 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=138
update matchIndex[1]=137
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {2342845701662507795 21 130} {5827130365460104283 21 131} {3095263005266069932 21 132} {896147182652611936 21 133} {3670347697390888838 21 134} {5621506165043966614 21 135} {4895697996990569087 21 136} {4895697996990569087 23 137}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=138
update matchIndex[0]=137
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {2342845701662507795 21 130} {5827130365460104283 21 131} {3095263005266069932 21 132} {896147182652611936 21 133} {3670347697390888838 21 134} {5621506165043966614 21 135} {4895697996990569087 21 136} {4895697996990569087 23 137}]
------------------------------------------------------
flag 28364 term 23 leader 2 nextIndex[0]: 138  matchIndex[0]: 137
term 23 leader 2 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 23 leaderCommit: 137 
------------------------------------------------------
flag 23405 term 23 leader 2 nextIndex[1]: 138  matchIndex[1]: 137
term 23 leader 2 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 23 leaderCommit: 137 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=138
update matchIndex[1]=137
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {2342845701662507795 21 130} {5827130365460104283 21 131} {3095263005266069932 21 132} {896147182652611936 21 133} {3670347697390888838 21 134} {5621506165043966614 21 135} {4895697996990569087 21 136} {4895697996990569087 23 137}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=138
update matchIndex[0]=137
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {2342845701662507795 21 130} {5827130365460104283 21 131} {3095263005266069932 21 132} {896147182652611936 21 133} {3670347697390888838 21 134} {5621506165043966614 21 135} {4895697996990569087 21 136} {4895697996990569087 23 137}]
------------------------------------------------------
flag 80071 term 23 leader 2 nextIndex[0]: 138  matchIndex[0]: 137
term 23 leader 2 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 23 leaderCommit: 137 
------------------------------------------------------
flag 29877 term 23 leader 2 nextIndex[1]: 138  matchIndex[1]: 137
term 23 leader 2 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 23 leaderCommit: 137 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=138
update matchIndex[1]=137
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {2342845701662507795 21 130} {5827130365460104283 21 131} {3095263005266069932 21 132} {896147182652611936 21 133} {3670347697390888838 21 134} {5621506165043966614 21 135} {4895697996990569087 21 136} {4895697996990569087 23 137}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=138
update matchIndex[0]=137
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {2342845701662507795 21 130} {5827130365460104283 21 131} {3095263005266069932 21 132} {896147182652611936 21 133} {3670347697390888838 21 134} {5621506165043966614 21 135} {4895697996990569087 21 136} {4895697996990569087 23 137}]
------------------------------------------------------
flag 80293 term 23 leader 2 nextIndex[0]: 138  matchIndex[0]: 137
term 23 leader 2 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 23 leaderCommit: 137 
------------------------------------------------------
flag 5098 term 23 leader 2 nextIndex[1]: 138  matchIndex[1]: 137
term 23 leader 2 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 23 leaderCommit: 137 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=138
update matchIndex[1]=137
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {2342845701662507795 21 130} {5827130365460104283 21 131} {3095263005266069932 21 132} {896147182652611936 21 133} {3670347697390888838 21 134} {5621506165043966614 21 135} {4895697996990569087 21 136} {4895697996990569087 23 137}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=138
update matchIndex[0]=137
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {2342845701662507795 21 130} {5827130365460104283 21 131} {3095263005266069932 21 132} {896147182652611936 21 133} {3670347697390888838 21 134} {5621506165043966614 21 135} {4895697996990569087 21 136} {4895697996990569087 23 137}]
------------------------------------------------------
flag 1390 term 23 leader 2 nextIndex[0]: 138  matchIndex[0]: 137
term 23 leader 2 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 23 leaderCommit: 137 
------------------------------------------------------
flag 90027 term 23 leader 2 nextIndex[1]: 138  matchIndex[1]: 137
term 23 leader 2 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 23 leaderCommit: 137 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=138
update matchIndex[0]=137
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {2342845701662507795 21 130} {5827130365460104283 21 131} {3095263005266069932 21 132} {896147182652611936 21 133} {3670347697390888838 21 134} {5621506165043966614 21 135} {4895697996990569087 21 136} {4895697996990569087 23 137}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=138
update matchIndex[1]=137
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {2342845701662507795 21 130} {5827130365460104283 21 131} {3095263005266069932 21 132} {896147182652611936 21 133} {3670347697390888838 21 134} {5621506165043966614 21 135} {4895697996990569087 21 136} {4895697996990569087 23 137}]
------------------------------------------------------
flag 92551 term 23 leader 2 nextIndex[0]: 138  matchIndex[0]: 137
term 23 leader 2 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 23 leaderCommit: 137 
------------------------------------------------------
flag 14673 term 23 leader 2 nextIndex[1]: 138  matchIndex[1]: 137
term 23 leader 2 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 23 leaderCommit: 137 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:137 
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=138
update matchIndex[1]=137
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {2342845701662507795 21 130} {5827130365460104283 21 131} {3095263005266069932 21 132} {896147182652611936 21 133} {3670347697390888838 21 134} {5621506165043966614 21 135} {4895697996990569087 21 136} {4895697996990569087 23 137}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=138
update matchIndex[0]=137
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {2342845701662507795 21 130} {5827130365460104283 21 131} {3095263005266069932 21 132} {896147182652611936 21 133} {3670347697390888838 21 134} {5621506165043966614 21 135} {4895697996990569087 21 136} {4895697996990569087 23 137}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 54620 term 23 leader 2 nextIndex[0]: 138  matchIndex[0]: 137
term 23 leader 2 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 23 leaderCommit: 137 
------------------------------------------------------
flag 18141 term 23 leader 2 nextIndex[1]: 138  matchIndex[1]: 137
term 23 leader 2 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 23 leaderCommit: 137 
------------------------------------------------------
flag 23922 term 23 leader 2 nextIndex[0]: 138  matchIndex[0]: 137
term 23 leader 2 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 23 leaderCommit: 137 
------------------------------------------------------
flag 14771 term 23 leader 2 nextIndex[1]: 138  matchIndex[1]: 137
term 23 leader 2 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 23 leaderCommit: 137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 138->137
------------------------------------------------------
flag 99979 term 23 leader 2 nextIndex[0]: 138  matchIndex[0]: 137
term 23 leader 2 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 23 leaderCommit: 137 
------------------------------------------------------
term 23 leader 2 nextIndex[1]: 0  matchIndex[1]: 137
term 23 leader 2 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 21
------------------------------------------------------
flag 43725 term 23 leader 2 nextIndex[0]: 138  matchIndex[0]: 137
term 23 leader 2 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 23 leaderCommit: 137 
------------------------------------------------------
term 23 leader 2 nextIndex[1]: 0  matchIndex[1]: 137
term 23 leader 2 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 21
------------------------------------------------------
term 24 server 1 vote for server 0
term 24 server 0 get vote from server 1
term 24 server 0 become leader
------------------------------------------------------
flag 4106 term 24 leader 0 nextIndex[1]: 138  matchIndex[1]: 0
term 24 leader 0 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 23 leaderCommit: 137 
------------------------------------------------------
flag 60996 term 24 leader 0 nextIndex[2]: 138  matchIndex[2]: 0
term 24 leader 0 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 23 leaderCommit: 137 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=138
update matchIndex[1]=137
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {2342845701662507795 21 130} {5827130365460104283 21 131} {3095263005266069932 21 132} {896147182652611936 21 133} {3670347697390888838 21 134} {5621506165043966614 21 135} {4895697996990569087 21 136} {4895697996990569087 23 137}]
------------------------------------------------------
client write log 4647582346114689558 (index 138) to leader 0
flag 93266 term 23 leader 2 nextIndex[0]: 138  matchIndex[0]: 137
term 23 leader 2 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 23 leaderCommit: 137 
------------------------------------------------------
term 23 leader 2 nextIndex[1]: 0  matchIndex[1]: 137
term 23 leader 2 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 21
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28997 term 24 leader 0 nextIndex[1]: 138  matchIndex[1]: 137
term 24 leader 0 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 23 leaderCommit: 137 
------------------------------------------------------
flag 50924 term 24 leader 0 nextIndex[2]: 138  matchIndex[2]: 0
term 24 leader 0 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 23 leaderCommit: 137 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {2342845701662507795 21 130} {5827130365460104283 21 131} {3095263005266069932 21 132} {896147182652611936 21 133} {3670347697390888838 21 134} {5621506165043966614 21 135} {4895697996990569087 21 136} {4895697996990569087 23 137} {4647582346114689558 24 138}]
------------------------------------------------------
term 23 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 97468 term 23 leader 2 nextIndex[0]: 138  matchIndex[0]: 137
term 23 leader 2 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 23 leaderCommit: 137 
------------------------------------------------------
term 23 leader 2 nextIndex[1]: 0  matchIndex[1]: 137
term 23 leader 2 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 21
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75139 term 24 leader 0 nextIndex[1]: 139  matchIndex[1]: 138
term 24 leader 0 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 24 leaderCommit: 138 
------------------------------------------------------
flag 38237 term 24 leader 0 nextIndex[2]: 138  matchIndex[2]: 0
term 24 leader 0 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 23 leaderCommit: 138 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {2342845701662507795 21 130} {5827130365460104283 21 131} {3095263005266069932 21 132} {896147182652611936 21 133} {3670347697390888838 21 134} {5621506165043966614 21 135} {4895697996990569087 21 136} {4895697996990569087 23 137} {4647582346114689558 24 138}]
------------------------------------------------------
client write log 4133311322937628270 (index 139) to leader 0
client write log 5894714424726978982 (index 140) to leader 0
client write log 970443325759898525 (index 141) to leader 0
client write log 6858606024941914924 (index 142) to leader 0
client write log 5275805049461811851 (index 143) to leader 0
client write log 7826500018197099113 (index 144) to leader 0
client write log 773065855345244306 (index 145) to leader 0
client write log 5437741888497467970 (index 146) to leader 0
client write log 1522306941009246210 (index 147) to leader 0
client write log 1282638426097558682 (index 148) to leader 0
client write log 103086577345879602 (index 149) to leader 0
client write log 4832895665198290978 (index 150) to leader 0
client write log 3168595255443109698 (index 151) to leader 0
client write log 8126942413205141645 (index 152) to leader 0
flag 32020 term 23 leader 2 nextIndex[0]: 138  matchIndex[0]: 137
term 23 leader 2 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 23 leaderCommit: 137 
------------------------------------------------------
term 23 leader 2 nextIndex[1]: 0  matchIndex[1]: 137
term 23 leader 2 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 21
------------------------------------------------------
flag 3909 term 24 leader 0 nextIndex[1]: 139  matchIndex[1]: 138
term 24 leader 0 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 24 leaderCommit: 138 
------------------------------------------------------
flag 6988 term 24 leader 0 nextIndex[2]: 138  matchIndex[2]: 0
term 24 leader 0 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 23 leaderCommit: 138 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=152
leader log:
[{snapshot 21 129} {2342845701662507795 21 130} {5827130365460104283 21 131} {3095263005266069932 21 132} {896147182652611936 21 133} {3670347697390888838 21 134} {5621506165043966614 21 135} {4895697996990569087 21 136} {4895697996990569087 23 137} {4647582346114689558 24 138} {4133311322937628270 24 139} {5894714424726978982 24 140} {970443325759898525 24 141} {6858606024941914924 24 142} {5275805049461811851 24 143} {7826500018197099113 24 144} {773065855345244306 24 145} {5437741888497467970 24 146} {1522306941009246210 24 147} {1282638426097558682 24 148} {103086577345879602 24 149} {4832895665198290978 24 150} {3168595255443109698 24 151} {8126942413205141645 24 152}]
------------------------------------------------------
term 24 Server0 start snapshot! index=139
term 24 server0 snapshot success
lastIncludedIndex=139 lastApplied=140 lastIndex=152
-------------------------------------------------------------
term 24 Server0 start snapshot! index=149
term 24 server0 snapshot success
lastIncludedIndex=149 lastApplied=150 lastIndex=152
-------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 138->137
------------------------------------------------------
flag 32255 term 23 leader 2 nextIndex[0]: 138  matchIndex[0]: 137
term 23 leader 2 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 23 leaderCommit: 137 
------------------------------------------------------
term 23 leader 2 nextIndex[1]: 0  matchIndex[1]: 137
term 23 leader 2 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 21
------------------------------------------------------
flag 60550 term 24 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 24 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 152 
------------------------------------------------------
term 24 leader 0 nextIndex[2]: 0  matchIndex[2]: 0
term 24 leader 0 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 24
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=152
leader log:
[{snapshot 24 149} {4832895665198290978 24 150} {3168595255443109698 24 151} {8126942413205141645 24 152}]
------------------------------------------------------
term 24 Server1 start snapshot! index=139
term 24 server1 snapshot success
lastIncludedIndex=139 lastApplied=140 lastIndex=152
-------------------------------------------------------------
term 24 Server1 start snapshot! index=149
term 24 server1 snapshot success
lastIncludedIndex=149 lastApplied=150 lastIndex=152
-------------------------------------------------------------
!!!!!!connect server 2
client write log 1243626595233196325 (index 138) to leader 2
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 0->-1
------------------------------------------------------
flag 31512 term 23 leader 2 nextIndex[0]: 138  matchIndex[0]: 137
term 23 leader 2 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 23 leaderCommit: 137 
------------------------------------------------------
term 23 leader 2 nextIndex[1]: 0  matchIndex[1]: 137
term 23 leader 2 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 21
------------------------------------------------------
term 24 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 24 server 0 AppendEntries false 领导者任期过期 args.Term 23
------------------------------------------------------
term 23 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 24 server 2 not vote for server 0, 日志不够新
term 24 server 0 get outdate rpc reply from server 2
flag 64812 term 24 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 24 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 152 
------------------------------------------------------
term 24 leader 0 nextIndex[2]: 0  matchIndex[2]: 0
term 24 leader 0 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 24
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
term 24 server 2 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=152
leader log:
[{snapshot 24 149} {4832895665198290978 24 150} {3168595255443109698 24 151} {8126942413205141645 24 152}]
------------------------------------------------------
term 24 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 150 matchIndex[2] 149 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 149 rf.lastIncludedTerm 24 rf.commitIndex 149 rf.lastApplied 149
term 24 server 1 not vote for server 2, 日志不够新
term 24 server 0 not vote for server 2, 日志不够新
term 26 server 2 vote for server 0
term 26 server 0 get vote from server 2
term 26 server 1 vote for server 0
term 26 server 0 become leader
------------------------------------------------------
term 26 server 0 get outdate rpc reply from server 1
flag 1415 term 26 leader 0 nextIndex[1]: 153  matchIndex[1]: 0
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 152 
------------------------------------------------------
flag 48287 term 26 leader 0 nextIndex[2]: 153  matchIndex[2]: 0
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 152 
------------------------------------------------------
term 26 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 153->152
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=152
leader log:
[{snapshot 24 149} {4832895665198290978 24 150} {3168595255443109698 24 151} {8126942413205141645 24 152}]
------------------------------------------------------
flag 60134 term 26 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 152 
------------------------------------------------------
flag 45874 term 26 leader 0 nextIndex[2]: 150  matchIndex[2]: 0
term 26 leader 0 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 24 leaderCommit: 152 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=152
leader log:
[{snapshot 24 149} {4832895665198290978 24 150} {3168595255443109698 24 151} {8126942413205141645 24 152}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=152
leader log:
[{snapshot 24 149} {4832895665198290978 24 150} {3168595255443109698 24 151} {8126942413205141645 24 152}]
------------------------------------------------------
flag 48064 term 26 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 152 
------------------------------------------------------
flag 47097 term 26 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 152 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=152
leader log:
[{snapshot 24 149} {4832895665198290978 24 150} {3168595255443109698 24 151} {8126942413205141645 24 152}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=152
leader log:
[{snapshot 24 149} {4832895665198290978 24 150} {3168595255443109698 24 151} {8126942413205141645 24 152}]
------------------------------------------------------
flag 50216 term 26 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 152 
------------------------------------------------------
flag 72441 term 26 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 152 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=152
leader log:
[{snapshot 24 149} {4832895665198290978 24 150} {3168595255443109698 24 151} {8126942413205141645 24 152}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=152
leader log:
[{snapshot 24 149} {4832895665198290978 24 150} {3168595255443109698 24 151} {8126942413205141645 24 152}]
------------------------------------------------------
flag 25795 term 26 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 152 
------------------------------------------------------
flag 61193 term 26 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 152 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=152
leader log:
term 26 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
[{snapshot 24 149} {4832895665198290978 24 150} {3168595255443109698 24 151} {8126942413205141645 24 152}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=152
leader log:
[{snapshot 24 149} {4832895665198290978 24 150} {3168595255443109698 24 151} {8126942413205141645 24 152}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5792 term 26 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 152 
------------------------------------------------------
flag 94193 term 26 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 152 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=152
leader log:
[{snapshot 24 149} {4832895665198290978 24 150} {3168595255443109698 24 151} {8126942413205141645 24 152}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=152
leader log:
[{snapshot 24 149} {4832895665198290978 24 150} {3168595255443109698 24 151} {8126942413205141645 24 152}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 163 term 26 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 152 
------------------------------------------------------
flag 29212 term 26 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 152 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=152
leader log:
[{snapshot 24 149} {4832895665198290978 24 150} {3168595255443109698 24 151} {8126942413205141645 24 152}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=152
leader log:
[{snapshot 24 149} {4832895665198290978 24 150} {3168595255443109698 24 151} {8126942413205141645 24 152}]
------------------------------------------------------
flag 83911 term 26 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 152 
------------------------------------------------------
flag 58248 term 26 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 152 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=152
leader log:
[{snapshot 24 149} {4832895665198290978 24 150} {3168595255443109698 24 151} {8126942413205141645 24 152}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=152
leader log:
[{snapshot 24 149} {4832895665198290978 24 150} {3168595255443109698 24 151} {8126942413205141645 24 152}]
------------------------------------------------------
flag 50519 term 26 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 152 
------------------------------------------------------
flag 39865 term 26 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 152 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:152 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=152
leader log:
[{snapshot 24 149} {4832895665198290978 24 150} {3168595255443109698 24 151} {8126942413205141645 24 152}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=152
leader log:
[{snapshot 24 149} {4832895665198290978 24 150} {3168595255443109698 24 151} {8126942413205141645 24 152}]
------------------------------------------------------
flag 60701 term 26 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 152 
------------------------------------------------------
flag 96740 term 26 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 152 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:152 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=152
leader log:
[{snapshot 24 149} {4832895665198290978 24 150} {3168595255443109698 24 151} {8126942413205141645 24 152}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=152
leader log:
[{snapshot 24 149} {4832895665198290978 24 150} {3168595255443109698 24 151} {8126942413205141645 24 152}]
------------------------------------------------------
flag 84402 term 26 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 152 
------------------------------------------------------
flag 43442 term 26 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 152 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=152
leader log:
[{snapshot 24 149} {4832895665198290978 24 150} {3168595255443109698 24 151} {8126942413205141645 24 152}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=152
leader log:
[{snapshot 24 149} {4832895665198290978 24 150} {3168595255443109698 24 151} {8126942413205141645 24 152}]
------------------------------------------------------
flag 55119 term 26 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 152 
------------------------------------------------------
flag 39834 term 26 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 152 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:152 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=152
leader log:
[{snapshot 24 149} {4832895665198290978 24 150} {3168595255443109698 24 151} {8126942413205141645 24 152}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=152
leader log:
[{snapshot 24 149} {4832895665198290978 24 150} {3168595255443109698 24 151} {8126942413205141645 24 152}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14197 term 26 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 152 
------------------------------------------------------
flag 77062 term 26 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 152 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=152
leader log:
[{snapshot 24 149} {4832895665198290978 24 150} {3168595255443109698 24 151} {8126942413205141645 24 152}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=152
leader log:
[{snapshot 24 149} {4832895665198290978 24 150} {3168595255443109698 24 151} {8126942413205141645 24 152}]
------------------------------------------------------
flag 9906 term 26 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 152 
------------------------------------------------------
flag 28304 term 26 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 152 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=152
leader log:
[{snapshot 24 149} {4832895665198290978 24 150} {3168595255443109698 24 151} {8126942413205141645 24 152}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=152
leader log:
[{snapshot 24 149} {4832895665198290978 24 150} {3168595255443109698 24 151} {8126942413205141645 24 152}]
------------------------------------------------------
flag 73722 term 26 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 152 
------------------------------------------------------
flag 14481 term 26 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 152 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=152
leader log:
[{snapshot 24 149} {4832895665198290978 24 150} {3168595255443109698 24 151} {8126942413205141645 24 152}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=152
leader log:
[{snapshot 24 149} {4832895665198290978 24 150} {3168595255443109698 24 151} {8126942413205141645 24 152}]
------------------------------------------------------
flag 15040 term 26 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 152 
------------------------------------------------------
flag 84354 term 26 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 152 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:152 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=152
leader log:
[{snapshot 24 149} {4832895665198290978 24 150} {3168595255443109698 24 151} {8126942413205141645 24 152}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=152
leader log:
[{snapshot 24 149} {4832895665198290978 24 150} {3168595255443109698 24 151} {8126942413205141645 24 152}]
------------------------------------------------------
flag 4694 term 26 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 152 
------------------------------------------------------
flag 39230 term 26 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 152 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:152 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=152
leader log:
[{snapshot 24 149} {4832895665198290978 24 150} {3168595255443109698 24 151} {8126942413205141645 24 152}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=152
leader log:
[{snapshot 24 149} {4832895665198290978 24 150} {3168595255443109698 24 151} {8126942413205141645 24 152}]
------------------------------------------------------
flag 13317 term 26 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 152 
------------------------------------------------------
flag 57997 term 26 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 152 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=152
leader log:
[{snapshot 24 149} {4832895665198290978 24 150} {3168595255443109698 24 151} {8126942413205141645 24 152}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=152
leader log:
[{snapshot 24 149} {4832895665198290978 24 150} {3168595255443109698 24 151} {8126942413205141645 24 152}]
------------------------------------------------------
client write log 1243626595233196325 (index 153) to leader 0
flag 97436 term 26 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 152 
------------------------------------------------------
flag 59814 term 26 leader 0 nextIndex[2]: 153  matchIndex[2]: 152
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 152 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=154
update matchIndex[2]=153
update leader CommitIndex=153
leader log:
[{snapshot 24 149} {4832895665198290978 24 150} {3168595255443109698 24 151} {8126942413205141645 24 152} {1243626595233196325 26 153}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=154
update matchIndex[1]=153
update leader CommitIndex=153
leader log:
[{snapshot 24 149} {4832895665198290978 24 150} {3168595255443109698 24 151} {8126942413205141645 24 152} {1243626595233196325 26 153}]
------------------------------------------------------
flag 74559 term 26 leader 0 nextIndex[1]: 154  matchIndex[1]: 153
term 26 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 26 leaderCommit: 153 
------------------------------------------------------
flag 53802 term 26 leader 0 nextIndex[2]: 154  matchIndex[2]: 153
term 26 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 26 leaderCommit: 153 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=154
update matchIndex[2]=153
update leader CommitIndex=153
leader log:
[{snapshot 24 149} {4832895665198290978 24 150} {3168595255443109698 24 151} {8126942413205141645 24 152} {1243626595233196325 26 153}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=154
update matchIndex[1]=153
update leader CommitIndex=153
leader log:
[{snapshot 24 149} {4832895665198290978 24 150} {3168595255443109698 24 151} {8126942413205141645 24 152} {1243626595233196325 26 153}]
------------------------------------------------------
flag 39716 term 26 leader 0 nextIndex[1]: 154  matchIndex[1]: 153
term 26 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 26 leaderCommit: 153 
------------------------------------------------------
flag 55697 term 26 leader 0 nextIndex[2]: 154  matchIndex[2]: 153
term 26 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 26 leaderCommit: 153 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=154
update matchIndex[2]=153
update leader CommitIndex=153
leader log:
[{snapshot 24 149} {4832895665198290978 24 150} {3168595255443109698 24 151} {8126942413205141645 24 152} {1243626595233196325 26 153}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=154
update matchIndex[1]=153
update leader CommitIndex=153
leader log:
[{snapshot 24 149} {4832895665198290978 24 150} {3168595255443109698 24 151} {8126942413205141645 24 152} {1243626595233196325 26 153}]
------------------------------------------------------
term 26 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 26 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 70385 term 26 leader 0 nextIndex[1]: 154  matchIndex[1]: 153
term 26 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 26 leaderCommit: 153 
------------------------------------------------------
flag 99416 term 26 leader 0 nextIndex[2]: 154  matchIndex[2]: 153
term 26 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 26 leaderCommit: 153 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=154
update matchIndex[2]=153
update leader CommitIndex=153
leader log:
[{snapshot 24 149} {4832895665198290978 24 150} {3168595255443109698 24 151} {8126942413205141645 24 152} {1243626595233196325 26 153}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=154
update matchIndex[1]=153
update leader CommitIndex=153
leader log:
[{snapshot 24 149} {4832895665198290978 24 150} {3168595255443109698 24 151} {8126942413205141645 24 152} {1243626595233196325 26 153}]
------------------------------------------------------
term 26 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45770 term 26 leader 0 nextIndex[1]: 154  matchIndex[1]: 153
term 26 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 26 leaderCommit: 153 
------------------------------------------------------
flag 7548 term 26 leader 0 nextIndex[2]: 154  matchIndex[2]: 153
term 26 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 26 leaderCommit: 153 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=154
update matchIndex[2]=153
update leader CommitIndex=153
leader log:
[{snapshot 24 149} {4832895665198290978 24 150} {3168595255443109698 24 151} {8126942413205141645 24 152} {1243626595233196325 26 153}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=154
update matchIndex[1]=153
update leader CommitIndex=153
leader log:
[{snapshot 24 149} {4832895665198290978 24 150} {3168595255443109698 24 151} {8126942413205141645 24 152} {1243626595233196325 26 153}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55326 term 26 leader 0 nextIndex[1]: 154  matchIndex[1]: 153
term 26 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 26 leaderCommit: 153 
------------------------------------------------------
flag 44305 term 26 leader 0 nextIndex[2]: 154  matchIndex[2]: 153
term 26 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 26 leaderCommit: 153 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=154
update matchIndex[2]=153
update leader CommitIndex=153
leader log:
[{snapshot 24 149} {4832895665198290978 24 150} {3168595255443109698 24 151} {8126942413205141645 24 152} {1243626595233196325 26 153}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=154
update matchIndex[1]=153
update leader CommitIndex=153
leader log:
[{snapshot 24 149} {4832895665198290978 24 150} {3168595255443109698 24 151} {8126942413205141645 24 152} {1243626595233196325 26 153}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 1
client write log 6440810444499752960 (index 154) to leader 0
flag 80970 term 26 leader 0 nextIndex[1]: 154  matchIndex[1]: 153
term 26 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 26 leaderCommit: 153 
------------------------------------------------------
flag 57080 term 26 leader 0 nextIndex[2]: 154  matchIndex[2]: 153
term 26 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 26 leaderCommit: 153 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=154
leader log:
[{snapshot 24 149} {4832895665198290978 24 150} {3168595255443109698 24 151} {8126942413205141645 24 152} {1243626595233196325 26 153} {6440810444499752960 26 154}]
------------------------------------------------------
flag 60593 term 26 leader 0 nextIndex[1]: 154  matchIndex[1]: 153
term 26 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
flag 63480 term 26 leader 0 nextIndex[2]: 155  matchIndex[2]: 154
term 26 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=154
leader log:
[{snapshot 24 149} {4832895665198290978 24 150} {3168595255443109698 24 151} {8126942413205141645 24 152} {1243626595233196325 26 153} {6440810444499752960 26 154}]
------------------------------------------------------
client write log 4245696131888122004 (index 155) to leader 0
client write log 2907928088697556326 (index 156) to leader 0
client write log 4458614261488677783 (index 157) to leader 0
client write log 8233546202215416320 (index 158) to leader 0
client write log 2626410116302575502 (index 159) to leader 0
client write log 2850921670204294939 (index 160) to leader 0
client write log 2953705561271419671 (index 161) to leader 0
client write log 1169894143089182989 (index 162) to leader 0
client write log 5075017475344791550 (index 163) to leader 0
client write log 3677497935681892255 (index 164) to leader 0
flag 84239 term 26 leader 0 nextIndex[1]: 154  matchIndex[1]: 153
term 26 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
flag 97293 term 26 leader 0 nextIndex[2]: 155  matchIndex[2]: 154
term 26 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=164
leader log:
[{snapshot 24 149} {4832895665198290978 24 150} {3168595255443109698 24 151} {8126942413205141645 24 152} {1243626595233196325 26 153} {6440810444499752960 26 154} {4245696131888122004 26 155} {2907928088697556326 26 156} {4458614261488677783 26 157} {8233546202215416320 26 158} {2626410116302575502 26 159} {2850921670204294939 26 160} {2953705561271419671 26 161} {1169894143089182989 26 162} {5075017475344791550 26 163} {3677497935681892255 26 164}]
------------------------------------------------------
term 26 Server0 start snapshot! index=159
term 26 server0 snapshot success
lastIncludedIndex=159 lastApplied=160 lastIndex=164
-------------------------------------------------------------
term 26 leader 0 nextIndex[1]: 154  matchIndex[1]: 153
term 26 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 26
------------------------------------------------------
flag 57442 term 26 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 26 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {2850921670204294939 26 160} {2953705561271419671 26 161} {1169894143089182989 26 162} {5075017475344791550 26 163} {3677497935681892255 26 164}]
------------------------------------------------------
term 26 Server2 start snapshot! index=159
term 26 server2 snapshot success
lastIncludedIndex=159 lastApplied=160 lastIndex=164
-------------------------------------------------------------
!!!!!!connect server 1
client write log 8089515929857733107 (index 165) to leader 0
term 26 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 26 server 2 not vote for server 1, 日志不够新
term 26 server 0 not vote for server 1, 日志不够新
term 28 server 2 vote for server 0
term 28 server 1 vote for server 0
term 28 server 0 get vote from server 2
term 28 server 0 become leader
------------------------------------------------------
term 28 server 0 get outdate rpc reply from server 1
flag 66781 term 28 leader 0 nextIndex[1]: 166  matchIndex[1]: 0
term 28 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
flag 71817 term 28 leader 0 nextIndex[2]: 166  matchIndex[2]: 0
term 28 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
term 28 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 166->165
------------------------------------------------------
term 28 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 166->165
------------------------------------------------------
term 28 leader 0 nextIndex[1]: 154  matchIndex[1]: 0
term 28 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 26
------------------------------------------------------
flag 19122 term 28 leader 0 nextIndex[2]: 165  matchIndex[2]: 0
term 28 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
term 28 server 1 InstallSnapshot success
------------------------------------------------------
term 28 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 160 matchIndex[1] 159 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 159 rf.lastIncludedTerm 26 rf.commitIndex 159 rf.lastApplied 159
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {2850921670204294939 26 160} {2953705561271419671 26 161} {1169894143089182989 26 162} {5075017475344791550 26 163} {3677497935681892255 26 164} {8089515929857733107 26 165}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94324 term 28 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 28 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
flag 29986 term 28 leader 0 nextIndex[2]: 166  matchIndex[2]: 165
term 28 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {2850921670204294939 26 160} {2953705561271419671 26 161} {1169894143089182989 26 162} {5075017475344791550 26 163} {3677497935681892255 26 164} {8089515929857733107 26 165}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {2850921670204294939 26 160} {2953705561271419671 26 161} {1169894143089182989 26 162} {5075017475344791550 26 163} {3677497935681892255 26 164} {8089515929857733107 26 165}]
------------------------------------------------------
flag 97962 term 28 leader 0 nextIndex[1]: 166  matchIndex[1]: 165
term 28 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
flag 19795 term 28 leader 0 nextIndex[2]: 166  matchIndex[2]: 165
term 28 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {2850921670204294939 26 160} {2953705561271419671 26 161} {1169894143089182989 26 162} {5075017475344791550 26 163} {3677497935681892255 26 164} {8089515929857733107 26 165}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {2850921670204294939 26 160} {2953705561271419671 26 161} {1169894143089182989 26 162} {5075017475344791550 26 163} {3677497935681892255 26 164} {8089515929857733107 26 165}]
------------------------------------------------------
flag 86445 term 28 leader 0 nextIndex[1]: 166  matchIndex[1]: 165
term 28 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
flag 35405 term 28 leader 0 nextIndex[2]: 166  matchIndex[2]: 165
term 28 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {2850921670204294939 26 160} {2953705561271419671 26 161} {1169894143089182989 26 162} {5075017475344791550 26 163} {3677497935681892255 26 164} {8089515929857733107 26 165}]
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {2850921670204294939 26 160} {2953705561271419671 26 161} {1169894143089182989 26 162} {5075017475344791550 26 163} {3677497935681892255 26 164} {8089515929857733107 26 165}]
------------------------------------------------------
flag 93294 term 28 leader 0 nextIndex[1]: 166  matchIndex[1]: 165
term 28 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
flag 22993 term 28 leader 0 nextIndex[2]: 166  matchIndex[2]: 165
term 28 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {2850921670204294939 26 160} {2953705561271419671 26 161} {1169894143089182989 26 162} {5075017475344791550 26 163} {3677497935681892255 26 164} {8089515929857733107 26 165}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {2850921670204294939 26 160} {2953705561271419671 26 161} {1169894143089182989 26 162} {5075017475344791550 26 163} {3677497935681892255 26 164} {8089515929857733107 26 165}]
------------------------------------------------------
flag 28851 term 28 leader 0 nextIndex[1]: 166  matchIndex[1]: 165
term 28 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
flag 26629 term 28 leader 0 nextIndex[2]: 166  matchIndex[2]: 165
term 28 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {2850921670204294939 26 160} {2953705561271419671 26 161} {1169894143089182989 26 162} {5075017475344791550 26 163} {3677497935681892255 26 164} {8089515929857733107 26 165}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {2850921670204294939 26 160} {2953705561271419671 26 161} {1169894143089182989 26 162} {5075017475344791550 26 163} {3677497935681892255 26 164} {8089515929857733107 26 165}]
------------------------------------------------------
flag 49053 term 28 leader 0 nextIndex[1]: 166  matchIndex[1]: 165
term 28 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
flag 94935 term 28 leader 0 nextIndex[2]: 166  matchIndex[2]: 165
term 28 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {2850921670204294939 26 160} {2953705561271419671 26 161} {1169894143089182989 26 162} {5075017475344791550 26 163} {3677497935681892255 26 164} {8089515929857733107 26 165}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {2850921670204294939 26 160} {2953705561271419671 26 161} {1169894143089182989 26 162} {5075017475344791550 26 163} {3677497935681892255 26 164} {8089515929857733107 26 165}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61217 term 28 leader 0 nextIndex[1]: 166  matchIndex[1]: 165
term 28 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
flag 74304 term 28 leader 0 nextIndex[2]: 166  matchIndex[2]: 165
term 28 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {2850921670204294939 26 160} {2953705561271419671 26 161} {1169894143089182989 26 162} {5075017475344791550 26 163} {3677497935681892255 26 164} {8089515929857733107 26 165}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {2850921670204294939 26 160} {2953705561271419671 26 161} {1169894143089182989 26 162} {5075017475344791550 26 163} {3677497935681892255 26 164} {8089515929857733107 26 165}]
------------------------------------------------------
flag 14941 term 28 leader 0 nextIndex[1]: 166  matchIndex[1]: 165
term 28 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
flag 85084 term 28 leader 0 nextIndex[2]: 166  matchIndex[2]: 165
term 28 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {2850921670204294939 26 160} {2953705561271419671 26 161} {1169894143089182989 26 162} {5075017475344791550 26 163} {3677497935681892255 26 164} {8089515929857733107 26 165}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {2850921670204294939 26 160} {2953705561271419671 26 161} {1169894143089182989 26 162} {5075017475344791550 26 163} {3677497935681892255 26 164} {8089515929857733107 26 165}]
------------------------------------------------------
flag 8639 term 28 leader 0 nextIndex[1]: 166  matchIndex[1]: 165
term 28 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
flag 2713 term 28 leader 0 nextIndex[2]: 166  matchIndex[2]: 165
term 28 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {2850921670204294939 26 160} {2953705561271419671 26 161} {1169894143089182989 26 162} {5075017475344791550 26 163} {3677497935681892255 26 164} {8089515929857733107 26 165}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {2850921670204294939 26 160} {2953705561271419671 26 161} {1169894143089182989 26 162} {5075017475344791550 26 163} {3677497935681892255 26 164} {8089515929857733107 26 165}]
------------------------------------------------------
flag 40863 term 28 leader 0 nextIndex[1]: 166  matchIndex[1]: 165
term 28 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
flag 17230 term 28 leader 0 nextIndex[2]: 166  matchIndex[2]: 165
term 28 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {2850921670204294939 26 160} {2953705561271419671 26 161} {1169894143089182989 26 162} {5075017475344791550 26 163} {3677497935681892255 26 164} {8089515929857733107 26 165}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {2850921670204294939 26 160} {2953705561271419671 26 161} {1169894143089182989 26 162} {5075017475344791550 26 163} {3677497935681892255 26 164} {8089515929857733107 26 165}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95057 term 28 leader 0 nextIndex[1]: 166  matchIndex[1]: 165
term 28 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
flag 4467 term 28 leader 0 nextIndex[2]: 166  matchIndex[2]: 165
term 28 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {2850921670204294939 26 160} {2953705561271419671 26 161} {1169894143089182989 26 162} {5075017475344791550 26 163} {3677497935681892255 26 164} {8089515929857733107 26 165}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {2850921670204294939 26 160} {2953705561271419671 26 161} {1169894143089182989 26 162} {5075017475344791550 26 163} {3677497935681892255 26 164} {8089515929857733107 26 165}]
------------------------------------------------------
flag 55453 term 28 leader 0 nextIndex[1]: 166  matchIndex[1]: 165
term 28 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
flag 10981 term 28 leader 0 nextIndex[2]: 166  matchIndex[2]: 165
term 28 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {2850921670204294939 26 160} {2953705561271419671 26 161} {1169894143089182989 26 162} {5075017475344791550 26 163} {3677497935681892255 26 164} {8089515929857733107 26 165}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {2850921670204294939 26 160} {2953705561271419671 26 161} {1169894143089182989 26 162} {5075017475344791550 26 163} {3677497935681892255 26 164} {8089515929857733107 26 165}]
------------------------------------------------------
flag 3185 term 28 leader 0 nextIndex[1]: 166  matchIndex[1]: 165
term 28 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
flag 185 term 28 leader 0 nextIndex[2]: 166  matchIndex[2]: 165
term 28 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {2850921670204294939 26 160} {2953705561271419671 26 161} {1169894143089182989 26 162} {5075017475344791550 26 163} {3677497935681892255 26 164} {8089515929857733107 26 165}]
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {2850921670204294939 26 160} {2953705561271419671 26 161} {1169894143089182989 26 162} {5075017475344791550 26 163} {3677497935681892255 26 164} {8089515929857733107 26 165}]
------------------------------------------------------
flag 95234 term 28 leader 0 nextIndex[1]: 166  matchIndex[1]: 165
term 28 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
flag 94656 term 28 leader 0 nextIndex[2]: 166  matchIndex[2]: 165
term 28 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {2850921670204294939 26 160} {2953705561271419671 26 161} {1169894143089182989 26 162} {5075017475344791550 26 163} {3677497935681892255 26 164} {8089515929857733107 26 165}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {2850921670204294939 26 160} {2953705561271419671 26 161} {1169894143089182989 26 162} {5075017475344791550 26 163} {3677497935681892255 26 164} {8089515929857733107 26 165}]
------------------------------------------------------
flag 52975 term 28 leader 0 nextIndex[1]: 166  matchIndex[1]: 165
term 28 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
flag 30883 term 28 leader 0 nextIndex[2]: 166  matchIndex[2]: 165
term 28 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {2850921670204294939 26 160} {2953705561271419671 26 161} {1169894143089182989 26 162} {5075017475344791550 26 163} {3677497935681892255 26 164} {8089515929857733107 26 165}]
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {2850921670204294939 26 160} {2953705561271419671 26 161} {1169894143089182989 26 162} {5075017475344791550 26 163} {3677497935681892255 26 164} {8089515929857733107 26 165}]
------------------------------------------------------
flag 68893 term 28 leader 0 nextIndex[1]: 166  matchIndex[1]: 165
term 28 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
flag 61438 term 28 leader 0 nextIndex[2]: 166  matchIndex[2]: 165
term 28 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {2850921670204294939 26 160} {2953705561271419671 26 161} {1169894143089182989 26 162} {5075017475344791550 26 163} {3677497935681892255 26 164} {8089515929857733107 26 165}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {2850921670204294939 26 160} {2953705561271419671 26 161} {1169894143089182989 26 162} {5075017475344791550 26 163} {3677497935681892255 26 164} {8089515929857733107 26 165}]
------------------------------------------------------
flag 40887 term 28 leader 0 nextIndex[1]: 166  matchIndex[1]: 165
term 28 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
flag 21234 term 28 leader 0 nextIndex[2]: 166  matchIndex[2]: 165
term 28 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {2850921670204294939 26 160} {2953705561271419671 26 161} {1169894143089182989 26 162} {5075017475344791550 26 163} {3677497935681892255 26 164} {8089515929857733107 26 165}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {2850921670204294939 26 160} {2953705561271419671 26 161} {1169894143089182989 26 162} {5075017475344791550 26 163} {3677497935681892255 26 164} {8089515929857733107 26 165}]
------------------------------------------------------
term 28 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 28 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 28 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 77367 term 28 leader 0 nextIndex[1]: 166  matchIndex[1]: 165
term 28 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
flag 44799 term 28 leader 0 nextIndex[2]: 166  matchIndex[2]: 165
term 28 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {2850921670204294939 26 160} {2953705561271419671 26 161} {1169894143089182989 26 162} {5075017475344791550 26 163} {3677497935681892255 26 164} {8089515929857733107 26 165}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=164
leader log:
[{snapshot 26 159} {2850921670204294939 26 160} {2953705561271419671 26 161} {1169894143089182989 26 162} {5075017475344791550 26 163} {3677497935681892255 26 164} {8089515929857733107 26 165}]
------------------------------------------------------
client write log 8089515929857733107 (index 166) to leader 0
flag 83870 term 28 leader 0 nextIndex[1]: 166  matchIndex[1]: 165
term 28 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
flag 39670 term 28 leader 0 nextIndex[2]: 166  matchIndex[2]: 165
term 28 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 26 leaderCommit: 164 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:164 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=166
leader log:
[{snapshot 26 159} {2850921670204294939 26 160} {2953705561271419671 26 161} {1169894143089182989 26 162} {5075017475344791550 26 163} {3677497935681892255 26 164} {8089515929857733107 26 165} {8089515929857733107 28 166}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=166
leader log:
[{snapshot 26 159} {2850921670204294939 26 160} {2953705561271419671 26 161} {1169894143089182989 26 162} {5075017475344791550 26 163} {3677497935681892255 26 164} {8089515929857733107 26 165} {8089515929857733107 28 166}]
------------------------------------------------------
flag 28671 term 28 leader 0 nextIndex[1]: 167  matchIndex[1]: 166
term 28 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 166 
------------------------------------------------------
flag 78854 term 28 leader 0 nextIndex[2]: 167  matchIndex[2]: 166
term 28 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 166 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:166 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=166
leader log:
[{snapshot 26 159} {2850921670204294939 26 160} {2953705561271419671 26 161} {1169894143089182989 26 162} {5075017475344791550 26 163} {3677497935681892255 26 164} {8089515929857733107 26 165} {8089515929857733107 28 166}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=166
leader log:
[{snapshot 26 159} {2850921670204294939 26 160} {2953705561271419671 26 161} {1169894143089182989 26 162} {5075017475344791550 26 163} {3677497935681892255 26 164} {8089515929857733107 26 165} {8089515929857733107 28 166}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33787 term 28 leader 0 nextIndex[1]: 167  matchIndex[1]: 166
term 28 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 166 
------------------------------------------------------
flag 89403 term 28 leader 0 nextIndex[2]: 167  matchIndex[2]: 166
term 28 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 166 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:166 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=166
leader log:
[{snapshot 26 159} {2850921670204294939 26 160} {2953705561271419671 26 161} {1169894143089182989 26 162} {5075017475344791550 26 163} {3677497935681892255 26 164} {8089515929857733107 26 165} {8089515929857733107 28 166}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=166
leader log:
[{snapshot 26 159} {2850921670204294939 26 160} {2953705561271419671 26 161} {1169894143089182989 26 162} {5075017475344791550 26 163} {3677497935681892255 26 164} {8089515929857733107 26 165} {8089515929857733107 28 166}]
------------------------------------------------------
term 28 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 82405 term 28 leader 0 nextIndex[1]: 167  matchIndex[1]: 166
term 28 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 166 
------------------------------------------------------
flag 6030 term 28 leader 0 nextIndex[2]: 167  matchIndex[2]: 166
term 28 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 166 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=166
leader log:
[{snapshot 26 159} {2850921670204294939 26 160} {2953705561271419671 26 161} {1169894143089182989 26 162} {5075017475344791550 26 163} {3677497935681892255 26 164} {8089515929857733107 26 165} {8089515929857733107 28 166}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=166
leader log:
[{snapshot 26 159} {2850921670204294939 26 160} {2953705561271419671 26 161} {1169894143089182989 26 162} {5075017475344791550 26 163} {3677497935681892255 26 164} {8089515929857733107 26 165} {8089515929857733107 28 166}]
------------------------------------------------------
term 28 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 14032 term 28 leader 0 nextIndex[1]: 167  matchIndex[1]: 166
term 28 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 166 
------------------------------------------------------
flag 62475 term 28 leader 0 nextIndex[2]: 167  matchIndex[2]: 166
term 28 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 166 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:166 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=166
leader log:
[{snapshot 26 159} {2850921670204294939 26 160} {2953705561271419671 26 161} {1169894143089182989 26 162} {5075017475344791550 26 163} {3677497935681892255 26 164} {8089515929857733107 26 165} {8089515929857733107 28 166}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=166
leader log:
[{snapshot 26 159} {2850921670204294939 26 160} {2953705561271419671 26 161} {1169894143089182989 26 162} {5075017475344791550 26 163} {3677497935681892255 26 164} {8089515929857733107 26 165} {8089515929857733107 28 166}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85475 term 28 leader 0 nextIndex[1]: 167  matchIndex[1]: 166
term 28 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 166 
------------------------------------------------------
flag 96259 term 28 leader 0 nextIndex[2]: 167  matchIndex[2]: 166
term 28 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 166 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=166
leader log:
[{snapshot 26 159} {2850921670204294939 26 160} {2953705561271419671 26 161} {1169894143089182989 26 162} {5075017475344791550 26 163} {3677497935681892255 26 164} {8089515929857733107 26 165} {8089515929857733107 28 166}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=166
leader log:
[{snapshot 26 159} {2850921670204294939 26 160} {2953705561271419671 26 161} {1169894143089182989 26 162} {5075017475344791550 26 163} {3677497935681892255 26 164} {8089515929857733107 26 165} {8089515929857733107 28 166}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 1076022403398921190 (index 167) to leader 0
flag 6165 term 28 leader 0 nextIndex[1]: 167  matchIndex[1]: 166
term 28 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 166 
------------------------------------------------------
flag 55562 term 28 leader 0 nextIndex[2]: 167  matchIndex[2]: 166
term 28 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 166 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=167
leader log:
[{snapshot 26 159} {2850921670204294939 26 160} {2953705561271419671 26 161} {1169894143089182989 26 162} {5075017475344791550 26 163} {3677497935681892255 26 164} {8089515929857733107 26 165} {8089515929857733107 28 166} {1076022403398921190 28 167}]
------------------------------------------------------
flag 95212 term 28 leader 0 nextIndex[1]: 167  matchIndex[1]: 166
term 28 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
flag 3346 term 28 leader 0 nextIndex[2]: 168  matchIndex[2]: 167
term 28 leader 0 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=167
leader log:
[{snapshot 26 159} {2850921670204294939 26 160} {2953705561271419671 26 161} {1169894143089182989 26 162} {5075017475344791550 26 163} {3677497935681892255 26 164} {8089515929857733107 26 165} {8089515929857733107 28 166} {1076022403398921190 28 167}]
------------------------------------------------------
client write log 7562048620393664642 (index 168) to leader 0
client write log 1997503215911114659 (index 169) to leader 0
client write log 8632936325014271160 (index 170) to leader 0
client write log 5607663506614615177 (index 171) to leader 0
client write log 8492244689633003617 (index 172) to leader 0
client write log 8692230921276380358 (index 173) to leader 0
client write log 7465171748413436337 (index 174) to leader 0
flag 49862 term 28 leader 0 nextIndex[1]: 167  matchIndex[1]: 166
term 28 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
flag 13936 term 28 leader 0 nextIndex[2]: 168  matchIndex[2]: 167
term 28 leader 0 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=175
update matchIndex[2]=174
update leader CommitIndex=174
leader log:
[{snapshot 26 159} {2850921670204294939 26 160} {2953705561271419671 26 161} {1169894143089182989 26 162} {5075017475344791550 26 163} {3677497935681892255 26 164} {8089515929857733107 26 165} {8089515929857733107 28 166} {1076022403398921190 28 167} {7562048620393664642 28 168} {1997503215911114659 28 169} {8632936325014271160 28 170} {5607663506614615177 28 171} {8492244689633003617 28 172} {8692230921276380358 28 173} {7465171748413436337 28 174}]
------------------------------------------------------
term 28 Server0 start snapshot! index=169
term 28 server0 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=174
-------------------------------------------------------------
term 28 leader 0 nextIndex[1]: 167  matchIndex[1]: 166
term 28 leader 0 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 28
------------------------------------------------------
flag 17100 term 28 leader 0 nextIndex[2]: 175  matchIndex[2]: 174
term 28 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=175
update matchIndex[2]=174
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {8632936325014271160 28 170} {5607663506614615177 28 171} {8492244689633003617 28 172} {8692230921276380358 28 173} {7465171748413436337 28 174}]
------------------------------------------------------
term 28 Server2 start snapshot! index=169
term 28 server2 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=174
-------------------------------------------------------------
!!!!!!connect server 1
client write log 5003029260169153557 (index 175) to leader 0
term 28 leader 0 nextIndex[1]: 167  matchIndex[1]: 166
term 28 leader 0 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 28
------------------------------------------------------
flag 4447 term 28 leader 0 nextIndex[2]: 175  matchIndex[2]: 174
term 28 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {8632936325014271160 28 170} {5607663506614615177 28 171} {8492244689633003617 28 172} {8692230921276380358 28 173} {7465171748413436337 28 174} {5003029260169153557 28 175}]
------------------------------------------------------
term 29 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 28 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 30 server 2 vote for server 0
term 30 server 1 vote for server 0
term 30 server 0 get vote from server 2
term 30 server 0 become leader
------------------------------------------------------
term 30 server 0 get outdate rpc reply from server 1
flag 72311 term 30 leader 0 nextIndex[1]: 176  matchIndex[1]: 0
term 30 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
flag 80136 term 30 leader 0 nextIndex[2]: 176  matchIndex[2]: 0
term 30 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {8632936325014271160 28 170} {5607663506614615177 28 171} {8492244689633003617 28 172} {8692230921276380358 28 173} {7465171748413436337 28 174} {5003029260169153557 28 175}]
------------------------------------------------------
term 30 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 176->175
------------------------------------------------------
term 30 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 30 leader 0 nextIndex[1]: 167  matchIndex[1]: 0
term 30 leader 0 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 28
------------------------------------------------------
flag 46929 term 30 leader 0 nextIndex[2]: 176  matchIndex[2]: 175
term 30 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
term 30 server 1 InstallSnapshot success
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 169 rf.lastIncludedTerm 28 rf.commitIndex 169 rf.lastApplied 169
term 30 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 170 matchIndex[1] 169 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {8632936325014271160 28 170} {5607663506614615177 28 171} {8492244689633003617 28 172} {8692230921276380358 28 173} {7465171748413436337 28 174} {5003029260169153557 28 175}]
------------------------------------------------------
flag 74987 term 30 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 30 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
flag 3250 term 30 leader 0 nextIndex[2]: 176  matchIndex[2]: 175
term 30 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
update matchIndex[1]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {8632936325014271160 28 170} {5607663506614615177 28 171} {8492244689633003617 28 172} {8692230921276380358 28 173} {7465171748413436337 28 174} {5003029260169153557 28 175}]
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {8632936325014271160 28 170} {5607663506614615177 28 171} {8492244689633003617 28 172} {8692230921276380358 28 173} {7465171748413436337 28 174} {5003029260169153557 28 175}]
------------------------------------------------------
flag 37327 term 30 leader 0 nextIndex[1]: 176  matchIndex[1]: 175
term 30 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
flag 83697 term 30 leader 0 nextIndex[2]: 176  matchIndex[2]: 175
term 30 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {8632936325014271160 28 170} {5607663506614615177 28 171} {8492244689633003617 28 172} {8692230921276380358 28 173} {7465171748413436337 28 174} {5003029260169153557 28 175}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
update matchIndex[1]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {8632936325014271160 28 170} {5607663506614615177 28 171} {8492244689633003617 28 172} {8692230921276380358 28 173} {7465171748413436337 28 174} {5003029260169153557 28 175}]
------------------------------------------------------
term 30 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52877 term 30 leader 0 nextIndex[1]: 176  matchIndex[1]: 175
term 30 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
flag 62770 term 30 leader 0 nextIndex[2]: 176  matchIndex[2]: 175
term 30 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
update matchIndex[1]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {8632936325014271160 28 170} {5607663506614615177 28 171} {8492244689633003617 28 172} {8692230921276380358 28 173} {7465171748413436337 28 174} {5003029260169153557 28 175}]
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {8632936325014271160 28 170} {5607663506614615177 28 171} {8492244689633003617 28 172} {8692230921276380358 28 173} {7465171748413436337 28 174} {5003029260169153557 28 175}]
------------------------------------------------------
flag 94481 term 30 leader 0 nextIndex[1]: 176  matchIndex[1]: 175
term 30 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
flag 73865 term 30 leader 0 nextIndex[2]: 176  matchIndex[2]: 175
term 30 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {8632936325014271160 28 170} {5607663506614615177 28 171} {8492244689633003617 28 172} {8692230921276380358 28 173} {7465171748413436337 28 174} {5003029260169153557 28 175}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
update matchIndex[1]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {8632936325014271160 28 170} {5607663506614615177 28 171} {8492244689633003617 28 172} {8692230921276380358 28 173} {7465171748413436337 28 174} {5003029260169153557 28 175}]
------------------------------------------------------
flag 88599 term 30 leader 0 nextIndex[1]: 176  matchIndex[1]: 175
term 30 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
flag 59868 term 30 leader 0 nextIndex[2]: 176  matchIndex[2]: 175
term 30 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {8632936325014271160 28 170} {5607663506614615177 28 171} {8492244689633003617 28 172} {8692230921276380358 28 173} {7465171748413436337 28 174} {5003029260169153557 28 175}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
update matchIndex[1]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {8632936325014271160 28 170} {5607663506614615177 28 171} {8492244689633003617 28 172} {8692230921276380358 28 173} {7465171748413436337 28 174} {5003029260169153557 28 175}]
------------------------------------------------------
flag 9190 term 30 leader 0 nextIndex[1]: 176  matchIndex[1]: 175
term 30 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
flag 48106 term 30 leader 0 nextIndex[2]: 176  matchIndex[2]: 175
term 30 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {8632936325014271160 28 170} {5607663506614615177 28 171} {8492244689633003617 28 172} {8692230921276380358 28 173} {7465171748413436337 28 174} {5003029260169153557 28 175}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
update matchIndex[1]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {8632936325014271160 28 170} {5607663506614615177 28 171} {8492244689633003617 28 172} {8692230921276380358 28 173} {7465171748413436337 28 174} {5003029260169153557 28 175}]
------------------------------------------------------
term 30 server 0 not vote for server 1, 任期不够新
term 30 server 1 get outdate rpc reply from server 0
flag 18164 term 30 leader 0 nextIndex[1]: 176  matchIndex[1]: 175
term 30 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
flag 88839 term 30 leader 0 nextIndex[2]: 176  matchIndex[2]: 175
term 30 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {8632936325014271160 28 170} {5607663506614615177 28 171} {8492244689633003617 28 172} {8692230921276380358 28 173} {7465171748413436337 28 174} {5003029260169153557 28 175}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
update matchIndex[1]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {8632936325014271160 28 170} {5607663506614615177 28 171} {8492244689633003617 28 172} {8692230921276380358 28 173} {7465171748413436337 28 174} {5003029260169153557 28 175}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 76931 term 30 leader 0 nextIndex[1]: 176  matchIndex[1]: 175
term 30 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
flag 58707 term 30 leader 0 nextIndex[2]: 176  matchIndex[2]: 175
term 30 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
flag 42510 term 30 leader 0 nextIndex[1]: 176  matchIndex[1]: 175
term 30 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
flag 65810 term 30 leader 0 nextIndex[2]: 176  matchIndex[2]: 175
term 30 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
flag 30189 term 30 leader 0 nextIndex[1]: 176  matchIndex[1]: 175
term 30 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
flag 57611 term 30 leader 0 nextIndex[2]: 176  matchIndex[2]: 175
term 30 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
term 31 server 1 vote for server 2
term 31 server 2 get vote from server 1
term 31 server 2 become leader
------------------------------------------------------
flag 21413 term 31 leader 2 nextIndex[0]: 176  matchIndex[0]: 0
term 31 leader 2 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
flag 9921 term 31 leader 2 nextIndex[1]: 176  matchIndex[1]: 0
term 31 leader 2 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
update matchIndex[1]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {8632936325014271160 28 170} {5607663506614615177 28 171} {8492244689633003617 28 172} {8692230921276380358 28 173} {7465171748413436337 28 174} {5003029260169153557 28 175}]
------------------------------------------------------
flag 62834 term 30 leader 0 nextIndex[1]: 176  matchIndex[1]: 175
term 30 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
flag 97144 term 30 leader 0 nextIndex[2]: 176  matchIndex[2]: 175
term 30 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
client write log 6478194662654995878 (index 176) to leader 2
flag 1882 term 31 leader 2 nextIndex[0]: 176  matchIndex[0]: 0
term 31 leader 2 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
flag 25227 term 31 leader 2 nextIndex[1]: 176  matchIndex[1]: 175
term 31 leader 2 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {8632936325014271160 28 170} {5607663506614615177 28 171} {8492244689633003617 28 172} {8692230921276380358 28 173} {7465171748413436337 28 174} {5003029260169153557 28 175} {6478194662654995878 31 176}]
------------------------------------------------------
flag 48618 term 30 leader 0 nextIndex[1]: 176  matchIndex[1]: 175
term 30 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
flag 75421 term 30 leader 0 nextIndex[2]: 176  matchIndex[2]: 175
term 30 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
flag 64702 term 31 leader 2 nextIndex[0]: 176  matchIndex[0]: 0
term 31 leader 2 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 176 
------------------------------------------------------
flag 4121 term 31 leader 2 nextIndex[1]: 177  matchIndex[1]: 176
term 31 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 31 leaderCommit: 176 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {8632936325014271160 28 170} {5607663506614615177 28 171} {8492244689633003617 28 172} {8692230921276380358 28 173} {7465171748413436337 28 174} {5003029260169153557 28 175} {6478194662654995878 31 176}]
------------------------------------------------------
flag 20482 term 30 leader 0 nextIndex[1]: 176  matchIndex[1]: 175
term 30 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
flag 44927 term 30 leader 0 nextIndex[2]: 176  matchIndex[2]: 175
term 30 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
client write log 3792609062678076985 (index 177) to leader 2
flag 67438 term 31 leader 2 nextIndex[0]: 176  matchIndex[0]: 0
term 31 leader 2 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 176 
------------------------------------------------------
flag 4125 term 31 leader 2 nextIndex[1]: 177  matchIndex[1]: 176
term 31 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 31 leaderCommit: 176 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=177
leader log:
[{snapshot 28 169} {8632936325014271160 28 170} {5607663506614615177 28 171} {8492244689633003617 28 172} {8692230921276380358 28 173} {7465171748413436337 28 174} {5003029260169153557 28 175} {6478194662654995878 31 176} {3792609062678076985 31 177}]
------------------------------------------------------
flag 54073 term 30 leader 0 nextIndex[1]: 176  matchIndex[1]: 175
term 30 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
flag 280 term 30 leader 0 nextIndex[2]: 176  matchIndex[2]: 175
term 30 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
flag 18058 term 31 leader 2 nextIndex[0]: 176  matchIndex[0]: 0
term 31 leader 2 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 177 
------------------------------------------------------
flag 7209 term 31 leader 2 nextIndex[1]: 178  matchIndex[1]: 177
term 31 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 31 leaderCommit: 177 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=177
leader log:
[{snapshot 28 169} {8632936325014271160 28 170} {5607663506614615177 28 171} {8492244689633003617 28 172} {8692230921276380358 28 173} {7465171748413436337 28 174} {5003029260169153557 28 175} {6478194662654995878 31 176} {3792609062678076985 31 177}]
------------------------------------------------------
flag 88616 term 30 leader 0 nextIndex[1]: 176  matchIndex[1]: 175
term 30 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
flag 70373 term 30 leader 0 nextIndex[2]: 176  matchIndex[2]: 175
term 30 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 175 
------------------------------------------------------
!!!!!!connect server 0
client write log 8429476439719435071 (index 178) to leader 2
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 176->175
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30563 term 31 leader 2 nextIndex[0]: 176  matchIndex[0]: 0
term 31 leader 2 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 177 
------------------------------------------------------
flag 49998 term 31 leader 2 nextIndex[1]: 178  matchIndex[1]: 177
term 31 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 31 leaderCommit: 177 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {8632936325014271160 28 170} {5607663506614615177 28 171} {8492244689633003617 28 172} {8692230921276380358 28 173} {7465171748413436337 28 174} {5003029260169153557 28 175} {6478194662654995878 31 176} {3792609062678076985 31 177} {8429476439719435071 31 178}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=179
update matchIndex[0]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {8632936325014271160 28 170} {5607663506614615177 28 171} {8492244689633003617 28 172} {8692230921276380358 28 173} {7465171748413436337 28 174} {5003029260169153557 28 175} {6478194662654995878 31 176} {3792609062678076985 31 177} {8429476439719435071 31 178}]
------------------------------------------------------
flag 8729 term 31 leader 2 nextIndex[0]: 179  matchIndex[0]: 178
term 31 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
flag 97602 term 31 leader 2 nextIndex[1]: 179  matchIndex[1]: 178
term 31 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {8632936325014271160 28 170} {5607663506614615177 28 171} {8492244689633003617 28 172} {8692230921276380358 28 173} {7465171748413436337 28 174} {5003029260169153557 28 175} {6478194662654995878 31 176} {3792609062678076985 31 177} {8429476439719435071 31 178}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=179
update matchIndex[0]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {8632936325014271160 28 170} {5607663506614615177 28 171} {8492244689633003617 28 172} {8692230921276380358 28 173} {7465171748413436337 28 174} {5003029260169153557 28 175} {6478194662654995878 31 176} {3792609062678076985 31 177} {8429476439719435071 31 178}]
------------------------------------------------------
flag 35619 term 31 leader 2 nextIndex[0]: 179  matchIndex[0]: 178
term 31 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
flag 509 term 31 leader 2 nextIndex[1]: 179  matchIndex[1]: 178
term 31 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {8632936325014271160 28 170} {5607663506614615177 28 171} {8492244689633003617 28 172} {8692230921276380358 28 173} {7465171748413436337 28 174} {5003029260169153557 28 175} {6478194662654995878 31 176} {3792609062678076985 31 177} {8429476439719435071 31 178}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=179
update matchIndex[0]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {8632936325014271160 28 170} {5607663506614615177 28 171} {8492244689633003617 28 172} {8692230921276380358 28 173} {7465171748413436337 28 174} {5003029260169153557 28 175} {6478194662654995878 31 176} {3792609062678076985 31 177} {8429476439719435071 31 178}]
------------------------------------------------------
flag 47757 term 31 leader 2 nextIndex[0]: 179  matchIndex[0]: 178
term 31 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
flag 22708 term 31 leader 2 nextIndex[1]: 179  matchIndex[1]: 178
term 31 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {8632936325014271160 28 170} {5607663506614615177 28 171} {8492244689633003617 28 172} {8692230921276380358 28 173} {7465171748413436337 28 174} {5003029260169153557 28 175} {6478194662654995878 31 176} {3792609062678076985 31 177} {8429476439719435071 31 178}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=179
update matchIndex[0]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {8632936325014271160 28 170} {5607663506614615177 28 171} {8492244689633003617 28 172} {8692230921276380358 28 173} {7465171748413436337 28 174} {5003029260169153557 28 175} {6478194662654995878 31 176} {3792609062678076985 31 177} {8429476439719435071 31 178}]
------------------------------------------------------
flag 29729 term 31 leader 2 nextIndex[0]: 179  matchIndex[0]: 178
term 31 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
flag 57743 term 31 leader 2 nextIndex[1]: 179  matchIndex[1]: 178
term 31 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {8632936325014271160 28 170} {5607663506614615177 28 171} {8492244689633003617 28 172} {8692230921276380358 28 173} {7465171748413436337 28 174} {5003029260169153557 28 175} {6478194662654995878 31 176} {3792609062678076985 31 177} {8429476439719435071 31 178}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=179
update matchIndex[0]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {8632936325014271160 28 170} {5607663506614615177 28 171} {8492244689633003617 28 172} {8692230921276380358 28 173} {7465171748413436337 28 174} {5003029260169153557 28 175} {6478194662654995878 31 176} {3792609062678076985 31 177} {8429476439719435071 31 178}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 179->178
------------------------------------------------------
term 31 leader 2 nextIndex[0]: 0  matchIndex[0]: 178
term 31 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 28
------------------------------------------------------
flag 42472 term 31 leader 2 nextIndex[1]: 179  matchIndex[1]: 178
term 31 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {8632936325014271160 28 170} {5607663506614615177 28 171} {8492244689633003617 28 172} {8692230921276380358 28 173} {7465171748413436337 28 174} {5003029260169153557 28 175} {6478194662654995878 31 176} {3792609062678076985 31 177} {8429476439719435071 31 178}]
------------------------------------------------------
term 31 server 0 InstallSnapshot fail
rf.commitIndex 178 args.LastIncludedIndex 169
------------------------------------------------------
term 31 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 170 matchIndex[0] 169 
------------------------------------------------------------------------
term 31 server 0 not vote for server 2, 日志不够新
term 31 server 2 get outdate rpc reply from server 0
flag 40500 term 31 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 31 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 178 
------------------------------------------------------
flag 13357 term 31 leader 2 nextIndex[1]: 179  matchIndex[1]: 178
term 31 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {8632936325014271160 28 170} {5607663506614615177 28 171} {8492244689633003617 28 172} {8692230921276380358 28 173} {7465171748413436337 28 174} {5003029260169153557 28 175} {6478194662654995878 31 176} {3792609062678076985 31 177} {8429476439719435071 31 178}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=179
update matchIndex[0]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {8632936325014271160 28 170} {5607663506614615177 28 171} {8492244689633003617 28 172} {8692230921276380358 28 173} {7465171748413436337 28 174} {5003029260169153557 28 175} {6478194662654995878 31 176} {3792609062678076985 31 177} {8429476439719435071 31 178}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 6637909490504192303 (index 179) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79695 term 31 leader 2 nextIndex[0]: 179  matchIndex[0]: 178
term 31 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
flag 81424 term 31 leader 2 nextIndex[1]: 179  matchIndex[1]: 178
term 31 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=179
leader log:
[{snapshot 28 169} {8632936325014271160 28 170} {5607663506614615177 28 171} {8492244689633003617 28 172} {8692230921276380358 28 173} {7465171748413436337 28 174} {5003029260169153557 28 175} {6478194662654995878 31 176} {3792609062678076985 31 177} {8429476439719435071 31 178} {6637909490504192303 31 179}]
------------------------------------------------------
term 31 Server2 start snapshot! index=179
term 31 server2 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=179
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 31 leader 2 nextIndex[0]: 179  matchIndex[0]: 178
term 31 leader 2 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 31
------------------------------------------------------
flag 28328 term 31 leader 2 nextIndex[1]: 180  matchIndex[1]: 179
term 31 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 31 leaderCommit: 179 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=179
leader log:
[{snapshot 31 179}]
------------------------------------------------------
term 31 Server1 start snapshot! index=179
term 31 server1 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=179
-------------------------------------------------------------
client write log 5289607922772145205 (index 180) to leader 2
client write log 7263337640322829363 (index 181) to leader 2
client write log 6376838801019479348 (index 182) to leader 2
client write log 5051872765230378241 (index 183) to leader 2
client write log 6178459162142113537 (index 184) to leader 2
client write log 5217306488921485799 (index 185) to leader 2
client write log 2911164162582058383 (index 186) to leader 2
client write log 4471212646898806912 (index 187) to leader 2
client write log 952445442811533239 (index 188) to leader 2
client write log 215013350089224440 (index 189) to leader 2
client write log 5619844508478076288 (index 190) to leader 2
client write log 4042619601387828372 (index 191) to leader 2
client write log 8787143421461898341 (index 192) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 31 leader 2 nextIndex[0]: 179  matchIndex[0]: 178
term 31 leader 2 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 31
------------------------------------------------------
flag 31572 term 31 leader 2 nextIndex[1]: 180  matchIndex[1]: 179
term 31 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 31 leaderCommit: 179 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 31 179} {5289607922772145205 31 180} {7263337640322829363 31 181} {6376838801019479348 31 182} {5051872765230378241 31 183} {6178459162142113537 31 184} {5217306488921485799 31 185} {2911164162582058383 31 186} {4471212646898806912 31 187} {952445442811533239 31 188} {215013350089224440 31 189} {5619844508478076288 31 190} {4042619601387828372 31 191} {8787143421461898341 31 192}]
------------------------------------------------------
term 31 Server2 start snapshot! index=189
term 31 server2 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=192
-------------------------------------------------------------
term 31 leader 2 nextIndex[0]: 179  matchIndex[0]: 178
term 31 leader 2 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 31
------------------------------------------------------
flag 17965 term 31 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 31 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 31 189} {5619844508478076288 31 190} {4042619601387828372 31 191} {8787143421461898341 31 192}]
------------------------------------------------------
term 31 Server1 start snapshot! index=189
term 31 server1 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=192
-------------------------------------------------------------
!!!!!!connect server 0
client write log 7232152287454311054 (index 193) to leader 2
term 31 server 2 not vote for server 1, 任期不够新
term 31 server 1 get outdate rpc reply from server 2
term 31 server 2 not vote for server 0, 日志不够新
term 31 server 1 not vote for server 0, 日志不够新
term 33 server 1 vote for server 2
term 33 server 0 vote for server 2
term 33 server 2 get vote from server 1
term 33 server 2 become leader
------------------------------------------------------
term 33 server 2 get outdate rpc reply from server 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33402 term 33 leader 2 nextIndex[0]: 194  matchIndex[0]: 0
term 33 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
flag 56294 term 33 leader 2 nextIndex[1]: 194  matchIndex[1]: 0
term 33 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
term 33 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 194->193
------------------------------------------------------
term 33 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 194->193
------------------------------------------------------
term 33 leader 2 nextIndex[0]: 179  matchIndex[0]: 0
term 33 leader 2 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 31
------------------------------------------------------
flag 12705 term 33 leader 2 nextIndex[1]: 193  matchIndex[1]: 0
term 33 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=192
leader log:
[{snapshot 31 189} {5619844508478076288 31 190} {4042619601387828372 31 191} {8787143421461898341 31 192} {7232152287454311054 31 193}]
------------------------------------------------------
term 33 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 189 rf.lastIncludedTerm 31 rf.commitIndex 189 rf.lastApplied 189
term 33 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 190 matchIndex[0] 189 
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94666 term 33 leader 2 nextIndex[0]: 190  matchIndex[0]: 189
term 33 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
flag 24189 term 33 leader 2 nextIndex[1]: 194  matchIndex[1]: 193
term 33 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=192
leader log:
[{snapshot 31 189} {5619844508478076288 31 190} {4042619601387828372 31 191} {8787143421461898341 31 192} {7232152287454311054 31 193}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=192
leader log:
[{snapshot 31 189} {5619844508478076288 31 190} {4042619601387828372 31 191} {8787143421461898341 31 192} {7232152287454311054 31 193}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98813 term 33 leader 2 nextIndex[0]: 194  matchIndex[0]: 193
term 33 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
flag 65832 term 33 leader 2 nextIndex[1]: 194  matchIndex[1]: 193
term 33 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=192
leader log:
[{snapshot 31 189} {5619844508478076288 31 190} {4042619601387828372 31 191} {8787143421461898341 31 192} {7232152287454311054 31 193}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=192
leader log:
[{snapshot 31 189} {5619844508478076288 31 190} {4042619601387828372 31 191} {8787143421461898341 31 192} {7232152287454311054 31 193}]
------------------------------------------------------
flag 67528 term 33 leader 2 nextIndex[0]: 194  matchIndex[0]: 193
term 33 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
flag 89366 term 33 leader 2 nextIndex[1]: 194  matchIndex[1]: 193
term 33 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=192
leader log:
[{snapshot 31 189} {5619844508478076288 31 190} {4042619601387828372 31 191} {8787143421461898341 31 192} {7232152287454311054 31 193}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=192
leader log:
[{snapshot 31 189} {5619844508478076288 31 190} {4042619601387828372 31 191} {8787143421461898341 31 192} {7232152287454311054 31 193}]
------------------------------------------------------
flag 96992 term 33 leader 2 nextIndex[0]: 194  matchIndex[0]: 193
term 33 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
flag 91084 term 33 leader 2 nextIndex[1]: 194  matchIndex[1]: 193
term 33 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=192
leader log:
[{snapshot 31 189} {5619844508478076288 31 190} {4042619601387828372 31 191} {8787143421461898341 31 192} {7232152287454311054 31 193}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=192
leader log:
[{snapshot 31 189} {5619844508478076288 31 190} {4042619601387828372 31 191} {8787143421461898341 31 192} {7232152287454311054 31 193}]
------------------------------------------------------
flag 18209 term 33 leader 2 nextIndex[0]: 194  matchIndex[0]: 193
term 33 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
flag 93556 term 33 leader 2 nextIndex[1]: 194  matchIndex[1]: 193
term 33 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=192
leader log:
[{snapshot 31 189} {5619844508478076288 31 190} {4042619601387828372 31 191} {8787143421461898341 31 192} {7232152287454311054 31 193}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=192
leader log:
[{snapshot 31 189} {5619844508478076288 31 190} {4042619601387828372 31 191} {8787143421461898341 31 192} {7232152287454311054 31 193}]
------------------------------------------------------
flag 4053 term 33 leader 2 nextIndex[0]: 194  matchIndex[0]: 193
term 33 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
flag 64209 term 33 leader 2 nextIndex[1]: 194  matchIndex[1]: 193
term 33 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=192
leader log:
[{snapshot 31 189} {5619844508478076288 31 190} {4042619601387828372 31 191} {8787143421461898341 31 192} {7232152287454311054 31 193}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=192
leader log:
[{snapshot 31 189} {5619844508478076288 31 190} {4042619601387828372 31 191} {8787143421461898341 31 192} {7232152287454311054 31 193}]
------------------------------------------------------
flag 70403 term 33 leader 2 nextIndex[0]: 194  matchIndex[0]: 193
term 33 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
flag 32320 term 33 leader 2 nextIndex[1]: 194  matchIndex[1]: 193
term 33 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=192
leader log:
[{snapshot 31 189} {5619844508478076288 31 190} {4042619601387828372 31 191} {8787143421461898341 31 192} {7232152287454311054 31 193}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=192
leader log:
[{snapshot 31 189} {5619844508478076288 31 190} {4042619601387828372 31 191} {8787143421461898341 31 192} {7232152287454311054 31 193}]
------------------------------------------------------
flag 43947 term 33 leader 2 nextIndex[0]: 194  matchIndex[0]: 193
term 33 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
flag 85882 term 33 leader 2 nextIndex[1]: 194  matchIndex[1]: 193
term 33 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=192
leader log:
[{snapshot 31 189} {5619844508478076288 31 190} {4042619601387828372 31 191} {8787143421461898341 31 192} {7232152287454311054 31 193}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=192
leader log:
[{snapshot 31 189} {5619844508478076288 31 190} {4042619601387828372 31 191} {8787143421461898341 31 192} {7232152287454311054 31 193}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51426 term 33 leader 2 nextIndex[0]: 194  matchIndex[0]: 193
term 33 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
flag 35274 term 33 leader 2 nextIndex[1]: 194  matchIndex[1]: 193
term 33 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=192
leader log:
[{snapshot 31 189} {5619844508478076288 31 190} {4042619601387828372 31 191} {8787143421461898341 31 192} {7232152287454311054 31 193}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=192
leader log:
[{snapshot 31 189} {5619844508478076288 31 190} {4042619601387828372 31 191} {8787143421461898341 31 192} {7232152287454311054 31 193}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26752 term 33 leader 2 nextIndex[0]: 194  matchIndex[0]: 193
term 33 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
flag 2268 term 33 leader 2 nextIndex[1]: 194  matchIndex[1]: 193
term 33 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=192
leader log:
[{snapshot 31 189} {5619844508478076288 31 190} {4042619601387828372 31 191} {8787143421461898341 31 192} {7232152287454311054 31 193}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=192
leader log:
[{snapshot 31 189} {5619844508478076288 31 190} {4042619601387828372 31 191} {8787143421461898341 31 192} {7232152287454311054 31 193}]
------------------------------------------------------
flag 59539 term 33 leader 2 nextIndex[0]: 194  matchIndex[0]: 193
term 33 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
flag 90309 term 33 leader 2 nextIndex[1]: 194  matchIndex[1]: 193
term 33 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=192
leader log:
[{snapshot 31 189} {5619844508478076288 31 190} {4042619601387828372 31 191} {8787143421461898341 31 192} {7232152287454311054 31 193}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=192
leader log:
[{snapshot 31 189} {5619844508478076288 31 190} {4042619601387828372 31 191} {8787143421461898341 31 192} {7232152287454311054 31 193}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35424 term 33 leader 2 nextIndex[0]: 194  matchIndex[0]: 193
term 33 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
flag 24098 term 33 leader 2 nextIndex[1]: 194  matchIndex[1]: 193
term 33 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=192
leader log:
[{snapshot 31 189} {5619844508478076288 31 190} {4042619601387828372 31 191} {8787143421461898341 31 192} {7232152287454311054 31 193}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=192
leader log:
[{snapshot 31 189} {5619844508478076288 31 190} {4042619601387828372 31 191} {8787143421461898341 31 192} {7232152287454311054 31 193}]
------------------------------------------------------
term 33 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36085 term 33 leader 2 nextIndex[0]: 194  matchIndex[0]: 193
term 33 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
flag 5061 term 33 leader 2 nextIndex[1]: 194  matchIndex[1]: 193
term 33 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=192
leader log:
[{snapshot 31 189} {5619844508478076288 31 190} {4042619601387828372 31 191} {8787143421461898341 31 192} {7232152287454311054 31 193}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=192
leader log:
[{snapshot 31 189} {5619844508478076288 31 190} {4042619601387828372 31 191} {8787143421461898341 31 192} {7232152287454311054 31 193}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50887 term 33 leader 2 nextIndex[0]: 194  matchIndex[0]: 193
term 33 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
flag 47541 term 33 leader 2 nextIndex[1]: 194  matchIndex[1]: 193
term 33 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=192
leader log:
[{snapshot 31 189} {5619844508478076288 31 190} {4042619601387828372 31 191} {8787143421461898341 31 192} {7232152287454311054 31 193}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=192
leader log:
[{snapshot 31 189} {5619844508478076288 31 190} {4042619601387828372 31 191} {8787143421461898341 31 192} {7232152287454311054 31 193}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23079 term 33 leader 2 nextIndex[0]: 194  matchIndex[0]: 193
term 33 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
flag 48166 term 33 leader 2 nextIndex[1]: 194  matchIndex[1]: 193
term 33 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=192
leader log:
[{snapshot 31 189} {5619844508478076288 31 190} {4042619601387828372 31 191} {8787143421461898341 31 192} {7232152287454311054 31 193}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=192
leader log:
[{snapshot 31 189} {5619844508478076288 31 190} {4042619601387828372 31 191} {8787143421461898341 31 192} {7232152287454311054 31 193}]
------------------------------------------------------
flag 41442 term 33 leader 2 nextIndex[0]: 194  matchIndex[0]: 193
term 33 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
flag 72916 term 33 leader 2 nextIndex[1]: 194  matchIndex[1]: 193
term 33 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=192
leader log:
[{snapshot 31 189} {5619844508478076288 31 190} {4042619601387828372 31 191} {8787143421461898341 31 192} {7232152287454311054 31 193}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=192
leader log:
[{snapshot 31 189} {5619844508478076288 31 190} {4042619601387828372 31 191} {8787143421461898341 31 192} {7232152287454311054 31 193}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59027 term 33 leader 2 nextIndex[0]: 194  matchIndex[0]: 193
term 33 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
flag 9982 term 33 leader 2 nextIndex[1]: 194  matchIndex[1]: 193
term 33 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=192
leader log:
[{snapshot 31 189} {5619844508478076288 31 190} {4042619601387828372 31 191} {8787143421461898341 31 192} {7232152287454311054 31 193}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=192
leader log:
[{snapshot 31 189} {5619844508478076288 31 190} {4042619601387828372 31 191} {8787143421461898341 31 192} {7232152287454311054 31 193}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69846 term 33 leader 2 nextIndex[0]: 194  matchIndex[0]: 193
term 33 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
flag 79217 term 33 leader 2 nextIndex[1]: 194  matchIndex[1]: 193
term 33 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=192
leader log:
[{snapshot 31 189} {5619844508478076288 31 190} {4042619601387828372 31 191} {8787143421461898341 31 192} {7232152287454311054 31 193}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=194
update matchIndex[0]=193
update leader CommitIndex=192
leader log:
[{snapshot 31 189} {5619844508478076288 31 190} {4042619601387828372 31 191} {8787143421461898341 31 192} {7232152287454311054 31 193}]
------------------------------------------------------
client write log 7232152287454311054 (index 194) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77068 term 33 leader 2 nextIndex[0]: 194  matchIndex[0]: 193
term 33 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
flag 52543 term 33 leader 2 nextIndex[1]: 194  matchIndex[1]: 193
term 33 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=195
update matchIndex[1]=194
update leader CommitIndex=194
leader log:
[{snapshot 31 189} {5619844508478076288 31 190} {4042619601387828372 31 191} {8787143421461898341 31 192} {7232152287454311054 31 193} {7232152287454311054 33 194}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=195
update matchIndex[0]=194
update leader CommitIndex=194
leader log:
[{snapshot 31 189} {5619844508478076288 31 190} {4042619601387828372 31 191} {8787143421461898341 31 192} {7232152287454311054 31 193} {7232152287454311054 33 194}]
------------------------------------------------------
flag 21 term 33 leader 2 nextIndex[0]: 195  matchIndex[0]: 194
term 33 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
flag 61681 term 33 leader 2 nextIndex[1]: 195  matchIndex[1]: 194
term 33 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=195
update matchIndex[1]=194
update leader CommitIndex=194
leader log:
term 33 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
[{snapshot 31 189} {5619844508478076288 31 190} {4042619601387828372 31 191} {8787143421461898341 31 192} {7232152287454311054 31 193} {7232152287454311054 33 194}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=195
update matchIndex[0]=194
update leader CommitIndex=194
leader log:
[{snapshot 31 189} {5619844508478076288 31 190} {4042619601387828372 31 191} {8787143421461898341 31 192} {7232152287454311054 31 193} {7232152287454311054 33 194}]
------------------------------------------------------
flag 96576 term 33 leader 2 nextIndex[0]: 195  matchIndex[0]: 194
term 33 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
flag 51220 term 33 leader 2 nextIndex[1]: 195  matchIndex[1]: 194
term 33 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=195
update matchIndex[1]=194
update leader CommitIndex=194
leader log:
[{snapshot 31 189} {5619844508478076288 31 190} {4042619601387828372 31 191} {8787143421461898341 31 192} {7232152287454311054 31 193} {7232152287454311054 33 194}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=195
update matchIndex[0]=194
update leader CommitIndex=194
leader log:
[{snapshot 31 189} {5619844508478076288 31 190} {4042619601387828372 31 191} {8787143421461898341 31 192} {7232152287454311054 31 193} {7232152287454311054 33 194}]
------------------------------------------------------
flag 55464 term 33 leader 2 nextIndex[0]: 195  matchIndex[0]: 194
term 33 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
flag 10582 term 33 leader 2 nextIndex[1]: 195  matchIndex[1]: 194
term 33 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=195
update matchIndex[1]=194
update leader CommitIndex=194
leader log:
term 33 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
[{snapshot 31 189} {5619844508478076288 31 190} {4042619601387828372 31 191} {8787143421461898341 31 192} {7232152287454311054 31 193} {7232152287454311054 33 194}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=195
update matchIndex[0]=194
update leader CommitIndex=194
leader log:
[{snapshot 31 189} {5619844508478076288 31 190} {4042619601387828372 31 191} {8787143421461898341 31 192} {7232152287454311054 31 193} {7232152287454311054 33 194}]
------------------------------------------------------
flag 59670 term 33 leader 2 nextIndex[0]: 195  matchIndex[0]: 194
term 33 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
flag 32213 term 33 leader 2 nextIndex[1]: 195  matchIndex[1]: 194
term 33 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=195
update matchIndex[1]=194
update leader CommitIndex=194
leader log:
[{snapshot 31 189} {5619844508478076288 31 190} {4042619601387828372 31 191} {8787143421461898341 31 192} {7232152287454311054 31 193} {7232152287454311054 33 194}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=195
update matchIndex[0]=194
update leader CommitIndex=194
leader log:
[{snapshot 31 189} {5619844508478076288 31 190} {4042619601387828372 31 191} {8787143421461898341 31 192} {7232152287454311054 31 193} {7232152287454311054 33 194}]
------------------------------------------------------
flag 26952 term 33 leader 2 nextIndex[0]: 195  matchIndex[0]: 194
term 33 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
flag 18215 term 33 leader 2 nextIndex[1]: 195  matchIndex[1]: 194
term 33 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=195
update matchIndex[1]=194
update leader CommitIndex=194
leader log:
[{snapshot 31 189} {5619844508478076288 31 190} {4042619601387828372 31 191} {8787143421461898341 31 192} {7232152287454311054 31 193} {7232152287454311054 33 194}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=195
update matchIndex[0]=194
update leader CommitIndex=194
leader log:
[{snapshot 31 189} {5619844508478076288 31 190} {4042619601387828372 31 191} {8787143421461898341 31 192} {7232152287454311054 31 193} {7232152287454311054 33 194}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 1293003287097782197 (index 195) to leader 2
flag 46317 term 33 leader 2 nextIndex[0]: 195  matchIndex[0]: 194
term 33 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
flag 4911 term 33 leader 2 nextIndex[1]: 195  matchIndex[1]: 194
term 33 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=196
update matchIndex[1]=195
update leader CommitIndex=195
leader log:
[{snapshot 31 189} {5619844508478076288 31 190} {4042619601387828372 31 191} {8787143421461898341 31 192} {7232152287454311054 31 193} {7232152287454311054 33 194} {1293003287097782197 33 195}]
------------------------------------------------------
flag 69077 term 33 leader 2 nextIndex[0]: 195  matchIndex[0]: 194
term 33 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 33 leaderCommit: 195 
------------------------------------------------------
flag 7572 term 33 leader 2 nextIndex[1]: 196  matchIndex[1]: 195
term 33 leader 2 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 195 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=196
update matchIndex[1]=195
update leader CommitIndex=195
leader log:
[{snapshot 31 189} {5619844508478076288 31 190} {4042619601387828372 31 191} {8787143421461898341 31 192} {7232152287454311054 31 193} {7232152287454311054 33 194} {1293003287097782197 33 195}]
------------------------------------------------------
client write log 2496127477065714377 (index 196) to leader 2
client write log 5977382309955704452 (index 197) to leader 2
client write log 7698452828672963136 (index 198) to leader 2
client write log 6433341655214016031 (index 199) to leader 2
client write log 6539116565683783577 (index 200) to leader 2
client write log 2251695518614610285 (index 201) to leader 2
client write log 5877895370705863648 (index 202) to leader 2
client write log 4464829591768802141 (index 203) to leader 2
flag 48111 term 33 leader 2 nextIndex[0]: 195  matchIndex[0]: 194
term 33 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 33 leaderCommit: 195 
------------------------------------------------------
flag 73336 term 33 leader 2 nextIndex[1]: 196  matchIndex[1]: 195
term 33 leader 2 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 195 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 31 189} {5619844508478076288 31 190} {4042619601387828372 31 191} {8787143421461898341 31 192} {7232152287454311054 31 193} {7232152287454311054 33 194} {1293003287097782197 33 195} {2496127477065714377 33 196} {5977382309955704452 33 197} {7698452828672963136 33 198} {6433341655214016031 33 199} {6539116565683783577 33 200} {2251695518614610285 33 201} {5877895370705863648 33 202} {4464829591768802141 33 203}]
------------------------------------------------------
term 33 Server2 start snapshot! index=199
term 33 server2 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=203
-------------------------------------------------------------
term 33 leader 2 nextIndex[0]: 195  matchIndex[0]: 194
term 33 leader 2 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 33
------------------------------------------------------
flag 67238 term 33 leader 2 nextIndex[1]: 204  matchIndex[1]: 203
term 33 leader 2 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 33 leaderCommit: 203 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 33 199} {6539116565683783577 33 200} {2251695518614610285 33 201} {5877895370705863648 33 202} {4464829591768802141 33 203}]
------------------------------------------------------
term 33 Server1 start snapshot! index=199
term 33 server1 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=203
-------------------------------------------------------------
!!!!!!connect server 0
client write log 7416645319985784387 (index 204) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 33 leader 2 nextIndex[0]: 195  matchIndex[0]: 194
term 33 leader 2 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 33
------------------------------------------------------
flag 6130 term 33 leader 2 nextIndex[1]: 204  matchIndex[1]: 203
term 33 leader 2 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 33 leaderCommit: 203 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
term 34 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
leader log:
[{snapshot 33 199} {6539116565683783577 33 200} {2251695518614610285 33 201} {5877895370705863648 33 202} {4464829591768802141 33 203} {7416645319985784387 33 204}]
------------------------------------------------------
term 33 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 35 server 1 vote for server 2
term 35 server 2 get vote from server 1
term 35 server 2 become leader
------------------------------------------------------
term 35 server 0 vote for server 2
term 35 server 2 get outdate rpc reply from server 0
flag 80258 term 35 leader 2 nextIndex[0]: 205  matchIndex[0]: 0
term 35 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 3636 term 35 leader 2 nextIndex[1]: 205  matchIndex[1]: 0
term 35 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
leader log:
[{snapshot 33 199} {6539116565683783577 33 200} {2251695518614610285 33 201} {5877895370705863648 33 202} {4464829591768802141 33 203} {7416645319985784387 33 204}]
------------------------------------------------------
term 35 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 205->204
------------------------------------------------------
term 35 leader 2 nextIndex[0]: 195  matchIndex[0]: 0
term 35 leader 2 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 33
------------------------------------------------------
flag 4452 term 35 leader 2 nextIndex[1]: 205  matchIndex[1]: 204
term 35 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
leader log:
[{snapshot 33 199} {6539116565683783577 33 200} {2251695518614610285 33 201} {5877895370705863648 33 202} {4464829591768802141 33 203} {7416645319985784387 33 204}]
------------------------------------------------------
term 35 server 0 InstallSnapshot success
------------------------------------------------------
term 35 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 200 matchIndex[0] 199 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 199 rf.lastIncludedTerm 33 rf.commitIndex 199 rf.lastApplied 199
flag 25875 term 35 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 35 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 68714 term 35 leader 2 nextIndex[1]: 205  matchIndex[1]: 204
term 35 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
leader log:
[{snapshot 33 199} {6539116565683783577 33 200} {2251695518614610285 33 201} {5877895370705863648 33 202} {4464829591768802141 33 203} {7416645319985784387 33 204}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 33 199} {6539116565683783577 33 200} {2251695518614610285 33 201} {5877895370705863648 33 202} {4464829591768802141 33 203} {7416645319985784387 33 204}]
------------------------------------------------------
flag 35931 term 35 leader 2 nextIndex[0]: 205  matchIndex[0]: 204
term 35 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 55106 term 35 leader 2 nextIndex[1]: 205  matchIndex[1]: 204
term 35 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
leader log:
[{snapshot 33 199} {6539116565683783577 33 200} {2251695518614610285 33 201} {5877895370705863648 33 202} {4464829591768802141 33 203} {7416645319985784387 33 204}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 33 199} {6539116565683783577 33 200} {2251695518614610285 33 201} {5877895370705863648 33 202} {4464829591768802141 33 203} {7416645319985784387 33 204}]
------------------------------------------------------
flag 3820 term 35 leader 2 nextIndex[0]: 205  matchIndex[0]: 204
term 35 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 15577 term 35 leader 2 nextIndex[1]: 205  matchIndex[1]: 204
term 35 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:204 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 33 199} {6539116565683783577 33 200} {2251695518614610285 33 201} {5877895370705863648 33 202} {4464829591768802141 33 203} {7416645319985784387 33 204}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
leader log:
[{snapshot 33 199} {6539116565683783577 33 200} {2251695518614610285 33 201} {5877895370705863648 33 202} {4464829591768802141 33 203} {7416645319985784387 33 204}]
------------------------------------------------------
flag 74612 term 35 leader 2 nextIndex[0]: 205  matchIndex[0]: 204
term 35 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 73345 term 35 leader 2 nextIndex[1]: 205  matchIndex[1]: 204
term 35 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:204 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
leader log:
[{snapshot 33 199} {6539116565683783577 33 200} {2251695518614610285 33 201} {5877895370705863648 33 202} {4464829591768802141 33 203} {7416645319985784387 33 204}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 33 199} {6539116565683783577 33 200} {2251695518614610285 33 201} {5877895370705863648 33 202} {4464829591768802141 33 203} {7416645319985784387 33 204}]
------------------------------------------------------
flag 11840 term 35 leader 2 nextIndex[0]: 205  matchIndex[0]: 204
term 35 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 20597 term 35 leader 2 nextIndex[1]: 205  matchIndex[1]: 204
term 35 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:204 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
leader log:
[{snapshot 33 199} {6539116565683783577 33 200} {2251695518614610285 33 201} {5877895370705863648 33 202} {4464829591768802141 33 203} {7416645319985784387 33 204}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 33 199} {6539116565683783577 33 200} {2251695518614610285 33 201} {5877895370705863648 33 202} {4464829591768802141 33 203} {7416645319985784387 33 204}]
------------------------------------------------------
flag 14561 term 35 leader 2 nextIndex[0]: 205  matchIndex[0]: 204
term 35 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 82179 term 35 leader 2 nextIndex[1]: 205  matchIndex[1]: 204
term 35 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
leader log:
[{snapshot 33 199} {6539116565683783577 33 200} {2251695518614610285 33 201} {5877895370705863648 33 202} {4464829591768802141 33 203} {7416645319985784387 33 204}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 33 199} {6539116565683783577 33 200} {2251695518614610285 33 201} {5877895370705863648 33 202} {4464829591768802141 33 203} {7416645319985784387 33 204}]
------------------------------------------------------
flag 76495 term 35 leader 2 nextIndex[0]: 205  matchIndex[0]: 204
term 35 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 63997 term 35 leader 2 nextIndex[1]: 205  matchIndex[1]: 204
term 35 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 33 199} {6539116565683783577 33 200} {2251695518614610285 33 201} {5877895370705863648 33 202} {4464829591768802141 33 203} {7416645319985784387 33 204}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
leader log:
[{snapshot 33 199} {6539116565683783577 33 200} {2251695518614610285 33 201} {5877895370705863648 33 202} {4464829591768802141 33 203} {7416645319985784387 33 204}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 2
flag 87177 term 35 leader 2 nextIndex[0]: 205  matchIndex[0]: 204
term 35 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 90222 term 35 leader 2 nextIndex[1]: 205  matchIndex[1]: 204
term 35 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 7455 term 35 leader 2 nextIndex[0]: 205  matchIndex[0]: 204
term 35 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 66513 term 35 leader 2 nextIndex[1]: 205  matchIndex[1]: 204
term 35 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 58516 term 35 leader 2 nextIndex[0]: 205  matchIndex[0]: 204
term 35 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 7678 term 35 leader 2 nextIndex[1]: 205  matchIndex[1]: 204
term 35 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 19174 term 35 leader 2 nextIndex[0]: 205  matchIndex[0]: 204
term 35 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 88105 term 35 leader 2 nextIndex[1]: 205  matchIndex[1]: 204
term 35 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
term 36 server 0 vote for server 1
term 36 server 1 get vote from server 0
term 36 server 1 become leader
------------------------------------------------------
flag 77669 term 36 leader 1 nextIndex[0]: 205  matchIndex[0]: 0
term 36 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 51378 term 36 leader 1 nextIndex[2]: 205  matchIndex[2]: 0
term 36 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 33 199} {6539116565683783577 33 200} {2251695518614610285 33 201} {5877895370705863648 33 202} {4464829591768802141 33 203} {7416645319985784387 33 204}]
------------------------------------------------------
client write log 2282679043956370924 (index 205) to leader 1
flag 9918 term 35 leader 2 nextIndex[0]: 205  matchIndex[0]: 204
term 35 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 25107 term 35 leader 2 nextIndex[1]: 205  matchIndex[1]: 204
term 35 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 16795 term 36 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 36 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 48818 term 36 leader 1 nextIndex[2]: 205  matchIndex[2]: 0
term 36 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=205
leader log:
[{snapshot 33 199} {6539116565683783577 33 200} {2251695518614610285 33 201} {5877895370705863648 33 202} {4464829591768802141 33 203} {7416645319985784387 33 204} {2282679043956370924 36 205}]
------------------------------------------------------
flag 1970 term 35 leader 2 nextIndex[0]: 205  matchIndex[0]: 204
term 35 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 65457 term 35 leader 2 nextIndex[1]: 205  matchIndex[1]: 204
term 35 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 55488 term 36 leader 1 nextIndex[0]: 206  matchIndex[0]: 205
term 36 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 36 leaderCommit: 205 
------------------------------------------------------
flag 26591 term 36 leader 1 nextIndex[2]: 205  matchIndex[2]: 0
term 36 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 205 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=205
leader log:
[{snapshot 33 199} {6539116565683783577 33 200} {2251695518614610285 33 201} {5877895370705863648 33 202} {4464829591768802141 33 203} {7416645319985784387 33 204} {2282679043956370924 36 205}]
------------------------------------------------------
client write log 5994268712006473589 (index 206) to leader 1
flag 74405 term 35 leader 2 nextIndex[0]: 205  matchIndex[0]: 204
term 35 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 66717 term 35 leader 2 nextIndex[1]: 205  matchIndex[1]: 204
term 35 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 205->204
------------------------------------------------------
flag 55522 term 36 leader 1 nextIndex[0]: 206  matchIndex[0]: 205
term 36 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 36 leaderCommit: 205 
------------------------------------------------------
flag 29037 term 36 leader 1 nextIndex[2]: 205  matchIndex[2]: 0
term 36 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 205 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=206
leader log:
[{snapshot 33 199} {6539116565683783577 33 200} {2251695518614610285 33 201} {5877895370705863648 33 202} {4464829591768802141 33 203} {7416645319985784387 33 204} {2282679043956370924 36 205} {5994268712006473589 36 206}]
------------------------------------------------------
term 35 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 5548 term 35 leader 2 nextIndex[0]: 205  matchIndex[0]: 204
term 35 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
term 35 leader 2 nextIndex[1]: 0  matchIndex[1]: 204
term 35 leader 2 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 33
------------------------------------------------------
flag 24643 term 36 leader 1 nextIndex[0]: 207  matchIndex[0]: 206
term 36 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 36 leaderCommit: 206 
------------------------------------------------------
flag 71893 term 36 leader 1 nextIndex[2]: 205  matchIndex[2]: 0
term 36 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 206 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=206
leader log:
[{snapshot 33 199} {6539116565683783577 33 200} {2251695518614610285 33 201} {5877895370705863648 33 202} {4464829591768802141 33 203} {7416645319985784387 33 204} {2282679043956370924 36 205} {5994268712006473589 36 206}]
------------------------------------------------------
!!!!!!connect server 2
client write log 3249537265732935270 (index 207) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13433 term 35 leader 2 nextIndex[0]: 205  matchIndex[0]: 204
term 35 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
term 35 leader 2 nextIndex[1]: 0  matchIndex[1]: 204
term 35 leader 2 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 33
------------------------------------------------------
term 36 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 36 server 0 AppendEntries false 领导者任期过期 args.Term 35
------------------------------------------------------
term 35 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18925 term 36 leader 1 nextIndex[0]: 207  matchIndex[0]: 206
term 36 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 36 leaderCommit: 206 
------------------------------------------------------
flag 52148 term 36 leader 1 nextIndex[2]: 205  matchIndex[2]: 0
term 36 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 206 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 33 199} {6539116565683783577 33 200} {2251695518614610285 33 201} {5877895370705863648 33 202} {4464829591768802141 33 203} {7416645319985784387 33 204} {2282679043956370924 36 205} {5994268712006473589 36 206} {3249537265732935270 36 207}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=207
leader log:
[{snapshot 33 199} {6539116565683783577 33 200} {2251695518614610285 33 201} {5877895370705863648 33 202} {4464829591768802141 33 203} {7416645319985784387 33 204} {2282679043956370924 36 205} {5994268712006473589 36 206} {3249537265732935270 36 207}]
------------------------------------------------------
flag 86326 term 36 leader 1 nextIndex[0]: 208  matchIndex[0]: 207
term 36 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 36 leaderCommit: 207 
------------------------------------------------------
flag 112 term 36 leader 1 nextIndex[2]: 208  matchIndex[2]: 207
term 36 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 36 leaderCommit: 207 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 33 199} {6539116565683783577 33 200} {2251695518614610285 33 201} {5877895370705863648 33 202} {4464829591768802141 33 203} {7416645319985784387 33 204} {2282679043956370924 36 205} {5994268712006473589 36 206} {3249537265732935270 36 207}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=207
leader log:
[{snapshot 33 199} {6539116565683783577 33 200} {2251695518614610285 33 201} {5877895370705863648 33 202} {4464829591768802141 33 203} {7416645319985784387 33 204} {2282679043956370924 36 205} {5994268712006473589 36 206} {3249537265732935270 36 207}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 36 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 15171 term 36 leader 1 nextIndex[0]: 208  matchIndex[0]: 207
term 36 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 36 leaderCommit: 207 
------------------------------------------------------
flag 97836 term 36 leader 1 nextIndex[2]: 208  matchIndex[2]: 207
term 36 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 36 leaderCommit: 207 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 33 199} {6539116565683783577 33 200} {2251695518614610285 33 201} {5877895370705863648 33 202} {4464829591768802141 33 203} {7416645319985784387 33 204} {2282679043956370924 36 205} {5994268712006473589 36 206} {3249537265732935270 36 207}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=207
leader log:
[{snapshot 33 199} {6539116565683783577 33 200} {2251695518614610285 33 201} {5877895370705863648 33 202} {4464829591768802141 33 203} {7416645319985784387 33 204} {2282679043956370924 36 205} {5994268712006473589 36 206} {3249537265732935270 36 207}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16050 term 36 leader 1 nextIndex[0]: 208  matchIndex[0]: 207
term 36 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 36 leaderCommit: 207 
------------------------------------------------------
flag 1415 term 36 leader 1 nextIndex[2]: 208  matchIndex[2]: 207
term 36 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 36 leaderCommit: 207 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 33 199} {6539116565683783577 33 200} {2251695518614610285 33 201} {5877895370705863648 33 202} {4464829591768802141 33 203} {7416645319985784387 33 204} {2282679043956370924 36 205} {5994268712006473589 36 206} {3249537265732935270 36 207}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=207
leader log:
[{snapshot 33 199} {6539116565683783577 33 200} {2251695518614610285 33 201} {5877895370705863648 33 202} {4464829591768802141 33 203} {7416645319985784387 33 204} {2282679043956370924 36 205} {5994268712006473589 36 206} {3249537265732935270 36 207}]
------------------------------------------------------
flag 17394 term 36 leader 1 nextIndex[0]: 208  matchIndex[0]: 207
term 36 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 36 leaderCommit: 207 
------------------------------------------------------
flag 86373 term 36 leader 1 nextIndex[2]: 208  matchIndex[2]: 207
term 36 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 36 leaderCommit: 207 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=207
leader log:
[{snapshot 33 199} {6539116565683783577 33 200} {2251695518614610285 33 201} {5877895370705863648 33 202} {4464829591768802141 33 203} {7416645319985784387 33 204} {2282679043956370924 36 205} {5994268712006473589 36 206} {3249537265732935270 36 207}]
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 33 199} {6539116565683783577 33 200} {2251695518614610285 33 201} {5877895370705863648 33 202} {4464829591768802141 33 203} {7416645319985784387 33 204} {2282679043956370924 36 205} {5994268712006473589 36 206} {3249537265732935270 36 207}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47341 term 36 leader 1 nextIndex[0]: 208  matchIndex[0]: 207
term 36 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 36 leaderCommit: 207 
------------------------------------------------------
flag 63782 term 36 leader 1 nextIndex[2]: 208  matchIndex[2]: 207
term 36 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 36 leaderCommit: 207 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 33 199} {6539116565683783577 33 200} {2251695518614610285 33 201} {5877895370705863648 33 202} {4464829591768802141 33 203} {7416645319985784387 33 204} {2282679043956370924 36 205} {5994268712006473589 36 206} {3249537265732935270 36 207}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=207
leader log:
[{snapshot 33 199} {6539116565683783577 33 200} {2251695518614610285 33 201} {5877895370705863648 33 202} {4464829591768802141 33 203} {7416645319985784387 33 204} {2282679043956370924 36 205} {5994268712006473589 36 206} {3249537265732935270 36 207}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 6866219053939840858 (index 208) to leader 1
flag 64450 term 36 leader 1 nextIndex[0]: 208  matchIndex[0]: 207
term 36 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 36 leaderCommit: 207 
------------------------------------------------------
flag 94502 term 36 leader 1 nextIndex[2]: 208  matchIndex[2]: 207
term 36 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 36 leaderCommit: 207 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=208
leader log:
[{snapshot 33 199} {6539116565683783577 33 200} {2251695518614610285 33 201} {5877895370705863648 33 202} {4464829591768802141 33 203} {7416645319985784387 33 204} {2282679043956370924 36 205} {5994268712006473589 36 206} {3249537265732935270 36 207} {6866219053939840858 36 208}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 208->207
------------------------------------------------------
flag 94900 term 36 leader 1 nextIndex[0]: 209  matchIndex[0]: 208
term 36 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 36 leaderCommit: 208 
------------------------------------------------------
term 36 leader 1 nextIndex[2]: 0  matchIndex[2]: 207
term 36 leader 1 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 33
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=208
leader log:
[{snapshot 33 199} {6539116565683783577 33 200} {2251695518614610285 33 201} {5877895370705863648 33 202} {4464829591768802141 33 203} {7416645319985784387 33 204} {2282679043956370924 36 205} {5994268712006473589 36 206} {3249537265732935270 36 207} {6866219053939840858 36 208}]
------------------------------------------------------
client write log 8766303262255703287 (index 209) to leader 1
client write log 4170825647998409623 (index 210) to leader 1
client write log 5455302116385239833 (index 211) to leader 1
client write log 7969980507464261894 (index 212) to leader 1
client write log 5926875108209221358 (index 213) to leader 1
client write log 8542934262699588839 (index 214) to leader 1
client write log 3119477510126638069 (index 215) to leader 1
client write log 3284885766142846447 (index 216) to leader 1
client write log 1085953829320558787 (index 217) to leader 1
flag 20601 term 36 leader 1 nextIndex[0]: 209  matchIndex[0]: 208
term 36 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 36 leaderCommit: 208 
------------------------------------------------------
term 36 leader 1 nextIndex[2]: 0  matchIndex[2]: 207
term 36 leader 1 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 33
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=217
leader log:
[{snapshot 33 199} {6539116565683783577 33 200} {2251695518614610285 33 201} {5877895370705863648 33 202} {4464829591768802141 33 203} {7416645319985784387 33 204} {2282679043956370924 36 205} {5994268712006473589 36 206} {3249537265732935270 36 207} {6866219053939840858 36 208} {8766303262255703287 36 209} {4170825647998409623 36 210} {5455302116385239833 36 211} {7969980507464261894 36 212} {5926875108209221358 36 213} {8542934262699588839 36 214} {3119477510126638069 36 215} {3284885766142846447 36 216} {1085953829320558787 36 217}]
------------------------------------------------------
term 36 Server1 start snapshot! index=209
term 36 server1 snapshot success
lastIncludedIndex=209 lastApplied=210 lastIndex=217
-------------------------------------------------------------
flag 76286 term 36 leader 1 nextIndex[0]: 218  matchIndex[0]: 217
term 36 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 36 leaderCommit: 217 
------------------------------------------------------
term 36 leader 1 nextIndex[2]: 0  matchIndex[2]: 207
term 36 leader 1 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 36
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=217
leader log:
[{snapshot 36 209} {4170825647998409623 36 210} {5455302116385239833 36 211} {7969980507464261894 36 212} {5926875108209221358 36 213} {8542934262699588839 36 214} {3119477510126638069 36 215} {3284885766142846447 36 216} {1085953829320558787 36 217}]
------------------------------------------------------
term 36 Server0 start snapshot! index=209
term 36 server0 snapshot success
lastIncludedIndex=209 lastApplied=210 lastIndex=217
-------------------------------------------------------------
!!!!!!connect server 2
client write log 3318519871311145938 (index 218) to leader 1
term 36 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 210 matchIndex[2] 209 
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 36 server 1 not vote for server 2, 日志不够新
term 36 server 0 not vote for server 2, 日志不够新
term 38 server 2 vote for server 1
term 38 server 0 vote for server 1
term 38 server 1 get vote from server 2
term 38 server 1 become leader
------------------------------------------------------
term 38 server 1 get outdate rpc reply from server 0
flag 99516 term 38 leader 1 nextIndex[0]: 219  matchIndex[0]: 0
term 38 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 36 leaderCommit: 217 
------------------------------------------------------
flag 56537 term 38 leader 1 nextIndex[2]: 219  matchIndex[2]: 0
term 38 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 36 leaderCommit: 217 
------------------------------------------------------
term 38 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 38 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 219->218
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 219->218
------------------------------------------------------
flag 18089 term 38 leader 1 nextIndex[0]: 218  matchIndex[0]: 0
term 38 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 36 leaderCommit: 217 
------------------------------------------------------
term 38 leader 1 nextIndex[2]: 208  matchIndex[2]: 0
term 38 leader 1 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 36
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=217
leader log:
[{snapshot 36 209} {4170825647998409623 36 210} {5455302116385239833 36 211} {7969980507464261894 36 212} {5926875108209221358 36 213} {8542934262699588839 36 214} {3119477510126638069 36 215} {3284885766142846447 36 216} {1085953829320558787 36 217} {3318519871311145938 36 218}]
------------------------------------------------------
term 38 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 209 rf.lastIncludedTerm 36 rf.commitIndex 209 rf.lastApplied 209
term 38 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 210 matchIndex[2] 209 
------------------------------------------------------------------------
flag 19665 term 38 leader 1 nextIndex[0]: 219  matchIndex[0]: 218
term 38 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 36 leaderCommit: 217 
------------------------------------------------------
flag 79985 term 38 leader 1 nextIndex[2]: 210  matchIndex[2]: 209
term 38 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 36 leaderCommit: 217 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=217
leader log:
[{snapshot 36 209} {4170825647998409623 36 210} {5455302116385239833 36 211} {7969980507464261894 36 212} {5926875108209221358 36 213} {8542934262699588839 36 214} {3119477510126638069 36 215} {3284885766142846447 36 216} {1085953829320558787 36 217} {3318519871311145938 36 218}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=217
leader log:
[{snapshot 36 209} {4170825647998409623 36 210} {5455302116385239833 36 211} {7969980507464261894 36 212} {5926875108209221358 36 213} {8542934262699588839 36 214} {3119477510126638069 36 215} {3284885766142846447 36 216} {1085953829320558787 36 217} {3318519871311145938 36 218}]
------------------------------------------------------
flag 60451 term 38 leader 1 nextIndex[0]: 219  matchIndex[0]: 218
term 38 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 36 leaderCommit: 217 
------------------------------------------------------
flag 22038 term 38 leader 1 nextIndex[2]: 219  matchIndex[2]: 218
term 38 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 36 leaderCommit: 217 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=217
leader log:
[{snapshot 36 209} {4170825647998409623 36 210} {5455302116385239833 36 211} {7969980507464261894 36 212} {5926875108209221358 36 213} {8542934262699588839 36 214} {3119477510126638069 36 215} {3284885766142846447 36 216} {1085953829320558787 36 217} {3318519871311145938 36 218}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=217
leader log:
[{snapshot 36 209} {4170825647998409623 36 210} {5455302116385239833 36 211} {7969980507464261894 36 212} {5926875108209221358 36 213} {8542934262699588839 36 214} {3119477510126638069 36 215} {3284885766142846447 36 216} {1085953829320558787 36 217} {3318519871311145938 36 218}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 38 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 80858 term 38 leader 1 nextIndex[0]: 219  matchIndex[0]: 218
term 38 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 36 leaderCommit: 217 
------------------------------------------------------
flag 17525 term 38 leader 1 nextIndex[2]: 219  matchIndex[2]: 218
term 38 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 36 leaderCommit: 217 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=217
leader log:
[{snapshot 36 209} {4170825647998409623 36 210} {5455302116385239833 36 211} {7969980507464261894 36 212} {5926875108209221358 36 213} {8542934262699588839 36 214} {3119477510126638069 36 215} {3284885766142846447 36 216} {1085953829320558787 36 217} {3318519871311145938 36 218}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=217
leader log:
[{snapshot 36 209} {4170825647998409623 36 210} {5455302116385239833 36 211} {7969980507464261894 36 212} {5926875108209221358 36 213} {8542934262699588839 36 214} {3119477510126638069 36 215} {3284885766142846447 36 216} {1085953829320558787 36 217} {3318519871311145938 36 218}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68182 term 38 leader 1 nextIndex[0]: 219  matchIndex[0]: 218
term 38 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 36 leaderCommit: 217 
------------------------------------------------------
flag 30997 term 38 leader 1 nextIndex[2]: 219  matchIndex[2]: 218
term 38 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 36 leaderCommit: 217 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=217
leader log:
[{snapshot 36 209} {4170825647998409623 36 210} {5455302116385239833 36 211} {7969980507464261894 36 212} {5926875108209221358 36 213} {8542934262699588839 36 214} {3119477510126638069 36 215} {3284885766142846447 36 216} {1085953829320558787 36 217} {3318519871311145938 36 218}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=217
leader log:
[{snapshot 36 209} {4170825647998409623 36 210} {5455302116385239833 36 211} {7969980507464261894 36 212} {5926875108209221358 36 213} {8542934262699588839 36 214} {3119477510126638069 36 215} {3284885766142846447 36 216} {1085953829320558787 36 217} {3318519871311145938 36 218}]
------------------------------------------------------
term 38 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 35433 term 38 leader 1 nextIndex[0]: 219  matchIndex[0]: 218
term 38 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 36 leaderCommit: 217 
------------------------------------------------------
flag 50529 term 38 leader 1 nextIndex[2]: 219  matchIndex[2]: 218
term 38 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 36 leaderCommit: 217 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=217
leader log:
[{snapshot 36 209} {4170825647998409623 36 210} {5455302116385239833 36 211} {7969980507464261894 36 212} {5926875108209221358 36 213} {8542934262699588839 36 214} {3119477510126638069 36 215} {3284885766142846447 36 216} {1085953829320558787 36 217} {3318519871311145938 36 218}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=217
leader log:
[{snapshot 36 209} {4170825647998409623 36 210} {5455302116385239833 36 211} {7969980507464261894 36 212} {5926875108209221358 36 213} {8542934262699588839 36 214} {3119477510126638069 36 215} {3284885766142846447 36 216} {1085953829320558787 36 217} {3318519871311145938 36 218}]
------------------------------------------------------
flag 83310 term 38 leader 1 nextIndex[0]: 219  matchIndex[0]: 218
term 38 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 36 leaderCommit: 217 
------------------------------------------------------
flag 84652 term 38 leader 1 nextIndex[2]: 219  matchIndex[2]: 218
term 38 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 36 leaderCommit: 217 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=217
leader log:
[{snapshot 36 209} {4170825647998409623 36 210} {5455302116385239833 36 211} {7969980507464261894 36 212} {5926875108209221358 36 213} {8542934262699588839 36 214} {3119477510126638069 36 215} {3284885766142846447 36 216} {1085953829320558787 36 217} {3318519871311145938 36 218}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=217
leader log:
[{snapshot 36 209} {4170825647998409623 36 210} {5455302116385239833 36 211} {7969980507464261894 36 212} {5926875108209221358 36 213} {8542934262699588839 36 214} {3119477510126638069 36 215} {3284885766142846447 36 216} {1085953829320558787 36 217} {3318519871311145938 36 218}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47043 term 38 leader 1 nextIndex[0]: 219  matchIndex[0]: 218
term 38 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 36 leaderCommit: 217 
------------------------------------------------------
flag 45456 term 38 leader 1 nextIndex[2]: 219  matchIndex[2]: 218
term 38 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 36 leaderCommit: 217 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:217 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=217
leader log:
[{snapshot 36 209} {4170825647998409623 36 210} {5455302116385239833 36 211} {7969980507464261894 36 212} {5926875108209221358 36 213} {8542934262699588839 36 214} {3119477510126638069 36 215} {3284885766142846447 36 216} {1085953829320558787 36 217} {3318519871311145938 36 218}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=217
leader log:
[{snapshot 36 209} {4170825647998409623 36 210} {5455302116385239833 36 211} {7969980507464261894 36 212} {5926875108209221358 36 213} {8542934262699588839 36 214} {3119477510126638069 36 215} {3284885766142846447 36 216} {1085953829320558787 36 217} {3318519871311145938 36 218}]
------------------------------------------------------
flag 12693 term 38 leader 1 nextIndex[0]: 219  matchIndex[0]: 218
term 38 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 36 leaderCommit: 217 
------------------------------------------------------
flag 69734 term 38 leader 1 nextIndex[2]: 219  matchIndex[2]: 218
term 38 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 36 leaderCommit: 217 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=217
leader log:
[{snapshot 36 209} {4170825647998409623 36 210} {5455302116385239833 36 211} {7969980507464261894 36 212} {5926875108209221358 36 213} {8542934262699588839 36 214} {3119477510126638069 36 215} {3284885766142846447 36 216} {1085953829320558787 36 217} {3318519871311145938 36 218}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=217
leader log:
[{snapshot 36 209} {4170825647998409623 36 210} {5455302116385239833 36 211} {7969980507464261894 36 212} {5926875108209221358 36 213} {8542934262699588839 36 214} {3119477510126638069 36 215} {3284885766142846447 36 216} {1085953829320558787 36 217} {3318519871311145938 36 218}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31570 term 38 leader 1 nextIndex[0]: 219  matchIndex[0]: 218
term 38 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 36 leaderCommit: 217 
------------------------------------------------------
flag 38257 term 38 leader 1 nextIndex[2]: 219  matchIndex[2]: 218
term 38 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 36 leaderCommit: 217 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:217 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=217
leader log:
[{snapshot 36 209} {4170825647998409623 36 210} {5455302116385239833 36 211} {7969980507464261894 36 212} {5926875108209221358 36 213} {8542934262699588839 36 214} {3119477510126638069 36 215} {3284885766142846447 36 216} {1085953829320558787 36 217} {3318519871311145938 36 218}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=217
leader log:
[{snapshot 36 209} {4170825647998409623 36 210} {5455302116385239833 36 211} {7969980507464261894 36 212} {5926875108209221358 36 213} {8542934262699588839 36 214} {3119477510126638069 36 215} {3284885766142846447 36 216} {1085953829320558787 36 217} {3318519871311145938 36 218}]
------------------------------------------------------
flag 72232 term 38 leader 1 nextIndex[0]: 219  matchIndex[0]: 218
term 38 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 36 leaderCommit: 217 
------------------------------------------------------
flag 28293 term 38 leader 1 nextIndex[2]: 219  matchIndex[2]: 218
term 38 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 36 leaderCommit: 217 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:217 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=217
leader log:
[{snapshot 36 209} {4170825647998409623 36 210} {5455302116385239833 36 211} {7969980507464261894 36 212} {5926875108209221358 36 213} {8542934262699588839 36 214} {3119477510126638069 36 215} {3284885766142846447 36 216} {1085953829320558787 36 217} {3318519871311145938 36 218}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=217
leader log:
[{snapshot 36 209} {4170825647998409623 36 210} {5455302116385239833 36 211} {7969980507464261894 36 212} {5926875108209221358 36 213} {8542934262699588839 36 214} {3119477510126638069 36 215} {3284885766142846447 36 216} {1085953829320558787 36 217} {3318519871311145938 36 218}]
------------------------------------------------------
term 38 server 1 not vote for server 0, 任期不够新
term 38 server 0 get outdate rpc reply from server 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65125 term 38 leader 1 nextIndex[0]: 219  matchIndex[0]: 218
term 38 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 36 leaderCommit: 217 
------------------------------------------------------
flag 8123 term 38 leader 1 nextIndex[2]: 219  matchIndex[2]: 218
term 38 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 36 leaderCommit: 217 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=217
leader log:
[{snapshot 36 209} {4170825647998409623 36 210} {5455302116385239833 36 211} {7969980507464261894 36 212} {5926875108209221358 36 213} {8542934262699588839 36 214} {3119477510126638069 36 215} {3284885766142846447 36 216} {1085953829320558787 36 217} {3318519871311145938 36 218}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=217
leader log:
[{snapshot 36 209} {4170825647998409623 36 210} {5455302116385239833 36 211} {7969980507464261894 36 212} {5926875108209221358 36 213} {8542934262699588839 36 214} {3119477510126638069 36 215} {3284885766142846447 36 216} {1085953829320558787 36 217} {3318519871311145938 36 218}]
------------------------------------------------------
flag 89549 term 38 leader 1 nextIndex[0]: 219  matchIndex[0]: 218
term 38 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 36 leaderCommit: 217 
------------------------------------------------------
flag 14804 term 38 leader 1 nextIndex[2]: 219  matchIndex[2]: 218
term 38 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 36 leaderCommit: 217 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=217
leader log:
[{snapshot 36 209} {4170825647998409623 36 210} {5455302116385239833 36 211} {7969980507464261894 36 212} {5926875108209221358 36 213} {8542934262699588839 36 214} {3119477510126638069 36 215} {3284885766142846447 36 216} {1085953829320558787 36 217} {3318519871311145938 36 218}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=217
leader log:
[{snapshot 36 209} {4170825647998409623 36 210} {5455302116385239833 36 211} {7969980507464261894 36 212} {5926875108209221358 36 213} {8542934262699588839 36 214} {3119477510126638069 36 215} {3284885766142846447 36 216} {1085953829320558787 36 217} {3318519871311145938 36 218}]
------------------------------------------------------
flag 10598 term 38 leader 1 nextIndex[0]: 219  matchIndex[0]: 218
term 38 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 36 leaderCommit: 217 
------------------------------------------------------
flag 28698 term 38 leader 1 nextIndex[2]: 219  matchIndex[2]: 218
term 38 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 36 leaderCommit: 217 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=217
leader log:
[{snapshot 36 209} {4170825647998409623 36 210} {5455302116385239833 36 211} {7969980507464261894 36 212} {5926875108209221358 36 213} {8542934262699588839 36 214} {3119477510126638069 36 215} {3284885766142846447 36 216} {1085953829320558787 36 217} {3318519871311145938 36 218}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=217
leader log:
[{snapshot 36 209} {4170825647998409623 36 210} {5455302116385239833 36 211} {7969980507464261894 36 212} {5926875108209221358 36 213} {8542934262699588839 36 214} {3119477510126638069 36 215} {3284885766142846447 36 216} {1085953829320558787 36 217} {3318519871311145938 36 218}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18728 term 38 leader 1 nextIndex[0]: 219  matchIndex[0]: 218
term 38 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 36 leaderCommit: 217 
------------------------------------------------------
flag 24727 term 38 leader 1 nextIndex[2]: 219  matchIndex[2]: 218
term 38 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 36 leaderCommit: 217 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:217 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=217
leader log:
[{snapshot 36 209} {4170825647998409623 36 210} {5455302116385239833 36 211} {7969980507464261894 36 212} {5926875108209221358 36 213} {8542934262699588839 36 214} {3119477510126638069 36 215} {3284885766142846447 36 216} {1085953829320558787 36 217} {3318519871311145938 36 218}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=217
leader log:
[{snapshot 36 209} {4170825647998409623 36 210} {5455302116385239833 36 211} {7969980507464261894 36 212} {5926875108209221358 36 213} {8542934262699588839 36 214} {3119477510126638069 36 215} {3284885766142846447 36 216} {1085953829320558787 36 217} {3318519871311145938 36 218}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73438 term 38 leader 1 nextIndex[0]: 219  matchIndex[0]: 218
term 38 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 36 leaderCommit: 217 
------------------------------------------------------
flag 55199 term 38 leader 1 nextIndex[2]: 219  matchIndex[2]: 218
term 38 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 36 leaderCommit: 217 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=217
leader log:
[{snapshot 36 209} {4170825647998409623 36 210} {5455302116385239833 36 211} {7969980507464261894 36 212} {5926875108209221358 36 213} {8542934262699588839 36 214} {3119477510126638069 36 215} {3284885766142846447 36 216} {1085953829320558787 36 217} {3318519871311145938 36 218}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=217
leader log:
[{snapshot 36 209} {4170825647998409623 36 210} {5455302116385239833 36 211} {7969980507464261894 36 212} {5926875108209221358 36 213} {8542934262699588839 36 214} {3119477510126638069 36 215} {3284885766142846447 36 216} {1085953829320558787 36 217} {3318519871311145938 36 218}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1189 term 38 leader 1 nextIndex[0]: 219  matchIndex[0]: 218
term 38 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 36 leaderCommit: 217 
------------------------------------------------------
flag 20157 term 38 leader 1 nextIndex[2]: 219  matchIndex[2]: 218
term 38 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 36 leaderCommit: 217 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=217
leader log:
[{snapshot 36 209} {4170825647998409623 36 210} {5455302116385239833 36 211} {7969980507464261894 36 212} {5926875108209221358 36 213} {8542934262699588839 36 214} {3119477510126638069 36 215} {3284885766142846447 36 216} {1085953829320558787 36 217} {3318519871311145938 36 218}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=217
leader log:
[{snapshot 36 209} {4170825647998409623 36 210} {5455302116385239833 36 211} {7969980507464261894 36 212} {5926875108209221358 36 213} {8542934262699588839 36 214} {3119477510126638069 36 215} {3284885766142846447 36 216} {1085953829320558787 36 217} {3318519871311145938 36 218}]
------------------------------------------------------
flag 94252 term 38 leader 1 nextIndex[0]: 219  matchIndex[0]: 218
term 38 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 36 leaderCommit: 217 
------------------------------------------------------
flag 37311 term 38 leader 1 nextIndex[2]: 219  matchIndex[2]: 218
term 38 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 36 leaderCommit: 217 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=217
leader log:
[{snapshot 36 209} {4170825647998409623 36 210} {5455302116385239833 36 211} {7969980507464261894 36 212} {5926875108209221358 36 213} {8542934262699588839 36 214} {3119477510126638069 36 215} {3284885766142846447 36 216} {1085953829320558787 36 217} {3318519871311145938 36 218}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=217
leader log:
[{snapshot 36 209} {4170825647998409623 36 210} {5455302116385239833 36 211} {7969980507464261894 36 212} {5926875108209221358 36 213} {8542934262699588839 36 214} {3119477510126638069 36 215} {3284885766142846447 36 216} {1085953829320558787 36 217} {3318519871311145938 36 218}]
------------------------------------------------------
flag 63399 term 38 leader 1 nextIndex[0]: 219  matchIndex[0]: 218
term 38 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 36 leaderCommit: 217 
------------------------------------------------------
flag 10713 term 38 leader 1 nextIndex[2]: 219  matchIndex[2]: 218
term 38 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 36 leaderCommit: 217 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=217
leader log:
[{snapshot 36 209} {4170825647998409623 36 210} {5455302116385239833 36 211} {7969980507464261894 36 212} {5926875108209221358 36 213} {8542934262699588839 36 214} {3119477510126638069 36 215} {3284885766142846447 36 216} {1085953829320558787 36 217} {3318519871311145938 36 218}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=217
leader log:
[{snapshot 36 209} {4170825647998409623 36 210} {5455302116385239833 36 211} {7969980507464261894 36 212} {5926875108209221358 36 213} {8542934262699588839 36 214} {3119477510126638069 36 215} {3284885766142846447 36 216} {1085953829320558787 36 217} {3318519871311145938 36 218}]
------------------------------------------------------
client write log 3318519871311145938 (index 219) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55196 term 38 leader 1 nextIndex[0]: 219  matchIndex[0]: 218
term 38 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 36 leaderCommit: 217 
------------------------------------------------------
flag 76846 term 38 leader 1 nextIndex[2]: 219  matchIndex[2]: 218
term 38 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 36 leaderCommit: 217 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=220
update matchIndex[0]=219
update leader CommitIndex=219
leader log:
[{snapshot 36 209} {4170825647998409623 36 210} {5455302116385239833 36 211} {7969980507464261894 36 212} {5926875108209221358 36 213} {8542934262699588839 36 214} {3119477510126638069 36 215} {3284885766142846447 36 216} {1085953829320558787 36 217} {3318519871311145938 36 218} {3318519871311145938 38 219}]
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=220
update matchIndex[2]=219
update leader CommitIndex=219
leader log:
[{snapshot 36 209} {4170825647998409623 36 210} {5455302116385239833 36 211} {7969980507464261894 36 212} {5926875108209221358 36 213} {8542934262699588839 36 214} {3119477510126638069 36 215} {3284885766142846447 36 216} {1085953829320558787 36 217} {3318519871311145938 36 218} {3318519871311145938 38 219}]
------------------------------------------------------
term 38 Server1 start snapshot! index=219
term 38 server1 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=219
-------------------------------------------------------------
flag 86267 term 38 leader 1 nextIndex[0]: 220  matchIndex[0]: 219
term 38 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 38 leaderCommit: 219 
------------------------------------------------------
flag 56054 term 38 leader 1 nextIndex[2]: 220  matchIndex[2]: 219
term 38 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 38 leaderCommit: 219 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=220
update matchIndex[2]=219
update leader CommitIndex=219
leader log:
[{snapshot 38 219}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=220
update matchIndex[0]=219
update leader CommitIndex=219
leader log:
[{snapshot 38 219}]
------------------------------------------------------
term 38 Server0 start snapshot! index=219
term 38 server0 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=219
-------------------------------------------------------------
term 38 Server2 start snapshot! index=219
term 38 server2 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=219
-------------------------------------------------------------
flag 28427 term 38 leader 1 nextIndex[0]: 220  matchIndex[0]: 219
term 38 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 38 leaderCommit: 219 
------------------------------------------------------
flag 88090 term 38 leader 1 nextIndex[2]: 220  matchIndex[2]: 219
term 38 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 38 leaderCommit: 219 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=220
update matchIndex[2]=219
update leader CommitIndex=219
leader log:
[{snapshot 38 219}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=220
update matchIndex[0]=219
update leader CommitIndex=219
leader log:
[{snapshot 38 219}]
------------------------------------------------------
flag 64527 term 38 leader 1 nextIndex[0]: 220  matchIndex[0]: 219
term 38 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 38 leaderCommit: 219 
------------------------------------------------------
flag 62794 term 38 leader 1 nextIndex[2]: 220  matchIndex[2]: 219
term 38 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 38 leaderCommit: 219 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=220
update matchIndex[0]=219
update leader CommitIndex=219
leader log:
[{snapshot 38 219}]
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=220
update matchIndex[2]=219
update leader CommitIndex=219
leader log:
[{snapshot 38 219}]
------------------------------------------------------
flag 55530 term 38 leader 1 nextIndex[0]: 220  matchIndex[0]: 219
term 38 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 38 leaderCommit: 219 
------------------------------------------------------
flag 36232 term 38 leader 1 nextIndex[2]: 220  matchIndex[2]: 219
term 38 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 38 leaderCommit: 219 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=220
update matchIndex[2]=219
update leader CommitIndex=219
leader log:
[{snapshot 38 219}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=220
update matchIndex[0]=219
update leader CommitIndex=219
leader log:
[{snapshot 38 219}]
------------------------------------------------------
flag 68610 term 38 leader 1 nextIndex[0]: 220  matchIndex[0]: 219
term 38 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 38 leaderCommit: 219 
------------------------------------------------------
flag 93941 term 38 leader 1 nextIndex[2]: 220  matchIndex[2]: 219
term 38 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 38 leaderCommit: 219 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:219 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=220
update matchIndex[2]=219
update leader CommitIndex=219
leader log:
[{snapshot 38 219}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=220
update matchIndex[0]=219
update leader CommitIndex=219
leader log:
[{snapshot 38 219}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 551744592105088018 (index 220) to leader 1
flag 45402 term 38 leader 1 nextIndex[0]: 220  matchIndex[0]: 219
term 38 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 38 leaderCommit: 219 
------------------------------------------------------
flag 6988 term 38 leader 1 nextIndex[2]: 220  matchIndex[2]: 219
term 38 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 38 leaderCommit: 219 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=220
leader log:
[{snapshot 38 219} {551744592105088018 38 220}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94975 term 38 leader 1 nextIndex[0]: 221  matchIndex[0]: 220
term 38 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 38 leaderCommit: 220 
------------------------------------------------------
flag 24130 term 38 leader 1 nextIndex[2]: 220  matchIndex[2]: 219
term 38 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 38 leaderCommit: 220 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=220
leader log:
[{snapshot 38 219} {551744592105088018 38 220}]
------------------------------------------------------
client write log 4441793279753647087 (index 221) to leader 1
client write log 2252153196537173025 (index 222) to leader 1
client write log 7230731291390858447 (index 223) to leader 1
client write log 850696779792116177 (index 224) to leader 1
client write log 8914676650219161741 (index 225) to leader 1
client write log 5235877285561555067 (index 226) to leader 1
client write log 948432508268836836 (index 227) to leader 1
client write log 2942383879235664243 (index 228) to leader 1
flag 60208 term 38 leader 1 nextIndex[0]: 221  matchIndex[0]: 220
term 38 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 38 leaderCommit: 220 
------------------------------------------------------
flag 27166 term 38 leader 1 nextIndex[2]: 220  matchIndex[2]: 219
term 38 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 38 leaderCommit: 220 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=228
leader log:
[{snapshot 38 219} {551744592105088018 38 220} {4441793279753647087 38 221} {2252153196537173025 38 222} {7230731291390858447 38 223} {850696779792116177 38 224} {8914676650219161741 38 225} {5235877285561555067 38 226} {948432508268836836 38 227} {2942383879235664243 38 228}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91010 term 38 leader 1 nextIndex[0]: 229  matchIndex[0]: 228
term 38 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 38 leaderCommit: 228 
------------------------------------------------------
flag 42412 term 38 leader 1 nextIndex[2]: 220  matchIndex[2]: 219
term 38 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 38 leaderCommit: 228 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=228
leader log:
[{snapshot 38 219} {551744592105088018 38 220} {4441793279753647087 38 221} {2252153196537173025 38 222} {7230731291390858447 38 223} {850696779792116177 38 224} {8914676650219161741 38 225} {5235877285561555067 38 226} {948432508268836836 38 227} {2942383879235664243 38 228}]
------------------------------------------------------
!!!!!!connect server 2
client write log 3635131620528728426 (index 229) to leader 1
term 38 server 1 not vote for server 2, 日志不够新
term 38 server 0 not vote for server 2, 日志不够新
term 40 server 2 vote for server 1
term 40 server 1 get vote from server 2
term 40 server 1 become leader
------------------------------------------------------
term 40 server 0 vote for server 1
term 40 server 1 get outdate rpc reply from server 0
flag 87816 term 40 leader 1 nextIndex[0]: 230  matchIndex[0]: 0
term 40 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 38 leaderCommit: 228 
------------------------------------------------------
flag 35386 term 40 leader 1 nextIndex[2]: 230  matchIndex[2]: 0
term 40 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 38 leaderCommit: 228 
------------------------------------------------------
term 40 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 40 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 230->229
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 230->229
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62612 term 40 leader 1 nextIndex[0]: 229  matchIndex[0]: 0
term 40 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 38 leaderCommit: 228 
------------------------------------------------------
flag 69964 term 40 leader 1 nextIndex[2]: 220  matchIndex[2]: 0
term 40 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 38 leaderCommit: 228 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:219 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=228
leader log:
[{snapshot 38 219} {551744592105088018 38 220} {4441793279753647087 38 221} {2252153196537173025 38 222} {7230731291390858447 38 223} {850696779792116177 38 224} {8914676650219161741 38 225} {5235877285561555067 38 226} {948432508268836836 38 227} {2942383879235664243 38 228} {3635131620528728426 38 229}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=228
leader log:
[{snapshot 38 219} {551744592105088018 38 220} {4441793279753647087 38 221} {2252153196537173025 38 222} {7230731291390858447 38 223} {850696779792116177 38 224} {8914676650219161741 38 225} {5235877285561555067 38 226} {948432508268836836 38 227} {2942383879235664243 38 228} {3635131620528728426 38 229}]
------------------------------------------------------
term 40 server 2 not vote for server 1, 任期不够新
term 40 server 1 get outdate rpc reply from server 2
flag 28907 term 40 leader 1 nextIndex[0]: 230  matchIndex[0]: 229
term 40 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 38 leaderCommit: 228 
------------------------------------------------------
flag 75611 term 40 leader 1 nextIndex[2]: 230  matchIndex[2]: 229
term 40 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 38 leaderCommit: 228 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=228
leader log:
[{snapshot 38 219} {551744592105088018 38 220} {4441793279753647087 38 221} {2252153196537173025 38 222} {7230731291390858447 38 223} {850696779792116177 38 224} {8914676650219161741 38 225} {5235877285561555067 38 226} {948432508268836836 38 227} {2942383879235664243 38 228} {3635131620528728426 38 229}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=228
leader log:
[{snapshot 38 219} {551744592105088018 38 220} {4441793279753647087 38 221} {2252153196537173025 38 222} {7230731291390858447 38 223} {850696779792116177 38 224} {8914676650219161741 38 225} {5235877285561555067 38 226} {948432508268836836 38 227} {2942383879235664243 38 228} {3635131620528728426 38 229}]
------------------------------------------------------
flag 44134 term 40 leader 1 nextIndex[0]: 230  matchIndex[0]: 229
term 40 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 38 leaderCommit: 228 
------------------------------------------------------
flag 13433 term 40 leader 1 nextIndex[2]: 230  matchIndex[2]: 229
term 40 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 38 leaderCommit: 228 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=228
leader log:
[{snapshot 38 219} {551744592105088018 38 220} {4441793279753647087 38 221} {2252153196537173025 38 222} {7230731291390858447 38 223} {850696779792116177 38 224} {8914676650219161741 38 225} {5235877285561555067 38 226} {948432508268836836 38 227} {2942383879235664243 38 228} {3635131620528728426 38 229}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=228
leader log:
[{snapshot 38 219} {551744592105088018 38 220} {4441793279753647087 38 221} {2252153196537173025 38 222} {7230731291390858447 38 223} {850696779792116177 38 224} {8914676650219161741 38 225} {5235877285561555067 38 226} {948432508268836836 38 227} {2942383879235664243 38 228} {3635131620528728426 38 229}]
------------------------------------------------------
flag 74446 term 40 leader 1 nextIndex[0]: 230  matchIndex[0]: 229
term 40 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 38 leaderCommit: 228 
------------------------------------------------------
flag 65210 term 40 leader 1 nextIndex[2]: 230  matchIndex[2]: 229
term 40 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 38 leaderCommit: 228 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=228
leader log:
term 40 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
[{snapshot 38 219} {551744592105088018 38 220} {4441793279753647087 38 221} {2252153196537173025 38 222} {7230731291390858447 38 223} {850696779792116177 38 224} {8914676650219161741 38 225} {5235877285561555067 38 226} {948432508268836836 38 227} {2942383879235664243 38 228} {3635131620528728426 38 229}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=228
leader log:
[{snapshot 38 219} {551744592105088018 38 220} {4441793279753647087 38 221} {2252153196537173025 38 222} {7230731291390858447 38 223} {850696779792116177 38 224} {8914676650219161741 38 225} {5235877285561555067 38 226} {948432508268836836 38 227} {2942383879235664243 38 228} {3635131620528728426 38 229}]
------------------------------------------------------
flag 42807 term 40 leader 1 nextIndex[0]: 230  matchIndex[0]: 229
term 40 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 38 leaderCommit: 228 
------------------------------------------------------
flag 20192 term 40 leader 1 nextIndex[2]: 230  matchIndex[2]: 229
term 40 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 38 leaderCommit: 228 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=228
leader log:
[{snapshot 38 219} {551744592105088018 38 220} {4441793279753647087 38 221} {2252153196537173025 38 222} {7230731291390858447 38 223} {850696779792116177 38 224} {8914676650219161741 38 225} {5235877285561555067 38 226} {948432508268836836 38 227} {2942383879235664243 38 228} {3635131620528728426 38 229}]
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=228
leader log:
[{snapshot 38 219} {551744592105088018 38 220} {4441793279753647087 38 221} {2252153196537173025 38 222} {7230731291390858447 38 223} {850696779792116177 38 224} {8914676650219161741 38 225} {5235877285561555067 38 226} {948432508268836836 38 227} {2942383879235664243 38 228} {3635131620528728426 38 229}]
------------------------------------------------------
flag 36031 term 40 leader 1 nextIndex[0]: 230  matchIndex[0]: 229
term 40 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 38 leaderCommit: 228 
------------------------------------------------------
flag 22629 term 40 leader 1 nextIndex[2]: 230  matchIndex[2]: 229
term 40 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 38 leaderCommit: 228 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=228
leader log:
[{snapshot 38 219} {551744592105088018 38 220} {4441793279753647087 38 221} {2252153196537173025 38 222} {7230731291390858447 38 223} {850696779792116177 38 224} {8914676650219161741 38 225} {5235877285561555067 38 226} {948432508268836836 38 227} {2942383879235664243 38 228} {3635131620528728426 38 229}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=228
leader log:
[{snapshot 38 219} {551744592105088018 38 220} {4441793279753647087 38 221} {2252153196537173025 38 222} {7230731291390858447 38 223} {850696779792116177 38 224} {8914676650219161741 38 225} {5235877285561555067 38 226} {948432508268836836 38 227} {2942383879235664243 38 228} {3635131620528728426 38 229}]
------------------------------------------------------
flag 47590 term 40 leader 1 nextIndex[0]: 230  matchIndex[0]: 229
term 40 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 38 leaderCommit: 228 
------------------------------------------------------
flag 70729 term 40 leader 1 nextIndex[2]: 230  matchIndex[2]: 229
term 40 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 38 leaderCommit: 228 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=228
leader log:
[{snapshot 38 219} {551744592105088018 38 220} {4441793279753647087 38 221} {2252153196537173025 38 222} {7230731291390858447 38 223} {850696779792116177 38 224} {8914676650219161741 38 225} {5235877285561555067 38 226} {948432508268836836 38 227} {2942383879235664243 38 228} {3635131620528728426 38 229}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=228
leader log:
[{snapshot 38 219} {551744592105088018 38 220} {4441793279753647087 38 221} {2252153196537173025 38 222} {7230731291390858447 38 223} {850696779792116177 38 224} {8914676650219161741 38 225} {5235877285561555067 38 226} {948432508268836836 38 227} {2942383879235664243 38 228} {3635131620528728426 38 229}]
------------------------------------------------------
flag 1700 term 40 leader 1 nextIndex[0]: 230  matchIndex[0]: 229
term 40 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 38 leaderCommit: 228 
------------------------------------------------------
flag 64394 term 40 leader 1 nextIndex[2]: 230  matchIndex[2]: 229
term 40 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 38 leaderCommit: 228 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=228
leader log:
[{snapshot 38 219} {551744592105088018 38 220} {4441793279753647087 38 221} {2252153196537173025 38 222} {7230731291390858447 38 223} {850696779792116177 38 224} {8914676650219161741 38 225} {5235877285561555067 38 226} {948432508268836836 38 227} {2942383879235664243 38 228} {3635131620528728426 38 229}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=228
leader log:
[{snapshot 38 219} {551744592105088018 38 220} {4441793279753647087 38 221} {2252153196537173025 38 222} {7230731291390858447 38 223} {850696779792116177 38 224} {8914676650219161741 38 225} {5235877285561555067 38 226} {948432508268836836 38 227} {2942383879235664243 38 228} {3635131620528728426 38 229}]
------------------------------------------------------
flag 52922 term 40 leader 1 nextIndex[0]: 230  matchIndex[0]: 229
term 40 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 38 leaderCommit: 228 
------------------------------------------------------
flag 39183 term 40 leader 1 nextIndex[2]: 230  matchIndex[2]: 229
term 40 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 38 leaderCommit: 228 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=228
leader log:
[{snapshot 38 219} {551744592105088018 38 220} {4441793279753647087 38 221} {2252153196537173025 38 222} {7230731291390858447 38 223} {850696779792116177 38 224} {8914676650219161741 38 225} {5235877285561555067 38 226} {948432508268836836 38 227} {2942383879235664243 38 228} {3635131620528728426 38 229}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=228
leader log:
[{snapshot 38 219} {551744592105088018 38 220} {4441793279753647087 38 221} {2252153196537173025 38 222} {7230731291390858447 38 223} {850696779792116177 38 224} {8914676650219161741 38 225} {5235877285561555067 38 226} {948432508268836836 38 227} {2942383879235664243 38 228} {3635131620528728426 38 229}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97729 term 40 leader 1 nextIndex[0]: 230  matchIndex[0]: 229
term 40 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 38 leaderCommit: 228 
------------------------------------------------------
flag 30068 term 40 leader 1 nextIndex[2]: 230  matchIndex[2]: 229
term 40 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 38 leaderCommit: 228 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=228
leader log:
[{snapshot 38 219} {551744592105088018 38 220} {4441793279753647087 38 221} {2252153196537173025 38 222} {7230731291390858447 38 223} {850696779792116177 38 224} {8914676650219161741 38 225} {5235877285561555067 38 226} {948432508268836836 38 227} {2942383879235664243 38 228} {3635131620528728426 38 229}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=228
leader log:
[{snapshot 38 219} {551744592105088018 38 220} {4441793279753647087 38 221} {2252153196537173025 38 222} {7230731291390858447 38 223} {850696779792116177 38 224} {8914676650219161741 38 225} {5235877285561555067 38 226} {948432508268836836 38 227} {2942383879235664243 38 228} {3635131620528728426 38 229}]
------------------------------------------------------
flag 50408 term 40 leader 1 nextIndex[0]: 230  matchIndex[0]: 229
term 40 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 38 leaderCommit: 228 
------------------------------------------------------
flag 58868 term 40 leader 1 nextIndex[2]: 230  matchIndex[2]: 229
term 40 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 38 leaderCommit: 228 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=228
leader log:
[{snapshot 38 219} {551744592105088018 38 220} {4441793279753647087 38 221} {2252153196537173025 38 222} {7230731291390858447 38 223} {850696779792116177 38 224} {8914676650219161741 38 225} {5235877285561555067 38 226} {948432508268836836 38 227} {2942383879235664243 38 228} {3635131620528728426 38 229}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=228
leader log:
[{snapshot 38 219} {551744592105088018 38 220} {4441793279753647087 38 221} {2252153196537173025 38 222} {7230731291390858447 38 223} {850696779792116177 38 224} {8914676650219161741 38 225} {5235877285561555067 38 226} {948432508268836836 38 227} {2942383879235664243 38 228} {3635131620528728426 38 229}]
------------------------------------------------------
term 40 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 40516 term 40 leader 1 nextIndex[0]: 230  matchIndex[0]: 229
term 40 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 38 leaderCommit: 228 
------------------------------------------------------
flag 12298 term 40 leader 1 nextIndex[2]: 230  matchIndex[2]: 229
term 40 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 38 leaderCommit: 228 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=228
leader log:
[{snapshot 38 219} {551744592105088018 38 220} {4441793279753647087 38 221} {2252153196537173025 38 222} {7230731291390858447 38 223} {850696779792116177 38 224} {8914676650219161741 38 225} {5235877285561555067 38 226} {948432508268836836 38 227} {2942383879235664243 38 228} {3635131620528728426 38 229}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=228
leader log:
[{snapshot 38 219} {551744592105088018 38 220} {4441793279753647087 38 221} {2252153196537173025 38 222} {7230731291390858447 38 223} {850696779792116177 38 224} {8914676650219161741 38 225} {5235877285561555067 38 226} {948432508268836836 38 227} {2942383879235664243 38 228} {3635131620528728426 38 229}]
------------------------------------------------------
flag 8753 term 40 leader 1 nextIndex[0]: 230  matchIndex[0]: 229
term 40 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 38 leaderCommit: 228 
------------------------------------------------------
flag 11826 term 40 leader 1 nextIndex[2]: 230  matchIndex[2]: 229
term 40 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 38 leaderCommit: 228 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=228
leader log:
term 40 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
[{snapshot 38 219} {551744592105088018 38 220} {4441793279753647087 38 221} {2252153196537173025 38 222} {7230731291390858447 38 223} {850696779792116177 38 224} {8914676650219161741 38 225} {5235877285561555067 38 226} {948432508268836836 38 227} {2942383879235664243 38 228} {3635131620528728426 38 229}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=228
leader log:
[{snapshot 38 219} {551744592105088018 38 220} {4441793279753647087 38 221} {2252153196537173025 38 222} {7230731291390858447 38 223} {850696779792116177 38 224} {8914676650219161741 38 225} {5235877285561555067 38 226} {948432508268836836 38 227} {2942383879235664243 38 228} {3635131620528728426 38 229}]
------------------------------------------------------
flag 1267 term 40 leader 1 nextIndex[0]: 230  matchIndex[0]: 229
term 40 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 38 leaderCommit: 228 
------------------------------------------------------
flag 98576 term 40 leader 1 nextIndex[2]: 230  matchIndex[2]: 229
term 40 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 38 leaderCommit: 228 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=228
leader log:
[{snapshot 38 219} {551744592105088018 38 220} {4441793279753647087 38 221} {2252153196537173025 38 222} {7230731291390858447 38 223} {850696779792116177 38 224} {8914676650219161741 38 225} {5235877285561555067 38 226} {948432508268836836 38 227} {2942383879235664243 38 228} {3635131620528728426 38 229}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=228
leader log:
[{snapshot 38 219} {551744592105088018 38 220} {4441793279753647087 38 221} {2252153196537173025 38 222} {7230731291390858447 38 223} {850696779792116177 38 224} {8914676650219161741 38 225} {5235877285561555067 38 226} {948432508268836836 38 227} {2942383879235664243 38 228} {3635131620528728426 38 229}]
------------------------------------------------------
flag 83673 term 40 leader 1 nextIndex[0]: 230  matchIndex[0]: 229
term 40 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 38 leaderCommit: 228 
------------------------------------------------------
flag 36285 term 40 leader 1 nextIndex[2]: 230  matchIndex[2]: 229
term 40 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 38 leaderCommit: 228 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=228
leader log:
[{snapshot 38 219} {551744592105088018 38 220} {4441793279753647087 38 221} {2252153196537173025 38 222} {7230731291390858447 38 223} {850696779792116177 38 224} {8914676650219161741 38 225} {5235877285561555067 38 226} {948432508268836836 38 227} {2942383879235664243 38 228} {3635131620528728426 38 229}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=228
leader log:
[{snapshot 38 219} {551744592105088018 38 220} {4441793279753647087 38 221} {2252153196537173025 38 222} {7230731291390858447 38 223} {850696779792116177 38 224} {8914676650219161741 38 225} {5235877285561555067 38 226} {948432508268836836 38 227} {2942383879235664243 38 228} {3635131620528728426 38 229}]
------------------------------------------------------
flag 45649 term 40 leader 1 nextIndex[0]: 230  matchIndex[0]: 229
term 40 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 38 leaderCommit: 228 
------------------------------------------------------
flag 60107 term 40 leader 1 nextIndex[2]: 230  matchIndex[2]: 229
term 40 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 38 leaderCommit: 228 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=228
leader log:
[{snapshot 38 219} {551744592105088018 38 220} {4441793279753647087 38 221} {2252153196537173025 38 222} {7230731291390858447 38 223} {850696779792116177 38 224} {8914676650219161741 38 225} {5235877285561555067 38 226} {948432508268836836 38 227} {2942383879235664243 38 228} {3635131620528728426 38 229}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=228
leader log:
[{snapshot 38 219} {551744592105088018 38 220} {4441793279753647087 38 221} {2252153196537173025 38 222} {7230731291390858447 38 223} {850696779792116177 38 224} {8914676650219161741 38 225} {5235877285561555067 38 226} {948432508268836836 38 227} {2942383879235664243 38 228} {3635131620528728426 38 229}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99757 term 40 leader 1 nextIndex[0]: 230  matchIndex[0]: 229
term 40 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 38 leaderCommit: 228 
------------------------------------------------------
flag 25064 term 40 leader 1 nextIndex[2]: 230  matchIndex[2]: 229
term 40 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 38 leaderCommit: 228 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=228
leader log:
[{snapshot 38 219} {551744592105088018 38 220} {4441793279753647087 38 221} {2252153196537173025 38 222} {7230731291390858447 38 223} {850696779792116177 38 224} {8914676650219161741 38 225} {5235877285561555067 38 226} {948432508268836836 38 227} {2942383879235664243 38 228} {3635131620528728426 38 229}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=228
leader log:
[{snapshot 38 219} {551744592105088018 38 220} {4441793279753647087 38 221} {2252153196537173025 38 222} {7230731291390858447 38 223} {850696779792116177 38 224} {8914676650219161741 38 225} {5235877285561555067 38 226} {948432508268836836 38 227} {2942383879235664243 38 228} {3635131620528728426 38 229}]
------------------------------------------------------
flag 51152 term 40 leader 1 nextIndex[0]: 230  matchIndex[0]: 229
term 40 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 38 leaderCommit: 228 
------------------------------------------------------
flag 92449 term 40 leader 1 nextIndex[2]: 230  matchIndex[2]: 229
term 40 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 38 leaderCommit: 228 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=228
leader log:
[{snapshot 38 219} {551744592105088018 38 220} {4441793279753647087 38 221} {2252153196537173025 38 222} {7230731291390858447 38 223} {850696779792116177 38 224} {8914676650219161741 38 225} {5235877285561555067 38 226} {948432508268836836 38 227} {2942383879235664243 38 228} {3635131620528728426 38 229}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=228
leader log:
[{snapshot 38 219} {551744592105088018 38 220} {4441793279753647087 38 221} {2252153196537173025 38 222} {7230731291390858447 38 223} {850696779792116177 38 224} {8914676650219161741 38 225} {5235877285561555067 38 226} {948432508268836836 38 227} {2942383879235664243 38 228} {3635131620528728426 38 229}]
------------------------------------------------------
flag 90963 term 40 leader 1 nextIndex[0]: 230  matchIndex[0]: 229
term 40 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 38 leaderCommit: 228 
------------------------------------------------------
flag 37596 term 40 leader 1 nextIndex[2]: 230  matchIndex[2]: 229
term 40 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 38 leaderCommit: 228 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=228
leader log:
[{snapshot 38 219} {551744592105088018 38 220} {4441793279753647087 38 221} {2252153196537173025 38 222} {7230731291390858447 38 223} {850696779792116177 38 224} {8914676650219161741 38 225} {5235877285561555067 38 226} {948432508268836836 38 227} {2942383879235664243 38 228} {3635131620528728426 38 229}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=228
leader log:
[{snapshot 38 219} {551744592105088018 38 220} {4441793279753647087 38 221} {2252153196537173025 38 222} {7230731291390858447 38 223} {850696779792116177 38 224} {8914676650219161741 38 225} {5235877285561555067 38 226} {948432508268836836 38 227} {2942383879235664243 38 228} {3635131620528728426 38 229}]
------------------------------------------------------
client write log 3635131620528728426 (index 230) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25081 term 40 leader 1 nextIndex[0]: 230  matchIndex[0]: 229
term 40 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 38 leaderCommit: 228 
------------------------------------------------------
flag 20519 term 40 leader 1 nextIndex[2]: 230  matchIndex[2]: 229
term 40 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 38 leaderCommit: 228 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 219} {551744592105088018 38 220} {4441793279753647087 38 221} {2252153196537173025 38 222} {7230731291390858447 38 223} {850696779792116177 38 224} {8914676650219161741 38 225} {5235877285561555067 38 226} {948432508268836836 38 227} {2942383879235664243 38 228} {3635131620528728426 38 229} {3635131620528728426 40 230}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 219} {551744592105088018 38 220} {4441793279753647087 38 221} {2252153196537173025 38 222} {7230731291390858447 38 223} {850696779792116177 38 224} {8914676650219161741 38 225} {5235877285561555067 38 226} {948432508268836836 38 227} {2942383879235664243 38 228} {3635131620528728426 38 229} {3635131620528728426 40 230}]
------------------------------------------------------
term 40 Server1 start snapshot! index=229
term 40 server1 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=230
-------------------------------------------------------------
flag 22632 term 40 leader 1 nextIndex[0]: 231  matchIndex[0]: 230
term 40 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 40 leaderCommit: 230 
------------------------------------------------------
flag 64790 term 40 leader 1 nextIndex[2]: 231  matchIndex[2]: 230
term 40 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 40 leaderCommit: 230 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {3635131620528728426 40 230}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {3635131620528728426 40 230}]
------------------------------------------------------
term 40 Server0 start snapshot! index=229
term 40 server0 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=230
-------------------------------------------------------------
term 40 Server2 start snapshot! index=229
term 40 server2 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=230
-------------------------------------------------------------
flag 72190 term 40 leader 1 nextIndex[0]: 231  matchIndex[0]: 230
term 40 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 40 leaderCommit: 230 
------------------------------------------------------
flag 91784 term 40 leader 1 nextIndex[2]: 231  matchIndex[2]: 230
term 40 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 40 leaderCommit: 230 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {3635131620528728426 40 230}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {3635131620528728426 40 230}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54332 term 40 leader 1 nextIndex[0]: 231  matchIndex[0]: 230
term 40 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 40 leaderCommit: 230 
------------------------------------------------------
flag 68885 term 40 leader 1 nextIndex[2]: 231  matchIndex[2]: 230
term 40 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 40 leaderCommit: 230 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {3635131620528728426 40 230}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {3635131620528728426 40 230}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6235 term 40 leader 1 nextIndex[0]: 231  matchIndex[0]: 230
term 40 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 40 leaderCommit: 230 
------------------------------------------------------
flag 53377 term 40 leader 1 nextIndex[2]: 231  matchIndex[2]: 230
term 40 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 40 leaderCommit: 230 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {3635131620528728426 40 230}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {3635131620528728426 40 230}]
------------------------------------------------------
flag 48308 term 40 leader 1 nextIndex[0]: 231  matchIndex[0]: 230
term 40 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 40 leaderCommit: 230 
------------------------------------------------------
flag 48378 term 40 leader 1 nextIndex[2]: 231  matchIndex[2]: 230
term 40 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 40 leaderCommit: 230 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {3635131620528728426 40 230}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {3635131620528728426 40 230}]
------------------------------------------------------
flag 66947 term 40 leader 1 nextIndex[0]: 231  matchIndex[0]: 230
term 40 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 40 leaderCommit: 230 
------------------------------------------------------
flag 23652 term 40 leader 1 nextIndex[2]: 231  matchIndex[2]: 230
term 40 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 40 leaderCommit: 230 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {3635131620528728426 40 230}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {3635131620528728426 40 230}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 69925 term 40 leader 1 nextIndex[0]: 231  matchIndex[0]: 230
term 40 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 40 leaderCommit: 230 
------------------------------------------------------
flag 23550 term 40 leader 1 nextIndex[2]: 231  matchIndex[2]: 230
term 40 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 40 leaderCommit: 230 
------------------------------------------------------
flag 82132 term 40 leader 1 nextIndex[0]: 231  matchIndex[0]: 230
term 40 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 40 leaderCommit: 230 
------------------------------------------------------
flag 3411 term 40 leader 1 nextIndex[2]: 231  matchIndex[2]: 230
term 40 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 40 leaderCommit: 230 
------------------------------------------------------
flag 30381 term 40 leader 1 nextIndex[0]: 231  matchIndex[0]: 230
term 40 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 40 leaderCommit: 230 
------------------------------------------------------
flag 3221 term 40 leader 1 nextIndex[2]: 231  matchIndex[2]: 230
term 40 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 40 leaderCommit: 230 
------------------------------------------------------
term 41 server 0 vote for server 2
term 41 server 2 get vote from server 0
term 41 server 2 become leader
------------------------------------------------------
client write log 7175917158514322463 (index 231) to leader 2
flag 1245 term 41 leader 2 nextIndex[0]: 231  matchIndex[0]: 0
term 41 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 40 leaderCommit: 230 
------------------------------------------------------
flag 78948 term 41 leader 2 nextIndex[1]: 231  matchIndex[1]: 0
term 41 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 40 leaderCommit: 230 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=231
leader log:
[{snapshot 38 229} {3635131620528728426 40 230} {7175917158514322463 41 231}]
------------------------------------------------------
flag 51055 term 40 leader 1 nextIndex[0]: 231  matchIndex[0]: 230
term 40 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 40 leaderCommit: 230 
------------------------------------------------------
flag 40395 term 40 leader 1 nextIndex[2]: 231  matchIndex[2]: 230
term 40 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 40 leaderCommit: 230 
------------------------------------------------------
flag 70202 term 41 leader 2 nextIndex[0]: 232  matchIndex[0]: 231
term 41 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 41 leaderCommit: 231 
------------------------------------------------------
flag 79011 term 41 leader 2 nextIndex[1]: 231  matchIndex[1]: 0
term 41 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 40 leaderCommit: 231 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=231
leader log:
[{snapshot 38 229} {3635131620528728426 40 230} {7175917158514322463 41 231}]
------------------------------------------------------
client write log 7049510165255390817 (index 232) to leader 2
client write log 4088665270242380258 (index 233) to leader 2
client write log 5563362966765090216 (index 234) to leader 2
client write log 828488013845718983 (index 235) to leader 2
client write log 7342639640975200075 (index 236) to leader 2
client write log 1856938535946493041 (index 237) to leader 2
client write log 5461243144644887809 (index 238) to leader 2
client write log 6268761094725744659 (index 239) to leader 2
client write log 3363000354438787289 (index 240) to leader 2
client write log 7496858974059246199 (index 241) to leader 2
flag 91651 term 40 leader 1 nextIndex[0]: 231  matchIndex[0]: 230
term 40 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 40 leaderCommit: 230 
------------------------------------------------------
flag 50367 term 40 leader 1 nextIndex[2]: 231  matchIndex[2]: 230
term 40 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 40 leaderCommit: 230 
------------------------------------------------------
flag 43256 term 41 leader 2 nextIndex[0]: 232  matchIndex[0]: 231
term 41 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 41 leaderCommit: 231 
------------------------------------------------------
flag 16695 term 41 leader 2 nextIndex[1]: 231  matchIndex[1]: 0
term 41 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 40 leaderCommit: 231 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=241
leader log:
[{snapshot 38 229} {3635131620528728426 40 230} {7175917158514322463 41 231} {7049510165255390817 41 232} {4088665270242380258 41 233} {5563362966765090216 41 234} {828488013845718983 41 235} {7342639640975200075 41 236} {1856938535946493041 41 237} {5461243144644887809 41 238} {6268761094725744659 41 239} {3363000354438787289 41 240} {7496858974059246199 41 241}]
------------------------------------------------------
term 41 Server2 start snapshot! index=239
term 41 server2 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=241
-------------------------------------------------------------
flag 15322 term 40 leader 1 nextIndex[0]: 231  matchIndex[0]: 230
term 40 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 40 leaderCommit: 230 
------------------------------------------------------
flag 81972 term 40 leader 1 nextIndex[2]: 231  matchIndex[2]: 230
term 40 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 40 leaderCommit: 230 
------------------------------------------------------
flag 87104 term 41 leader 2 nextIndex[0]: 242  matchIndex[0]: 241
term 41 leader 2 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 41 leaderCommit: 241 
------------------------------------------------------
term 41 leader 2 nextIndex[1]: 231  matchIndex[1]: 0
term 41 leader 2 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 41
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=241
leader log:
[{snapshot 41 239} {3363000354438787289 41 240} {7496858974059246199 41 241}]
------------------------------------------------------
term 41 Server0 start snapshot! index=239
term 41 server0 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=241
-------------------------------------------------------------
!!!!!!connect server 1
client write log 4697895704379833603 (index 231) to leader 1
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 231->230
------------------------------------------------------
term 40 leader 1 nextIndex[0]: 0  matchIndex[0]: 230
term 40 leader 1 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 38
------------------------------------------------------
flag 29034 term 40 leader 1 nextIndex[2]: 231  matchIndex[2]: 230
term 40 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 40 leaderCommit: 230 
------------------------------------------------------
term 41 server 2 AppendEntries false 领导者任期过期 args.Term 40
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 41 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 41 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 41 server 2 not vote for server 0, 任期不够新
term 41 server 0 get outdate rpc reply from server 2
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 231->230
------------------------------------------------------
flag 60292 term 41 leader 2 nextIndex[0]: 242  matchIndex[0]: 241
term 41 leader 2 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 41 leaderCommit: 241 
------------------------------------------------------
term 41 leader 2 nextIndex[1]: 0  matchIndex[1]: 0
term 41 leader 2 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 41
------------------------------------------------------
term 41 server 1 InstallSnapshot success
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 239 rf.lastIncludedTerm 41 rf.commitIndex 239 rf.lastApplied 239
term 41 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 240 matchIndex[1] 239 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=241
leader log:
[{snapshot 41 239} {3363000354438787289 41 240} {7496858974059246199 41 241}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 240->239
------------------------------------------------------
flag 53586 term 41 leader 2 nextIndex[0]: 242  matchIndex[0]: 241
term 41 leader 2 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 41 leaderCommit: 241 
------------------------------------------------------
term 41 leader 2 nextIndex[1]: 0  matchIndex[1]: 239
term 41 leader 2 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 41
------------------------------------------------------
term 41 server 1 InstallSnapshot fail
rf.commitIndex 239 args.LastIncludedIndex 239
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
term 41 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 240 matchIndex[1] 239 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=241
leader log:
[{snapshot 41 239} {3363000354438787289 41 240} {7496858974059246199 41 241}]
------------------------------------------------------
flag 23590 term 41 leader 2 nextIndex[0]: 242  matchIndex[0]: 241
term 41 leader 2 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 41 leaderCommit: 241 
------------------------------------------------------
flag 39777 term 41 leader 2 nextIndex[1]: 240  matchIndex[1]: 239
term 41 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 41 leaderCommit: 241 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=242
update matchIndex[1]=241
update leader CommitIndex=241
leader log:
[{snapshot 41 239} {3363000354438787289 41 240} {7496858974059246199 41 241}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=241
leader log:
[{snapshot 41 239} {3363000354438787289 41 240} {7496858974059246199 41 241}]
------------------------------------------------------
term 41 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 54500 term 41 leader 2 nextIndex[0]: 242  matchIndex[0]: 241
term 41 leader 2 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 41 leaderCommit: 241 
------------------------------------------------------
flag 61640 term 41 leader 2 nextIndex[1]: 242  matchIndex[1]: 241
term 41 leader 2 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 41 leaderCommit: 241 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=242
update matchIndex[1]=241
update leader CommitIndex=241
leader log:
[{snapshot 41 239} {3363000354438787289 41 240} {7496858974059246199 41 241}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=241
leader log:
[{snapshot 41 239} {3363000354438787289 41 240} {7496858974059246199 41 241}]
------------------------------------------------------
flag 73295 term 41 leader 2 nextIndex[0]: 242  matchIndex[0]: 241
term 41 leader 2 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 41 leaderCommit: 241 
------------------------------------------------------
flag 45774 term 41 leader 2 nextIndex[1]: 242  matchIndex[1]: 241
term 41 leader 2 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 41 leaderCommit: 241 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=242
update matchIndex[1]=241
update leader CommitIndex=241
leader log:
term 41 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
[{snapshot 41 239} {3363000354438787289 41 240} {7496858974059246199 41 241}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=241
leader log:
[{snapshot 41 239} {3363000354438787289 41 240} {7496858974059246199 41 241}]
------------------------------------------------------
flag 67834 term 41 leader 2 nextIndex[0]: 242  matchIndex[0]: 241
term 41 leader 2 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 41 leaderCommit: 241 
------------------------------------------------------
flag 69019 term 41 leader 2 nextIndex[1]: 242  matchIndex[1]: 241
term 41 leader 2 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 41 leaderCommit: 241 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:241 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=242
update matchIndex[1]=241
update leader CommitIndex=241
leader log:
[{snapshot 41 239} {3363000354438787289 41 240} {7496858974059246199 41 241}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=241
leader log:
[{snapshot 41 239} {3363000354438787289 41 240} {7496858974059246199 41 241}]
------------------------------------------------------
flag 80956 term 41 leader 2 nextIndex[0]: 242  matchIndex[0]: 241
term 41 leader 2 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 41 leaderCommit: 241 
------------------------------------------------------
flag 44214 term 41 leader 2 nextIndex[1]: 242  matchIndex[1]: 241
term 41 leader 2 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 41 leaderCommit: 241 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=241
leader log:
[{snapshot 41 239} {3363000354438787289 41 240} {7496858974059246199 41 241}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=242
update matchIndex[1]=241
update leader CommitIndex=241
leader log:
[{snapshot 41 239} {3363000354438787289 41 240} {7496858974059246199 41 241}]
------------------------------------------------------
flag 50248 term 41 leader 2 nextIndex[0]: 242  matchIndex[0]: 241
term 41 leader 2 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 41 leaderCommit: 241 
------------------------------------------------------
flag 63976 term 41 leader 2 nextIndex[1]: 242  matchIndex[1]: 241
term 41 leader 2 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 41 leaderCommit: 241 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=242
update matchIndex[1]=241
update leader CommitIndex=241
leader log:
[{snapshot 41 239} {3363000354438787289 41 240} {7496858974059246199 41 241}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=241
leader log:
[{snapshot 41 239} {3363000354438787289 41 240} {7496858974059246199 41 241}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 242->241
------------------------------------------------------
flag 38037 term 41 leader 2 nextIndex[0]: 242  matchIndex[0]: 241
term 41 leader 2 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 41 leaderCommit: 241 
------------------------------------------------------
term 41 leader 2 nextIndex[1]: 0  matchIndex[1]: 241
term 41 leader 2 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 41
------------------------------------------------------
term 41 server 1 InstallSnapshot fail
rf.commitIndex 241 args.LastIncludedIndex 239
------------------------------------------------------
term 41 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 240 matchIndex[1] 239 
------------------------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=241
leader log:
[{snapshot 41 239} {3363000354438787289 41 240} {7496858974059246199 41 241}]
------------------------------------------------------
flag 9813 term 41 leader 2 nextIndex[0]: 242  matchIndex[0]: 241
term 41 leader 2 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 41 leaderCommit: 241 
------------------------------------------------------
flag 5340 term 41 leader 2 nextIndex[1]: 240  matchIndex[1]: 239
term 41 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 41 leaderCommit: 241 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=242
update matchIndex[1]=241
update leader CommitIndex=241
leader log:
[{snapshot 41 239} {3363000354438787289 41 240} {7496858974059246199 41 241}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=241
leader log:
[{snapshot 41 239} {3363000354438787289 41 240} {7496858974059246199 41 241}]
------------------------------------------------------
flag 66995 term 41 leader 2 nextIndex[0]: 242  matchIndex[0]: 241
term 41 leader 2 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 41 leaderCommit: 241 
------------------------------------------------------
flag 62284 term 41 leader 2 nextIndex[1]: 242  matchIndex[1]: 241
term 41 leader 2 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 41 leaderCommit: 241 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=242
update matchIndex[1]=241
update leader CommitIndex=241
leader log:
[{snapshot 41 239} {3363000354438787289 41 240} {7496858974059246199 41 241}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=241
leader log:
[{snapshot 41 239} {3363000354438787289 41 240} {7496858974059246199 41 241}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65399 term 41 leader 2 nextIndex[0]: 242  matchIndex[0]: 241
term 41 leader 2 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 41 leaderCommit: 241 
------------------------------------------------------
flag 33916 term 41 leader 2 nextIndex[1]: 242  matchIndex[1]: 241
term 41 leader 2 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 41 leaderCommit: 241 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:241 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=242
update matchIndex[1]=241
update leader CommitIndex=241
leader log:
[{snapshot 41 239} {3363000354438787289 41 240} {7496858974059246199 41 241}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=241
leader log:
[{snapshot 41 239} {3363000354438787289 41 240} {7496858974059246199 41 241}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42924 term 41 leader 2 nextIndex[0]: 242  matchIndex[0]: 241
term 41 leader 2 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 41 leaderCommit: 241 
------------------------------------------------------
flag 30982 term 41 leader 2 nextIndex[1]: 242  matchIndex[1]: 241
term 41 leader 2 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 41 leaderCommit: 241 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:241 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=242
update matchIndex[1]=241
update leader CommitIndex=241
leader log:
[{snapshot 41 239} {3363000354438787289 41 240} {7496858974059246199 41 241}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=241
leader log:
[{snapshot 41 239} {3363000354438787289 41 240} {7496858974059246199 41 241}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65634 term 41 leader 2 nextIndex[0]: 242  matchIndex[0]: 241
term 41 leader 2 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 41 leaderCommit: 241 
------------------------------------------------------
flag 72449 term 41 leader 2 nextIndex[1]: 242  matchIndex[1]: 241
term 41 leader 2 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 41 leaderCommit: 241 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=242
update matchIndex[1]=241
update leader CommitIndex=241
leader log:
[{snapshot 41 239} {3363000354438787289 41 240} {7496858974059246199 41 241}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=241
leader log:
[{snapshot 41 239} {3363000354438787289 41 240} {7496858974059246199 41 241}]
------------------------------------------------------
flag 90471 term 41 leader 2 nextIndex[0]: 242  matchIndex[0]: 241
term 41 leader 2 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 41 leaderCommit: 241 
------------------------------------------------------
flag 98584 term 41 leader 2 nextIndex[1]: 242  matchIndex[1]: 241
term 41 leader 2 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 41 leaderCommit: 241 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:241 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=242
update matchIndex[1]=241
update leader CommitIndex=241
leader log:
[{snapshot 41 239} {3363000354438787289 41 240} {7496858974059246199 41 241}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=241
leader log:
[{snapshot 41 239} {3363000354438787289 41 240} {7496858974059246199 41 241}]
------------------------------------------------------
flag 88535 term 41 leader 2 nextIndex[0]: 242  matchIndex[0]: 241
term 41 leader 2 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 41 leaderCommit: 241 
------------------------------------------------------
flag 23047 term 41 leader 2 nextIndex[1]: 242  matchIndex[1]: 241
term 41 leader 2 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 41 leaderCommit: 241 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:241 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=242
update matchIndex[1]=241
update leader CommitIndex=241
leader log:
[{snapshot 41 239} {3363000354438787289 41 240} {7496858974059246199 41 241}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=241
leader log:
[{snapshot 41 239} {3363000354438787289 41 240} {7496858974059246199 41 241}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28882 term 41 leader 2 nextIndex[0]: 242  matchIndex[0]: 241
term 41 leader 2 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 41 leaderCommit: 241 
------------------------------------------------------
flag 93077 term 41 leader 2 nextIndex[1]: 242  matchIndex[1]: 241
term 41 leader 2 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 41 leaderCommit: 241 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=242
update matchIndex[1]=241
update leader CommitIndex=241
leader log:
[{snapshot 41 239} {3363000354438787289 41 240} {7496858974059246199 41 241}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=241
leader log:
[{snapshot 41 239} {3363000354438787289 41 240} {7496858974059246199 41 241}]
------------------------------------------------------
flag 53458 term 41 leader 2 nextIndex[0]: 242  matchIndex[0]: 241
term 41 leader 2 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 41 leaderCommit: 241 
------------------------------------------------------
flag 89477 term 41 leader 2 nextIndex[1]: 242  matchIndex[1]: 241
term 41 leader 2 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 41 leaderCommit: 241 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=242
update matchIndex[1]=241
update leader CommitIndex=241
leader log:
[{snapshot 41 239} {3363000354438787289 41 240} {7496858974059246199 41 241}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=241
leader log:
[{snapshot 41 239} {3363000354438787289 41 240} {7496858974059246199 41 241}]
------------------------------------------------------
flag 37494 term 41 leader 2 nextIndex[0]: 242  matchIndex[0]: 241
term 41 leader 2 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 41 leaderCommit: 241 
------------------------------------------------------
flag 68500 term 41 leader 2 nextIndex[1]: 242  matchIndex[1]: 241
term 41 leader 2 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 41 leaderCommit: 241 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:241 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=242
update matchIndex[1]=241
update leader CommitIndex=241
leader log:
[{snapshot 41 239} {3363000354438787289 41 240} {7496858974059246199 41 241}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=241
leader log:
[{snapshot 41 239} {3363000354438787289 41 240} {7496858974059246199 41 241}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2444 term 41 leader 2 nextIndex[0]: 242  matchIndex[0]: 241
term 41 leader 2 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 41 leaderCommit: 241 
------------------------------------------------------
flag 52609 term 41 leader 2 nextIndex[1]: 242  matchIndex[1]: 241
term 41 leader 2 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 41 leaderCommit: 241 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=241
leader log:
[{snapshot 41 239} {3363000354438787289 41 240} {7496858974059246199 41 241}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=242
update matchIndex[1]=241
update leader CommitIndex=241
leader log:
[{snapshot 41 239} {3363000354438787289 41 240} {7496858974059246199 41 241}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 4697895704379833603 (index 242) to leader 2
flag 86901 term 41 leader 2 nextIndex[0]: 242  matchIndex[0]: 241
term 41 leader 2 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 41 leaderCommit: 241 
------------------------------------------------------
flag 6460 term 41 leader 2 nextIndex[1]: 242  matchIndex[1]: 241
term 41 leader 2 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 41 leaderCommit: 241 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=242
leader log:
[{snapshot 41 239} {3363000354438787289 41 240} {7496858974059246199 41 241} {4697895704379833603 41 242}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=242
leader log:
[{snapshot 41 239} {3363000354438787289 41 240} {7496858974059246199 41 241} {4697895704379833603 41 242}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18981 term 41 leader 2 nextIndex[0]: 243  matchIndex[0]: 242
term 41 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 41 leaderCommit: 242 
------------------------------------------------------
flag 85870 term 41 leader 2 nextIndex[1]: 243  matchIndex[1]: 242
term 41 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 41 leaderCommit: 242 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=242
leader log:
[{snapshot 41 239} {3363000354438787289 41 240} {7496858974059246199 41 241} {4697895704379833603 41 242}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=242
leader log:
[{snapshot 41 239} {3363000354438787289 41 240} {7496858974059246199 41 241} {4697895704379833603 41 242}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55634 term 41 leader 2 nextIndex[0]: 243  matchIndex[0]: 242
term 41 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 41 leaderCommit: 242 
------------------------------------------------------
flag 16168 term 41 leader 2 nextIndex[1]: 243  matchIndex[1]: 242
term 41 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 41 leaderCommit: 242 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=242
leader log:
[{snapshot 41 239} {3363000354438787289 41 240} {7496858974059246199 41 241} {4697895704379833603 41 242}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=242
leader log:
[{snapshot 41 239} {3363000354438787289 41 240} {7496858974059246199 41 241} {4697895704379833603 41 242}]
------------------------------------------------------
flag 9221 term 41 leader 2 nextIndex[0]: 243  matchIndex[0]: 242
term 41 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 41 leaderCommit: 242 
------------------------------------------------------
flag 8869 term 41 leader 2 nextIndex[1]: 243  matchIndex[1]: 242
term 41 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 41 leaderCommit: 242 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=242
leader log:
[{snapshot 41 239} {3363000354438787289 41 240} {7496858974059246199 41 241} {4697895704379833603 41 242}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=242
leader log:
[{snapshot 41 239} {3363000354438787289 41 240} {7496858974059246199 41 241} {4697895704379833603 41 242}]
------------------------------------------------------
term 41 server 1 not vote for server 2, 日志不够新
term 41 server 2 get outdate rpc reply from server 1
flag 88083 term 41 leader 2 nextIndex[0]: 243  matchIndex[0]: 242
term 41 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 41 leaderCommit: 242 
------------------------------------------------------
flag 13250 term 41 leader 2 nextIndex[1]: 243  matchIndex[1]: 242
term 41 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 41 leaderCommit: 242 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=242
leader log:
[{snapshot 41 239} {3363000354438787289 41 240} {7496858974059246199 41 241} {4697895704379833603 41 242}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=242
leader log:
[{snapshot 41 239} {3363000354438787289 41 240} {7496858974059246199 41 241} {4697895704379833603 41 242}]
------------------------------------------------------
flag 64881 term 41 leader 2 nextIndex[0]: 243  matchIndex[0]: 242
term 41 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 41 leaderCommit: 242 
------------------------------------------------------
flag 510 term 41 leader 2 nextIndex[1]: 243  matchIndex[1]: 242
term 41 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 41 leaderCommit: 242 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=242
leader log:
[{snapshot 41 239} {3363000354438787289 41 240} {7496858974059246199 41 241} {4697895704379833603 41 242}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=242
leader log:
[{snapshot 41 239} {3363000354438787289 41 240} {7496858974059246199 41 241} {4697895704379833603 41 242}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 8784898758524910627 (index 243) to leader 2
flag 84054 term 41 leader 2 nextIndex[0]: 243  matchIndex[0]: 242
term 41 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 41 leaderCommit: 242 
------------------------------------------------------
flag 1793 term 41 leader 2 nextIndex[1]: 243  matchIndex[1]: 242
term 41 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 41 leaderCommit: 242 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=243
leader log:
[{snapshot 41 239} {3363000354438787289 41 240} {7496858974059246199 41 241} {4697895704379833603 41 242} {8784898758524910627 41 243}]
------------------------------------------------------
flag 83213 term 41 leader 2 nextIndex[0]: 243  matchIndex[0]: 242
term 41 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 41 leaderCommit: 243 
------------------------------------------------------
flag 89920 term 41 leader 2 nextIndex[1]: 244  matchIndex[1]: 243
term 41 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 41 leaderCommit: 243 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=243
leader log:
[{snapshot 41 239} {3363000354438787289 41 240} {7496858974059246199 41 241} {4697895704379833603 41 242} {8784898758524910627 41 243}]
------------------------------------------------------
client write log 9205168987673296178 (index 244) to leader 2
client write log 5366828959036400080 (index 245) to leader 2
client write log 2995657346209485560 (index 246) to leader 2
client write log 4260433667209206078 (index 247) to leader 2
client write log 8438247662885383555 (index 248) to leader 2
client write log 3949184029928646045 (index 249) to leader 2
client write log 6452652460274355350 (index 250) to leader 2
flag 80522 term 41 leader 2 nextIndex[0]: 243  matchIndex[0]: 242
term 41 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 41 leaderCommit: 243 
------------------------------------------------------
flag 85253 term 41 leader 2 nextIndex[1]: 244  matchIndex[1]: 243
term 41 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 41 leaderCommit: 243 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=250
leader log:
[{snapshot 41 239} {3363000354438787289 41 240} {7496858974059246199 41 241} {4697895704379833603 41 242} {8784898758524910627 41 243} {9205168987673296178 41 244} {5366828959036400080 41 245} {2995657346209485560 41 246} {4260433667209206078 41 247} {8438247662885383555 41 248} {3949184029928646045 41 249} {6452652460274355350 41 250}]
------------------------------------------------------
term 41 Server2 start snapshot! index=249
term 41 server2 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=250
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 41 leader 2 nextIndex[0]: 243  matchIndex[0]: 242
term 41 leader 2 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 41
------------------------------------------------------
flag 21006 term 41 leader 2 nextIndex[1]: 251  matchIndex[1]: 250
term 41 leader 2 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 41 leaderCommit: 250 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=250
leader log:
[{snapshot 41 249} {6452652460274355350 41 250}]
------------------------------------------------------
term 41 Server1 start snapshot! index=249
term 41 server1 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=250
-------------------------------------------------------------
!!!!!!connect server 0
client write log 247265787111414126 (index 251) to leader 2
term 41 server 2 not vote for server 0, 日志不够新
term 41 server 1 not vote for server 0, 日志不够新
term 43 server 1 vote for server 2
term 43 server 2 get vote from server 1
term 43 server 2 become leader
------------------------------------------------------
term 43 server 0 vote for server 2
term 43 server 2 get outdate rpc reply from server 0
flag 26911 term 43 leader 2 nextIndex[0]: 252  matchIndex[0]: 0
term 43 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 41 leaderCommit: 250 
------------------------------------------------------
flag 29054 term 43 leader 2 nextIndex[1]: 252  matchIndex[1]: 0
term 43 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 41 leaderCommit: 250 
------------------------------------------------------
term 43 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 252->251
------------------------------------------------------
term 43 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 252->251
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 43 leader 2 nextIndex[0]: 243  matchIndex[0]: 0
term 43 leader 2 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 41
------------------------------------------------------
flag 87092 term 43 leader 2 nextIndex[1]: 251  matchIndex[1]: 0
term 43 leader 2 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 41 leaderCommit: 250 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
term 43 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=250
leader log:
[{snapshot 41 249} {6452652460274355350 41 250} {247265787111414126 41 251}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 249 rf.lastIncludedTerm 41 rf.commitIndex 249 rf.lastApplied 249
term 43 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 250 matchIndex[0] 249 
------------------------------------------------------------------------
flag 43478 term 43 leader 2 nextIndex[0]: 250  matchIndex[0]: 249
term 43 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 41 leaderCommit: 250 
------------------------------------------------------
flag 80294 term 43 leader 2 nextIndex[1]: 252  matchIndex[1]: 251
term 43 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 41 leaderCommit: 250 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=250
leader log:
[{snapshot 41 249} {6452652460274355350 41 250} {247265787111414126 41 251}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=250
leader log:
[{snapshot 41 249} {6452652460274355350 41 250} {247265787111414126 41 251}]
------------------------------------------------------
flag 25441 term 43 leader 2 nextIndex[0]: 252  matchIndex[0]: 251
term 43 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 41 leaderCommit: 250 
------------------------------------------------------
flag 68938 term 43 leader 2 nextIndex[1]: 252  matchIndex[1]: 251
term 43 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 41 leaderCommit: 250 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=250
leader log:
[{snapshot 41 249} {6452652460274355350 41 250} {247265787111414126 41 251}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=250
leader log:
[{snapshot 41 249} {6452652460274355350 41 250} {247265787111414126 41 251}]
------------------------------------------------------
flag 76193 term 43 leader 2 nextIndex[0]: 252  matchIndex[0]: 251
term 43 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 41 leaderCommit: 250 
------------------------------------------------------
flag 59052 term 43 leader 2 nextIndex[1]: 252  matchIndex[1]: 251
term 43 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 41 leaderCommit: 250 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=250
leader log:
[{snapshot 41 249} {6452652460274355350 41 250} {247265787111414126 41 251}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=250
leader log:
[{snapshot 41 249} {6452652460274355350 41 250} {247265787111414126 41 251}]
------------------------------------------------------
flag 28976 term 43 leader 2 nextIndex[0]: 252  matchIndex[0]: 251
term 43 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 41 leaderCommit: 250 
------------------------------------------------------
flag 61842 term 43 leader 2 nextIndex[1]: 252  matchIndex[1]: 251
term 43 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 41 leaderCommit: 250 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=250
leader log:
[{snapshot 41 249} {6452652460274355350 41 250} {247265787111414126 41 251}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=250
leader log:
[{snapshot 41 249} {6452652460274355350 41 250} {247265787111414126 41 251}]
------------------------------------------------------
flag 8611 term 43 leader 2 nextIndex[0]: 252  matchIndex[0]: 251
term 43 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 41 leaderCommit: 250 
------------------------------------------------------
flag 27874 term 43 leader 2 nextIndex[1]: 252  matchIndex[1]: 251
term 43 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 41 leaderCommit: 250 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=250
leader log:
[{snapshot 41 249} {6452652460274355350 41 250} {247265787111414126 41 251}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=250
leader log:
[{snapshot 41 249} {6452652460274355350 41 250} {247265787111414126 41 251}]
------------------------------------------------------
flag 21128 term 43 leader 2 nextIndex[0]: 252  matchIndex[0]: 251
term 43 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 41 leaderCommit: 250 
------------------------------------------------------
flag 9230 term 43 leader 2 nextIndex[1]: 252  matchIndex[1]: 251
term 43 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 41 leaderCommit: 250 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=250
leader log:
[{snapshot 41 249} {6452652460274355350 41 250} {247265787111414126 41 251}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=250
leader log:
[{snapshot 41 249} {6452652460274355350 41 250} {247265787111414126 41 251}]
------------------------------------------------------
flag 33929 term 43 leader 2 nextIndex[0]: 252  matchIndex[0]: 251
term 43 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 41 leaderCommit: 250 
------------------------------------------------------
flag 63860 term 43 leader 2 nextIndex[1]: 252  matchIndex[1]: 251
term 43 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 41 leaderCommit: 250 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=250
leader log:
[{snapshot 41 249} {6452652460274355350 41 250} {247265787111414126 41 251}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=250
leader log:
[{snapshot 41 249} {6452652460274355350 41 250} {247265787111414126 41 251}]
------------------------------------------------------
flag 95924 term 43 leader 2 nextIndex[0]: 252  matchIndex[0]: 251
term 43 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 41 leaderCommit: 250 
------------------------------------------------------
flag 5088 term 43 leader 2 nextIndex[1]: 252  matchIndex[1]: 251
term 43 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 41 leaderCommit: 250 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=250
leader log:
[{snapshot 41 249} {6452652460274355350 41 250} {247265787111414126 41 251}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=250
leader log:
[{snapshot 41 249} {6452652460274355350 41 250} {247265787111414126 41 251}]
------------------------------------------------------
flag 41160 term 43 leader 2 nextIndex[0]: 252  matchIndex[0]: 251
term 43 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 41 leaderCommit: 250 
------------------------------------------------------
flag 58285 term 43 leader 2 nextIndex[1]: 252  matchIndex[1]: 251
term 43 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 41 leaderCommit: 250 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=250
leader log:
[{snapshot 41 249} {6452652460274355350 41 250} {247265787111414126 41 251}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=250
leader log:
[{snapshot 41 249} {6452652460274355350 41 250} {247265787111414126 41 251}]
------------------------------------------------------
flag 97518 term 43 leader 2 nextIndex[0]: 252  matchIndex[0]: 251
term 43 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 41 leaderCommit: 250 
------------------------------------------------------
flag 73841 term 43 leader 2 nextIndex[1]: 252  matchIndex[1]: 251
term 43 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 41 leaderCommit: 250 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=250
leader log:
[{snapshot 41 249} {6452652460274355350 41 250} {247265787111414126 41 251}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=250
leader log:
[{snapshot 41 249} {6452652460274355350 41 250} {247265787111414126 41 251}]
------------------------------------------------------
flag 60685 term 43 leader 2 nextIndex[0]: 252  matchIndex[0]: 251
term 43 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 41 leaderCommit: 250 
------------------------------------------------------
flag 14318 term 43 leader 2 nextIndex[1]: 252  matchIndex[1]: 251
term 43 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 41 leaderCommit: 250 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=250
leader log:
[{snapshot 41 249} {6452652460274355350 41 250} {247265787111414126 41 251}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=250
leader log:
[{snapshot 41 249} {6452652460274355350 41 250} {247265787111414126 41 251}]
------------------------------------------------------
flag 16631 term 43 leader 2 nextIndex[0]: 252  matchIndex[0]: 251
term 43 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 41 leaderCommit: 250 
------------------------------------------------------
flag 27648 term 43 leader 2 nextIndex[1]: 252  matchIndex[1]: 251
term 43 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 41 leaderCommit: 250 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=250
leader log:
[{snapshot 41 249} {6452652460274355350 41 250} {247265787111414126 41 251}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=250
leader log:
[{snapshot 41 249} {6452652460274355350 41 250} {247265787111414126 41 251}]
------------------------------------------------------
flag 8745 term 43 leader 2 nextIndex[0]: 252  matchIndex[0]: 251
term 43 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 41 leaderCommit: 250 
------------------------------------------------------
flag 68594 term 43 leader 2 nextIndex[1]: 252  matchIndex[1]: 251
term 43 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 41 leaderCommit: 250 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=250
leader log:
[{snapshot 41 249} {6452652460274355350 41 250} {247265787111414126 41 251}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=250
leader log:
[{snapshot 41 249} {6452652460274355350 41 250} {247265787111414126 41 251}]
------------------------------------------------------
flag 24215 term 43 leader 2 nextIndex[0]: 252  matchIndex[0]: 251
term 43 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 41 leaderCommit: 250 
------------------------------------------------------
flag 53865 term 43 leader 2 nextIndex[1]: 252  matchIndex[1]: 251
term 43 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 41 leaderCommit: 250 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=250
leader log:
[{snapshot 41 249} {6452652460274355350 41 250} {247265787111414126 41 251}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=250
leader log:
[{snapshot 41 249} {6452652460274355350 41 250} {247265787111414126 41 251}]
------------------------------------------------------
flag 56351 term 43 leader 2 nextIndex[0]: 252  matchIndex[0]: 251
term 43 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 41 leaderCommit: 250 
------------------------------------------------------
flag 2825 term 43 leader 2 nextIndex[1]: 252  matchIndex[1]: 251
term 43 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 41 leaderCommit: 250 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=250
leader log:
[{snapshot 41 249} {6452652460274355350 41 250} {247265787111414126 41 251}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=250
leader log:
[{snapshot 41 249} {6452652460274355350 41 250} {247265787111414126 41 251}]
------------------------------------------------------
flag 19715 term 43 leader 2 nextIndex[0]: 252  matchIndex[0]: 251
term 43 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 41 leaderCommit: 250 
------------------------------------------------------
flag 68494 term 43 leader 2 nextIndex[1]: 252  matchIndex[1]: 251
term 43 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 41 leaderCommit: 250 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:250 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=250
leader log:
[{snapshot 41 249} {6452652460274355350 41 250} {247265787111414126 41 251}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=250
leader log:
[{snapshot 41 249} {6452652460274355350 41 250} {247265787111414126 41 251}]
------------------------------------------------------
term 43 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 90293 term 43 leader 2 nextIndex[0]: 252  matchIndex[0]: 251
term 43 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 41 leaderCommit: 250 
------------------------------------------------------
flag 9654 term 43 leader 2 nextIndex[1]: 252  matchIndex[1]: 251
term 43 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 41 leaderCommit: 250 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=250
leader log:
[{snapshot 41 249} {6452652460274355350 41 250} {247265787111414126 41 251}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=250
leader log:
[{snapshot 41 249} {6452652460274355350 41 250} {247265787111414126 41 251}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 247265787111414126 (index 252) to leader 2
flag 74642 term 43 leader 2 nextIndex[0]: 252  matchIndex[0]: 251
term 43 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 41 leaderCommit: 250 
------------------------------------------------------
flag 34321 term 43 leader 2 nextIndex[1]: 252  matchIndex[1]: 251
term 43 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 41 leaderCommit: 250 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=253
update matchIndex[1]=252
update leader CommitIndex=252
leader log:
[{snapshot 41 249} {6452652460274355350 41 250} {247265787111414126 41 251} {247265787111414126 43 252}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=252
leader log:
[{snapshot 41 249} {6452652460274355350 41 250} {247265787111414126 41 251} {247265787111414126 43 252}]
------------------------------------------------------
flag 56722 term 43 leader 2 nextIndex[0]: 253  matchIndex[0]: 252
term 43 leader 2 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 43 leaderCommit: 252 
------------------------------------------------------
flag 28597 term 43 leader 2 nextIndex[1]: 253  matchIndex[1]: 252
term 43 leader 2 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 43 leaderCommit: 252 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=253
update matchIndex[1]=252
update leader CommitIndex=252
leader log:
[{snapshot 41 249} {6452652460274355350 41 250} {247265787111414126 41 251} {247265787111414126 43 252}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=252
leader log:
[{snapshot 41 249} {6452652460274355350 41 250} {247265787111414126 41 251} {247265787111414126 43 252}]
------------------------------------------------------
flag 36424 term 43 leader 2 nextIndex[0]: 253  matchIndex[0]: 252
term 43 leader 2 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 43 leaderCommit: 252 
------------------------------------------------------
flag 15766 term 43 leader 2 nextIndex[1]: 253  matchIndex[1]: 252
term 43 leader 2 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 43 leaderCommit: 252 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=253
update matchIndex[1]=252
update leader CommitIndex=252
leader log:
[{snapshot 41 249} {6452652460274355350 41 250} {247265787111414126 41 251} {247265787111414126 43 252}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=252
leader log:
[{snapshot 41 249} {6452652460274355350 41 250} {247265787111414126 41 251} {247265787111414126 43 252}]
------------------------------------------------------
flag 16469 term 43 leader 2 nextIndex[0]: 253  matchIndex[0]: 252
term 43 leader 2 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 43 leaderCommit: 252 
------------------------------------------------------
flag 55220 term 43 leader 2 nextIndex[1]: 253  matchIndex[1]: 252
term 43 leader 2 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 43 leaderCommit: 252 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=253
update matchIndex[1]=252
update leader CommitIndex=252
leader log:
[{snapshot 41 249} {6452652460274355350 41 250} {247265787111414126 41 251} {247265787111414126 43 252}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=252
leader log:
[{snapshot 41 249} {6452652460274355350 41 250} {247265787111414126 41 251} {247265787111414126 43 252}]
------------------------------------------------------
flag 94654 term 43 leader 2 nextIndex[0]: 253  matchIndex[0]: 252
term 43 leader 2 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 43 leaderCommit: 252 
------------------------------------------------------
flag 12182 term 43 leader 2 nextIndex[1]: 253  matchIndex[1]: 252
term 43 leader 2 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 43 leaderCommit: 252 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=253
update matchIndex[1]=252
update leader CommitIndex=252
leader log:
[{snapshot 41 249} {6452652460274355350 41 250} {247265787111414126 41 251} {247265787111414126 43 252}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=252
leader log:
[{snapshot 41 249} {6452652460274355350 41 250} {247265787111414126 41 251} {247265787111414126 43 252}]
------------------------------------------------------
flag 25700 term 43 leader 2 nextIndex[0]: 253  matchIndex[0]: 252
term 43 leader 2 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 43 leaderCommit: 252 
------------------------------------------------------
flag 11484 term 43 leader 2 nextIndex[1]: 253  matchIndex[1]: 252
term 43 leader 2 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 43 leaderCommit: 252 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=253
update matchIndex[1]=252
update leader CommitIndex=252
leader log:
[{snapshot 41 249} {6452652460274355350 41 250} {247265787111414126 41 251} {247265787111414126 43 252}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=252
leader log:
[{snapshot 41 249} {6452652460274355350 41 250} {247265787111414126 41 251} {247265787111414126 43 252}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 2909027433761034394 (index 253) to leader 2
flag 49297 term 43 leader 2 nextIndex[0]: 253  matchIndex[0]: 252
term 43 leader 2 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 43 leaderCommit: 252 
------------------------------------------------------
flag 93260 term 43 leader 2 nextIndex[1]: 253  matchIndex[1]: 252
term 43 leader 2 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 43 leaderCommit: 252 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=254
update matchIndex[1]=253
update leader CommitIndex=253
leader log:
[{snapshot 41 249} {6452652460274355350 41 250} {247265787111414126 41 251} {247265787111414126 43 252} {2909027433761034394 43 253}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36610 term 43 leader 2 nextIndex[0]: 253  matchIndex[0]: 252
term 43 leader 2 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 43 leaderCommit: 253 
------------------------------------------------------
flag 85233 term 43 leader 2 nextIndex[1]: 254  matchIndex[1]: 253
term 43 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 43 leaderCommit: 253 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=254
update matchIndex[1]=253
update leader CommitIndex=253
leader log:
[{snapshot 41 249} {6452652460274355350 41 250} {247265787111414126 41 251} {247265787111414126 43 252} {2909027433761034394 43 253}]
------------------------------------------------------
client write log 7793765677969847867 (index 254) to leader 2
client write log 2861951098211086329 (index 255) to leader 2
client write log 7515475719480268510 (index 256) to leader 2
client write log 6825129263820805196 (index 257) to leader 2
client write log 7786084113727450183 (index 258) to leader 2
client write log 2661898595678712849 (index 259) to leader 2
client write log 6095067890194065368 (index 260) to leader 2
client write log 7592001924105359705 (index 261) to leader 2
client write log 1595091067943271849 (index 262) to leader 2
client write log 7356811727456771172 (index 263) to leader 2
client write log 4109466050801403260 (index 264) to leader 2
client write log 5755235171166785737 (index 265) to leader 2
client write log 8990452596052141379 (index 266) to leader 2
client write log 5106475801679428311 (index 267) to leader 2
flag 74541 term 43 leader 2 nextIndex[0]: 253  matchIndex[0]: 252
term 43 leader 2 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 43 leaderCommit: 253 
------------------------------------------------------
flag 94958 term 43 leader 2 nextIndex[1]: 254  matchIndex[1]: 253
term 43 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 43 leaderCommit: 253 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 41 249} {6452652460274355350 41 250} {247265787111414126 41 251} {247265787111414126 43 252} {2909027433761034394 43 253} {7793765677969847867 43 254} {2861951098211086329 43 255} {7515475719480268510 43 256} {6825129263820805196 43 257} {7786084113727450183 43 258} {2661898595678712849 43 259} {6095067890194065368 43 260} {7592001924105359705 43 261} {1595091067943271849 43 262} {7356811727456771172 43 263} {4109466050801403260 43 264} {5755235171166785737 43 265} {8990452596052141379 43 266} {5106475801679428311 43 267}]
------------------------------------------------------
term 43 Server2 start snapshot! index=259
term 43 server2 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=267
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 43 leader 2 nextIndex[0]: 253  matchIndex[0]: 252
term 43 leader 2 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 43
------------------------------------------------------
flag 73524 term 43 leader 2 nextIndex[1]: 268  matchIndex[1]: 267
term 43 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 43 leaderCommit: 267 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 43 259} {6095067890194065368 43 260} {7592001924105359705 43 261} {1595091067943271849 43 262} {7356811727456771172 43 263} {4109466050801403260 43 264} {5755235171166785737 43 265} {8990452596052141379 43 266} {5106475801679428311 43 267}]
------------------------------------------------------
term 43 Server1 start snapshot! index=259
term 43 server1 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=267
-------------------------------------------------------------
!!!!!!connect server 0
client write log 5279894370251526445 (index 268) to leader 2
term 43 leader 2 nextIndex[0]: 253  matchIndex[0]: 252
term 43 leader 2 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 43
------------------------------------------------------
flag 19284 term 43 leader 2 nextIndex[1]: 268  matchIndex[1]: 267
term 43 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 43 leaderCommit: 267 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=269
update matchIndex[1]=268
update leader CommitIndex=268
leader log:
[{snapshot 43 259} {6095067890194065368 43 260} {7592001924105359705 43 261} {1595091067943271849 43 262} {7356811727456771172 43 263} {4109466050801403260 43 264} {5755235171166785737 43 265} {8990452596052141379 43 266} {5106475801679428311 43 267} {5279894370251526445 43 268}]
------------------------------------------------------
term 44 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 43 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 45 server 1 vote for server 2
term 45 server 0 vote for server 2
term 45 server 2 get vote from server 1
term 45 server 2 become leader
------------------------------------------------------
term 45 server 2 get outdate rpc reply from server 0
flag 11081 term 45 leader 2 nextIndex[0]: 269  matchIndex[0]: 0
term 45 leader 2 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
flag 7216 term 45 leader 2 nextIndex[1]: 269  matchIndex[1]: 0
term 45 leader 2 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
term 45 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=269
update matchIndex[1]=268
update leader CommitIndex=268
leader log:
[{snapshot 43 259} {6095067890194065368 43 260} {7592001924105359705 43 261} {1595091067943271849 43 262} {7356811727456771172 43 263} {4109466050801403260 43 264} {5755235171166785737 43 265} {8990452596052141379 43 266} {5106475801679428311 43 267} {5279894370251526445 43 268}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 269->268
------------------------------------------------------
term 45 leader 2 nextIndex[0]: 253  matchIndex[0]: 0
term 45 leader 2 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 43
------------------------------------------------------
flag 36696 term 45 leader 2 nextIndex[1]: 269  matchIndex[1]: 268
term 45 leader 2 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
term 45 server 0 InstallSnapshot success
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
term 45 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 260 matchIndex[0] 259 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 259 rf.lastIncludedTerm 43 rf.commitIndex 259 rf.lastApplied 259
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=269
update matchIndex[1]=268
update leader CommitIndex=268
leader log:
[{snapshot 43 259} {6095067890194065368 43 260} {7592001924105359705 43 261} {1595091067943271849 43 262} {7356811727456771172 43 263} {4109466050801403260 43 264} {5755235171166785737 43 265} {8990452596052141379 43 266} {5106475801679428311 43 267} {5279894370251526445 43 268}]
------------------------------------------------------
flag 23985 term 45 leader 2 nextIndex[0]: 260  matchIndex[0]: 259
term 45 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
flag 77141 term 45 leader 2 nextIndex[1]: 269  matchIndex[1]: 268
term 45 leader 2 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=269
update matchIndex[0]=268
update leader CommitIndex=268
leader log:
[{snapshot 43 259} {6095067890194065368 43 260} {7592001924105359705 43 261} {1595091067943271849 43 262} {7356811727456771172 43 263} {4109466050801403260 43 264} {5755235171166785737 43 265} {8990452596052141379 43 266} {5106475801679428311 43 267} {5279894370251526445 43 268}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=269
update matchIndex[1]=268
update leader CommitIndex=268
leader log:
[{snapshot 43 259} {6095067890194065368 43 260} {7592001924105359705 43 261} {1595091067943271849 43 262} {7356811727456771172 43 263} {4109466050801403260 43 264} {5755235171166785737 43 265} {8990452596052141379 43 266} {5106475801679428311 43 267} {5279894370251526445 43 268}]
------------------------------------------------------
flag 6144 term 45 leader 2 nextIndex[0]: 269  matchIndex[0]: 268
term 45 leader 2 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
flag 4228 term 45 leader 2 nextIndex[1]: 269  matchIndex[1]: 268
term 45 leader 2 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=269
update matchIndex[1]=268
update leader CommitIndex=268
leader log:
[{snapshot 43 259} {6095067890194065368 43 260} {7592001924105359705 43 261} {1595091067943271849 43 262} {7356811727456771172 43 263} {4109466050801403260 43 264} {5755235171166785737 43 265} {8990452596052141379 43 266} {5106475801679428311 43 267} {5279894370251526445 43 268}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=269
update matchIndex[0]=268
update leader CommitIndex=268
leader log:
[{snapshot 43 259} {6095067890194065368 43 260} {7592001924105359705 43 261} {1595091067943271849 43 262} {7356811727456771172 43 263} {4109466050801403260 43 264} {5755235171166785737 43 265} {8990452596052141379 43 266} {5106475801679428311 43 267} {5279894370251526445 43 268}]
------------------------------------------------------
flag 56540 term 45 leader 2 nextIndex[0]: 269  matchIndex[0]: 268
term 45 leader 2 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
flag 97377 term 45 leader 2 nextIndex[1]: 269  matchIndex[1]: 268
term 45 leader 2 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=269
update matchIndex[1]=268
update leader CommitIndex=268
leader log:
term 45 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
[{snapshot 43 259} {6095067890194065368 43 260} {7592001924105359705 43 261} {1595091067943271849 43 262} {7356811727456771172 43 263} {4109466050801403260 43 264} {5755235171166785737 43 265} {8990452596052141379 43 266} {5106475801679428311 43 267} {5279894370251526445 43 268}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=269
update matchIndex[0]=268
update leader CommitIndex=268
leader log:
[{snapshot 43 259} {6095067890194065368 43 260} {7592001924105359705 43 261} {1595091067943271849 43 262} {7356811727456771172 43 263} {4109466050801403260 43 264} {5755235171166785737 43 265} {8990452596052141379 43 266} {5106475801679428311 43 267} {5279894370251526445 43 268}]
------------------------------------------------------
flag 26157 term 45 leader 2 nextIndex[0]: 269  matchIndex[0]: 268
term 45 leader 2 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
flag 74049 term 45 leader 2 nextIndex[1]: 269  matchIndex[1]: 268
term 45 leader 2 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:268 
term 45 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=269
update matchIndex[0]=268
update leader CommitIndex=268
leader log:
[{snapshot 43 259} {6095067890194065368 43 260} {7592001924105359705 43 261} {1595091067943271849 43 262} {7356811727456771172 43 263} {4109466050801403260 43 264} {5755235171166785737 43 265} {8990452596052141379 43 266} {5106475801679428311 43 267} {5279894370251526445 43 268}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=269
update matchIndex[1]=268
update leader CommitIndex=268
leader log:
[{snapshot 43 259} {6095067890194065368 43 260} {7592001924105359705 43 261} {1595091067943271849 43 262} {7356811727456771172 43 263} {4109466050801403260 43 264} {5755235171166785737 43 265} {8990452596052141379 43 266} {5106475801679428311 43 267} {5279894370251526445 43 268}]
------------------------------------------------------
term 45 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43517 term 45 leader 2 nextIndex[0]: 269  matchIndex[0]: 268
term 45 leader 2 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
flag 62549 term 45 leader 2 nextIndex[1]: 269  matchIndex[1]: 268
term 45 leader 2 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=269
update matchIndex[1]=268
update leader CommitIndex=268
leader log:
[{snapshot 43 259} {6095067890194065368 43 260} {7592001924105359705 43 261} {1595091067943271849 43 262} {7356811727456771172 43 263} {4109466050801403260 43 264} {5755235171166785737 43 265} {8990452596052141379 43 266} {5106475801679428311 43 267} {5279894370251526445 43 268}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=269
update matchIndex[0]=268
update leader CommitIndex=268
leader log:
[{snapshot 43 259} {6095067890194065368 43 260} {7592001924105359705 43 261} {1595091067943271849 43 262} {7356811727456771172 43 263} {4109466050801403260 43 264} {5755235171166785737 43 265} {8990452596052141379 43 266} {5106475801679428311 43 267} {5279894370251526445 43 268}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87543 term 45 leader 2 nextIndex[0]: 269  matchIndex[0]: 268
term 45 leader 2 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
flag 92335 term 45 leader 2 nextIndex[1]: 269  matchIndex[1]: 268
term 45 leader 2 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=269
update matchIndex[1]=268
update leader CommitIndex=268
leader log:
[{snapshot 43 259} {6095067890194065368 43 260} {7592001924105359705 43 261} {1595091067943271849 43 262} {7356811727456771172 43 263} {4109466050801403260 43 264} {5755235171166785737 43 265} {8990452596052141379 43 266} {5106475801679428311 43 267} {5279894370251526445 43 268}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=269
update matchIndex[0]=268
update leader CommitIndex=268
leader log:
[{snapshot 43 259} {6095067890194065368 43 260} {7592001924105359705 43 261} {1595091067943271849 43 262} {7356811727456771172 43 263} {4109466050801403260 43 264} {5755235171166785737 43 265} {8990452596052141379 43 266} {5106475801679428311 43 267} {5279894370251526445 43 268}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 87610 term 45 leader 2 nextIndex[0]: 269  matchIndex[0]: 268
term 45 leader 2 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
flag 46648 term 45 leader 2 nextIndex[1]: 269  matchIndex[1]: 268
term 45 leader 2 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
flag 51461 term 45 leader 2 nextIndex[0]: 269  matchIndex[0]: 268
term 45 leader 2 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
flag 2897 term 45 leader 2 nextIndex[1]: 269  matchIndex[1]: 268
term 45 leader 2 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
term 45 server 1 not vote for server 0, 任期不够新
term 45 server 0 get outdate rpc reply from server 1
flag 39885 term 45 leader 2 nextIndex[0]: 269  matchIndex[0]: 268
term 45 leader 2 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
flag 43164 term 45 leader 2 nextIndex[1]: 269  matchIndex[1]: 268
term 45 leader 2 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
term 46 server 0 vote for server 1
term 46 server 1 get vote from server 0
term 46 server 1 become leader
------------------------------------------------------
flag 64990 term 46 leader 1 nextIndex[0]: 269  matchIndex[0]: 0
term 46 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
flag 89412 term 46 leader 1 nextIndex[2]: 269  matchIndex[2]: 0
term 46 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=269
update matchIndex[0]=268
update leader CommitIndex=268
leader log:
[{snapshot 43 259} {6095067890194065368 43 260} {7592001924105359705 43 261} {1595091067943271849 43 262} {7356811727456771172 43 263} {4109466050801403260 43 264} {5755235171166785737 43 265} {8990452596052141379 43 266} {5106475801679428311 43 267} {5279894370251526445 43 268}]
------------------------------------------------------
client write log 2600845858869567796 (index 269) to leader 1
flag 78904 term 45 leader 2 nextIndex[0]: 269  matchIndex[0]: 268
term 45 leader 2 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
flag 29674 term 45 leader 2 nextIndex[1]: 269  matchIndex[1]: 268
term 45 leader 2 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18272 term 46 leader 1 nextIndex[0]: 269  matchIndex[0]: 268
term 46 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
flag 72084 term 46 leader 1 nextIndex[2]: 269  matchIndex[2]: 0
term 46 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=269
leader log:
[{snapshot 43 259} {6095067890194065368 43 260} {7592001924105359705 43 261} {1595091067943271849 43 262} {7356811727456771172 43 263} {4109466050801403260 43 264} {5755235171166785737 43 265} {8990452596052141379 43 266} {5106475801679428311 43 267} {5279894370251526445 43 268} {2600845858869567796 46 269}]
------------------------------------------------------
term 46 Server1 start snapshot! index=269
term 46 server1 snapshot success
lastIncludedIndex=269 lastApplied=269 lastIndex=269
-------------------------------------------------------------
flag 72545 term 45 leader 2 nextIndex[0]: 269  matchIndex[0]: 268
term 45 leader 2 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
flag 26951 term 45 leader 2 nextIndex[1]: 269  matchIndex[1]: 268
term 45 leader 2 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 269->268
------------------------------------------------------
flag 58176 term 46 leader 1 nextIndex[0]: 270  matchIndex[0]: 269
term 46 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 46 leaderCommit: 269 
------------------------------------------------------
term 46 leader 1 nextIndex[2]: 0  matchIndex[2]: 0
term 46 leader 1 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 46
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=269
leader log:
[{snapshot 46 269}]
------------------------------------------------------
term 46 Server0 start snapshot! index=269
term 46 server0 snapshot success
lastIncludedIndex=269 lastApplied=269 lastIndex=269
-------------------------------------------------------------
client write log 343586842368379991 (index 270) to leader 1
flag 67928 term 45 leader 2 nextIndex[0]: 269  matchIndex[0]: 268
term 45 leader 2 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
flag 71482 term 45 leader 2 nextIndex[1]: 269  matchIndex[1]: 268
term 45 leader 2 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
flag 93804 term 46 leader 1 nextIndex[0]: 270  matchIndex[0]: 269
term 46 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 46 leaderCommit: 269 
------------------------------------------------------
term 46 leader 1 nextIndex[2]: 0  matchIndex[2]: 0
term 46 leader 1 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 46
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=271
update matchIndex[0]=270
update leader CommitIndex=270
leader log:
[{snapshot 46 269} {343586842368379991 46 270}]
------------------------------------------------------
flag 95044 term 45 leader 2 nextIndex[0]: 269  matchIndex[0]: 268
term 45 leader 2 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
flag 43458 term 45 leader 2 nextIndex[1]: 269  matchIndex[1]: 268
term 45 leader 2 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
flag 50996 term 46 leader 1 nextIndex[0]: 271  matchIndex[0]: 270
term 46 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 46 leaderCommit: 270 
------------------------------------------------------
term 46 leader 1 nextIndex[2]: 0  matchIndex[2]: 0
term 46 leader 1 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 46
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=271
update matchIndex[0]=270
update leader CommitIndex=270
leader log:
[{snapshot 46 269} {343586842368379991 46 270}]
------------------------------------------------------
!!!!!!connect server 2
client write log 923806566051452176 (index 271) to leader 1
flag 45183 term 45 leader 2 nextIndex[0]: 269  matchIndex[0]: 268
term 45 leader 2 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
flag 47324 term 45 leader 2 nextIndex[1]: 269  matchIndex[1]: 268
term 45 leader 2 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
term 46 server 1 AppendEntries false 领导者任期过期 args.Term 45
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 46 server 0 AppendEntries false 领导者任期过期 args.Term 45
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45943 term 46 leader 1 nextIndex[0]: 271  matchIndex[0]: 270
term 46 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 46 leaderCommit: 270 
------------------------------------------------------
term 46 leader 1 nextIndex[2]: 0  matchIndex[2]: 0
term 46 leader 1 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 46
------------------------------------------------------
term 46 server 2 InstallSnapshot success
------------------------------------------------------
term 46 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 270 matchIndex[2] 269 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 269 rf.lastIncludedTerm 46 rf.commitIndex 269 rf.lastApplied 269
term 46 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=271
leader log:
[{snapshot 46 269} {343586842368379991 46 270} {923806566051452176 46 271}]
------------------------------------------------------
flag 37568 term 46 leader 1 nextIndex[0]: 272  matchIndex[0]: 271
term 46 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 46 leaderCommit: 271 
------------------------------------------------------
flag 91800 term 46 leader 1 nextIndex[2]: 270  matchIndex[2]: 269
term 46 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 46 leaderCommit: 271 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=271
leader log:
[{snapshot 46 269} {343586842368379991 46 270} {923806566051452176 46 271}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=271
leader log:
[{snapshot 46 269} {343586842368379991 46 270} {923806566051452176 46 271}]
------------------------------------------------------
flag 37978 term 46 leader 1 nextIndex[0]: 272  matchIndex[0]: 271
term 46 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 46 leaderCommit: 271 
------------------------------------------------------
flag 81713 term 46 leader 1 nextIndex[2]: 272  matchIndex[2]: 271
term 46 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 46 leaderCommit: 271 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=271
leader log:
[{snapshot 46 269} {343586842368379991 46 270} {923806566051452176 46 271}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=271
leader log:
[{snapshot 46 269} {343586842368379991 46 270} {923806566051452176 46 271}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63003 term 46 leader 1 nextIndex[0]: 272  matchIndex[0]: 271
term 46 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 46 leaderCommit: 271 
------------------------------------------------------
flag 17052 term 46 leader 1 nextIndex[2]: 272  matchIndex[2]: 271
term 46 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 46 leaderCommit: 271 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=271
leader log:
[{snapshot 46 269} {343586842368379991 46 270} {923806566051452176 46 271}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=271
leader log:
[{snapshot 46 269} {343586842368379991 46 270} {923806566051452176 46 271}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46174 term 46 leader 1 nextIndex[0]: 272  matchIndex[0]: 271
term 46 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 46 leaderCommit: 271 
------------------------------------------------------
flag 91973 term 46 leader 1 nextIndex[2]: 272  matchIndex[2]: 271
term 46 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 46 leaderCommit: 271 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=271
leader log:
[{snapshot 46 269} {343586842368379991 46 270} {923806566051452176 46 271}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=271
leader log:
[{snapshot 46 269} {343586842368379991 46 270} {923806566051452176 46 271}]
------------------------------------------------------
flag 12812 term 46 leader 1 nextIndex[0]: 272  matchIndex[0]: 271
term 46 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 46 leaderCommit: 271 
------------------------------------------------------
flag 81370 term 46 leader 1 nextIndex[2]: 272  matchIndex[2]: 271
term 46 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 46 leaderCommit: 271 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=271
leader log:
[{snapshot 46 269} {343586842368379991 46 270} {923806566051452176 46 271}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=271
leader log:
[{snapshot 46 269} {343586842368379991 46 270} {923806566051452176 46 271}]
------------------------------------------------------
flag 42075 term 46 leader 1 nextIndex[0]: 272  matchIndex[0]: 271
term 46 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 46 leaderCommit: 271 
------------------------------------------------------
flag 66984 term 46 leader 1 nextIndex[2]: 272  matchIndex[2]: 271
term 46 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 46 leaderCommit: 271 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=271
leader log:
[{snapshot 46 269} {343586842368379991 46 270} {923806566051452176 46 271}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=271
leader log:
[{snapshot 46 269} {343586842368379991 46 270} {923806566051452176 46 271}]
------------------------------------------------------
!!!!!!diconnect server 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 3095577398776169301 (index 272) to leader 1
flag 79433 term 46 leader 1 nextIndex[0]: 272  matchIndex[0]: 271
term 46 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 46 leaderCommit: 271 
------------------------------------------------------
flag 61493 term 46 leader 1 nextIndex[2]: 272  matchIndex[2]: 271
term 46 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 46 leaderCommit: 271 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=272
leader log:
[{snapshot 46 269} {343586842368379991 46 270} {923806566051452176 46 271} {3095577398776169301 46 272}]
------------------------------------------------------
flag 92960 term 46 leader 1 nextIndex[0]: 273  matchIndex[0]: 272
term 46 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 46 leaderCommit: 272 
------------------------------------------------------
flag 68136 term 46 leader 1 nextIndex[2]: 272  matchIndex[2]: 271
term 46 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 46 leaderCommit: 272 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=272
leader log:
[{snapshot 46 269} {343586842368379991 46 270} {923806566051452176 46 271} {3095577398776169301 46 272}]
------------------------------------------------------
term 46 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
client write log 1305242331818517438 (index 273) to leader 1
client write log 1833611978678095862 (index 274) to leader 1
client write log 1150399979681805683 (index 275) to leader 1
client write log 5383474592671752041 (index 276) to leader 1
client write log 6184986204548032439 (index 277) to leader 1
client write log 5997916648943103788 (index 278) to leader 1
flag 81638 term 46 leader 1 nextIndex[0]: 273  matchIndex[0]: 272
term 46 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 46 leaderCommit: 272 
------------------------------------------------------
flag 41020 term 46 leader 1 nextIndex[2]: 272  matchIndex[2]: 271
term 46 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 46 leaderCommit: 272 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=278
leader log:
[{snapshot 46 269} {343586842368379991 46 270} {923806566051452176 46 271} {3095577398776169301 46 272} {1305242331818517438 46 273} {1833611978678095862 46 274} {1150399979681805683 46 275} {5383474592671752041 46 276} {6184986204548032439 46 277} {5997916648943103788 46 278}]
------------------------------------------------------
flag 26494 term 46 leader 1 nextIndex[0]: 279  matchIndex[0]: 278
term 46 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 46 leaderCommit: 278 
------------------------------------------------------
flag 66002 term 46 leader 1 nextIndex[2]: 272  matchIndex[2]: 271
term 46 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 46 leaderCommit: 278 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=278
leader log:
[{snapshot 46 269} {343586842368379991 46 270} {923806566051452176 46 271} {3095577398776169301 46 272} {1305242331818517438 46 273} {1833611978678095862 46 274} {1150399979681805683 46 275} {5383474592671752041 46 276} {6184986204548032439 46 277} {5997916648943103788 46 278}]
------------------------------------------------------
!!!!!!connect server 2
client write log 5618043779164204104 (index 279) to leader 1
term 46 server 1 not vote for server 2, 日志不够新
term 46 server 0 not vote for server 2, 日志不够新
term 48 server 2 vote for server 1
term 48 server 1 get vote from server 2
term 48 server 1 become leader
------------------------------------------------------
term 48 server 0 vote for server 1
term 48 server 1 get outdate rpc reply from server 0
flag 16676 term 48 leader 1 nextIndex[0]: 280  matchIndex[0]: 0
term 48 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 46 leaderCommit: 278 
------------------------------------------------------
flag 94146 term 48 leader 1 nextIndex[2]: 280  matchIndex[2]: 0
term 48 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 46 leaderCommit: 278 
------------------------------------------------------
term 48 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 280->279
------------------------------------------------------
term 48 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 280->279
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30916 term 48 leader 1 nextIndex[0]: 279  matchIndex[0]: 0
term 48 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 46 leaderCommit: 278 
------------------------------------------------------
flag 32121 term 48 leader 1 nextIndex[2]: 272  matchIndex[2]: 0
term 48 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 46 leaderCommit: 278 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=280
update matchIndex[0]=279
update leader CommitIndex=278
leader log:
[{snapshot 46 269} {343586842368379991 46 270} {923806566051452176 46 271} {3095577398776169301 46 272} {1305242331818517438 46 273} {1833611978678095862 46 274} {1150399979681805683 46 275} {5383474592671752041 46 276} {6184986204548032439 46 277} {5997916648943103788 46 278} {5618043779164204104 46 279}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=280
update matchIndex[2]=279
update leader CommitIndex=278
leader log:
[{snapshot 46 269} {343586842368379991 46 270} {923806566051452176 46 271} {3095577398776169301 46 272} {1305242331818517438 46 273} {1833611978678095862 46 274} {1150399979681805683 46 275} {5383474592671752041 46 276} {6184986204548032439 46 277} {5997916648943103788 46 278} {5618043779164204104 46 279}]
------------------------------------------------------
term 48 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 34866 term 48 leader 1 nextIndex[0]: 280  matchIndex[0]: 279
term 48 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 46 leaderCommit: 278 
------------------------------------------------------
flag 16905 term 48 leader 1 nextIndex[2]: 280  matchIndex[2]: 279
term 48 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 46 leaderCommit: 278 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:278 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=280
update matchIndex[2]=279
update leader CommitIndex=278
leader log:
[{snapshot 46 269} {343586842368379991 46 270} {923806566051452176 46 271} {3095577398776169301 46 272} {1305242331818517438 46 273} {1833611978678095862 46 274} {1150399979681805683 46 275} {5383474592671752041 46 276} {6184986204548032439 46 277} {5997916648943103788 46 278} {5618043779164204104 46 279}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=280
update matchIndex[0]=279
update leader CommitIndex=278
leader log:
[{snapshot 46 269} {343586842368379991 46 270} {923806566051452176 46 271} {3095577398776169301 46 272} {1305242331818517438 46 273} {1833611978678095862 46 274} {1150399979681805683 46 275} {5383474592671752041 46 276} {6184986204548032439 46 277} {5997916648943103788 46 278} {5618043779164204104 46 279}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30993 term 48 leader 1 nextIndex[0]: 280  matchIndex[0]: 279
term 48 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 46 leaderCommit: 278 
------------------------------------------------------
flag 85791 term 48 leader 1 nextIndex[2]: 280  matchIndex[2]: 279
term 48 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 46 leaderCommit: 278 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=280
update matchIndex[2]=279
update leader CommitIndex=278
leader log:
[{snapshot 46 269} {343586842368379991 46 270} {923806566051452176 46 271} {3095577398776169301 46 272} {1305242331818517438 46 273} {1833611978678095862 46 274} {1150399979681805683 46 275} {5383474592671752041 46 276} {6184986204548032439 46 277} {5997916648943103788 46 278} {5618043779164204104 46 279}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=280
update matchIndex[0]=279
update leader CommitIndex=278
leader log:
[{snapshot 46 269} {343586842368379991 46 270} {923806566051452176 46 271} {3095577398776169301 46 272} {1305242331818517438 46 273} {1833611978678095862 46 274} {1150399979681805683 46 275} {5383474592671752041 46 276} {6184986204548032439 46 277} {5997916648943103788 46 278} {5618043779164204104 46 279}]
------------------------------------------------------
flag 98334 term 48 leader 1 nextIndex[0]: 280  matchIndex[0]: 279
term 48 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 46 leaderCommit: 278 
------------------------------------------------------
flag 54870 term 48 leader 1 nextIndex[2]: 280  matchIndex[2]: 279
term 48 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 46 leaderCommit: 278 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=280
update matchIndex[2]=279
update leader CommitIndex=278
leader log:
[{snapshot 46 269} {343586842368379991 46 270} {923806566051452176 46 271} {3095577398776169301 46 272} {1305242331818517438 46 273} {1833611978678095862 46 274} {1150399979681805683 46 275} {5383474592671752041 46 276} {6184986204548032439 46 277} {5997916648943103788 46 278} {5618043779164204104 46 279}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=280
update matchIndex[0]=279
update leader CommitIndex=278
leader log:
[{snapshot 46 269} {343586842368379991 46 270} {923806566051452176 46 271} {3095577398776169301 46 272} {1305242331818517438 46 273} {1833611978678095862 46 274} {1150399979681805683 46 275} {5383474592671752041 46 276} {6184986204548032439 46 277} {5997916648943103788 46 278} {5618043779164204104 46 279}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81275 term 48 leader 1 nextIndex[0]: 280  matchIndex[0]: 279
term 48 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 46 leaderCommit: 278 
------------------------------------------------------
flag 91475 term 48 leader 1 nextIndex[2]: 280  matchIndex[2]: 279
term 48 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 46 leaderCommit: 278 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=280
update matchIndex[2]=279
update leader CommitIndex=278
leader log:
[{snapshot 46 269} {343586842368379991 46 270} {923806566051452176 46 271} {3095577398776169301 46 272} {1305242331818517438 46 273} {1833611978678095862 46 274} {1150399979681805683 46 275} {5383474592671752041 46 276} {6184986204548032439 46 277} {5997916648943103788 46 278} {5618043779164204104 46 279}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=280
update matchIndex[0]=279
update leader CommitIndex=278
leader log:
[{snapshot 46 269} {343586842368379991 46 270} {923806566051452176 46 271} {3095577398776169301 46 272} {1305242331818517438 46 273} {1833611978678095862 46 274} {1150399979681805683 46 275} {5383474592671752041 46 276} {6184986204548032439 46 277} {5997916648943103788 46 278} {5618043779164204104 46 279}]
------------------------------------------------------
flag 77515 term 48 leader 1 nextIndex[0]: 280  matchIndex[0]: 279
term 48 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 46 leaderCommit: 278 
------------------------------------------------------
flag 56726 term 48 leader 1 nextIndex[2]: 280  matchIndex[2]: 279
term 48 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 46 leaderCommit: 278 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=280
update matchIndex[2]=279
update leader CommitIndex=278
leader log:
[{snapshot 46 269} {343586842368379991 46 270} {923806566051452176 46 271} {3095577398776169301 46 272} {1305242331818517438 46 273} {1833611978678095862 46 274} {1150399979681805683 46 275} {5383474592671752041 46 276} {6184986204548032439 46 277} {5997916648943103788 46 278} {5618043779164204104 46 279}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=280
update matchIndex[0]=279
update leader CommitIndex=278
leader log:
[{snapshot 46 269} {343586842368379991 46 270} {923806566051452176 46 271} {3095577398776169301 46 272} {1305242331818517438 46 273} {1833611978678095862 46 274} {1150399979681805683 46 275} {5383474592671752041 46 276} {6184986204548032439 46 277} {5997916648943103788 46 278} {5618043779164204104 46 279}]
------------------------------------------------------
flag 47881 term 48 leader 1 nextIndex[0]: 280  matchIndex[0]: 279
term 48 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 46 leaderCommit: 278 
------------------------------------------------------
flag 9130 term 48 leader 1 nextIndex[2]: 280  matchIndex[2]: 279
term 48 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 46 leaderCommit: 278 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=280
update matchIndex[0]=279
update leader CommitIndex=278
leader log:
[{snapshot 46 269} {343586842368379991 46 270} {923806566051452176 46 271} {3095577398776169301 46 272} {1305242331818517438 46 273} {1833611978678095862 46 274} {1150399979681805683 46 275} {5383474592671752041 46 276} {6184986204548032439 46 277} {5997916648943103788 46 278} {5618043779164204104 46 279}]
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=280
update matchIndex[2]=279
update leader CommitIndex=278
leader log:
[{snapshot 46 269} {343586842368379991 46 270} {923806566051452176 46 271} {3095577398776169301 46 272} {1305242331818517438 46 273} {1833611978678095862 46 274} {1150399979681805683 46 275} {5383474592671752041 46 276} {6184986204548032439 46 277} {5997916648943103788 46 278} {5618043779164204104 46 279}]
------------------------------------------------------
flag 54267 term 48 leader 1 nextIndex[0]: 280  matchIndex[0]: 279
term 48 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 46 leaderCommit: 278 
------------------------------------------------------
flag 70942 term 48 leader 1 nextIndex[2]: 280  matchIndex[2]: 279
term 48 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 46 leaderCommit: 278 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=280
update matchIndex[2]=279
update leader CommitIndex=278
leader log:
[{snapshot 46 269} {343586842368379991 46 270} {923806566051452176 46 271} {3095577398776169301 46 272} {1305242331818517438 46 273} {1833611978678095862 46 274} {1150399979681805683 46 275} {5383474592671752041 46 276} {6184986204548032439 46 277} {5997916648943103788 46 278} {5618043779164204104 46 279}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=280
update matchIndex[0]=279
update leader CommitIndex=278
leader log:
[{snapshot 46 269} {343586842368379991 46 270} {923806566051452176 46 271} {3095577398776169301 46 272} {1305242331818517438 46 273} {1833611978678095862 46 274} {1150399979681805683 46 275} {5383474592671752041 46 276} {6184986204548032439 46 277} {5997916648943103788 46 278} {5618043779164204104 46 279}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76304 term 48 leader 1 nextIndex[0]: 280  matchIndex[0]: 279
term 48 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 46 leaderCommit: 278 
------------------------------------------------------
flag 92807 term 48 leader 1 nextIndex[2]: 280  matchIndex[2]: 279
term 48 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 46 leaderCommit: 278 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=280
update matchIndex[0]=279
update leader CommitIndex=278
leader log:
[{snapshot 46 269} {343586842368379991 46 270} {923806566051452176 46 271} {3095577398776169301 46 272} {1305242331818517438 46 273} {1833611978678095862 46 274} {1150399979681805683 46 275} {5383474592671752041 46 276} {6184986204548032439 46 277} {5997916648943103788 46 278} {5618043779164204104 46 279}]
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=280
update matchIndex[2]=279
update leader CommitIndex=278
leader log:
[{snapshot 46 269} {343586842368379991 46 270} {923806566051452176 46 271} {3095577398776169301 46 272} {1305242331818517438 46 273} {1833611978678095862 46 274} {1150399979681805683 46 275} {5383474592671752041 46 276} {6184986204548032439 46 277} {5997916648943103788 46 278} {5618043779164204104 46 279}]
------------------------------------------------------
flag 93264 term 48 leader 1 nextIndex[0]: 280  matchIndex[0]: 279
term 48 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 46 leaderCommit: 278 
------------------------------------------------------
flag 9507 term 48 leader 1 nextIndex[2]: 280  matchIndex[2]: 279
term 48 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 46 leaderCommit: 278 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=280
update matchIndex[2]=279
update leader CommitIndex=278
leader log:
[{snapshot 46 269} {343586842368379991 46 270} {923806566051452176 46 271} {3095577398776169301 46 272} {1305242331818517438 46 273} {1833611978678095862 46 274} {1150399979681805683 46 275} {5383474592671752041 46 276} {6184986204548032439 46 277} {5997916648943103788 46 278} {5618043779164204104 46 279}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=280
update matchIndex[0]=279
update leader CommitIndex=278
leader log:
[{snapshot 46 269} {343586842368379991 46 270} {923806566051452176 46 271} {3095577398776169301 46 272} {1305242331818517438 46 273} {1833611978678095862 46 274} {1150399979681805683 46 275} {5383474592671752041 46 276} {6184986204548032439 46 277} {5997916648943103788 46 278} {5618043779164204104 46 279}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 48 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75666 term 48 leader 1 nextIndex[0]: 280  matchIndex[0]: 279
term 48 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 46 leaderCommit: 278 
------------------------------------------------------
flag 25059 term 48 leader 1 nextIndex[2]: 280  matchIndex[2]: 279
term 48 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 46 leaderCommit: 278 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=280
update matchIndex[2]=279
update leader CommitIndex=278
leader log:
[{snapshot 46 269} {343586842368379991 46 270} {923806566051452176 46 271} {3095577398776169301 46 272} {1305242331818517438 46 273} {1833611978678095862 46 274} {1150399979681805683 46 275} {5383474592671752041 46 276} {6184986204548032439 46 277} {5997916648943103788 46 278} {5618043779164204104 46 279}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=280
update matchIndex[0]=279
update leader CommitIndex=278
leader log:
[{snapshot 46 269} {343586842368379991 46 270} {923806566051452176 46 271} {3095577398776169301 46 272} {1305242331818517438 46 273} {1833611978678095862 46 274} {1150399979681805683 46 275} {5383474592671752041 46 276} {6184986204548032439 46 277} {5997916648943103788 46 278} {5618043779164204104 46 279}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21689 term 48 leader 1 nextIndex[0]: 280  matchIndex[0]: 279
term 48 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 46 leaderCommit: 278 
------------------------------------------------------
flag 85380 term 48 leader 1 nextIndex[2]: 280  matchIndex[2]: 279
term 48 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 46 leaderCommit: 278 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=280
update matchIndex[2]=279
update leader CommitIndex=278
leader log:
[{snapshot 46 269} {343586842368379991 46 270} {923806566051452176 46 271} {3095577398776169301 46 272} {1305242331818517438 46 273} {1833611978678095862 46 274} {1150399979681805683 46 275} {5383474592671752041 46 276} {6184986204548032439 46 277} {5997916648943103788 46 278} {5618043779164204104 46 279}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=280
update matchIndex[0]=279
update leader CommitIndex=278
leader log:
[{snapshot 46 269} {343586842368379991 46 270} {923806566051452176 46 271} {3095577398776169301 46 272} {1305242331818517438 46 273} {1833611978678095862 46 274} {1150399979681805683 46 275} {5383474592671752041 46 276} {6184986204548032439 46 277} {5997916648943103788 46 278} {5618043779164204104 46 279}]
------------------------------------------------------
flag 78931 term 48 leader 1 nextIndex[0]: 280  matchIndex[0]: 279
term 48 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 46 leaderCommit: 278 
------------------------------------------------------
flag 4557 term 48 leader 1 nextIndex[2]: 280  matchIndex[2]: 279
term 48 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 46 leaderCommit: 278 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=280
update matchIndex[0]=279
update leader CommitIndex=278
leader log:
[{snapshot 46 269} {343586842368379991 46 270} {923806566051452176 46 271} {3095577398776169301 46 272} {1305242331818517438 46 273} {1833611978678095862 46 274} {1150399979681805683 46 275} {5383474592671752041 46 276} {6184986204548032439 46 277} {5997916648943103788 46 278} {5618043779164204104 46 279}]
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=280
update matchIndex[2]=279
update leader CommitIndex=278
leader log:
[{snapshot 46 269} {343586842368379991 46 270} {923806566051452176 46 271} {3095577398776169301 46 272} {1305242331818517438 46 273} {1833611978678095862 46 274} {1150399979681805683 46 275} {5383474592671752041 46 276} {6184986204548032439 46 277} {5997916648943103788 46 278} {5618043779164204104 46 279}]
------------------------------------------------------
flag 93539 term 48 leader 1 nextIndex[0]: 280  matchIndex[0]: 279
term 48 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 46 leaderCommit: 278 
------------------------------------------------------
flag 58492 term 48 leader 1 nextIndex[2]: 280  matchIndex[2]: 279
term 48 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 46 leaderCommit: 278 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=280
update matchIndex[2]=279
update leader CommitIndex=278
leader log:
[{snapshot 46 269} {343586842368379991 46 270} {923806566051452176 46 271} {3095577398776169301 46 272} {1305242331818517438 46 273} {1833611978678095862 46 274} {1150399979681805683 46 275} {5383474592671752041 46 276} {6184986204548032439 46 277} {5997916648943103788 46 278} {5618043779164204104 46 279}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=280
update matchIndex[0]=279
update leader CommitIndex=278
leader log:
[{snapshot 46 269} {343586842368379991 46 270} {923806566051452176 46 271} {3095577398776169301 46 272} {1305242331818517438 46 273} {1833611978678095862 46 274} {1150399979681805683 46 275} {5383474592671752041 46 276} {6184986204548032439 46 277} {5997916648943103788 46 278} {5618043779164204104 46 279}]
------------------------------------------------------
flag 76349 term 48 leader 1 nextIndex[0]: 280  matchIndex[0]: 279
term 48 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 46 leaderCommit: 278 
------------------------------------------------------
flag 88211 term 48 leader 1 nextIndex[2]: 280  matchIndex[2]: 279
term 48 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 46 leaderCommit: 278 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=280
update matchIndex[2]=279
update leader CommitIndex=278
leader log:
[{snapshot 46 269} {343586842368379991 46 270} {923806566051452176 46 271} {3095577398776169301 46 272} {1305242331818517438 46 273} {1833611978678095862 46 274} {1150399979681805683 46 275} {5383474592671752041 46 276} {6184986204548032439 46 277} {5997916648943103788 46 278} {5618043779164204104 46 279}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=280
update matchIndex[0]=279
update leader CommitIndex=278
leader log:
[{snapshot 46 269} {343586842368379991 46 270} {923806566051452176 46 271} {3095577398776169301 46 272} {1305242331818517438 46 273} {1833611978678095862 46 274} {1150399979681805683 46 275} {5383474592671752041 46 276} {6184986204548032439 46 277} {5997916648943103788 46 278} {5618043779164204104 46 279}]
------------------------------------------------------
flag 31219 term 48 leader 1 nextIndex[0]: 280  matchIndex[0]: 279
term 48 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 46 leaderCommit: 278 
------------------------------------------------------
flag 2974 term 48 leader 1 nextIndex[2]: 280  matchIndex[2]: 279
term 48 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 46 leaderCommit: 278 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=280
update matchIndex[2]=279
update leader CommitIndex=278
leader log:
[{snapshot 46 269} {343586842368379991 46 270} {923806566051452176 46 271} {3095577398776169301 46 272} {1305242331818517438 46 273} {1833611978678095862 46 274} {1150399979681805683 46 275} {5383474592671752041 46 276} {6184986204548032439 46 277} {5997916648943103788 46 278} {5618043779164204104 46 279}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=280
update matchIndex[0]=279
update leader CommitIndex=278
leader log:
[{snapshot 46 269} {343586842368379991 46 270} {923806566051452176 46 271} {3095577398776169301 46 272} {1305242331818517438 46 273} {1833611978678095862 46 274} {1150399979681805683 46 275} {5383474592671752041 46 276} {6184986204548032439 46 277} {5997916648943103788 46 278} {5618043779164204104 46 279}]
------------------------------------------------------
flag 34055 term 48 leader 1 nextIndex[0]: 280  matchIndex[0]: 279
term 48 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 46 leaderCommit: 278 
------------------------------------------------------
flag 58411 term 48 leader 1 nextIndex[2]: 280  matchIndex[2]: 279
term 48 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 46 leaderCommit: 278 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=280
update matchIndex[2]=279
update leader CommitIndex=278
leader log:
[{snapshot 46 269} {343586842368379991 46 270} {923806566051452176 46 271} {3095577398776169301 46 272} {1305242331818517438 46 273} {1833611978678095862 46 274} {1150399979681805683 46 275} {5383474592671752041 46 276} {6184986204548032439 46 277} {5997916648943103788 46 278} {5618043779164204104 46 279}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=280
update matchIndex[0]=279
update leader CommitIndex=278
leader log:
[{snapshot 46 269} {343586842368379991 46 270} {923806566051452176 46 271} {3095577398776169301 46 272} {1305242331818517438 46 273} {1833611978678095862 46 274} {1150399979681805683 46 275} {5383474592671752041 46 276} {6184986204548032439 46 277} {5997916648943103788 46 278} {5618043779164204104 46 279}]
------------------------------------------------------
flag 23984 term 48 leader 1 nextIndex[0]: 280  matchIndex[0]: 279
term 48 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 46 leaderCommit: 278 
------------------------------------------------------
flag 11722 term 48 leader 1 nextIndex[2]: 280  matchIndex[2]: 279
term 48 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 46 leaderCommit: 278 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=280
update matchIndex[2]=279
update leader CommitIndex=278
leader log:
[{snapshot 46 269} {343586842368379991 46 270} {923806566051452176 46 271} {3095577398776169301 46 272} {1305242331818517438 46 273} {1833611978678095862 46 274} {1150399979681805683 46 275} {5383474592671752041 46 276} {6184986204548032439 46 277} {5997916648943103788 46 278} {5618043779164204104 46 279}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=280
update matchIndex[0]=279
update leader CommitIndex=278
leader log:
[{snapshot 46 269} {343586842368379991 46 270} {923806566051452176 46 271} {3095577398776169301 46 272} {1305242331818517438 46 273} {1833611978678095862 46 274} {1150399979681805683 46 275} {5383474592671752041 46 276} {6184986204548032439 46 277} {5997916648943103788 46 278} {5618043779164204104 46 279}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19214 term 48 leader 1 nextIndex[0]: 280  matchIndex[0]: 279
term 48 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 46 leaderCommit: 278 
------------------------------------------------------
flag 92653 term 48 leader 1 nextIndex[2]: 280  matchIndex[2]: 279
term 48 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 46 leaderCommit: 278 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:278 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=280
update matchIndex[0]=279
update leader CommitIndex=278
leader log:
[{snapshot 46 269} {343586842368379991 46 270} {923806566051452176 46 271} {3095577398776169301 46 272} {1305242331818517438 46 273} {1833611978678095862 46 274} {1150399979681805683 46 275} {5383474592671752041 46 276} {6184986204548032439 46 277} {5997916648943103788 46 278} {5618043779164204104 46 279}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=280
update matchIndex[2]=279
update leader CommitIndex=278
leader log:
[{snapshot 46 269} {343586842368379991 46 270} {923806566051452176 46 271} {3095577398776169301 46 272} {1305242331818517438 46 273} {1833611978678095862 46 274} {1150399979681805683 46 275} {5383474592671752041 46 276} {6184986204548032439 46 277} {5997916648943103788 46 278} {5618043779164204104 46 279}]
------------------------------------------------------
client write log 5618043779164204104 (index 280) to leader 1
flag 49186 term 48 leader 1 nextIndex[0]: 280  matchIndex[0]: 279
term 48 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 46 leaderCommit: 278 
------------------------------------------------------
flag 89721 term 48 leader 1 nextIndex[2]: 280  matchIndex[2]: 279
term 48 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 46 leaderCommit: 278 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=281
update matchIndex[2]=280
update leader CommitIndex=280
leader log:
[{snapshot 46 269} {343586842368379991 46 270} {923806566051452176 46 271} {3095577398776169301 46 272} {1305242331818517438 46 273} {1833611978678095862 46 274} {1150399979681805683 46 275} {5383474592671752041 46 276} {6184986204548032439 46 277} {5997916648943103788 46 278} {5618043779164204104 46 279} {5618043779164204104 48 280}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=281
update matchIndex[0]=280
update leader CommitIndex=280
leader log:
[{snapshot 46 269} {343586842368379991 46 270} {923806566051452176 46 271} {3095577398776169301 46 272} {1305242331818517438 46 273} {1833611978678095862 46 274} {1150399979681805683 46 275} {5383474592671752041 46 276} {6184986204548032439 46 277} {5997916648943103788 46 278} {5618043779164204104 46 279} {5618043779164204104 48 280}]
------------------------------------------------------
term 48 Server1 start snapshot! index=279
term 48 server1 snapshot success
lastIncludedIndex=279 lastApplied=280 lastIndex=280
-------------------------------------------------------------
flag 91109 term 48 leader 1 nextIndex[0]: 281  matchIndex[0]: 280
term 48 leader 1 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 48 leaderCommit: 280 
------------------------------------------------------
flag 11443 term 48 leader 1 nextIndex[2]: 281  matchIndex[2]: 280
term 48 leader 1 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 48 leaderCommit: 280 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=281
update matchIndex[2]=280
update leader CommitIndex=280
leader log:
[{snapshot 46 279} {5618043779164204104 48 280}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=281
update matchIndex[0]=280
update leader CommitIndex=280
leader log:
[{snapshot 46 279} {5618043779164204104 48 280}]
------------------------------------------------------
term 48 Server0 start snapshot! index=279
term 48 server0 snapshot success
lastIncludedIndex=279 lastApplied=280 lastIndex=280
-------------------------------------------------------------
term 48 Server2 start snapshot! index=279
term 48 server2 snapshot success
lastIncludedIndex=279 lastApplied=280 lastIndex=280
-------------------------------------------------------------
flag 60470 term 48 leader 1 nextIndex[0]: 281  matchIndex[0]: 280
term 48 leader 1 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 48 leaderCommit: 280 
------------------------------------------------------
flag 82259 term 48 leader 1 nextIndex[2]: 281  matchIndex[2]: 280
term 48 leader 1 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 48 leaderCommit: 280 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=281
update matchIndex[2]=280
update leader CommitIndex=280
leader log:
[{snapshot 46 279} {5618043779164204104 48 280}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=281
update matchIndex[0]=280
update leader CommitIndex=280
leader log:
[{snapshot 46 279} {5618043779164204104 48 280}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98503 term 48 leader 1 nextIndex[0]: 281  matchIndex[0]: 280
term 48 leader 1 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 48 leaderCommit: 280 
------------------------------------------------------
flag 33881 term 48 leader 1 nextIndex[2]: 281  matchIndex[2]: 280
term 48 leader 1 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 48 leaderCommit: 280 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=281
update matchIndex[2]=280
update leader CommitIndex=280
leader log:
[{snapshot 46 279} {5618043779164204104 48 280}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=281
update matchIndex[0]=280
update leader CommitIndex=280
leader log:
[{snapshot 46 279} {5618043779164204104 48 280}]
------------------------------------------------------
flag 46503 term 48 leader 1 nextIndex[0]: 281  matchIndex[0]: 280
term 48 leader 1 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 48 leaderCommit: 280 
------------------------------------------------------
flag 66743 term 48 leader 1 nextIndex[2]: 281  matchIndex[2]: 280
term 48 leader 1 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 48 leaderCommit: 280 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=281
update matchIndex[2]=280
update leader CommitIndex=280
leader log:
[{snapshot 46 279} {5618043779164204104 48 280}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=281
update matchIndex[0]=280
update leader CommitIndex=280
leader log:
[{snapshot 46 279} {5618043779164204104 48 280}]
------------------------------------------------------
flag 15901 term 48 leader 1 nextIndex[0]: 281  matchIndex[0]: 280
term 48 leader 1 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 48 leaderCommit: 280 
------------------------------------------------------
flag 58010 term 48 leader 1 nextIndex[2]: 281  matchIndex[2]: 280
term 48 leader 1 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 48 leaderCommit: 280 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=281
update matchIndex[2]=280
update leader CommitIndex=280
leader log:
[{snapshot 46 279} {5618043779164204104 48 280}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=281
update matchIndex[0]=280
update leader CommitIndex=280
leader log:
[{snapshot 46 279} {5618043779164204104 48 280}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 4403209030002238006 (index 281) to leader 1
flag 20190 term 48 leader 1 nextIndex[0]: 281  matchIndex[0]: 280
term 48 leader 1 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 48 leaderCommit: 280 
------------------------------------------------------
flag 89735 term 48 leader 1 nextIndex[2]: 281  matchIndex[2]: 280
term 48 leader 1 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 48 leaderCommit: 280 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=281
leader log:
[{snapshot 46 279} {5618043779164204104 48 280} {4403209030002238006 48 281}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33942 term 48 leader 1 nextIndex[0]: 282  matchIndex[0]: 281
term 48 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 48 leaderCommit: 281 
------------------------------------------------------
flag 42827 term 48 leader 1 nextIndex[2]: 281  matchIndex[2]: 280
term 48 leader 1 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 48 leaderCommit: 281 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=281
leader log:
[{snapshot 46 279} {5618043779164204104 48 280} {4403209030002238006 48 281}]
------------------------------------------------------
client write log 3245757424002539041 (index 282) to leader 1
client write log 802650624200673392 (index 283) to leader 1
client write log 7046327521344086031 (index 284) to leader 1
client write log 3223128425900258420 (index 285) to leader 1
client write log 5559730098097096308 (index 286) to leader 1
client write log 2969060081303380213 (index 287) to leader 1
client write log 7280822363107317285 (index 288) to leader 1
client write log 8477952124200388800 (index 289) to leader 1
client write log 6302627789519221739 (index 290) to leader 1
client write log 6946327002352373825 (index 291) to leader 1
client write log 4031766757933349686 (index 292) to leader 1
flag 25896 term 48 leader 1 nextIndex[0]: 282  matchIndex[0]: 281
term 48 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 48 leaderCommit: 281 
------------------------------------------------------
flag 89736 term 48 leader 1 nextIndex[2]: 281  matchIndex[2]: 280
term 48 leader 1 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 48 leaderCommit: 281 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=292
leader log:
[{snapshot 46 279} {5618043779164204104 48 280} {4403209030002238006 48 281} {3245757424002539041 48 282} {802650624200673392 48 283} {7046327521344086031 48 284} {3223128425900258420 48 285} {5559730098097096308 48 286} {2969060081303380213 48 287} {7280822363107317285 48 288} {8477952124200388800 48 289} {6302627789519221739 48 290} {6946327002352373825 48 291} {4031766757933349686 48 292}]
------------------------------------------------------
term 48 Server1 start snapshot! index=289
term 48 server1 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=292
-------------------------------------------------------------
flag 97684 term 48 leader 1 nextIndex[0]: 293  matchIndex[0]: 292
term 48 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 48 leaderCommit: 292 
------------------------------------------------------
term 48 leader 1 nextIndex[2]: 281  matchIndex[2]: 280
term 48 leader 1 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 48
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=292
leader log:
[{snapshot 48 289} {6302627789519221739 48 290} {6946327002352373825 48 291} {4031766757933349686 48 292}]
------------------------------------------------------
term 48 Server0 start snapshot! index=289
term 48 server0 snapshot success
lastIncludedIndex=289 lastApplied=290 lastIndex=292
-------------------------------------------------------------
!!!!!!connect server 2
client write log 5475113300128946557 (index 293) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30121 term 48 leader 1 nextIndex[0]: 293  matchIndex[0]: 292
term 48 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 48 leaderCommit: 292 
------------------------------------------------------
term 48 leader 1 nextIndex[2]: 281  matchIndex[2]: 280
term 48 leader 1 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 48
------------------------------------------------------
term 49 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 48 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 50 server 2 vote for server 1
term 50 server 0 vote for server 1
term 50 server 1 get vote from server 2
term 50 server 1 become leader
------------------------------------------------------
term 50 server 1 get outdate rpc reply from server 0
flag 64030 term 50 leader 1 nextIndex[0]: 294  matchIndex[0]: 0
term 50 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 48 leaderCommit: 292 
------------------------------------------------------
flag 94741 term 50 leader 1 nextIndex[2]: 294  matchIndex[2]: 0
term 50 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 48 leaderCommit: 292 
------------------------------------------------------
term 50 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=292
leader log:
[{snapshot 48 289} {6302627789519221739 48 290} {6946327002352373825 48 291} {4031766757933349686 48 292} {5475113300128946557 48 293}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 294->293
------------------------------------------------------
flag 20945 term 50 leader 1 nextIndex[0]: 294  matchIndex[0]: 293
term 50 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 48 leaderCommit: 292 
------------------------------------------------------
term 50 leader 1 nextIndex[2]: 281  matchIndex[2]: 0
term 50 leader 1 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 48
------------------------------------------------------
term 50 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 289 rf.lastIncludedTerm 48 rf.commitIndex 289 rf.lastApplied 289
term 50 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
term 50 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 290 matchIndex[2] 289 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=292
leader log:
[{snapshot 48 289} {6302627789519221739 48 290} {6946327002352373825 48 291} {4031766757933349686 48 292} {5475113300128946557 48 293}]
------------------------------------------------------
flag 15617 term 50 leader 1 nextIndex[0]: 294  matchIndex[0]: 293
term 50 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 48 leaderCommit: 292 
------------------------------------------------------
flag 96085 term 50 leader 1 nextIndex[2]: 290  matchIndex[2]: 289
term 50 leader 1 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 48 leaderCommit: 292 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=292
leader log:
[{snapshot 48 289} {6302627789519221739 48 290} {6946327002352373825 48 291} {4031766757933349686 48 292} {5475113300128946557 48 293}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=292
leader log:
[{snapshot 48 289} {6302627789519221739 48 290} {6946327002352373825 48 291} {4031766757933349686 48 292} {5475113300128946557 48 293}]
------------------------------------------------------
flag 82844 term 50 leader 1 nextIndex[0]: 294  matchIndex[0]: 293
term 50 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 48 leaderCommit: 292 
------------------------------------------------------
flag 13445 term 50 leader 1 nextIndex[2]: 294  matchIndex[2]: 293
term 50 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 48 leaderCommit: 292 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=292
leader log:
[{snapshot 48 289} {6302627789519221739 48 290} {6946327002352373825 48 291} {4031766757933349686 48 292} {5475113300128946557 48 293}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=292
leader log:
[{snapshot 48 289} {6302627789519221739 48 290} {6946327002352373825 48 291} {4031766757933349686 48 292} {5475113300128946557 48 293}]
------------------------------------------------------
flag 97011 term 50 leader 1 nextIndex[0]: 294  matchIndex[0]: 293
term 50 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 48 leaderCommit: 292 
------------------------------------------------------
flag 97964 term 50 leader 1 nextIndex[2]: 294  matchIndex[2]: 293
term 50 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 48 leaderCommit: 292 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=292
leader log:
[{snapshot 48 289} {6302627789519221739 48 290} {6946327002352373825 48 291} {4031766757933349686 48 292} {5475113300128946557 48 293}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=292
leader log:
[{snapshot 48 289} {6302627789519221739 48 290} {6946327002352373825 48 291} {4031766757933349686 48 292} {5475113300128946557 48 293}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98648 term 50 leader 1 nextIndex[0]: 294  matchIndex[0]: 293
term 50 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 48 leaderCommit: 292 
------------------------------------------------------
flag 50852 term 50 leader 1 nextIndex[2]: 294  matchIndex[2]: 293
term 50 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 48 leaderCommit: 292 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=292
leader log:
term 50 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
[{snapshot 48 289} {6302627789519221739 48 290} {6946327002352373825 48 291} {4031766757933349686 48 292} {5475113300128946557 48 293}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=292
leader log:
[{snapshot 48 289} {6302627789519221739 48 290} {6946327002352373825 48 291} {4031766757933349686 48 292} {5475113300128946557 48 293}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 50 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 81434 term 50 leader 1 nextIndex[0]: 294  matchIndex[0]: 293
term 50 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 48 leaderCommit: 292 
------------------------------------------------------
flag 6451 term 50 leader 1 nextIndex[2]: 294  matchIndex[2]: 293
term 50 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 48 leaderCommit: 292 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:292 
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=292
leader log:
[{snapshot 48 289} {6302627789519221739 48 290} {6946327002352373825 48 291} {4031766757933349686 48 292} {5475113300128946557 48 293}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=292
leader log:
[{snapshot 48 289} {6302627789519221739 48 290} {6946327002352373825 48 291} {4031766757933349686 48 292} {5475113300128946557 48 293}]
------------------------------------------------------
flag 43122 term 50 leader 1 nextIndex[0]: 294  matchIndex[0]: 293
term 50 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 48 leaderCommit: 292 
------------------------------------------------------
flag 1709 term 50 leader 1 nextIndex[2]: 294  matchIndex[2]: 293
term 50 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 48 leaderCommit: 292 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=292
leader log:
term 50 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
[{snapshot 48 289} {6302627789519221739 48 290} {6946327002352373825 48 291} {4031766757933349686 48 292} {5475113300128946557 48 293}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=292
leader log:
[{snapshot 48 289} {6302627789519221739 48 290} {6946327002352373825 48 291} {4031766757933349686 48 292} {5475113300128946557 48 293}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90879 term 50 leader 1 nextIndex[0]: 294  matchIndex[0]: 293
term 50 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 48 leaderCommit: 292 
------------------------------------------------------
flag 4264 term 50 leader 1 nextIndex[2]: 294  matchIndex[2]: 293
term 50 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 48 leaderCommit: 292 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=292
leader log:
[{snapshot 48 289} {6302627789519221739 48 290} {6946327002352373825 48 291} {4031766757933349686 48 292} {5475113300128946557 48 293}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=292
leader log:
[{snapshot 48 289} {6302627789519221739 48 290} {6946327002352373825 48 291} {4031766757933349686 48 292} {5475113300128946557 48 293}]
------------------------------------------------------
term 50 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 50 server 2 not vote for server 0, 任期不够新
term 50 server 0 get outdate rpc reply from server 2
flag 18392 term 50 leader 1 nextIndex[0]: 294  matchIndex[0]: 293
term 50 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 48 leaderCommit: 292 
------------------------------------------------------
flag 84729 term 50 leader 1 nextIndex[2]: 294  matchIndex[2]: 293
term 50 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 48 leaderCommit: 292 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=292
leader log:
[{snapshot 48 289} {6302627789519221739 48 290} {6946327002352373825 48 291} {4031766757933349686 48 292} {5475113300128946557 48 293}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=292
leader log:
[{snapshot 48 289} {6302627789519221739 48 290} {6946327002352373825 48 291} {4031766757933349686 48 292} {5475113300128946557 48 293}]
------------------------------------------------------
flag 24305 term 50 leader 1 nextIndex[0]: 294  matchIndex[0]: 293
term 50 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 48 leaderCommit: 292 
------------------------------------------------------
flag 93532 term 50 leader 1 nextIndex[2]: 294  matchIndex[2]: 293
term 50 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 48 leaderCommit: 292 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=292
leader log:
[{snapshot 48 289} {6302627789519221739 48 290} {6946327002352373825 48 291} {4031766757933349686 48 292} {5475113300128946557 48 293}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=292
leader log:
[{snapshot 48 289} {6302627789519221739 48 290} {6946327002352373825 48 291} {4031766757933349686 48 292} {5475113300128946557 48 293}]
------------------------------------------------------
flag 78791 term 50 leader 1 nextIndex[0]: 294  matchIndex[0]: 293
term 50 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 48 leaderCommit: 292 
------------------------------------------------------
flag 73593 term 50 leader 1 nextIndex[2]: 294  matchIndex[2]: 293
term 50 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 48 leaderCommit: 292 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=292
leader log:
[{snapshot 48 289} {6302627789519221739 48 290} {6946327002352373825 48 291} {4031766757933349686 48 292} {5475113300128946557 48 293}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=292
leader log:
[{snapshot 48 289} {6302627789519221739 48 290} {6946327002352373825 48 291} {4031766757933349686 48 292} {5475113300128946557 48 293}]
------------------------------------------------------
flag 98563 term 50 leader 1 nextIndex[0]: 294  matchIndex[0]: 293
term 50 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 48 leaderCommit: 292 
------------------------------------------------------
flag 1381 term 50 leader 1 nextIndex[2]: 294  matchIndex[2]: 293
term 50 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 48 leaderCommit: 292 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=292
leader log:
[{snapshot 48 289} {6302627789519221739 48 290} {6946327002352373825 48 291} {4031766757933349686 48 292} {5475113300128946557 48 293}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=292
leader log:
[{snapshot 48 289} {6302627789519221739 48 290} {6946327002352373825 48 291} {4031766757933349686 48 292} {5475113300128946557 48 293}]
------------------------------------------------------
flag 56613 term 50 leader 1 nextIndex[0]: 294  matchIndex[0]: 293
term 50 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 48 leaderCommit: 292 
------------------------------------------------------
flag 46612 term 50 leader 1 nextIndex[2]: 294  matchIndex[2]: 293
term 50 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 48 leaderCommit: 292 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=292
leader log:
[{snapshot 48 289} {6302627789519221739 48 290} {6946327002352373825 48 291} {4031766757933349686 48 292} {5475113300128946557 48 293}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=292
leader log:
[{snapshot 48 289} {6302627789519221739 48 290} {6946327002352373825 48 291} {4031766757933349686 48 292} {5475113300128946557 48 293}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88249 term 50 leader 1 nextIndex[0]: 294  matchIndex[0]: 293
term 50 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 48 leaderCommit: 292 
------------------------------------------------------
flag 25315 term 50 leader 1 nextIndex[2]: 294  matchIndex[2]: 293
term 50 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 48 leaderCommit: 292 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=292
leader log:
[{snapshot 48 289} {6302627789519221739 48 290} {6946327002352373825 48 291} {4031766757933349686 48 292} {5475113300128946557 48 293}]
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=292
leader log:
[{snapshot 48 289} {6302627789519221739 48 290} {6946327002352373825 48 291} {4031766757933349686 48 292} {5475113300128946557 48 293}]
------------------------------------------------------
flag 42334 term 50 leader 1 nextIndex[0]: 294  matchIndex[0]: 293
term 50 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 48 leaderCommit: 292 
------------------------------------------------------
flag 22912 term 50 leader 1 nextIndex[2]: 294  matchIndex[2]: 293
term 50 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 48 leaderCommit: 292 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=292
leader log:
[{snapshot 48 289} {6302627789519221739 48 290} {6946327002352373825 48 291} {4031766757933349686 48 292} {5475113300128946557 48 293}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=292
leader log:
[{snapshot 48 289} {6302627789519221739 48 290} {6946327002352373825 48 291} {4031766757933349686 48 292} {5475113300128946557 48 293}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35901 term 50 leader 1 nextIndex[0]: 294  matchIndex[0]: 293
term 50 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 48 leaderCommit: 292 
------------------------------------------------------
flag 55147 term 50 leader 1 nextIndex[2]: 294  matchIndex[2]: 293
term 50 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 48 leaderCommit: 292 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=292
leader log:
[{snapshot 48 289} {6302627789519221739 48 290} {6946327002352373825 48 291} {4031766757933349686 48 292} {5475113300128946557 48 293}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=292
leader log:
[{snapshot 48 289} {6302627789519221739 48 290} {6946327002352373825 48 291} {4031766757933349686 48 292} {5475113300128946557 48 293}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89000 term 50 leader 1 nextIndex[0]: 294  matchIndex[0]: 293
term 50 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 48 leaderCommit: 292 
------------------------------------------------------
flag 78706 term 50 leader 1 nextIndex[2]: 294  matchIndex[2]: 293
term 50 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 48 leaderCommit: 292 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=292
leader log:
[{snapshot 48 289} {6302627789519221739 48 290} {6946327002352373825 48 291} {4031766757933349686 48 292} {5475113300128946557 48 293}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=292
leader log:
[{snapshot 48 289} {6302627789519221739 48 290} {6946327002352373825 48 291} {4031766757933349686 48 292} {5475113300128946557 48 293}]
------------------------------------------------------
client write log 5475113300128946557 (index 294) to leader 1
flag 48134 term 50 leader 1 nextIndex[0]: 294  matchIndex[0]: 293
term 50 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 48 leaderCommit: 292 
------------------------------------------------------
flag 34691 term 50 leader 1 nextIndex[2]: 294  matchIndex[2]: 293
term 50 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 48 leaderCommit: 292 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=294
leader log:
[{snapshot 48 289} {6302627789519221739 48 290} {6946327002352373825 48 291} {4031766757933349686 48 292} {5475113300128946557 48 293} {5475113300128946557 50 294}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=294
leader log:
[{snapshot 48 289} {6302627789519221739 48 290} {6946327002352373825 48 291} {4031766757933349686 48 292} {5475113300128946557 48 293} {5475113300128946557 50 294}]
------------------------------------------------------
flag 32744 term 50 leader 1 nextIndex[0]: 295  matchIndex[0]: 294
term 50 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 50 leaderCommit: 294 
------------------------------------------------------
flag 26272 term 50 leader 1 nextIndex[2]: 295  matchIndex[2]: 294
term 50 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 50 leaderCommit: 294 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:294 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=294
leader log:
[{snapshot 48 289} {6302627789519221739 48 290} {6946327002352373825 48 291} {4031766757933349686 48 292} {5475113300128946557 48 293} {5475113300128946557 50 294}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=294
leader log:
[{snapshot 48 289} {6302627789519221739 48 290} {6946327002352373825 48 291} {4031766757933349686 48 292} {5475113300128946557 48 293} {5475113300128946557 50 294}]
------------------------------------------------------
flag 85292 term 50 leader 1 nextIndex[0]: 295  matchIndex[0]: 294
term 50 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 50 leaderCommit: 294 
------------------------------------------------------
flag 32977 term 50 leader 1 nextIndex[2]: 295  matchIndex[2]: 294
term 50 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 50 leaderCommit: 294 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=294
leader log:
[{snapshot 48 289} {6302627789519221739 48 290} {6946327002352373825 48 291} {4031766757933349686 48 292} {5475113300128946557 48 293} {5475113300128946557 50 294}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=294
leader log:
[{snapshot 48 289} {6302627789519221739 48 290} {6946327002352373825 48 291} {4031766757933349686 48 292} {5475113300128946557 48 293} {5475113300128946557 50 294}]
------------------------------------------------------
flag 50833 term 50 leader 1 nextIndex[0]: 295  matchIndex[0]: 294
term 50 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 50 leaderCommit: 294 
------------------------------------------------------
flag 21668 term 50 leader 1 nextIndex[2]: 295  matchIndex[2]: 294
term 50 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 50 leaderCommit: 294 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:294 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:294 
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=294
leader log:
[{snapshot 48 289} {6302627789519221739 48 290} {6946327002352373825 48 291} {4031766757933349686 48 292} {5475113300128946557 48 293} {5475113300128946557 50 294}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=294
leader log:
[{snapshot 48 289} {6302627789519221739 48 290} {6946327002352373825 48 291} {4031766757933349686 48 292} {5475113300128946557 48 293} {5475113300128946557 50 294}]
------------------------------------------------------
term 50 server 2 not vote for server 1, 任期不够新
term 50 server 1 get outdate rpc reply from server 2
flag 34219 term 50 leader 1 nextIndex[0]: 295  matchIndex[0]: 294
term 50 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 50 leaderCommit: 294 
------------------------------------------------------
flag 92926 term 50 leader 1 nextIndex[2]: 295  matchIndex[2]: 294
term 50 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 50 leaderCommit: 294 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:294 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=294
leader log:
[{snapshot 48 289} {6302627789519221739 48 290} {6946327002352373825 48 291} {4031766757933349686 48 292} {5475113300128946557 48 293} {5475113300128946557 50 294}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=294
leader log:
[{snapshot 48 289} {6302627789519221739 48 290} {6946327002352373825 48 291} {4031766757933349686 48 292} {5475113300128946557 48 293} {5475113300128946557 50 294}]
------------------------------------------------------
flag 45202 term 50 leader 1 nextIndex[0]: 295  matchIndex[0]: 294
term 50 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 50 leaderCommit: 294 
------------------------------------------------------
flag 9976 term 50 leader 1 nextIndex[2]: 295  matchIndex[2]: 294
term 50 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 50 leaderCommit: 294 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=294
leader log:
[{snapshot 48 289} {6302627789519221739 48 290} {6946327002352373825 48 291} {4031766757933349686 48 292} {5475113300128946557 48 293} {5475113300128946557 50 294}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=294
leader log:
[{snapshot 48 289} {6302627789519221739 48 290} {6946327002352373825 48 291} {4031766757933349686 48 292} {5475113300128946557 48 293} {5475113300128946557 50 294}]
------------------------------------------------------
flag 48576 term 50 leader 1 nextIndex[0]: 295  matchIndex[0]: 294
term 50 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 50 leaderCommit: 294 
------------------------------------------------------
flag 65415 term 50 leader 1 nextIndex[2]: 295  matchIndex[2]: 294
term 50 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 50 leaderCommit: 294 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=294
leader log:
[{snapshot 48 289} {6302627789519221739 48 290} {6946327002352373825 48 291} {4031766757933349686 48 292} {5475113300128946557 48 293} {5475113300128946557 50 294}]
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=294
leader log:
[{snapshot 48 289} {6302627789519221739 48 290} {6946327002352373825 48 291} {4031766757933349686 48 292} {5475113300128946557 48 293} {5475113300128946557 50 294}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 42848 term 50 leader 1 nextIndex[0]: 295  matchIndex[0]: 294
term 50 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 50 leaderCommit: 294 
------------------------------------------------------
flag 34943 term 50 leader 1 nextIndex[2]: 295  matchIndex[2]: 294
term 50 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 50 leaderCommit: 294 
------------------------------------------------------
flag 66380 term 50 leader 1 nextIndex[0]: 295  matchIndex[0]: 294
term 50 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 50 leaderCommit: 294 
------------------------------------------------------
flag 75976 term 50 leader 1 nextIndex[2]: 295  matchIndex[2]: 294
term 50 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 50 leaderCommit: 294 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 295->294
------------------------------------------------------
term 50 leader 1 nextIndex[0]: 0  matchIndex[0]: 294
term 50 leader 1 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 48
------------------------------------------------------
flag 97018 term 50 leader 1 nextIndex[2]: 295  matchIndex[2]: 294
term 50 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 50 leaderCommit: 294 
------------------------------------------------------
term 51 server 0 vote for server 2
term 51 server 2 get vote from server 0
term 51 server 2 become leader
------------------------------------------------------
flag 7168 term 51 leader 2 nextIndex[0]: 295  matchIndex[0]: 0
term 51 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 50 leaderCommit: 294 
------------------------------------------------------
flag 21225 term 51 leader 2 nextIndex[1]: 295  matchIndex[1]: 0
term 51 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 50 leaderCommit: 294 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=294
leader log:
[{snapshot 48 289} {6302627789519221739 48 290} {6946327002352373825 48 291} {4031766757933349686 48 292} {5475113300128946557 48 293} {5475113300128946557 50 294}]
------------------------------------------------------
term 50 leader 1 nextIndex[0]: 0  matchIndex[0]: 294
term 50 leader 1 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 48
------------------------------------------------------
flag 79832 term 50 leader 1 nextIndex[2]: 295  matchIndex[2]: 294
term 50 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 50 leaderCommit: 294 
------------------------------------------------------
client write log 6724300242338359253 (index 295) to leader 2
flag 8312 term 51 leader 2 nextIndex[0]: 295  matchIndex[0]: 294
term 51 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 50 leaderCommit: 294 
------------------------------------------------------
flag 82041 term 51 leader 2 nextIndex[1]: 295  matchIndex[1]: 0
term 51 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 50 leaderCommit: 294 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=295
leader log:
[{snapshot 48 289} {6302627789519221739 48 290} {6946327002352373825 48 291} {4031766757933349686 48 292} {5475113300128946557 48 293} {5475113300128946557 50 294} {6724300242338359253 51 295}]
------------------------------------------------------
term 50 leader 1 nextIndex[0]: 0  matchIndex[0]: 294
term 50 leader 1 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 48
------------------------------------------------------
flag 74339 term 50 leader 1 nextIndex[2]: 295  matchIndex[2]: 294
term 50 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 50 leaderCommit: 294 
------------------------------------------------------
flag 33985 term 51 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 51 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 51 leaderCommit: 295 
------------------------------------------------------
flag 29920 term 51 leader 2 nextIndex[1]: 295  matchIndex[1]: 0
term 51 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 50 leaderCommit: 295 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=295
leader log:
[{snapshot 48 289} {6302627789519221739 48 290} {6946327002352373825 48 291} {4031766757933349686 48 292} {5475113300128946557 48 293} {5475113300128946557 50 294} {6724300242338359253 51 295}]
------------------------------------------------------
client write log 1317479535624886050 (index 296) to leader 2
client write log 4944455715008098571 (index 297) to leader 2
client write log 4996276834101920256 (index 298) to leader 2
client write log 835791912691046399 (index 299) to leader 2
client write log 6992944293210356287 (index 300) to leader 2
client write log 459314022022561226 (index 301) to leader 2
client write log 1071399095028711839 (index 302) to leader 2
client write log 7994833058668640072 (index 303) to leader 2
term 50 leader 1 nextIndex[0]: 0  matchIndex[0]: 294
term 50 leader 1 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 48
------------------------------------------------------
flag 8259 term 50 leader 1 nextIndex[2]: 295  matchIndex[2]: 294
term 50 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 50 leaderCommit: 294 
------------------------------------------------------
flag 24033 term 51 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 51 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 51 leaderCommit: 295 
------------------------------------------------------
flag 71216 term 51 leader 2 nextIndex[1]: 295  matchIndex[1]: 0
term 51 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 50 leaderCommit: 295 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=303
leader log:
[{snapshot 48 289} {6302627789519221739 48 290} {6946327002352373825 48 291} {4031766757933349686 48 292} {5475113300128946557 48 293} {5475113300128946557 50 294} {6724300242338359253 51 295} {1317479535624886050 51 296} {4944455715008098571 51 297} {4996276834101920256 51 298} {835791912691046399 51 299} {6992944293210356287 51 300} {459314022022561226 51 301} {1071399095028711839 51 302} {7994833058668640072 51 303}]
------------------------------------------------------
term 51 Server2 start snapshot! index=299
term 51 server2 snapshot success
lastIncludedIndex=299 lastApplied=299 lastIndex=303
-------------------------------------------------------------
term 50 leader 1 nextIndex[0]: 0  matchIndex[0]: 294
term 50 leader 1 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 48
------------------------------------------------------
flag 75161 term 50 leader 1 nextIndex[2]: 295  matchIndex[2]: 294
term 50 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 50 leaderCommit: 294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 295->294
------------------------------------------------------
flag 99420 term 51 leader 2 nextIndex[0]: 304  matchIndex[0]: 303
term 51 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 51 leaderCommit: 303 
------------------------------------------------------
term 51 leader 2 nextIndex[1]: 0  matchIndex[1]: 0
term 51 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 51
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=303
leader log:
[{snapshot 51 299} {6992944293210356287 51 300} {459314022022561226 51 301} {1071399095028711839 51 302} {7994833058668640072 51 303}]
------------------------------------------------------
term 51 Server0 start snapshot! index=299
term 51 server0 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=303
-------------------------------------------------------------
!!!!!!connect server 1
client write log 8218529769393104898 (index 295) to leader 1
term 50 leader 1 nextIndex[0]: 0  matchIndex[0]: 294
term 50 leader 1 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 48
------------------------------------------------------
flag 83788 term 50 leader 1 nextIndex[2]: 295  matchIndex[2]: 294
term 50 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 50 leaderCommit: 294 
------------------------------------------------------
term 51 server 2 AppendEntries false 领导者任期过期 args.Term 50
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 51 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 51 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 50181 term 51 leader 2 nextIndex[0]: 304  matchIndex[0]: 303
term 51 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 51 leaderCommit: 303 
------------------------------------------------------
term 51 leader 2 nextIndex[1]: 0  matchIndex[1]: 0
term 51 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 51
------------------------------------------------------
term 51 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 299 rf.lastIncludedTerm 51 rf.commitIndex 299 rf.lastApplied 299
term 51 server 0 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=303
leader log:
[{snapshot 51 299} {6992944293210356287 51 300} {459314022022561226 51 301} {1071399095028711839 51 302} {7994833058668640072 51 303}]
------------------------------------------------------
term 51 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 300 matchIndex[1] 299 
------------------------------------------------------------------------
flag 9653 term 51 leader 2 nextIndex[0]: 304  matchIndex[0]: 303
term 51 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 51 leaderCommit: 303 
------------------------------------------------------
flag 71371 term 51 leader 2 nextIndex[1]: 300  matchIndex[1]: 299
term 51 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 51 leaderCommit: 303 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=303
leader log:
[{snapshot 51 299} {6992944293210356287 51 300} {459314022022561226 51 301} {1071399095028711839 51 302} {7994833058668640072 51 303}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=303
leader log:
[{snapshot 51 299} {6992944293210356287 51 300} {459314022022561226 51 301} {1071399095028711839 51 302} {7994833058668640072 51 303}]
------------------------------------------------------
flag 53254 term 51 leader 2 nextIndex[0]: 304  matchIndex[0]: 303
term 51 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 51 leaderCommit: 303 
------------------------------------------------------
flag 62002 term 51 leader 2 nextIndex[1]: 304  matchIndex[1]: 303
term 51 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 51 leaderCommit: 303 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:303 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=303
leader log:
[{snapshot 51 299} {6992944293210356287 51 300} {459314022022561226 51 301} {1071399095028711839 51 302} {7994833058668640072 51 303}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=303
leader log:
[{snapshot 51 299} {6992944293210356287 51 300} {459314022022561226 51 301} {1071399095028711839 51 302} {7994833058668640072 51 303}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 304->303
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61558 term 51 leader 2 nextIndex[0]: 304  matchIndex[0]: 303
term 51 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 51 leaderCommit: 303 
------------------------------------------------------
term 51 leader 2 nextIndex[1]: 0  matchIndex[1]: 303
term 51 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 51
------------------------------------------------------
term 51 server 1 InstallSnapshot fail
rf.commitIndex 303 args.LastIncludedIndex 299
------------------------------------------------------
term 51 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 300 matchIndex[1] 299 
------------------------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=303
leader log:
[{snapshot 51 299} {6992944293210356287 51 300} {459314022022561226 51 301} {1071399095028711839 51 302} {7994833058668640072 51 303}]
------------------------------------------------------
flag 46498 term 51 leader 2 nextIndex[0]: 304  matchIndex[0]: 303
term 51 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 51 leaderCommit: 303 
------------------------------------------------------
flag 17718 term 51 leader 2 nextIndex[1]: 300  matchIndex[1]: 299
term 51 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 51 leaderCommit: 303 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=303
leader log:
[{snapshot 51 299} {6992944293210356287 51 300} {459314022022561226 51 301} {1071399095028711839 51 302} {7994833058668640072 51 303}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=303
leader log:
[{snapshot 51 299} {6992944293210356287 51 300} {459314022022561226 51 301} {1071399095028711839 51 302} {7994833058668640072 51 303}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2976 term 51 leader 2 nextIndex[0]: 304  matchIndex[0]: 303
term 51 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 51 leaderCommit: 303 
------------------------------------------------------
flag 17659 term 51 leader 2 nextIndex[1]: 304  matchIndex[1]: 303
term 51 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 51 leaderCommit: 303 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=303
leader log:
[{snapshot 51 299} {6992944293210356287 51 300} {459314022022561226 51 301} {1071399095028711839 51 302} {7994833058668640072 51 303}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=303
leader log:
[{snapshot 51 299} {6992944293210356287 51 300} {459314022022561226 51 301} {1071399095028711839 51 302} {7994833058668640072 51 303}]
------------------------------------------------------
flag 25372 term 51 leader 2 nextIndex[0]: 304  matchIndex[0]: 303
term 51 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 51 leaderCommit: 303 
------------------------------------------------------
flag 42304 term 51 leader 2 nextIndex[1]: 304  matchIndex[1]: 303
term 51 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 51 leaderCommit: 303 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:303 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=303
leader log:
[{snapshot 51 299} {6992944293210356287 51 300} {459314022022561226 51 301} {1071399095028711839 51 302} {7994833058668640072 51 303}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=303
leader log:
[{snapshot 51 299} {6992944293210356287 51 300} {459314022022561226 51 301} {1071399095028711839 51 302} {7994833058668640072 51 303}]
------------------------------------------------------
flag 60869 term 51 leader 2 nextIndex[0]: 304  matchIndex[0]: 303
term 51 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 51 leaderCommit: 303 
------------------------------------------------------
flag 70076 term 51 leader 2 nextIndex[1]: 304  matchIndex[1]: 303
term 51 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 51 leaderCommit: 303 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=303
leader log:
[{snapshot 51 299} {6992944293210356287 51 300} {459314022022561226 51 301} {1071399095028711839 51 302} {7994833058668640072 51 303}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=303
leader log:
[{snapshot 51 299} {6992944293210356287 51 300} {459314022022561226 51 301} {1071399095028711839 51 302} {7994833058668640072 51 303}]
------------------------------------------------------
flag 51953 term 51 leader 2 nextIndex[0]: 304  matchIndex[0]: 303
term 51 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 51 leaderCommit: 303 
------------------------------------------------------
flag 55450 term 51 leader 2 nextIndex[1]: 304  matchIndex[1]: 303
term 51 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 51 leaderCommit: 303 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=303
leader log:
[{snapshot 51 299} {6992944293210356287 51 300} {459314022022561226 51 301} {1071399095028711839 51 302} {7994833058668640072 51 303}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=303
leader log:
[{snapshot 51 299} {6992944293210356287 51 300} {459314022022561226 51 301} {1071399095028711839 51 302} {7994833058668640072 51 303}]
------------------------------------------------------
term 51 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 52925 term 51 leader 2 nextIndex[0]: 304  matchIndex[0]: 303
term 51 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 51 leaderCommit: 303 
------------------------------------------------------
flag 7418 term 51 leader 2 nextIndex[1]: 304  matchIndex[1]: 303
term 51 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 51 leaderCommit: 303 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=303
leader log:
[{snapshot 51 299} {6992944293210356287 51 300} {459314022022561226 51 301} {1071399095028711839 51 302} {7994833058668640072 51 303}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=303
leader log:
[{snapshot 51 299} {6992944293210356287 51 300} {459314022022561226 51 301} {1071399095028711839 51 302} {7994833058668640072 51 303}]
------------------------------------------------------
flag 2293 term 51 leader 2 nextIndex[0]: 304  matchIndex[0]: 303
term 51 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 51 leaderCommit: 303 
------------------------------------------------------
flag 17453 term 51 leader 2 nextIndex[1]: 304  matchIndex[1]: 303
term 51 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 51 leaderCommit: 303 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=303
leader log:
[{snapshot 51 299} {6992944293210356287 51 300} {459314022022561226 51 301} {1071399095028711839 51 302} {7994833058668640072 51 303}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=303
leader log:
[{snapshot 51 299} {6992944293210356287 51 300} {459314022022561226 51 301} {1071399095028711839 51 302} {7994833058668640072 51 303}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65692 term 51 leader 2 nextIndex[0]: 304  matchIndex[0]: 303
term 51 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 51 leaderCommit: 303 
------------------------------------------------------
flag 93171 term 51 leader 2 nextIndex[1]: 304  matchIndex[1]: 303
term 51 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 51 leaderCommit: 303 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=303
leader log:
[{snapshot 51 299} {6992944293210356287 51 300} {459314022022561226 51 301} {1071399095028711839 51 302} {7994833058668640072 51 303}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=303
leader log:
[{snapshot 51 299} {6992944293210356287 51 300} {459314022022561226 51 301} {1071399095028711839 51 302} {7994833058668640072 51 303}]
------------------------------------------------------
flag 10400 term 51 leader 2 nextIndex[0]: 304  matchIndex[0]: 303
term 51 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 51 leaderCommit: 303 
------------------------------------------------------
flag 78146 term 51 leader 2 nextIndex[1]: 304  matchIndex[1]: 303
term 51 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 51 leaderCommit: 303 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=303
leader log:
[{snapshot 51 299} {6992944293210356287 51 300} {459314022022561226 51 301} {1071399095028711839 51 302} {7994833058668640072 51 303}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=303
leader log:
[{snapshot 51 299} {6992944293210356287 51 300} {459314022022561226 51 301} {1071399095028711839 51 302} {7994833058668640072 51 303}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37671 term 51 leader 2 nextIndex[0]: 304  matchIndex[0]: 303
term 51 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 51 leaderCommit: 303 
------------------------------------------------------
flag 8609 term 51 leader 2 nextIndex[1]: 304  matchIndex[1]: 303
term 51 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 51 leaderCommit: 303 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=303
leader log:
[{snapshot 51 299} {6992944293210356287 51 300} {459314022022561226 51 301} {1071399095028711839 51 302} {7994833058668640072 51 303}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=303
leader log:
[{snapshot 51 299} {6992944293210356287 51 300} {459314022022561226 51 301} {1071399095028711839 51 302} {7994833058668640072 51 303}]
------------------------------------------------------
flag 84796 term 51 leader 2 nextIndex[0]: 304  matchIndex[0]: 303
term 51 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 51 leaderCommit: 303 
------------------------------------------------------
flag 6371 term 51 leader 2 nextIndex[1]: 304  matchIndex[1]: 303
term 51 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 51 leaderCommit: 303 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=303
leader log:
[{snapshot 51 299} {6992944293210356287 51 300} {459314022022561226 51 301} {1071399095028711839 51 302} {7994833058668640072 51 303}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=303
leader log:
[{snapshot 51 299} {6992944293210356287 51 300} {459314022022561226 51 301} {1071399095028711839 51 302} {7994833058668640072 51 303}]
------------------------------------------------------
term 51 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 50545 term 51 leader 2 nextIndex[0]: 304  matchIndex[0]: 303
term 51 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 51 leaderCommit: 303 
------------------------------------------------------
flag 21240 term 51 leader 2 nextIndex[1]: 304  matchIndex[1]: 303
term 51 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 51 leaderCommit: 303 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:303 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=303
leader log:
[{snapshot 51 299} {6992944293210356287 51 300} {459314022022561226 51 301} {1071399095028711839 51 302} {7994833058668640072 51 303}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=303
leader log:
[{snapshot 51 299} {6992944293210356287 51 300} {459314022022561226 51 301} {1071399095028711839 51 302} {7994833058668640072 51 303}]
------------------------------------------------------
flag 7608 term 51 leader 2 nextIndex[0]: 304  matchIndex[0]: 303
term 51 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 51 leaderCommit: 303 
------------------------------------------------------
flag 71881 term 51 leader 2 nextIndex[1]: 304  matchIndex[1]: 303
term 51 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 51 leaderCommit: 303 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=303
leader log:
[{snapshot 51 299} {6992944293210356287 51 300} {459314022022561226 51 301} {1071399095028711839 51 302} {7994833058668640072 51 303}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=303
leader log:
[{snapshot 51 299} {6992944293210356287 51 300} {459314022022561226 51 301} {1071399095028711839 51 302} {7994833058668640072 51 303}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72453 term 51 leader 2 nextIndex[0]: 304  matchIndex[0]: 303
term 51 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 51 leaderCommit: 303 
------------------------------------------------------
flag 75101 term 51 leader 2 nextIndex[1]: 304  matchIndex[1]: 303
term 51 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 51 leaderCommit: 303 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=303
leader log:
[{snapshot 51 299} {6992944293210356287 51 300} {459314022022561226 51 301} {1071399095028711839 51 302} {7994833058668640072 51 303}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=303
leader log:
[{snapshot 51 299} {6992944293210356287 51 300} {459314022022561226 51 301} {1071399095028711839 51 302} {7994833058668640072 51 303}]
------------------------------------------------------
flag 48200 term 51 leader 2 nextIndex[0]: 304  matchIndex[0]: 303
term 51 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 51 leaderCommit: 303 
------------------------------------------------------
flag 92491 term 51 leader 2 nextIndex[1]: 304  matchIndex[1]: 303
term 51 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 51 leaderCommit: 303 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=303
leader log:
[{snapshot 51 299} {6992944293210356287 51 300} {459314022022561226 51 301} {1071399095028711839 51 302} {7994833058668640072 51 303}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=303
leader log:
[{snapshot 51 299} {6992944293210356287 51 300} {459314022022561226 51 301} {1071399095028711839 51 302} {7994833058668640072 51 303}]
------------------------------------------------------
flag 10744 term 51 leader 2 nextIndex[0]: 304  matchIndex[0]: 303
term 51 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 51 leaderCommit: 303 
------------------------------------------------------
flag 20577 term 51 leader 2 nextIndex[1]: 304  matchIndex[1]: 303
term 51 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 51 leaderCommit: 303 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:303 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=303
leader log:
[{snapshot 51 299} {6992944293210356287 51 300} {459314022022561226 51 301} {1071399095028711839 51 302} {7994833058668640072 51 303}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=303
leader log:
[{snapshot 51 299} {6992944293210356287 51 300} {459314022022561226 51 301} {1071399095028711839 51 302} {7994833058668640072 51 303}]
------------------------------------------------------
client write log 8218529769393104898 (index 304) to leader 2
flag 42957 term 51 leader 2 nextIndex[0]: 304  matchIndex[0]: 303
term 51 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 51 leaderCommit: 303 
------------------------------------------------------
flag 81154 term 51 leader 2 nextIndex[1]: 304  matchIndex[1]: 303
term 51 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 51 leaderCommit: 303 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=305
update matchIndex[1]=304
update leader CommitIndex=304
leader log:
[{snapshot 51 299} {6992944293210356287 51 300} {459314022022561226 51 301} {1071399095028711839 51 302} {7994833058668640072 51 303} {8218529769393104898 51 304}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=305
update matchIndex[0]=304
update leader CommitIndex=304
leader log:
[{snapshot 51 299} {6992944293210356287 51 300} {459314022022561226 51 301} {1071399095028711839 51 302} {7994833058668640072 51 303} {8218529769393104898 51 304}]
------------------------------------------------------
flag 90408 term 51 leader 2 nextIndex[0]: 305  matchIndex[0]: 304
term 51 leader 2 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 51 leaderCommit: 304 
------------------------------------------------------
flag 17710 term 51 leader 2 nextIndex[1]: 305  matchIndex[1]: 304
term 51 leader 2 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 51 leaderCommit: 304 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=305
update matchIndex[1]=304
update leader CommitIndex=304
leader log:
[{snapshot 51 299} {6992944293210356287 51 300} {459314022022561226 51 301} {1071399095028711839 51 302} {7994833058668640072 51 303} {8218529769393104898 51 304}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=305
update matchIndex[0]=304
update leader CommitIndex=304
leader log:
[{snapshot 51 299} {6992944293210356287 51 300} {459314022022561226 51 301} {1071399095028711839 51 302} {7994833058668640072 51 303} {8218529769393104898 51 304}]
------------------------------------------------------
flag 82487 term 51 leader 2 nextIndex[0]: 305  matchIndex[0]: 304
term 51 leader 2 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 51 leaderCommit: 304 
------------------------------------------------------
flag 98673 term 51 leader 2 nextIndex[1]: 305  matchIndex[1]: 304
term 51 leader 2 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 51 leaderCommit: 304 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=305
update matchIndex[1]=304
update leader CommitIndex=304
leader log:
[{snapshot 51 299} {6992944293210356287 51 300} {459314022022561226 51 301} {1071399095028711839 51 302} {7994833058668640072 51 303} {8218529769393104898 51 304}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=305
update matchIndex[0]=304
update leader CommitIndex=304
leader log:
[{snapshot 51 299} {6992944293210356287 51 300} {459314022022561226 51 301} {1071399095028711839 51 302} {7994833058668640072 51 303} {8218529769393104898 51 304}]
------------------------------------------------------
flag 19506 term 51 leader 2 nextIndex[0]: 305  matchIndex[0]: 304
term 51 leader 2 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 51 leaderCommit: 304 
------------------------------------------------------
flag 77903 term 51 leader 2 nextIndex[1]: 305  matchIndex[1]: 304
term 51 leader 2 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 51 leaderCommit: 304 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=305
update matchIndex[1]=304
update leader CommitIndex=304
leader log:
[{snapshot 51 299} {6992944293210356287 51 300} {459314022022561226 51 301} {1071399095028711839 51 302} {7994833058668640072 51 303} {8218529769393104898 51 304}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=305
update matchIndex[0]=304
update leader CommitIndex=304
leader log:
[{snapshot 51 299} {6992944293210356287 51 300} {459314022022561226 51 301} {1071399095028711839 51 302} {7994833058668640072 51 303} {8218529769393104898 51 304}]
------------------------------------------------------
flag 57824 term 51 leader 2 nextIndex[0]: 305  matchIndex[0]: 304
term 51 leader 2 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 51 leaderCommit: 304 
------------------------------------------------------
flag 75049 term 51 leader 2 nextIndex[1]: 305  matchIndex[1]: 304
term 51 leader 2 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 51 leaderCommit: 304 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=305
update matchIndex[1]=304
update leader CommitIndex=304
leader log:
[{snapshot 51 299} {6992944293210356287 51 300} {459314022022561226 51 301} {1071399095028711839 51 302} {7994833058668640072 51 303} {8218529769393104898 51 304}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=305
update matchIndex[0]=304
update leader CommitIndex=304
leader log:
[{snapshot 51 299} {6992944293210356287 51 300} {459314022022561226 51 301} {1071399095028711839 51 302} {7994833058668640072 51 303} {8218529769393104898 51 304}]
------------------------------------------------------
flag 18851 term 51 leader 2 nextIndex[0]: 305  matchIndex[0]: 304
term 51 leader 2 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 51 leaderCommit: 304 
------------------------------------------------------
flag 58455 term 51 leader 2 nextIndex[1]: 305  matchIndex[1]: 304
term 51 leader 2 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 51 leaderCommit: 304 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=305
update matchIndex[1]=304
update leader CommitIndex=304
leader log:
[{snapshot 51 299} {6992944293210356287 51 300} {459314022022561226 51 301} {1071399095028711839 51 302} {7994833058668640072 51 303} {8218529769393104898 51 304}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=305
update matchIndex[0]=304
update leader CommitIndex=304
leader log:
[{snapshot 51 299} {6992944293210356287 51 300} {459314022022561226 51 301} {1071399095028711839 51 302} {7994833058668640072 51 303} {8218529769393104898 51 304}]
------------------------------------------------------
term 51 server 1 not vote for server 2, 任期不够新
term 51 server 2 get outdate rpc reply from server 1
!!!!!!diconnect server 0
client write log 7325408192421681061 (index 305) to leader 2
flag 17962 term 51 leader 2 nextIndex[0]: 305  matchIndex[0]: 304
term 51 leader 2 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 51 leaderCommit: 304 
------------------------------------------------------
flag 3598 term 51 leader 2 nextIndex[1]: 305  matchIndex[1]: 304
term 51 leader 2 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 51 leaderCommit: 304 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=305
leader log:
[{snapshot 51 299} {6992944293210356287 51 300} {459314022022561226 51 301} {1071399095028711839 51 302} {7994833058668640072 51 303} {8218529769393104898 51 304} {7325408192421681061 51 305}]
------------------------------------------------------
flag 40397 term 51 leader 2 nextIndex[0]: 305  matchIndex[0]: 304
term 51 leader 2 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 51 leaderCommit: 305 
------------------------------------------------------
flag 5286 term 51 leader 2 nextIndex[1]: 306  matchIndex[1]: 305
term 51 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 51 leaderCommit: 305 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=305
leader log:
[{snapshot 51 299} {6992944293210356287 51 300} {459314022022561226 51 301} {1071399095028711839 51 302} {7994833058668640072 51 303} {8218529769393104898 51 304} {7325408192421681061 51 305}]
------------------------------------------------------
client write log 2478770716469686714 (index 306) to leader 2
client write log 8078615842507709604 (index 307) to leader 2
client write log 279033253761804757 (index 308) to leader 2
client write log 1730587395753347626 (index 309) to leader 2
client write log 4884748719050776513 (index 310) to leader 2
client write log 4480106513906687502 (index 311) to leader 2
client write log 7752083447064205291 (index 312) to leader 2
flag 15992 term 51 leader 2 nextIndex[0]: 305  matchIndex[0]: 304
term 51 leader 2 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 51 leaderCommit: 305 
------------------------------------------------------
flag 39146 term 51 leader 2 nextIndex[1]: 306  matchIndex[1]: 305
term 51 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 51 leaderCommit: 305 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=313
update matchIndex[1]=312
update leader CommitIndex=312
leader log:
[{snapshot 51 299} {6992944293210356287 51 300} {459314022022561226 51 301} {1071399095028711839 51 302} {7994833058668640072 51 303} {8218529769393104898 51 304} {7325408192421681061 51 305} {2478770716469686714 51 306} {8078615842507709604 51 307} {279033253761804757 51 308} {1730587395753347626 51 309} {4884748719050776513 51 310} {4480106513906687502 51 311} {7752083447064205291 51 312}]
------------------------------------------------------
term 51 Server2 start snapshot! index=309
term 51 server2 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=312
-------------------------------------------------------------
term 51 leader 2 nextIndex[0]: 305  matchIndex[0]: 304
term 51 leader 2 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 51
------------------------------------------------------
flag 57231 term 51 leader 2 nextIndex[1]: 313  matchIndex[1]: 312
term 51 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 51 leaderCommit: 312 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=313
update matchIndex[1]=312
update leader CommitIndex=312
leader log:
[{snapshot 51 309} {4884748719050776513 51 310} {4480106513906687502 51 311} {7752083447064205291 51 312}]
------------------------------------------------------
term 51 Server1 start snapshot! index=309
term 51 server1 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=312
-------------------------------------------------------------
!!!!!!connect server 0
client write log 7026467547014782082 (index 313) to leader 2
term 51 leader 2 nextIndex[0]: 305  matchIndex[0]: 304
term 51 leader 2 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 51
------------------------------------------------------
flag 29533 term 51 leader 2 nextIndex[1]: 313  matchIndex[1]: 312
term 51 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 51 leaderCommit: 312 
------------------------------------------------------
term 52 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:312 
------------------------------------------------------
term 51 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 51 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 53 server 1 vote for server 2
term 53 server 2 get vote from server 1
term 53 server 0 vote for server 2
term 53 server 2 become leader
------------------------------------------------------
term 53 server 2 get outdate rpc reply from server 0
flag 53975 term 53 leader 2 nextIndex[0]: 314  matchIndex[0]: 0
term 53 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 51 leaderCommit: 312 
------------------------------------------------------
flag 22416 term 53 leader 2 nextIndex[1]: 314  matchIndex[1]: 0
term 53 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 51 leaderCommit: 312 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:312 
------------------------------------------------------
term 53 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=312
leader log:
[{snapshot 51 309} {4884748719050776513 51 310} {4480106513906687502 51 311} {7752083447064205291 51 312} {7026467547014782082 51 313}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 314->313
------------------------------------------------------
term 53 leader 2 nextIndex[0]: 305  matchIndex[0]: 0
term 53 leader 2 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 51
------------------------------------------------------
flag 67514 term 53 leader 2 nextIndex[1]: 314  matchIndex[1]: 313
term 53 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 51 leaderCommit: 312 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=312
leader log:
[{snapshot 51 309} {4884748719050776513 51 310} {4480106513906687502 51 311} {7752083447064205291 51 312} {7026467547014782082 51 313}]
------------------------------------------------------
term 53 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 309 rf.lastIncludedTerm 51 rf.commitIndex 309 rf.lastApplied 309
term 53 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 310 matchIndex[0] 309 
------------------------------------------------------------------------
flag 90522 term 53 leader 2 nextIndex[0]: 310  matchIndex[0]: 309
term 53 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 51 leaderCommit: 312 
------------------------------------------------------
flag 71033 term 53 leader 2 nextIndex[1]: 314  matchIndex[1]: 313
term 53 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 51 leaderCommit: 312 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:312 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=312
leader log:
[{snapshot 51 309} {4884748719050776513 51 310} {4480106513906687502 51 311} {7752083447064205291 51 312} {7026467547014782082 51 313}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=314
update matchIndex[0]=313
update leader CommitIndex=312
leader log:
[{snapshot 51 309} {4884748719050776513 51 310} {4480106513906687502 51 311} {7752083447064205291 51 312} {7026467547014782082 51 313}]
------------------------------------------------------
term 53 server 0 not vote for server 2, 任期不够新
term 53 server 2 get outdate rpc reply from server 0
flag 5584 term 53 leader 2 nextIndex[0]: 314  matchIndex[0]: 313
term 53 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 51 leaderCommit: 312 
------------------------------------------------------
flag 96874 term 53 leader 2 nextIndex[1]: 314  matchIndex[1]: 313
term 53 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 51 leaderCommit: 312 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:312 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=314
update matchIndex[0]=313
update leader CommitIndex=312
leader log:
[{snapshot 51 309} {4884748719050776513 51 310} {4480106513906687502 51 311} {7752083447064205291 51 312} {7026467547014782082 51 313}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=312
leader log:
[{snapshot 51 309} {4884748719050776513 51 310} {4480106513906687502 51 311} {7752083447064205291 51 312} {7026467547014782082 51 313}]
------------------------------------------------------
flag 68310 term 53 leader 2 nextIndex[0]: 314  matchIndex[0]: 313
term 53 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 51 leaderCommit: 312 
------------------------------------------------------
flag 31270 term 53 leader 2 nextIndex[1]: 314  matchIndex[1]: 313
term 53 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 51 leaderCommit: 312 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:312 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=312
leader log:
[{snapshot 51 309} {4884748719050776513 51 310} {4480106513906687502 51 311} {7752083447064205291 51 312} {7026467547014782082 51 313}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=314
update matchIndex[0]=313
update leader CommitIndex=312
leader log:
[{snapshot 51 309} {4884748719050776513 51 310} {4480106513906687502 51 311} {7752083447064205291 51 312} {7026467547014782082 51 313}]
------------------------------------------------------
flag 32360 term 53 leader 2 nextIndex[0]: 314  matchIndex[0]: 313
term 53 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 51 leaderCommit: 312 
------------------------------------------------------
flag 42148 term 53 leader 2 nextIndex[1]: 314  matchIndex[1]: 313
term 53 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 51 leaderCommit: 312 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=314
update matchIndex[0]=313
update leader CommitIndex=312
leader log:
[{snapshot 51 309} {4884748719050776513 51 310} {4480106513906687502 51 311} {7752083447064205291 51 312} {7026467547014782082 51 313}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=312
leader log:
[{snapshot 51 309} {4884748719050776513 51 310} {4480106513906687502 51 311} {7752083447064205291 51 312} {7026467547014782082 51 313}]
------------------------------------------------------
flag 35462 term 53 leader 2 nextIndex[0]: 314  matchIndex[0]: 313
term 53 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 51 leaderCommit: 312 
------------------------------------------------------
flag 28657 term 53 leader 2 nextIndex[1]: 314  matchIndex[1]: 313
term 53 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 51 leaderCommit: 312 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:312 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=312
leader log:
[{snapshot 51 309} {4884748719050776513 51 310} {4480106513906687502 51 311} {7752083447064205291 51 312} {7026467547014782082 51 313}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=314
update matchIndex[0]=313
update leader CommitIndex=312
leader log:
[{snapshot 51 309} {4884748719050776513 51 310} {4480106513906687502 51 311} {7752083447064205291 51 312} {7026467547014782082 51 313}]
------------------------------------------------------
flag 89371 term 53 leader 2 nextIndex[0]: 314  matchIndex[0]: 313
term 53 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 51 leaderCommit: 312 
------------------------------------------------------
flag 12930 term 53 leader 2 nextIndex[1]: 314  matchIndex[1]: 313
term 53 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 51 leaderCommit: 312 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:312 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=312
leader log:
[{snapshot 51 309} {4884748719050776513 51 310} {4480106513906687502 51 311} {7752083447064205291 51 312} {7026467547014782082 51 313}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=314
update matchIndex[0]=313
update leader CommitIndex=312
leader log:
[{snapshot 51 309} {4884748719050776513 51 310} {4480106513906687502 51 311} {7752083447064205291 51 312} {7026467547014782082 51 313}]
------------------------------------------------------
flag 58470 term 53 leader 2 nextIndex[0]: 314  matchIndex[0]: 313
term 53 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 51 leaderCommit: 312 
------------------------------------------------------
flag 48623 term 53 leader 2 nextIndex[1]: 314  matchIndex[1]: 313
term 53 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 51 leaderCommit: 312 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=312
leader log:
[{snapshot 51 309} {4884748719050776513 51 310} {4480106513906687502 51 311} {7752083447064205291 51 312} {7026467547014782082 51 313}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=314
update matchIndex[0]=313
update leader CommitIndex=312
leader log:
[{snapshot 51 309} {4884748719050776513 51 310} {4480106513906687502 51 311} {7752083447064205291 51 312} {7026467547014782082 51 313}]
------------------------------------------------------
flag 90692 term 53 leader 2 nextIndex[0]: 314  matchIndex[0]: 313
term 53 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 51 leaderCommit: 312 
------------------------------------------------------
flag 60247 term 53 leader 2 nextIndex[1]: 314  matchIndex[1]: 313
term 53 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 51 leaderCommit: 312 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:312 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=312
leader log:
[{snapshot 51 309} {4884748719050776513 51 310} {4480106513906687502 51 311} {7752083447064205291 51 312} {7026467547014782082 51 313}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=314
update matchIndex[0]=313
update leader CommitIndex=312
leader log:
[{snapshot 51 309} {4884748719050776513 51 310} {4480106513906687502 51 311} {7752083447064205291 51 312} {7026467547014782082 51 313}]
------------------------------------------------------
term 53 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99834 term 53 leader 2 nextIndex[0]: 314  matchIndex[0]: 313
term 53 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 51 leaderCommit: 312 
------------------------------------------------------
flag 32040 term 53 leader 2 nextIndex[1]: 314  matchIndex[1]: 313
term 53 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 51 leaderCommit: 312 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:312 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=312
leader log:
[{snapshot 51 309} {4884748719050776513 51 310} {4480106513906687502 51 311} {7752083447064205291 51 312} {7026467547014782082 51 313}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=314
update matchIndex[0]=313
update leader CommitIndex=312
leader log:
[{snapshot 51 309} {4884748719050776513 51 310} {4480106513906687502 51 311} {7752083447064205291 51 312} {7026467547014782082 51 313}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94574 term 53 leader 2 nextIndex[0]: 314  matchIndex[0]: 313
term 53 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 51 leaderCommit: 312 
------------------------------------------------------
flag 37626 term 53 leader 2 nextIndex[1]: 314  matchIndex[1]: 313
term 53 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 51 leaderCommit: 312 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=312
leader log:
[{snapshot 51 309} {4884748719050776513 51 310} {4480106513906687502 51 311} {7752083447064205291 51 312} {7026467547014782082 51 313}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=314
update matchIndex[0]=313
update leader CommitIndex=312
leader log:
[{snapshot 51 309} {4884748719050776513 51 310} {4480106513906687502 51 311} {7752083447064205291 51 312} {7026467547014782082 51 313}]
------------------------------------------------------
flag 47123 term 53 leader 2 nextIndex[0]: 314  matchIndex[0]: 313
term 53 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 51 leaderCommit: 312 
------------------------------------------------------
flag 36016 term 53 leader 2 nextIndex[1]: 314  matchIndex[1]: 313
term 53 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 51 leaderCommit: 312 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=314
update matchIndex[0]=313
update leader CommitIndex=312
leader log:
[{snapshot 51 309} {4884748719050776513 51 310} {4480106513906687502 51 311} {7752083447064205291 51 312} {7026467547014782082 51 313}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=312
leader log:
[{snapshot 51 309} {4884748719050776513 51 310} {4480106513906687502 51 311} {7752083447064205291 51 312} {7026467547014782082 51 313}]
------------------------------------------------------
flag 35564 term 53 leader 2 nextIndex[0]: 314  matchIndex[0]: 313
term 53 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 51 leaderCommit: 312 
------------------------------------------------------
flag 8055 term 53 leader 2 nextIndex[1]: 314  matchIndex[1]: 313
term 53 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 51 leaderCommit: 312 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=312
leader log:
[{snapshot 51 309} {4884748719050776513 51 310} {4480106513906687502 51 311} {7752083447064205291 51 312} {7026467547014782082 51 313}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=314
update matchIndex[0]=313
update leader CommitIndex=312
leader log:
[{snapshot 51 309} {4884748719050776513 51 310} {4480106513906687502 51 311} {7752083447064205291 51 312} {7026467547014782082 51 313}]
------------------------------------------------------
flag 9252 term 53 leader 2 nextIndex[0]: 314  matchIndex[0]: 313
term 53 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 51 leaderCommit: 312 
------------------------------------------------------
flag 82605 term 53 leader 2 nextIndex[1]: 314  matchIndex[1]: 313
term 53 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 51 leaderCommit: 312 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=312
leader log:
[{snapshot 51 309} {4884748719050776513 51 310} {4480106513906687502 51 311} {7752083447064205291 51 312} {7026467547014782082 51 313}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=314
update matchIndex[0]=313
update leader CommitIndex=312
leader log:
[{snapshot 51 309} {4884748719050776513 51 310} {4480106513906687502 51 311} {7752083447064205291 51 312} {7026467547014782082 51 313}]
------------------------------------------------------
term 53 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 23747 term 53 leader 2 nextIndex[0]: 314  matchIndex[0]: 313
term 53 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 51 leaderCommit: 312 
------------------------------------------------------
flag 31659 term 53 leader 2 nextIndex[1]: 314  matchIndex[1]: 313
term 53 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 51 leaderCommit: 312 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=312
leader log:
[{snapshot 51 309} {4884748719050776513 51 310} {4480106513906687502 51 311} {7752083447064205291 51 312} {7026467547014782082 51 313}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=314
update matchIndex[0]=313
update leader CommitIndex=312
leader log:
[{snapshot 51 309} {4884748719050776513 51 310} {4480106513906687502 51 311} {7752083447064205291 51 312} {7026467547014782082 51 313}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 53 server 2 not vote for server 0, 任期不够新
term 53 server 0 get outdate rpc reply from server 2
flag 84438 term 53 leader 2 nextIndex[0]: 314  matchIndex[0]: 313
term 53 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 51 leaderCommit: 312 
------------------------------------------------------
flag 62569 term 53 leader 2 nextIndex[1]: 314  matchIndex[1]: 313
term 53 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 51 leaderCommit: 312 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=312
leader log:
[{snapshot 51 309} {4884748719050776513 51 310} {4480106513906687502 51 311} {7752083447064205291 51 312} {7026467547014782082 51 313}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=314
update matchIndex[0]=313
update leader CommitIndex=312
leader log:
[{snapshot 51 309} {4884748719050776513 51 310} {4480106513906687502 51 311} {7752083447064205291 51 312} {7026467547014782082 51 313}]
------------------------------------------------------
flag 77905 term 53 leader 2 nextIndex[0]: 314  matchIndex[0]: 313
term 53 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 51 leaderCommit: 312 
------------------------------------------------------
flag 93863 term 53 leader 2 nextIndex[1]: 314  matchIndex[1]: 313
term 53 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 51 leaderCommit: 312 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:312 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=312
leader log:
[{snapshot 51 309} {4884748719050776513 51 310} {4480106513906687502 51 311} {7752083447064205291 51 312} {7026467547014782082 51 313}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=314
update matchIndex[0]=313
update leader CommitIndex=312
leader log:
[{snapshot 51 309} {4884748719050776513 51 310} {4480106513906687502 51 311} {7752083447064205291 51 312} {7026467547014782082 51 313}]
------------------------------------------------------
client write log 7026467547014782082 (index 314) to leader 2
flag 42440 term 53 leader 2 nextIndex[0]: 314  matchIndex[0]: 313
term 53 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 51 leaderCommit: 312 
------------------------------------------------------
flag 24414 term 53 leader 2 nextIndex[1]: 314  matchIndex[1]: 313
term 53 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 51 leaderCommit: 312 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=314
leader log:
[{snapshot 51 309} {4884748719050776513 51 310} {4480106513906687502 51 311} {7752083447064205291 51 312} {7026467547014782082 51 313} {7026467547014782082 53 314}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=315
update matchIndex[0]=314
update leader CommitIndex=314
leader log:
[{snapshot 51 309} {4884748719050776513 51 310} {4480106513906687502 51 311} {7752083447064205291 51 312} {7026467547014782082 51 313} {7026467547014782082 53 314}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15740 term 53 leader 2 nextIndex[0]: 315  matchIndex[0]: 314
term 53 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 53 leaderCommit: 314 
------------------------------------------------------
flag 91996 term 53 leader 2 nextIndex[1]: 315  matchIndex[1]: 314
term 53 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 53 leaderCommit: 314 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=314
leader log:
[{snapshot 51 309} {4884748719050776513 51 310} {4480106513906687502 51 311} {7752083447064205291 51 312} {7026467547014782082 51 313} {7026467547014782082 53 314}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=315
update matchIndex[0]=314
update leader CommitIndex=314
leader log:
[{snapshot 51 309} {4884748719050776513 51 310} {4480106513906687502 51 311} {7752083447064205291 51 312} {7026467547014782082 51 313} {7026467547014782082 53 314}]
------------------------------------------------------
flag 4651 term 53 leader 2 nextIndex[0]: 315  matchIndex[0]: 314
term 53 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 53 leaderCommit: 314 
------------------------------------------------------
flag 7746 term 53 leader 2 nextIndex[1]: 315  matchIndex[1]: 314
term 53 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 53 leaderCommit: 314 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=314
leader log:
[{snapshot 51 309} {4884748719050776513 51 310} {4480106513906687502 51 311} {7752083447064205291 51 312} {7026467547014782082 51 313} {7026467547014782082 53 314}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=315
update matchIndex[0]=314
update leader CommitIndex=314
leader log:
[{snapshot 51 309} {4884748719050776513 51 310} {4480106513906687502 51 311} {7752083447064205291 51 312} {7026467547014782082 51 313} {7026467547014782082 53 314}]
------------------------------------------------------
flag 18062 term 53 leader 2 nextIndex[0]: 315  matchIndex[0]: 314
term 53 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 53 leaderCommit: 314 
------------------------------------------------------
flag 50503 term 53 leader 2 nextIndex[1]: 315  matchIndex[1]: 314
term 53 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 53 leaderCommit: 314 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=315
update matchIndex[0]=314
update leader CommitIndex=314
leader log:
[{snapshot 51 309} {4884748719050776513 51 310} {4480106513906687502 51 311} {7752083447064205291 51 312} {7026467547014782082 51 313} {7026467547014782082 53 314}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=314
leader log:
[{snapshot 51 309} {4884748719050776513 51 310} {4480106513906687502 51 311} {7752083447064205291 51 312} {7026467547014782082 51 313} {7026467547014782082 53 314}]
------------------------------------------------------
flag 67162 term 53 leader 2 nextIndex[0]: 315  matchIndex[0]: 314
term 53 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 53 leaderCommit: 314 
------------------------------------------------------
flag 14717 term 53 leader 2 nextIndex[1]: 315  matchIndex[1]: 314
term 53 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 53 leaderCommit: 314 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=314
leader log:
[{snapshot 51 309} {4884748719050776513 51 310} {4480106513906687502 51 311} {7752083447064205291 51 312} {7026467547014782082 51 313} {7026467547014782082 53 314}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=315
update matchIndex[0]=314
update leader CommitIndex=314
leader log:
[{snapshot 51 309} {4884748719050776513 51 310} {4480106513906687502 51 311} {7752083447064205291 51 312} {7026467547014782082 51 313} {7026467547014782082 53 314}]
------------------------------------------------------
flag 35250 term 53 leader 2 nextIndex[0]: 315  matchIndex[0]: 314
term 53 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 53 leaderCommit: 314 
------------------------------------------------------
flag 98025 term 53 leader 2 nextIndex[1]: 315  matchIndex[1]: 314
term 53 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 53 leaderCommit: 314 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=314
leader log:
[{snapshot 51 309} {4884748719050776513 51 310} {4480106513906687502 51 311} {7752083447064205291 51 312} {7026467547014782082 51 313} {7026467547014782082 53 314}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=315
update matchIndex[0]=314
update leader CommitIndex=314
leader log:
[{snapshot 51 309} {4884748719050776513 51 310} {4480106513906687502 51 311} {7752083447064205291 51 312} {7026467547014782082 51 313} {7026467547014782082 53 314}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63407 term 53 leader 2 nextIndex[0]: 315  matchIndex[0]: 314
term 53 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 53 leaderCommit: 314 
------------------------------------------------------
flag 27778 term 53 leader 2 nextIndex[1]: 315  matchIndex[1]: 314
term 53 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 53 leaderCommit: 314 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=314
leader log:
[{snapshot 51 309} {4884748719050776513 51 310} {4480106513906687502 51 311} {7752083447064205291 51 312} {7026467547014782082 51 313} {7026467547014782082 53 314}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=315
update matchIndex[0]=314
update leader CommitIndex=314
leader log:
[{snapshot 51 309} {4884748719050776513 51 310} {4480106513906687502 51 311} {7752083447064205291 51 312} {7026467547014782082 51 313} {7026467547014782082 53 314}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
  ... Passed --  79.5  3 1808  775816  314
--- PASS: TestSnapshotInstall2D (79.50s)
PASS
