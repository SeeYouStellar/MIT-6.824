=== RUN   TestSnapshotInstall2D
Test (2D): install snapshots (disconnect) ...
term 1 server 1 vote for server 2
term 1 server 0 vote for server 2
term 1 server 2 get vote from server 1
term 1 server 2 become leader
------------------------------------------------------
term 1 server 2 get outdate rpc reply from server 0
flag 95092 term 1 leader 2 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 13123 term 1 leader 2 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=1
update matchIndex[0]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=1
update matchIndex[1]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
client write log 199395740639866679 (index 1) to leader 2
flag 67460 term 1 leader 2 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 76593 term 1 leader 2 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {199395740639866679 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {199395740639866679 1 1}]
------------------------------------------------------
flag 60863 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 98836 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {199395740639866679 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {199395740639866679 1 1}]
------------------------------------------------------
flag 98040 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 80106 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {199395740639866679 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {199395740639866679 1 1}]
------------------------------------------------------
flag 73056 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 14053 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {199395740639866679 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {199395740639866679 1 1}]
------------------------------------------------------
flag 97357 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 21788 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {199395740639866679 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {199395740639866679 1 1}]
------------------------------------------------------
flag 14097 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 2329 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {199395740639866679 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {199395740639866679 1 1}]
------------------------------------------------------
flag 62462 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 2769 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {199395740639866679 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {199395740639866679 1 1}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 3363436449361506918 (index 2) to leader 2
flag 95550 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 82400 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {199395740639866679 1 1} {3363436449361506918 1 2}]
------------------------------------------------------
flag 6739 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 37925 term 1 leader 2 nextIndex[1]: 3  matchIndex[1]: 2
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {199395740639866679 1 1} {3363436449361506918 1 2}]
------------------------------------------------------
client write log 4607019050494213077 (index 3) to leader 2
client write log 4764982826941444426 (index 4) to leader 2
client write log 8131066303434301193 (index 5) to leader 2
client write log 6789571464490462149 (index 6) to leader 2
client write log 6327492130572894827 (index 7) to leader 2
client write log 9090772991354210673 (index 8) to leader 2
client write log 6972061245331099461 (index 9) to leader 2
client write log 1772957968320392380 (index 10) to leader 2
client write log 2395177167222216438 (index 11) to leader 2
client write log 5039590059837566943 (index 12) to leader 2
client write log 5241440850701909199 (index 13) to leader 2
client write log 126552651096105119 (index 14) to leader 2
client write log 2948920770420562253 (index 15) to leader 2
flag 29573 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 33869 term 1 leader 2 nextIndex[1]: 3  matchIndex[1]: 2
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{<nil> 0 0} {199395740639866679 1 1} {3363436449361506918 1 2} {4607019050494213077 1 3} {4764982826941444426 1 4} {8131066303434301193 1 5} {6789571464490462149 1 6} {6327492130572894827 1 7} {9090772991354210673 1 8} {6972061245331099461 1 9} {1772957968320392380 1 10} {2395177167222216438 1 11} {5039590059837566943 1 12} {5241440850701909199 1 13} {126552651096105119 1 14} {2948920770420562253 1 15}]
------------------------------------------------------
term 1 Server2 start snapshot! index=9
term 1 server2 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=15
-------------------------------------------------------------
term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 50549 term 1 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 1 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {1772957968320392380 1 10} {2395177167222216438 1 11} {5039590059837566943 1 12} {5241440850701909199 1 13} {126552651096105119 1 14} {2948920770420562253 1 15}]
------------------------------------------------------
term 1 Server1 start snapshot! index=9
term 1 server1 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=15
-------------------------------------------------------------
!!!!!!connect server 0
client write log 1948309928506523300 (index 16) to leader 2
term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 29134 term 1 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 1 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {1772957968320392380 1 10} {2395177167222216438 1 11} {5039590059837566943 1 12} {5241440850701909199 1 13} {126552651096105119 1 14} {2948920770420562253 1 15} {1948309928506523300 1 16}]
------------------------------------------------------
term 2 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 1 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 3 server 1 vote for server 2
term 3 server 0 vote for server 2
term 3 server 2 get vote from server 1
term 3 server 2 become leader
------------------------------------------------------
term 3 server 2 get outdate rpc reply from server 0
flag 9418 term 3 leader 2 nextIndex[0]: 17  matchIndex[0]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 23175 term 3 leader 2 nextIndex[1]: 17  matchIndex[1]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 17->16
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {1772957968320392380 1 10} {2395177167222216438 1 11} {5039590059837566943 1 12} {5241440850701909199 1 13} {126552651096105119 1 14} {2948920770420562253 1 15} {1948309928506523300 1 16}]
------------------------------------------------------
term 3 leader 2 nextIndex[0]: 2  matchIndex[0]: 0
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 95615 term 3 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {1772957968320392380 1 10} {2395177167222216438 1 11} {5039590059837566943 1 12} {5241440850701909199 1 13} {126552651096105119 1 14} {2948920770420562253 1 15} {1948309928506523300 1 16}]
------------------------------------------------------
term 3 server 0 InstallSnapshot success
------------------------------------------------------
term 3 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 10 matchIndex[0] 9 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 9 rf.lastIncludedTerm 1 rf.commitIndex 9 rf.lastApplied 9
flag 94523 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 95612 term 3 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {1772957968320392380 1 10} {2395177167222216438 1 11} {5039590059837566943 1 12} {5241440850701909199 1 13} {126552651096105119 1 14} {2948920770420562253 1 15} {1948309928506523300 1 16}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {1772957968320392380 1 10} {2395177167222216438 1 11} {5039590059837566943 1 12} {5241440850701909199 1 13} {126552651096105119 1 14} {2948920770420562253 1 15} {1948309928506523300 1 16}]
------------------------------------------------------
flag 12257 term 3 leader 2 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 13082 term 3 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {1772957968320392380 1 10} {2395177167222216438 1 11} {5039590059837566943 1 12} {5241440850701909199 1 13} {126552651096105119 1 14} {2948920770420562253 1 15} {1948309928506523300 1 16}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {1772957968320392380 1 10} {2395177167222216438 1 11} {5039590059837566943 1 12} {5241440850701909199 1 13} {126552651096105119 1 14} {2948920770420562253 1 15} {1948309928506523300 1 16}]
------------------------------------------------------
flag 48035 term 3 leader 2 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 55695 term 3 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {1772957968320392380 1 10} {2395177167222216438 1 11} {5039590059837566943 1 12} {5241440850701909199 1 13} {126552651096105119 1 14} {2948920770420562253 1 15} {1948309928506523300 1 16}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {1772957968320392380 1 10} {2395177167222216438 1 11} {5039590059837566943 1 12} {5241440850701909199 1 13} {126552651096105119 1 14} {2948920770420562253 1 15} {1948309928506523300 1 16}]
------------------------------------------------------
flag 79648 term 3 leader 2 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 65636 term 3 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {1772957968320392380 1 10} {2395177167222216438 1 11} {5039590059837566943 1 12} {5241440850701909199 1 13} {126552651096105119 1 14} {2948920770420562253 1 15} {1948309928506523300 1 16}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {1772957968320392380 1 10} {2395177167222216438 1 11} {5039590059837566943 1 12} {5241440850701909199 1 13} {126552651096105119 1 14} {2948920770420562253 1 15} {1948309928506523300 1 16}]
------------------------------------------------------
flag 15789 term 3 leader 2 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 13806 term 3 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {1772957968320392380 1 10} {2395177167222216438 1 11} {5039590059837566943 1 12} {5241440850701909199 1 13} {126552651096105119 1 14} {2948920770420562253 1 15} {1948309928506523300 1 16}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {1772957968320392380 1 10} {2395177167222216438 1 11} {5039590059837566943 1 12} {5241440850701909199 1 13} {126552651096105119 1 14} {2948920770420562253 1 15} {1948309928506523300 1 16}]
------------------------------------------------------
flag 427 term 3 leader 2 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 94541 term 3 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {1772957968320392380 1 10} {2395177167222216438 1 11} {5039590059837566943 1 12} {5241440850701909199 1 13} {126552651096105119 1 14} {2948920770420562253 1 15} {1948309928506523300 1 16}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {1772957968320392380 1 10} {2395177167222216438 1 11} {5039590059837566943 1 12} {5241440850701909199 1 13} {126552651096105119 1 14} {2948920770420562253 1 15} {1948309928506523300 1 16}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 96931 term 3 leader 2 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 59384 term 3 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 62849 term 3 leader 2 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 64769 term 3 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 17->16
------------------------------------------------------
term 3 leader 2 nextIndex[0]: 0  matchIndex[0]: 16
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 15480 term 3 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 10 matchIndex[0] 9 
------------------------------------------------------------------------
term 4 server 0 vote for server 1
term 4 server 1 get vote from server 0
term 4 server 1 become leader
------------------------------------------------------
flag 96128 term 4 leader 1 nextIndex[0]: 17  matchIndex[0]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 72930 term 4 leader 1 nextIndex[2]: 17  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {1772957968320392380 1 10} {2395177167222216438 1 11} {5039590059837566943 1 12} {5241440850701909199 1 13} {126552651096105119 1 14} {2948920770420562253 1 15} {1948309928506523300 1 16}]
------------------------------------------------------
flag 14377 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 71213 term 3 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
client write log 7913213781375479237 (index 17) to leader 1
flag 93010 term 4 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
term 4 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 3837 term 4 leader 1 nextIndex[2]: 17  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {1772957968320392380 1 10} {2395177167222216438 1 11} {5039590059837566943 1 12} {5241440850701909199 1 13} {126552651096105119 1 14} {2948920770420562253 1 15} {1948309928506523300 1 16} {7913213781375479237 4 17}]
------------------------------------------------------
flag 30646 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 81884 term 3 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 80916 term 4 leader 1 nextIndex[0]: 18  matchIndex[0]: 17
term 4 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
flag 57863 term 4 leader 1 nextIndex[2]: 17  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {1772957968320392380 1 10} {2395177167222216438 1 11} {5039590059837566943 1 12} {5241440850701909199 1 13} {126552651096105119 1 14} {2948920770420562253 1 15} {1948309928506523300 1 16} {7913213781375479237 4 17}]
------------------------------------------------------
flag 66870 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 94760 term 3 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
client write log 6669949166973684628 (index 18) to leader 1
flag 19750 term 4 leader 1 nextIndex[0]: 18  matchIndex[0]: 17
term 4 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
flag 7019 term 4 leader 1 nextIndex[2]: 17  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {1772957968320392380 1 10} {2395177167222216438 1 11} {5039590059837566943 1 12} {5241440850701909199 1 13} {126552651096105119 1 14} {2948920770420562253 1 15} {1948309928506523300 1 16} {7913213781375479237 4 17} {6669949166973684628 4 18}]
------------------------------------------------------
flag 1079 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 79113 term 3 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 8053 term 4 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 4 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
flag 10201 term 4 leader 1 nextIndex[2]: 17  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 18 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {1772957968320392380 1 10} {2395177167222216438 1 11} {5039590059837566943 1 12} {5241440850701909199 1 13} {126552651096105119 1 14} {2948920770420562253 1 15} {1948309928506523300 1 16} {7913213781375479237 4 17} {6669949166973684628 4 18}]
------------------------------------------------------
!!!!!!connect server 2
client write log 9220818575380265509 (index 19) to leader 1
flag 70179 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 6377 term 3 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 4 server 1 AppendEntries false 领导者任期过期 args.Term 3
------------------------------------------------------
term 4 server 0 AppendEntries false 领导者任期过期 args.Term 3
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85996 term 4 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 4 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
flag 47432 term 4 leader 1 nextIndex[2]: 17  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 18 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 1 9} {1772957968320392380 1 10} {2395177167222216438 1 11} {5039590059837566943 1 12} {5241440850701909199 1 13} {126552651096105119 1 14} {2948920770420562253 1 15} {1948309928506523300 1 16} {7913213781375479237 4 17} {6669949166973684628 4 18} {9220818575380265509 4 19}]
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=20
update matchIndex[2]=19
update leader CommitIndex=19
leader log:
[{snapshot 1 9} {1772957968320392380 1 10} {2395177167222216438 1 11} {5039590059837566943 1 12} {5241440850701909199 1 13} {126552651096105119 1 14} {2948920770420562253 1 15} {1948309928506523300 1 16} {7913213781375479237 4 17} {6669949166973684628 4 18} {9220818575380265509 4 19}]
------------------------------------------------------
term 4 Server1 start snapshot! index=19
term 4 server1 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
flag 86843 term 4 leader 1 nextIndex[0]: 20  matchIndex[0]: 19
term 4 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
flag 99092 term 4 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
term 4 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:19 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=20
update matchIndex[2]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
term 4 Server0 start snapshot! index=19
term 4 Server2 start snapshot! index=19
term 4 server2 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
term 4 server0 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
term 4 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 36368 term 4 leader 1 nextIndex[0]: 20  matchIndex[0]: 19
term 4 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
flag 86879 term 4 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
term 4 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=20
update matchIndex[2]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
flag 31228 term 4 leader 1 nextIndex[0]: 20  matchIndex[0]: 19
term 4 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
flag 59460 term 4 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
term 4 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=20
update matchIndex[2]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
flag 27094 term 4 leader 1 nextIndex[0]: 20  matchIndex[0]: 19
term 4 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
flag 72955 term 4 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
term 4 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=20
update matchIndex[2]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82394 term 4 leader 1 nextIndex[0]: 20  matchIndex[0]: 19
term 4 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
flag 77833 term 4 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
term 4 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=20
update matchIndex[2]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 7302269250142165016 (index 20) to leader 1
flag 24918 term 4 leader 1 nextIndex[0]: 20  matchIndex[0]: 19
term 4 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
flag 71489 term 4 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
term 4 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=21
update matchIndex[0]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {7302269250142165016 4 20}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27260 term 4 leader 1 nextIndex[0]: 21  matchIndex[0]: 20
term 4 leader 1 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
flag 12036 term 4 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
term 4 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=21
update matchIndex[0]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {7302269250142165016 4 20}]
------------------------------------------------------
client write log 6475931871265576241 (index 21) to leader 1
client write log 4019031340128703374 (index 22) to leader 1
client write log 7825750681461943477 (index 23) to leader 1
client write log 5307074720841225491 (index 24) to leader 1
client write log 4025182698640111001 (index 25) to leader 1
client write log 3702855280706236821 (index 26) to leader 1
client write log 5314102205554252956 (index 27) to leader 1
client write log 657439521678108455 (index 28) to leader 1
client write log 4719581006873143450 (index 29) to leader 1
flag 92001 term 4 leader 1 nextIndex[0]: 21  matchIndex[0]: 20
term 4 leader 1 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
flag 71252 term 4 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
term 4 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=29
leader log:
[{snapshot 4 19} {7302269250142165016 4 20} {6475931871265576241 4 21} {4019031340128703374 4 22} {7825750681461943477 4 23} {5307074720841225491 4 24} {4025182698640111001 4 25} {3702855280706236821 4 26} {5314102205554252956 4 27} {657439521678108455 4 28} {4719581006873143450 4 29}]
------------------------------------------------------
term 4 Server1 start snapshot! index=29
term 4 server1 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=29
-------------------------------------------------------------
flag 65918 term 4 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 4 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 4 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=29
leader log:
[{snapshot 4 29}]
------------------------------------------------------
term 4 Server0 start snapshot! index=29
term 4 server0 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=29
-------------------------------------------------------------
!!!!!!connect server 2
client write log 4951346385872694899 (index 30) to leader 1
term 4 server 1 not vote for server 2, 日志不够新
term 4 server 0 not vote for server 2, 日志不够新
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 6 server 2 vote for server 1
term 6 server 1 get vote from server 2
term 6 server 1 become leader
------------------------------------------------------
term 6 server 0 vote for server 1
term 6 server 1 get outdate rpc reply from server 0
flag 10411 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 0
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 44129 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 0
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 31->30
------------------------------------------------------
term 6 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 31->30
------------------------------------------------------
flag 24441 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 0
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 leader 1 nextIndex[2]: 20  matchIndex[2]: 0
term 6 leader 1 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
term 6 server 2 InstallSnapshot success
------------------------------------------------------
term 6 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 30 matchIndex[2] 29 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 29 rf.lastIncludedTerm 4 rf.commitIndex 29 rf.lastApplied 29
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {4951346385872694899 4 30}]
------------------------------------------------------
flag 87182 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 59569 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {4951346385872694899 4 30}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {4951346385872694899 4 30}]
------------------------------------------------------
flag 30318 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 35923 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {4951346385872694899 4 30}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {4951346385872694899 4 30}]
------------------------------------------------------
term 6 server 2 not vote for server 1, 任期不够新
term 6 server 1 get outdate rpc reply from server 2
flag 69296 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 74560 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {4951346385872694899 4 30}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {4951346385872694899 4 30}]
------------------------------------------------------
flag 36900 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 16045 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {4951346385872694899 4 30}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {4951346385872694899 4 30}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52244 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 936 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {4951346385872694899 4 30}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {4951346385872694899 4 30}]
------------------------------------------------------
flag 47407 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 6671 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {4951346385872694899 4 30}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {4951346385872694899 4 30}]
------------------------------------------------------
flag 54471 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 1426 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {4951346385872694899 4 30}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {4951346385872694899 4 30}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34430 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 45534 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {4951346385872694899 4 30}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {4951346385872694899 4 30}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57467 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 93682 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {4951346385872694899 4 30}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {4951346385872694899 4 30}]
------------------------------------------------------
flag 45393 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 21648 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {4951346385872694899 4 30}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {4951346385872694899 4 30}]
------------------------------------------------------
flag 24872 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 95613 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueterm 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
update nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {4951346385872694899 4 30}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {4951346385872694899 4 30}]
------------------------------------------------------
term 6 server 1 not vote for server 0, 任期不够新
term 6 server 0 get outdate rpc reply from server 1
flag 74215 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 16478 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {4951346385872694899 4 30}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {4951346385872694899 4 30}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29455 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 41976 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {4951346385872694899 4 30}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {4951346385872694899 4 30}]
------------------------------------------------------
flag 58355 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 42452 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {4951346385872694899 4 30}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {4951346385872694899 4 30}]
------------------------------------------------------
flag 33126 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 67327 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {4951346385872694899 4 30}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {4951346385872694899 4 30}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17695 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 89721 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {4951346385872694899 4 30}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {4951346385872694899 4 30}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57547 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 12576 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {4951346385872694899 4 30}]
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {4951346385872694899 4 30}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37008 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 11888 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {4951346385872694899 4 30}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 4 29} {4951346385872694899 4 30}]
------------------------------------------------------
client write log 4951346385872694899 (index 31) to leader 1
flag 28345 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 95146 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {4951346385872694899 4 30} {4951346385872694899 6 31}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {4951346385872694899 4 30} {4951346385872694899 6 31}]
------------------------------------------------------
flag 20882 term 6 leader 1 nextIndex[0]: 32  matchIndex[0]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
flag 23211 term 6 leader 1 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {4951346385872694899 4 30} {4951346385872694899 6 31}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {4951346385872694899 4 30} {4951346385872694899 6 31}]
------------------------------------------------------
flag 29802 term 6 leader 1 nextIndex[0]: 32  matchIndex[0]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
flag 59586 term 6 leader 1 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {4951346385872694899 4 30} {4951346385872694899 6 31}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {4951346385872694899 4 30} {4951346385872694899 6 31}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43391 term 6 leader 1 nextIndex[0]: 32  matchIndex[0]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
flag 28967 term 6 leader 1 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {4951346385872694899 4 30} {4951346385872694899 6 31}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {4951346385872694899 4 30} {4951346385872694899 6 31}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55080 term 6 leader 1 nextIndex[0]: 32  matchIndex[0]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
flag 16494 term 6 leader 1 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {4951346385872694899 4 30} {4951346385872694899 6 31}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {4951346385872694899 4 30} {4951346385872694899 6 31}]
------------------------------------------------------
flag 37985 term 6 leader 1 nextIndex[0]: 32  matchIndex[0]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
flag 7925 term 6 leader 1 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {4951346385872694899 4 30} {4951346385872694899 6 31}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {4951346385872694899 4 30} {4951346385872694899 6 31}]
------------------------------------------------------
flag 57639 term 6 leader 1 nextIndex[0]: 32  matchIndex[0]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
flag 76917 term 6 leader 1 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {4951346385872694899 4 30} {4951346385872694899 6 31}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {4951346385872694899 4 30} {4951346385872694899 6 31}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 5995505940382172944 (index 32) to leader 1
flag 38364 term 6 leader 1 nextIndex[0]: 32  matchIndex[0]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
flag 72306 term 6 leader 1 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {4951346385872694899 4 30} {4951346385872694899 6 31} {5995505940382172944 6 32}]
------------------------------------------------------
flag 26268 term 6 leader 1 nextIndex[0]: 33  matchIndex[0]: 32
term 6 leader 1 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
flag 63633 term 6 leader 1 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {4951346385872694899 4 30} {4951346385872694899 6 31} {5995505940382172944 6 32}]
------------------------------------------------------
client write log 3960409684396087291 (index 33) to leader 1
client write log 8883815166991044959 (index 34) to leader 1
client write log 5877978171455729513 (index 35) to leader 1
client write log 4193273980199920629 (index 36) to leader 1
client write log 2581004034986045947 (index 37) to leader 1
client write log 163546284662257169 (index 38) to leader 1
client write log 8342505286827002452 (index 39) to leader 1
client write log 1840788702436561766 (index 40) to leader 1
client write log 5228854564115677944 (index 41) to leader 1
client write log 7955773692519079271 (index 42) to leader 1
flag 52741 term 6 leader 1 nextIndex[0]: 33  matchIndex[0]: 32
term 6 leader 1 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
flag 82004 term 6 leader 1 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=42
leader log:
[{snapshot 4 29} {4951346385872694899 4 30} {4951346385872694899 6 31} {5995505940382172944 6 32} {3960409684396087291 6 33} {8883815166991044959 6 34} {5877978171455729513 6 35} {4193273980199920629 6 36} {2581004034986045947 6 37} {163546284662257169 6 38} {8342505286827002452 6 39} {1840788702436561766 6 40} {5228854564115677944 6 41} {7955773692519079271 6 42}]
------------------------------------------------------
term 6 Server1 start snapshot! index=39
term 6 server1 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=42
-------------------------------------------------------------
flag 15613 term 6 leader 1 nextIndex[0]: 43  matchIndex[0]: 42
term 6 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
term 6 leader 1 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {1840788702436561766 6 40} {5228854564115677944 6 41} {7955773692519079271 6 42}]
------------------------------------------------------
term 6 Server0 start snapshot! index=39
term 6 server0 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=42
-------------------------------------------------------------
!!!!!!connect server 2
client write log 1450615068896930659 (index 43) to leader 1
flag 32620 term 6 leader 1 nextIndex[0]: 43  matchIndex[0]: 42
term 6 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
term 6 leader 1 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
term 7 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 6 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 8 server 2 vote for server 1
term 8 server 0 vote for server 1
term 8 server 1 get vote from server 2
term 8 server 1 become leader
------------------------------------------------------
term 8 server 1 get outdate rpc reply from server 0
flag 626 term 8 leader 1 nextIndex[0]: 44  matchIndex[0]: 0
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
flag 55181 term 8 leader 1 nextIndex[2]: 44  matchIndex[2]: 0
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
term 8 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 44->43
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {1840788702436561766 6 40} {5228854564115677944 6 41} {7955773692519079271 6 42} {1450615068896930659 6 43}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75408 term 8 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
term 8 leader 1 nextIndex[2]: 32  matchIndex[2]: 0
term 8 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
term 8 server 2 InstallSnapshot success
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {1840788702436561766 6 40} {5228854564115677944 6 41} {7955773692519079271 6 42} {1450615068896930659 6 43}]
------------------------------------------------------
term 8 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 40 matchIndex[2] 39 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 39 rf.lastIncludedTerm 6 rf.commitIndex 39 rf.lastApplied 39
flag 35611 term 8 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
flag 59523 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {1840788702436561766 6 40} {5228854564115677944 6 41} {7955773692519079271 6 42} {1450615068896930659 6 43}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {1840788702436561766 6 40} {5228854564115677944 6 41} {7955773692519079271 6 42} {1450615068896930659 6 43}]
------------------------------------------------------
flag 47525 term 8 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
flag 43814 term 8 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {1840788702436561766 6 40} {5228854564115677944 6 41} {7955773692519079271 6 42} {1450615068896930659 6 43}]
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {1840788702436561766 6 40} {5228854564115677944 6 41} {7955773692519079271 6 42} {1450615068896930659 6 43}]
------------------------------------------------------
flag 56513 term 8 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
flag 46354 term 8 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {1840788702436561766 6 40} {5228854564115677944 6 41} {7955773692519079271 6 42} {1450615068896930659 6 43}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {1840788702436561766 6 40} {5228854564115677944 6 41} {7955773692519079271 6 42} {1450615068896930659 6 43}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59436 term 8 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
flag 40672 term 8 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {1840788702436561766 6 40} {5228854564115677944 6 41} {7955773692519079271 6 42} {1450615068896930659 6 43}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {1840788702436561766 6 40} {5228854564115677944 6 41} {7955773692519079271 6 42} {1450615068896930659 6 43}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22281 term 8 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
flag 24448 term 8 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {1840788702436561766 6 40} {5228854564115677944 6 41} {7955773692519079271 6 42} {1450615068896930659 6 43}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {1840788702436561766 6 40} {5228854564115677944 6 41} {7955773692519079271 6 42} {1450615068896930659 6 43}]
------------------------------------------------------
flag 33397 term 8 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
flag 27007 term 8 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {1840788702436561766 6 40} {5228854564115677944 6 41} {7955773692519079271 6 42} {1450615068896930659 6 43}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {1840788702436561766 6 40} {5228854564115677944 6 41} {7955773692519079271 6 42} {1450615068896930659 6 43}]
------------------------------------------------------
flag 29145 term 8 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
flag 81891 term 8 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {1840788702436561766 6 40} {5228854564115677944 6 41} {7955773692519079271 6 42} {1450615068896930659 6 43}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {1840788702436561766 6 40} {5228854564115677944 6 41} {7955773692519079271 6 42} {1450615068896930659 6 43}]
------------------------------------------------------
flag 60348 term 8 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
flag 23993 term 8 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {1840788702436561766 6 40} {5228854564115677944 6 41} {7955773692519079271 6 42} {1450615068896930659 6 43}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {1840788702436561766 6 40} {5228854564115677944 6 41} {7955773692519079271 6 42} {1450615068896930659 6 43}]
------------------------------------------------------
flag 99510 term 8 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
flag 62857 term 8 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {1840788702436561766 6 40} {5228854564115677944 6 41} {7955773692519079271 6 42} {1450615068896930659 6 43}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {1840788702436561766 6 40} {5228854564115677944 6 41} {7955773692519079271 6 42} {1450615068896930659 6 43}]
------------------------------------------------------
flag 64757 term 8 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
flag 88577 term 8 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {1840788702436561766 6 40} {5228854564115677944 6 41} {7955773692519079271 6 42} {1450615068896930659 6 43}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {1840788702436561766 6 40} {5228854564115677944 6 41} {7955773692519079271 6 42} {1450615068896930659 6 43}]
------------------------------------------------------
flag 57902 term 8 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
flag 18589 term 8 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {1840788702436561766 6 40} {5228854564115677944 6 41} {7955773692519079271 6 42} {1450615068896930659 6 43}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {1840788702436561766 6 40} {5228854564115677944 6 41} {7955773692519079271 6 42} {1450615068896930659 6 43}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25110 term 8 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
flag 20306 term 8 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {1840788702436561766 6 40} {5228854564115677944 6 41} {7955773692519079271 6 42} {1450615068896930659 6 43}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {1840788702436561766 6 40} {5228854564115677944 6 41} {7955773692519079271 6 42} {1450615068896930659 6 43}]
------------------------------------------------------
flag 59466 term 8 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
flag 63978 term 8 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {1840788702436561766 6 40} {5228854564115677944 6 41} {7955773692519079271 6 42} {1450615068896930659 6 43}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {1840788702436561766 6 40} {5228854564115677944 6 41} {7955773692519079271 6 42} {1450615068896930659 6 43}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49889 term 8 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
flag 63156 term 8 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {1840788702436561766 6 40} {5228854564115677944 6 41} {7955773692519079271 6 42} {1450615068896930659 6 43}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {1840788702436561766 6 40} {5228854564115677944 6 41} {7955773692519079271 6 42} {1450615068896930659 6 43}]
------------------------------------------------------
flag 28225 term 8 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
flag 25605 term 8 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {1840788702436561766 6 40} {5228854564115677944 6 41} {7955773692519079271 6 42} {1450615068896930659 6 43}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {1840788702436561766 6 40} {5228854564115677944 6 41} {7955773692519079271 6 42} {1450615068896930659 6 43}]
------------------------------------------------------
flag 28186 term 8 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
flag 81772 term 8 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {1840788702436561766 6 40} {5228854564115677944 6 41} {7955773692519079271 6 42} {1450615068896930659 6 43}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {1840788702436561766 6 40} {5228854564115677944 6 41} {7955773692519079271 6 42} {1450615068896930659 6 43}]
------------------------------------------------------
flag 24777 term 8 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
flag 17042 term 8 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {1840788702436561766 6 40} {5228854564115677944 6 41} {7955773692519079271 6 42} {1450615068896930659 6 43}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {1840788702436561766 6 40} {5228854564115677944 6 41} {7955773692519079271 6 42} {1450615068896930659 6 43}]
------------------------------------------------------
client write log 1450615068896930659 (index 44) to leader 1
term 8 server 2 not vote for server 0, 任期不够新
term 8 server 0 get outdate rpc reply from server 2
flag 40438 term 8 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
flag 91522 term 8 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {1840788702436561766 6 40} {5228854564115677944 6 41} {7955773692519079271 6 42} {1450615068896930659 6 43} {1450615068896930659 8 44}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {1840788702436561766 6 40} {5228854564115677944 6 41} {7955773692519079271 6 42} {1450615068896930659 6 43} {1450615068896930659 8 44}]
------------------------------------------------------
term 8 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 85905 term 8 leader 1 nextIndex[0]: 45  matchIndex[0]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 8 leaderCommit: 44 
------------------------------------------------------
flag 13225 term 8 leader 1 nextIndex[2]: 45  matchIndex[2]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 8 leaderCommit: 44 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {1840788702436561766 6 40} {5228854564115677944 6 41} {7955773692519079271 6 42} {1450615068896930659 6 43} {1450615068896930659 8 44}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {1840788702436561766 6 40} {5228854564115677944 6 41} {7955773692519079271 6 42} {1450615068896930659 6 43} {1450615068896930659 8 44}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31203 term 8 leader 1 nextIndex[0]: 45  matchIndex[0]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 8 leaderCommit: 44 
------------------------------------------------------
flag 67049 term 8 leader 1 nextIndex[2]: 45  matchIndex[2]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 8 leaderCommit: 44 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {1840788702436561766 6 40} {5228854564115677944 6 41} {7955773692519079271 6 42} {1450615068896930659 6 43} {1450615068896930659 8 44}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {1840788702436561766 6 40} {5228854564115677944 6 41} {7955773692519079271 6 42} {1450615068896930659 6 43} {1450615068896930659 8 44}]
------------------------------------------------------
flag 44904 term 8 leader 1 nextIndex[0]: 45  matchIndex[0]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 8 leaderCommit: 44 
------------------------------------------------------
flag 93378 term 8 leader 1 nextIndex[2]: 45  matchIndex[2]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 8 leaderCommit: 44 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {1840788702436561766 6 40} {5228854564115677944 6 41} {7955773692519079271 6 42} {1450615068896930659 6 43} {1450615068896930659 8 44}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {1840788702436561766 6 40} {5228854564115677944 6 41} {7955773692519079271 6 42} {1450615068896930659 6 43} {1450615068896930659 8 44}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19977 term 8 leader 1 nextIndex[0]: 45  matchIndex[0]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 8 leaderCommit: 44 
------------------------------------------------------
flag 22941 term 8 leader 1 nextIndex[2]: 45  matchIndex[2]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 8 leaderCommit: 44 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {1840788702436561766 6 40} {5228854564115677944 6 41} {7955773692519079271 6 42} {1450615068896930659 6 43} {1450615068896930659 8 44}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {1840788702436561766 6 40} {5228854564115677944 6 41} {7955773692519079271 6 42} {1450615068896930659 6 43} {1450615068896930659 8 44}]
------------------------------------------------------
flag 65012 term 8 leader 1 nextIndex[0]: 45  matchIndex[0]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 8 leaderCommit: 44 
------------------------------------------------------
flag 45379 term 8 leader 1 nextIndex[2]: 45  matchIndex[2]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 8 leaderCommit: 44 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {1840788702436561766 6 40} {5228854564115677944 6 41} {7955773692519079271 6 42} {1450615068896930659 6 43} {1450615068896930659 8 44}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {1840788702436561766 6 40} {5228854564115677944 6 41} {7955773692519079271 6 42} {1450615068896930659 6 43} {1450615068896930659 8 44}]
------------------------------------------------------
term 8 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
!!!!!!diconnect server 1
flag 80043 term 8 leader 1 nextIndex[0]: 45  matchIndex[0]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 8 leaderCommit: 44 
------------------------------------------------------
flag 9397 term 8 leader 1 nextIndex[2]: 45  matchIndex[2]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 8 leaderCommit: 44 
------------------------------------------------------
flag 77085 term 8 leader 1 nextIndex[0]: 45  matchIndex[0]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 8 leaderCommit: 44 
------------------------------------------------------
flag 4492 term 8 leader 1 nextIndex[2]: 45  matchIndex[2]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 8 leaderCommit: 44 
------------------------------------------------------
flag 29439 term 8 leader 1 nextIndex[0]: 45  matchIndex[0]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 8 leaderCommit: 44 
------------------------------------------------------
flag 54435 term 8 leader 1 nextIndex[2]: 45  matchIndex[2]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 8 leaderCommit: 44 
------------------------------------------------------
term 9 server 0 vote for server 2
term 9 server 2 get vote from server 0
term 9 server 2 become leader
------------------------------------------------------
flag 76844 term 9 leader 2 nextIndex[0]: 45  matchIndex[0]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 8 leaderCommit: 44 
------------------------------------------------------
flag 44577 term 9 leader 2 nextIndex[1]: 45  matchIndex[1]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 8 leaderCommit: 44 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {1840788702436561766 6 40} {5228854564115677944 6 41} {7955773692519079271 6 42} {1450615068896930659 6 43} {1450615068896930659 8 44}]
------------------------------------------------------
client write log 2090781265852425467 (index 45) to leader 2
flag 81573 term 8 leader 1 nextIndex[0]: 45  matchIndex[0]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 8 leaderCommit: 44 
------------------------------------------------------
flag 99139 term 8 leader 1 nextIndex[2]: 45  matchIndex[2]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 8 leaderCommit: 44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 45->44
------------------------------------------------------
flag 33337 term 9 leader 2 nextIndex[0]: 45  matchIndex[0]: 44
term 9 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 8 leaderCommit: 44 
------------------------------------------------------
term 9 leader 2 nextIndex[1]: 0  matchIndex[1]: 0
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {1840788702436561766 6 40} {5228854564115677944 6 41} {7955773692519079271 6 42} {1450615068896930659 6 43} {1450615068896930659 8 44} {2090781265852425467 9 45}]
------------------------------------------------------
flag 64776 term 8 leader 1 nextIndex[0]: 45  matchIndex[0]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 8 leaderCommit: 44 
------------------------------------------------------
flag 3824 term 8 leader 1 nextIndex[2]: 45  matchIndex[2]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 8 leaderCommit: 44 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3272 term 9 leader 2 nextIndex[0]: 46  matchIndex[0]: 45
term 9 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
term 9 leader 2 nextIndex[1]: 0  matchIndex[1]: 0
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {1840788702436561766 6 40} {5228854564115677944 6 41} {7955773692519079271 6 42} {1450615068896930659 6 43} {1450615068896930659 8 44} {2090781265852425467 9 45}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 45->44
------------------------------------------------------
client write log 653080469043497606 (index 46) to leader 2
client write log 7750243118611435543 (index 47) to leader 2
client write log 5568048922631466966 (index 48) to leader 2
client write log 5554396114373487509 (index 49) to leader 2
client write log 7595177496604548559 (index 50) to leader 2
client write log 4636203962682471202 (index 51) to leader 2
client write log 2210126468341481237 (index 52) to leader 2
term 8 leader 1 nextIndex[0]: 0  matchIndex[0]: 44
term 8 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 55874 term 8 leader 1 nextIndex[2]: 45  matchIndex[2]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 8 leaderCommit: 44 
------------------------------------------------------
flag 53664 term 9 leader 2 nextIndex[0]: 46  matchIndex[0]: 45
term 9 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
term 9 leader 2 nextIndex[1]: 0  matchIndex[1]: 0
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 39} {1840788702436561766 6 40} {5228854564115677944 6 41} {7955773692519079271 6 42} {1450615068896930659 6 43} {1450615068896930659 8 44} {2090781265852425467 9 45} {653080469043497606 9 46} {7750243118611435543 9 47} {5568048922631466966 9 48} {5554396114373487509 9 49} {7595177496604548559 9 50} {4636203962682471202 9 51} {2210126468341481237 9 52}]
------------------------------------------------------
term 9 Server2 start snapshot! index=49
term 9 server2 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=52
-------------------------------------------------------------
term 8 leader 1 nextIndex[0]: 0  matchIndex[0]: 44
term 8 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 69992 term 8 leader 1 nextIndex[2]: 45  matchIndex[2]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 8 leaderCommit: 44 
------------------------------------------------------
flag 29711 term 9 leader 2 nextIndex[0]: 53  matchIndex[0]: 52
term 9 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
term 9 leader 2 nextIndex[1]: 0  matchIndex[1]: 0
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=52
leader log:
[{snapshot 9 49} {7595177496604548559 9 50} {4636203962682471202 9 51} {2210126468341481237 9 52}]
------------------------------------------------------
term 9 Server0 start snapshot! index=49
term 9 server0 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=52
-------------------------------------------------------------
!!!!!!connect server 1
client write log 7278180283328080039 (index 45) to leader 1
term 8 leader 1 nextIndex[0]: 0  matchIndex[0]: 44
term 8 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 42698 term 8 leader 1 nextIndex[2]: 45  matchIndex[2]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 8 leaderCommit: 44 
------------------------------------------------------
term 9 server 2 AppendEntries false 领导者任期过期 args.Term 8
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 9 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 9 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 87664 term 9 leader 2 nextIndex[0]: 53  matchIndex[0]: 52
term 9 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
term 9 leader 2 nextIndex[1]: 0  matchIndex[1]: 0
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 49 rf.lastIncludedTerm 9 rf.commitIndex 49 rf.lastApplied 49
term 9 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
term 9 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 50 matchIndex[1] 49 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=52
leader log:
[{snapshot 9 49} {7595177496604548559 9 50} {4636203962682471202 9 51} {2210126468341481237 9 52}]
------------------------------------------------------
flag 53357 term 9 leader 2 nextIndex[0]: 53  matchIndex[0]: 52
term 9 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
flag 86501 term 9 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 9 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 9 49} {7595177496604548559 9 50} {4636203962682471202 9 51} {2210126468341481237 9 52}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=52
leader log:
[{snapshot 9 49} {7595177496604548559 9 50} {4636203962682471202 9 51} {2210126468341481237 9 52}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42708 term 9 leader 2 nextIndex[0]: 53  matchIndex[0]: 52
term 9 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
flag 25571 term 9 leader 2 nextIndex[1]: 53  matchIndex[1]: 52
term 9 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 9 49} {7595177496604548559 9 50} {4636203962682471202 9 51} {2210126468341481237 9 52}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=52
leader log:
[{snapshot 9 49} {7595177496604548559 9 50} {4636203962682471202 9 51} {2210126468341481237 9 52}]
------------------------------------------------------
flag 14519 term 9 leader 2 nextIndex[0]: 53  matchIndex[0]: 52
term 9 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
flag 77335 term 9 leader 2 nextIndex[1]: 53  matchIndex[1]: 52
term 9 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 9 49} {7595177496604548559 9 50} {4636203962682471202 9 51} {2210126468341481237 9 52}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=52
leader log:
[{snapshot 9 49} {7595177496604548559 9 50} {4636203962682471202 9 51} {2210126468341481237 9 52}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65951 term 9 leader 2 nextIndex[0]: 53  matchIndex[0]: 52
term 9 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
flag 91817 term 9 leader 2 nextIndex[1]: 53  matchIndex[1]: 52
term 9 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 9 49} {7595177496604548559 9 50} {4636203962682471202 9 51} {2210126468341481237 9 52}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=52
leader log:
[{snapshot 9 49} {7595177496604548559 9 50} {4636203962682471202 9 51} {2210126468341481237 9 52}]
------------------------------------------------------
term 9 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 50 matchIndex[1] 49 
------------------------------------------------------------------------
flag 14351 term 9 leader 2 nextIndex[0]: 53  matchIndex[0]: 52
term 9 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
flag 78686 term 9 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 9 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 9 49} {7595177496604548559 9 50} {4636203962682471202 9 51} {2210126468341481237 9 52}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=52
leader log:
[{snapshot 9 49} {7595177496604548559 9 50} {4636203962682471202 9 51} {2210126468341481237 9 52}]
------------------------------------------------------
flag 76023 term 9 leader 2 nextIndex[0]: 53  matchIndex[0]: 52
term 9 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
flag 59013 term 9 leader 2 nextIndex[1]: 53  matchIndex[1]: 52
term 9 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=52
leader log:
[{snapshot 9 49} {7595177496604548559 9 50} {4636203962682471202 9 51} {2210126468341481237 9 52}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 9 49} {7595177496604548559 9 50} {4636203962682471202 9 51} {2210126468341481237 9 52}]
------------------------------------------------------
flag 28924 term 9 leader 2 nextIndex[0]: 53  matchIndex[0]: 52
term 9 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
flag 17323 term 9 leader 2 nextIndex[1]: 53  matchIndex[1]: 52
term 9 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 9 49} {7595177496604548559 9 50} {4636203962682471202 9 51} {2210126468341481237 9 52}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=52
leader log:
[{snapshot 9 49} {7595177496604548559 9 50} {4636203962682471202 9 51} {2210126468341481237 9 52}]
------------------------------------------------------
flag 18003 term 9 leader 2 nextIndex[0]: 53  matchIndex[0]: 52
term 9 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
flag 48446 term 9 leader 2 nextIndex[1]: 53  matchIndex[1]: 52
term 9 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 9 49} {7595177496604548559 9 50} {4636203962682471202 9 51} {2210126468341481237 9 52}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=52
leader log:
[{snapshot 9 49} {7595177496604548559 9 50} {4636203962682471202 9 51} {2210126468341481237 9 52}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69144 term 9 leader 2 nextIndex[0]: 53  matchIndex[0]: 52
term 9 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
flag 28679 term 9 leader 2 nextIndex[1]: 53  matchIndex[1]: 52
term 9 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 9 49} {7595177496604548559 9 50} {4636203962682471202 9 51} {2210126468341481237 9 52}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=52
leader log:
[{snapshot 9 49} {7595177496604548559 9 50} {4636203962682471202 9 51} {2210126468341481237 9 52}]
------------------------------------------------------
flag 78232 term 9 leader 2 nextIndex[0]: 53  matchIndex[0]: 52
term 9 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
flag 69941 term 9 leader 2 nextIndex[1]: 53  matchIndex[1]: 52
term 9 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 9 49} {7595177496604548559 9 50} {4636203962682471202 9 51} {2210126468341481237 9 52}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=52
leader log:
[{snapshot 9 49} {7595177496604548559 9 50} {4636203962682471202 9 51} {2210126468341481237 9 52}]
------------------------------------------------------
flag 82985 term 9 leader 2 nextIndex[0]: 53  matchIndex[0]: 52
term 9 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
flag 13343 term 9 leader 2 nextIndex[1]: 53  matchIndex[1]: 52
term 9 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 9 49} {7595177496604548559 9 50} {4636203962682471202 9 51} {2210126468341481237 9 52}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=52
leader log:
[{snapshot 9 49} {7595177496604548559 9 50} {4636203962682471202 9 51} {2210126468341481237 9 52}]
------------------------------------------------------
flag 56559 term 9 leader 2 nextIndex[0]: 53  matchIndex[0]: 52
term 9 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
flag 70711 term 9 leader 2 nextIndex[1]: 53  matchIndex[1]: 52
term 9 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 9 49} {7595177496604548559 9 50} {4636203962682471202 9 51} {2210126468341481237 9 52}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=52
leader log:
[{snapshot 9 49} {7595177496604548559 9 50} {4636203962682471202 9 51} {2210126468341481237 9 52}]
------------------------------------------------------
flag 33861 term 9 leader 2 nextIndex[0]: 53  matchIndex[0]: 52
term 9 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
flag 18453 term 9 leader 2 nextIndex[1]: 53  matchIndex[1]: 52
term 9 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 9 49} {7595177496604548559 9 50} {4636203962682471202 9 51} {2210126468341481237 9 52}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=52
leader log:
[{snapshot 9 49} {7595177496604548559 9 50} {4636203962682471202 9 51} {2210126468341481237 9 52}]
------------------------------------------------------
flag 12257 term 9 leader 2 nextIndex[0]: 53  matchIndex[0]: 52
term 9 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
flag 54735 term 9 leader 2 nextIndex[1]: 53  matchIndex[1]: 52
term 9 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 9 49} {7595177496604548559 9 50} {4636203962682471202 9 51} {2210126468341481237 9 52}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=52
leader log:
[{snapshot 9 49} {7595177496604548559 9 50} {4636203962682471202 9 51} {2210126468341481237 9 52}]
------------------------------------------------------
flag 7898 term 9 leader 2 nextIndex[0]: 53  matchIndex[0]: 52
term 9 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
flag 3383 term 9 leader 2 nextIndex[1]: 53  matchIndex[1]: 52
term 9 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
term 9 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
[{snapshot 9 49} {7595177496604548559 9 50} {4636203962682471202 9 51} {2210126468341481237 9 52}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=52
leader log:
[{snapshot 9 49} {7595177496604548559 9 50} {4636203962682471202 9 51} {2210126468341481237 9 52}]
------------------------------------------------------
term 9 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 99073 term 9 leader 2 nextIndex[0]: 53  matchIndex[0]: 52
term 9 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
flag 22471 term 9 leader 2 nextIndex[1]: 53  matchIndex[1]: 52
term 9 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=52
leader log:
[{snapshot 9 49} {7595177496604548559 9 50} {4636203962682471202 9 51} {2210126468341481237 9 52}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 9 49} {7595177496604548559 9 50} {4636203962682471202 9 51} {2210126468341481237 9 52}]
------------------------------------------------------
term 9 server 0 not vote for server 2, 任期不够新
term 9 server 2 get outdate rpc reply from server 0
flag 19854 term 9 leader 2 nextIndex[0]: 53  matchIndex[0]: 52
term 9 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
flag 35669 term 9 leader 2 nextIndex[1]: 53  matchIndex[1]: 52
term 9 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 9 49} {7595177496604548559 9 50} {4636203962682471202 9 51} {2210126468341481237 9 52}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=52
leader log:
[{snapshot 9 49} {7595177496604548559 9 50} {4636203962682471202 9 51} {2210126468341481237 9 52}]
------------------------------------------------------
term 9 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 50 matchIndex[1] 49 
------------------------------------------------------------------------
flag 48619 term 9 leader 2 nextIndex[0]: 53  matchIndex[0]: 52
term 9 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
flag 71648 term 9 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 9 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 9 49} {7595177496604548559 9 50} {4636203962682471202 9 51} {2210126468341481237 9 52}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=52
leader log:
[{snapshot 9 49} {7595177496604548559 9 50} {4636203962682471202 9 51} {2210126468341481237 9 52}]
------------------------------------------------------
flag 24479 term 9 leader 2 nextIndex[0]: 53  matchIndex[0]: 52
term 9 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
flag 58951 term 9 leader 2 nextIndex[1]: 53  matchIndex[1]: 52
term 9 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 9 49} {7595177496604548559 9 50} {4636203962682471202 9 51} {2210126468341481237 9 52}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=52
leader log:
[{snapshot 9 49} {7595177496604548559 9 50} {4636203962682471202 9 51} {2210126468341481237 9 52}]
------------------------------------------------------
client write log 7278180283328080039 (index 53) to leader 2
term 9 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 50 matchIndex[1] 49 
------------------------------------------------------------------------
flag 44448 term 9 leader 2 nextIndex[0]: 53  matchIndex[0]: 52
term 9 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
flag 74390 term 9 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 9 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {7595177496604548559 9 50} {4636203962682471202 9 51} {2210126468341481237 9 52} {7278180283328080039 9 53}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {7595177496604548559 9 50} {4636203962682471202 9 51} {2210126468341481237 9 52} {7278180283328080039 9 53}]
------------------------------------------------------
flag 18604 term 9 leader 2 nextIndex[0]: 54  matchIndex[0]: 53
term 9 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 644 term 9 leader 2 nextIndex[1]: 54  matchIndex[1]: 53
term 9 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {7595177496604548559 9 50} {4636203962682471202 9 51} {2210126468341481237 9 52} {7278180283328080039 9 53}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {7595177496604548559 9 50} {4636203962682471202 9 51} {2210126468341481237 9 52} {7278180283328080039 9 53}]
------------------------------------------------------
flag 44845 term 9 leader 2 nextIndex[0]: 54  matchIndex[0]: 53
term 9 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 76410 term 9 leader 2 nextIndex[1]: 54  matchIndex[1]: 53
term 9 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {7595177496604548559 9 50} {4636203962682471202 9 51} {2210126468341481237 9 52} {7278180283328080039 9 53}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {7595177496604548559 9 50} {4636203962682471202 9 51} {2210126468341481237 9 52} {7278180283328080039 9 53}]
------------------------------------------------------
flag 65552 term 9 leader 2 nextIndex[0]: 54  matchIndex[0]: 53
term 9 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 48478 term 9 leader 2 nextIndex[1]: 54  matchIndex[1]: 53
term 9 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {7595177496604548559 9 50} {4636203962682471202 9 51} {2210126468341481237 9 52} {7278180283328080039 9 53}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {7595177496604548559 9 50} {4636203962682471202 9 51} {2210126468341481237 9 52} {7278180283328080039 9 53}]
------------------------------------------------------
term 9 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 50 matchIndex[1] 49 
------------------------------------------------------------------------
flag 25912 term 9 leader 2 nextIndex[0]: 54  matchIndex[0]: 53
term 9 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 45693 term 9 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 9 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {7595177496604548559 9 50} {4636203962682471202 9 51} {2210126468341481237 9 52} {7278180283328080039 9 53}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {7595177496604548559 9 50} {4636203962682471202 9 51} {2210126468341481237 9 52} {7278180283328080039 9 53}]
------------------------------------------------------
flag 50730 term 9 leader 2 nextIndex[0]: 54  matchIndex[0]: 53
term 9 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 60088 term 9 leader 2 nextIndex[1]: 54  matchIndex[1]: 53
term 9 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {7595177496604548559 9 50} {4636203962682471202 9 51} {2210126468341481237 9 52} {7278180283328080039 9 53}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 9 49} {7595177496604548559 9 50} {4636203962682471202 9 51} {2210126468341481237 9 52} {7278180283328080039 9 53}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 0
client write log 8862186897669871562 (index 54) to leader 2
flag 85524 term 9 leader 2 nextIndex[0]: 54  matchIndex[0]: 53
term 9 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 99018 term 9 leader 2 nextIndex[1]: 54  matchIndex[1]: 53
term 9 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {7595177496604548559 9 50} {4636203962682471202 9 51} {2210126468341481237 9 52} {7278180283328080039 9 53} {8862186897669871562 9 54}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 54->53
------------------------------------------------------
term 9 leader 2 nextIndex[0]: 0  matchIndex[0]: 53
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
flag 15879 term 9 leader 2 nextIndex[1]: 55  matchIndex[1]: 54
term 9 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {7595177496604548559 9 50} {4636203962682471202 9 51} {2210126468341481237 9 52} {7278180283328080039 9 53} {8862186897669871562 9 54}]
------------------------------------------------------
client write log 6580639764584479159 (index 55) to leader 2
client write log 7298190303730513992 (index 56) to leader 2
client write log 7055051372249629361 (index 57) to leader 2
client write log 8160435811249093743 (index 58) to leader 2
client write log 4749250862509074018 (index 59) to leader 2
client write log 8592804090601017721 (index 60) to leader 2
term 9 leader 2 nextIndex[0]: 0  matchIndex[0]: 53
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
flag 82985 term 9 leader 2 nextIndex[1]: 55  matchIndex[1]: 54
term 9 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 49} {7595177496604548559 9 50} {4636203962682471202 9 51} {2210126468341481237 9 52} {7278180283328080039 9 53} {8862186897669871562 9 54} {6580639764584479159 9 55} {7298190303730513992 9 56} {7055051372249629361 9 57} {8160435811249093743 9 58} {4749250862509074018 9 59} {8592804090601017721 9 60}]
------------------------------------------------------
term 9 Server2 start snapshot! index=59
term 9 server2 snapshot success
lastIncludedIndex=59 lastApplied=60 lastIndex=60
-------------------------------------------------------------
term 9 leader 2 nextIndex[0]: 0  matchIndex[0]: 53
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 9
------------------------------------------------------
flag 56090 term 9 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 9 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {8592804090601017721 9 60}]
------------------------------------------------------
term 9 Server1 start snapshot! index=59
term 9 server1 snapshot success
lastIncludedIndex=59 lastApplied=60 lastIndex=60
-------------------------------------------------------------
!!!!!!connect server 0
client write log 7099213533141574614 (index 61) to leader 2
term 9 leader 2 nextIndex[0]: 0  matchIndex[0]: 53
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 9
------------------------------------------------------
flag 28253 term 9 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 9 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 10 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
term 9 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 11 server 1 vote for server 2
term 11 server 0 vote for server 2
term 11 server 2 get vote from server 1
term 11 server 2 become leader
------------------------------------------------------
term 11 server 2 get outdate rpc reply from server 0
flag 35885 term 11 leader 2 nextIndex[0]: 62  matchIndex[0]: 0
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 47264 term 11 leader 2 nextIndex[1]: 62  matchIndex[1]: 0
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {8592804090601017721 9 60} {7099213533141574614 9 61}]
------------------------------------------------------
term 11 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 62->61
------------------------------------------------------
term 11 leader 2 nextIndex[0]: 54  matchIndex[0]: 0
term 11 leader 2 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 9
------------------------------------------------------
flag 7380 term 11 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {8592804090601017721 9 60} {7099213533141574614 9 61}]
------------------------------------------------------
term 11 server 0 InstallSnapshot success
------------------------------------------------------
term 11 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 60 matchIndex[0] 59 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 59 rf.lastIncludedTerm 9 rf.commitIndex 59 rf.lastApplied 59
flag 74997 term 11 leader 2 nextIndex[0]: 60  matchIndex[0]: 59
term 11 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 80106 term 11 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {8592804090601017721 9 60} {7099213533141574614 9 61}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {8592804090601017721 9 60} {7099213533141574614 9 61}]
------------------------------------------------------
flag 56142 term 11 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 26685 term 11 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {8592804090601017721 9 60} {7099213533141574614 9 61}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {8592804090601017721 9 60} {7099213533141574614 9 61}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56906 term 11 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 98355 term 11 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {8592804090601017721 9 60} {7099213533141574614 9 61}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {8592804090601017721 9 60} {7099213533141574614 9 61}]
------------------------------------------------------
flag 37890 term 11 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 74734 term 11 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {8592804090601017721 9 60} {7099213533141574614 9 61}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {8592804090601017721 9 60} {7099213533141574614 9 61}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74821 term 11 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 67456 term 11 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {8592804090601017721 9 60} {7099213533141574614 9 61}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {8592804090601017721 9 60} {7099213533141574614 9 61}]
------------------------------------------------------
term 11 server 1 not vote for server 2, 任期不够新
term 11 server 2 get outdate rpc reply from server 1
flag 1660 term 11 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 74587 term 11 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {8592804090601017721 9 60} {7099213533141574614 9 61}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {8592804090601017721 9 60} {7099213533141574614 9 61}]
------------------------------------------------------
flag 66625 term 11 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 23602 term 11 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {8592804090601017721 9 60} {7099213533141574614 9 61}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {8592804090601017721 9 60} {7099213533141574614 9 61}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16306 term 11 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 58777 term 11 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {8592804090601017721 9 60} {7099213533141574614 9 61}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {8592804090601017721 9 60} {7099213533141574614 9 61}]
------------------------------------------------------
flag 96119 term 11 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 97391 term 11 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {8592804090601017721 9 60} {7099213533141574614 9 61}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {8592804090601017721 9 60} {7099213533141574614 9 61}]
------------------------------------------------------
flag 79936 term 11 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 6169 term 11 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {8592804090601017721 9 60} {7099213533141574614 9 61}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {8592804090601017721 9 60} {7099213533141574614 9 61}]
------------------------------------------------------
flag 80615 term 11 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 75842 term 11 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {8592804090601017721 9 60} {7099213533141574614 9 61}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {8592804090601017721 9 60} {7099213533141574614 9 61}]
------------------------------------------------------
term 11 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 13228 term 11 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 69674 term 11 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {8592804090601017721 9 60} {7099213533141574614 9 61}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {8592804090601017721 9 60} {7099213533141574614 9 61}]
------------------------------------------------------
flag 74647 term 11 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 38390 term 11 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {8592804090601017721 9 60} {7099213533141574614 9 61}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {8592804090601017721 9 60} {7099213533141574614 9 61}]
------------------------------------------------------
term 11 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 95048 term 11 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 59707 term 11 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {8592804090601017721 9 60} {7099213533141574614 9 61}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {8592804090601017721 9 60} {7099213533141574614 9 61}]
------------------------------------------------------
flag 2507 term 11 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 92182 term 11 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {8592804090601017721 9 60} {7099213533141574614 9 61}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {8592804090601017721 9 60} {7099213533141574614 9 61}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 11 server 1 not vote for server 2, 任期不够新
term 11 server 2 get outdate rpc reply from server 1
flag 18768 term 11 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 69756 term 11 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {8592804090601017721 9 60} {7099213533141574614 9 61}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {8592804090601017721 9 60} {7099213533141574614 9 61}]
------------------------------------------------------
flag 48741 term 11 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 83949 term 11 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {8592804090601017721 9 60} {7099213533141574614 9 61}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {8592804090601017721 9 60} {7099213533141574614 9 61}]
------------------------------------------------------
client write log 7099213533141574614 (index 62) to leader 2
flag 1862 term 11 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 56302 term 11 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=62
leader log:
[{snapshot 9 59} {8592804090601017721 9 60} {7099213533141574614 9 61} {7099213533141574614 11 62}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=62
leader log:
[{snapshot 9 59} {8592804090601017721 9 60} {7099213533141574614 9 61} {7099213533141574614 11 62}]
------------------------------------------------------
flag 22876 term 11 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
flag 75149 term 11 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=62
leader log:
[{snapshot 9 59} {8592804090601017721 9 60} {7099213533141574614 9 61} {7099213533141574614 11 62}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=62
leader log:
[{snapshot 9 59} {8592804090601017721 9 60} {7099213533141574614 9 61} {7099213533141574614 11 62}]
------------------------------------------------------
flag 13046 term 11 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
flag 34038 term 11 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=62
leader log:
[{snapshot 9 59} {8592804090601017721 9 60} {7099213533141574614 9 61} {7099213533141574614 11 62}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=62
leader log:
[{snapshot 9 59} {8592804090601017721 9 60} {7099213533141574614 9 61} {7099213533141574614 11 62}]
------------------------------------------------------
term 11 server 1 not vote for server 0, 任期不够新
term 11 server 0 get outdate rpc reply from server 1
flag 90850 term 11 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
flag 17859 term 11 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=62
leader log:
[{snapshot 9 59} {8592804090601017721 9 60} {7099213533141574614 9 61} {7099213533141574614 11 62}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=62
leader log:
[{snapshot 9 59} {8592804090601017721 9 60} {7099213533141574614 9 61} {7099213533141574614 11 62}]
------------------------------------------------------
flag 81237 term 11 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
flag 47460 term 11 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=62
leader log:
[{snapshot 9 59} {8592804090601017721 9 60} {7099213533141574614 9 61} {7099213533141574614 11 62}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=62
leader log:
[{snapshot 9 59} {8592804090601017721 9 60} {7099213533141574614 9 61} {7099213533141574614 11 62}]
------------------------------------------------------
flag 27451 term 11 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
flag 41249 term 11 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=62
leader log:
[{snapshot 9 59} {8592804090601017721 9 60} {7099213533141574614 9 61} {7099213533141574614 11 62}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=62
leader log:
[{snapshot 9 59} {8592804090601017721 9 60} {7099213533141574614 9 61} {7099213533141574614 11 62}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 282874393593393084 (index 63) to leader 2
flag 13135 term 11 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
flag 30483 term 11 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {8592804090601017721 9 60} {7099213533141574614 9 61} {7099213533141574614 11 62} {282874393593393084 11 63}]
------------------------------------------------------
flag 44193 term 11 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 63 
------------------------------------------------------
flag 5183 term 11 leader 2 nextIndex[1]: 64  matchIndex[1]: 63
term 11 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 63 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {8592804090601017721 9 60} {7099213533141574614 9 61} {7099213533141574614 11 62} {282874393593393084 11 63}]
------------------------------------------------------
client write log 4318986657585834406 (index 64) to leader 2
client write log 9087184338564951489 (index 65) to leader 2
client write log 4076924685103606280 (index 66) to leader 2
client write log 6756931059369501582 (index 67) to leader 2
client write log 5654981724488107174 (index 68) to leader 2
client write log 3719397885649647932 (index 69) to leader 2
client write log 8621701282186697687 (index 70) to leader 2
client write log 4719635828317505103 (index 71) to leader 2
flag 28307 term 11 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 63 
------------------------------------------------------
flag 4578 term 11 leader 2 nextIndex[1]: 64  matchIndex[1]: 63
term 11 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 63 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=71
leader log:
[{snapshot 9 59} {8592804090601017721 9 60} {7099213533141574614 9 61} {7099213533141574614 11 62} {282874393593393084 11 63} {4318986657585834406 11 64} {9087184338564951489 11 65} {4076924685103606280 11 66} {6756931059369501582 11 67} {5654981724488107174 11 68} {3719397885649647932 11 69} {8621701282186697687 11 70} {4719635828317505103 11 71}]
------------------------------------------------------
term 11 Server2 start snapshot! index=69
term 11 server2 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=71
-------------------------------------------------------------
term 11 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 11 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
flag 20466 term 11 leader 2 nextIndex[1]: 72  matchIndex[1]: 71
term 11 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {8621701282186697687 11 70} {4719635828317505103 11 71}]
------------------------------------------------------
term 11 Server1 start snapshot! index=69
term 11 server1 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=71
-------------------------------------------------------------
!!!!!!connect server 0
client write log 4431683343095039889 (index 72) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 11 server 2 not vote for server 0, 日志不够新
term 11 server 1 not vote for server 0, 日志不够新
term 13 server 1 vote for server 2
term 13 server 0 vote for server 2
term 13 server 2 get vote from server 1
term 13 server 2 become leader
------------------------------------------------------
term 13 server 2 get outdate rpc reply from server 0
flag 52721 term 13 leader 2 nextIndex[0]: 73  matchIndex[0]: 0
term 13 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
flag 50047 term 13 leader 2 nextIndex[1]: 73  matchIndex[1]: 0
term 13 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 13 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
term 13 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 73->72
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 73->72
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 13 leader 2 nextIndex[0]: 63  matchIndex[0]: 0
term 13 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
flag 45508 term 13 leader 2 nextIndex[1]: 72  matchIndex[1]: 0
term 13 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 13 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 13 server 0 InstallSnapshot success
------------------------------------------------------
term 13 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 70 matchIndex[0] 69 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 69 rf.lastIncludedTerm 11 rf.commitIndex 69 rf.lastApplied 69
term 13 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {8621701282186697687 11 70} {4719635828317505103 11 71} {4431683343095039889 11 72}]
------------------------------------------------------
flag 28538 term 13 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 13 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
flag 89191 term 13 leader 2 nextIndex[1]: 73  matchIndex[1]: 72
term 13 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {8621701282186697687 11 70} {4719635828317505103 11 71} {4431683343095039889 11 72}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=73
update matchIndex[0]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {8621701282186697687 11 70} {4719635828317505103 11 71} {4431683343095039889 11 72}]
------------------------------------------------------
flag 49862 term 13 leader 2 nextIndex[0]: 73  matchIndex[0]: 72
term 13 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
flag 38696 term 13 leader 2 nextIndex[1]: 73  matchIndex[1]: 72
term 13 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {8621701282186697687 11 70} {4719635828317505103 11 71} {4431683343095039889 11 72}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=73
update matchIndex[0]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {8621701282186697687 11 70} {4719635828317505103 11 71} {4431683343095039889 11 72}]
------------------------------------------------------
flag 11419 term 13 leader 2 nextIndex[0]: 73  matchIndex[0]: 72
term 13 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
flag 93227 term 13 leader 2 nextIndex[1]: 73  matchIndex[1]: 72
term 13 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=73
update matchIndex[0]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {8621701282186697687 11 70} {4719635828317505103 11 71} {4431683343095039889 11 72}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {8621701282186697687 11 70} {4719635828317505103 11 71} {4431683343095039889 11 72}]
------------------------------------------------------
flag 52832 term 13 leader 2 nextIndex[0]: 73  matchIndex[0]: 72
term 13 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
flag 59122 term 13 leader 2 nextIndex[1]: 73  matchIndex[1]: 72
term 13 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {8621701282186697687 11 70} {4719635828317505103 11 71} {4431683343095039889 11 72}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=73
update matchIndex[0]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {8621701282186697687 11 70} {4719635828317505103 11 71} {4431683343095039889 11 72}]
------------------------------------------------------
flag 83481 term 13 leader 2 nextIndex[0]: 73  matchIndex[0]: 72
term 13 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
flag 41877 term 13 leader 2 nextIndex[1]: 73  matchIndex[1]: 72
term 13 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {8621701282186697687 11 70} {4719635828317505103 11 71} {4431683343095039889 11 72}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=73
update matchIndex[0]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {8621701282186697687 11 70} {4719635828317505103 11 71} {4431683343095039889 11 72}]
------------------------------------------------------
flag 57793 term 13 leader 2 nextIndex[0]: 73  matchIndex[0]: 72
term 13 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
flag 48410 term 13 leader 2 nextIndex[1]: 73  matchIndex[1]: 72
term 13 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {8621701282186697687 11 70} {4719635828317505103 11 71} {4431683343095039889 11 72}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=73
update matchIndex[0]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {8621701282186697687 11 70} {4719635828317505103 11 71} {4431683343095039889 11 72}]
------------------------------------------------------
flag 50753 term 13 leader 2 nextIndex[0]: 73  matchIndex[0]: 72
term 13 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
flag 78129 term 13 leader 2 nextIndex[1]: 73  matchIndex[1]: 72
term 13 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {8621701282186697687 11 70} {4719635828317505103 11 71} {4431683343095039889 11 72}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=73
update matchIndex[0]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {8621701282186697687 11 70} {4719635828317505103 11 71} {4431683343095039889 11 72}]
------------------------------------------------------
flag 3921 term 13 leader 2 nextIndex[0]: 73  matchIndex[0]: 72
term 13 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
flag 65148 term 13 leader 2 nextIndex[1]: 73  matchIndex[1]: 72
term 13 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {8621701282186697687 11 70} {4719635828317505103 11 71} {4431683343095039889 11 72}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=73
update matchIndex[0]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {8621701282186697687 11 70} {4719635828317505103 11 71} {4431683343095039889 11 72}]
------------------------------------------------------
flag 60983 term 13 leader 2 nextIndex[0]: 73  matchIndex[0]: 72
term 13 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
flag 86148 term 13 leader 2 nextIndex[1]: 73  matchIndex[1]: 72
term 13 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=73
update matchIndex[0]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {8621701282186697687 11 70} {4719635828317505103 11 71} {4431683343095039889 11 72}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {8621701282186697687 11 70} {4719635828317505103 11 71} {4431683343095039889 11 72}]
------------------------------------------------------
flag 99901 term 13 leader 2 nextIndex[0]: 73  matchIndex[0]: 72
term 13 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
flag 96667 term 13 leader 2 nextIndex[1]: 73  matchIndex[1]: 72
term 13 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {8621701282186697687 11 70} {4719635828317505103 11 71} {4431683343095039889 11 72}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=73
update matchIndex[0]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {8621701282186697687 11 70} {4719635828317505103 11 71} {4431683343095039889 11 72}]
------------------------------------------------------
flag 72809 term 13 leader 2 nextIndex[0]: 73  matchIndex[0]: 72
term 13 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
flag 12521 term 13 leader 2 nextIndex[1]: 73  matchIndex[1]: 72
term 13 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {8621701282186697687 11 70} {4719635828317505103 11 71} {4431683343095039889 11 72}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=73
update matchIndex[0]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {8621701282186697687 11 70} {4719635828317505103 11 71} {4431683343095039889 11 72}]
------------------------------------------------------
flag 42082 term 13 leader 2 nextIndex[0]: 73  matchIndex[0]: 72
term 13 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
flag 31326 term 13 leader 2 nextIndex[1]: 73  matchIndex[1]: 72
term 13 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {8621701282186697687 11 70} {4719635828317505103 11 71} {4431683343095039889 11 72}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=73
update matchIndex[0]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {8621701282186697687 11 70} {4719635828317505103 11 71} {4431683343095039889 11 72}]
------------------------------------------------------
flag 4941 term 13 leader 2 nextIndex[0]: 73  matchIndex[0]: 72
term 13 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
flag 82284 term 13 leader 2 nextIndex[1]: 73  matchIndex[1]: 72
term 13 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {8621701282186697687 11 70} {4719635828317505103 11 71} {4431683343095039889 11 72}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=73
update matchIndex[0]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {8621701282186697687 11 70} {4719635828317505103 11 71} {4431683343095039889 11 72}]
------------------------------------------------------
flag 25997 term 13 leader 2 nextIndex[0]: 73  matchIndex[0]: 72
term 13 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
flag 31447 term 13 leader 2 nextIndex[1]: 73  matchIndex[1]: 72
term 13 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {8621701282186697687 11 70} {4719635828317505103 11 71} {4431683343095039889 11 72}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=73
update matchIndex[0]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {8621701282186697687 11 70} {4719635828317505103 11 71} {4431683343095039889 11 72}]
------------------------------------------------------
flag 69999 term 13 leader 2 nextIndex[0]: 73  matchIndex[0]: 72
term 13 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
flag 95731 term 13 leader 2 nextIndex[1]: 73  matchIndex[1]: 72
term 13 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {8621701282186697687 11 70} {4719635828317505103 11 71} {4431683343095039889 11 72}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=73
update matchIndex[0]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {8621701282186697687 11 70} {4719635828317505103 11 71} {4431683343095039889 11 72}]
------------------------------------------------------
term 13 server 2 not vote for server 0, 任期不够新
term 13 server 0 get outdate rpc reply from server 2
flag 16371 term 13 leader 2 nextIndex[0]: 73  matchIndex[0]: 72
term 13 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
flag 95295 term 13 leader 2 nextIndex[1]: 73  matchIndex[1]: 72
term 13 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {8621701282186697687 11 70} {4719635828317505103 11 71} {4431683343095039889 11 72}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=73
update matchIndex[0]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {8621701282186697687 11 70} {4719635828317505103 11 71} {4431683343095039889 11 72}]
------------------------------------------------------
flag 97672 term 13 leader 2 nextIndex[0]: 73  matchIndex[0]: 72
term 13 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
flag 18713 term 13 leader 2 nextIndex[1]: 73  matchIndex[1]: 72
term 13 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {8621701282186697687 11 70} {4719635828317505103 11 71} {4431683343095039889 11 72}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=73
update matchIndex[0]=72
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {8621701282186697687 11 70} {4719635828317505103 11 71} {4431683343095039889 11 72}]
------------------------------------------------------
client write log 4431683343095039889 (index 73) to leader 2
flag 26839 term 13 leader 2 nextIndex[0]: 73  matchIndex[0]: 72
term 13 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
flag 34982 term 13 leader 2 nextIndex[1]: 73  matchIndex[1]: 72
term 13 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=74
update matchIndex[1]=73
update leader CommitIndex=73
leader log:
[{snapshot 11 69} {8621701282186697687 11 70} {4719635828317505103 11 71} {4431683343095039889 11 72} {4431683343095039889 13 73}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=74
update matchIndex[0]=73
update leader CommitIndex=73
leader log:
[{snapshot 11 69} {8621701282186697687 11 70} {4719635828317505103 11 71} {4431683343095039889 11 72} {4431683343095039889 13 73}]
------------------------------------------------------
flag 41609 term 13 leader 2 nextIndex[0]: 74  matchIndex[0]: 73
term 13 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 73 
------------------------------------------------------
flag 84143 term 13 leader 2 nextIndex[1]: 74  matchIndex[1]: 73
term 13 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 73 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=74
update matchIndex[0]=73
update leader CommitIndex=73
leader log:
[{snapshot 11 69} {8621701282186697687 11 70} {4719635828317505103 11 71} {4431683343095039889 11 72} {4431683343095039889 13 73}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=74
update matchIndex[1]=73
update leader CommitIndex=73
leader log:
[{snapshot 11 69} {8621701282186697687 11 70} {4719635828317505103 11 71} {4431683343095039889 11 72} {4431683343095039889 13 73}]
------------------------------------------------------
flag 26646 term 13 leader 2 nextIndex[0]: 74  matchIndex[0]: 73
term 13 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 73 
------------------------------------------------------
flag 44855 term 13 leader 2 nextIndex[1]: 74  matchIndex[1]: 73
term 13 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 73 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=74
update matchIndex[1]=73
update leader CommitIndex=73
leader log:
[{snapshot 11 69} {8621701282186697687 11 70} {4719635828317505103 11 71} {4431683343095039889 11 72} {4431683343095039889 13 73}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=74
update matchIndex[0]=73
update leader CommitIndex=73
leader log:
[{snapshot 11 69} {8621701282186697687 11 70} {4719635828317505103 11 71} {4431683343095039889 11 72} {4431683343095039889 13 73}]
------------------------------------------------------
flag 14477 term 13 leader 2 nextIndex[0]: 74  matchIndex[0]: 73
term 13 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 73 
------------------------------------------------------
flag 28040 term 13 leader 2 nextIndex[1]: 74  matchIndex[1]: 73
term 13 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 73 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=74
update matchIndex[0]=73
update leader CommitIndex=73
leader log:
[{snapshot 11 69} {8621701282186697687 11 70} {4719635828317505103 11 71} {4431683343095039889 11 72} {4431683343095039889 13 73}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=74
update matchIndex[1]=73
update leader CommitIndex=73
leader log:
[{snapshot 11 69} {8621701282186697687 11 70} {4719635828317505103 11 71} {4431683343095039889 11 72} {4431683343095039889 13 73}]
------------------------------------------------------
flag 46192 term 13 leader 2 nextIndex[0]: 74  matchIndex[0]: 73
term 13 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 73 
------------------------------------------------------
flag 26923 term 13 leader 2 nextIndex[1]: 74  matchIndex[1]: 73
term 13 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 73 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:73 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=74
update matchIndex[1]=73
update leader CommitIndex=73
leader log:
[{snapshot 11 69} {8621701282186697687 11 70} {4719635828317505103 11 71} {4431683343095039889 11 72} {4431683343095039889 13 73}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=74
update matchIndex[0]=73
update leader CommitIndex=73
leader log:
[{snapshot 11 69} {8621701282186697687 11 70} {4719635828317505103 11 71} {4431683343095039889 11 72} {4431683343095039889 13 73}]
------------------------------------------------------
flag 12779 term 13 leader 2 nextIndex[0]: 74  matchIndex[0]: 73
term 13 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 73 
------------------------------------------------------
flag 57936 term 13 leader 2 nextIndex[1]: 74  matchIndex[1]: 73
term 13 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 73 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=74
update matchIndex[1]=73
update leader CommitIndex=73
leader log:
[{snapshot 11 69} {8621701282186697687 11 70} {4719635828317505103 11 71} {4431683343095039889 11 72} {4431683343095039889 13 73}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=74
update matchIndex[0]=73
update leader CommitIndex=73
leader log:
[{snapshot 11 69} {8621701282186697687 11 70} {4719635828317505103 11 71} {4431683343095039889 11 72} {4431683343095039889 13 73}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 16784 term 13 leader 2 nextIndex[0]: 74  matchIndex[0]: 73
term 13 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 73 
------------------------------------------------------
flag 13272 term 13 leader 2 nextIndex[1]: 74  matchIndex[1]: 73
term 13 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 73 
------------------------------------------------------
flag 54540 term 13 leader 2 nextIndex[0]: 74  matchIndex[0]: 73
term 13 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 73 
------------------------------------------------------
flag 95450 term 13 leader 2 nextIndex[1]: 74  matchIndex[1]: 73
term 13 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 73 
------------------------------------------------------
flag 73055 term 13 leader 2 nextIndex[0]: 74  matchIndex[0]: 73
term 13 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 73 
------------------------------------------------------
flag 64776 term 13 leader 2 nextIndex[1]: 74  matchIndex[1]: 73
term 13 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 73 
------------------------------------------------------
flag 2176 term 13 leader 2 nextIndex[0]: 74  matchIndex[0]: 73
term 13 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 73 
------------------------------------------------------
flag 2716 term 13 leader 2 nextIndex[1]: 74  matchIndex[1]: 73
term 13 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 73 
------------------------------------------------------
term 14 server 1 vote for server 0
term 14 server 0 get vote from server 1
term 14 server 0 become leader
------------------------------------------------------
flag 52888 term 14 leader 0 nextIndex[1]: 74  matchIndex[1]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 73 
------------------------------------------------------
flag 2389 term 14 leader 0 nextIndex[2]: 74  matchIndex[2]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 73 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=74
update matchIndex[1]=73
update leader CommitIndex=73
leader log:
[{snapshot 11 69} {8621701282186697687 11 70} {4719635828317505103 11 71} {4431683343095039889 11 72} {4431683343095039889 13 73}]
------------------------------------------------------
client write log 3643875451900853193 (index 74) to leader 0
flag 2937 term 13 leader 2 nextIndex[0]: 74  matchIndex[0]: 73
term 13 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 73 
------------------------------------------------------
flag 53844 term 13 leader 2 nextIndex[1]: 74  matchIndex[1]: 73
term 13 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 73 
------------------------------------------------------
flag 8369 term 14 leader 0 nextIndex[1]: 74  matchIndex[1]: 73
term 14 leader 0 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 73 
------------------------------------------------------
flag 7670 term 14 leader 0 nextIndex[2]: 74  matchIndex[2]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 73 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=75
update matchIndex[1]=74
update leader CommitIndex=74
leader log:
[{snapshot 11 69} {8621701282186697687 11 70} {4719635828317505103 11 71} {4431683343095039889 11 72} {4431683343095039889 13 73} {3643875451900853193 14 74}]
------------------------------------------------------
term 13 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 78755 term 13 leader 2 nextIndex[0]: 74  matchIndex[0]: 73
term 13 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 73 
------------------------------------------------------
flag 85892 term 13 leader 2 nextIndex[1]: 74  matchIndex[1]: 73
term 13 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 73 
------------------------------------------------------
flag 43053 term 14 leader 0 nextIndex[1]: 75  matchIndex[1]: 74
term 14 leader 0 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
flag 11483 term 14 leader 0 nextIndex[2]: 74  matchIndex[2]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 74 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=75
update matchIndex[1]=74
update leader CommitIndex=74
leader log:
[{snapshot 11 69} {8621701282186697687 11 70} {4719635828317505103 11 71} {4431683343095039889 11 72} {4431683343095039889 13 73} {3643875451900853193 14 74}]
------------------------------------------------------
client write log 8706580750670428413 (index 75) to leader 0
client write log 8606849646845836346 (index 76) to leader 0
client write log 9146077116167327638 (index 77) to leader 0
client write log 7283938857783622591 (index 78) to leader 0
client write log 7854094472013528128 (index 79) to leader 0
client write log 6544049212024179741 (index 80) to leader 0
client write log 6747784468446349846 (index 81) to leader 0
client write log 3751805315680301460 (index 82) to leader 0
client write log 4566329222795097213 (index 83) to leader 0
client write log 8588142584576677433 (index 84) to leader 0
client write log 3018201117662431165 (index 85) to leader 0
client write log 2816629077716864236 (index 86) to leader 0
flag 21632 term 13 leader 2 nextIndex[0]: 74  matchIndex[0]: 73
term 13 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 73 
------------------------------------------------------
flag 14368 term 13 leader 2 nextIndex[1]: 74  matchIndex[1]: 73
term 13 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 73 
------------------------------------------------------
flag 17524 term 14 leader 0 nextIndex[1]: 75  matchIndex[1]: 74
term 14 leader 0 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
flag 69084 term 14 leader 0 nextIndex[2]: 74  matchIndex[2]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 74 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 11 69} {8621701282186697687 11 70} {4719635828317505103 11 71} {4431683343095039889 11 72} {4431683343095039889 13 73} {3643875451900853193 14 74} {8706580750670428413 14 75} {8606849646845836346 14 76} {9146077116167327638 14 77} {7283938857783622591 14 78} {7854094472013528128 14 79} {6544049212024179741 14 80} {6747784468446349846 14 81} {3751805315680301460 14 82} {4566329222795097213 14 83} {8588142584576677433 14 84} {3018201117662431165 14 85} {2816629077716864236 14 86}]
------------------------------------------------------
term 14 Server0 start snapshot! index=79
term 14 server0 snapshot success
lastIncludedIndex=79 lastApplied=80 lastIndex=86
-------------------------------------------------------------
flag 85256 term 13 leader 2 nextIndex[0]: 74  matchIndex[0]: 73
term 13 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 73 
------------------------------------------------------
flag 71957 term 13 leader 2 nextIndex[1]: 74  matchIndex[1]: 73
term 13 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 73 
------------------------------------------------------
flag 92631 term 14 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
term 14 leader 0 nextIndex[2]: 74  matchIndex[2]: 0
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 14
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {6544049212024179741 14 80} {6747784468446349846 14 81} {3751805315680301460 14 82} {4566329222795097213 14 83} {8588142584576677433 14 84} {3018201117662431165 14 85} {2816629077716864236 14 86}]
------------------------------------------------------
term 14 Server1 start snapshot! index=79
term 14 server1 snapshot success
lastIncludedIndex=79 lastApplied=80 lastIndex=86
-------------------------------------------------------------
!!!!!!connect server 2
client write log 3955433135532534248 (index 74) to leader 2
flag 9245 term 13 leader 2 nextIndex[0]: 74  matchIndex[0]: 73
term 13 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 73 
------------------------------------------------------
flag 69033 term 13 leader 2 nextIndex[1]: 74  matchIndex[1]: 73
term 13 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 73 
------------------------------------------------------
term 14 server 1 AppendEntries false 领导者任期过期 args.Term 13
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 14 server 0 AppendEntries false 领导者任期过期 args.Term 13
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22497 term 14 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
term 14 leader 0 nextIndex[2]: 74  matchIndex[2]: 0
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 14
------------------------------------------------------
term 14 server 2 InstallSnapshot success
------------------------------------------------------
term 14 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 80 matchIndex[2] 79 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 79 rf.lastIncludedTerm 14 rf.commitIndex 79 rf.lastApplied 79
term 14 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {6544049212024179741 14 80} {6747784468446349846 14 81} {3751805315680301460 14 82} {4566329222795097213 14 83} {8588142584576677433 14 84} {3018201117662431165 14 85} {2816629077716864236 14 86}]
------------------------------------------------------
flag 28983 term 14 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
flag 61025 term 14 leader 0 nextIndex[2]: 80  matchIndex[2]: 79
term 14 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {6544049212024179741 14 80} {6747784468446349846 14 81} {3751805315680301460 14 82} {4566329222795097213 14 83} {8588142584576677433 14 84} {3018201117662431165 14 85} {2816629077716864236 14 86}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {6544049212024179741 14 80} {6747784468446349846 14 81} {3751805315680301460 14 82} {4566329222795097213 14 83} {8588142584576677433 14 84} {3018201117662431165 14 85} {2816629077716864236 14 86}]
------------------------------------------------------
flag 73564 term 14 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
flag 43064 term 14 leader 0 nextIndex[2]: 87  matchIndex[2]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {6544049212024179741 14 80} {6747784468446349846 14 81} {3751805315680301460 14 82} {4566329222795097213 14 83} {8588142584576677433 14 84} {3018201117662431165 14 85} {2816629077716864236 14 86}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {6544049212024179741 14 80} {6747784468446349846 14 81} {3751805315680301460 14 82} {4566329222795097213 14 83} {8588142584576677433 14 84} {3018201117662431165 14 85} {2816629077716864236 14 86}]
------------------------------------------------------
flag 83975 term 14 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
flag 43759 term 14 leader 0 nextIndex[2]: 87  matchIndex[2]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {6544049212024179741 14 80} {6747784468446349846 14 81} {3751805315680301460 14 82} {4566329222795097213 14 83} {8588142584576677433 14 84} {3018201117662431165 14 85} {2816629077716864236 14 86}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {6544049212024179741 14 80} {6747784468446349846 14 81} {3751805315680301460 14 82} {4566329222795097213 14 83} {8588142584576677433 14 84} {3018201117662431165 14 85} {2816629077716864236 14 86}]
------------------------------------------------------
flag 17430 term 14 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
flag 5349 term 14 leader 0 nextIndex[2]: 87  matchIndex[2]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {6544049212024179741 14 80} {6747784468446349846 14 81} {3751805315680301460 14 82} {4566329222795097213 14 83} {8588142584576677433 14 84} {3018201117662431165 14 85} {2816629077716864236 14 86}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {6544049212024179741 14 80} {6747784468446349846 14 81} {3751805315680301460 14 82} {4566329222795097213 14 83} {8588142584576677433 14 84} {3018201117662431165 14 85} {2816629077716864236 14 86}]
------------------------------------------------------
flag 64699 term 14 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
flag 56830 term 14 leader 0 nextIndex[2]: 87  matchIndex[2]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {6544049212024179741 14 80} {6747784468446349846 14 81} {3751805315680301460 14 82} {4566329222795097213 14 83} {8588142584576677433 14 84} {3018201117662431165 14 85} {2816629077716864236 14 86}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {6544049212024179741 14 80} {6747784468446349846 14 81} {3751805315680301460 14 82} {4566329222795097213 14 83} {8588142584576677433 14 84} {3018201117662431165 14 85} {2816629077716864236 14 86}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 87->86
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48234 term 14 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
term 14 leader 0 nextIndex[2]: 0  matchIndex[2]: 86
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 14
------------------------------------------------------
term 14 server 2 InstallSnapshot fail
rf.commitIndex 86 args.LastIncludedIndex 79
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
term 14 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 80 matchIndex[2] 79 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {6544049212024179741 14 80} {6747784468446349846 14 81} {3751805315680301460 14 82} {4566329222795097213 14 83} {8588142584576677433 14 84} {3018201117662431165 14 85} {2816629077716864236 14 86}]
------------------------------------------------------
flag 29198 term 14 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
flag 21205 term 14 leader 0 nextIndex[2]: 80  matchIndex[2]: 79
term 14 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {6544049212024179741 14 80} {6747784468446349846 14 81} {3751805315680301460 14 82} {4566329222795097213 14 83} {8588142584576677433 14 84} {3018201117662431165 14 85} {2816629077716864236 14 86}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {6544049212024179741 14 80} {6747784468446349846 14 81} {3751805315680301460 14 82} {4566329222795097213 14 83} {8588142584576677433 14 84} {3018201117662431165 14 85} {2816629077716864236 14 86}]
------------------------------------------------------
flag 82205 term 14 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
flag 75848 term 14 leader 0 nextIndex[2]: 87  matchIndex[2]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {6544049212024179741 14 80} {6747784468446349846 14 81} {3751805315680301460 14 82} {4566329222795097213 14 83} {8588142584576677433 14 84} {3018201117662431165 14 85} {2816629077716864236 14 86}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {6544049212024179741 14 80} {6747784468446349846 14 81} {3751805315680301460 14 82} {4566329222795097213 14 83} {8588142584576677433 14 84} {3018201117662431165 14 85} {2816629077716864236 14 86}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22414 term 14 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
flag 23948 term 14 leader 0 nextIndex[2]: 87  matchIndex[2]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {6544049212024179741 14 80} {6747784468446349846 14 81} {3751805315680301460 14 82} {4566329222795097213 14 83} {8588142584576677433 14 84} {3018201117662431165 14 85} {2816629077716864236 14 86}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {6544049212024179741 14 80} {6747784468446349846 14 81} {3751805315680301460 14 82} {4566329222795097213 14 83} {8588142584576677433 14 84} {3018201117662431165 14 85} {2816629077716864236 14 86}]
------------------------------------------------------
flag 49206 term 14 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
flag 19372 term 14 leader 0 nextIndex[2]: 87  matchIndex[2]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {6544049212024179741 14 80} {6747784468446349846 14 81} {3751805315680301460 14 82} {4566329222795097213 14 83} {8588142584576677433 14 84} {3018201117662431165 14 85} {2816629077716864236 14 86}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {6544049212024179741 14 80} {6747784468446349846 14 81} {3751805315680301460 14 82} {4566329222795097213 14 83} {8588142584576677433 14 84} {3018201117662431165 14 85} {2816629077716864236 14 86}]
------------------------------------------------------
flag 94205 term 14 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
flag 24120 term 14 leader 0 nextIndex[2]: 87  matchIndex[2]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {6544049212024179741 14 80} {6747784468446349846 14 81} {3751805315680301460 14 82} {4566329222795097213 14 83} {8588142584576677433 14 84} {3018201117662431165 14 85} {2816629077716864236 14 86}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {6544049212024179741 14 80} {6747784468446349846 14 81} {3751805315680301460 14 82} {4566329222795097213 14 83} {8588142584576677433 14 84} {3018201117662431165 14 85} {2816629077716864236 14 86}]
------------------------------------------------------
term 14 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 14 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 80 matchIndex[2] 79 
------------------------------------------------------------------------
flag 10956 term 14 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
flag 93124 term 14 leader 0 nextIndex[2]: 80  matchIndex[2]: 79
term 14 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {6544049212024179741 14 80} {6747784468446349846 14 81} {3751805315680301460 14 82} {4566329222795097213 14 83} {8588142584576677433 14 84} {3018201117662431165 14 85} {2816629077716864236 14 86}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {6544049212024179741 14 80} {6747784468446349846 14 81} {3751805315680301460 14 82} {4566329222795097213 14 83} {8588142584576677433 14 84} {3018201117662431165 14 85} {2816629077716864236 14 86}]
------------------------------------------------------
term 14 server 2 not vote for server 0, 日志不够新
term 14 server 0 get outdate rpc reply from server 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54546 term 14 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
flag 83866 term 14 leader 0 nextIndex[2]: 87  matchIndex[2]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {6544049212024179741 14 80} {6747784468446349846 14 81} {3751805315680301460 14 82} {4566329222795097213 14 83} {8588142584576677433 14 84} {3018201117662431165 14 85} {2816629077716864236 14 86}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {6544049212024179741 14 80} {6747784468446349846 14 81} {3751805315680301460 14 82} {4566329222795097213 14 83} {8588142584576677433 14 84} {3018201117662431165 14 85} {2816629077716864236 14 86}]
------------------------------------------------------
flag 99143 term 14 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
flag 76812 term 14 leader 0 nextIndex[2]: 87  matchIndex[2]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {6544049212024179741 14 80} {6747784468446349846 14 81} {3751805315680301460 14 82} {4566329222795097213 14 83} {8588142584576677433 14 84} {3018201117662431165 14 85} {2816629077716864236 14 86}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {6544049212024179741 14 80} {6747784468446349846 14 81} {3751805315680301460 14 82} {4566329222795097213 14 83} {8588142584576677433 14 84} {3018201117662431165 14 85} {2816629077716864236 14 86}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92256 term 14 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
flag 24340 term 14 leader 0 nextIndex[2]: 87  matchIndex[2]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {6544049212024179741 14 80} {6747784468446349846 14 81} {3751805315680301460 14 82} {4566329222795097213 14 83} {8588142584576677433 14 84} {3018201117662431165 14 85} {2816629077716864236 14 86}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {6544049212024179741 14 80} {6747784468446349846 14 81} {3751805315680301460 14 82} {4566329222795097213 14 83} {8588142584576677433 14 84} {3018201117662431165 14 85} {2816629077716864236 14 86}]
------------------------------------------------------
flag 95780 term 14 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
flag 37801 term 14 leader 0 nextIndex[2]: 87  matchIndex[2]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {6544049212024179741 14 80} {6747784468446349846 14 81} {3751805315680301460 14 82} {4566329222795097213 14 83} {8588142584576677433 14 84} {3018201117662431165 14 85} {2816629077716864236 14 86}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {6544049212024179741 14 80} {6747784468446349846 14 81} {3751805315680301460 14 82} {4566329222795097213 14 83} {8588142584576677433 14 84} {3018201117662431165 14 85} {2816629077716864236 14 86}]
------------------------------------------------------
flag 99827 term 14 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
flag 31719 term 14 leader 0 nextIndex[2]: 87  matchIndex[2]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {6544049212024179741 14 80} {6747784468446349846 14 81} {3751805315680301460 14 82} {4566329222795097213 14 83} {8588142584576677433 14 84} {3018201117662431165 14 85} {2816629077716864236 14 86}]
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {6544049212024179741 14 80} {6747784468446349846 14 81} {3751805315680301460 14 82} {4566329222795097213 14 83} {8588142584576677433 14 84} {3018201117662431165 14 85} {2816629077716864236 14 86}]
------------------------------------------------------
flag 64109 term 14 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
flag 34390 term 14 leader 0 nextIndex[2]: 87  matchIndex[2]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {6544049212024179741 14 80} {6747784468446349846 14 81} {3751805315680301460 14 82} {4566329222795097213 14 83} {8588142584576677433 14 84} {3018201117662431165 14 85} {2816629077716864236 14 86}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {6544049212024179741 14 80} {6747784468446349846 14 81} {3751805315680301460 14 82} {4566329222795097213 14 83} {8588142584576677433 14 84} {3018201117662431165 14 85} {2816629077716864236 14 86}]
------------------------------------------------------
client write log 3955433135532534248 (index 87) to leader 0
flag 25805 term 14 leader 0 nextIndex[1]: 87  matchIndex[1]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
flag 13072 term 14 leader 0 nextIndex[2]: 87  matchIndex[2]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=87
leader log:
[{snapshot 14 79} {6544049212024179741 14 80} {6747784468446349846 14 81} {3751805315680301460 14 82} {4566329222795097213 14 83} {8588142584576677433 14 84} {3018201117662431165 14 85} {2816629077716864236 14 86} {3955433135532534248 14 87}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=87
leader log:
[{snapshot 14 79} {6544049212024179741 14 80} {6747784468446349846 14 81} {3751805315680301460 14 82} {4566329222795097213 14 83} {8588142584576677433 14 84} {3018201117662431165 14 85} {2816629077716864236 14 86} {3955433135532534248 14 87}]
------------------------------------------------------
flag 86645 term 14 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 14 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
flag 55820 term 14 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 14 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=87
leader log:
term 14 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
[{snapshot 14 79} {6544049212024179741 14 80} {6747784468446349846 14 81} {3751805315680301460 14 82} {4566329222795097213 14 83} {8588142584576677433 14 84} {3018201117662431165 14 85} {2816629077716864236 14 86} {3955433135532534248 14 87}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=87
leader log:
[{snapshot 14 79} {6544049212024179741 14 80} {6747784468446349846 14 81} {3751805315680301460 14 82} {4566329222795097213 14 83} {8588142584576677433 14 84} {3018201117662431165 14 85} {2816629077716864236 14 86} {3955433135532534248 14 87}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42336 term 14 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 14 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
flag 34188 term 14 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 14 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=87
leader log:
[{snapshot 14 79} {6544049212024179741 14 80} {6747784468446349846 14 81} {3751805315680301460 14 82} {4566329222795097213 14 83} {8588142584576677433 14 84} {3018201117662431165 14 85} {2816629077716864236 14 86} {3955433135532534248 14 87}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=87
leader log:
[{snapshot 14 79} {6544049212024179741 14 80} {6747784468446349846 14 81} {3751805315680301460 14 82} {4566329222795097213 14 83} {8588142584576677433 14 84} {3018201117662431165 14 85} {2816629077716864236 14 86} {3955433135532534248 14 87}]
------------------------------------------------------
flag 27432 term 14 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 14 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
flag 59017 term 14 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 14 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=87
leader log:
[{snapshot 14 79} {6544049212024179741 14 80} {6747784468446349846 14 81} {3751805315680301460 14 82} {4566329222795097213 14 83} {8588142584576677433 14 84} {3018201117662431165 14 85} {2816629077716864236 14 86} {3955433135532534248 14 87}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=87
leader log:
[{snapshot 14 79} {6544049212024179741 14 80} {6747784468446349846 14 81} {3751805315680301460 14 82} {4566329222795097213 14 83} {8588142584576677433 14 84} {3018201117662431165 14 85} {2816629077716864236 14 86} {3955433135532534248 14 87}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98757 term 14 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 14 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
flag 39484 term 14 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 14 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=87
leader log:
[{snapshot 14 79} {6544049212024179741 14 80} {6747784468446349846 14 81} {3751805315680301460 14 82} {4566329222795097213 14 83} {8588142584576677433 14 84} {3018201117662431165 14 85} {2816629077716864236 14 86} {3955433135532534248 14 87}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=87
leader log:
[{snapshot 14 79} {6544049212024179741 14 80} {6747784468446349846 14 81} {3751805315680301460 14 82} {4566329222795097213 14 83} {8588142584576677433 14 84} {3018201117662431165 14 85} {2816629077716864236 14 86} {3955433135532534248 14 87}]
------------------------------------------------------
flag 91577 term 14 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 14 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
flag 27309 term 14 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 14 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=87
leader log:
[{snapshot 14 79} {6544049212024179741 14 80} {6747784468446349846 14 81} {3751805315680301460 14 82} {4566329222795097213 14 83} {8588142584576677433 14 84} {3018201117662431165 14 85} {2816629077716864236 14 86} {3955433135532534248 14 87}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=87
leader log:
[{snapshot 14 79} {6544049212024179741 14 80} {6747784468446349846 14 81} {3751805315680301460 14 82} {4566329222795097213 14 83} {8588142584576677433 14 84} {3018201117662431165 14 85} {2816629077716864236 14 86} {3955433135532534248 14 87}]
------------------------------------------------------
flag 23164 term 14 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 14 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
flag 84005 term 14 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 14 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=87
leader log:
[{snapshot 14 79} {6544049212024179741 14 80} {6747784468446349846 14 81} {3751805315680301460 14 82} {4566329222795097213 14 83} {8588142584576677433 14 84} {3018201117662431165 14 85} {2816629077716864236 14 86} {3955433135532534248 14 87}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=87
leader log:
[{snapshot 14 79} {6544049212024179741 14 80} {6747784468446349846 14 81} {3751805315680301460 14 82} {4566329222795097213 14 83} {8588142584576677433 14 84} {3018201117662431165 14 85} {2816629077716864236 14 86} {3955433135532534248 14 87}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 3647813922908155484 (index 88) to leader 0
flag 38547 term 14 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 14 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
flag 58945 term 14 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 14 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {6544049212024179741 14 80} {6747784468446349846 14 81} {3751805315680301460 14 82} {4566329222795097213 14 83} {8588142584576677433 14 84} {3018201117662431165 14 85} {2816629077716864236 14 86} {3955433135532534248 14 87} {3647813922908155484 14 88}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6866 term 14 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 14 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
flag 25716 term 14 leader 0 nextIndex[2]: 89  matchIndex[2]: 88
term 14 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {6544049212024179741 14 80} {6747784468446349846 14 81} {3751805315680301460 14 82} {4566329222795097213 14 83} {8588142584576677433 14 84} {3018201117662431165 14 85} {2816629077716864236 14 86} {3955433135532534248 14 87} {3647813922908155484 14 88}]
------------------------------------------------------
client write log 30005194709907728 (index 89) to leader 0
client write log 3866893176600897764 (index 90) to leader 0
client write log 266719310693329222 (index 91) to leader 0
client write log 2689049136964100225 (index 92) to leader 0
client write log 3327954451658501244 (index 93) to leader 0
client write log 421446757457216483 (index 94) to leader 0
client write log 1636337970075622428 (index 95) to leader 0
client write log 3899021040323930877 (index 96) to leader 0
client write log 6521230189359391059 (index 97) to leader 0
client write log 5097696111039603559 (index 98) to leader 0
client write log 3216460071987250113 (index 99) to leader 0
client write log 515001484431256594 (index 100) to leader 0
client write log 389680956046275957 (index 101) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74109 term 14 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 14 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
flag 92954 term 14 leader 0 nextIndex[2]: 89  matchIndex[2]: 88
term 14 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=102
update matchIndex[2]=101
update leader CommitIndex=101
leader log:
[{snapshot 14 79} {6544049212024179741 14 80} {6747784468446349846 14 81} {3751805315680301460 14 82} {4566329222795097213 14 83} {8588142584576677433 14 84} {3018201117662431165 14 85} {2816629077716864236 14 86} {3955433135532534248 14 87} {3647813922908155484 14 88} {30005194709907728 14 89} {3866893176600897764 14 90} {266719310693329222 14 91} {2689049136964100225 14 92} {3327954451658501244 14 93} {421446757457216483 14 94} {1636337970075622428 14 95} {3899021040323930877 14 96} {6521230189359391059 14 97} {5097696111039603559 14 98} {3216460071987250113 14 99} {515001484431256594 14 100} {389680956046275957 14 101}]
------------------------------------------------------
term 14 Server0 start snapshot! index=89
term 14 server0 snapshot success
lastIncludedIndex=89 lastApplied=90 lastIndex=101
-------------------------------------------------------------
term 14 Server0 start snapshot! index=99
term 14 server0 snapshot success
lastIncludedIndex=99 lastApplied=100 lastIndex=101
-------------------------------------------------------------
term 14 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 14
------------------------------------------------------
flag 62123 term 14 leader 0 nextIndex[2]: 102  matchIndex[2]: 101
term 14 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=102
update matchIndex[2]=101
update leader CommitIndex=101
leader log:
[{snapshot 14 99} {515001484431256594 14 100} {389680956046275957 14 101}]
------------------------------------------------------
term 14 Server2 start snapshot! index=89
term 14 server2 snapshot success
lastIncludedIndex=89 lastApplied=90 lastIndex=101
-------------------------------------------------------------
term 14 Server2 start snapshot! index=99
term 14 server2 snapshot success
lastIncludedIndex=99 lastApplied=100 lastIndex=101
-------------------------------------------------------------
!!!!!!connect server 1
client write log 312672511259330312 (index 102) to leader 0
term 14 server 2 not vote for server 1, 日志不够新
term 14 server 0 not vote for server 1, 日志不够新
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 16 server 2 vote for server 0
term 16 server 0 get vote from server 2
term 16 server 0 become leader
------------------------------------------------------
term 16 server 1 vote for server 0
term 16 server 0 get outdate rpc reply from server 1
flag 31506 term 16 leader 0 nextIndex[1]: 103  matchIndex[1]: 0
term 16 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
flag 63074 term 16 leader 0 nextIndex[2]: 103  matchIndex[2]: 0
term 16 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
term 16 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 103->102
------------------------------------------------------
term 16 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 103->102
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 16 leader 0 nextIndex[1]: 88  matchIndex[1]: 0
term 16 leader 0 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 14
------------------------------------------------------
flag 79209 term 16 leader 0 nextIndex[2]: 102  matchIndex[2]: 0
term 16 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
term 16 server 1 InstallSnapshot success
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:101 
term 16 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 100 matchIndex[1] 99 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 99 rf.lastIncludedTerm 14 rf.commitIndex 99 rf.lastApplied 99
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 14 99} {515001484431256594 14 100} {389680956046275957 14 101} {312672511259330312 14 102}]
------------------------------------------------------
flag 64740 term 16 leader 0 nextIndex[1]: 100  matchIndex[1]: 99
term 16 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
flag 25672 term 16 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 16 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:99 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=101
leader log:
[{snapshot 14 99} {515001484431256594 14 100} {389680956046275957 14 101} {312672511259330312 14 102}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 14 99} {515001484431256594 14 100} {389680956046275957 14 101} {312672511259330312 14 102}]
------------------------------------------------------
flag 13780 term 16 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 16 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
flag 43466 term 16 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 16 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 14 99} {515001484431256594 14 100} {389680956046275957 14 101} {312672511259330312 14 102}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=101
leader log:
[{snapshot 14 99} {515001484431256594 14 100} {389680956046275957 14 101} {312672511259330312 14 102}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1835 term 16 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 16 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
flag 44984 term 16 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 16 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 14 99} {515001484431256594 14 100} {389680956046275957 14 101} {312672511259330312 14 102}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=101
leader log:
[{snapshot 14 99} {515001484431256594 14 100} {389680956046275957 14 101} {312672511259330312 14 102}]
------------------------------------------------------
flag 71073 term 16 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 16 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
flag 17875 term 16 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 16 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 14 99} {515001484431256594 14 100} {389680956046275957 14 101} {312672511259330312 14 102}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=101
leader log:
[{snapshot 14 99} {515001484431256594 14 100} {389680956046275957 14 101} {312672511259330312 14 102}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1440 term 16 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 16 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
flag 84644 term 16 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 16 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 14 99} {515001484431256594 14 100} {389680956046275957 14 101} {312672511259330312 14 102}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=101
leader log:
[{snapshot 14 99} {515001484431256594 14 100} {389680956046275957 14 101} {312672511259330312 14 102}]
------------------------------------------------------
flag 30539 term 16 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 16 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
flag 43104 term 16 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 16 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 14 99} {515001484431256594 14 100} {389680956046275957 14 101} {312672511259330312 14 102}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=101
leader log:
[{snapshot 14 99} {515001484431256594 14 100} {389680956046275957 14 101} {312672511259330312 14 102}]
------------------------------------------------------
flag 76053 term 16 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 16 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
flag 63067 term 16 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 16 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 14 99} {515001484431256594 14 100} {389680956046275957 14 101} {312672511259330312 14 102}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=101
leader log:
[{snapshot 14 99} {515001484431256594 14 100} {389680956046275957 14 101} {312672511259330312 14 102}]
------------------------------------------------------
flag 28082 term 16 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 16 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
flag 91686 term 16 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 16 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 14 99} {515001484431256594 14 100} {389680956046275957 14 101} {312672511259330312 14 102}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=101
leader log:
[{snapshot 14 99} {515001484431256594 14 100} {389680956046275957 14 101} {312672511259330312 14 102}]
------------------------------------------------------
flag 95721 term 16 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 16 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
flag 90232 term 16 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 16 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 14 99} {515001484431256594 14 100} {389680956046275957 14 101} {312672511259330312 14 102}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=101
leader log:
[{snapshot 14 99} {515001484431256594 14 100} {389680956046275957 14 101} {312672511259330312 14 102}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98534 term 16 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 16 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
flag 6215 term 16 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 16 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 14 99} {515001484431256594 14 100} {389680956046275957 14 101} {312672511259330312 14 102}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=101
leader log:
[{snapshot 14 99} {515001484431256594 14 100} {389680956046275957 14 101} {312672511259330312 14 102}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30475 term 16 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 16 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
flag 34609 term 16 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 16 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 14 99} {515001484431256594 14 100} {389680956046275957 14 101} {312672511259330312 14 102}]
term 16 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=101
leader log:
[{snapshot 14 99} {515001484431256594 14 100} {389680956046275957 14 101} {312672511259330312 14 102}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74995 term 16 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 16 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
flag 25550 term 16 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 16 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 14 99} {515001484431256594 14 100} {389680956046275957 14 101} {312672511259330312 14 102}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=101
leader log:
[{snapshot 14 99} {515001484431256594 14 100} {389680956046275957 14 101} {312672511259330312 14 102}]
------------------------------------------------------
flag 90572 term 16 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 16 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
flag 17812 term 16 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 16 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 14 99} {515001484431256594 14 100} {389680956046275957 14 101} {312672511259330312 14 102}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=101
leader log:
[{snapshot 14 99} {515001484431256594 14 100} {389680956046275957 14 101} {312672511259330312 14 102}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41969 term 16 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 16 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
flag 49621 term 16 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 16 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 14 99} {515001484431256594 14 100} {389680956046275957 14 101} {312672511259330312 14 102}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=101
leader log:
[{snapshot 14 99} {515001484431256594 14 100} {389680956046275957 14 101} {312672511259330312 14 102}]
------------------------------------------------------
flag 43572 term 16 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 16 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
flag 15594 term 16 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 16 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 14 99} {515001484431256594 14 100} {389680956046275957 14 101} {312672511259330312 14 102}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=101
leader log:
[{snapshot 14 99} {515001484431256594 14 100} {389680956046275957 14 101} {312672511259330312 14 102}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61024 term 16 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 16 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
flag 66462 term 16 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 16 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 14 99} {515001484431256594 14 100} {389680956046275957 14 101} {312672511259330312 14 102}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=101
leader log:
[{snapshot 14 99} {515001484431256594 14 100} {389680956046275957 14 101} {312672511259330312 14 102}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59729 term 16 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 16 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
flag 60667 term 16 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 16 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=101
leader log:
[{snapshot 14 99} {515001484431256594 14 100} {389680956046275957 14 101} {312672511259330312 14 102}]
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 14 99} {515001484431256594 14 100} {389680956046275957 14 101} {312672511259330312 14 102}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82548 term 16 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 16 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
flag 29464 term 16 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 16 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 14 99} {515001484431256594 14 100} {389680956046275957 14 101} {312672511259330312 14 102}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=101
leader log:
[{snapshot 14 99} {515001484431256594 14 100} {389680956046275957 14 101} {312672511259330312 14 102}]
------------------------------------------------------
client write log 312672511259330312 (index 103) to leader 0
flag 46319 term 16 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 16 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
flag 1805 term 16 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 16 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=103
leader log:
[{snapshot 14 99} {515001484431256594 14 100} {389680956046275957 14 101} {312672511259330312 14 102} {312672511259330312 16 103}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=104
update matchIndex[1]=103
update leader CommitIndex=103
leader log:
[{snapshot 14 99} {515001484431256594 14 100} {389680956046275957 14 101} {312672511259330312 14 102} {312672511259330312 16 103}]
------------------------------------------------------
flag 79912 term 16 leader 0 nextIndex[1]: 104  matchIndex[1]: 103
term 16 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 16 leaderCommit: 103 
------------------------------------------------------
flag 86923 term 16 leader 0 nextIndex[2]: 104  matchIndex[2]: 103
term 16 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 16 leaderCommit: 103 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=103
leader log:
[{snapshot 14 99} {515001484431256594 14 100} {389680956046275957 14 101} {312672511259330312 14 102} {312672511259330312 16 103}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=104
update matchIndex[1]=103
update leader CommitIndex=103
leader log:
[{snapshot 14 99} {515001484431256594 14 100} {389680956046275957 14 101} {312672511259330312 14 102} {312672511259330312 16 103}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60642 term 16 leader 0 nextIndex[1]: 104  matchIndex[1]: 103
term 16 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 16 leaderCommit: 103 
------------------------------------------------------
flag 46834 term 16 leader 0 nextIndex[2]: 104  matchIndex[2]: 103
term 16 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 16 leaderCommit: 103 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=104
update matchIndex[1]=103
update leader CommitIndex=103
leader log:
[{snapshot 14 99} {515001484431256594 14 100} {389680956046275957 14 101} {312672511259330312 14 102} {312672511259330312 16 103}]
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=103
leader log:
[{snapshot 14 99} {515001484431256594 14 100} {389680956046275957 14 101} {312672511259330312 14 102} {312672511259330312 16 103}]
------------------------------------------------------
flag 34997 term 16 leader 0 nextIndex[1]: 104  matchIndex[1]: 103
term 16 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 16 leaderCommit: 103 
------------------------------------------------------
flag 70155 term 16 leader 0 nextIndex[2]: 104  matchIndex[2]: 103
term 16 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 16 leaderCommit: 103 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=103
leader log:
[{snapshot 14 99} {515001484431256594 14 100} {389680956046275957 14 101} {312672511259330312 14 102} {312672511259330312 16 103}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=104
update matchIndex[1]=103
update leader CommitIndex=103
leader log:
[{snapshot 14 99} {515001484431256594 14 100} {389680956046275957 14 101} {312672511259330312 14 102} {312672511259330312 16 103}]
------------------------------------------------------
flag 93976 term 16 leader 0 nextIndex[1]: 104  matchIndex[1]: 103
term 16 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 16 leaderCommit: 103 
------------------------------------------------------
flag 26256 term 16 leader 0 nextIndex[2]: 104  matchIndex[2]: 103
term 16 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 16 leaderCommit: 103 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=104
update matchIndex[1]=103
update leader CommitIndex=103
leader log:
[{snapshot 14 99} {515001484431256594 14 100} {389680956046275957 14 101} {312672511259330312 14 102} {312672511259330312 16 103}]
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=103
leader log:
[{snapshot 14 99} {515001484431256594 14 100} {389680956046275957 14 101} {312672511259330312 14 102} {312672511259330312 16 103}]
------------------------------------------------------
flag 16878 term 16 leader 0 nextIndex[1]: 104  matchIndex[1]: 103
term 16 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 16 leaderCommit: 103 
------------------------------------------------------
flag 40355 term 16 leader 0 nextIndex[2]: 104  matchIndex[2]: 103
term 16 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 16 leaderCommit: 103 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=103
leader log:
[{snapshot 14 99} {515001484431256594 14 100} {389680956046275957 14 101} {312672511259330312 14 102} {312672511259330312 16 103}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=104
update matchIndex[1]=103
update leader CommitIndex=103
leader log:
[{snapshot 14 99} {515001484431256594 14 100} {389680956046275957 14 101} {312672511259330312 14 102} {312672511259330312 16 103}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 1
client write log 1319632171825461383 (index 104) to leader 0
flag 37066 term 16 leader 0 nextIndex[1]: 104  matchIndex[1]: 103
term 16 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 16 leaderCommit: 103 
------------------------------------------------------
flag 98595 term 16 leader 0 nextIndex[2]: 104  matchIndex[2]: 103
term 16 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 16 leaderCommit: 103 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=104
leader log:
[{snapshot 14 99} {515001484431256594 14 100} {389680956046275957 14 101} {312672511259330312 14 102} {312672511259330312 16 103} {1319632171825461383 16 104}]
------------------------------------------------------
flag 51992 term 16 leader 0 nextIndex[1]: 104  matchIndex[1]: 103
term 16 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 16 leaderCommit: 104 
------------------------------------------------------
flag 95821 term 16 leader 0 nextIndex[2]: 105  matchIndex[2]: 104
term 16 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 16 leaderCommit: 104 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=104
leader log:
[{snapshot 14 99} {515001484431256594 14 100} {389680956046275957 14 101} {312672511259330312 14 102} {312672511259330312 16 103} {1319632171825461383 16 104}]
------------------------------------------------------
client write log 6794613341517092009 (index 105) to leader 0
client write log 259273467402029565 (index 106) to leader 0
client write log 4843817551559271714 (index 107) to leader 0
client write log 8337279522862391280 (index 108) to leader 0
client write log 375759401095342821 (index 109) to leader 0
client write log 5894168098536063241 (index 110) to leader 0
client write log 9123065989147438833 (index 111) to leader 0
client write log 4386363160101815342 (index 112) to leader 0
client write log 4607698971874358423 (index 113) to leader 0
client write log 2255098725125458931 (index 114) to leader 0
client write log 8129129878201316672 (index 115) to leader 0
client write log 4994688550709623687 (index 116) to leader 0
client write log 462745909462969818 (index 117) to leader 0
client write log 1552895538513770559 (index 118) to leader 0
client write log 7354832622129521139 (index 119) to leader 0
flag 43821 term 16 leader 0 nextIndex[1]: 104  matchIndex[1]: 103
term 16 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 16 leaderCommit: 104 
------------------------------------------------------
flag 97394 term 16 leader 0 nextIndex[2]: 105  matchIndex[2]: 104
term 16 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 16 leaderCommit: 104 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=120
update matchIndex[2]=119
update leader CommitIndex=119
leader log:
[{snapshot 14 99} {515001484431256594 14 100} {389680956046275957 14 101} {312672511259330312 14 102} {312672511259330312 16 103} {1319632171825461383 16 104} {6794613341517092009 16 105} {259273467402029565 16 106} {4843817551559271714 16 107} {8337279522862391280 16 108} {375759401095342821 16 109} {5894168098536063241 16 110} {9123065989147438833 16 111} {4386363160101815342 16 112} {4607698971874358423 16 113} {2255098725125458931 16 114} {8129129878201316672 16 115} {4994688550709623687 16 116} {462745909462969818 16 117} {1552895538513770559 16 118} {7354832622129521139 16 119}]
------------------------------------------------------
term 16 Server0 start snapshot! index=109
term 16 server0 snapshot success
lastIncludedIndex=109 lastApplied=110 lastIndex=119
-------------------------------------------------------------
term 16 Server0 start snapshot! index=119
term 16 server0 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=119
-------------------------------------------------------------
term 16 leader 0 nextIndex[1]: 104  matchIndex[1]: 103
term 16 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 16
------------------------------------------------------
flag 78888 term 16 leader 0 nextIndex[2]: 120  matchIndex[2]: 119
term 16 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 16 leaderCommit: 119 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=120
update matchIndex[2]=119
update leader CommitIndex=119
leader log:
[{snapshot 16 119}]
------------------------------------------------------
term 16 Server2 start snapshot! index=109
term 16 server2 snapshot success
lastIncludedIndex=109 lastApplied=110 lastIndex=119
-------------------------------------------------------------
term 16 Server2 start snapshot! index=119
term 16 server2 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=119
-------------------------------------------------------------
!!!!!!connect server 1
client write log 8818747953534726489 (index 120) to leader 0
term 16 server 0 not vote for server 1, 日志不够新
term 16 server 2 not vote for server 1, 日志不够新
term 18 server 2 vote for server 0
term 18 server 1 vote for server 0
term 18 server 0 get vote from server 2
term 18 server 0 become leader
------------------------------------------------------
term 18 server 0 get outdate rpc reply from server 1
flag 41403 term 18 leader 0 nextIndex[1]: 121  matchIndex[1]: 0
term 18 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 16 leaderCommit: 119 
------------------------------------------------------
flag 69086 term 18 leader 0 nextIndex[2]: 121  matchIndex[2]: 0
term 18 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 16 leaderCommit: 119 
------------------------------------------------------
term 18 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 18 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 121->120
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 121->120
------------------------------------------------------
term 18 leader 0 nextIndex[1]: 104  matchIndex[1]: 0
term 18 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 16
------------------------------------------------------
flag 72592 term 18 leader 0 nextIndex[2]: 120  matchIndex[2]: 0
term 18 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 16 leaderCommit: 119 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=119
leader log:
[{snapshot 16 119} {8818747953534726489 16 120}]
------------------------------------------------------
term 18 server 1 InstallSnapshot success
------------------------------------------------------
term 18 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 120 matchIndex[1] 119 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 119 rf.lastIncludedTerm 16 rf.commitIndex 119 rf.lastApplied 119
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99687 term 18 leader 0 nextIndex[1]: 120  matchIndex[1]: 119
term 18 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 16 leaderCommit: 119 
------------------------------------------------------
flag 58124 term 18 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 18 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 16 leaderCommit: 119 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=119
leader log:
[{snapshot 16 119} {8818747953534726489 16 120}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=119
leader log:
[{snapshot 16 119} {8818747953534726489 16 120}]
------------------------------------------------------
flag 6628 term 18 leader 0 nextIndex[1]: 121  matchIndex[1]: 120
term 18 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 16 leaderCommit: 119 
------------------------------------------------------
flag 59776 term 18 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 18 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 16 leaderCommit: 119 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=119
leader log:
[{snapshot 16 119} {8818747953534726489 16 120}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=119
leader log:
[{snapshot 16 119} {8818747953534726489 16 120}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63837 term 18 leader 0 nextIndex[1]: 121  matchIndex[1]: 120
term 18 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 16 leaderCommit: 119 
------------------------------------------------------
flag 49158 term 18 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 18 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 16 leaderCommit: 119 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=119
leader log:
[{snapshot 16 119} {8818747953534726489 16 120}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=119
leader log:
[{snapshot 16 119} {8818747953534726489 16 120}]
------------------------------------------------------
flag 2317 term 18 leader 0 nextIndex[1]: 121  matchIndex[1]: 120
term 18 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 16 leaderCommit: 119 
------------------------------------------------------
flag 4325 term 18 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 18 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 16 leaderCommit: 119 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=119
leader log:
[{snapshot 16 119} {8818747953534726489 16 120}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=119
leader log:
[{snapshot 16 119} {8818747953534726489 16 120}]
------------------------------------------------------
flag 98538 term 18 leader 0 nextIndex[1]: 121  matchIndex[1]: 120
term 18 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 16 leaderCommit: 119 
------------------------------------------------------
flag 69442 term 18 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 18 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 16 leaderCommit: 119 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=119
leader log:
[{snapshot 16 119} {8818747953534726489 16 120}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=119
leader log:
[{snapshot 16 119} {8818747953534726489 16 120}]
------------------------------------------------------
flag 4101 term 18 leader 0 nextIndex[1]: 121  matchIndex[1]: 120
term 18 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 16 leaderCommit: 119 
------------------------------------------------------
flag 41477 term 18 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 18 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 16 leaderCommit: 119 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=119
leader log:
[{snapshot 16 119} {8818747953534726489 16 120}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=119
leader log:
[{snapshot 16 119} {8818747953534726489 16 120}]
------------------------------------------------------
flag 68303 term 18 leader 0 nextIndex[1]: 121  matchIndex[1]: 120
term 18 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 16 leaderCommit: 119 
------------------------------------------------------
flag 19935 term 18 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 18 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 16 leaderCommit: 119 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=119
leader log:
[{snapshot 16 119} {8818747953534726489 16 120}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=119
leader log:
[{snapshot 16 119} {8818747953534726489 16 120}]
------------------------------------------------------
term 18 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 35015 term 18 leader 0 nextIndex[1]: 121  matchIndex[1]: 120
term 18 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 16 leaderCommit: 119 
------------------------------------------------------
flag 22775 term 18 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 18 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 16 leaderCommit: 119 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=119
leader log:
[{snapshot 16 119} {8818747953534726489 16 120}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=119
leader log:
[{snapshot 16 119} {8818747953534726489 16 120}]
------------------------------------------------------
flag 4226 term 18 leader 0 nextIndex[1]: 121  matchIndex[1]: 120
term 18 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 16 leaderCommit: 119 
------------------------------------------------------
flag 22647 term 18 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 18 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 16 leaderCommit: 119 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=119
leader log:
[{snapshot 16 119} {8818747953534726489 16 120}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=119
leader log:
[{snapshot 16 119} {8818747953534726489 16 120}]
------------------------------------------------------
flag 36162 term 18 leader 0 nextIndex[1]: 121  matchIndex[1]: 120
term 18 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 16 leaderCommit: 119 
------------------------------------------------------
flag 29422 term 18 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 18 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 16 leaderCommit: 119 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=119
leader log:
[{snapshot 16 119} {8818747953534726489 16 120}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=119
leader log:
[{snapshot 16 119} {8818747953534726489 16 120}]
------------------------------------------------------
flag 82222 term 18 leader 0 nextIndex[1]: 121  matchIndex[1]: 120
term 18 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 16 leaderCommit: 119 
------------------------------------------------------
flag 48362 term 18 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 18 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 16 leaderCommit: 119 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=119
leader log:
[{snapshot 16 119} {8818747953534726489 16 120}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=119
leader log:
[{snapshot 16 119} {8818747953534726489 16 120}]
------------------------------------------------------
flag 67899 term 18 leader 0 nextIndex[1]: 121  matchIndex[1]: 120
term 18 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 16 leaderCommit: 119 
------------------------------------------------------
flag 83665 term 18 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 18 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 16 leaderCommit: 119 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=119
leader log:
[{snapshot 16 119} {8818747953534726489 16 120}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=119
leader log:
[{snapshot 16 119} {8818747953534726489 16 120}]
------------------------------------------------------
flag 8149 term 18 leader 0 nextIndex[1]: 121  matchIndex[1]: 120
term 18 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 16 leaderCommit: 119 
------------------------------------------------------
flag 93637 term 18 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 18 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 16 leaderCommit: 119 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=119
leader log:
[{snapshot 16 119} {8818747953534726489 16 120}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=119
leader log:
[{snapshot 16 119} {8818747953534726489 16 120}]
------------------------------------------------------
flag 12389 term 18 leader 0 nextIndex[1]: 121  matchIndex[1]: 120
term 18 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 16 leaderCommit: 119 
------------------------------------------------------
flag 36041 term 18 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 18 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 16 leaderCommit: 119 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=119
leader log:
[{snapshot 16 119} {8818747953534726489 16 120}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=119
leader log:
[{snapshot 16 119} {8818747953534726489 16 120}]
------------------------------------------------------
flag 71674 term 18 leader 0 nextIndex[1]: 121  matchIndex[1]: 120
term 18 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 16 leaderCommit: 119 
------------------------------------------------------
flag 89279 term 18 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 18 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 16 leaderCommit: 119 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=119
leader log:
[{snapshot 16 119} {8818747953534726489 16 120}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=119
leader log:
[{snapshot 16 119} {8818747953534726489 16 120}]
------------------------------------------------------
flag 93168 term 18 leader 0 nextIndex[1]: 121  matchIndex[1]: 120
term 18 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 16 leaderCommit: 119 
------------------------------------------------------
flag 86117 term 18 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 18 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 16 leaderCommit: 119 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=119
leader log:
[{snapshot 16 119} {8818747953534726489 16 120}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=119
leader log:
[{snapshot 16 119} {8818747953534726489 16 120}]
------------------------------------------------------
flag 10463 term 18 leader 0 nextIndex[1]: 121  matchIndex[1]: 120
term 18 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 16 leaderCommit: 119 
------------------------------------------------------
flag 96431 term 18 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 18 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 16 leaderCommit: 119 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=119
leader log:
[{snapshot 16 119} {8818747953534726489 16 120}]
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=119
leader log:
[{snapshot 16 119} {8818747953534726489 16 120}]
------------------------------------------------------
flag 61989 term 18 leader 0 nextIndex[1]: 121  matchIndex[1]: 120
term 18 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 16 leaderCommit: 119 
------------------------------------------------------
flag 90949 term 18 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 18 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 16 leaderCommit: 119 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=119
leader log:
[{snapshot 16 119} {8818747953534726489 16 120}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=119
leader log:
[{snapshot 16 119} {8818747953534726489 16 120}]
------------------------------------------------------
client write log 8818747953534726489 (index 121) to leader 0
flag 34530 term 18 leader 0 nextIndex[1]: 121  matchIndex[1]: 120
term 18 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 16 leaderCommit: 119 
------------------------------------------------------
flag 18967 term 18 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 18 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 16 leaderCommit: 119 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {8818747953534726489 16 120} {8818747953534726489 18 121}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=122
update matchIndex[1]=121
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {8818747953534726489 16 120} {8818747953534726489 18 121}]
------------------------------------------------------
flag 97106 term 18 leader 0 nextIndex[1]: 122  matchIndex[1]: 121
term 18 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 18 leaderCommit: 121 
------------------------------------------------------
flag 29769 term 18 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 18 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 18 leaderCommit: 121 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {8818747953534726489 16 120} {8818747953534726489 18 121}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=122
update matchIndex[1]=121
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {8818747953534726489 16 120} {8818747953534726489 18 121}]
------------------------------------------------------
flag 58076 term 18 leader 0 nextIndex[1]: 122  matchIndex[1]: 121
term 18 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 18 leaderCommit: 121 
------------------------------------------------------
flag 47101 term 18 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 18 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 18 leaderCommit: 121 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {8818747953534726489 16 120} {8818747953534726489 18 121}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=122
update matchIndex[1]=121
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {8818747953534726489 16 120} {8818747953534726489 18 121}]
------------------------------------------------------
flag 36476 term 18 leader 0 nextIndex[1]: 122  matchIndex[1]: 121
term 18 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 18 leaderCommit: 121 
------------------------------------------------------
flag 89801 term 18 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 18 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 18 leaderCommit: 121 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {8818747953534726489 16 120} {8818747953534726489 18 121}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=122
update matchIndex[1]=121
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {8818747953534726489 16 120} {8818747953534726489 18 121}]
------------------------------------------------------
flag 89385 term 18 leader 0 nextIndex[1]: 122  matchIndex[1]: 121
term 18 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 18 leaderCommit: 121 
------------------------------------------------------
flag 95888 term 18 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 18 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 18 leaderCommit: 121 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {8818747953534726489 16 120} {8818747953534726489 18 121}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=122
update matchIndex[1]=121
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {8818747953534726489 16 120} {8818747953534726489 18 121}]
------------------------------------------------------
flag 40004 term 18 leader 0 nextIndex[1]: 122  matchIndex[1]: 121
term 18 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 18 leaderCommit: 121 
------------------------------------------------------
flag 77206 term 18 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 18 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 18 leaderCommit: 121 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {8818747953534726489 16 120} {8818747953534726489 18 121}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=122
update matchIndex[1]=121
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {8818747953534726489 16 120} {8818747953534726489 18 121}]
------------------------------------------------------
flag 98042 term 18 leader 0 nextIndex[1]: 122  matchIndex[1]: 121
term 18 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 18 leaderCommit: 121 
------------------------------------------------------
flag 41625 term 18 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 18 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 18 leaderCommit: 121 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {8818747953534726489 16 120} {8818747953534726489 18 121}]
------------------------------------------------------
!!!!!!diconnect server 0
term 18 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 122->121
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 18 leader 0 nextIndex[1]: 0  matchIndex[1]: 121
term 18 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 16
------------------------------------------------------
flag 28080 term 18 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 18 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 18 leaderCommit: 121 
------------------------------------------------------
term 18 leader 0 nextIndex[1]: 0  matchIndex[1]: 121
term 18 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 16
------------------------------------------------------
flag 90735 term 18 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 18 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 18 leaderCommit: 121 
------------------------------------------------------
term 18 leader 0 nextIndex[1]: 0  matchIndex[1]: 121
term 18 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 16
------------------------------------------------------
flag 2669 term 18 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 18 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 18 leaderCommit: 121 
------------------------------------------------------
term 18 leader 0 nextIndex[1]: 0  matchIndex[1]: 121
term 18 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 16
------------------------------------------------------
flag 4509 term 18 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 18 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 18 leaderCommit: 121 
------------------------------------------------------
term 19 server 1 vote for server 2
term 19 server 2 get vote from server 1
term 19 server 2 become leader
------------------------------------------------------
flag 73472 term 19 leader 2 nextIndex[0]: 122  matchIndex[0]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 18 leaderCommit: 121 
------------------------------------------------------
flag 29693 term 19 leader 2 nextIndex[1]: 122  matchIndex[1]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 18 leaderCommit: 121 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=122
update matchIndex[1]=121
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {8818747953534726489 16 120} {8818747953534726489 18 121}]
------------------------------------------------------
term 18 leader 0 nextIndex[1]: 0  matchIndex[1]: 121
term 18 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 16
------------------------------------------------------
flag 55428 term 18 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 18 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 18 leaderCommit: 121 
------------------------------------------------------
client write log 2434392355530494481 (index 122) to leader 2
flag 16800 term 19 leader 2 nextIndex[0]: 122  matchIndex[0]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 18 leaderCommit: 121 
------------------------------------------------------
flag 48661 term 19 leader 2 nextIndex[1]: 122  matchIndex[1]: 121
term 19 leader 2 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 18 leaderCommit: 121 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=122
leader log:
[{snapshot 16 119} {8818747953534726489 16 120} {8818747953534726489 18 121} {2434392355530494481 19 122}]
------------------------------------------------------
term 18 leader 0 nextIndex[1]: 0  matchIndex[1]: 121
term 18 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 16
------------------------------------------------------
flag 86562 term 18 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 18 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 18 leaderCommit: 121 
------------------------------------------------------
flag 76549 term 19 leader 2 nextIndex[0]: 122  matchIndex[0]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 18 leaderCommit: 122 
------------------------------------------------------
flag 37865 term 19 leader 2 nextIndex[1]: 123  matchIndex[1]: 122
term 19 leader 2 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=122
leader log:
[{snapshot 16 119} {8818747953534726489 16 120} {8818747953534726489 18 121} {2434392355530494481 19 122}]
------------------------------------------------------
term 18 leader 0 nextIndex[1]: 0  matchIndex[1]: 121
term 18 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 16
------------------------------------------------------
flag 56008 term 18 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 18 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 18 leaderCommit: 121 
------------------------------------------------------
client write log 1486461209164642742 (index 123) to leader 2
flag 54693 term 19 leader 2 nextIndex[0]: 122  matchIndex[0]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 18 leaderCommit: 122 
------------------------------------------------------
flag 16869 term 19 leader 2 nextIndex[1]: 123  matchIndex[1]: 122
term 19 leader 2 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {8818747953534726489 16 120} {8818747953534726489 18 121} {2434392355530494481 19 122} {1486461209164642742 19 123}]
------------------------------------------------------
term 18 leader 0 nextIndex[1]: 0  matchIndex[1]: 121
term 18 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 16
------------------------------------------------------
flag 97879 term 18 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 18 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 18 leaderCommit: 121 
------------------------------------------------------
flag 2705 term 19 leader 2 nextIndex[0]: 122  matchIndex[0]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 18 leaderCommit: 123 
------------------------------------------------------
flag 12178 term 19 leader 2 nextIndex[1]: 124  matchIndex[1]: 123
term 19 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {8818747953534726489 16 120} {8818747953534726489 18 121} {2434392355530494481 19 122} {1486461209164642742 19 123}]
------------------------------------------------------
term 18 leader 0 nextIndex[1]: 0  matchIndex[1]: 121
term 18 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 16
------------------------------------------------------
flag 76865 term 18 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 18 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 18 leaderCommit: 121 
------------------------------------------------------
!!!!!!connect server 0
client write log 1267926403064108824 (index 124) to leader 2
flag 33625 term 19 leader 2 nextIndex[0]: 122  matchIndex[0]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 18 leaderCommit: 123 
------------------------------------------------------
flag 6472 term 19 leader 2 nextIndex[1]: 124  matchIndex[1]: 123
term 19 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 123 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 16 119} {8818747953534726489 16 120} {8818747953534726489 18 121} {2434392355530494481 19 122} {1486461209164642742 19 123} {1267926403064108824 19 124}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=124
leader log:
[{snapshot 16 119} {8818747953534726489 16 120} {8818747953534726489 18 121} {2434392355530494481 19 122} {1486461209164642742 19 123} {1267926403064108824 19 124}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34418 term 19 leader 2 nextIndex[0]: 125  matchIndex[0]: 124
term 19 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
flag 67823 term 19 leader 2 nextIndex[1]: 125  matchIndex[1]: 124
term 19 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 16 119} {8818747953534726489 16 120} {8818747953534726489 18 121} {2434392355530494481 19 122} {1486461209164642742 19 123} {1267926403064108824 19 124}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=124
leader log:
[{snapshot 16 119} {8818747953534726489 16 120} {8818747953534726489 18 121} {2434392355530494481 19 122} {1486461209164642742 19 123} {1267926403064108824 19 124}]
------------------------------------------------------
flag 24748 term 19 leader 2 nextIndex[0]: 125  matchIndex[0]: 124
term 19 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
flag 19592 term 19 leader 2 nextIndex[1]: 125  matchIndex[1]: 124
term 19 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 16 119} {8818747953534726489 16 120} {8818747953534726489 18 121} {2434392355530494481 19 122} {1486461209164642742 19 123} {1267926403064108824 19 124}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=124
leader log:
[{snapshot 16 119} {8818747953534726489 16 120} {8818747953534726489 18 121} {2434392355530494481 19 122} {1486461209164642742 19 123} {1267926403064108824 19 124}]
------------------------------------------------------
flag 65650 term 19 leader 2 nextIndex[0]: 125  matchIndex[0]: 124
term 19 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
flag 28321 term 19 leader 2 nextIndex[1]: 125  matchIndex[1]: 124
term 19 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 16 119} {8818747953534726489 16 120} {8818747953534726489 18 121} {2434392355530494481 19 122} {1486461209164642742 19 123} {1267926403064108824 19 124}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=124
leader log:
[{snapshot 16 119} {8818747953534726489 16 120} {8818747953534726489 18 121} {2434392355530494481 19 122} {1486461209164642742 19 123} {1267926403064108824 19 124}]
------------------------------------------------------
flag 5770 term 19 leader 2 nextIndex[0]: 125  matchIndex[0]: 124
term 19 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
flag 20806 term 19 leader 2 nextIndex[1]: 125  matchIndex[1]: 124
term 19 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:124 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=124
leader log:
[{snapshot 16 119} {8818747953534726489 16 120} {8818747953534726489 18 121} {2434392355530494481 19 122} {1486461209164642742 19 123} {1267926403064108824 19 124}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 16 119} {8818747953534726489 16 120} {8818747953534726489 18 121} {2434392355530494481 19 122} {1486461209164642742 19 123} {1267926403064108824 19 124}]
------------------------------------------------------
flag 69304 term 19 leader 2 nextIndex[0]: 125  matchIndex[0]: 124
term 19 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
flag 67150 term 19 leader 2 nextIndex[1]: 125  matchIndex[1]: 124
term 19 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 16 119} {8818747953534726489 16 120} {8818747953534726489 18 121} {2434392355530494481 19 122} {1486461209164642742 19 123} {1267926403064108824 19 124}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=124
leader log:
[{snapshot 16 119} {8818747953534726489 16 120} {8818747953534726489 18 121} {2434392355530494481 19 122} {1486461209164642742 19 123} {1267926403064108824 19 124}]
------------------------------------------------------
flag 40570 term 19 leader 2 nextIndex[0]: 125  matchIndex[0]: 124
term 19 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
flag 76512 term 19 leader 2 nextIndex[1]: 125  matchIndex[1]: 124
term 19 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 16 119} {8818747953534726489 16 120} {8818747953534726489 18 121} {2434392355530494481 19 122} {1486461209164642742 19 123} {1267926403064108824 19 124}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=124
leader log:
[{snapshot 16 119} {8818747953534726489 16 120} {8818747953534726489 18 121} {2434392355530494481 19 122} {1486461209164642742 19 123} {1267926403064108824 19 124}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 7980425862501748134 (index 125) to leader 2
flag 73373 term 19 leader 2 nextIndex[0]: 125  matchIndex[0]: 124
term 19 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
flag 526 term 19 leader 2 nextIndex[1]: 125  matchIndex[1]: 124
term 19 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=125
leader log:
[{snapshot 16 119} {8818747953534726489 16 120} {8818747953534726489 18 121} {2434392355530494481 19 122} {1486461209164642742 19 123} {1267926403064108824 19 124} {7980425862501748134 19 125}]
------------------------------------------------------
flag 12302 term 19 leader 2 nextIndex[0]: 125  matchIndex[0]: 124
term 19 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 125 
------------------------------------------------------
flag 71533 term 19 leader 2 nextIndex[1]: 126  matchIndex[1]: 125
term 19 leader 2 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 125 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=125
leader log:
[{snapshot 16 119} {8818747953534726489 16 120} {8818747953534726489 18 121} {2434392355530494481 19 122} {1486461209164642742 19 123} {1267926403064108824 19 124} {7980425862501748134 19 125}]
------------------------------------------------------
client write log 7977028416784136272 (index 126) to leader 2
client write log 7609801879651778795 (index 127) to leader 2
client write log 5381483044840094163 (index 128) to leader 2
client write log 3446493737987484027 (index 129) to leader 2
client write log 6029801277551287040 (index 130) to leader 2
client write log 2982758777818719003 (index 131) to leader 2
client write log 7578229760094718758 (index 132) to leader 2
client write log 7652372823992585051 (index 133) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77709 term 19 leader 2 nextIndex[0]: 125  matchIndex[0]: 124
term 19 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 125 
------------------------------------------------------
flag 62197 term 19 leader 2 nextIndex[1]: 126  matchIndex[1]: 125
term 19 leader 2 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 125 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=133
leader log:
[{snapshot 16 119} {8818747953534726489 16 120} {8818747953534726489 18 121} {2434392355530494481 19 122} {1486461209164642742 19 123} {1267926403064108824 19 124} {7980425862501748134 19 125} {7977028416784136272 19 126} {7609801879651778795 19 127} {5381483044840094163 19 128} {3446493737987484027 19 129} {6029801277551287040 19 130} {2982758777818719003 19 131} {7578229760094718758 19 132} {7652372823992585051 19 133}]
------------------------------------------------------
term 19 Server2 start snapshot! index=129
term 19 server2 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=133
-------------------------------------------------------------
term 19 leader 2 nextIndex[0]: 125  matchIndex[0]: 124
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 19
------------------------------------------------------
flag 49597 term 19 leader 2 nextIndex[1]: 134  matchIndex[1]: 133
term 19 leader 2 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 19 leaderCommit: 133 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=133
leader log:
[{snapshot 19 129} {6029801277551287040 19 130} {2982758777818719003 19 131} {7578229760094718758 19 132} {7652372823992585051 19 133}]
------------------------------------------------------
term 19 Server1 start snapshot! index=129
term 19 server1 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=133
-------------------------------------------------------------
!!!!!!connect server 0
client write log 7160602732146157133 (index 134) to leader 2
term 19 server 2 not vote for server 0, 日志不够新
term 19 server 1 not vote for server 0, 日志不够新
term 21 server 0 vote for server 2
term 21 server 1 vote for server 2
term 21 server 2 get vote from server 0
term 21 server 2 become leader
------------------------------------------------------
term 21 server 2 get outdate rpc reply from server 1
flag 79476 term 21 leader 2 nextIndex[0]: 135  matchIndex[0]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 19 leaderCommit: 133 
------------------------------------------------------
flag 62369 term 21 leader 2 nextIndex[1]: 135  matchIndex[1]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 19 leaderCommit: 133 
------------------------------------------------------
term 21 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 135->134
------------------------------------------------------
term 21 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 135->134
------------------------------------------------------
term 21 leader 2 nextIndex[0]: 125  matchIndex[0]: 0
term 21 leader 2 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 19
------------------------------------------------------
flag 96163 term 21 leader 2 nextIndex[1]: 134  matchIndex[1]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 19 leaderCommit: 133 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=133
leader log:
[{snapshot 19 129} {6029801277551287040 19 130} {2982758777818719003 19 131} {7578229760094718758 19 132} {7652372823992585051 19 133} {7160602732146157133 19 134}]
------------------------------------------------------
term 21 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
term 21 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 130 matchIndex[0] 129 
------------------------------------------------------------------------
rf.lastIncludedIndex 129 rf.lastIncludedTerm 19 rf.commitIndex 129 rf.lastApplied 129
flag 24935 term 21 leader 2 nextIndex[0]: 130  matchIndex[0]: 129
term 21 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 19 leaderCommit: 133 
------------------------------------------------------
flag 41288 term 21 leader 2 nextIndex[1]: 135  matchIndex[1]: 134
term 21 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 19 leaderCommit: 133 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=133
leader log:
[{snapshot 19 129} {6029801277551287040 19 130} {2982758777818719003 19 131} {7578229760094718758 19 132} {7652372823992585051 19 133} {7160602732146157133 19 134}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=133
leader log:
[{snapshot 19 129} {6029801277551287040 19 130} {2982758777818719003 19 131} {7578229760094718758 19 132} {7652372823992585051 19 133} {7160602732146157133 19 134}]
------------------------------------------------------
flag 11252 term 21 leader 2 nextIndex[0]: 135  matchIndex[0]: 134
term 21 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 19 leaderCommit: 133 
------------------------------------------------------
flag 60011 term 21 leader 2 nextIndex[1]: 135  matchIndex[1]: 134
term 21 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 19 leaderCommit: 133 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=133
leader log:
[{snapshot 19 129} {6029801277551287040 19 130} {2982758777818719003 19 131} {7578229760094718758 19 132} {7652372823992585051 19 133} {7160602732146157133 19 134}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=133
leader log:
[{snapshot 19 129} {6029801277551287040 19 130} {2982758777818719003 19 131} {7578229760094718758 19 132} {7652372823992585051 19 133} {7160602732146157133 19 134}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75941 term 21 leader 2 nextIndex[0]: 135  matchIndex[0]: 134
term 21 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 19 leaderCommit: 133 
------------------------------------------------------
flag 27431 term 21 leader 2 nextIndex[1]: 135  matchIndex[1]: 134
term 21 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 19 leaderCommit: 133 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:133 
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=133
leader log:
[{snapshot 19 129} {6029801277551287040 19 130} {2982758777818719003 19 131} {7578229760094718758 19 132} {7652372823992585051 19 133} {7160602732146157133 19 134}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=133
leader log:
[{snapshot 19 129} {6029801277551287040 19 130} {2982758777818719003 19 131} {7578229760094718758 19 132} {7652372823992585051 19 133} {7160602732146157133 19 134}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 21 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51217 term 21 leader 2 nextIndex[0]: 135  matchIndex[0]: 134
term 21 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 19 leaderCommit: 133 
------------------------------------------------------
flag 30815 term 21 leader 2 nextIndex[1]: 135  matchIndex[1]: 134
term 21 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 19 leaderCommit: 133 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=133
leader log:
[{snapshot 19 129} {6029801277551287040 19 130} {2982758777818719003 19 131} {7578229760094718758 19 132} {7652372823992585051 19 133} {7160602732146157133 19 134}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=133
leader log:
[{snapshot 19 129} {6029801277551287040 19 130} {2982758777818719003 19 131} {7578229760094718758 19 132} {7652372823992585051 19 133} {7160602732146157133 19 134}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 21 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 17199 term 21 leader 2 nextIndex[0]: 135  matchIndex[0]: 134
term 21 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 19 leaderCommit: 133 
------------------------------------------------------
flag 78655 term 21 leader 2 nextIndex[1]: 135  matchIndex[1]: 134
term 21 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 19 leaderCommit: 133 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=133
leader log:
[{snapshot 19 129} {6029801277551287040 19 130} {2982758777818719003 19 131} {7578229760094718758 19 132} {7652372823992585051 19 133} {7160602732146157133 19 134}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=133
leader log:
[{snapshot 19 129} {6029801277551287040 19 130} {2982758777818719003 19 131} {7578229760094718758 19 132} {7652372823992585051 19 133} {7160602732146157133 19 134}]
------------------------------------------------------
flag 56249 term 21 leader 2 nextIndex[0]: 135  matchIndex[0]: 134
term 21 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 19 leaderCommit: 133 
------------------------------------------------------
flag 63136 term 21 leader 2 nextIndex[1]: 135  matchIndex[1]: 134
term 21 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 19 leaderCommit: 133 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=133
leader log:
[{snapshot 19 129} {6029801277551287040 19 130} {2982758777818719003 19 131} {7578229760094718758 19 132} {7652372823992585051 19 133} {7160602732146157133 19 134}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=133
leader log:
[{snapshot 19 129} {6029801277551287040 19 130} {2982758777818719003 19 131} {7578229760094718758 19 132} {7652372823992585051 19 133} {7160602732146157133 19 134}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84830 term 21 leader 2 nextIndex[0]: 135  matchIndex[0]: 134
term 21 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 19 leaderCommit: 133 
------------------------------------------------------
flag 25967 term 21 leader 2 nextIndex[1]: 135  matchIndex[1]: 134
term 21 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 19 leaderCommit: 133 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=133
leader log:
[{snapshot 19 129} {6029801277551287040 19 130} {2982758777818719003 19 131} {7578229760094718758 19 132} {7652372823992585051 19 133} {7160602732146157133 19 134}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=133
leader log:
[{snapshot 19 129} {6029801277551287040 19 130} {2982758777818719003 19 131} {7578229760094718758 19 132} {7652372823992585051 19 133} {7160602732146157133 19 134}]
------------------------------------------------------
term 21 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 63549 term 21 leader 2 nextIndex[0]: 135  matchIndex[0]: 134
term 21 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 19 leaderCommit: 133 
------------------------------------------------------
flag 73445 term 21 leader 2 nextIndex[1]: 135  matchIndex[1]: 134
term 21 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 19 leaderCommit: 133 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=133
leader log:
[{snapshot 19 129} {6029801277551287040 19 130} {2982758777818719003 19 131} {7578229760094718758 19 132} {7652372823992585051 19 133} {7160602732146157133 19 134}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=133
leader log:
[{snapshot 19 129} {6029801277551287040 19 130} {2982758777818719003 19 131} {7578229760094718758 19 132} {7652372823992585051 19 133} {7160602732146157133 19 134}]
------------------------------------------------------
flag 99694 term 21 leader 2 nextIndex[0]: 135  matchIndex[0]: 134
term 21 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 19 leaderCommit: 133 
------------------------------------------------------
flag 74338 term 21 leader 2 nextIndex[1]: 135  matchIndex[1]: 134
term 21 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 19 leaderCommit: 133 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=133
leader log:
[{snapshot 19 129} {6029801277551287040 19 130} {2982758777818719003 19 131} {7578229760094718758 19 132} {7652372823992585051 19 133} {7160602732146157133 19 134}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=133
leader log:
[{snapshot 19 129} {6029801277551287040 19 130} {2982758777818719003 19 131} {7578229760094718758 19 132} {7652372823992585051 19 133} {7160602732146157133 19 134}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64169 term 21 leader 2 nextIndex[0]: 135  matchIndex[0]: 134
term 21 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 19 leaderCommit: 133 
------------------------------------------------------
flag 79725 term 21 leader 2 nextIndex[1]: 135  matchIndex[1]: 134
term 21 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 19 leaderCommit: 133 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=133
leader log:
[{snapshot 19 129} {6029801277551287040 19 130} {2982758777818719003 19 131} {7578229760094718758 19 132} {7652372823992585051 19 133} {7160602732146157133 19 134}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=133
leader log:
[{snapshot 19 129} {6029801277551287040 19 130} {2982758777818719003 19 131} {7578229760094718758 19 132} {7652372823992585051 19 133} {7160602732146157133 19 134}]
------------------------------------------------------
term 21 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 59965 term 21 leader 2 nextIndex[0]: 135  matchIndex[0]: 134
term 21 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 19 leaderCommit: 133 
------------------------------------------------------
flag 60472 term 21 leader 2 nextIndex[1]: 135  matchIndex[1]: 134
term 21 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 19 leaderCommit: 133 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=133
leader log:
term 21 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
[{snapshot 19 129} {6029801277551287040 19 130} {2982758777818719003 19 131} {7578229760094718758 19 132} {7652372823992585051 19 133} {7160602732146157133 19 134}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=133
leader log:
[{snapshot 19 129} {6029801277551287040 19 130} {2982758777818719003 19 131} {7578229760094718758 19 132} {7652372823992585051 19 133} {7160602732146157133 19 134}]
------------------------------------------------------
term 21 server 0 not vote for server 2, 任期不够新
term 21 server 2 get outdate rpc reply from server 0
flag 16882 term 21 leader 2 nextIndex[0]: 135  matchIndex[0]: 134
term 21 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 19 leaderCommit: 133 
------------------------------------------------------
flag 95519 term 21 leader 2 nextIndex[1]: 135  matchIndex[1]: 134
term 21 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 19 leaderCommit: 133 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=133
leader log:
[{snapshot 19 129} {6029801277551287040 19 130} {2982758777818719003 19 131} {7578229760094718758 19 132} {7652372823992585051 19 133} {7160602732146157133 19 134}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=133
leader log:
[{snapshot 19 129} {6029801277551287040 19 130} {2982758777818719003 19 131} {7578229760094718758 19 132} {7652372823992585051 19 133} {7160602732146157133 19 134}]
------------------------------------------------------
flag 76865 term 21 leader 2 nextIndex[0]: 135  matchIndex[0]: 134
term 21 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 19 leaderCommit: 133 
------------------------------------------------------
flag 77983 term 21 leader 2 nextIndex[1]: 135  matchIndex[1]: 134
term 21 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 19 leaderCommit: 133 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=133
leader log:
[{snapshot 19 129} {6029801277551287040 19 130} {2982758777818719003 19 131} {7578229760094718758 19 132} {7652372823992585051 19 133} {7160602732146157133 19 134}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=133
leader log:
[{snapshot 19 129} {6029801277551287040 19 130} {2982758777818719003 19 131} {7578229760094718758 19 132} {7652372823992585051 19 133} {7160602732146157133 19 134}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29972 term 21 leader 2 nextIndex[0]: 135  matchIndex[0]: 134
term 21 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 19 leaderCommit: 133 
------------------------------------------------------
flag 99068 term 21 leader 2 nextIndex[1]: 135  matchIndex[1]: 134
term 21 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 19 leaderCommit: 133 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=133
leader log:
[{snapshot 19 129} {6029801277551287040 19 130} {2982758777818719003 19 131} {7578229760094718758 19 132} {7652372823992585051 19 133} {7160602732146157133 19 134}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=133
leader log:
[{snapshot 19 129} {6029801277551287040 19 130} {2982758777818719003 19 131} {7578229760094718758 19 132} {7652372823992585051 19 133} {7160602732146157133 19 134}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73180 term 21 leader 2 nextIndex[0]: 135  matchIndex[0]: 134
term 21 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 19 leaderCommit: 133 
------------------------------------------------------
flag 26995 term 21 leader 2 nextIndex[1]: 135  matchIndex[1]: 134
term 21 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 19 leaderCommit: 133 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=133
leader log:
[{snapshot 19 129} {6029801277551287040 19 130} {2982758777818719003 19 131} {7578229760094718758 19 132} {7652372823992585051 19 133} {7160602732146157133 19 134}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=133
leader log:
[{snapshot 19 129} {6029801277551287040 19 130} {2982758777818719003 19 131} {7578229760094718758 19 132} {7652372823992585051 19 133} {7160602732146157133 19 134}]
------------------------------------------------------
flag 90218 term 21 leader 2 nextIndex[0]: 135  matchIndex[0]: 134
term 21 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 19 leaderCommit: 133 
------------------------------------------------------
flag 69295 term 21 leader 2 nextIndex[1]: 135  matchIndex[1]: 134
term 21 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 19 leaderCommit: 133 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=133
leader log:
[{snapshot 19 129} {6029801277551287040 19 130} {2982758777818719003 19 131} {7578229760094718758 19 132} {7652372823992585051 19 133} {7160602732146157133 19 134}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=133
leader log:
[{snapshot 19 129} {6029801277551287040 19 130} {2982758777818719003 19 131} {7578229760094718758 19 132} {7652372823992585051 19 133} {7160602732146157133 19 134}]
------------------------------------------------------
term 21 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 80926 term 21 leader 2 nextIndex[0]: 135  matchIndex[0]: 134
term 21 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 19 leaderCommit: 133 
------------------------------------------------------
flag 76785 term 21 leader 2 nextIndex[1]: 135  matchIndex[1]: 134
term 21 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 19 leaderCommit: 133 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=133
leader log:
[{snapshot 19 129} {6029801277551287040 19 130} {2982758777818719003 19 131} {7578229760094718758 19 132} {7652372823992585051 19 133} {7160602732146157133 19 134}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=133
leader log:
[{snapshot 19 129} {6029801277551287040 19 130} {2982758777818719003 19 131} {7578229760094718758 19 132} {7652372823992585051 19 133} {7160602732146157133 19 134}]
------------------------------------------------------
flag 16630 term 21 leader 2 nextIndex[0]: 135  matchIndex[0]: 134
term 21 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 19 leaderCommit: 133 
------------------------------------------------------
flag 44457 term 21 leader 2 nextIndex[1]: 135  matchIndex[1]: 134
term 21 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 19 leaderCommit: 133 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=133
leader log:
[{snapshot 19 129} {6029801277551287040 19 130} {2982758777818719003 19 131} {7578229760094718758 19 132} {7652372823992585051 19 133} {7160602732146157133 19 134}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=133
leader log:
[{snapshot 19 129} {6029801277551287040 19 130} {2982758777818719003 19 131} {7578229760094718758 19 132} {7652372823992585051 19 133} {7160602732146157133 19 134}]
------------------------------------------------------
client write log 7160602732146157133 (index 135) to leader 2
term 21 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 10158 term 21 leader 2 nextIndex[0]: 135  matchIndex[0]: 134
term 21 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 19 leaderCommit: 133 
------------------------------------------------------
flag 97103 term 21 leader 2 nextIndex[1]: 135  matchIndex[1]: 134
term 21 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 19 leaderCommit: 133 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=135
leader log:
[{snapshot 19 129} {6029801277551287040 19 130} {2982758777818719003 19 131} {7578229760094718758 19 132} {7652372823992585051 19 133} {7160602732146157133 19 134} {7160602732146157133 21 135}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=136
update matchIndex[0]=135
update leader CommitIndex=135
leader log:
[{snapshot 19 129} {6029801277551287040 19 130} {2982758777818719003 19 131} {7578229760094718758 19 132} {7652372823992585051 19 133} {7160602732146157133 19 134} {7160602732146157133 21 135}]
------------------------------------------------------
term 21 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 4147 term 21 leader 2 nextIndex[0]: 136  matchIndex[0]: 135
term 21 leader 2 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
flag 62368 term 21 leader 2 nextIndex[1]: 136  matchIndex[1]: 135
term 21 leader 2 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=135
leader log:
[{snapshot 19 129} {6029801277551287040 19 130} {2982758777818719003 19 131} {7578229760094718758 19 132} {7652372823992585051 19 133} {7160602732146157133 19 134} {7160602732146157133 21 135}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=136
update matchIndex[0]=135
update leader CommitIndex=135
leader log:
[{snapshot 19 129} {6029801277551287040 19 130} {2982758777818719003 19 131} {7578229760094718758 19 132} {7652372823992585051 19 133} {7160602732146157133 19 134} {7160602732146157133 21 135}]
------------------------------------------------------
flag 88863 term 21 leader 2 nextIndex[0]: 136  matchIndex[0]: 135
term 21 leader 2 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
flag 44604 term 21 leader 2 nextIndex[1]: 136  matchIndex[1]: 135
term 21 leader 2 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:135 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=135
leader log:
[{snapshot 19 129} {6029801277551287040 19 130} {2982758777818719003 19 131} {7578229760094718758 19 132} {7652372823992585051 19 133} {7160602732146157133 19 134} {7160602732146157133 21 135}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=136
update matchIndex[0]=135
update leader CommitIndex=135
leader log:
[{snapshot 19 129} {6029801277551287040 19 130} {2982758777818719003 19 131} {7578229760094718758 19 132} {7652372823992585051 19 133} {7160602732146157133 19 134} {7160602732146157133 21 135}]
------------------------------------------------------
term 21 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 75610 term 21 leader 2 nextIndex[0]: 136  matchIndex[0]: 135
term 21 leader 2 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
flag 48344 term 21 leader 2 nextIndex[1]: 136  matchIndex[1]: 135
term 21 leader 2 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=135
leader log:
[{snapshot 19 129} {6029801277551287040 19 130} {2982758777818719003 19 131} {7578229760094718758 19 132} {7652372823992585051 19 133} {7160602732146157133 19 134} {7160602732146157133 21 135}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=136
update matchIndex[0]=135
update leader CommitIndex=135
leader log:
[{snapshot 19 129} {6029801277551287040 19 130} {2982758777818719003 19 131} {7578229760094718758 19 132} {7652372823992585051 19 133} {7160602732146157133 19 134} {7160602732146157133 21 135}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83078 term 21 leader 2 nextIndex[0]: 136  matchIndex[0]: 135
term 21 leader 2 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
flag 96012 term 21 leader 2 nextIndex[1]: 136  matchIndex[1]: 135
term 21 leader 2 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:135 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=135
leader log:
[{snapshot 19 129} {6029801277551287040 19 130} {2982758777818719003 19 131} {7578229760094718758 19 132} {7652372823992585051 19 133} {7160602732146157133 19 134} {7160602732146157133 21 135}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=136
update matchIndex[0]=135
update leader CommitIndex=135
leader log:
[{snapshot 19 129} {6029801277551287040 19 130} {2982758777818719003 19 131} {7578229760094718758 19 132} {7652372823992585051 19 133} {7160602732146157133 19 134} {7160602732146157133 21 135}]
------------------------------------------------------
flag 35670 term 21 leader 2 nextIndex[0]: 136  matchIndex[0]: 135
term 21 leader 2 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
flag 95082 term 21 leader 2 nextIndex[1]: 136  matchIndex[1]: 135
term 21 leader 2 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:135 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=136
update matchIndex[0]=135
update leader CommitIndex=135
leader log:
[{snapshot 19 129} {6029801277551287040 19 130} {2982758777818719003 19 131} {7578229760094718758 19 132} {7652372823992585051 19 133} {7160602732146157133 19 134} {7160602732146157133 21 135}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=135
leader log:
[{snapshot 19 129} {6029801277551287040 19 130} {2982758777818719003 19 131} {7578229760094718758 19 132} {7652372823992585051 19 133} {7160602732146157133 19 134} {7160602732146157133 21 135}]
------------------------------------------------------
term 21 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 31802 term 21 leader 2 nextIndex[0]: 136  matchIndex[0]: 135
term 21 leader 2 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
flag 69379 term 21 leader 2 nextIndex[1]: 136  matchIndex[1]: 135
term 21 leader 2 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=135
leader log:
[{snapshot 19 129} {6029801277551287040 19 130} {2982758777818719003 19 131} {7578229760094718758 19 132} {7652372823992585051 19 133} {7160602732146157133 19 134} {7160602732146157133 21 135}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=136
update matchIndex[0]=135
update leader CommitIndex=135
leader log:
[{snapshot 19 129} {6029801277551287040 19 130} {2982758777818719003 19 131} {7578229760094718758 19 132} {7652372823992585051 19 133} {7160602732146157133 19 134} {7160602732146157133 21 135}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 6590919109158806169 (index 136) to leader 2
flag 60182 term 21 leader 2 nextIndex[0]: 136  matchIndex[0]: 135
term 21 leader 2 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
flag 35728 term 21 leader 2 nextIndex[1]: 136  matchIndex[1]: 135
term 21 leader 2 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=137
update matchIndex[1]=136
update leader CommitIndex=136
leader log:
[{snapshot 19 129} {6029801277551287040 19 130} {2982758777818719003 19 131} {7578229760094718758 19 132} {7652372823992585051 19 133} {7160602732146157133 19 134} {7160602732146157133 21 135} {6590919109158806169 21 136}]
------------------------------------------------------
flag 39833 term 21 leader 2 nextIndex[0]: 136  matchIndex[0]: 135
term 21 leader 2 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 21 leaderCommit: 136 
------------------------------------------------------
flag 85940 term 21 leader 2 nextIndex[1]: 137  matchIndex[1]: 136
term 21 leader 2 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 21 leaderCommit: 136 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=137
update matchIndex[1]=136
update leader CommitIndex=136
leader log:
[{snapshot 19 129} {6029801277551287040 19 130} {2982758777818719003 19 131} {7578229760094718758 19 132} {7652372823992585051 19 133} {7160602732146157133 19 134} {7160602732146157133 21 135} {6590919109158806169 21 136}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 136->135
------------------------------------------------------
client write log 2139208017919438829 (index 137) to leader 2
client write log 3830374105901297798 (index 138) to leader 2
client write log 7827613629133141301 (index 139) to leader 2
client write log 7470975054575951479 (index 140) to leader 2
client write log 6795265788790600264 (index 141) to leader 2
client write log 7137665700010289593 (index 142) to leader 2
client write log 3476486053504130892 (index 143) to leader 2
client write log 3021070471815115556 (index 144) to leader 2
client write log 5425183005451858717 (index 145) to leader 2
client write log 2075808623007481845 (index 146) to leader 2
client write log 598950369329414555 (index 147) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 21 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 21 leader 2 nextIndex[0]: 0  matchIndex[0]: 135
term 21 leader 2 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 19
------------------------------------------------------
flag 9543 term 21 leader 2 nextIndex[1]: 137  matchIndex[1]: 136
term 21 leader 2 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 21 leaderCommit: 136 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=148
update matchIndex[1]=147
update leader CommitIndex=147
leader log:
[{snapshot 19 129} {6029801277551287040 19 130} {2982758777818719003 19 131} {7578229760094718758 19 132} {7652372823992585051 19 133} {7160602732146157133 19 134} {7160602732146157133 21 135} {6590919109158806169 21 136} {2139208017919438829 21 137} {3830374105901297798 21 138} {7827613629133141301 21 139} {7470975054575951479 21 140} {6795265788790600264 21 141} {7137665700010289593 21 142} {3476486053504130892 21 143} {3021070471815115556 21 144} {5425183005451858717 21 145} {2075808623007481845 21 146} {598950369329414555 21 147}]
------------------------------------------------------
term 21 Server2 start snapshot! index=139
term 21 server2 snapshot success
lastIncludedIndex=139 lastApplied=140 lastIndex=147
-------------------------------------------------------------
term 21 leader 2 nextIndex[0]: 0  matchIndex[0]: 135
term 21 leader 2 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 21
------------------------------------------------------
flag 91401 term 21 leader 2 nextIndex[1]: 148  matchIndex[1]: 147
term 21 leader 2 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 21 leaderCommit: 147 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=148
update matchIndex[1]=147
update leader CommitIndex=147
leader log:
[{snapshot 21 139} {7470975054575951479 21 140} {6795265788790600264 21 141} {7137665700010289593 21 142} {3476486053504130892 21 143} {3021070471815115556 21 144} {5425183005451858717 21 145} {2075808623007481845 21 146} {598950369329414555 21 147}]
------------------------------------------------------
term 21 Server1 start snapshot! index=139
term 21 server1 snapshot success
lastIncludedIndex=139 lastApplied=140 lastIndex=147
-------------------------------------------------------------
!!!!!!connect server 0
client write log 7020699248270095734 (index 148) to leader 2
term 21 server 2 not vote for server 0, 日志不够新
term 21 server 1 not vote for server 0, 日志不够新
term 23 server 1 vote for server 2
term 23 server 2 get vote from server 1
term 23 server 2 become leader
------------------------------------------------------
term 23 server 0 vote for server 2
term 23 server 2 get outdate rpc reply from server 0
flag 73851 term 23 leader 2 nextIndex[0]: 149  matchIndex[0]: 0
term 23 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 147 
------------------------------------------------------
flag 29449 term 23 leader 2 nextIndex[1]: 149  matchIndex[1]: 0
term 23 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 147 
------------------------------------------------------
term 23 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 149->148
------------------------------------------------------
term 23 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 149->148
------------------------------------------------------
term 23 leader 2 nextIndex[0]: 136  matchIndex[0]: 0
term 23 leader 2 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 21
------------------------------------------------------
flag 11283 term 23 leader 2 nextIndex[1]: 148  matchIndex[1]: 0
term 23 leader 2 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 21 leaderCommit: 147 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=149
update matchIndex[1]=148
update leader CommitIndex=147
leader log:
term 23 server 0 InstallSnapshot success
------------------------------------------------------
[{snapshot 21 139} {7470975054575951479 21 140} {6795265788790600264 21 141} {7137665700010289593 21 142} {3476486053504130892 21 143} {3021070471815115556 21 144} {5425183005451858717 21 145} {2075808623007481845 21 146} {598950369329414555 21 147} {7020699248270095734 21 148}]
------------------------------------------------------
term 23 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 140 matchIndex[0] 139 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 139 rf.lastIncludedTerm 21 rf.commitIndex 139 rf.lastApplied 139
flag 3177 term 23 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 23 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 147 
------------------------------------------------------
flag 64125 term 23 leader 2 nextIndex[1]: 149  matchIndex[1]: 148
term 23 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 147 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=149
update matchIndex[1]=148
update leader CommitIndex=147
leader log:
[{snapshot 21 139} {7470975054575951479 21 140} {6795265788790600264 21 141} {7137665700010289593 21 142} {3476486053504130892 21 143} {3021070471815115556 21 144} {5425183005451858717 21 145} {2075808623007481845 21 146} {598950369329414555 21 147} {7020699248270095734 21 148}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=147
leader log:
[{snapshot 21 139} {7470975054575951479 21 140} {6795265788790600264 21 141} {7137665700010289593 21 142} {3476486053504130892 21 143} {3021070471815115556 21 144} {5425183005451858717 21 145} {2075808623007481845 21 146} {598950369329414555 21 147} {7020699248270095734 21 148}]
------------------------------------------------------
flag 5448 term 23 leader 2 nextIndex[0]: 149  matchIndex[0]: 148
term 23 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 147 
------------------------------------------------------
flag 7518 term 23 leader 2 nextIndex[1]: 149  matchIndex[1]: 148
term 23 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 147 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:147 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=149
update matchIndex[1]=148
update leader CommitIndex=147
leader log:
[{snapshot 21 139} {7470975054575951479 21 140} {6795265788790600264 21 141} {7137665700010289593 21 142} {3476486053504130892 21 143} {3021070471815115556 21 144} {5425183005451858717 21 145} {2075808623007481845 21 146} {598950369329414555 21 147} {7020699248270095734 21 148}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=147
leader log:
[{snapshot 21 139} {7470975054575951479 21 140} {6795265788790600264 21 141} {7137665700010289593 21 142} {3476486053504130892 21 143} {3021070471815115556 21 144} {5425183005451858717 21 145} {2075808623007481845 21 146} {598950369329414555 21 147} {7020699248270095734 21 148}]
------------------------------------------------------
flag 55685 term 23 leader 2 nextIndex[0]: 149  matchIndex[0]: 148
term 23 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 147 
------------------------------------------------------
flag 33663 term 23 leader 2 nextIndex[1]: 149  matchIndex[1]: 148
term 23 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 147 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=149
update matchIndex[1]=148
update leader CommitIndex=147
leader log:
term 23 server 0 AppendEntries true commitIndex:147 
------------------------------------------------------
[{snapshot 21 139} {7470975054575951479 21 140} {6795265788790600264 21 141} {7137665700010289593 21 142} {3476486053504130892 21 143} {3021070471815115556 21 144} {5425183005451858717 21 145} {2075808623007481845 21 146} {598950369329414555 21 147} {7020699248270095734 21 148}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=147
leader log:
[{snapshot 21 139} {7470975054575951479 21 140} {6795265788790600264 21 141} {7137665700010289593 21 142} {3476486053504130892 21 143} {3021070471815115556 21 144} {5425183005451858717 21 145} {2075808623007481845 21 146} {598950369329414555 21 147} {7020699248270095734 21 148}]
------------------------------------------------------
flag 91073 term 23 leader 2 nextIndex[0]: 149  matchIndex[0]: 148
term 23 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 147 
------------------------------------------------------
flag 83899 term 23 leader 2 nextIndex[1]: 149  matchIndex[1]: 148
term 23 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 147 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:147 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=149
update matchIndex[1]=148
update leader CommitIndex=147
leader log:
[{snapshot 21 139} {7470975054575951479 21 140} {6795265788790600264 21 141} {7137665700010289593 21 142} {3476486053504130892 21 143} {3021070471815115556 21 144} {5425183005451858717 21 145} {2075808623007481845 21 146} {598950369329414555 21 147} {7020699248270095734 21 148}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=147
leader log:
[{snapshot 21 139} {7470975054575951479 21 140} {6795265788790600264 21 141} {7137665700010289593 21 142} {3476486053504130892 21 143} {3021070471815115556 21 144} {5425183005451858717 21 145} {2075808623007481845 21 146} {598950369329414555 21 147} {7020699248270095734 21 148}]
------------------------------------------------------
flag 11277 term 23 leader 2 nextIndex[0]: 149  matchIndex[0]: 148
term 23 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 147 
------------------------------------------------------
flag 86310 term 23 leader 2 nextIndex[1]: 149  matchIndex[1]: 148
term 23 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 147 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:147 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=149
update matchIndex[1]=148
update leader CommitIndex=147
leader log:
[{snapshot 21 139} {7470975054575951479 21 140} {6795265788790600264 21 141} {7137665700010289593 21 142} {3476486053504130892 21 143} {3021070471815115556 21 144} {5425183005451858717 21 145} {2075808623007481845 21 146} {598950369329414555 21 147} {7020699248270095734 21 148}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=147
leader log:
[{snapshot 21 139} {7470975054575951479 21 140} {6795265788790600264 21 141} {7137665700010289593 21 142} {3476486053504130892 21 143} {3021070471815115556 21 144} {5425183005451858717 21 145} {2075808623007481845 21 146} {598950369329414555 21 147} {7020699248270095734 21 148}]
------------------------------------------------------
flag 93452 term 23 leader 2 nextIndex[0]: 149  matchIndex[0]: 148
term 23 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 147 
------------------------------------------------------
flag 80140 term 23 leader 2 nextIndex[1]: 149  matchIndex[1]: 148
term 23 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 147 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:147 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=149
update matchIndex[1]=148
update leader CommitIndex=147
leader log:
[{snapshot 21 139} {7470975054575951479 21 140} {6795265788790600264 21 141} {7137665700010289593 21 142} {3476486053504130892 21 143} {3021070471815115556 21 144} {5425183005451858717 21 145} {2075808623007481845 21 146} {598950369329414555 21 147} {7020699248270095734 21 148}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=147
leader log:
[{snapshot 21 139} {7470975054575951479 21 140} {6795265788790600264 21 141} {7137665700010289593 21 142} {3476486053504130892 21 143} {3021070471815115556 21 144} {5425183005451858717 21 145} {2075808623007481845 21 146} {598950369329414555 21 147} {7020699248270095734 21 148}]
------------------------------------------------------
flag 6722 term 23 leader 2 nextIndex[0]: 149  matchIndex[0]: 148
term 23 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 147 
------------------------------------------------------
flag 5191 term 23 leader 2 nextIndex[1]: 149  matchIndex[1]: 148
term 23 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 147 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:147 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=149
update matchIndex[1]=148
update leader CommitIndex=147
leader log:
[{snapshot 21 139} {7470975054575951479 21 140} {6795265788790600264 21 141} {7137665700010289593 21 142} {3476486053504130892 21 143} {3021070471815115556 21 144} {5425183005451858717 21 145} {2075808623007481845 21 146} {598950369329414555 21 147} {7020699248270095734 21 148}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=147
leader log:
[{snapshot 21 139} {7470975054575951479 21 140} {6795265788790600264 21 141} {7137665700010289593 21 142} {3476486053504130892 21 143} {3021070471815115556 21 144} {5425183005451858717 21 145} {2075808623007481845 21 146} {598950369329414555 21 147} {7020699248270095734 21 148}]
------------------------------------------------------
term 23 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 70392 term 23 leader 2 nextIndex[0]: 149  matchIndex[0]: 148
term 23 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 147 
------------------------------------------------------
flag 89819 term 23 leader 2 nextIndex[1]: 149  matchIndex[1]: 148
term 23 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 147 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=149
update matchIndex[1]=148
update leader CommitIndex=147
leader log:
[{snapshot 21 139} {7470975054575951479 21 140} {6795265788790600264 21 141} {7137665700010289593 21 142} {3476486053504130892 21 143} {3021070471815115556 21 144} {5425183005451858717 21 145} {2075808623007481845 21 146} {598950369329414555 21 147} {7020699248270095734 21 148}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=147
leader log:
[{snapshot 21 139} {7470975054575951479 21 140} {6795265788790600264 21 141} {7137665700010289593 21 142} {3476486053504130892 21 143} {3021070471815115556 21 144} {5425183005451858717 21 145} {2075808623007481845 21 146} {598950369329414555 21 147} {7020699248270095734 21 148}]
------------------------------------------------------
flag 58957 term 23 leader 2 nextIndex[0]: 149  matchIndex[0]: 148
term 23 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 147 
------------------------------------------------------
flag 61733 term 23 leader 2 nextIndex[1]: 149  matchIndex[1]: 148
term 23 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 147 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:147 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=149
update matchIndex[1]=148
update leader CommitIndex=147
leader log:
[{snapshot 21 139} {7470975054575951479 21 140} {6795265788790600264 21 141} {7137665700010289593 21 142} {3476486053504130892 21 143} {3021070471815115556 21 144} {5425183005451858717 21 145} {2075808623007481845 21 146} {598950369329414555 21 147} {7020699248270095734 21 148}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=147
leader log:
[{snapshot 21 139} {7470975054575951479 21 140} {6795265788790600264 21 141} {7137665700010289593 21 142} {3476486053504130892 21 143} {3021070471815115556 21 144} {5425183005451858717 21 145} {2075808623007481845 21 146} {598950369329414555 21 147} {7020699248270095734 21 148}]
------------------------------------------------------
flag 73207 term 23 leader 2 nextIndex[0]: 149  matchIndex[0]: 148
term 23 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 147 
------------------------------------------------------
flag 87601 term 23 leader 2 nextIndex[1]: 149  matchIndex[1]: 148
term 23 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 147 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=149
update matchIndex[1]=148
update leader CommitIndex=147
leader log:
[{snapshot 21 139} {7470975054575951479 21 140} {6795265788790600264 21 141} {7137665700010289593 21 142} {3476486053504130892 21 143} {3021070471815115556 21 144} {5425183005451858717 21 145} {2075808623007481845 21 146} {598950369329414555 21 147} {7020699248270095734 21 148}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=147
leader log:
[{snapshot 21 139} {7470975054575951479 21 140} {6795265788790600264 21 141} {7137665700010289593 21 142} {3476486053504130892 21 143} {3021070471815115556 21 144} {5425183005451858717 21 145} {2075808623007481845 21 146} {598950369329414555 21 147} {7020699248270095734 21 148}]
------------------------------------------------------
flag 81850 term 23 leader 2 nextIndex[0]: 149  matchIndex[0]: 148
term 23 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 147 
------------------------------------------------------
flag 86854 term 23 leader 2 nextIndex[1]: 149  matchIndex[1]: 148
term 23 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 147 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:147 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=149
update matchIndex[1]=148
update leader CommitIndex=147
leader log:
[{snapshot 21 139} {7470975054575951479 21 140} {6795265788790600264 21 141} {7137665700010289593 21 142} {3476486053504130892 21 143} {3021070471815115556 21 144} {5425183005451858717 21 145} {2075808623007481845 21 146} {598950369329414555 21 147} {7020699248270095734 21 148}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=147
leader log:
[{snapshot 21 139} {7470975054575951479 21 140} {6795265788790600264 21 141} {7137665700010289593 21 142} {3476486053504130892 21 143} {3021070471815115556 21 144} {5425183005451858717 21 145} {2075808623007481845 21 146} {598950369329414555 21 147} {7020699248270095734 21 148}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64614 term 23 leader 2 nextIndex[0]: 149  matchIndex[0]: 148
term 23 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 147 
------------------------------------------------------
flag 78172 term 23 leader 2 nextIndex[1]: 149  matchIndex[1]: 148
term 23 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 147 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=149
update matchIndex[1]=148
update leader CommitIndex=147
leader log:
[{snapshot 21 139} {7470975054575951479 21 140} {6795265788790600264 21 141} {7137665700010289593 21 142} {3476486053504130892 21 143} {3021070471815115556 21 144} {5425183005451858717 21 145} {2075808623007481845 21 146} {598950369329414555 21 147} {7020699248270095734 21 148}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=147
leader log:
[{snapshot 21 139} {7470975054575951479 21 140} {6795265788790600264 21 141} {7137665700010289593 21 142} {3476486053504130892 21 143} {3021070471815115556 21 144} {5425183005451858717 21 145} {2075808623007481845 21 146} {598950369329414555 21 147} {7020699248270095734 21 148}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44667 term 23 leader 2 nextIndex[0]: 149  matchIndex[0]: 148
term 23 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 147 
------------------------------------------------------
flag 92792 term 23 leader 2 nextIndex[1]: 149  matchIndex[1]: 148
term 23 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 147 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:147 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=149
update matchIndex[1]=148
update leader CommitIndex=147
leader log:
[{snapshot 21 139} {7470975054575951479 21 140} {6795265788790600264 21 141} {7137665700010289593 21 142} {3476486053504130892 21 143} {3021070471815115556 21 144} {5425183005451858717 21 145} {2075808623007481845 21 146} {598950369329414555 21 147} {7020699248270095734 21 148}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=147
leader log:
[{snapshot 21 139} {7470975054575951479 21 140} {6795265788790600264 21 141} {7137665700010289593 21 142} {3476486053504130892 21 143} {3021070471815115556 21 144} {5425183005451858717 21 145} {2075808623007481845 21 146} {598950369329414555 21 147} {7020699248270095734 21 148}]
------------------------------------------------------
flag 60031 term 23 leader 2 nextIndex[0]: 149  matchIndex[0]: 148
term 23 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 147 
------------------------------------------------------
flag 1649 term 23 leader 2 nextIndex[1]: 149  matchIndex[1]: 148
term 23 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 147 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=149
update matchIndex[1]=148
update leader CommitIndex=147
leader log:
[{snapshot 21 139} {7470975054575951479 21 140} {6795265788790600264 21 141} {7137665700010289593 21 142} {3476486053504130892 21 143} {3021070471815115556 21 144} {5425183005451858717 21 145} {2075808623007481845 21 146} {598950369329414555 21 147} {7020699248270095734 21 148}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=147
leader log:
[{snapshot 21 139} {7470975054575951479 21 140} {6795265788790600264 21 141} {7137665700010289593 21 142} {3476486053504130892 21 143} {3021070471815115556 21 144} {5425183005451858717 21 145} {2075808623007481845 21 146} {598950369329414555 21 147} {7020699248270095734 21 148}]
------------------------------------------------------
flag 16700 term 23 leader 2 nextIndex[0]: 149  matchIndex[0]: 148
term 23 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 147 
------------------------------------------------------
flag 56289 term 23 leader 2 nextIndex[1]: 149  matchIndex[1]: 148
term 23 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 147 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=149
update matchIndex[1]=148
update leader CommitIndex=147
leader log:
[{snapshot 21 139} {7470975054575951479 21 140} {6795265788790600264 21 141} {7137665700010289593 21 142} {3476486053504130892 21 143} {3021070471815115556 21 144} {5425183005451858717 21 145} {2075808623007481845 21 146} {598950369329414555 21 147} {7020699248270095734 21 148}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=147
leader log:
[{snapshot 21 139} {7470975054575951479 21 140} {6795265788790600264 21 141} {7137665700010289593 21 142} {3476486053504130892 21 143} {3021070471815115556 21 144} {5425183005451858717 21 145} {2075808623007481845 21 146} {598950369329414555 21 147} {7020699248270095734 21 148}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11115 term 23 leader 2 nextIndex[0]: 149  matchIndex[0]: 148
term 23 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 147 
------------------------------------------------------
flag 25569 term 23 leader 2 nextIndex[1]: 149  matchIndex[1]: 148
term 23 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 147 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=149
update matchIndex[1]=148
update leader CommitIndex=147
leader log:
[{snapshot 21 139} {7470975054575951479 21 140} {6795265788790600264 21 141} {7137665700010289593 21 142} {3476486053504130892 21 143} {3021070471815115556 21 144} {5425183005451858717 21 145} {2075808623007481845 21 146} {598950369329414555 21 147} {7020699248270095734 21 148}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=147
leader log:
[{snapshot 21 139} {7470975054575951479 21 140} {6795265788790600264 21 141} {7137665700010289593 21 142} {3476486053504130892 21 143} {3021070471815115556 21 144} {5425183005451858717 21 145} {2075808623007481845 21 146} {598950369329414555 21 147} {7020699248270095734 21 148}]
------------------------------------------------------
flag 18589 term 23 leader 2 nextIndex[0]: 149  matchIndex[0]: 148
term 23 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 147 
------------------------------------------------------
flag 87408 term 23 leader 2 nextIndex[1]: 149  matchIndex[1]: 148
term 23 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 147 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=149
update matchIndex[1]=148
update leader CommitIndex=147
leader log:
[{snapshot 21 139} {7470975054575951479 21 140} {6795265788790600264 21 141} {7137665700010289593 21 142} {3476486053504130892 21 143} {3021070471815115556 21 144} {5425183005451858717 21 145} {2075808623007481845 21 146} {598950369329414555 21 147} {7020699248270095734 21 148}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=147
leader log:
[{snapshot 21 139} {7470975054575951479 21 140} {6795265788790600264 21 141} {7137665700010289593 21 142} {3476486053504130892 21 143} {3021070471815115556 21 144} {5425183005451858717 21 145} {2075808623007481845 21 146} {598950369329414555 21 147} {7020699248270095734 21 148}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76988 term 23 leader 2 nextIndex[0]: 149  matchIndex[0]: 148
term 23 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 147 
------------------------------------------------------
flag 62109 term 23 leader 2 nextIndex[1]: 149  matchIndex[1]: 148
term 23 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 147 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=149
term 23 server 0 AppendEntries true commitIndex:147 
------------------------------------------------------
update matchIndex[1]=148
update leader CommitIndex=147
leader log:
[{snapshot 21 139} {7470975054575951479 21 140} {6795265788790600264 21 141} {7137665700010289593 21 142} {3476486053504130892 21 143} {3021070471815115556 21 144} {5425183005451858717 21 145} {2075808623007481845 21 146} {598950369329414555 21 147} {7020699248270095734 21 148}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=147
leader log:
[{snapshot 21 139} {7470975054575951479 21 140} {6795265788790600264 21 141} {7137665700010289593 21 142} {3476486053504130892 21 143} {3021070471815115556 21 144} {5425183005451858717 21 145} {2075808623007481845 21 146} {598950369329414555 21 147} {7020699248270095734 21 148}]
------------------------------------------------------
client write log 7020699248270095734 (index 149) to leader 2
flag 88183 term 23 leader 2 nextIndex[0]: 149  matchIndex[0]: 148
term 23 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 147 
------------------------------------------------------
flag 34847 term 23 leader 2 nextIndex[1]: 149  matchIndex[1]: 148
term 23 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 21 leaderCommit: 147 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:147 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=150
update matchIndex[1]=149
update leader CommitIndex=149
leader log:
[{snapshot 21 139} {7470975054575951479 21 140} {6795265788790600264 21 141} {7137665700010289593 21 142} {3476486053504130892 21 143} {3021070471815115556 21 144} {5425183005451858717 21 145} {2075808623007481845 21 146} {598950369329414555 21 147} {7020699248270095734 21 148} {7020699248270095734 23 149}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=149
leader log:
[{snapshot 21 139} {7470975054575951479 21 140} {6795265788790600264 21 141} {7137665700010289593 21 142} {3476486053504130892 21 143} {3021070471815115556 21 144} {5425183005451858717 21 145} {2075808623007481845 21 146} {598950369329414555 21 147} {7020699248270095734 21 148} {7020699248270095734 23 149}]
------------------------------------------------------
term 23 Server2 start snapshot! index=149
term 23 server2 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=149
-------------------------------------------------------------
term 23 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 74975 term 23 leader 2 nextIndex[0]: 150  matchIndex[0]: 149
term 23 leader 2 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 23 leaderCommit: 149 
------------------------------------------------------
flag 97736 term 23 leader 2 nextIndex[1]: 150  matchIndex[1]: 149
term 23 leader 2 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 23 leaderCommit: 149 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=150
update matchIndex[1]=149
update leader CommitIndex=149
leader log:
[{snapshot 23 149}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=149
leader log:
[{snapshot 23 149}]
------------------------------------------------------
term 23 Server1 start snapshot! index=149
term 23 server1 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=149
-------------------------------------------------------------
term 23 Server0 start snapshot! index=149
term 23 server0 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=149
-------------------------------------------------------------
term 23 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 80066 term 23 leader 2 nextIndex[0]: 150  matchIndex[0]: 149
term 23 leader 2 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 23 leaderCommit: 149 
------------------------------------------------------
flag 73778 term 23 leader 2 nextIndex[1]: 150  matchIndex[1]: 149
term 23 leader 2 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 23 leaderCommit: 149 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=150
update matchIndex[1]=149
update leader CommitIndex=149
leader log:
[{snapshot 23 149}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=149
leader log:
[{snapshot 23 149}]
------------------------------------------------------
flag 26178 term 23 leader 2 nextIndex[0]: 150  matchIndex[0]: 149
term 23 leader 2 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 23 leaderCommit: 149 
------------------------------------------------------
flag 15431 term 23 leader 2 nextIndex[1]: 150  matchIndex[1]: 149
term 23 leader 2 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 23 leaderCommit: 149 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=150
update matchIndex[1]=149
update leader CommitIndex=149
leader log:
[{snapshot 23 149}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=149
leader log:
[{snapshot 23 149}]
------------------------------------------------------
flag 1462 term 23 leader 2 nextIndex[0]: 150  matchIndex[0]: 149
term 23 leader 2 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 23 leaderCommit: 149 
------------------------------------------------------
flag 83483 term 23 leader 2 nextIndex[1]: 150  matchIndex[1]: 149
term 23 leader 2 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 23 leaderCommit: 149 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=150
update matchIndex[1]=149
update leader CommitIndex=149
leader log:
[{snapshot 23 149}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=149
leader log:
[{snapshot 23 149}]
------------------------------------------------------
flag 91424 term 23 leader 2 nextIndex[0]: 150  matchIndex[0]: 149
term 23 leader 2 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 23 leaderCommit: 149 
------------------------------------------------------
flag 76097 term 23 leader 2 nextIndex[1]: 150  matchIndex[1]: 149
term 23 leader 2 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 23 leaderCommit: 149 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:149 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=150
update matchIndex[1]=149
update leader CommitIndex=149
leader log:
[{snapshot 23 149}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=149
leader log:
[{snapshot 23 149}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 75277 term 23 leader 2 nextIndex[0]: 150  matchIndex[0]: 149
term 23 leader 2 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 23 leaderCommit: 149 
------------------------------------------------------
flag 481 term 23 leader 2 nextIndex[1]: 150  matchIndex[1]: 149
term 23 leader 2 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 23 leaderCommit: 149 
------------------------------------------------------
flag 9559 term 23 leader 2 nextIndex[0]: 150  matchIndex[0]: 149
term 23 leader 2 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 23 leaderCommit: 149 
------------------------------------------------------
flag 54326 term 23 leader 2 nextIndex[1]: 150  matchIndex[1]: 149
term 23 leader 2 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 23 leaderCommit: 149 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 150->149
------------------------------------------------------
flag 59336 term 23 leader 2 nextIndex[0]: 150  matchIndex[0]: 149
term 23 leader 2 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 23 leaderCommit: 149 
------------------------------------------------------
term 23 leader 2 nextIndex[1]: 0  matchIndex[1]: 149
term 23 leader 2 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 23
------------------------------------------------------
flag 13825 term 23 leader 2 nextIndex[0]: 150  matchIndex[0]: 149
term 23 leader 2 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 23 leaderCommit: 149 
------------------------------------------------------
term 23 leader 2 nextIndex[1]: 0  matchIndex[1]: 149
term 23 leader 2 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 23
------------------------------------------------------
term 24 server 0 vote for server 1
term 24 server 1 get vote from server 0
term 24 server 1 become leader
------------------------------------------------------
flag 41117 term 24 leader 1 nextIndex[0]: 150  matchIndex[0]: 0
term 24 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 23 leaderCommit: 149 
------------------------------------------------------
flag 89068 term 24 leader 1 nextIndex[2]: 150  matchIndex[2]: 0
term 24 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 23 leaderCommit: 149 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=149
leader log:
[{snapshot 23 149}]
------------------------------------------------------
client write log 854647584685311748 (index 150) to leader 1
flag 24243 term 23 leader 2 nextIndex[0]: 150  matchIndex[0]: 149
term 23 leader 2 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 23 leaderCommit: 149 
------------------------------------------------------
term 23 leader 2 nextIndex[1]: 0  matchIndex[1]: 149
term 23 leader 2 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 23
------------------------------------------------------
flag 761 term 24 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 24 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 23 leaderCommit: 149 
------------------------------------------------------
flag 42814 term 24 leader 1 nextIndex[2]: 150  matchIndex[2]: 0
term 24 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 23 leaderCommit: 149 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=151
update matchIndex[0]=150
update leader CommitIndex=150
leader log:
[{snapshot 23 149} {854647584685311748 24 150}]
------------------------------------------------------
flag 33231 term 23 leader 2 nextIndex[0]: 150  matchIndex[0]: 149
term 23 leader 2 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 23 leaderCommit: 149 
------------------------------------------------------
term 23 leader 2 nextIndex[1]: 0  matchIndex[1]: 149
term 23 leader 2 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 23
------------------------------------------------------
flag 29599 term 24 leader 1 nextIndex[0]: 151  matchIndex[0]: 150
term 24 leader 1 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 24 leaderCommit: 150 
------------------------------------------------------
flag 95199 term 24 leader 1 nextIndex[2]: 150  matchIndex[2]: 0
term 24 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 23 leaderCommit: 150 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=151
update matchIndex[0]=150
update leader CommitIndex=150
leader log:
[{snapshot 23 149} {854647584685311748 24 150}]
------------------------------------------------------
client write log 6087439963146190618 (index 151) to leader 1
flag 56365 term 23 leader 2 nextIndex[0]: 150  matchIndex[0]: 149
term 23 leader 2 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 23 leaderCommit: 149 
------------------------------------------------------
term 23 leader 2 nextIndex[1]: 0  matchIndex[1]: 149
term 23 leader 2 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 23
------------------------------------------------------
flag 7771 term 24 leader 1 nextIndex[0]: 151  matchIndex[0]: 150
term 24 leader 1 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 24 leaderCommit: 150 
------------------------------------------------------
flag 96467 term 24 leader 1 nextIndex[2]: 150  matchIndex[2]: 0
term 24 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 23 leaderCommit: 150 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=152
update matchIndex[0]=151
update leader CommitIndex=151
leader log:
[{snapshot 23 149} {854647584685311748 24 150} {6087439963146190618 24 151}]
------------------------------------------------------
flag 14571 term 23 leader 2 nextIndex[0]: 150  matchIndex[0]: 149
term 23 leader 2 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 23 leaderCommit: 149 
------------------------------------------------------
term 23 leader 2 nextIndex[1]: 0  matchIndex[1]: 149
term 23 leader 2 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 23
------------------------------------------------------
flag 57011 term 24 leader 1 nextIndex[0]: 152  matchIndex[0]: 151
term 24 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
flag 44755 term 24 leader 1 nextIndex[2]: 150  matchIndex[2]: 0
term 24 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 23 leaderCommit: 151 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=152
update matchIndex[0]=151
update leader CommitIndex=151
leader log:
[{snapshot 23 149} {854647584685311748 24 150} {6087439963146190618 24 151}]
------------------------------------------------------
!!!!!!connect server 2
client write log 4120622019842651196 (index 152) to leader 1
flag 24573 term 23 leader 2 nextIndex[0]: 150  matchIndex[0]: 149
term 23 leader 2 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 23 leaderCommit: 149 
------------------------------------------------------
term 23 leader 2 nextIndex[1]: 0  matchIndex[1]: 149
term 23 leader 2 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 23
------------------------------------------------------
term 24 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 23 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 24 server 0 AppendEntries false 领导者任期过期 args.Term 23
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39907 term 24 leader 1 nextIndex[0]: 152  matchIndex[0]: 151
term 24 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 24 leaderCommit: 151 
------------------------------------------------------
flag 5079 term 24 leader 1 nextIndex[2]: 150  matchIndex[2]: 0
term 24 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 23 leaderCommit: 151 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=152
leader log:
[{snapshot 23 149} {854647584685311748 24 150} {6087439963146190618 24 151} {4120622019842651196 24 152}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=153
update matchIndex[0]=152
update leader CommitIndex=152
leader log:
[{snapshot 23 149} {854647584685311748 24 150} {6087439963146190618 24 151} {4120622019842651196 24 152}]
------------------------------------------------------
term 24 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 35005 term 24 leader 1 nextIndex[0]: 153  matchIndex[0]: 152
term 24 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 152 
------------------------------------------------------
flag 24980 term 24 leader 1 nextIndex[2]: 153  matchIndex[2]: 152
term 24 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 152 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=152
leader log:
[{snapshot 23 149} {854647584685311748 24 150} {6087439963146190618 24 151} {4120622019842651196 24 152}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=153
update matchIndex[0]=152
update leader CommitIndex=152
leader log:
[{snapshot 23 149} {854647584685311748 24 150} {6087439963146190618 24 151} {4120622019842651196 24 152}]
------------------------------------------------------
flag 4709 term 24 leader 1 nextIndex[0]: 153  matchIndex[0]: 152
term 24 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 152 
------------------------------------------------------
flag 85885 term 24 leader 1 nextIndex[2]: 153  matchIndex[2]: 152
term 24 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 152 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=152
leader log:
[{snapshot 23 149} {854647584685311748 24 150} {6087439963146190618 24 151} {4120622019842651196 24 152}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=153
update matchIndex[0]=152
update leader CommitIndex=152
leader log:
[{snapshot 23 149} {854647584685311748 24 150} {6087439963146190618 24 151} {4120622019842651196 24 152}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31374 term 24 leader 1 nextIndex[0]: 153  matchIndex[0]: 152
term 24 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 152 
------------------------------------------------------
flag 49725 term 24 leader 1 nextIndex[2]: 153  matchIndex[2]: 152
term 24 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 152 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=152
leader log:
[{snapshot 23 149} {854647584685311748 24 150} {6087439963146190618 24 151} {4120622019842651196 24 152}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=153
update matchIndex[0]=152
update leader CommitIndex=152
leader log:
[{snapshot 23 149} {854647584685311748 24 150} {6087439963146190618 24 151} {4120622019842651196 24 152}]
------------------------------------------------------
term 24 server 2 not vote for server 1, 日志不够新
term 24 server 1 get outdate rpc reply from server 2
flag 75837 term 24 leader 1 nextIndex[0]: 153  matchIndex[0]: 152
term 24 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 152 
------------------------------------------------------
flag 76175 term 24 leader 1 nextIndex[2]: 153  matchIndex[2]: 152
term 24 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 152 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=153
update matchIndex[0]=152
update leader CommitIndex=152
leader log:
[{snapshot 23 149} {854647584685311748 24 150} {6087439963146190618 24 151} {4120622019842651196 24 152}]
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=152
leader log:
[{snapshot 23 149} {854647584685311748 24 150} {6087439963146190618 24 151} {4120622019842651196 24 152}]
------------------------------------------------------
flag 37544 term 24 leader 1 nextIndex[0]: 153  matchIndex[0]: 152
term 24 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 152 
------------------------------------------------------
flag 63662 term 24 leader 1 nextIndex[2]: 153  matchIndex[2]: 152
term 24 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 152 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=152
leader log:
[{snapshot 23 149} {854647584685311748 24 150} {6087439963146190618 24 151} {4120622019842651196 24 152}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=153
update matchIndex[0]=152
update leader CommitIndex=152
leader log:
[{snapshot 23 149} {854647584685311748 24 150} {6087439963146190618 24 151} {4120622019842651196 24 152}]
------------------------------------------------------
flag 11694 term 24 leader 1 nextIndex[0]: 153  matchIndex[0]: 152
term 24 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 152 
------------------------------------------------------
flag 35311 term 24 leader 1 nextIndex[2]: 153  matchIndex[2]: 152
term 24 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 152 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:152 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=153
update matchIndex[2]=152
update leader CommitIndex=152
leader log:
[{snapshot 23 149} {854647584685311748 24 150} {6087439963146190618 24 151} {4120622019842651196 24 152}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=153
update matchIndex[0]=152
update leader CommitIndex=152
leader log:
[{snapshot 23 149} {854647584685311748 24 150} {6087439963146190618 24 151} {4120622019842651196 24 152}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 9145499884577880437 (index 153) to leader 1
flag 95916 term 24 leader 1 nextIndex[0]: 153  matchIndex[0]: 152
term 24 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 152 
------------------------------------------------------
flag 47417 term 24 leader 1 nextIndex[2]: 153  matchIndex[2]: 152
term 24 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 152 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=154
update matchIndex[0]=153
update leader CommitIndex=153
leader log:
[{snapshot 23 149} {854647584685311748 24 150} {6087439963146190618 24 151} {4120622019842651196 24 152} {9145499884577880437 24 153}]
------------------------------------------------------
flag 23467 term 24 leader 1 nextIndex[0]: 154  matchIndex[0]: 153
term 24 leader 1 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 24 leaderCommit: 153 
------------------------------------------------------
flag 72921 term 24 leader 1 nextIndex[2]: 153  matchIndex[2]: 152
term 24 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 153 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=154
update matchIndex[0]=153
update leader CommitIndex=153
leader log:
[{snapshot 23 149} {854647584685311748 24 150} {6087439963146190618 24 151} {4120622019842651196 24 152} {9145499884577880437 24 153}]
------------------------------------------------------
client write log 3549539192145705158 (index 154) to leader 1
client write log 2800118361021599725 (index 155) to leader 1
client write log 2306708019700321455 (index 156) to leader 1
client write log 6470887928791383682 (index 157) to leader 1
client write log 4900426950922649943 (index 158) to leader 1
client write log 145255010318354572 (index 159) to leader 1
client write log 7269937289382197238 (index 160) to leader 1
client write log 444516934208460654 (index 161) to leader 1
client write log 6192788600582056843 (index 162) to leader 1
client write log 4584739629113143477 (index 163) to leader 1
client write log 5098580472494802165 (index 164) to leader 1
client write log 2865200356600306356 (index 165) to leader 1
client write log 4851680684222333383 (index 166) to leader 1
client write log 7075247981557990430 (index 167) to leader 1
flag 40714 term 24 leader 1 nextIndex[0]: 154  matchIndex[0]: 153
term 24 leader 1 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 24 leaderCommit: 153 
------------------------------------------------------
flag 62552 term 24 leader 1 nextIndex[2]: 153  matchIndex[2]: 152
term 24 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 24 leaderCommit: 153 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=168
update matchIndex[0]=167
update leader CommitIndex=167
leader log:
[{snapshot 23 149} {854647584685311748 24 150} {6087439963146190618 24 151} {4120622019842651196 24 152} {9145499884577880437 24 153} {3549539192145705158 24 154} {2800118361021599725 24 155} {2306708019700321455 24 156} {6470887928791383682 24 157} {4900426950922649943 24 158} {145255010318354572 24 159} {7269937289382197238 24 160} {444516934208460654 24 161} {6192788600582056843 24 162} {4584739629113143477 24 163} {5098580472494802165 24 164} {2865200356600306356 24 165} {4851680684222333383 24 166} {7075247981557990430 24 167}]
------------------------------------------------------
term 24 Server1 start snapshot! index=159
term 24 server1 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=167
-------------------------------------------------------------
flag 81246 term 24 leader 1 nextIndex[0]: 168  matchIndex[0]: 167
term 24 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 24 leaderCommit: 167 
------------------------------------------------------
term 24 leader 1 nextIndex[2]: 153  matchIndex[2]: 152
term 24 leader 1 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 24
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=168
update matchIndex[0]=167
update leader CommitIndex=167
leader log:
[{snapshot 24 159} {7269937289382197238 24 160} {444516934208460654 24 161} {6192788600582056843 24 162} {4584739629113143477 24 163} {5098580472494802165 24 164} {2865200356600306356 24 165} {4851680684222333383 24 166} {7075247981557990430 24 167}]
------------------------------------------------------
term 24 Server0 start snapshot! index=159
term 24 server0 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=167
-------------------------------------------------------------
!!!!!!connect server 2
client write log 263496724613392696 (index 168) to leader 1
term 25 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 80824 term 24 leader 1 nextIndex[0]: 168  matchIndex[0]: 167
term 24 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 24 leaderCommit: 167 
------------------------------------------------------
term 24 leader 1 nextIndex[2]: 153  matchIndex[2]: 152
term 24 leader 1 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 24
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:167 
------------------------------------------------------
term 25 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=169
update matchIndex[0]=168
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {7269937289382197238 24 160} {444516934208460654 24 161} {6192788600582056843 24 162} {4584739629113143477 24 163} {5098580472494802165 24 164} {2865200356600306356 24 165} {4851680684222333383 24 166} {7075247981557990430 24 167} {263496724613392696 24 168}]
------------------------------------------------------
term 24 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 26 server 2 vote for server 1
term 26 server 0 vote for server 1
term 26 server 1 get vote from server 2
term 26 server 1 become leader
------------------------------------------------------
term 26 server 1 get outdate rpc reply from server 0
flag 84328 term 26 leader 1 nextIndex[0]: 169  matchIndex[0]: 0
term 26 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
flag 40818 term 26 leader 1 nextIndex[2]: 169  matchIndex[2]: 0
term 26 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=169
update matchIndex[0]=168
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {7269937289382197238 24 160} {444516934208460654 24 161} {6192788600582056843 24 162} {4584739629113143477 24 163} {5098580472494802165 24 164} {2865200356600306356 24 165} {4851680684222333383 24 166} {7075247981557990430 24 167} {263496724613392696 24 168}]
------------------------------------------------------
term 26 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 169->168
------------------------------------------------------
flag 1585 term 26 leader 1 nextIndex[0]: 169  matchIndex[0]: 168
term 26 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
term 26 leader 1 nextIndex[2]: 153  matchIndex[2]: 0
term 26 leader 1 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 24
------------------------------------------------------
term 26 server 2 InstallSnapshot success
------------------------------------------------------
term 26 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 160 matchIndex[2] 159 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 159 rf.lastIncludedTerm 24 rf.commitIndex 159 rf.lastApplied 159
term 26 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=169
update matchIndex[0]=168
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {7269937289382197238 24 160} {444516934208460654 24 161} {6192788600582056843 24 162} {4584739629113143477 24 163} {5098580472494802165 24 164} {2865200356600306356 24 165} {4851680684222333383 24 166} {7075247981557990430 24 167} {263496724613392696 24 168}]
------------------------------------------------------
flag 71527 term 26 leader 1 nextIndex[0]: 169  matchIndex[0]: 168
term 26 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
flag 179 term 26 leader 1 nextIndex[2]: 160  matchIndex[2]: 159
term 26 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {7269937289382197238 24 160} {444516934208460654 24 161} {6192788600582056843 24 162} {4584739629113143477 24 163} {5098580472494802165 24 164} {2865200356600306356 24 165} {4851680684222333383 24 166} {7075247981557990430 24 167} {263496724613392696 24 168}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=169
update matchIndex[0]=168
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {7269937289382197238 24 160} {444516934208460654 24 161} {6192788600582056843 24 162} {4584739629113143477 24 163} {5098580472494802165 24 164} {2865200356600306356 24 165} {4851680684222333383 24 166} {7075247981557990430 24 167} {263496724613392696 24 168}]
------------------------------------------------------
flag 85965 term 26 leader 1 nextIndex[0]: 169  matchIndex[0]: 168
term 26 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
flag 27372 term 26 leader 1 nextIndex[2]: 169  matchIndex[2]: 168
term 26 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {7269937289382197238 24 160} {444516934208460654 24 161} {6192788600582056843 24 162} {4584739629113143477 24 163} {5098580472494802165 24 164} {2865200356600306356 24 165} {4851680684222333383 24 166} {7075247981557990430 24 167} {263496724613392696 24 168}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=169
update matchIndex[0]=168
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {7269937289382197238 24 160} {444516934208460654 24 161} {6192788600582056843 24 162} {4584739629113143477 24 163} {5098580472494802165 24 164} {2865200356600306356 24 165} {4851680684222333383 24 166} {7075247981557990430 24 167} {263496724613392696 24 168}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84447 term 26 leader 1 nextIndex[0]: 169  matchIndex[0]: 168
term 26 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
flag 25783 term 26 leader 1 nextIndex[2]: 169  matchIndex[2]: 168
term 26 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {7269937289382197238 24 160} {444516934208460654 24 161} {6192788600582056843 24 162} {4584739629113143477 24 163} {5098580472494802165 24 164} {2865200356600306356 24 165} {4851680684222333383 24 166} {7075247981557990430 24 167} {263496724613392696 24 168}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=169
update matchIndex[0]=168
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {7269937289382197238 24 160} {444516934208460654 24 161} {6192788600582056843 24 162} {4584739629113143477 24 163} {5098580472494802165 24 164} {2865200356600306356 24 165} {4851680684222333383 24 166} {7075247981557990430 24 167} {263496724613392696 24 168}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 26 server 0 not vote for server 2, 任期不够新
term 26 server 2 get outdate rpc reply from server 0
term 26 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 97995 term 26 leader 1 nextIndex[0]: 169  matchIndex[0]: 168
term 26 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
flag 53950 term 26 leader 1 nextIndex[2]: 169  matchIndex[2]: 168
term 26 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=169
update matchIndex[0]=168
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {7269937289382197238 24 160} {444516934208460654 24 161} {6192788600582056843 24 162} {4584739629113143477 24 163} {5098580472494802165 24 164} {2865200356600306356 24 165} {4851680684222333383 24 166} {7075247981557990430 24 167} {263496724613392696 24 168}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {7269937289382197238 24 160} {444516934208460654 24 161} {6192788600582056843 24 162} {4584739629113143477 24 163} {5098580472494802165 24 164} {2865200356600306356 24 165} {4851680684222333383 24 166} {7075247981557990430 24 167} {263496724613392696 24 168}]
------------------------------------------------------
flag 58325 term 26 leader 1 nextIndex[0]: 169  matchIndex[0]: 168
term 26 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
flag 46994 term 26 leader 1 nextIndex[2]: 169  matchIndex[2]: 168
term 26 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {7269937289382197238 24 160} {444516934208460654 24 161} {6192788600582056843 24 162} {4584739629113143477 24 163} {5098580472494802165 24 164} {2865200356600306356 24 165} {4851680684222333383 24 166} {7075247981557990430 24 167} {263496724613392696 24 168}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=169
update matchIndex[0]=168
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {7269937289382197238 24 160} {444516934208460654 24 161} {6192788600582056843 24 162} {4584739629113143477 24 163} {5098580472494802165 24 164} {2865200356600306356 24 165} {4851680684222333383 24 166} {7075247981557990430 24 167} {263496724613392696 24 168}]
------------------------------------------------------
flag 60844 term 26 leader 1 nextIndex[0]: 169  matchIndex[0]: 168
term 26 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
flag 27820 term 26 leader 1 nextIndex[2]: 169  matchIndex[2]: 168
term 26 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {7269937289382197238 24 160} {444516934208460654 24 161} {6192788600582056843 24 162} {4584739629113143477 24 163} {5098580472494802165 24 164} {2865200356600306356 24 165} {4851680684222333383 24 166} {7075247981557990430 24 167} {263496724613392696 24 168}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=169
update matchIndex[0]=168
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {7269937289382197238 24 160} {444516934208460654 24 161} {6192788600582056843 24 162} {4584739629113143477 24 163} {5098580472494802165 24 164} {2865200356600306356 24 165} {4851680684222333383 24 166} {7075247981557990430 24 167} {263496724613392696 24 168}]
------------------------------------------------------
flag 26337 term 26 leader 1 nextIndex[0]: 169  matchIndex[0]: 168
term 26 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
flag 40319 term 26 leader 1 nextIndex[2]: 169  matchIndex[2]: 168
term 26 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:168 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {7269937289382197238 24 160} {444516934208460654 24 161} {6192788600582056843 24 162} {4584739629113143477 24 163} {5098580472494802165 24 164} {2865200356600306356 24 165} {4851680684222333383 24 166} {7075247981557990430 24 167} {263496724613392696 24 168}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=169
update matchIndex[0]=168
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {7269937289382197238 24 160} {444516934208460654 24 161} {6192788600582056843 24 162} {4584739629113143477 24 163} {5098580472494802165 24 164} {2865200356600306356 24 165} {4851680684222333383 24 166} {7075247981557990430 24 167} {263496724613392696 24 168}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 140918470880168440 (index 169) to leader 1
flag 71362 term 26 leader 1 nextIndex[0]: 169  matchIndex[0]: 168
term 26 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
flag 22249 term 26 leader 1 nextIndex[2]: 169  matchIndex[2]: 168
term 26 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=169
leader log:
[{snapshot 24 159} {7269937289382197238 24 160} {444516934208460654 24 161} {6192788600582056843 24 162} {4584739629113143477 24 163} {5098580472494802165 24 164} {2865200356600306356 24 165} {4851680684222333383 24 166} {7075247981557990430 24 167} {263496724613392696 24 168} {140918470880168440 26 169}]
------------------------------------------------------
term 26 Server1 start snapshot! index=169
term 26 server1 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=169
-------------------------------------------------------------
flag 70875 term 26 leader 1 nextIndex[0]: 170  matchIndex[0]: 169
term 26 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 26 leaderCommit: 169 
------------------------------------------------------
term 26 leader 1 nextIndex[2]: 169  matchIndex[2]: 168
term 26 leader 1 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 26
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=169
leader log:
[{snapshot 26 169}]
------------------------------------------------------
client write log 6415516297092148657 (index 170) to leader 1
term 26 Server0 start snapshot! index=169
term 26 server0 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=169
-------------------------------------------------------------
client write log 6344548246559629300 (index 171) to leader 1
client write log 449940916072364968 (index 172) to leader 1
client write log 6031183318221802550 (index 173) to leader 1
client write log 3037059921712771598 (index 174) to leader 1
client write log 427278334971934747 (index 175) to leader 1
client write log 2172103420684032864 (index 176) to leader 1
client write log 1588821635992679589 (index 177) to leader 1
client write log 6102208587850608400 (index 178) to leader 1
client write log 8824131031373698597 (index 179) to leader 1
client write log 8245700689860050226 (index 180) to leader 1
client write log 1378981532670428071 (index 181) to leader 1
client write log 2865370058530613331 (index 182) to leader 1
flag 94707 term 26 leader 1 nextIndex[0]: 170  matchIndex[0]: 169
term 26 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 26 leaderCommit: 169 
------------------------------------------------------
term 26 leader 1 nextIndex[2]: 169  matchIndex[2]: 168
term 26 leader 1 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 26
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=183
update matchIndex[0]=182
update leader CommitIndex=182
leader log:
[{snapshot 26 169} {6415516297092148657 26 170} {6344548246559629300 26 171} {449940916072364968 26 172} {6031183318221802550 26 173} {3037059921712771598 26 174} {427278334971934747 26 175} {2172103420684032864 26 176} {1588821635992679589 26 177} {6102208587850608400 26 178} {8824131031373698597 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182}]
------------------------------------------------------
term 26 Server1 start snapshot! index=179
term 26 server1 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=182
-------------------------------------------------------------
flag 71736 term 26 leader 1 nextIndex[0]: 183  matchIndex[0]: 182
term 26 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 26 leaderCommit: 182 
------------------------------------------------------
term 26 leader 1 nextIndex[2]: 169  matchIndex[2]: 168
term 26 leader 1 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 26
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=183
update matchIndex[0]=182
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182}]
------------------------------------------------------
term 26 Server0 start snapshot! index=179
term 26 server0 snapshot success
lastIncludedIndex=179 lastApplied=180 lastIndex=182
-------------------------------------------------------------
!!!!!!connect server 2
client write log 2686043419636593840 (index 183) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8209 term 26 leader 1 nextIndex[0]: 183  matchIndex[0]: 182
term 26 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 26 leaderCommit: 182 
------------------------------------------------------
term 26 leader 1 nextIndex[2]: 169  matchIndex[2]: 168
term 26 leader 1 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 26
------------------------------------------------------
term 27 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 26 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 27 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 28 server 2 vote for server 1
term 28 server 1 get vote from server 2
term 28 server 1 become leader
------------------------------------------------------
term 28 server 0 vote for server 1
term 28 server 1 get outdate rpc reply from server 0
flag 98152 term 28 leader 1 nextIndex[0]: 184  matchIndex[0]: 0
term 28 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 182 
------------------------------------------------------
flag 13586 term 28 leader 1 nextIndex[2]: 184  matchIndex[2]: 0
term 28 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 182 
------------------------------------------------------
term 28 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 184->183
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183}]
------------------------------------------------------
flag 6902 term 28 leader 1 nextIndex[0]: 184  matchIndex[0]: 183
term 28 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 182 
------------------------------------------------------
term 28 leader 1 nextIndex[2]: 169  matchIndex[2]: 0
term 28 leader 1 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 26
------------------------------------------------------
term 28 server 2 InstallSnapshot success
------------------------------------------------------
term 28 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 180 matchIndex[2] 179 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 179 rf.lastIncludedTerm 26 rf.commitIndex 179 rf.lastApplied 179
term 28 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183}]
------------------------------------------------------
flag 65943 term 28 leader 1 nextIndex[0]: 184  matchIndex[0]: 183
term 28 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 182 
------------------------------------------------------
flag 38467 term 28 leader 1 nextIndex[2]: 180  matchIndex[2]: 179
term 28 leader 1 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 26 leaderCommit: 182 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 28 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 37737 term 28 leader 1 nextIndex[0]: 184  matchIndex[0]: 183
term 28 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 182 
------------------------------------------------------
flag 87623 term 28 leader 1 nextIndex[2]: 184  matchIndex[2]: 183
term 28 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 182 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183}]
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75279 term 28 leader 1 nextIndex[0]: 184  matchIndex[0]: 183
term 28 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 182 
------------------------------------------------------
flag 1639 term 28 leader 1 nextIndex[2]: 184  matchIndex[2]: 183
term 28 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 182 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183}]
------------------------------------------------------
flag 46293 term 28 leader 1 nextIndex[0]: 184  matchIndex[0]: 183
term 28 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 182 
------------------------------------------------------
flag 3557 term 28 leader 1 nextIndex[2]: 184  matchIndex[2]: 183
term 28 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 182 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:182 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85638 term 28 leader 1 nextIndex[0]: 184  matchIndex[0]: 183
term 28 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 182 
------------------------------------------------------
flag 34831 term 28 leader 1 nextIndex[2]: 184  matchIndex[2]: 183
term 28 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 182 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 28 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 87987 term 28 leader 1 nextIndex[0]: 184  matchIndex[0]: 183
term 28 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 182 
------------------------------------------------------
flag 87622 term 28 leader 1 nextIndex[2]: 184  matchIndex[2]: 183
term 28 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 182 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183}]
------------------------------------------------------
term 28 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 34542 term 28 leader 1 nextIndex[0]: 184  matchIndex[0]: 183
term 28 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 182 
------------------------------------------------------
flag 7081 term 28 leader 1 nextIndex[2]: 184  matchIndex[2]: 183
term 28 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 182 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183}]
------------------------------------------------------
flag 81899 term 28 leader 1 nextIndex[0]: 184  matchIndex[0]: 183
term 28 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 182 
------------------------------------------------------
flag 46188 term 28 leader 1 nextIndex[2]: 184  matchIndex[2]: 183
term 28 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 182 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183}]
------------------------------------------------------
flag 63248 term 28 leader 1 nextIndex[0]: 184  matchIndex[0]: 183
term 28 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 182 
------------------------------------------------------
flag 11137 term 28 leader 1 nextIndex[2]: 184  matchIndex[2]: 183
term 28 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 182 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183}]
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183}]
------------------------------------------------------
flag 10425 term 28 leader 1 nextIndex[0]: 184  matchIndex[0]: 183
term 28 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 182 
------------------------------------------------------
flag 51599 term 28 leader 1 nextIndex[2]: 184  matchIndex[2]: 183
term 28 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 182 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183}]
------------------------------------------------------
flag 16758 term 28 leader 1 nextIndex[0]: 184  matchIndex[0]: 183
term 28 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 182 
------------------------------------------------------
flag 98296 term 28 leader 1 nextIndex[2]: 184  matchIndex[2]: 183
term 28 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 182 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:182 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183}]
------------------------------------------------------
flag 94090 term 28 leader 1 nextIndex[0]: 184  matchIndex[0]: 183
term 28 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 182 
------------------------------------------------------
flag 16116 term 28 leader 1 nextIndex[2]: 184  matchIndex[2]: 183
term 28 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 182 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33074 term 28 leader 1 nextIndex[0]: 184  matchIndex[0]: 183
term 28 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 182 
------------------------------------------------------
flag 88903 term 28 leader 1 nextIndex[2]: 184  matchIndex[2]: 183
term 28 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 182 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183}]
------------------------------------------------------
flag 7745 term 28 leader 1 nextIndex[0]: 184  matchIndex[0]: 183
term 28 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 182 
------------------------------------------------------
flag 38911 term 28 leader 1 nextIndex[2]: 184  matchIndex[2]: 183
term 28 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 182 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=182
leader log:
term 28 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183}]
------------------------------------------------------
flag 24576 term 28 leader 1 nextIndex[0]: 184  matchIndex[0]: 183
term 28 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 182 
------------------------------------------------------
flag 24758 term 28 leader 1 nextIndex[2]: 184  matchIndex[2]: 183
term 28 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 182 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183}]
------------------------------------------------------
flag 74709 term 28 leader 1 nextIndex[0]: 184  matchIndex[0]: 183
term 28 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 182 
------------------------------------------------------
flag 7057 term 28 leader 1 nextIndex[2]: 184  matchIndex[2]: 183
term 28 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 182 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=184
update matchIndex[2]=183
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183}]
------------------------------------------------------
client write log 2686043419636593840 (index 184) to leader 1
flag 37227 term 28 leader 1 nextIndex[0]: 184  matchIndex[0]: 183
term 28 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 182 
------------------------------------------------------
flag 70429 term 28 leader 1 nextIndex[2]: 184  matchIndex[2]: 183
term 28 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 26 leaderCommit: 182 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183} {2686043419636593840 28 184}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183} {2686043419636593840 28 184}]
------------------------------------------------------
term 28 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 6733 term 28 leader 1 nextIndex[0]: 185  matchIndex[0]: 184
term 28 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 28 leaderCommit: 184 
------------------------------------------------------
flag 26428 term 28 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 28 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 28 leaderCommit: 184 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183} {2686043419636593840 28 184}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183} {2686043419636593840 28 184}]
------------------------------------------------------
flag 70031 term 28 leader 1 nextIndex[0]: 185  matchIndex[0]: 184
term 28 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 28 leaderCommit: 184 
------------------------------------------------------
flag 83984 term 28 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 28 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 28 leaderCommit: 184 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183} {2686043419636593840 28 184}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183} {2686043419636593840 28 184}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25258 term 28 leader 1 nextIndex[0]: 185  matchIndex[0]: 184
term 28 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 28 leaderCommit: 184 
------------------------------------------------------
flag 12163 term 28 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 28 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 28 leaderCommit: 184 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183} {2686043419636593840 28 184}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183} {2686043419636593840 28 184}]
------------------------------------------------------
term 28 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 37760 term 28 leader 1 nextIndex[0]: 185  matchIndex[0]: 184
term 28 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 28 leaderCommit: 184 
------------------------------------------------------
flag 38475 term 28 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 28 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 28 leaderCommit: 184 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183} {2686043419636593840 28 184}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183} {2686043419636593840 28 184}]
------------------------------------------------------
flag 3466 term 28 leader 1 nextIndex[0]: 185  matchIndex[0]: 184
term 28 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 28 leaderCommit: 184 
------------------------------------------------------
flag 54993 term 28 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 28 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 28 leaderCommit: 184 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183} {2686043419636593840 28 184}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183} {2686043419636593840 28 184}]
------------------------------------------------------
flag 10097 term 28 leader 1 nextIndex[0]: 185  matchIndex[0]: 184
term 28 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 28 leaderCommit: 184 
------------------------------------------------------
flag 89246 term 28 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 28 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 28 leaderCommit: 184 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183} {2686043419636593840 28 184}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183} {2686043419636593840 28 184}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 32703 term 28 leader 1 nextIndex[0]: 185  matchIndex[0]: 184
term 28 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 28 leaderCommit: 184 
------------------------------------------------------
flag 34702 term 28 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 28 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 28 leaderCommit: 184 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15695 term 28 leader 1 nextIndex[0]: 185  matchIndex[0]: 184
term 28 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 28 leaderCommit: 184 
------------------------------------------------------
flag 47221 term 28 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 28 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 28 leaderCommit: 184 
------------------------------------------------------
flag 7326 term 28 leader 1 nextIndex[0]: 185  matchIndex[0]: 184
term 28 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 28 leaderCommit: 184 
------------------------------------------------------
flag 93171 term 28 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 28 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 28 leaderCommit: 184 
------------------------------------------------------
term 29 server 2 vote for server 0
term 29 server 0 get vote from server 2
term 29 server 0 become leader
------------------------------------------------------
flag 75789 term 29 leader 0 nextIndex[1]: 185  matchIndex[1]: 0
term 29 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 28 leaderCommit: 184 
------------------------------------------------------
flag 62136 term 29 leader 0 nextIndex[2]: 185  matchIndex[2]: 0
term 29 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 28 leaderCommit: 184 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183} {2686043419636593840 28 184}]
------------------------------------------------------
flag 63107 term 28 leader 1 nextIndex[0]: 185  matchIndex[0]: 184
term 28 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 28 leaderCommit: 184 
------------------------------------------------------
flag 82124 term 28 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 28 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 28 leaderCommit: 184 
------------------------------------------------------
client write log 2218044913892362179 (index 185) to leader 0
flag 34669 term 29 leader 0 nextIndex[1]: 185  matchIndex[1]: 0
term 29 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 28 leaderCommit: 184 
------------------------------------------------------
flag 69681 term 29 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 29 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 28 leaderCommit: 184 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183} {2686043419636593840 28 184} {2218044913892362179 29 185}]
------------------------------------------------------
flag 53476 term 28 leader 1 nextIndex[0]: 185  matchIndex[0]: 184
term 28 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 28 leaderCommit: 184 
------------------------------------------------------
flag 61956 term 28 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 28 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 28 leaderCommit: 184 
------------------------------------------------------
flag 4450 term 29 leader 0 nextIndex[1]: 185  matchIndex[1]: 0
term 29 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 28 leaderCommit: 185 
------------------------------------------------------
flag 84726 term 29 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 29 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183} {2686043419636593840 28 184} {2218044913892362179 29 185}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32173 term 28 leader 1 nextIndex[0]: 185  matchIndex[0]: 184
term 28 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 28 leaderCommit: 184 
------------------------------------------------------
flag 96913 term 28 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 28 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 28 leaderCommit: 184 
------------------------------------------------------
client write log 7759377694934974975 (index 186) to leader 0
flag 87757 term 29 leader 0 nextIndex[1]: 185  matchIndex[1]: 0
term 29 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 28 leaderCommit: 185 
------------------------------------------------------
flag 83760 term 29 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 29 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183} {2686043419636593840 28 184} {2218044913892362179 29 185} {7759377694934974975 29 186}]
------------------------------------------------------
flag 2623 term 28 leader 1 nextIndex[0]: 185  matchIndex[0]: 184
term 28 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 28 leaderCommit: 184 
------------------------------------------------------
flag 88090 term 28 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 28 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 28 leaderCommit: 184 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 185->184
------------------------------------------------------
flag 39681 term 29 leader 0 nextIndex[1]: 185  matchIndex[1]: 0
term 29 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 28 leaderCommit: 186 
------------------------------------------------------
flag 11109 term 29 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 29 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183} {2686043419636593840 28 184} {2218044913892362179 29 185} {7759377694934974975 29 186}]
------------------------------------------------------
!!!!!!connect server 1
client write log 5794839674385803128 (index 185) to leader 1
flag 55197 term 28 leader 1 nextIndex[0]: 185  matchIndex[0]: 184
term 28 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 28 leaderCommit: 184 
------------------------------------------------------
term 28 leader 1 nextIndex[2]: 0  matchIndex[2]: 184
term 28 leader 1 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 26
------------------------------------------------------
term 29 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 28 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 29 server 0 AppendEntries false 领导者任期过期 args.Term 28
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43656 term 29 leader 0 nextIndex[1]: 185  matchIndex[1]: 0
term 29 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 28 leaderCommit: 186 
------------------------------------------------------
flag 38532 term 29 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 29 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183} {2686043419636593840 28 184} {2218044913892362179 29 185} {7759377694934974975 29 186}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183} {2686043419636593840 28 184} {2218044913892362179 29 185} {7759377694934974975 29 186}]
------------------------------------------------------
flag 99744 term 29 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 29 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
flag 21801 term 29 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 29 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183} {2686043419636593840 28 184} {2218044913892362179 29 185} {7759377694934974975 29 186}]
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183} {2686043419636593840 28 184} {2218044913892362179 29 185} {7759377694934974975 29 186}]
------------------------------------------------------
flag 11345 term 29 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 29 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
flag 89344 term 29 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 29 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183} {2686043419636593840 28 184} {2218044913892362179 29 185} {7759377694934974975 29 186}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183} {2686043419636593840 28 184} {2218044913892362179 29 185} {7759377694934974975 29 186}]
------------------------------------------------------
term 29 server 1 not vote for server 2, 任期不够新
term 29 server 2 get outdate rpc reply from server 1
flag 780 term 29 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 29 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
flag 31004 term 29 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 29 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183} {2686043419636593840 28 184} {2218044913892362179 29 185} {7759377694934974975 29 186}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183} {2686043419636593840 28 184} {2218044913892362179 29 185} {7759377694934974975 29 186}]
------------------------------------------------------
flag 3851 term 29 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 29 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
flag 12931 term 29 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 29 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183} {2686043419636593840 28 184} {2218044913892362179 29 185} {7759377694934974975 29 186}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183} {2686043419636593840 28 184} {2218044913892362179 29 185} {7759377694934974975 29 186}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7213 term 29 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 29 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
flag 99458 term 29 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 29 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183} {2686043419636593840 28 184} {2218044913892362179 29 185} {7759377694934974975 29 186}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183} {2686043419636593840 28 184} {2218044913892362179 29 185} {7759377694934974975 29 186}]
------------------------------------------------------
term 29 server 1 not vote for server 2, 任期不够新
term 29 server 2 get outdate rpc reply from server 1
flag 29630 term 29 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 29 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
flag 31195 term 29 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 29 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183} {2686043419636593840 28 184} {2218044913892362179 29 185} {7759377694934974975 29 186}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183} {2686043419636593840 28 184} {2218044913892362179 29 185} {7759377694934974975 29 186}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64660 term 29 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 29 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
flag 48218 term 29 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 29 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183} {2686043419636593840 28 184} {2218044913892362179 29 185} {7759377694934974975 29 186}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183} {2686043419636593840 28 184} {2218044913892362179 29 185} {7759377694934974975 29 186}]
------------------------------------------------------
flag 80405 term 29 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 29 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
flag 98847 term 29 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 29 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183} {2686043419636593840 28 184} {2218044913892362179 29 185} {7759377694934974975 29 186}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183} {2686043419636593840 28 184} {2218044913892362179 29 185} {7759377694934974975 29 186}]
------------------------------------------------------
term 29 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 187->186
------------------------------------------------------
term 29 leader 0 nextIndex[1]: 0  matchIndex[1]: 186
term 29 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 26
------------------------------------------------------
flag 78409 term 29 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 29 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
term 29 server 1 InstallSnapshot fail
rf.commitIndex 186 args.LastIncludedIndex 179
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183} {2686043419636593840 28 184} {2218044913892362179 29 185} {7759377694934974975 29 186}]
------------------------------------------------------
term 29 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 180 matchIndex[1] 179 
------------------------------------------------------------------------
flag 64837 term 29 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 29 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 26 leaderCommit: 186 
------------------------------------------------------
flag 33413 term 29 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 29 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183} {2686043419636593840 28 184} {2218044913892362179 29 185} {7759377694934974975 29 186}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183} {2686043419636593840 28 184} {2218044913892362179 29 185} {7759377694934974975 29 186}]
------------------------------------------------------
flag 54893 term 29 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 29 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
flag 4237 term 29 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 29 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183} {2686043419636593840 28 184} {2218044913892362179 29 185} {7759377694934974975 29 186}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183} {2686043419636593840 28 184} {2218044913892362179 29 185} {7759377694934974975 29 186}]
------------------------------------------------------
flag 77367 term 29 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 29 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
flag 30772 term 29 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 29 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
term 29 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183} {2686043419636593840 28 184} {2218044913892362179 29 185} {7759377694934974975 29 186}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183} {2686043419636593840 28 184} {2218044913892362179 29 185} {7759377694934974975 29 186}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19694 term 29 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 29 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
flag 71176 term 29 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 29 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183} {2686043419636593840 28 184} {2218044913892362179 29 185} {7759377694934974975 29 186}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183} {2686043419636593840 28 184} {2218044913892362179 29 185} {7759377694934974975 29 186}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11600 term 29 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 29 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
flag 64895 term 29 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 29 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183} {2686043419636593840 28 184} {2218044913892362179 29 185} {7759377694934974975 29 186}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183} {2686043419636593840 28 184} {2218044913892362179 29 185} {7759377694934974975 29 186}]
------------------------------------------------------
flag 23809 term 29 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 29 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
flag 41770 term 29 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 29 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
term 29 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183} {2686043419636593840 28 184} {2218044913892362179 29 185} {7759377694934974975 29 186}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183} {2686043419636593840 28 184} {2218044913892362179 29 185} {7759377694934974975 29 186}]
------------------------------------------------------
flag 21405 term 29 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 29 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
flag 42967 term 29 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 29 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183} {2686043419636593840 28 184} {2218044913892362179 29 185} {7759377694934974975 29 186}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183} {2686043419636593840 28 184} {2218044913892362179 29 185} {7759377694934974975 29 186}]
------------------------------------------------------
flag 70260 term 29 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 29 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
flag 20296 term 29 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 29 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183} {2686043419636593840 28 184} {2218044913892362179 29 185} {7759377694934974975 29 186}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183} {2686043419636593840 28 184} {2218044913892362179 29 185} {7759377694934974975 29 186}]
------------------------------------------------------
flag 63092 term 29 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 29 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
flag 38206 term 29 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 29 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
term 29 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183} {2686043419636593840 28 184} {2218044913892362179 29 185} {7759377694934974975 29 186}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183} {2686043419636593840 28 184} {2218044913892362179 29 185} {7759377694934974975 29 186}]
------------------------------------------------------
flag 19196 term 29 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 29 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
flag 48064 term 29 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 29 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183} {2686043419636593840 28 184} {2218044913892362179 29 185} {7759377694934974975 29 186}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183} {2686043419636593840 28 184} {2218044913892362179 29 185} {7759377694934974975 29 186}]
------------------------------------------------------
client write log 5794839674385803128 (index 187) to leader 0
flag 9068 term 29 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 29 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
flag 23944 term 29 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 29 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183} {2686043419636593840 28 184} {2218044913892362179 29 185} {7759377694934974975 29 186} {5794839674385803128 29 187}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183} {2686043419636593840 28 184} {2218044913892362179 29 185} {7759377694934974975 29 186} {5794839674385803128 29 187}]
------------------------------------------------------
flag 11042 term 29 leader 0 nextIndex[1]: 188  matchIndex[1]: 187
term 29 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 187 
------------------------------------------------------
flag 59983 term 29 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 29 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 187 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183} {2686043419636593840 28 184} {2218044913892362179 29 185} {7759377694934974975 29 186} {5794839674385803128 29 187}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183} {2686043419636593840 28 184} {2218044913892362179 29 185} {7759377694934974975 29 186} {5794839674385803128 29 187}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 188->187
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 29 leader 0 nextIndex[1]: 0  matchIndex[1]: 187
term 29 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 26
------------------------------------------------------
flag 45455 term 29 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 29 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 187 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
term 29 server 1 InstallSnapshot fail
rf.commitIndex 187 args.LastIncludedIndex 179
------------------------------------------------------
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183} {2686043419636593840 28 184} {2218044913892362179 29 185} {7759377694934974975 29 186} {5794839674385803128 29 187}]
------------------------------------------------------
term 29 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 180 matchIndex[1] 179 
------------------------------------------------------------------------
flag 89789 term 29 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 29 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 26 leaderCommit: 187 
------------------------------------------------------
flag 65003 term 29 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 29 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 187 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183} {2686043419636593840 28 184} {2218044913892362179 29 185} {7759377694934974975 29 186} {5794839674385803128 29 187}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183} {2686043419636593840 28 184} {2218044913892362179 29 185} {7759377694934974975 29 186} {5794839674385803128 29 187}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76625 term 29 leader 0 nextIndex[1]: 188  matchIndex[1]: 187
term 29 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 187 
------------------------------------------------------
flag 60120 term 29 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 29 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 187 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183} {2686043419636593840 28 184} {2218044913892362179 29 185} {7759377694934974975 29 186} {5794839674385803128 29 187}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183} {2686043419636593840 28 184} {2218044913892362179 29 185} {7759377694934974975 29 186} {5794839674385803128 29 187}]
------------------------------------------------------
flag 66061 term 29 leader 0 nextIndex[1]: 188  matchIndex[1]: 187
term 29 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 187 
------------------------------------------------------
flag 28947 term 29 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 29 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 187 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
term 29 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183} {2686043419636593840 28 184} {2218044913892362179 29 185} {7759377694934974975 29 186} {5794839674385803128 29 187}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183} {2686043419636593840 28 184} {2218044913892362179 29 185} {7759377694934974975 29 186} {5794839674385803128 29 187}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 7570409624656516012 (index 188) to leader 0
flag 85280 term 29 leader 0 nextIndex[1]: 188  matchIndex[1]: 187
term 29 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 187 
------------------------------------------------------
flag 23096 term 29 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 29 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 187 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=188
leader log:
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183} {2686043419636593840 28 184} {2218044913892362179 29 185} {7759377694934974975 29 186} {5794839674385803128 29 187} {7570409624656516012 29 188}]
------------------------------------------------------
flag 61729 term 29 leader 0 nextIndex[1]: 188  matchIndex[1]: 187
term 29 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 188 
------------------------------------------------------
flag 30962 term 29 leader 0 nextIndex[2]: 189  matchIndex[2]: 188
term 29 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 29 leaderCommit: 188 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=188
leader log:
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183} {2686043419636593840 28 184} {2218044913892362179 29 185} {7759377694934974975 29 186} {5794839674385803128 29 187} {7570409624656516012 29 188}]
------------------------------------------------------
client write log 3686894924686549992 (index 189) to leader 0
client write log 1547197929508105969 (index 190) to leader 0
client write log 1279559169624493008 (index 191) to leader 0
client write log 7104247801503480307 (index 192) to leader 0
client write log 121186083021406267 (index 193) to leader 0
client write log 5875307569329650748 (index 194) to leader 0
client write log 6049181671423084735 (index 195) to leader 0
client write log 6601012274070044831 (index 196) to leader 0
client write log 5883901676832374118 (index 197) to leader 0
client write log 4844700014699102851 (index 198) to leader 0
flag 91793 term 29 leader 0 nextIndex[1]: 188  matchIndex[1]: 187
term 29 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 188 
------------------------------------------------------
flag 81999 term 29 leader 0 nextIndex[2]: 189  matchIndex[2]: 188
term 29 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 29 leaderCommit: 188 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=199
update matchIndex[2]=198
update leader CommitIndex=198
leader log:
[{snapshot 26 179} {8245700689860050226 26 180} {1378981532670428071 26 181} {2865370058530613331 26 182} {2686043419636593840 26 183} {2686043419636593840 28 184} {2218044913892362179 29 185} {7759377694934974975 29 186} {5794839674385803128 29 187} {7570409624656516012 29 188} {3686894924686549992 29 189} {1547197929508105969 29 190} {1279559169624493008 29 191} {7104247801503480307 29 192} {121186083021406267 29 193} {5875307569329650748 29 194} {6049181671423084735 29 195} {6601012274070044831 29 196} {5883901676832374118 29 197} {4844700014699102851 29 198}]
------------------------------------------------------
term 29 Server0 start snapshot! index=189
term 29 server0 snapshot success
lastIncludedIndex=189 lastApplied=190 lastIndex=198
-------------------------------------------------------------
term 29 leader 0 nextIndex[1]: 188  matchIndex[1]: 187
term 29 leader 0 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 29
------------------------------------------------------
flag 60527 term 29 leader 0 nextIndex[2]: 199  matchIndex[2]: 198
term 29 leader 0 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 29 leaderCommit: 198 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=199
update matchIndex[2]=198
update leader CommitIndex=198
leader log:
[{snapshot 29 189} {1547197929508105969 29 190} {1279559169624493008 29 191} {7104247801503480307 29 192} {121186083021406267 29 193} {5875307569329650748 29 194} {6049181671423084735 29 195} {6601012274070044831 29 196} {5883901676832374118 29 197} {4844700014699102851 29 198}]
------------------------------------------------------
term 29 Server2 start snapshot! index=189
term 29 server2 snapshot success
lastIncludedIndex=189 lastApplied=190 lastIndex=198
-------------------------------------------------------------
!!!!!!connect server 1
client write log 6731381714984414650 (index 199) to leader 0
term 29 server 2 not vote for server 1, 日志不够新
term 29 server 0 not vote for server 1, 日志不够新
term 30 server 0 not vote for server 2, 任期不够新
term 30 server 2 get outdate rpc reply from server 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 31 server 1 vote for server 0
term 31 server 2 vote for server 0
term 31 server 0 get vote from server 1
term 31 server 0 become leader
------------------------------------------------------
term 31 server 0 get outdate rpc reply from server 2
flag 52610 term 31 leader 0 nextIndex[1]: 200  matchIndex[1]: 0
term 31 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 198 
------------------------------------------------------
flag 37719 term 31 leader 0 nextIndex[2]: 200  matchIndex[2]: 0
term 31 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 198 
------------------------------------------------------
term 31 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 200->199
------------------------------------------------------
term 31 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 200->199
------------------------------------------------------
term 31 leader 0 nextIndex[1]: 188  matchIndex[1]: 0
term 31 leader 0 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 29
------------------------------------------------------
flag 28686 term 31 leader 0 nextIndex[2]: 199  matchIndex[2]: 0
term 31 leader 0 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 29 leaderCommit: 198 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=200
update matchIndex[2]=199
update leader CommitIndex=198
leader log:
[{snapshot 29 189} {1547197929508105969 29 190} {1279559169624493008 29 191} {7104247801503480307 29 192} {121186083021406267 29 193} {5875307569329650748 29 194} {6049181671423084735 29 195} {6601012274070044831 29 196} {5883901676832374118 29 197} {4844700014699102851 29 198} {6731381714984414650 29 199}]
------------------------------------------------------
term 31 server 1 InstallSnapshot success
------------------------------------------------------
term 31 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 190 matchIndex[1] 189 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 189 rf.lastIncludedTerm 29 rf.commitIndex 189 rf.lastApplied 189
term 31 server 1 not vote for server 0, 任期不够新
term 31 server 0 get outdate rpc reply from server 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53707 term 31 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 31 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 29 leaderCommit: 198 
------------------------------------------------------
flag 17806 term 31 leader 0 nextIndex[2]: 200  matchIndex[2]: 199
term 31 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 198 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=200
update matchIndex[2]=199
update leader CommitIndex=198
leader log:
[{snapshot 29 189} {1547197929508105969 29 190} {1279559169624493008 29 191} {7104247801503480307 29 192} {121186083021406267 29 193} {5875307569329650748 29 194} {6049181671423084735 29 195} {6601012274070044831 29 196} {5883901676832374118 29 197} {4844700014699102851 29 198} {6731381714984414650 29 199}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
update leader CommitIndex=198
leader log:
[{snapshot 29 189} {1547197929508105969 29 190} {1279559169624493008 29 191} {7104247801503480307 29 192} {121186083021406267 29 193} {5875307569329650748 29 194} {6049181671423084735 29 195} {6601012274070044831 29 196} {5883901676832374118 29 197} {4844700014699102851 29 198} {6731381714984414650 29 199}]
------------------------------------------------------
flag 61152 term 31 leader 0 nextIndex[1]: 200  matchIndex[1]: 199
term 31 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 198 
------------------------------------------------------
flag 74027 term 31 leader 0 nextIndex[2]: 200  matchIndex[2]: 199
term 31 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 198 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:198 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=200
update matchIndex[2]=199
update leader CommitIndex=198
leader log:
[{snapshot 29 189} {1547197929508105969 29 190} {1279559169624493008 29 191} {7104247801503480307 29 192} {121186083021406267 29 193} {5875307569329650748 29 194} {6049181671423084735 29 195} {6601012274070044831 29 196} {5883901676832374118 29 197} {4844700014699102851 29 198} {6731381714984414650 29 199}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
update leader CommitIndex=198
leader log:
[{snapshot 29 189} {1547197929508105969 29 190} {1279559169624493008 29 191} {7104247801503480307 29 192} {121186083021406267 29 193} {5875307569329650748 29 194} {6049181671423084735 29 195} {6601012274070044831 29 196} {5883901676832374118 29 197} {4844700014699102851 29 198} {6731381714984414650 29 199}]
------------------------------------------------------
flag 51851 term 31 leader 0 nextIndex[1]: 200  matchIndex[1]: 199
term 31 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 198 
------------------------------------------------------
flag 14594 term 31 leader 0 nextIndex[2]: 200  matchIndex[2]: 199
term 31 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 198 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=200
update matchIndex[2]=199
update leader CommitIndex=198
leader log:
[{snapshot 29 189} {1547197929508105969 29 190} {1279559169624493008 29 191} {7104247801503480307 29 192} {121186083021406267 29 193} {5875307569329650748 29 194} {6049181671423084735 29 195} {6601012274070044831 29 196} {5883901676832374118 29 197} {4844700014699102851 29 198} {6731381714984414650 29 199}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
update leader CommitIndex=198
leader log:
[{snapshot 29 189} {1547197929508105969 29 190} {1279559169624493008 29 191} {7104247801503480307 29 192} {121186083021406267 29 193} {5875307569329650748 29 194} {6049181671423084735 29 195} {6601012274070044831 29 196} {5883901676832374118 29 197} {4844700014699102851 29 198} {6731381714984414650 29 199}]
------------------------------------------------------
flag 958 term 31 leader 0 nextIndex[1]: 200  matchIndex[1]: 199
term 31 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 198 
------------------------------------------------------
flag 40593 term 31 leader 0 nextIndex[2]: 200  matchIndex[2]: 199
term 31 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 198 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=200
update matchIndex[2]=199
update leader CommitIndex=198
leader log:
[{snapshot 29 189} {1547197929508105969 29 190} {1279559169624493008 29 191} {7104247801503480307 29 192} {121186083021406267 29 193} {5875307569329650748 29 194} {6049181671423084735 29 195} {6601012274070044831 29 196} {5883901676832374118 29 197} {4844700014699102851 29 198} {6731381714984414650 29 199}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
update leader CommitIndex=198
leader log:
[{snapshot 29 189} {1547197929508105969 29 190} {1279559169624493008 29 191} {7104247801503480307 29 192} {121186083021406267 29 193} {5875307569329650748 29 194} {6049181671423084735 29 195} {6601012274070044831 29 196} {5883901676832374118 29 197} {4844700014699102851 29 198} {6731381714984414650 29 199}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96256 term 31 leader 0 nextIndex[1]: 200  matchIndex[1]: 199
term 31 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 198 
------------------------------------------------------
flag 59121 term 31 leader 0 nextIndex[2]: 200  matchIndex[2]: 199
term 31 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 198 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=200
update matchIndex[2]=199
update leader CommitIndex=198
leader log:
[{snapshot 29 189} {1547197929508105969 29 190} {1279559169624493008 29 191} {7104247801503480307 29 192} {121186083021406267 29 193} {5875307569329650748 29 194} {6049181671423084735 29 195} {6601012274070044831 29 196} {5883901676832374118 29 197} {4844700014699102851 29 198} {6731381714984414650 29 199}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
update leader CommitIndex=198
leader log:
[{snapshot 29 189} {1547197929508105969 29 190} {1279559169624493008 29 191} {7104247801503480307 29 192} {121186083021406267 29 193} {5875307569329650748 29 194} {6049181671423084735 29 195} {6601012274070044831 29 196} {5883901676832374118 29 197} {4844700014699102851 29 198} {6731381714984414650 29 199}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10447 term 31 leader 0 nextIndex[1]: 200  matchIndex[1]: 199
term 31 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 198 
------------------------------------------------------
flag 13439 term 31 leader 0 nextIndex[2]: 200  matchIndex[2]: 199
term 31 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 198 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:198 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=200
update matchIndex[2]=199
update leader CommitIndex=198
leader log:
[{snapshot 29 189} {1547197929508105969 29 190} {1279559169624493008 29 191} {7104247801503480307 29 192} {121186083021406267 29 193} {5875307569329650748 29 194} {6049181671423084735 29 195} {6601012274070044831 29 196} {5883901676832374118 29 197} {4844700014699102851 29 198} {6731381714984414650 29 199}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
update leader CommitIndex=198
leader log:
[{snapshot 29 189} {1547197929508105969 29 190} {1279559169624493008 29 191} {7104247801503480307 29 192} {121186083021406267 29 193} {5875307569329650748 29 194} {6049181671423084735 29 195} {6601012274070044831 29 196} {5883901676832374118 29 197} {4844700014699102851 29 198} {6731381714984414650 29 199}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45083 term 31 leader 0 nextIndex[1]: 200  matchIndex[1]: 199
term 31 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 198 
------------------------------------------------------
flag 84030 term 31 leader 0 nextIndex[2]: 200  matchIndex[2]: 199
term 31 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 198 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=200
update matchIndex[2]=199
update leader CommitIndex=198
leader log:
[{snapshot 29 189} {1547197929508105969 29 190} {1279559169624493008 29 191} {7104247801503480307 29 192} {121186083021406267 29 193} {5875307569329650748 29 194} {6049181671423084735 29 195} {6601012274070044831 29 196} {5883901676832374118 29 197} {4844700014699102851 29 198} {6731381714984414650 29 199}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
update leader CommitIndex=198
leader log:
[{snapshot 29 189} {1547197929508105969 29 190} {1279559169624493008 29 191} {7104247801503480307 29 192} {121186083021406267 29 193} {5875307569329650748 29 194} {6049181671423084735 29 195} {6601012274070044831 29 196} {5883901676832374118 29 197} {4844700014699102851 29 198} {6731381714984414650 29 199}]
------------------------------------------------------
flag 2844 term 31 leader 0 nextIndex[1]: 200  matchIndex[1]: 199
term 31 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 198 
------------------------------------------------------
flag 78133 term 31 leader 0 nextIndex[2]: 200  matchIndex[2]: 199
term 31 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 198 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=200
update matchIndex[2]=199
update leader CommitIndex=198
leader log:
[{snapshot 29 189} {1547197929508105969 29 190} {1279559169624493008 29 191} {7104247801503480307 29 192} {121186083021406267 29 193} {5875307569329650748 29 194} {6049181671423084735 29 195} {6601012274070044831 29 196} {5883901676832374118 29 197} {4844700014699102851 29 198} {6731381714984414650 29 199}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
update leader CommitIndex=198
leader log:
[{snapshot 29 189} {1547197929508105969 29 190} {1279559169624493008 29 191} {7104247801503480307 29 192} {121186083021406267 29 193} {5875307569329650748 29 194} {6049181671423084735 29 195} {6601012274070044831 29 196} {5883901676832374118 29 197} {4844700014699102851 29 198} {6731381714984414650 29 199}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94658 term 31 leader 0 nextIndex[1]: 200  matchIndex[1]: 199
term 31 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 198 
------------------------------------------------------
flag 80291 term 31 leader 0 nextIndex[2]: 200  matchIndex[2]: 199
term 31 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 198 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=200
update matchIndex[2]=199
update leader CommitIndex=198
leader log:
[{snapshot 29 189} {1547197929508105969 29 190} {1279559169624493008 29 191} {7104247801503480307 29 192} {121186083021406267 29 193} {5875307569329650748 29 194} {6049181671423084735 29 195} {6601012274070044831 29 196} {5883901676832374118 29 197} {4844700014699102851 29 198} {6731381714984414650 29 199}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
update leader CommitIndex=198
leader log:
[{snapshot 29 189} {1547197929508105969 29 190} {1279559169624493008 29 191} {7104247801503480307 29 192} {121186083021406267 29 193} {5875307569329650748 29 194} {6049181671423084735 29 195} {6601012274070044831 29 196} {5883901676832374118 29 197} {4844700014699102851 29 198} {6731381714984414650 29 199}]
------------------------------------------------------
flag 57283 term 31 leader 0 nextIndex[1]: 200  matchIndex[1]: 199
term 31 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 198 
------------------------------------------------------
flag 57450 term 31 leader 0 nextIndex[2]: 200  matchIndex[2]: 199
term 31 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 198 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=200
update matchIndex[2]=199
update leader CommitIndex=198
leader log:
[{snapshot 29 189} {1547197929508105969 29 190} {1279559169624493008 29 191} {7104247801503480307 29 192} {121186083021406267 29 193} {5875307569329650748 29 194} {6049181671423084735 29 195} {6601012274070044831 29 196} {5883901676832374118 29 197} {4844700014699102851 29 198} {6731381714984414650 29 199}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
update leader CommitIndex=198
leader log:
[{snapshot 29 189} {1547197929508105969 29 190} {1279559169624493008 29 191} {7104247801503480307 29 192} {121186083021406267 29 193} {5875307569329650748 29 194} {6049181671423084735 29 195} {6601012274070044831 29 196} {5883901676832374118 29 197} {4844700014699102851 29 198} {6731381714984414650 29 199}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4600 term 31 leader 0 nextIndex[1]: 200  matchIndex[1]: 199
term 31 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 198 
------------------------------------------------------
flag 10653 term 31 leader 0 nextIndex[2]: 200  matchIndex[2]: 199
term 31 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 198 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=200
update matchIndex[2]=199
update leader CommitIndex=198
leader log:
[{snapshot 29 189} {1547197929508105969 29 190} {1279559169624493008 29 191} {7104247801503480307 29 192} {121186083021406267 29 193} {5875307569329650748 29 194} {6049181671423084735 29 195} {6601012274070044831 29 196} {5883901676832374118 29 197} {4844700014699102851 29 198} {6731381714984414650 29 199}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
update leader CommitIndex=198
leader log:
[{snapshot 29 189} {1547197929508105969 29 190} {1279559169624493008 29 191} {7104247801503480307 29 192} {121186083021406267 29 193} {5875307569329650748 29 194} {6049181671423084735 29 195} {6601012274070044831 29 196} {5883901676832374118 29 197} {4844700014699102851 29 198} {6731381714984414650 29 199}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79176 term 31 leader 0 nextIndex[1]: 200  matchIndex[1]: 199
term 31 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 198 
------------------------------------------------------
flag 29465 term 31 leader 0 nextIndex[2]: 200  matchIndex[2]: 199
term 31 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 198 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
update leader CommitIndex=198
leader log:
[{snapshot 29 189} {1547197929508105969 29 190} {1279559169624493008 29 191} {7104247801503480307 29 192} {121186083021406267 29 193} {5875307569329650748 29 194} {6049181671423084735 29 195} {6601012274070044831 29 196} {5883901676832374118 29 197} {4844700014699102851 29 198} {6731381714984414650 29 199}]
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=200
update matchIndex[2]=199
update leader CommitIndex=198
leader log:
[{snapshot 29 189} {1547197929508105969 29 190} {1279559169624493008 29 191} {7104247801503480307 29 192} {121186083021406267 29 193} {5875307569329650748 29 194} {6049181671423084735 29 195} {6601012274070044831 29 196} {5883901676832374118 29 197} {4844700014699102851 29 198} {6731381714984414650 29 199}]
------------------------------------------------------
flag 26907 term 31 leader 0 nextIndex[1]: 200  matchIndex[1]: 199
term 31 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 198 
------------------------------------------------------
flag 10518 term 31 leader 0 nextIndex[2]: 200  matchIndex[2]: 199
term 31 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 198 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=200
update matchIndex[2]=199
update leader CommitIndex=198
leader log:
[{snapshot 29 189} {1547197929508105969 29 190} {1279559169624493008 29 191} {7104247801503480307 29 192} {121186083021406267 29 193} {5875307569329650748 29 194} {6049181671423084735 29 195} {6601012274070044831 29 196} {5883901676832374118 29 197} {4844700014699102851 29 198} {6731381714984414650 29 199}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
update leader CommitIndex=198
leader log:
[{snapshot 29 189} {1547197929508105969 29 190} {1279559169624493008 29 191} {7104247801503480307 29 192} {121186083021406267 29 193} {5875307569329650748 29 194} {6049181671423084735 29 195} {6601012274070044831 29 196} {5883901676832374118 29 197} {4844700014699102851 29 198} {6731381714984414650 29 199}]
------------------------------------------------------
flag 10402 term 31 leader 0 nextIndex[1]: 200  matchIndex[1]: 199
term 31 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 198 
------------------------------------------------------
flag 36712 term 31 leader 0 nextIndex[2]: 200  matchIndex[2]: 199
term 31 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 198 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:198 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=200
update matchIndex[2]=199
update leader CommitIndex=198
leader log:
[{snapshot 29 189} {1547197929508105969 29 190} {1279559169624493008 29 191} {7104247801503480307 29 192} {121186083021406267 29 193} {5875307569329650748 29 194} {6049181671423084735 29 195} {6601012274070044831 29 196} {5883901676832374118 29 197} {4844700014699102851 29 198} {6731381714984414650 29 199}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
update leader CommitIndex=198
leader log:
[{snapshot 29 189} {1547197929508105969 29 190} {1279559169624493008 29 191} {7104247801503480307 29 192} {121186083021406267 29 193} {5875307569329650748 29 194} {6049181671423084735 29 195} {6601012274070044831 29 196} {5883901676832374118 29 197} {4844700014699102851 29 198} {6731381714984414650 29 199}]
------------------------------------------------------
flag 29036 term 31 leader 0 nextIndex[1]: 200  matchIndex[1]: 199
term 31 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 198 
------------------------------------------------------
flag 22070 term 31 leader 0 nextIndex[2]: 200  matchIndex[2]: 199
term 31 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 198 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:198 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=200
update matchIndex[2]=199
update leader CommitIndex=198
leader log:
[{snapshot 29 189} {1547197929508105969 29 190} {1279559169624493008 29 191} {7104247801503480307 29 192} {121186083021406267 29 193} {5875307569329650748 29 194} {6049181671423084735 29 195} {6601012274070044831 29 196} {5883901676832374118 29 197} {4844700014699102851 29 198} {6731381714984414650 29 199}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
update leader CommitIndex=198
leader log:
[{snapshot 29 189} {1547197929508105969 29 190} {1279559169624493008 29 191} {7104247801503480307 29 192} {121186083021406267 29 193} {5875307569329650748 29 194} {6049181671423084735 29 195} {6601012274070044831 29 196} {5883901676832374118 29 197} {4844700014699102851 29 198} {6731381714984414650 29 199}]
------------------------------------------------------
flag 97505 term 31 leader 0 nextIndex[1]: 200  matchIndex[1]: 199
term 31 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 198 
------------------------------------------------------
flag 37393 term 31 leader 0 nextIndex[2]: 200  matchIndex[2]: 199
term 31 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 198 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=200
update matchIndex[2]=199
update leader CommitIndex=198
leader log:
[{snapshot 29 189} {1547197929508105969 29 190} {1279559169624493008 29 191} {7104247801503480307 29 192} {121186083021406267 29 193} {5875307569329650748 29 194} {6049181671423084735 29 195} {6601012274070044831 29 196} {5883901676832374118 29 197} {4844700014699102851 29 198} {6731381714984414650 29 199}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
update leader CommitIndex=198
leader log:
[{snapshot 29 189} {1547197929508105969 29 190} {1279559169624493008 29 191} {7104247801503480307 29 192} {121186083021406267 29 193} {5875307569329650748 29 194} {6049181671423084735 29 195} {6601012274070044831 29 196} {5883901676832374118 29 197} {4844700014699102851 29 198} {6731381714984414650 29 199}]
------------------------------------------------------
flag 90934 term 31 leader 0 nextIndex[1]: 200  matchIndex[1]: 199
term 31 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 198 
------------------------------------------------------
flag 94043 term 31 leader 0 nextIndex[2]: 200  matchIndex[2]: 199
term 31 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 198 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:198 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=200
update matchIndex[2]=199
update leader CommitIndex=198
leader log:
[{snapshot 29 189} {1547197929508105969 29 190} {1279559169624493008 29 191} {7104247801503480307 29 192} {121186083021406267 29 193} {5875307569329650748 29 194} {6049181671423084735 29 195} {6601012274070044831 29 196} {5883901676832374118 29 197} {4844700014699102851 29 198} {6731381714984414650 29 199}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
update leader CommitIndex=198
leader log:
[{snapshot 29 189} {1547197929508105969 29 190} {1279559169624493008 29 191} {7104247801503480307 29 192} {121186083021406267 29 193} {5875307569329650748 29 194} {6049181671423084735 29 195} {6601012274070044831 29 196} {5883901676832374118 29 197} {4844700014699102851 29 198} {6731381714984414650 29 199}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 31 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
client write log 6731381714984414650 (index 200) to leader 0
flag 6275 term 31 leader 0 nextIndex[1]: 200  matchIndex[1]: 199
term 31 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 198 
------------------------------------------------------
flag 76560 term 31 leader 0 nextIndex[2]: 200  matchIndex[2]: 199
term 31 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 198 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=200
leader log:
[{snapshot 29 189} {1547197929508105969 29 190} {1279559169624493008 29 191} {7104247801503480307 29 192} {121186083021406267 29 193} {5875307569329650748 29 194} {6049181671423084735 29 195} {6601012274070044831 29 196} {5883901676832374118 29 197} {4844700014699102851 29 198} {6731381714984414650 29 199} {6731381714984414650 31 200}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=200
leader log:
[{snapshot 29 189} {1547197929508105969 29 190} {1279559169624493008 29 191} {7104247801503480307 29 192} {121186083021406267 29 193} {5875307569329650748 29 194} {6049181671423084735 29 195} {6601012274070044831 29 196} {5883901676832374118 29 197} {4844700014699102851 29 198} {6731381714984414650 29 199} {6731381714984414650 31 200}]
------------------------------------------------------
term 31 Server0 start snapshot! index=199
term 31 server0 snapshot success
lastIncludedIndex=199 lastApplied=200 lastIndex=200
-------------------------------------------------------------
flag 48341 term 31 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 31 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 200 
------------------------------------------------------
flag 43653 term 31 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 31 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 200 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=200
leader log:
[{snapshot 29 199} {6731381714984414650 31 200}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=200
leader log:
[{snapshot 29 199} {6731381714984414650 31 200}]
------------------------------------------------------
term 31 Server2 start snapshot! index=199
term 31 server2 snapshot success
lastIncludedIndex=199 lastApplied=200 lastIndex=200
-------------------------------------------------------------
term 31 Server1 start snapshot! index=199
term 31 server1 snapshot success
lastIncludedIndex=199 lastApplied=200 lastIndex=200
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34173 term 31 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 31 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 200 
------------------------------------------------------
flag 90256 term 31 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 31 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 200 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=200
leader log:
[{snapshot 29 199} {6731381714984414650 31 200}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=200
leader log:
[{snapshot 29 199} {6731381714984414650 31 200}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93919 term 31 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 31 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 200 
------------------------------------------------------
flag 58090 term 31 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 31 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 200 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=200
leader log:
[{snapshot 29 199} {6731381714984414650 31 200}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=200
leader log:
[{snapshot 29 199} {6731381714984414650 31 200}]
------------------------------------------------------
flag 81959 term 31 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 31 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 200 
------------------------------------------------------
flag 25566 term 31 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 31 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 200 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=200
leader log:
[{snapshot 29 199} {6731381714984414650 31 200}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=200
leader log:
[{snapshot 29 199} {6731381714984414650 31 200}]
------------------------------------------------------
flag 45778 term 31 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 31 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 200 
------------------------------------------------------
flag 90649 term 31 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 31 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 200 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=200
leader log:
[{snapshot 29 199} {6731381714984414650 31 200}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=200
leader log:
[{snapshot 29 199} {6731381714984414650 31 200}]
------------------------------------------------------
flag 37233 term 31 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 31 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 200 
------------------------------------------------------
flag 36154 term 31 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 31 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 200 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=200
leader log:
[{snapshot 29 199} {6731381714984414650 31 200}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=200
leader log:
[{snapshot 29 199} {6731381714984414650 31 200}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 4632167917580594535 (index 201) to leader 0
flag 88059 term 31 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 31 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 200 
------------------------------------------------------
flag 92729 term 31 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 31 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 200 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=201
leader log:
[{snapshot 29 199} {6731381714984414650 31 200} {4632167917580594535 31 201}]
------------------------------------------------------
flag 66079 term 31 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 31 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 201 
------------------------------------------------------
flag 8773 term 31 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 31 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 31 leaderCommit: 201 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=201
leader log:
[{snapshot 29 199} {6731381714984414650 31 200} {4632167917580594535 31 201}]
------------------------------------------------------
client write log 6073783161405805588 (index 202) to leader 0
client write log 9107063042830292481 (index 203) to leader 0
client write log 5964224722532616075 (index 204) to leader 0
client write log 3792937527307366451 (index 205) to leader 0
client write log 1823784226017646516 (index 206) to leader 0
client write log 393001893803550718 (index 207) to leader 0
client write log 4806526357249535905 (index 208) to leader 0
client write log 876913714088575498 (index 209) to leader 0
client write log 3794382264205411113 (index 210) to leader 0
client write log 7145154440938645388 (index 211) to leader 0
client write log 7633916140803356078 (index 212) to leader 0
client write log 8194641770137870571 (index 213) to leader 0
client write log 6833725347706959918 (index 214) to leader 0
flag 6948 term 31 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 31 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 31 leaderCommit: 201 
------------------------------------------------------
flag 40828 term 31 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 31 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 31 leaderCommit: 201 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=214
leader log:
[{snapshot 29 199} {6731381714984414650 31 200} {4632167917580594535 31 201} {6073783161405805588 31 202} {9107063042830292481 31 203} {5964224722532616075 31 204} {3792937527307366451 31 205} {1823784226017646516 31 206} {393001893803550718 31 207} {4806526357249535905 31 208} {876913714088575498 31 209} {3794382264205411113 31 210} {7145154440938645388 31 211} {7633916140803356078 31 212} {8194641770137870571 31 213} {6833725347706959918 31 214}]
------------------------------------------------------
term 31 Server0 start snapshot! index=209
term 31 server0 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=214
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 31 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 31 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 31
------------------------------------------------------
flag 32223 term 31 leader 0 nextIndex[2]: 215  matchIndex[2]: 214
term 31 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 31 leaderCommit: 214 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=214
leader log:
[{snapshot 31 209} {3794382264205411113 31 210} {7145154440938645388 31 211} {7633916140803356078 31 212} {8194641770137870571 31 213} {6833725347706959918 31 214}]
------------------------------------------------------
term 31 Server2 start snapshot! index=209
term 31 server2 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=214
-------------------------------------------------------------
!!!!!!connect server 1
client write log 6368341144984974801 (index 215) to leader 0
term 31 server 2 not vote for server 1, 日志不够新
term 31 server 0 not vote for server 1, 日志不够新
term 33 server 2 vote for server 0
term 33 server 0 get vote from server 2
term 33 server 0 become leader
------------------------------------------------------
term 33 server 1 vote for server 0
term 33 server 0 get outdate rpc reply from server 1
flag 97416 term 33 leader 0 nextIndex[1]: 216  matchIndex[1]: 0
term 33 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 31 leaderCommit: 214 
------------------------------------------------------
flag 81336 term 33 leader 0 nextIndex[2]: 216  matchIndex[2]: 0
term 33 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 31 leaderCommit: 214 
------------------------------------------------------
term 33 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 216->215
------------------------------------------------------
term 33 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 216->215
------------------------------------------------------
term 33 leader 0 nextIndex[1]: 201  matchIndex[1]: 0
term 33 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 31
------------------------------------------------------
flag 1928 term 33 leader 0 nextIndex[2]: 215  matchIndex[2]: 0
term 33 leader 0 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 31 leaderCommit: 214 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
[{snapshot 31 209} {3794382264205411113 31 210} {7145154440938645388 31 211} {7633916140803356078 31 212} {8194641770137870571 31 213} {6833725347706959918 31 214} {6368341144984974801 31 215}]
------------------------------------------------------
term 33 server 1 InstallSnapshot success
------------------------------------------------------
term 33 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 210 matchIndex[1] 209 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 209 rf.lastIncludedTerm 31 rf.commitIndex 209 rf.lastApplied 209
flag 94489 term 33 leader 0 nextIndex[1]: 210  matchIndex[1]: 209
term 33 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 31 leaderCommit: 214 
------------------------------------------------------
flag 25747 term 33 leader 0 nextIndex[2]: 216  matchIndex[2]: 215
term 33 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 31 leaderCommit: 214 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
[{snapshot 31 209} {3794382264205411113 31 210} {7145154440938645388 31 211} {7633916140803356078 31 212} {8194641770137870571 31 213} {6833725347706959918 31 214} {6368341144984974801 31 215}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=214
leader log:
[{snapshot 31 209} {3794382264205411113 31 210} {7145154440938645388 31 211} {7633916140803356078 31 212} {8194641770137870571 31 213} {6833725347706959918 31 214} {6368341144984974801 31 215}]
------------------------------------------------------
flag 84063 term 33 leader 0 nextIndex[1]: 216  matchIndex[1]: 215
term 33 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 31 leaderCommit: 214 
------------------------------------------------------
flag 61812 term 33 leader 0 nextIndex[2]: 216  matchIndex[2]: 215
term 33 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 31 leaderCommit: 214 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
[{snapshot 31 209} {3794382264205411113 31 210} {7145154440938645388 31 211} {7633916140803356078 31 212} {8194641770137870571 31 213} {6833725347706959918 31 214} {6368341144984974801 31 215}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=214
leader log:
[{snapshot 31 209} {3794382264205411113 31 210} {7145154440938645388 31 211} {7633916140803356078 31 212} {8194641770137870571 31 213} {6833725347706959918 31 214} {6368341144984974801 31 215}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13600 term 33 leader 0 nextIndex[1]: 216  matchIndex[1]: 215
term 33 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 31 leaderCommit: 214 
------------------------------------------------------
flag 6175 term 33 leader 0 nextIndex[2]: 216  matchIndex[2]: 215
term 33 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 31 leaderCommit: 214 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
[{snapshot 31 209} {3794382264205411113 31 210} {7145154440938645388 31 211} {7633916140803356078 31 212} {8194641770137870571 31 213} {6833725347706959918 31 214} {6368341144984974801 31 215}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=214
leader log:
[{snapshot 31 209} {3794382264205411113 31 210} {7145154440938645388 31 211} {7633916140803356078 31 212} {8194641770137870571 31 213} {6833725347706959918 31 214} {6368341144984974801 31 215}]
------------------------------------------------------
flag 32961 term 33 leader 0 nextIndex[1]: 216  matchIndex[1]: 215
term 33 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 31 leaderCommit: 214 
------------------------------------------------------
flag 59841 term 33 leader 0 nextIndex[2]: 216  matchIndex[2]: 215
term 33 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 31 leaderCommit: 214 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
[{snapshot 31 209} {3794382264205411113 31 210} {7145154440938645388 31 211} {7633916140803356078 31 212} {8194641770137870571 31 213} {6833725347706959918 31 214} {6368341144984974801 31 215}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=214
leader log:
[{snapshot 31 209} {3794382264205411113 31 210} {7145154440938645388 31 211} {7633916140803356078 31 212} {8194641770137870571 31 213} {6833725347706959918 31 214} {6368341144984974801 31 215}]
------------------------------------------------------
flag 81479 term 33 leader 0 nextIndex[1]: 216  matchIndex[1]: 215
term 33 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 31 leaderCommit: 214 
------------------------------------------------------
flag 45406 term 33 leader 0 nextIndex[2]: 216  matchIndex[2]: 215
term 33 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 31 leaderCommit: 214 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=214
leader log:
[{snapshot 31 209} {3794382264205411113 31 210} {7145154440938645388 31 211} {7633916140803356078 31 212} {8194641770137870571 31 213} {6833725347706959918 31 214} {6368341144984974801 31 215}]
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
[{snapshot 31 209} {3794382264205411113 31 210} {7145154440938645388 31 211} {7633916140803356078 31 212} {8194641770137870571 31 213} {6833725347706959918 31 214} {6368341144984974801 31 215}]
------------------------------------------------------
flag 85890 term 33 leader 0 nextIndex[1]: 216  matchIndex[1]: 215
term 33 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 31 leaderCommit: 214 
------------------------------------------------------
flag 52626 term 33 leader 0 nextIndex[2]: 216  matchIndex[2]: 215
term 33 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 31 leaderCommit: 214 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
[{snapshot 31 209} {3794382264205411113 31 210} {7145154440938645388 31 211} {7633916140803356078 31 212} {8194641770137870571 31 213} {6833725347706959918 31 214} {6368341144984974801 31 215}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=214
leader log:
[{snapshot 31 209} {3794382264205411113 31 210} {7145154440938645388 31 211} {7633916140803356078 31 212} {8194641770137870571 31 213} {6833725347706959918 31 214} {6368341144984974801 31 215}]
------------------------------------------------------
flag 99666 term 33 leader 0 nextIndex[1]: 216  matchIndex[1]: 215
term 33 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 31 leaderCommit: 214 
------------------------------------------------------
flag 89551 term 33 leader 0 nextIndex[2]: 216  matchIndex[2]: 215
term 33 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 31 leaderCommit: 214 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
[{snapshot 31 209} {3794382264205411113 31 210} {7145154440938645388 31 211} {7633916140803356078 31 212} {8194641770137870571 31 213} {6833725347706959918 31 214} {6368341144984974801 31 215}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=214
leader log:
[{snapshot 31 209} {3794382264205411113 31 210} {7145154440938645388 31 211} {7633916140803356078 31 212} {8194641770137870571 31 213} {6833725347706959918 31 214} {6368341144984974801 31 215}]
------------------------------------------------------
flag 22299 term 33 leader 0 nextIndex[1]: 216  matchIndex[1]: 215
term 33 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 31 leaderCommit: 214 
------------------------------------------------------
flag 3556 term 33 leader 0 nextIndex[2]: 216  matchIndex[2]: 215
term 33 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 31 leaderCommit: 214 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
[{snapshot 31 209} {3794382264205411113 31 210} {7145154440938645388 31 211} {7633916140803356078 31 212} {8194641770137870571 31 213} {6833725347706959918 31 214} {6368341144984974801 31 215}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=214
leader log:
[{snapshot 31 209} {3794382264205411113 31 210} {7145154440938645388 31 211} {7633916140803356078 31 212} {8194641770137870571 31 213} {6833725347706959918 31 214} {6368341144984974801 31 215}]
------------------------------------------------------
flag 57039 term 33 leader 0 nextIndex[1]: 216  matchIndex[1]: 215
term 33 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 31 leaderCommit: 214 
------------------------------------------------------
flag 77630 term 33 leader 0 nextIndex[2]: 216  matchIndex[2]: 215
term 33 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 31 leaderCommit: 214 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
[{snapshot 31 209} {3794382264205411113 31 210} {7145154440938645388 31 211} {7633916140803356078 31 212} {8194641770137870571 31 213} {6833725347706959918 31 214} {6368341144984974801 31 215}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=214
leader log:
[{snapshot 31 209} {3794382264205411113 31 210} {7145154440938645388 31 211} {7633916140803356078 31 212} {8194641770137870571 31 213} {6833725347706959918 31 214} {6368341144984974801 31 215}]
------------------------------------------------------
flag 39443 term 33 leader 0 nextIndex[1]: 216  matchIndex[1]: 215
term 33 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 31 leaderCommit: 214 
------------------------------------------------------
flag 53874 term 33 leader 0 nextIndex[2]: 216  matchIndex[2]: 215
term 33 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 31 leaderCommit: 214 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
term 33 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
[{snapshot 31 209} {3794382264205411113 31 210} {7145154440938645388 31 211} {7633916140803356078 31 212} {8194641770137870571 31 213} {6833725347706959918 31 214} {6368341144984974801 31 215}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=214
leader log:
[{snapshot 31 209} {3794382264205411113 31 210} {7145154440938645388 31 211} {7633916140803356078 31 212} {8194641770137870571 31 213} {6833725347706959918 31 214} {6368341144984974801 31 215}]
------------------------------------------------------
flag 67355 term 33 leader 0 nextIndex[1]: 216  matchIndex[1]: 215
term 33 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 31 leaderCommit: 214 
------------------------------------------------------
flag 62820 term 33 leader 0 nextIndex[2]: 216  matchIndex[2]: 215
term 33 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 31 leaderCommit: 214 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
[{snapshot 31 209} {3794382264205411113 31 210} {7145154440938645388 31 211} {7633916140803356078 31 212} {8194641770137870571 31 213} {6833725347706959918 31 214} {6368341144984974801 31 215}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=214
leader log:
[{snapshot 31 209} {3794382264205411113 31 210} {7145154440938645388 31 211} {7633916140803356078 31 212} {8194641770137870571 31 213} {6833725347706959918 31 214} {6368341144984974801 31 215}]
------------------------------------------------------
flag 75270 term 33 leader 0 nextIndex[1]: 216  matchIndex[1]: 215
term 33 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 31 leaderCommit: 214 
------------------------------------------------------
flag 15684 term 33 leader 0 nextIndex[2]: 216  matchIndex[2]: 215
term 33 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 31 leaderCommit: 214 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
[{snapshot 31 209} {3794382264205411113 31 210} {7145154440938645388 31 211} {7633916140803356078 31 212} {8194641770137870571 31 213} {6833725347706959918 31 214} {6368341144984974801 31 215}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=214
leader log:
[{snapshot 31 209} {3794382264205411113 31 210} {7145154440938645388 31 211} {7633916140803356078 31 212} {8194641770137870571 31 213} {6833725347706959918 31 214} {6368341144984974801 31 215}]
------------------------------------------------------
flag 34622 term 33 leader 0 nextIndex[1]: 216  matchIndex[1]: 215
term 33 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 31 leaderCommit: 214 
------------------------------------------------------
flag 52205 term 33 leader 0 nextIndex[2]: 216  matchIndex[2]: 215
term 33 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 31 leaderCommit: 214 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
[{snapshot 31 209} {3794382264205411113 31 210} {7145154440938645388 31 211} {7633916140803356078 31 212} {8194641770137870571 31 213} {6833725347706959918 31 214} {6368341144984974801 31 215}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=214
leader log:
[{snapshot 31 209} {3794382264205411113 31 210} {7145154440938645388 31 211} {7633916140803356078 31 212} {8194641770137870571 31 213} {6833725347706959918 31 214} {6368341144984974801 31 215}]
------------------------------------------------------
flag 18815 term 33 leader 0 nextIndex[1]: 216  matchIndex[1]: 215
term 33 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 31 leaderCommit: 214 
------------------------------------------------------
flag 99349 term 33 leader 0 nextIndex[2]: 216  matchIndex[2]: 215
term 33 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 31 leaderCommit: 214 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=214
leader log:
[{snapshot 31 209} {3794382264205411113 31 210} {7145154440938645388 31 211} {7633916140803356078 31 212} {8194641770137870571 31 213} {6833725347706959918 31 214} {6368341144984974801 31 215}]
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
[{snapshot 31 209} {3794382264205411113 31 210} {7145154440938645388 31 211} {7633916140803356078 31 212} {8194641770137870571 31 213} {6833725347706959918 31 214} {6368341144984974801 31 215}]
------------------------------------------------------
flag 32199 term 33 leader 0 nextIndex[1]: 216  matchIndex[1]: 215
term 33 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 31 leaderCommit: 214 
------------------------------------------------------
flag 78942 term 33 leader 0 nextIndex[2]: 216  matchIndex[2]: 215
term 33 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 31 leaderCommit: 214 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
[{snapshot 31 209} {3794382264205411113 31 210} {7145154440938645388 31 211} {7633916140803356078 31 212} {8194641770137870571 31 213} {6833725347706959918 31 214} {6368341144984974801 31 215}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=214
leader log:
[{snapshot 31 209} {3794382264205411113 31 210} {7145154440938645388 31 211} {7633916140803356078 31 212} {8194641770137870571 31 213} {6833725347706959918 31 214} {6368341144984974801 31 215}]
------------------------------------------------------
flag 54489 term 33 leader 0 nextIndex[1]: 216  matchIndex[1]: 215
term 33 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 31 leaderCommit: 214 
------------------------------------------------------
flag 99630 term 33 leader 0 nextIndex[2]: 216  matchIndex[2]: 215
term 33 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 31 leaderCommit: 214 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=214
leader log:
[{snapshot 31 209} {3794382264205411113 31 210} {7145154440938645388 31 211} {7633916140803356078 31 212} {8194641770137870571 31 213} {6833725347706959918 31 214} {6368341144984974801 31 215}]
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
[{snapshot 31 209} {3794382264205411113 31 210} {7145154440938645388 31 211} {7633916140803356078 31 212} {8194641770137870571 31 213} {6833725347706959918 31 214} {6368341144984974801 31 215}]
------------------------------------------------------
flag 88282 term 33 leader 0 nextIndex[1]: 216  matchIndex[1]: 215
term 33 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 31 leaderCommit: 214 
------------------------------------------------------
flag 51478 term 33 leader 0 nextIndex[2]: 216  matchIndex[2]: 215
term 33 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 31 leaderCommit: 214 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=214
leader log:
[{snapshot 31 209} {3794382264205411113 31 210} {7145154440938645388 31 211} {7633916140803356078 31 212} {8194641770137870571 31 213} {6833725347706959918 31 214} {6368341144984974801 31 215}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=214
leader log:
[{snapshot 31 209} {3794382264205411113 31 210} {7145154440938645388 31 211} {7633916140803356078 31 212} {8194641770137870571 31 213} {6833725347706959918 31 214} {6368341144984974801 31 215}]
------------------------------------------------------
client write log 6368341144984974801 (index 216) to leader 0
flag 33826 term 33 leader 0 nextIndex[1]: 216  matchIndex[1]: 215
term 33 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 31 leaderCommit: 214 
------------------------------------------------------
flag 26120 term 33 leader 0 nextIndex[2]: 216  matchIndex[2]: 215
term 33 leader 0 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 31 leaderCommit: 214 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=216
leader log:
[{snapshot 31 209} {3794382264205411113 31 210} {7145154440938645388 31 211} {7633916140803356078 31 212} {8194641770137870571 31 213} {6833725347706959918 31 214} {6368341144984974801 31 215} {6368341144984974801 33 216}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=216
leader log:
[{snapshot 31 209} {3794382264205411113 31 210} {7145154440938645388 31 211} {7633916140803356078 31 212} {8194641770137870571 31 213} {6833725347706959918 31 214} {6368341144984974801 31 215} {6368341144984974801 33 216}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84897 term 33 leader 0 nextIndex[1]: 217  matchIndex[1]: 216
term 33 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
flag 6923 term 33 leader 0 nextIndex[2]: 217  matchIndex[2]: 216
term 33 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:216 
term 33 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=216
leader log:
[{snapshot 31 209} {3794382264205411113 31 210} {7145154440938645388 31 211} {7633916140803356078 31 212} {8194641770137870571 31 213} {6833725347706959918 31 214} {6368341144984974801 31 215} {6368341144984974801 33 216}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=216
leader log:
[{snapshot 31 209} {3794382264205411113 31 210} {7145154440938645388 31 211} {7633916140803356078 31 212} {8194641770137870571 31 213} {6833725347706959918 31 214} {6368341144984974801 31 215} {6368341144984974801 33 216}]
------------------------------------------------------
flag 13079 term 33 leader 0 nextIndex[1]: 217  matchIndex[1]: 216
term 33 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
flag 31274 term 33 leader 0 nextIndex[2]: 217  matchIndex[2]: 216
term 33 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=216
leader log:
[{snapshot 31 209} {3794382264205411113 31 210} {7145154440938645388 31 211} {7633916140803356078 31 212} {8194641770137870571 31 213} {6833725347706959918 31 214} {6368341144984974801 31 215} {6368341144984974801 33 216}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=216
leader log:
[{snapshot 31 209} {3794382264205411113 31 210} {7145154440938645388 31 211} {7633916140803356078 31 212} {8194641770137870571 31 213} {6833725347706959918 31 214} {6368341144984974801 31 215} {6368341144984974801 33 216}]
------------------------------------------------------
flag 96658 term 33 leader 0 nextIndex[1]: 217  matchIndex[1]: 216
term 33 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
flag 65028 term 33 leader 0 nextIndex[2]: 217  matchIndex[2]: 216
term 33 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=216
leader log:
[{snapshot 31 209} {3794382264205411113 31 210} {7145154440938645388 31 211} {7633916140803356078 31 212} {8194641770137870571 31 213} {6833725347706959918 31 214} {6368341144984974801 31 215} {6368341144984974801 33 216}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=216
leader log:
[{snapshot 31 209} {3794382264205411113 31 210} {7145154440938645388 31 211} {7633916140803356078 31 212} {8194641770137870571 31 213} {6833725347706959918 31 214} {6368341144984974801 31 215} {6368341144984974801 33 216}]
------------------------------------------------------
flag 63759 term 33 leader 0 nextIndex[1]: 217  matchIndex[1]: 216
term 33 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
flag 7502 term 33 leader 0 nextIndex[2]: 217  matchIndex[2]: 216
term 33 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=216
leader log:
[{snapshot 31 209} {3794382264205411113 31 210} {7145154440938645388 31 211} {7633916140803356078 31 212} {8194641770137870571 31 213} {6833725347706959918 31 214} {6368341144984974801 31 215} {6368341144984974801 33 216}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=216
leader log:
[{snapshot 31 209} {3794382264205411113 31 210} {7145154440938645388 31 211} {7633916140803356078 31 212} {8194641770137870571 31 213} {6833725347706959918 31 214} {6368341144984974801 31 215} {6368341144984974801 33 216}]
------------------------------------------------------
flag 77305 term 33 leader 0 nextIndex[1]: 217  matchIndex[1]: 216
term 33 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
flag 939 term 33 leader 0 nextIndex[2]: 217  matchIndex[2]: 216
term 33 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=216
leader log:
[{snapshot 31 209} {3794382264205411113 31 210} {7145154440938645388 31 211} {7633916140803356078 31 212} {8194641770137870571 31 213} {6833725347706959918 31 214} {6368341144984974801 31 215} {6368341144984974801 33 216}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=216
leader log:
[{snapshot 31 209} {3794382264205411113 31 210} {7145154440938645388 31 211} {7633916140803356078 31 212} {8194641770137870571 31 213} {6833725347706959918 31 214} {6368341144984974801 31 215} {6368341144984974801 33 216}]
------------------------------------------------------
flag 67647 term 33 leader 0 nextIndex[1]: 217  matchIndex[1]: 216
term 33 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
flag 50114 term 33 leader 0 nextIndex[2]: 217  matchIndex[2]: 216
term 33 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=216
leader log:
[{snapshot 31 209} {3794382264205411113 31 210} {7145154440938645388 31 211} {7633916140803356078 31 212} {8194641770137870571 31 213} {6833725347706959918 31 214} {6368341144984974801 31 215} {6368341144984974801 33 216}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=216
leader log:
[{snapshot 31 209} {3794382264205411113 31 210} {7145154440938645388 31 211} {7633916140803356078 31 212} {8194641770137870571 31 213} {6833725347706959918 31 214} {6368341144984974801 31 215} {6368341144984974801 33 216}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 98310 term 33 leader 0 nextIndex[1]: 217  matchIndex[1]: 216
term 33 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
flag 9062 term 33 leader 0 nextIndex[2]: 217  matchIndex[2]: 216
term 33 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
flag 12646 term 33 leader 0 nextIndex[1]: 217  matchIndex[1]: 216
term 33 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
flag 82411 term 33 leader 0 nextIndex[2]: 217  matchIndex[2]: 216
term 33 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
flag 74501 term 33 leader 0 nextIndex[1]: 217  matchIndex[1]: 216
term 33 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
flag 69606 term 33 leader 0 nextIndex[2]: 217  matchIndex[2]: 216
term 33 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
term 34 server 2 vote for server 1
term 34 server 1 get vote from server 2
term 34 server 1 become leader
------------------------------------------------------
flag 98208 term 34 leader 1 nextIndex[0]: 217  matchIndex[0]: 0
term 34 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
flag 16085 term 34 leader 1 nextIndex[2]: 217  matchIndex[2]: 0
term 34 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=216
leader log:
[{snapshot 31 209} {3794382264205411113 31 210} {7145154440938645388 31 211} {7633916140803356078 31 212} {8194641770137870571 31 213} {6833725347706959918 31 214} {6368341144984974801 31 215} {6368341144984974801 33 216}]
------------------------------------------------------
client write log 4937788503298029429 (index 217) to leader 1
flag 19614 term 33 leader 0 nextIndex[1]: 217  matchIndex[1]: 216
term 33 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
flag 47071 term 33 leader 0 nextIndex[2]: 217  matchIndex[2]: 216
term 33 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
flag 847 term 34 leader 1 nextIndex[0]: 217  matchIndex[0]: 0
term 34 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
flag 31742 term 34 leader 1 nextIndex[2]: 217  matchIndex[2]: 216
term 34 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=217
leader log:
[{snapshot 31 209} {3794382264205411113 31 210} {7145154440938645388 31 211} {7633916140803356078 31 212} {8194641770137870571 31 213} {6833725347706959918 31 214} {6368341144984974801 31 215} {6368341144984974801 33 216} {4937788503298029429 34 217}]
------------------------------------------------------
flag 1368 term 33 leader 0 nextIndex[1]: 217  matchIndex[1]: 216
term 33 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
flag 7494 term 33 leader 0 nextIndex[2]: 217  matchIndex[2]: 216
term 33 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
flag 39837 term 34 leader 1 nextIndex[0]: 217  matchIndex[0]: 0
term 34 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 33 leaderCommit: 217 
------------------------------------------------------
flag 42803 term 34 leader 1 nextIndex[2]: 218  matchIndex[2]: 217
term 34 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 34 leaderCommit: 217 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=217
leader log:
[{snapshot 31 209} {3794382264205411113 31 210} {7145154440938645388 31 211} {7633916140803356078 31 212} {8194641770137870571 31 213} {6833725347706959918 31 214} {6368341144984974801 31 215} {6368341144984974801 33 216} {4937788503298029429 34 217}]
------------------------------------------------------
client write log 5930099794878925712 (index 218) to leader 1
client write log 6236781025640620317 (index 219) to leader 1
client write log 8609099168252340703 (index 220) to leader 1
client write log 3958359889172306973 (index 221) to leader 1
client write log 1471106938933083742 (index 222) to leader 1
client write log 5179272674517106287 (index 223) to leader 1
client write log 1673320940141719308 (index 224) to leader 1
client write log 8475371394089574584 (index 225) to leader 1
client write log 7664996030627426073 (index 226) to leader 1
client write log 2951157939301970851 (index 227) to leader 1
client write log 4908218844116239312 (index 228) to leader 1
client write log 309733341094550500 (index 229) to leader 1
client write log 2530762644897408890 (index 230) to leader 1
client write log 3623714458659131120 (index 231) to leader 1
client write log 8252648368177249504 (index 232) to leader 1
flag 26566 term 33 leader 0 nextIndex[1]: 217  matchIndex[1]: 216
term 33 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
flag 94789 term 33 leader 0 nextIndex[2]: 217  matchIndex[2]: 216
term 33 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 217->216
------------------------------------------------------
flag 59977 term 34 leader 1 nextIndex[0]: 217  matchIndex[0]: 0
term 34 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 33 leaderCommit: 217 
------------------------------------------------------
flag 45675 term 34 leader 1 nextIndex[2]: 218  matchIndex[2]: 217
term 34 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 34 leaderCommit: 217 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=233
update matchIndex[2]=232
update leader CommitIndex=232
leader log:
[{snapshot 31 209} {3794382264205411113 31 210} {7145154440938645388 31 211} {7633916140803356078 31 212} {8194641770137870571 31 213} {6833725347706959918 31 214} {6368341144984974801 31 215} {6368341144984974801 33 216} {4937788503298029429 34 217} {5930099794878925712 34 218} {6236781025640620317 34 219} {8609099168252340703 34 220} {3958359889172306973 34 221} {1471106938933083742 34 222} {5179272674517106287 34 223} {1673320940141719308 34 224} {8475371394089574584 34 225} {7664996030627426073 34 226} {2951157939301970851 34 227} {4908218844116239312 34 228} {309733341094550500 34 229} {2530762644897408890 34 230} {3623714458659131120 34 231} {8252648368177249504 34 232}]
------------------------------------------------------
term 34 Server1 start snapshot! index=219
term 34 server1 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=232
-------------------------------------------------------------
term 34 Server1 start snapshot! index=229
term 34 server1 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=232
-------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 217->216
------------------------------------------------------
term 33 leader 0 nextIndex[1]: 0  matchIndex[1]: 216
term 33 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 31
------------------------------------------------------
flag 61933 term 33 leader 0 nextIndex[2]: 217  matchIndex[2]: 216
term 33 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 217->216
------------------------------------------------------
term 34 leader 1 nextIndex[0]: 0  matchIndex[0]: 0
term 34 leader 1 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 34
------------------------------------------------------
flag 20849 term 34 leader 1 nextIndex[2]: 233  matchIndex[2]: 232
term 34 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 34 leaderCommit: 232 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=233
update matchIndex[2]=232
update leader CommitIndex=232
leader log:
[{snapshot 34 229} {2530762644897408890 34 230} {3623714458659131120 34 231} {8252648368177249504 34 232}]
------------------------------------------------------
term 34 Server2 start snapshot! index=219
term 34 server2 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=232
-------------------------------------------------------------
term 34 Server2 start snapshot! index=229
term 34 server2 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=232
-------------------------------------------------------------
!!!!!!connect server 0
client write log 7602055153016877985 (index 233) to leader 1
term 33 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 33 leader 0 nextIndex[1]: 0  matchIndex[1]: 216
term 33 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 31
------------------------------------------------------
term 33 leader 0 nextIndex[2]: 0  matchIndex[2]: 216
term 33 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 31
------------------------------------------------------
term 34 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 33 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 34 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 34 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 34 leader 1 nextIndex[0]: 0  matchIndex[0]: 0
term 34 leader 1 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 34
------------------------------------------------------
flag 96980 term 34 leader 1 nextIndex[2]: 233  matchIndex[2]: 232
term 34 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 34 leaderCommit: 232 
------------------------------------------------------
term 34 server 0 InstallSnapshot success
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:232 
------------------------------------------------------
term 34 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 230 matchIndex[0] 229 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=233
leader log:
[{snapshot 34 229} {2530762644897408890 34 230} {3623714458659131120 34 231} {8252648368177249504 34 232} {7602055153016877985 34 233}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 229 rf.lastIncludedTerm 34 rf.commitIndex 229 rf.lastApplied 229
term 34 server 2 not vote for server 0, 日志不够新
term 34 server 1 not vote for server 0, 日志不够新
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 36 server 2 vote for server 1
term 36 server 1 get vote from server 2
term 36 server 1 become leader
------------------------------------------------------
term 36 server 0 vote for server 1
term 36 server 1 get outdate rpc reply from server 0
flag 41880 term 36 leader 1 nextIndex[0]: 234  matchIndex[0]: 0
term 36 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 233 
------------------------------------------------------
flag 95021 term 36 leader 1 nextIndex[2]: 234  matchIndex[2]: 0
term 36 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 233 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=233
leader log:
term 36 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
[{snapshot 34 229} {2530762644897408890 34 230} {3623714458659131120 34 231} {8252648368177249504 34 232} {7602055153016877985 34 233}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 234->233
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13018 term 36 leader 1 nextIndex[0]: 230  matchIndex[0]: 0
term 36 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 34 leaderCommit: 233 
------------------------------------------------------
flag 96231 term 36 leader 1 nextIndex[2]: 234  matchIndex[2]: 233
term 36 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 233 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:233 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=233
leader log:
[{snapshot 34 229} {2530762644897408890 34 230} {3623714458659131120 34 231} {8252648368177249504 34 232} {7602055153016877985 34 233}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=233
leader log:
[{snapshot 34 229} {2530762644897408890 34 230} {3623714458659131120 34 231} {8252648368177249504 34 232} {7602055153016877985 34 233}]
------------------------------------------------------
flag 38827 term 36 leader 1 nextIndex[0]: 234  matchIndex[0]: 233
term 36 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 233 
------------------------------------------------------
flag 25470 term 36 leader 1 nextIndex[2]: 234  matchIndex[2]: 233
term 36 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 233 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=233
leader log:
[{snapshot 34 229} {2530762644897408890 34 230} {3623714458659131120 34 231} {8252648368177249504 34 232} {7602055153016877985 34 233}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=233
leader log:
[{snapshot 34 229} {2530762644897408890 34 230} {3623714458659131120 34 231} {8252648368177249504 34 232} {7602055153016877985 34 233}]
------------------------------------------------------
flag 12545 term 36 leader 1 nextIndex[0]: 234  matchIndex[0]: 233
term 36 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 233 
------------------------------------------------------
flag 45350 term 36 leader 1 nextIndex[2]: 234  matchIndex[2]: 233
term 36 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 233 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:233 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=233
leader log:
[{snapshot 34 229} {2530762644897408890 34 230} {3623714458659131120 34 231} {8252648368177249504 34 232} {7602055153016877985 34 233}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=233
leader log:
[{snapshot 34 229} {2530762644897408890 34 230} {3623714458659131120 34 231} {8252648368177249504 34 232} {7602055153016877985 34 233}]
------------------------------------------------------
flag 14741 term 36 leader 1 nextIndex[0]: 234  matchIndex[0]: 233
term 36 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 233 
------------------------------------------------------
flag 40687 term 36 leader 1 nextIndex[2]: 234  matchIndex[2]: 233
term 36 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 233 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:233 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=233
leader log:
[{snapshot 34 229} {2530762644897408890 34 230} {3623714458659131120 34 231} {8252648368177249504 34 232} {7602055153016877985 34 233}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=233
leader log:
[{snapshot 34 229} {2530762644897408890 34 230} {3623714458659131120 34 231} {8252648368177249504 34 232} {7602055153016877985 34 233}]
------------------------------------------------------
flag 79930 term 36 leader 1 nextIndex[0]: 234  matchIndex[0]: 233
term 36 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 233 
------------------------------------------------------
flag 29152 term 36 leader 1 nextIndex[2]: 234  matchIndex[2]: 233
term 36 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 233 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=233
leader log:
[{snapshot 34 229} {2530762644897408890 34 230} {3623714458659131120 34 231} {8252648368177249504 34 232} {7602055153016877985 34 233}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=233
leader log:
[{snapshot 34 229} {2530762644897408890 34 230} {3623714458659131120 34 231} {8252648368177249504 34 232} {7602055153016877985 34 233}]
------------------------------------------------------
flag 79405 term 36 leader 1 nextIndex[0]: 234  matchIndex[0]: 233
term 36 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 233 
------------------------------------------------------
flag 83582 term 36 leader 1 nextIndex[2]: 234  matchIndex[2]: 233
term 36 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 233 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=233
leader log:
[{snapshot 34 229} {2530762644897408890 34 230} {3623714458659131120 34 231} {8252648368177249504 34 232} {7602055153016877985 34 233}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=233
leader log:
[{snapshot 34 229} {2530762644897408890 34 230} {3623714458659131120 34 231} {8252648368177249504 34 232} {7602055153016877985 34 233}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 2
client write log 4665496421263472178 (index 234) to leader 1
flag 21533 term 36 leader 1 nextIndex[0]: 234  matchIndex[0]: 233
term 36 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 233 
------------------------------------------------------
flag 15024 term 36 leader 1 nextIndex[2]: 234  matchIndex[2]: 233
term 36 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 233 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {2530762644897408890 34 230} {3623714458659131120 34 231} {8252648368177249504 34 232} {7602055153016877985 34 233} {4665496421263472178 36 234}]
------------------------------------------------------
flag 44512 term 36 leader 1 nextIndex[0]: 235  matchIndex[0]: 234
term 36 leader 1 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 234 
------------------------------------------------------
flag 761 term 36 leader 1 nextIndex[2]: 234  matchIndex[2]: 233
term 36 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 234 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {2530762644897408890 34 230} {3623714458659131120 34 231} {8252648368177249504 34 232} {7602055153016877985 34 233} {4665496421263472178 36 234}]
------------------------------------------------------
client write log 1487317470531261728 (index 235) to leader 1
client write log 8003849459516572206 (index 236) to leader 1
client write log 5472659685032726730 (index 237) to leader 1
client write log 8259008609783107732 (index 238) to leader 1
client write log 5296682670404062883 (index 239) to leader 1
client write log 4323133194505092063 (index 240) to leader 1
client write log 3436194573477917408 (index 241) to leader 1
client write log 9002177677884918386 (index 242) to leader 1
client write log 7483776935171650614 (index 243) to leader 1
client write log 438538912852212067 (index 244) to leader 1
client write log 7962820689821036197 (index 245) to leader 1
client write log 8043704394638978811 (index 246) to leader 1
client write log 934119306733542453 (index 247) to leader 1
term 36 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 56503 term 36 leader 1 nextIndex[0]: 235  matchIndex[0]: 234
term 36 leader 1 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 234 
------------------------------------------------------
flag 83374 term 36 leader 1 nextIndex[2]: 234  matchIndex[2]: 233
term 36 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 234 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=247
leader log:
[{snapshot 34 229} {2530762644897408890 34 230} {3623714458659131120 34 231} {8252648368177249504 34 232} {7602055153016877985 34 233} {4665496421263472178 36 234} {1487317470531261728 36 235} {8003849459516572206 36 236} {5472659685032726730 36 237} {8259008609783107732 36 238} {5296682670404062883 36 239} {4323133194505092063 36 240} {3436194573477917408 36 241} {9002177677884918386 36 242} {7483776935171650614 36 243} {438538912852212067 36 244} {7962820689821036197 36 245} {8043704394638978811 36 246} {934119306733542453 36 247}]
------------------------------------------------------
term 36 Server1 start snapshot! index=239
term 36 server1 snapshot success
lastIncludedIndex=239 lastApplied=240 lastIndex=247
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 234->233
------------------------------------------------------
flag 68927 term 36 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 36 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 36 leaderCommit: 247 
------------------------------------------------------
term 36 leader 1 nextIndex[2]: 0  matchIndex[2]: 233
term 36 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 36
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=247
leader log:
[{snapshot 36 239} {4323133194505092063 36 240} {3436194573477917408 36 241} {9002177677884918386 36 242} {7483776935171650614 36 243} {438538912852212067 36 244} {7962820689821036197 36 245} {8043704394638978811 36 246} {934119306733542453 36 247}]
------------------------------------------------------
term 36 Server0 start snapshot! index=239
term 36 server0 snapshot success
lastIncludedIndex=239 lastApplied=240 lastIndex=247
-------------------------------------------------------------
!!!!!!connect server 2
client write log 4955022452866392090 (index 248) to leader 1
flag 76853 term 36 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 36 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 36 leaderCommit: 247 
------------------------------------------------------
term 36 leader 1 nextIndex[2]: 0  matchIndex[2]: 233
term 36 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 36
------------------------------------------------------
term 37 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 36 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 38 server 2 vote for server 1
term 38 server 0 vote for server 1
term 38 server 1 get vote from server 2
term 38 server 1 become leader
------------------------------------------------------
term 38 server 1 get outdate rpc reply from server 0
flag 12809 term 38 leader 1 nextIndex[0]: 249  matchIndex[0]: 0
term 38 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 36 leaderCommit: 247 
------------------------------------------------------
flag 17156 term 38 leader 1 nextIndex[2]: 249  matchIndex[2]: 0
term 38 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 36 leaderCommit: 247 
------------------------------------------------------
term 38 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 249->248
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 36 239} {4323133194505092063 36 240} {3436194573477917408 36 241} {9002177677884918386 36 242} {7483776935171650614 36 243} {438538912852212067 36 244} {7962820689821036197 36 245} {8043704394638978811 36 246} {934119306733542453 36 247} {4955022452866392090 36 248}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37446 term 38 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 38 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 36 leaderCommit: 247 
------------------------------------------------------
term 38 leader 1 nextIndex[2]: 234  matchIndex[2]: 0
term 38 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 36
------------------------------------------------------
term 38 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 239 rf.lastIncludedTerm 36 rf.commitIndex 239 rf.lastApplied 239
term 38 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
term 38 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 240 matchIndex[2] 239 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 36 239} {4323133194505092063 36 240} {3436194573477917408 36 241} {9002177677884918386 36 242} {7483776935171650614 36 243} {438538912852212067 36 244} {7962820689821036197 36 245} {8043704394638978811 36 246} {934119306733542453 36 247} {4955022452866392090 36 248}]
------------------------------------------------------
flag 79539 term 38 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 38 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 36 leaderCommit: 247 
------------------------------------------------------
flag 24249 term 38 leader 1 nextIndex[2]: 240  matchIndex[2]: 239
term 38 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 36 leaderCommit: 247 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=247
leader log:
[{snapshot 36 239} {4323133194505092063 36 240} {3436194573477917408 36 241} {9002177677884918386 36 242} {7483776935171650614 36 243} {438538912852212067 36 244} {7962820689821036197 36 245} {8043704394638978811 36 246} {934119306733542453 36 247} {4955022452866392090 36 248}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 36 239} {4323133194505092063 36 240} {3436194573477917408 36 241} {9002177677884918386 36 242} {7483776935171650614 36 243} {438538912852212067 36 244} {7962820689821036197 36 245} {8043704394638978811 36 246} {934119306733542453 36 247} {4955022452866392090 36 248}]
------------------------------------------------------
flag 60738 term 38 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 38 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 36 leaderCommit: 247 
------------------------------------------------------
flag 10859 term 38 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 38 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 36 leaderCommit: 247 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 36 239} {4323133194505092063 36 240} {3436194573477917408 36 241} {9002177677884918386 36 242} {7483776935171650614 36 243} {438538912852212067 36 244} {7962820689821036197 36 245} {8043704394638978811 36 246} {934119306733542453 36 247} {4955022452866392090 36 248}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=247
leader log:
[{snapshot 36 239} {4323133194505092063 36 240} {3436194573477917408 36 241} {9002177677884918386 36 242} {7483776935171650614 36 243} {438538912852212067 36 244} {7962820689821036197 36 245} {8043704394638978811 36 246} {934119306733542453 36 247} {4955022452866392090 36 248}]
------------------------------------------------------
flag 29427 term 38 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 38 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 36 leaderCommit: 247 
------------------------------------------------------
flag 35063 term 38 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 38 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 36 leaderCommit: 247 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=247
leader log:
[{snapshot 36 239} {4323133194505092063 36 240} {3436194573477917408 36 241} {9002177677884918386 36 242} {7483776935171650614 36 243} {438538912852212067 36 244} {7962820689821036197 36 245} {8043704394638978811 36 246} {934119306733542453 36 247} {4955022452866392090 36 248}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 36 239} {4323133194505092063 36 240} {3436194573477917408 36 241} {9002177677884918386 36 242} {7483776935171650614 36 243} {438538912852212067 36 244} {7962820689821036197 36 245} {8043704394638978811 36 246} {934119306733542453 36 247} {4955022452866392090 36 248}]
------------------------------------------------------
flag 50925 term 38 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 38 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 36 leaderCommit: 247 
------------------------------------------------------
flag 99216 term 38 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 38 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 36 leaderCommit: 247 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=247
leader log:
[{snapshot 36 239} {4323133194505092063 36 240} {3436194573477917408 36 241} {9002177677884918386 36 242} {7483776935171650614 36 243} {438538912852212067 36 244} {7962820689821036197 36 245} {8043704394638978811 36 246} {934119306733542453 36 247} {4955022452866392090 36 248}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 36 239} {4323133194505092063 36 240} {3436194573477917408 36 241} {9002177677884918386 36 242} {7483776935171650614 36 243} {438538912852212067 36 244} {7962820689821036197 36 245} {8043704394638978811 36 246} {934119306733542453 36 247} {4955022452866392090 36 248}]
------------------------------------------------------
flag 28466 term 38 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 38 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 36 leaderCommit: 247 
------------------------------------------------------
flag 78805 term 38 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 38 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 36 leaderCommit: 247 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=247
leader log:
[{snapshot 36 239} {4323133194505092063 36 240} {3436194573477917408 36 241} {9002177677884918386 36 242} {7483776935171650614 36 243} {438538912852212067 36 244} {7962820689821036197 36 245} {8043704394638978811 36 246} {934119306733542453 36 247} {4955022452866392090 36 248}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 36 239} {4323133194505092063 36 240} {3436194573477917408 36 241} {9002177677884918386 36 242} {7483776935171650614 36 243} {438538912852212067 36 244} {7962820689821036197 36 245} {8043704394638978811 36 246} {934119306733542453 36 247} {4955022452866392090 36 248}]
------------------------------------------------------
flag 3194 term 38 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 38 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 36 leaderCommit: 247 
------------------------------------------------------
flag 58338 term 38 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 38 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 36 leaderCommit: 247 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=247
leader log:
[{snapshot 36 239} {4323133194505092063 36 240} {3436194573477917408 36 241} {9002177677884918386 36 242} {7483776935171650614 36 243} {438538912852212067 36 244} {7962820689821036197 36 245} {8043704394638978811 36 246} {934119306733542453 36 247} {4955022452866392090 36 248}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 36 239} {4323133194505092063 36 240} {3436194573477917408 36 241} {9002177677884918386 36 242} {7483776935171650614 36 243} {438538912852212067 36 244} {7962820689821036197 36 245} {8043704394638978811 36 246} {934119306733542453 36 247} {4955022452866392090 36 248}]
------------------------------------------------------
flag 15589 term 38 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 38 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 36 leaderCommit: 247 
------------------------------------------------------
flag 33561 term 38 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 38 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 36 leaderCommit: 247 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 36 239} {4323133194505092063 36 240} {3436194573477917408 36 241} {9002177677884918386 36 242} {7483776935171650614 36 243} {438538912852212067 36 244} {7962820689821036197 36 245} {8043704394638978811 36 246} {934119306733542453 36 247} {4955022452866392090 36 248}]
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=247
leader log:
[{snapshot 36 239} {4323133194505092063 36 240} {3436194573477917408 36 241} {9002177677884918386 36 242} {7483776935171650614 36 243} {438538912852212067 36 244} {7962820689821036197 36 245} {8043704394638978811 36 246} {934119306733542453 36 247} {4955022452866392090 36 248}]
------------------------------------------------------
flag 80790 term 38 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 38 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 36 leaderCommit: 247 
------------------------------------------------------
flag 54884 term 38 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 38 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 36 leaderCommit: 247 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=247
leader log:
[{snapshot 36 239} {4323133194505092063 36 240} {3436194573477917408 36 241} {9002177677884918386 36 242} {7483776935171650614 36 243} {438538912852212067 36 244} {7962820689821036197 36 245} {8043704394638978811 36 246} {934119306733542453 36 247} {4955022452866392090 36 248}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 36 239} {4323133194505092063 36 240} {3436194573477917408 36 241} {9002177677884918386 36 242} {7483776935171650614 36 243} {438538912852212067 36 244} {7962820689821036197 36 245} {8043704394638978811 36 246} {934119306733542453 36 247} {4955022452866392090 36 248}]
------------------------------------------------------
flag 22093 term 38 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 38 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 36 leaderCommit: 247 
------------------------------------------------------
flag 62551 term 38 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 38 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 36 leaderCommit: 247 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=247
leader log:
[{snapshot 36 239} {4323133194505092063 36 240} {3436194573477917408 36 241} {9002177677884918386 36 242} {7483776935171650614 36 243} {438538912852212067 36 244} {7962820689821036197 36 245} {8043704394638978811 36 246} {934119306733542453 36 247} {4955022452866392090 36 248}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 36 239} {4323133194505092063 36 240} {3436194573477917408 36 241} {9002177677884918386 36 242} {7483776935171650614 36 243} {438538912852212067 36 244} {7962820689821036197 36 245} {8043704394638978811 36 246} {934119306733542453 36 247} {4955022452866392090 36 248}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88661 term 38 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 38 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 36 leaderCommit: 247 
------------------------------------------------------
flag 95725 term 38 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 38 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 36 leaderCommit: 247 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=247
leader log:
[{snapshot 36 239} {4323133194505092063 36 240} {3436194573477917408 36 241} {9002177677884918386 36 242} {7483776935171650614 36 243} {438538912852212067 36 244} {7962820689821036197 36 245} {8043704394638978811 36 246} {934119306733542453 36 247} {4955022452866392090 36 248}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 36 239} {4323133194505092063 36 240} {3436194573477917408 36 241} {9002177677884918386 36 242} {7483776935171650614 36 243} {438538912852212067 36 244} {7962820689821036197 36 245} {8043704394638978811 36 246} {934119306733542453 36 247} {4955022452866392090 36 248}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72736 term 38 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 38 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 36 leaderCommit: 247 
------------------------------------------------------
flag 2643 term 38 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 38 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 36 leaderCommit: 247 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=247
leader log:
[{snapshot 36 239} {4323133194505092063 36 240} {3436194573477917408 36 241} {9002177677884918386 36 242} {7483776935171650614 36 243} {438538912852212067 36 244} {7962820689821036197 36 245} {8043704394638978811 36 246} {934119306733542453 36 247} {4955022452866392090 36 248}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 36 239} {4323133194505092063 36 240} {3436194573477917408 36 241} {9002177677884918386 36 242} {7483776935171650614 36 243} {438538912852212067 36 244} {7962820689821036197 36 245} {8043704394638978811 36 246} {934119306733542453 36 247} {4955022452866392090 36 248}]
------------------------------------------------------
flag 1918 term 38 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 38 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 36 leaderCommit: 247 
------------------------------------------------------
flag 43436 term 38 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 38 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 36 leaderCommit: 247 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=247
leader log:
[{snapshot 36 239} {4323133194505092063 36 240} {3436194573477917408 36 241} {9002177677884918386 36 242} {7483776935171650614 36 243} {438538912852212067 36 244} {7962820689821036197 36 245} {8043704394638978811 36 246} {934119306733542453 36 247} {4955022452866392090 36 248}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 36 239} {4323133194505092063 36 240} {3436194573477917408 36 241} {9002177677884918386 36 242} {7483776935171650614 36 243} {438538912852212067 36 244} {7962820689821036197 36 245} {8043704394638978811 36 246} {934119306733542453 36 247} {4955022452866392090 36 248}]
------------------------------------------------------
term 38 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 38769 term 38 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 38 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 36 leaderCommit: 247 
------------------------------------------------------
flag 70617 term 38 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 38 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 36 leaderCommit: 247 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=247
leader log:
[{snapshot 36 239} {4323133194505092063 36 240} {3436194573477917408 36 241} {9002177677884918386 36 242} {7483776935171650614 36 243} {438538912852212067 36 244} {7962820689821036197 36 245} {8043704394638978811 36 246} {934119306733542453 36 247} {4955022452866392090 36 248}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 36 239} {4323133194505092063 36 240} {3436194573477917408 36 241} {9002177677884918386 36 242} {7483776935171650614 36 243} {438538912852212067 36 244} {7962820689821036197 36 245} {8043704394638978811 36 246} {934119306733542453 36 247} {4955022452866392090 36 248}]
------------------------------------------------------
flag 4820 term 38 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 38 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 36 leaderCommit: 247 
------------------------------------------------------
flag 12931 term 38 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 38 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 36 leaderCommit: 247 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=247
leader log:
[{snapshot 36 239} {4323133194505092063 36 240} {3436194573477917408 36 241} {9002177677884918386 36 242} {7483776935171650614 36 243} {438538912852212067 36 244} {7962820689821036197 36 245} {8043704394638978811 36 246} {934119306733542453 36 247} {4955022452866392090 36 248}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 36 239} {4323133194505092063 36 240} {3436194573477917408 36 241} {9002177677884918386 36 242} {7483776935171650614 36 243} {438538912852212067 36 244} {7962820689821036197 36 245} {8043704394638978811 36 246} {934119306733542453 36 247} {4955022452866392090 36 248}]
------------------------------------------------------
flag 8295 term 38 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 38 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 36 leaderCommit: 247 
------------------------------------------------------
flag 38353 term 38 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 38 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 36 leaderCommit: 247 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=247
leader log:
[{snapshot 36 239} {4323133194505092063 36 240} {3436194573477917408 36 241} {9002177677884918386 36 242} {7483776935171650614 36 243} {438538912852212067 36 244} {7962820689821036197 36 245} {8043704394638978811 36 246} {934119306733542453 36 247} {4955022452866392090 36 248}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 36 239} {4323133194505092063 36 240} {3436194573477917408 36 241} {9002177677884918386 36 242} {7483776935171650614 36 243} {438538912852212067 36 244} {7962820689821036197 36 245} {8043704394638978811 36 246} {934119306733542453 36 247} {4955022452866392090 36 248}]
------------------------------------------------------
flag 92264 term 38 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 38 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 36 leaderCommit: 247 
------------------------------------------------------
flag 79782 term 38 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 38 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 36 leaderCommit: 247 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=247
leader log:
[{snapshot 36 239} {4323133194505092063 36 240} {3436194573477917408 36 241} {9002177677884918386 36 242} {7483776935171650614 36 243} {438538912852212067 36 244} {7962820689821036197 36 245} {8043704394638978811 36 246} {934119306733542453 36 247} {4955022452866392090 36 248}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 36 239} {4323133194505092063 36 240} {3436194573477917408 36 241} {9002177677884918386 36 242} {7483776935171650614 36 243} {438538912852212067 36 244} {7962820689821036197 36 245} {8043704394638978811 36 246} {934119306733542453 36 247} {4955022452866392090 36 248}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38257 term 38 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 38 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 36 leaderCommit: 247 
------------------------------------------------------
flag 41433 term 38 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 38 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 36 leaderCommit: 247 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=247
leader log:
[{snapshot 36 239} {4323133194505092063 36 240} {3436194573477917408 36 241} {9002177677884918386 36 242} {7483776935171650614 36 243} {438538912852212067 36 244} {7962820689821036197 36 245} {8043704394638978811 36 246} {934119306733542453 36 247} {4955022452866392090 36 248}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 36 239} {4323133194505092063 36 240} {3436194573477917408 36 241} {9002177677884918386 36 242} {7483776935171650614 36 243} {438538912852212067 36 244} {7962820689821036197 36 245} {8043704394638978811 36 246} {934119306733542453 36 247} {4955022452866392090 36 248}]
------------------------------------------------------
client write log 4955022452866392090 (index 249) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48447 term 38 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 38 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 36 leaderCommit: 247 
------------------------------------------------------
flag 76203 term 38 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 38 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 36 leaderCommit: 247 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=249
leader log:
[{snapshot 36 239} {4323133194505092063 36 240} {3436194573477917408 36 241} {9002177677884918386 36 242} {7483776935171650614 36 243} {438538912852212067 36 244} {7962820689821036197 36 245} {8043704394638978811 36 246} {934119306733542453 36 247} {4955022452866392090 36 248} {4955022452866392090 38 249}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=250
update matchIndex[0]=249
update leader CommitIndex=249
leader log:
[{snapshot 36 239} {4323133194505092063 36 240} {3436194573477917408 36 241} {9002177677884918386 36 242} {7483776935171650614 36 243} {438538912852212067 36 244} {7962820689821036197 36 245} {8043704394638978811 36 246} {934119306733542453 36 247} {4955022452866392090 36 248} {4955022452866392090 38 249}]
------------------------------------------------------
term 38 Server1 start snapshot! index=249
term 38 server1 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=249
-------------------------------------------------------------
flag 89886 term 38 leader 1 nextIndex[0]: 250  matchIndex[0]: 249
term 38 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 38 leaderCommit: 249 
------------------------------------------------------
flag 82867 term 38 leader 1 nextIndex[2]: 250  matchIndex[2]: 249
term 38 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 38 leaderCommit: 249 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=249
leader log:
[{snapshot 38 249}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=250
update matchIndex[0]=249
update leader CommitIndex=249
leader log:
[{snapshot 38 249}]
------------------------------------------------------
term 38 Server0 start snapshot! index=249
term 38 server0 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=249
-------------------------------------------------------------
term 38 Server2 start snapshot! index=249
term 38 server2 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=249
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22712 term 38 leader 1 nextIndex[0]: 250  matchIndex[0]: 249
term 38 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 38 leaderCommit: 249 
------------------------------------------------------
flag 55725 term 38 leader 1 nextIndex[2]: 250  matchIndex[2]: 249
term 38 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 38 leaderCommit: 249 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=249
leader log:
[{snapshot 38 249}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=250
update matchIndex[0]=249
update leader CommitIndex=249
leader log:
[{snapshot 38 249}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46276 term 38 leader 1 nextIndex[0]: 250  matchIndex[0]: 249
term 38 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 38 leaderCommit: 249 
------------------------------------------------------
flag 77767 term 38 leader 1 nextIndex[2]: 250  matchIndex[2]: 249
term 38 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 38 leaderCommit: 249 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=249
leader log:
[{snapshot 38 249}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=250
update matchIndex[0]=249
update leader CommitIndex=249
leader log:
[{snapshot 38 249}]
------------------------------------------------------
flag 87396 term 38 leader 1 nextIndex[0]: 250  matchIndex[0]: 249
term 38 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 38 leaderCommit: 249 
------------------------------------------------------
flag 22598 term 38 leader 1 nextIndex[2]: 250  matchIndex[2]: 249
term 38 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 38 leaderCommit: 249 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=249
leader log:
[{snapshot 38 249}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=250
update matchIndex[0]=249
update leader CommitIndex=249
leader log:
[{snapshot 38 249}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 143 term 38 leader 1 nextIndex[0]: 250  matchIndex[0]: 249
term 38 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 38 leaderCommit: 249 
------------------------------------------------------
flag 15726 term 38 leader 1 nextIndex[2]: 250  matchIndex[2]: 249
term 38 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 38 leaderCommit: 249 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=249
leader log:
[{snapshot 38 249}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=250
update matchIndex[0]=249
update leader CommitIndex=249
leader log:
[{snapshot 38 249}]
------------------------------------------------------
flag 75670 term 38 leader 1 nextIndex[0]: 250  matchIndex[0]: 249
term 38 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 38 leaderCommit: 249 
------------------------------------------------------
flag 62824 term 38 leader 1 nextIndex[2]: 250  matchIndex[2]: 249
term 38 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 38 leaderCommit: 249 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=249
leader log:
[{snapshot 38 249}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=250
update matchIndex[0]=249
update leader CommitIndex=249
leader log:
[{snapshot 38 249}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 7708329231741663147 (index 250) to leader 1
flag 26901 term 38 leader 1 nextIndex[0]: 250  matchIndex[0]: 249
term 38 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 38 leaderCommit: 249 
------------------------------------------------------
flag 56644 term 38 leader 1 nextIndex[2]: 250  matchIndex[2]: 249
term 38 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 38 leaderCommit: 249 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=251
update matchIndex[0]=250
update leader CommitIndex=250
leader log:
[{snapshot 38 249} {7708329231741663147 38 250}]
------------------------------------------------------
term 38 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 10774 term 38 leader 1 nextIndex[0]: 251  matchIndex[0]: 250
term 38 leader 1 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 38 leaderCommit: 250 
------------------------------------------------------
flag 84552 term 38 leader 1 nextIndex[2]: 250  matchIndex[2]: 249
term 38 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 38 leaderCommit: 250 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=251
update matchIndex[0]=250
update leader CommitIndex=250
leader log:
[{snapshot 38 249} {7708329231741663147 38 250}]
------------------------------------------------------
client write log 9023428790344994679 (index 251) to leader 1
client write log 2389149205254945975 (index 252) to leader 1
client write log 5408309459955787704 (index 253) to leader 1
client write log 456308667910165575 (index 254) to leader 1
client write log 2051759887831002450 (index 255) to leader 1
client write log 8408800049437232063 (index 256) to leader 1
client write log 975712086332368347 (index 257) to leader 1
client write log 72347748459439056 (index 258) to leader 1
client write log 1065031944363100263 (index 259) to leader 1
client write log 1899855790672071667 (index 260) to leader 1
client write log 5965328122109385654 (index 261) to leader 1
client write log 8578586048064360979 (index 262) to leader 1
flag 16138 term 38 leader 1 nextIndex[0]: 251  matchIndex[0]: 250
term 38 leader 1 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 38 leaderCommit: 250 
------------------------------------------------------
flag 27054 term 38 leader 1 nextIndex[2]: 250  matchIndex[2]: 249
term 38 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 38 leaderCommit: 250 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=263
update matchIndex[0]=262
update leader CommitIndex=262
leader log:
[{snapshot 38 249} {7708329231741663147 38 250} {9023428790344994679 38 251} {2389149205254945975 38 252} {5408309459955787704 38 253} {456308667910165575 38 254} {2051759887831002450 38 255} {8408800049437232063 38 256} {975712086332368347 38 257} {72347748459439056 38 258} {1065031944363100263 38 259} {1899855790672071667 38 260} {5965328122109385654 38 261} {8578586048064360979 38 262}]
------------------------------------------------------
term 38 Server1 start snapshot! index=259
term 38 server1 snapshot success
lastIncludedIndex=259 lastApplied=260 lastIndex=262
-------------------------------------------------------------
flag 25476 term 38 leader 1 nextIndex[0]: 263  matchIndex[0]: 262
term 38 leader 1 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 38 leaderCommit: 262 
------------------------------------------------------
term 38 leader 1 nextIndex[2]: 250  matchIndex[2]: 249
term 38 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 38
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=263
update matchIndex[0]=262
update leader CommitIndex=262
leader log:
[{snapshot 38 259} {1899855790672071667 38 260} {5965328122109385654 38 261} {8578586048064360979 38 262}]
------------------------------------------------------
term 38 Server0 start snapshot! index=259
term 38 server0 snapshot success
lastIncludedIndex=259 lastApplied=260 lastIndex=262
-------------------------------------------------------------
!!!!!!connect server 2
client write log 6973804379435252143 (index 263) to leader 1
flag 58747 term 38 leader 1 nextIndex[0]: 263  matchIndex[0]: 262
term 38 leader 1 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 38 leaderCommit: 262 
------------------------------------------------------
term 38 leader 1 nextIndex[2]: 250  matchIndex[2]: 249
term 38 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 38
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:262 
------------------------------------------------------
term 39 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=263
leader log:
[{snapshot 38 259} {1899855790672071667 38 260} {5965328122109385654 38 261} {8578586048064360979 38 262} {6973804379435252143 38 263}]
------------------------------------------------------
term 38 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 40 server 2 vote for server 1
term 40 server 0 vote for server 1
term 40 server 1 get vote from server 2
term 40 server 1 become leader
------------------------------------------------------
term 40 server 1 get outdate rpc reply from server 0
flag 78491 term 40 leader 1 nextIndex[0]: 264  matchIndex[0]: 0
term 40 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 38 leaderCommit: 263 
------------------------------------------------------
flag 89301 term 40 leader 1 nextIndex[2]: 264  matchIndex[2]: 0
term 40 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 38 leaderCommit: 263 
------------------------------------------------------
term 40 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 264->263
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=263
leader log:
[{snapshot 38 259} {1899855790672071667 38 260} {5965328122109385654 38 261} {8578586048064360979 38 262} {6973804379435252143 38 263}]
------------------------------------------------------
flag 59382 term 40 leader 1 nextIndex[0]: 264  matchIndex[0]: 263
term 40 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 38 leaderCommit: 263 
------------------------------------------------------
term 40 leader 1 nextIndex[2]: 250  matchIndex[2]: 0
term 40 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 38
------------------------------------------------------
term 40 server 2 InstallSnapshot success
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 259 rf.lastIncludedTerm 38 rf.commitIndex 259 rf.lastApplied 259
term 40 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 260 matchIndex[2] 259 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=263
leader log:
[{snapshot 38 259} {1899855790672071667 38 260} {5965328122109385654 38 261} {8578586048064360979 38 262} {6973804379435252143 38 263}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91216 term 40 leader 1 nextIndex[0]: 264  matchIndex[0]: 263
term 40 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 38 leaderCommit: 263 
------------------------------------------------------
flag 30849 term 40 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 40 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 38 leaderCommit: 263 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:259 
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=263
leader log:
[{snapshot 38 259} {1899855790672071667 38 260} {5965328122109385654 38 261} {8578586048064360979 38 262} {6973804379435252143 38 263}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 38 259} {1899855790672071667 38 260} {5965328122109385654 38 261} {8578586048064360979 38 262} {6973804379435252143 38 263}]
------------------------------------------------------
flag 13589 term 40 leader 1 nextIndex[0]: 264  matchIndex[0]: 263
term 40 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 38 leaderCommit: 263 
------------------------------------------------------
flag 24220 term 40 leader 1 nextIndex[2]: 264  matchIndex[2]: 263
term 40 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 38 leaderCommit: 263 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 38 259} {1899855790672071667 38 260} {5965328122109385654 38 261} {8578586048064360979 38 262} {6973804379435252143 38 263}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=263
leader log:
[{snapshot 38 259} {1899855790672071667 38 260} {5965328122109385654 38 261} {8578586048064360979 38 262} {6973804379435252143 38 263}]
------------------------------------------------------
flag 18328 term 40 leader 1 nextIndex[0]: 264  matchIndex[0]: 263
term 40 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 38 leaderCommit: 263 
------------------------------------------------------
flag 59059 term 40 leader 1 nextIndex[2]: 264  matchIndex[2]: 263
term 40 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 38 leaderCommit: 263 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 38 259} {1899855790672071667 38 260} {5965328122109385654 38 261} {8578586048064360979 38 262} {6973804379435252143 38 263}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=263
leader log:
[{snapshot 38 259} {1899855790672071667 38 260} {5965328122109385654 38 261} {8578586048064360979 38 262} {6973804379435252143 38 263}]
------------------------------------------------------
flag 69834 term 40 leader 1 nextIndex[0]: 264  matchIndex[0]: 263
term 40 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 38 leaderCommit: 263 
------------------------------------------------------
flag 78442 term 40 leader 1 nextIndex[2]: 264  matchIndex[2]: 263
term 40 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 38 leaderCommit: 263 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 38 259} {1899855790672071667 38 260} {5965328122109385654 38 261} {8578586048064360979 38 262} {6973804379435252143 38 263}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=263
leader log:
[{snapshot 38 259} {1899855790672071667 38 260} {5965328122109385654 38 261} {8578586048064360979 38 262} {6973804379435252143 38 263}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5784 term 40 leader 1 nextIndex[0]: 264  matchIndex[0]: 263
term 40 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 38 leaderCommit: 263 
------------------------------------------------------
flag 63151 term 40 leader 1 nextIndex[2]: 264  matchIndex[2]: 263
term 40 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 38 leaderCommit: 263 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 38 259} {1899855790672071667 38 260} {5965328122109385654 38 261} {8578586048064360979 38 262} {6973804379435252143 38 263}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=263
leader log:
[{snapshot 38 259} {1899855790672071667 38 260} {5965328122109385654 38 261} {8578586048064360979 38 262} {6973804379435252143 38 263}]
------------------------------------------------------
flag 24183 term 40 leader 1 nextIndex[0]: 264  matchIndex[0]: 263
term 40 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 38 leaderCommit: 263 
------------------------------------------------------
flag 75160 term 40 leader 1 nextIndex[2]: 264  matchIndex[2]: 263
term 40 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 38 leaderCommit: 263 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:263 
term 40 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=263
leader log:
[{snapshot 38 259} {1899855790672071667 38 260} {5965328122109385654 38 261} {8578586048064360979 38 262} {6973804379435252143 38 263}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 38 259} {1899855790672071667 38 260} {5965328122109385654 38 261} {8578586048064360979 38 262} {6973804379435252143 38 263}]
------------------------------------------------------
flag 23708 term 40 leader 1 nextIndex[0]: 264  matchIndex[0]: 263
term 40 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 38 leaderCommit: 263 
------------------------------------------------------
flag 50609 term 40 leader 1 nextIndex[2]: 264  matchIndex[2]: 263
term 40 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 38 leaderCommit: 263 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 38 259} {1899855790672071667 38 260} {5965328122109385654 38 261} {8578586048064360979 38 262} {6973804379435252143 38 263}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=263
leader log:
[{snapshot 38 259} {1899855790672071667 38 260} {5965328122109385654 38 261} {8578586048064360979 38 262} {6973804379435252143 38 263}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 2783 term 40 leader 1 nextIndex[0]: 264  matchIndex[0]: 263
term 40 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 38 leaderCommit: 263 
------------------------------------------------------
flag 87894 term 40 leader 1 nextIndex[2]: 264  matchIndex[2]: 263
term 40 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 38 leaderCommit: 263 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28885 term 40 leader 1 nextIndex[0]: 264  matchIndex[0]: 263
term 40 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 38 leaderCommit: 263 
------------------------------------------------------
flag 76773 term 40 leader 1 nextIndex[2]: 264  matchIndex[2]: 263
term 40 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 38 leaderCommit: 263 
------------------------------------------------------
flag 87766 term 40 leader 1 nextIndex[0]: 264  matchIndex[0]: 263
term 40 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 38 leaderCommit: 263 
------------------------------------------------------
flag 81610 term 40 leader 1 nextIndex[2]: 264  matchIndex[2]: 263
term 40 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 38 leaderCommit: 263 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 264->263
------------------------------------------------------
term 41 server 0 vote for server 2
term 41 server 2 get vote from server 0
term 41 server 2 become leader
------------------------------------------------------
flag 16507 term 41 leader 2 nextIndex[0]: 264  matchIndex[0]: 0
term 41 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 38 leaderCommit: 263 
------------------------------------------------------
flag 17699 term 41 leader 2 nextIndex[1]: 264  matchIndex[1]: 0
term 41 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 38 leaderCommit: 263 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=263
leader log:
[{snapshot 38 259} {1899855790672071667 38 260} {5965328122109385654 38 261} {8578586048064360979 38 262} {6973804379435252143 38 263}]
------------------------------------------------------
flag 11581 term 40 leader 1 nextIndex[0]: 264  matchIndex[0]: 263
term 40 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 38 leaderCommit: 263 
------------------------------------------------------
term 40 leader 1 nextIndex[2]: 0  matchIndex[2]: 263
term 40 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 38
------------------------------------------------------
client write log 2389389574110083258 (index 264) to leader 2
flag 44294 term 41 leader 2 nextIndex[0]: 264  matchIndex[0]: 263
term 41 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 38 leaderCommit: 263 
------------------------------------------------------
flag 9582 term 41 leader 2 nextIndex[1]: 264  matchIndex[1]: 0
term 41 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 38 leaderCommit: 263 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=265
update matchIndex[0]=264
update leader CommitIndex=264
leader log:
[{snapshot 38 259} {1899855790672071667 38 260} {5965328122109385654 38 261} {8578586048064360979 38 262} {6973804379435252143 38 263} {2389389574110083258 41 264}]
------------------------------------------------------
flag 57228 term 40 leader 1 nextIndex[0]: 264  matchIndex[0]: 263
term 40 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 38 leaderCommit: 263 
------------------------------------------------------
term 40 leader 1 nextIndex[2]: 0  matchIndex[2]: 263
term 40 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 38
------------------------------------------------------
term 40 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 260 matchIndex[2] 259 
------------------------------------------------------------------------
flag 97961 term 41 leader 2 nextIndex[0]: 265  matchIndex[0]: 264
term 41 leader 2 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
flag 98790 term 41 leader 2 nextIndex[1]: 264  matchIndex[1]: 0
term 41 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 38 leaderCommit: 264 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=265
update matchIndex[0]=264
update leader CommitIndex=264
leader log:
[{snapshot 38 259} {1899855790672071667 38 260} {5965328122109385654 38 261} {8578586048064360979 38 262} {6973804379435252143 38 263} {2389389574110083258 41 264}]
------------------------------------------------------
flag 81259 term 40 leader 1 nextIndex[0]: 264  matchIndex[0]: 263
term 40 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 38 leaderCommit: 263 
------------------------------------------------------
flag 31402 term 40 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 40 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 38 leaderCommit: 263 
------------------------------------------------------
client write log 9049129320730813534 (index 265) to leader 2
client write log 2399545794548635492 (index 266) to leader 2
client write log 3553316375665416438 (index 267) to leader 2
client write log 373977021832671950 (index 268) to leader 2
client write log 142665715185670820 (index 269) to leader 2
client write log 5484427823175880653 (index 270) to leader 2
client write log 1369665013199466655 (index 271) to leader 2
client write log 4817035263991413648 (index 272) to leader 2
client write log 6900207010648232036 (index 273) to leader 2
client write log 7824048455774625157 (index 274) to leader 2
client write log 7157638805517678779 (index 275) to leader 2
client write log 8468029298050891313 (index 276) to leader 2
flag 46174 term 41 leader 2 nextIndex[0]: 265  matchIndex[0]: 264
term 41 leader 2 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
flag 89089 term 41 leader 2 nextIndex[1]: 264  matchIndex[1]: 0
term 41 leader 2 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 38 leaderCommit: 264 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=276
leader log:
[{snapshot 38 259} {1899855790672071667 38 260} {5965328122109385654 38 261} {8578586048064360979 38 262} {6973804379435252143 38 263} {2389389574110083258 41 264} {9049129320730813534 41 265} {2399545794548635492 41 266} {3553316375665416438 41 267} {373977021832671950 41 268} {142665715185670820 41 269} {5484427823175880653 41 270} {1369665013199466655 41 271} {4817035263991413648 41 272} {6900207010648232036 41 273} {7824048455774625157 41 274} {7157638805517678779 41 275} {8468029298050891313 41 276}]
------------------------------------------------------
term 41 Server2 start snapshot! index=269
term 41 server2 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=276
-------------------------------------------------------------
flag 59554 term 40 leader 1 nextIndex[0]: 264  matchIndex[0]: 263
term 40 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 38 leaderCommit: 263 
------------------------------------------------------
flag 18348 term 40 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 40 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 38 leaderCommit: 263 
------------------------------------------------------
flag 89051 term 41 leader 2 nextIndex[0]: 277  matchIndex[0]: 276
term 41 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 276 
------------------------------------------------------
term 41 leader 2 nextIndex[1]: 264  matchIndex[1]: 0
term 41 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 41
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=276
leader log:
[{snapshot 41 269} {5484427823175880653 41 270} {1369665013199466655 41 271} {4817035263991413648 41 272} {6900207010648232036 41 273} {7824048455774625157 41 274} {7157638805517678779 41 275} {8468029298050891313 41 276}]
------------------------------------------------------
flag 12715 term 40 leader 1 nextIndex[0]: 264  matchIndex[0]: 263
term 40 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 38 leaderCommit: 263 
------------------------------------------------------
flag 15356 term 40 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 40 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 38 leaderCommit: 263 
------------------------------------------------------
term 41 Server0 start snapshot! index=269
term 41 server0 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=276
-------------------------------------------------------------
!!!!!!connect server 1
client write log 110705410505944319 (index 264) to leader 1
flag 33677 term 41 leader 2 nextIndex[0]: 277  matchIndex[0]: 276
term 41 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 276 
------------------------------------------------------
term 41 leader 2 nextIndex[1]: 264  matchIndex[1]: 0
term 41 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 41
------------------------------------------------------
term 41 server 1 InstallSnapshot success
------------------------------------------------------
term 41 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 270 matchIndex[1] 269 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 269 rf.lastIncludedTerm 41 rf.commitIndex 269 rf.lastApplied 269
term 41 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=276
leader log:
[{snapshot 41 269} {5484427823175880653 41 270} {1369665013199466655 41 271} {4817035263991413648 41 272} {6900207010648232036 41 273} {7824048455774625157 41 274} {7157638805517678779 41 275} {8468029298050891313 41 276}]
------------------------------------------------------
flag 62899 term 41 leader 2 nextIndex[0]: 277  matchIndex[0]: 276
term 41 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 276 
------------------------------------------------------
flag 5508 term 41 leader 2 nextIndex[1]: 270  matchIndex[1]: 269
term 41 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 41 leaderCommit: 276 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 41 269} {5484427823175880653 41 270} {1369665013199466655 41 271} {4817035263991413648 41 272} {6900207010648232036 41 273} {7824048455774625157 41 274} {7157638805517678779 41 275} {8468029298050891313 41 276}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=276
leader log:
[{snapshot 41 269} {5484427823175880653 41 270} {1369665013199466655 41 271} {4817035263991413648 41 272} {6900207010648232036 41 273} {7824048455774625157 41 274} {7157638805517678779 41 275} {8468029298050891313 41 276}]
------------------------------------------------------
flag 9622 term 41 leader 2 nextIndex[0]: 277  matchIndex[0]: 276
term 41 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 276 
------------------------------------------------------
flag 82392 term 41 leader 2 nextIndex[1]: 277  matchIndex[1]: 276
term 41 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 276 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 41 269} {5484427823175880653 41 270} {1369665013199466655 41 271} {4817035263991413648 41 272} {6900207010648232036 41 273} {7824048455774625157 41 274} {7157638805517678779 41 275} {8468029298050891313 41 276}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=276
leader log:
[{snapshot 41 269} {5484427823175880653 41 270} {1369665013199466655 41 271} {4817035263991413648 41 272} {6900207010648232036 41 273} {7824048455774625157 41 274} {7157638805517678779 41 275} {8468029298050891313 41 276}]
------------------------------------------------------
term 41 server 0 not vote for server 2, 任期不够新
term 41 server 2 get outdate rpc reply from server 0
flag 82306 term 41 leader 2 nextIndex[0]: 277  matchIndex[0]: 276
term 41 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 276 
------------------------------------------------------
flag 75629 term 41 leader 2 nextIndex[1]: 277  matchIndex[1]: 276
term 41 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 276 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=276
leader log:
[{snapshot 41 269} {5484427823175880653 41 270} {1369665013199466655 41 271} {4817035263991413648 41 272} {6900207010648232036 41 273} {7824048455774625157 41 274} {7157638805517678779 41 275} {8468029298050891313 41 276}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 41 269} {5484427823175880653 41 270} {1369665013199466655 41 271} {4817035263991413648 41 272} {6900207010648232036 41 273} {7824048455774625157 41 274} {7157638805517678779 41 275} {8468029298050891313 41 276}]
------------------------------------------------------
flag 6086 term 41 leader 2 nextIndex[0]: 277  matchIndex[0]: 276
term 41 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 276 
------------------------------------------------------
flag 73559 term 41 leader 2 nextIndex[1]: 277  matchIndex[1]: 276
term 41 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 276 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 41 269} {5484427823175880653 41 270} {1369665013199466655 41 271} {4817035263991413648 41 272} {6900207010648232036 41 273} {7824048455774625157 41 274} {7157638805517678779 41 275} {8468029298050891313 41 276}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=276
leader log:
[{snapshot 41 269} {5484427823175880653 41 270} {1369665013199466655 41 271} {4817035263991413648 41 272} {6900207010648232036 41 273} {7824048455774625157 41 274} {7157638805517678779 41 275} {8468029298050891313 41 276}]
------------------------------------------------------
flag 71654 term 41 leader 2 nextIndex[0]: 277  matchIndex[0]: 276
term 41 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 276 
------------------------------------------------------
flag 49219 term 41 leader 2 nextIndex[1]: 277  matchIndex[1]: 276
term 41 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 276 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 41 269} {5484427823175880653 41 270} {1369665013199466655 41 271} {4817035263991413648 41 272} {6900207010648232036 41 273} {7824048455774625157 41 274} {7157638805517678779 41 275} {8468029298050891313 41 276}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=276
leader log:
[{snapshot 41 269} {5484427823175880653 41 270} {1369665013199466655 41 271} {4817035263991413648 41 272} {6900207010648232036 41 273} {7824048455774625157 41 274} {7157638805517678779 41 275} {8468029298050891313 41 276}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54702 term 41 leader 2 nextIndex[0]: 277  matchIndex[0]: 276
term 41 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 276 
------------------------------------------------------
flag 50655 term 41 leader 2 nextIndex[1]: 277  matchIndex[1]: 276
term 41 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 276 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 41 269} {5484427823175880653 41 270} {1369665013199466655 41 271} {4817035263991413648 41 272} {6900207010648232036 41 273} {7824048455774625157 41 274} {7157638805517678779 41 275} {8468029298050891313 41 276}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=276
leader log:
[{snapshot 41 269} {5484427823175880653 41 270} {1369665013199466655 41 271} {4817035263991413648 41 272} {6900207010648232036 41 273} {7824048455774625157 41 274} {7157638805517678779 41 275} {8468029298050891313 41 276}]
------------------------------------------------------
flag 3630 term 41 leader 2 nextIndex[0]: 277  matchIndex[0]: 276
term 41 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 276 
------------------------------------------------------
flag 48220 term 41 leader 2 nextIndex[1]: 277  matchIndex[1]: 276
term 41 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 276 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=276
leader log:
[{snapshot 41 269} {5484427823175880653 41 270} {1369665013199466655 41 271} {4817035263991413648 41 272} {6900207010648232036 41 273} {7824048455774625157 41 274} {7157638805517678779 41 275} {8468029298050891313 41 276}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 41 269} {5484427823175880653 41 270} {1369665013199466655 41 271} {4817035263991413648 41 272} {6900207010648232036 41 273} {7824048455774625157 41 274} {7157638805517678779 41 275} {8468029298050891313 41 276}]
------------------------------------------------------
term 41 server 1 not vote for server 2, 任期不够新
term 41 server 2 get outdate rpc reply from server 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73963 term 41 leader 2 nextIndex[0]: 277  matchIndex[0]: 276
term 41 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 276 
------------------------------------------------------
flag 94559 term 41 leader 2 nextIndex[1]: 277  matchIndex[1]: 276
term 41 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 276 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 41 269} {5484427823175880653 41 270} {1369665013199466655 41 271} {4817035263991413648 41 272} {6900207010648232036 41 273} {7824048455774625157 41 274} {7157638805517678779 41 275} {8468029298050891313 41 276}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=276
leader log:
[{snapshot 41 269} {5484427823175880653 41 270} {1369665013199466655 41 271} {4817035263991413648 41 272} {6900207010648232036 41 273} {7824048455774625157 41 274} {7157638805517678779 41 275} {8468029298050891313 41 276}]
------------------------------------------------------
flag 22798 term 41 leader 2 nextIndex[0]: 277  matchIndex[0]: 276
term 41 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 276 
------------------------------------------------------
flag 34767 term 41 leader 2 nextIndex[1]: 277  matchIndex[1]: 276
term 41 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 276 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 41 269} {5484427823175880653 41 270} {1369665013199466655 41 271} {4817035263991413648 41 272} {6900207010648232036 41 273} {7824048455774625157 41 274} {7157638805517678779 41 275} {8468029298050891313 41 276}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=276
leader log:
[{snapshot 41 269} {5484427823175880653 41 270} {1369665013199466655 41 271} {4817035263991413648 41 272} {6900207010648232036 41 273} {7824048455774625157 41 274} {7157638805517678779 41 275} {8468029298050891313 41 276}]
------------------------------------------------------
flag 87492 term 41 leader 2 nextIndex[0]: 277  matchIndex[0]: 276
term 41 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 276 
------------------------------------------------------
flag 63924 term 41 leader 2 nextIndex[1]: 277  matchIndex[1]: 276
term 41 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 276 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 41 269} {5484427823175880653 41 270} {1369665013199466655 41 271} {4817035263991413648 41 272} {6900207010648232036 41 273} {7824048455774625157 41 274} {7157638805517678779 41 275} {8468029298050891313 41 276}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=276
leader log:
[{snapshot 41 269} {5484427823175880653 41 270} {1369665013199466655 41 271} {4817035263991413648 41 272} {6900207010648232036 41 273} {7824048455774625157 41 274} {7157638805517678779 41 275} {8468029298050891313 41 276}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 277->276
------------------------------------------------------
flag 74816 term 41 leader 2 nextIndex[0]: 277  matchIndex[0]: 276
term 41 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 276 
------------------------------------------------------
term 41 leader 2 nextIndex[1]: 0  matchIndex[1]: 276
term 41 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 41
------------------------------------------------------
term 41 server 1 InstallSnapshot fail
rf.commitIndex 276 args.LastIncludedIndex 269
------------------------------------------------------
term 41 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 270 matchIndex[1] 269 
------------------------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=276
leader log:
[{snapshot 41 269} {5484427823175880653 41 270} {1369665013199466655 41 271} {4817035263991413648 41 272} {6900207010648232036 41 273} {7824048455774625157 41 274} {7157638805517678779 41 275} {8468029298050891313 41 276}]
------------------------------------------------------
flag 83804 term 41 leader 2 nextIndex[0]: 277  matchIndex[0]: 276
term 41 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 276 
------------------------------------------------------
flag 27674 term 41 leader 2 nextIndex[1]: 270  matchIndex[1]: 269
term 41 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 41 leaderCommit: 276 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 41 269} {5484427823175880653 41 270} {1369665013199466655 41 271} {4817035263991413648 41 272} {6900207010648232036 41 273} {7824048455774625157 41 274} {7157638805517678779 41 275} {8468029298050891313 41 276}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=276
leader log:
[{snapshot 41 269} {5484427823175880653 41 270} {1369665013199466655 41 271} {4817035263991413648 41 272} {6900207010648232036 41 273} {7824048455774625157 41 274} {7157638805517678779 41 275} {8468029298050891313 41 276}]
------------------------------------------------------
flag 89367 term 41 leader 2 nextIndex[0]: 277  matchIndex[0]: 276
term 41 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 276 
------------------------------------------------------
flag 25356 term 41 leader 2 nextIndex[1]: 277  matchIndex[1]: 276
term 41 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 276 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
term 41 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
[{snapshot 41 269} {5484427823175880653 41 270} {1369665013199466655 41 271} {4817035263991413648 41 272} {6900207010648232036 41 273} {7824048455774625157 41 274} {7157638805517678779 41 275} {8468029298050891313 41 276}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=276
leader log:
[{snapshot 41 269} {5484427823175880653 41 270} {1369665013199466655 41 271} {4817035263991413648 41 272} {6900207010648232036 41 273} {7824048455774625157 41 274} {7157638805517678779 41 275} {8468029298050891313 41 276}]
------------------------------------------------------
flag 98669 term 41 leader 2 nextIndex[0]: 277  matchIndex[0]: 276
term 41 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 276 
------------------------------------------------------
flag 39849 term 41 leader 2 nextIndex[1]: 277  matchIndex[1]: 276
term 41 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 276 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 41 269} {5484427823175880653 41 270} {1369665013199466655 41 271} {4817035263991413648 41 272} {6900207010648232036 41 273} {7824048455774625157 41 274} {7157638805517678779 41 275} {8468029298050891313 41 276}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=276
leader log:
[{snapshot 41 269} {5484427823175880653 41 270} {1369665013199466655 41 271} {4817035263991413648 41 272} {6900207010648232036 41 273} {7824048455774625157 41 274} {7157638805517678779 41 275} {8468029298050891313 41 276}]
------------------------------------------------------
flag 56328 term 41 leader 2 nextIndex[0]: 277  matchIndex[0]: 276
term 41 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 276 
------------------------------------------------------
flag 82292 term 41 leader 2 nextIndex[1]: 277  matchIndex[1]: 276
term 41 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 276 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 41 269} {5484427823175880653 41 270} {1369665013199466655 41 271} {4817035263991413648 41 272} {6900207010648232036 41 273} {7824048455774625157 41 274} {7157638805517678779 41 275} {8468029298050891313 41 276}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=276
leader log:
[{snapshot 41 269} {5484427823175880653 41 270} {1369665013199466655 41 271} {4817035263991413648 41 272} {6900207010648232036 41 273} {7824048455774625157 41 274} {7157638805517678779 41 275} {8468029298050891313 41 276}]
------------------------------------------------------
flag 76620 term 41 leader 2 nextIndex[0]: 277  matchIndex[0]: 276
term 41 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 276 
------------------------------------------------------
flag 90400 term 41 leader 2 nextIndex[1]: 277  matchIndex[1]: 276
term 41 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 276 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 41 269} {5484427823175880653 41 270} {1369665013199466655 41 271} {4817035263991413648 41 272} {6900207010648232036 41 273} {7824048455774625157 41 274} {7157638805517678779 41 275} {8468029298050891313 41 276}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=276
leader log:
[{snapshot 41 269} {5484427823175880653 41 270} {1369665013199466655 41 271} {4817035263991413648 41 272} {6900207010648232036 41 273} {7824048455774625157 41 274} {7157638805517678779 41 275} {8468029298050891313 41 276}]
------------------------------------------------------
flag 48271 term 41 leader 2 nextIndex[0]: 277  matchIndex[0]: 276
term 41 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 276 
------------------------------------------------------
flag 43971 term 41 leader 2 nextIndex[1]: 277  matchIndex[1]: 276
term 41 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 276 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 41 269} {5484427823175880653 41 270} {1369665013199466655 41 271} {4817035263991413648 41 272} {6900207010648232036 41 273} {7824048455774625157 41 274} {7157638805517678779 41 275} {8468029298050891313 41 276}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=276
leader log:
[{snapshot 41 269} {5484427823175880653 41 270} {1369665013199466655 41 271} {4817035263991413648 41 272} {6900207010648232036 41 273} {7824048455774625157 41 274} {7157638805517678779 41 275} {8468029298050891313 41 276}]
------------------------------------------------------
flag 13176 term 41 leader 2 nextIndex[0]: 277  matchIndex[0]: 276
term 41 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 276 
------------------------------------------------------
flag 31005 term 41 leader 2 nextIndex[1]: 277  matchIndex[1]: 276
term 41 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 276 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 41 269} {5484427823175880653 41 270} {1369665013199466655 41 271} {4817035263991413648 41 272} {6900207010648232036 41 273} {7824048455774625157 41 274} {7157638805517678779 41 275} {8468029298050891313 41 276}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=276
leader log:
[{snapshot 41 269} {5484427823175880653 41 270} {1369665013199466655 41 271} {4817035263991413648 41 272} {6900207010648232036 41 273} {7824048455774625157 41 274} {7157638805517678779 41 275} {8468029298050891313 41 276}]
------------------------------------------------------
flag 74064 term 41 leader 2 nextIndex[0]: 277  matchIndex[0]: 276
term 41 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 276 
------------------------------------------------------
flag 83280 term 41 leader 2 nextIndex[1]: 277  matchIndex[1]: 276
term 41 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 276 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 41 269} {5484427823175880653 41 270} {1369665013199466655 41 271} {4817035263991413648 41 272} {6900207010648232036 41 273} {7824048455774625157 41 274} {7157638805517678779 41 275} {8468029298050891313 41 276}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=276
leader log:
[{snapshot 41 269} {5484427823175880653 41 270} {1369665013199466655 41 271} {4817035263991413648 41 272} {6900207010648232036 41 273} {7824048455774625157 41 274} {7157638805517678779 41 275} {8468029298050891313 41 276}]
------------------------------------------------------
client write log 110705410505944319 (index 277) to leader 2
term 41 server 0 not vote for server 2, 任期不够新
term 41 server 2 get outdate rpc reply from server 0
flag 90266 term 41 leader 2 nextIndex[0]: 277  matchIndex[0]: 276
term 41 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 276 
------------------------------------------------------
flag 32399 term 41 leader 2 nextIndex[1]: 277  matchIndex[1]: 276
term 41 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 41 leaderCommit: 276 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=277
leader log:
[{snapshot 41 269} {5484427823175880653 41 270} {1369665013199466655 41 271} {4817035263991413648 41 272} {6900207010648232036 41 273} {7824048455774625157 41 274} {7157638805517678779 41 275} {8468029298050891313 41 276} {110705410505944319 41 277}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=277
leader log:
[{snapshot 41 269} {5484427823175880653 41 270} {1369665013199466655 41 271} {4817035263991413648 41 272} {6900207010648232036 41 273} {7824048455774625157 41 274} {7157638805517678779 41 275} {8468029298050891313 41 276} {110705410505944319 41 277}]
------------------------------------------------------
flag 33585 term 41 leader 2 nextIndex[0]: 278  matchIndex[0]: 277
term 41 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 41 leaderCommit: 277 
------------------------------------------------------
flag 30249 term 41 leader 2 nextIndex[1]: 278  matchIndex[1]: 277
term 41 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 41 leaderCommit: 277 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=277
leader log:
[{snapshot 41 269} {5484427823175880653 41 270} {1369665013199466655 41 271} {4817035263991413648 41 272} {6900207010648232036 41 273} {7824048455774625157 41 274} {7157638805517678779 41 275} {8468029298050891313 41 276} {110705410505944319 41 277}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=277
leader log:
[{snapshot 41 269} {5484427823175880653 41 270} {1369665013199466655 41 271} {4817035263991413648 41 272} {6900207010648232036 41 273} {7824048455774625157 41 274} {7157638805517678779 41 275} {8468029298050891313 41 276} {110705410505944319 41 277}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 278->277
------------------------------------------------------
flag 15936 term 41 leader 2 nextIndex[0]: 278  matchIndex[0]: 277
term 41 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 41 leaderCommit: 277 
------------------------------------------------------
term 41 leader 2 nextIndex[1]: 0  matchIndex[1]: 277
term 41 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 41
------------------------------------------------------
term 41 server 1 InstallSnapshot fail
rf.commitIndex 277 args.LastIncludedIndex 269
------------------------------------------------------
term 41 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 270 matchIndex[1] 269 
------------------------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=277
leader log:
[{snapshot 41 269} {5484427823175880653 41 270} {1369665013199466655 41 271} {4817035263991413648 41 272} {6900207010648232036 41 273} {7824048455774625157 41 274} {7157638805517678779 41 275} {8468029298050891313 41 276} {110705410505944319 41 277}]
------------------------------------------------------
flag 85532 term 41 leader 2 nextIndex[0]: 278  matchIndex[0]: 277
term 41 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 41 leaderCommit: 277 
------------------------------------------------------
flag 95779 term 41 leader 2 nextIndex[1]: 270  matchIndex[1]: 269
term 41 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 41 leaderCommit: 277 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=277
leader log:
[{snapshot 41 269} {5484427823175880653 41 270} {1369665013199466655 41 271} {4817035263991413648 41 272} {6900207010648232036 41 273} {7824048455774625157 41 274} {7157638805517678779 41 275} {8468029298050891313 41 276} {110705410505944319 41 277}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=277
leader log:
[{snapshot 41 269} {5484427823175880653 41 270} {1369665013199466655 41 271} {4817035263991413648 41 272} {6900207010648232036 41 273} {7824048455774625157 41 274} {7157638805517678779 41 275} {8468029298050891313 41 276} {110705410505944319 41 277}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46757 term 41 leader 2 nextIndex[0]: 278  matchIndex[0]: 277
term 41 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 41 leaderCommit: 277 
------------------------------------------------------
flag 38729 term 41 leader 2 nextIndex[1]: 278  matchIndex[1]: 277
term 41 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 41 leaderCommit: 277 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=277
leader log:
[{snapshot 41 269} {5484427823175880653 41 270} {1369665013199466655 41 271} {4817035263991413648 41 272} {6900207010648232036 41 273} {7824048455774625157 41 274} {7157638805517678779 41 275} {8468029298050891313 41 276} {110705410505944319 41 277}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=277
leader log:
[{snapshot 41 269} {5484427823175880653 41 270} {1369665013199466655 41 271} {4817035263991413648 41 272} {6900207010648232036 41 273} {7824048455774625157 41 274} {7157638805517678779 41 275} {8468029298050891313 41 276} {110705410505944319 41 277}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 278->277
------------------------------------------------------
flag 50415 term 41 leader 2 nextIndex[0]: 278  matchIndex[0]: 277
term 41 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 41 leaderCommit: 277 
------------------------------------------------------
term 41 leader 2 nextIndex[1]: 0  matchIndex[1]: 277
term 41 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 41
------------------------------------------------------
term 41 server 1 InstallSnapshot fail
rf.commitIndex 277 args.LastIncludedIndex 269
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
term 41 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 270 matchIndex[1] 269 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=277
leader log:
[{snapshot 41 269} {5484427823175880653 41 270} {1369665013199466655 41 271} {4817035263991413648 41 272} {6900207010648232036 41 273} {7824048455774625157 41 274} {7157638805517678779 41 275} {8468029298050891313 41 276} {110705410505944319 41 277}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 0
client write log 8822324780227140222 (index 278) to leader 2
flag 41141 term 41 leader 2 nextIndex[0]: 278  matchIndex[0]: 277
term 41 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 41 leaderCommit: 277 
------------------------------------------------------
flag 64411 term 41 leader 2 nextIndex[1]: 270  matchIndex[1]: 269
term 41 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 41 leaderCommit: 277 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 41 269} {5484427823175880653 41 270} {1369665013199466655 41 271} {4817035263991413648 41 272} {6900207010648232036 41 273} {7824048455774625157 41 274} {7157638805517678779 41 275} {8468029298050891313 41 276} {110705410505944319 41 277} {8822324780227140222 41 278}]
------------------------------------------------------
flag 59355 term 41 leader 2 nextIndex[0]: 278  matchIndex[0]: 277
term 41 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 41 leaderCommit: 278 
------------------------------------------------------
flag 2164 term 41 leader 2 nextIndex[1]: 279  matchIndex[1]: 278
term 41 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 41 leaderCommit: 278 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 41 269} {5484427823175880653 41 270} {1369665013199466655 41 271} {4817035263991413648 41 272} {6900207010648232036 41 273} {7824048455774625157 41 274} {7157638805517678779 41 275} {8468029298050891313 41 276} {110705410505944319 41 277} {8822324780227140222 41 278}]
------------------------------------------------------
client write log 6520291621748672778 (index 279) to leader 2
client write log 3707152059643747406 (index 280) to leader 2
client write log 4730871687227771415 (index 281) to leader 2
client write log 4509625390861198225 (index 282) to leader 2
client write log 7779999771074307606 (index 283) to leader 2
client write log 2653438648122655566 (index 284) to leader 2
client write log 3634733196441828494 (index 285) to leader 2
client write log 5302168847107734185 (index 286) to leader 2
flag 94394 term 41 leader 2 nextIndex[0]: 278  matchIndex[0]: 277
term 41 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 41 leaderCommit: 278 
------------------------------------------------------
flag 36762 term 41 leader 2 nextIndex[1]: 279  matchIndex[1]: 278
term 41 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 41 leaderCommit: 278 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=286
leader log:
[{snapshot 41 269} {5484427823175880653 41 270} {1369665013199466655 41 271} {4817035263991413648 41 272} {6900207010648232036 41 273} {7824048455774625157 41 274} {7157638805517678779 41 275} {8468029298050891313 41 276} {110705410505944319 41 277} {8822324780227140222 41 278} {6520291621748672778 41 279} {3707152059643747406 41 280} {4730871687227771415 41 281} {4509625390861198225 41 282} {7779999771074307606 41 283} {2653438648122655566 41 284} {3634733196441828494 41 285} {5302168847107734185 41 286}]
------------------------------------------------------
term 41 Server2 start snapshot! index=279
term 41 server2 snapshot success
lastIncludedIndex=279 lastApplied=280 lastIndex=286
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 41 leader 2 nextIndex[0]: 278  matchIndex[0]: 277
term 41 leader 2 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 41
------------------------------------------------------
flag 68733 term 41 leader 2 nextIndex[1]: 287  matchIndex[1]: 286
term 41 leader 2 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 41 leaderCommit: 286 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=286
leader log:
[{snapshot 41 279} {3707152059643747406 41 280} {4730871687227771415 41 281} {4509625390861198225 41 282} {7779999771074307606 41 283} {2653438648122655566 41 284} {3634733196441828494 41 285} {5302168847107734185 41 286}]
------------------------------------------------------
term 41 Server1 start snapshot! index=279
term 41 server1 snapshot success
lastIncludedIndex=279 lastApplied=280 lastIndex=286
-------------------------------------------------------------
!!!!!!connect server 0
client write log 7697309812294951073 (index 287) to leader 2
term 41 server 2 not vote for server 0, 日志不够新
term 41 server 1 not vote for server 0, 日志不够新
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 43 server 1 vote for server 2
term 43 server 2 get vote from server 1
term 43 server 0 vote for server 2
term 43 server 2 become leader
------------------------------------------------------
term 43 server 2 get outdate rpc reply from server 0
flag 5622 term 43 leader 2 nextIndex[0]: 288  matchIndex[0]: 0
term 43 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 41 leaderCommit: 286 
------------------------------------------------------
flag 46887 term 43 leader 2 nextIndex[1]: 288  matchIndex[1]: 0
term 43 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 41 leaderCommit: 286 
------------------------------------------------------
term 43 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 288->287
------------------------------------------------------
term 43 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 288->287
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 43 leader 2 nextIndex[0]: 278  matchIndex[0]: 0
term 43 leader 2 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 41
------------------------------------------------------
flag 77162 term 43 leader 2 nextIndex[1]: 287  matchIndex[1]: 0
term 43 leader 2 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 41 leaderCommit: 286 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 41 279} {3707152059643747406 41 280} {4730871687227771415 41 281} {4509625390861198225 41 282} {7779999771074307606 41 283} {2653438648122655566 41 284} {3634733196441828494 41 285} {5302168847107734185 41 286} {7697309812294951073 41 287}]
------------------------------------------------------
term 43 server 0 InstallSnapshot success
------------------------------------------------------
term 43 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 280 matchIndex[0] 279 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 279 rf.lastIncludedTerm 41 rf.commitIndex 279 rf.lastApplied 279
flag 62820 term 43 leader 2 nextIndex[0]: 280  matchIndex[0]: 279
term 43 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 41 leaderCommit: 286 
------------------------------------------------------
flag 98298 term 43 leader 2 nextIndex[1]: 288  matchIndex[1]: 287
term 43 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 41 leaderCommit: 286 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 41 279} {3707152059643747406 41 280} {4730871687227771415 41 281} {4509625390861198225 41 282} {7779999771074307606 41 283} {2653438648122655566 41 284} {3634733196441828494 41 285} {5302168847107734185 41 286} {7697309812294951073 41 287}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 41 279} {3707152059643747406 41 280} {4730871687227771415 41 281} {4509625390861198225 41 282} {7779999771074307606 41 283} {2653438648122655566 41 284} {3634733196441828494 41 285} {5302168847107734185 41 286} {7697309812294951073 41 287}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44393 term 43 leader 2 nextIndex[0]: 288  matchIndex[0]: 287
term 43 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 41 leaderCommit: 286 
------------------------------------------------------
flag 42255 term 43 leader 2 nextIndex[1]: 288  matchIndex[1]: 287
term 43 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 41 leaderCommit: 286 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 41 279} {3707152059643747406 41 280} {4730871687227771415 41 281} {4509625390861198225 41 282} {7779999771074307606 41 283} {2653438648122655566 41 284} {3634733196441828494 41 285} {5302168847107734185 41 286} {7697309812294951073 41 287}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 41 279} {3707152059643747406 41 280} {4730871687227771415 41 281} {4509625390861198225 41 282} {7779999771074307606 41 283} {2653438648122655566 41 284} {3634733196441828494 41 285} {5302168847107734185 41 286} {7697309812294951073 41 287}]
------------------------------------------------------
flag 92491 term 43 leader 2 nextIndex[0]: 288  matchIndex[0]: 287
term 43 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 41 leaderCommit: 286 
------------------------------------------------------
flag 69749 term 43 leader 2 nextIndex[1]: 288  matchIndex[1]: 287
term 43 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 41 leaderCommit: 286 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 41 279} {3707152059643747406 41 280} {4730871687227771415 41 281} {4509625390861198225 41 282} {7779999771074307606 41 283} {2653438648122655566 41 284} {3634733196441828494 41 285} {5302168847107734185 41 286} {7697309812294951073 41 287}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 41 279} {3707152059643747406 41 280} {4730871687227771415 41 281} {4509625390861198225 41 282} {7779999771074307606 41 283} {2653438648122655566 41 284} {3634733196441828494 41 285} {5302168847107734185 41 286} {7697309812294951073 41 287}]
------------------------------------------------------
flag 65201 term 43 leader 2 nextIndex[0]: 288  matchIndex[0]: 287
term 43 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 41 leaderCommit: 286 
------------------------------------------------------
flag 25721 term 43 leader 2 nextIndex[1]: 288  matchIndex[1]: 287
term 43 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 41 leaderCommit: 286 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 41 279} {3707152059643747406 41 280} {4730871687227771415 41 281} {4509625390861198225 41 282} {7779999771074307606 41 283} {2653438648122655566 41 284} {3634733196441828494 41 285} {5302168847107734185 41 286} {7697309812294951073 41 287}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 41 279} {3707152059643747406 41 280} {4730871687227771415 41 281} {4509625390861198225 41 282} {7779999771074307606 41 283} {2653438648122655566 41 284} {3634733196441828494 41 285} {5302168847107734185 41 286} {7697309812294951073 41 287}]
------------------------------------------------------
flag 61624 term 43 leader 2 nextIndex[0]: 288  matchIndex[0]: 287
term 43 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 41 leaderCommit: 286 
------------------------------------------------------
flag 24655 term 43 leader 2 nextIndex[1]: 288  matchIndex[1]: 287
term 43 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 41 leaderCommit: 286 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 41 279} {3707152059643747406 41 280} {4730871687227771415 41 281} {4509625390861198225 41 282} {7779999771074307606 41 283} {2653438648122655566 41 284} {3634733196441828494 41 285} {5302168847107734185 41 286} {7697309812294951073 41 287}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 41 279} {3707152059643747406 41 280} {4730871687227771415 41 281} {4509625390861198225 41 282} {7779999771074307606 41 283} {2653438648122655566 41 284} {3634733196441828494 41 285} {5302168847107734185 41 286} {7697309812294951073 41 287}]
------------------------------------------------------
term 43 server 1 not vote for server 2, 任期不够新
term 43 server 2 get outdate rpc reply from server 1
flag 36046 term 43 leader 2 nextIndex[0]: 288  matchIndex[0]: 287
term 43 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 41 leaderCommit: 286 
------------------------------------------------------
flag 49690 term 43 leader 2 nextIndex[1]: 288  matchIndex[1]: 287
term 43 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 41 leaderCommit: 286 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 41 279} {3707152059643747406 41 280} {4730871687227771415 41 281} {4509625390861198225 41 282} {7779999771074307606 41 283} {2653438648122655566 41 284} {3634733196441828494 41 285} {5302168847107734185 41 286} {7697309812294951073 41 287}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 41 279} {3707152059643747406 41 280} {4730871687227771415 41 281} {4509625390861198225 41 282} {7779999771074307606 41 283} {2653438648122655566 41 284} {3634733196441828494 41 285} {5302168847107734185 41 286} {7697309812294951073 41 287}]
------------------------------------------------------
flag 74000 term 43 leader 2 nextIndex[0]: 288  matchIndex[0]: 287
term 43 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 41 leaderCommit: 286 
------------------------------------------------------
flag 78537 term 43 leader 2 nextIndex[1]: 288  matchIndex[1]: 287
term 43 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 41 leaderCommit: 286 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 41 279} {3707152059643747406 41 280} {4730871687227771415 41 281} {4509625390861198225 41 282} {7779999771074307606 41 283} {2653438648122655566 41 284} {3634733196441828494 41 285} {5302168847107734185 41 286} {7697309812294951073 41 287}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 41 279} {3707152059643747406 41 280} {4730871687227771415 41 281} {4509625390861198225 41 282} {7779999771074307606 41 283} {2653438648122655566 41 284} {3634733196441828494 41 285} {5302168847107734185 41 286} {7697309812294951073 41 287}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13870 term 43 leader 2 nextIndex[0]: 288  matchIndex[0]: 287
term 43 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 41 leaderCommit: 286 
------------------------------------------------------
flag 11376 term 43 leader 2 nextIndex[1]: 288  matchIndex[1]: 287
term 43 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 41 leaderCommit: 286 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 41 279} {3707152059643747406 41 280} {4730871687227771415 41 281} {4509625390861198225 41 282} {7779999771074307606 41 283} {2653438648122655566 41 284} {3634733196441828494 41 285} {5302168847107734185 41 286} {7697309812294951073 41 287}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 41 279} {3707152059643747406 41 280} {4730871687227771415 41 281} {4509625390861198225 41 282} {7779999771074307606 41 283} {2653438648122655566 41 284} {3634733196441828494 41 285} {5302168847107734185 41 286} {7697309812294951073 41 287}]
------------------------------------------------------
flag 17095 term 43 leader 2 nextIndex[0]: 288  matchIndex[0]: 287
term 43 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 41 leaderCommit: 286 
------------------------------------------------------
flag 17162 term 43 leader 2 nextIndex[1]: 288  matchIndex[1]: 287
term 43 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 41 leaderCommit: 286 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 41 279} {3707152059643747406 41 280} {4730871687227771415 41 281} {4509625390861198225 41 282} {7779999771074307606 41 283} {2653438648122655566 41 284} {3634733196441828494 41 285} {5302168847107734185 41 286} {7697309812294951073 41 287}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 41 279} {3707152059643747406 41 280} {4730871687227771415 41 281} {4509625390861198225 41 282} {7779999771074307606 41 283} {2653438648122655566 41 284} {3634733196441828494 41 285} {5302168847107734185 41 286} {7697309812294951073 41 287}]
------------------------------------------------------
flag 94176 term 43 leader 2 nextIndex[0]: 288  matchIndex[0]: 287
term 43 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 41 leaderCommit: 286 
------------------------------------------------------
flag 60658 term 43 leader 2 nextIndex[1]: 288  matchIndex[1]: 287
term 43 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 41 leaderCommit: 286 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 41 279} {3707152059643747406 41 280} {4730871687227771415 41 281} {4509625390861198225 41 282} {7779999771074307606 41 283} {2653438648122655566 41 284} {3634733196441828494 41 285} {5302168847107734185 41 286} {7697309812294951073 41 287}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 41 279} {3707152059643747406 41 280} {4730871687227771415 41 281} {4509625390861198225 41 282} {7779999771074307606 41 283} {2653438648122655566 41 284} {3634733196441828494 41 285} {5302168847107734185 41 286} {7697309812294951073 41 287}]
------------------------------------------------------
flag 11588 term 43 leader 2 nextIndex[0]: 288  matchIndex[0]: 287
term 43 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 41 leaderCommit: 286 
------------------------------------------------------
flag 98181 term 43 leader 2 nextIndex[1]: 288  matchIndex[1]: 287
term 43 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 41 leaderCommit: 286 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 41 279} {3707152059643747406 41 280} {4730871687227771415 41 281} {4509625390861198225 41 282} {7779999771074307606 41 283} {2653438648122655566 41 284} {3634733196441828494 41 285} {5302168847107734185 41 286} {7697309812294951073 41 287}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 41 279} {3707152059643747406 41 280} {4730871687227771415 41 281} {4509625390861198225 41 282} {7779999771074307606 41 283} {2653438648122655566 41 284} {3634733196441828494 41 285} {5302168847107734185 41 286} {7697309812294951073 41 287}]
------------------------------------------------------
flag 94006 term 43 leader 2 nextIndex[0]: 288  matchIndex[0]: 287
term 43 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 41 leaderCommit: 286 
------------------------------------------------------
flag 38622 term 43 leader 2 nextIndex[1]: 288  matchIndex[1]: 287
term 43 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 41 leaderCommit: 286 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 41 279} {3707152059643747406 41 280} {4730871687227771415 41 281} {4509625390861198225 41 282} {7779999771074307606 41 283} {2653438648122655566 41 284} {3634733196441828494 41 285} {5302168847107734185 41 286} {7697309812294951073 41 287}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 41 279} {3707152059643747406 41 280} {4730871687227771415 41 281} {4509625390861198225 41 282} {7779999771074307606 41 283} {2653438648122655566 41 284} {3634733196441828494 41 285} {5302168847107734185 41 286} {7697309812294951073 41 287}]
------------------------------------------------------
term 43 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 21312 term 43 leader 2 nextIndex[0]: 288  matchIndex[0]: 287
term 43 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 41 leaderCommit: 286 
------------------------------------------------------
flag 49352 term 43 leader 2 nextIndex[1]: 288  matchIndex[1]: 287
term 43 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 41 leaderCommit: 286 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 41 279} {3707152059643747406 41 280} {4730871687227771415 41 281} {4509625390861198225 41 282} {7779999771074307606 41 283} {2653438648122655566 41 284} {3634733196441828494 41 285} {5302168847107734185 41 286} {7697309812294951073 41 287}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 41 279} {3707152059643747406 41 280} {4730871687227771415 41 281} {4509625390861198225 41 282} {7779999771074307606 41 283} {2653438648122655566 41 284} {3634733196441828494 41 285} {5302168847107734185 41 286} {7697309812294951073 41 287}]
------------------------------------------------------
flag 75041 term 43 leader 2 nextIndex[0]: 288  matchIndex[0]: 287
term 43 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 41 leaderCommit: 286 
------------------------------------------------------
flag 34563 term 43 leader 2 nextIndex[1]: 288  matchIndex[1]: 287
term 43 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 41 leaderCommit: 286 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 41 279} {3707152059643747406 41 280} {4730871687227771415 41 281} {4509625390861198225 41 282} {7779999771074307606 41 283} {2653438648122655566 41 284} {3634733196441828494 41 285} {5302168847107734185 41 286} {7697309812294951073 41 287}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 41 279} {3707152059643747406 41 280} {4730871687227771415 41 281} {4509625390861198225 41 282} {7779999771074307606 41 283} {2653438648122655566 41 284} {3634733196441828494 41 285} {5302168847107734185 41 286} {7697309812294951073 41 287}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29920 term 43 leader 2 nextIndex[0]: 288  matchIndex[0]: 287
term 43 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 41 leaderCommit: 286 
------------------------------------------------------
flag 12559 term 43 leader 2 nextIndex[1]: 288  matchIndex[1]: 287
term 43 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 41 leaderCommit: 286 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 41 279} {3707152059643747406 41 280} {4730871687227771415 41 281} {4509625390861198225 41 282} {7779999771074307606 41 283} {2653438648122655566 41 284} {3634733196441828494 41 285} {5302168847107734185 41 286} {7697309812294951073 41 287}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 41 279} {3707152059643747406 41 280} {4730871687227771415 41 281} {4509625390861198225 41 282} {7779999771074307606 41 283} {2653438648122655566 41 284} {3634733196441828494 41 285} {5302168847107734185 41 286} {7697309812294951073 41 287}]
------------------------------------------------------
flag 5624 term 43 leader 2 nextIndex[0]: 288  matchIndex[0]: 287
term 43 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 41 leaderCommit: 286 
------------------------------------------------------
flag 49803 term 43 leader 2 nextIndex[1]: 288  matchIndex[1]: 287
term 43 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 41 leaderCommit: 286 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 41 279} {3707152059643747406 41 280} {4730871687227771415 41 281} {4509625390861198225 41 282} {7779999771074307606 41 283} {2653438648122655566 41 284} {3634733196441828494 41 285} {5302168847107734185 41 286} {7697309812294951073 41 287}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 41 279} {3707152059643747406 41 280} {4730871687227771415 41 281} {4509625390861198225 41 282} {7779999771074307606 41 283} {2653438648122655566 41 284} {3634733196441828494 41 285} {5302168847107734185 41 286} {7697309812294951073 41 287}]
------------------------------------------------------
flag 98436 term 43 leader 2 nextIndex[0]: 288  matchIndex[0]: 287
term 43 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 41 leaderCommit: 286 
------------------------------------------------------
flag 10782 term 43 leader 2 nextIndex[1]: 288  matchIndex[1]: 287
term 43 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 41 leaderCommit: 286 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=288
update matchIndex[0]=287
update leader CommitIndex=286
leader log:
[{snapshot 41 279} {3707152059643747406 41 280} {4730871687227771415 41 281} {4509625390861198225 41 282} {7779999771074307606 41 283} {2653438648122655566 41 284} {3634733196441828494 41 285} {5302168847107734185 41 286} {7697309812294951073 41 287}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 41 279} {3707152059643747406 41 280} {4730871687227771415 41 281} {4509625390861198225 41 282} {7779999771074307606 41 283} {2653438648122655566 41 284} {3634733196441828494 41 285} {5302168847107734185 41 286} {7697309812294951073 41 287}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 7697309812294951073 (index 288) to leader 2
flag 80041 term 43 leader 2 nextIndex[0]: 288  matchIndex[0]: 287
term 43 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 41 leaderCommit: 286 
------------------------------------------------------
flag 68411 term 43 leader 2 nextIndex[1]: 288  matchIndex[1]: 287
term 43 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 41 leaderCommit: 286 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=288
leader log:
[{snapshot 41 279} {3707152059643747406 41 280} {4730871687227771415 41 281} {4509625390861198225 41 282} {7779999771074307606 41 283} {2653438648122655566 41 284} {3634733196441828494 41 285} {5302168847107734185 41 286} {7697309812294951073 41 287} {7697309812294951073 43 288}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=288
leader log:
[{snapshot 41 279} {3707152059643747406 41 280} {4730871687227771415 41 281} {4509625390861198225 41 282} {7779999771074307606 41 283} {2653438648122655566 41 284} {3634733196441828494 41 285} {5302168847107734185 41 286} {7697309812294951073 41 287} {7697309812294951073 43 288}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99441 term 43 leader 2 nextIndex[0]: 289  matchIndex[0]: 288
term 43 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 43 leaderCommit: 288 
------------------------------------------------------
flag 52922 term 43 leader 2 nextIndex[1]: 289  matchIndex[1]: 288
term 43 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 43 leaderCommit: 288 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=288
leader log:
[{snapshot 41 279} {3707152059643747406 41 280} {4730871687227771415 41 281} {4509625390861198225 41 282} {7779999771074307606 41 283} {2653438648122655566 41 284} {3634733196441828494 41 285} {5302168847107734185 41 286} {7697309812294951073 41 287} {7697309812294951073 43 288}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=288
leader log:
[{snapshot 41 279} {3707152059643747406 41 280} {4730871687227771415 41 281} {4509625390861198225 41 282} {7779999771074307606 41 283} {2653438648122655566 41 284} {3634733196441828494 41 285} {5302168847107734185 41 286} {7697309812294951073 41 287} {7697309812294951073 43 288}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 627 term 43 leader 2 nextIndex[0]: 289  matchIndex[0]: 288
term 43 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 43 leaderCommit: 288 
------------------------------------------------------
flag 21513 term 43 leader 2 nextIndex[1]: 289  matchIndex[1]: 288
term 43 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 43 leaderCommit: 288 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=288
leader log:
[{snapshot 41 279} {3707152059643747406 41 280} {4730871687227771415 41 281} {4509625390861198225 41 282} {7779999771074307606 41 283} {2653438648122655566 41 284} {3634733196441828494 41 285} {5302168847107734185 41 286} {7697309812294951073 41 287} {7697309812294951073 43 288}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=288
leader log:
[{snapshot 41 279} {3707152059643747406 41 280} {4730871687227771415 41 281} {4509625390861198225 41 282} {7779999771074307606 41 283} {2653438648122655566 41 284} {3634733196441828494 41 285} {5302168847107734185 41 286} {7697309812294951073 41 287} {7697309812294951073 43 288}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82549 term 43 leader 2 nextIndex[0]: 289  matchIndex[0]: 288
term 43 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 43 leaderCommit: 288 
------------------------------------------------------
flag 96522 term 43 leader 2 nextIndex[1]: 289  matchIndex[1]: 288
term 43 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 43 leaderCommit: 288 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=288
leader log:
[{snapshot 41 279} {3707152059643747406 41 280} {4730871687227771415 41 281} {4509625390861198225 41 282} {7779999771074307606 41 283} {2653438648122655566 41 284} {3634733196441828494 41 285} {5302168847107734185 41 286} {7697309812294951073 41 287} {7697309812294951073 43 288}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=288
leader log:
[{snapshot 41 279} {3707152059643747406 41 280} {4730871687227771415 41 281} {4509625390861198225 41 282} {7779999771074307606 41 283} {2653438648122655566 41 284} {3634733196441828494 41 285} {5302168847107734185 41 286} {7697309812294951073 41 287} {7697309812294951073 43 288}]
------------------------------------------------------
term 43 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 15431 term 43 leader 2 nextIndex[0]: 289  matchIndex[0]: 288
term 43 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 43 leaderCommit: 288 
------------------------------------------------------
flag 82987 term 43 leader 2 nextIndex[1]: 289  matchIndex[1]: 288
term 43 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 43 leaderCommit: 288 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=288
leader log:
[{snapshot 41 279} {3707152059643747406 41 280} {4730871687227771415 41 281} {4509625390861198225 41 282} {7779999771074307606 41 283} {2653438648122655566 41 284} {3634733196441828494 41 285} {5302168847107734185 41 286} {7697309812294951073 41 287} {7697309812294951073 43 288}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=288
leader log:
[{snapshot 41 279} {3707152059643747406 41 280} {4730871687227771415 41 281} {4509625390861198225 41 282} {7779999771074307606 41 283} {2653438648122655566 41 284} {3634733196441828494 41 285} {5302168847107734185 41 286} {7697309812294951073 41 287} {7697309812294951073 43 288}]
------------------------------------------------------
flag 60718 term 43 leader 2 nextIndex[0]: 289  matchIndex[0]: 288
term 43 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 43 leaderCommit: 288 
------------------------------------------------------
flag 69360 term 43 leader 2 nextIndex[1]: 289  matchIndex[1]: 288
term 43 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 43 leaderCommit: 288 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=288
leader log:
[{snapshot 41 279} {3707152059643747406 41 280} {4730871687227771415 41 281} {4509625390861198225 41 282} {7779999771074307606 41 283} {2653438648122655566 41 284} {3634733196441828494 41 285} {5302168847107734185 41 286} {7697309812294951073 41 287} {7697309812294951073 43 288}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=288
leader log:
[{snapshot 41 279} {3707152059643747406 41 280} {4730871687227771415 41 281} {4509625390861198225 41 282} {7779999771074307606 41 283} {2653438648122655566 41 284} {3634733196441828494 41 285} {5302168847107734185 41 286} {7697309812294951073 41 287} {7697309812294951073 43 288}]
------------------------------------------------------
flag 98474 term 43 leader 2 nextIndex[0]: 289  matchIndex[0]: 288
term 43 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 43 leaderCommit: 288 
------------------------------------------------------
flag 26706 term 43 leader 2 nextIndex[1]: 289  matchIndex[1]: 288
term 43 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 43 leaderCommit: 288 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=288
leader log:
[{snapshot 41 279} {3707152059643747406 41 280} {4730871687227771415 41 281} {4509625390861198225 41 282} {7779999771074307606 41 283} {2653438648122655566 41 284} {3634733196441828494 41 285} {5302168847107734185 41 286} {7697309812294951073 41 287} {7697309812294951073 43 288}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=288
leader log:
[{snapshot 41 279} {3707152059643747406 41 280} {4730871687227771415 41 281} {4509625390861198225 41 282} {7779999771074307606 41 283} {2653438648122655566 41 284} {3634733196441828494 41 285} {5302168847107734185 41 286} {7697309812294951073 41 287} {7697309812294951073 43 288}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 240002166220040397 (index 289) to leader 2
flag 26835 term 43 leader 2 nextIndex[0]: 289  matchIndex[0]: 288
term 43 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 43 leaderCommit: 288 
------------------------------------------------------
flag 94587 term 43 leader 2 nextIndex[1]: 289  matchIndex[1]: 288
term 43 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 43 leaderCommit: 288 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=289
leader log:
[{snapshot 41 279} {3707152059643747406 41 280} {4730871687227771415 41 281} {4509625390861198225 41 282} {7779999771074307606 41 283} {2653438648122655566 41 284} {3634733196441828494 41 285} {5302168847107734185 41 286} {7697309812294951073 41 287} {7697309812294951073 43 288} {240002166220040397 43 289}]
------------------------------------------------------
term 43 Server2 start snapshot! index=289
term 43 server2 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=289
-------------------------------------------------------------
term 43 leader 2 nextIndex[0]: 289  matchIndex[0]: 288
term 43 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 43
------------------------------------------------------
flag 7268 term 43 leader 2 nextIndex[1]: 290  matchIndex[1]: 289
term 43 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 43 leaderCommit: 289 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=289
leader log:
[{snapshot 43 289}]
------------------------------------------------------
term 43 Server1 start snapshot! index=289
term 43 server1 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=289
-------------------------------------------------------------
client write log 5249807640832167298 (index 290) to leader 2
client write log 8906846783059357873 (index 291) to leader 2
client write log 5119457511091492623 (index 292) to leader 2
client write log 3545799988479408930 (index 293) to leader 2
client write log 7047231403917560353 (index 294) to leader 2
client write log 3967635537666114685 (index 295) to leader 2
client write log 509404558637144564 (index 296) to leader 2
client write log 4651246348851477113 (index 297) to leader 2
client write log 5601625194574642413 (index 298) to leader 2
client write log 7014965901050253910 (index 299) to leader 2
term 43 leader 2 nextIndex[0]: 289  matchIndex[0]: 288
term 43 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 43
------------------------------------------------------
flag 7481 term 43 leader 2 nextIndex[1]: 290  matchIndex[1]: 289
term 43 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 43 leaderCommit: 289 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=299
leader log:
[{snapshot 43 289} {5249807640832167298 43 290} {8906846783059357873 43 291} {5119457511091492623 43 292} {3545799988479408930 43 293} {7047231403917560353 43 294} {3967635537666114685 43 295} {509404558637144564 43 296} {4651246348851477113 43 297} {5601625194574642413 43 298} {7014965901050253910 43 299}]
------------------------------------------------------
term 43 Server2 start snapshot! index=299
term 43 server2 snapshot success
lastIncludedIndex=299 lastApplied=299 lastIndex=299
-------------------------------------------------------------
term 43 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 43 leader 2 nextIndex[0]: 289  matchIndex[0]: 288
term 43 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 43
------------------------------------------------------
flag 34427 term 43 leader 2 nextIndex[1]: 300  matchIndex[1]: 299
term 43 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 43 leaderCommit: 299 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=299
leader log:
[{snapshot 43 299}]
------------------------------------------------------
term 43 Server1 start snapshot! index=299
term 43 server1 snapshot success
lastIncludedIndex=299 lastApplied=299 lastIndex=299
-------------------------------------------------------------
!!!!!!connect server 0
client write log 3851182969920909578 (index 300) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 43 server 2 not vote for server 0, 日志不够新
term 43 server 1 not vote for server 0, 日志不够新
term 45 server 1 vote for server 2
term 45 server 0 vote for server 2
term 45 server 2 get vote from server 1
term 45 server 2 become leader
------------------------------------------------------
term 45 server 2 get outdate rpc reply from server 0
term 45 server 1 not vote for server 2, 任期不够新
term 45 server 2 get outdate rpc reply from server 1
flag 45828 term 45 leader 2 nextIndex[0]: 301  matchIndex[0]: 0
term 45 leader 2 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 43 leaderCommit: 299 
------------------------------------------------------
flag 24595 term 45 leader 2 nextIndex[1]: 301  matchIndex[1]: 0
term 45 leader 2 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 43 leaderCommit: 299 
------------------------------------------------------
term 45 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 45 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 301->300
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 301->300
------------------------------------------------------
term 45 leader 2 nextIndex[0]: 289  matchIndex[0]: 0
term 45 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 43
------------------------------------------------------
flag 7040 term 45 leader 2 nextIndex[1]: 300  matchIndex[1]: 0
term 45 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 43 leaderCommit: 299 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=301
update matchIndex[1]=300
update leader CommitIndex=299
leader log:
[{snapshot 43 299} {3851182969920909578 43 300}]
------------------------------------------------------
term 45 server 0 InstallSnapshot success
------------------------------------------------------
term 45 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 300 matchIndex[0] 299 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 299 rf.lastIncludedTerm 43 rf.commitIndex 299 rf.lastApplied 299
flag 32718 term 45 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 45 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 43 leaderCommit: 299 
------------------------------------------------------
flag 15460 term 45 leader 2 nextIndex[1]: 301  matchIndex[1]: 300
term 45 leader 2 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 43 leaderCommit: 299 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=301
update matchIndex[1]=300
update leader CommitIndex=299
leader log:
[{snapshot 43 299} {3851182969920909578 43 300}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=301
update matchIndex[0]=300
update leader CommitIndex=299
leader log:
[{snapshot 43 299} {3851182969920909578 43 300}]
------------------------------------------------------
flag 87381 term 45 leader 2 nextIndex[0]: 301  matchIndex[0]: 300
term 45 leader 2 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 43 leaderCommit: 299 
------------------------------------------------------
flag 19461 term 45 leader 2 nextIndex[1]: 301  matchIndex[1]: 300
term 45 leader 2 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 43 leaderCommit: 299 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=301
update matchIndex[1]=300
update leader CommitIndex=299
leader log:
[{snapshot 43 299} {3851182969920909578 43 300}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=301
update matchIndex[0]=300
update leader CommitIndex=299
leader log:
[{snapshot 43 299} {3851182969920909578 43 300}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84389 term 45 leader 2 nextIndex[0]: 301  matchIndex[0]: 300
term 45 leader 2 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 43 leaderCommit: 299 
------------------------------------------------------
flag 36366 term 45 leader 2 nextIndex[1]: 301  matchIndex[1]: 300
term 45 leader 2 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 43 leaderCommit: 299 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=301
update matchIndex[1]=300
update leader CommitIndex=299
leader log:
[{snapshot 43 299} {3851182969920909578 43 300}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=301
update matchIndex[0]=300
update leader CommitIndex=299
leader log:
[{snapshot 43 299} {3851182969920909578 43 300}]
------------------------------------------------------
flag 29640 term 45 leader 2 nextIndex[0]: 301  matchIndex[0]: 300
term 45 leader 2 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 43 leaderCommit: 299 
------------------------------------------------------
flag 36744 term 45 leader 2 nextIndex[1]: 301  matchIndex[1]: 300
term 45 leader 2 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 43 leaderCommit: 299 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=301
term 45 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
update matchIndex[1]=300
update leader CommitIndex=299
leader log:
[{snapshot 43 299} {3851182969920909578 43 300}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=301
update matchIndex[0]=300
update leader CommitIndex=299
leader log:
[{snapshot 43 299} {3851182969920909578 43 300}]
------------------------------------------------------
flag 59434 term 45 leader 2 nextIndex[0]: 301  matchIndex[0]: 300
term 45 leader 2 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 43 leaderCommit: 299 
------------------------------------------------------
flag 12830 term 45 leader 2 nextIndex[1]: 301  matchIndex[1]: 300
term 45 leader 2 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 43 leaderCommit: 299 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=301
update matchIndex[0]=300
update leader CommitIndex=299
leader log:
[{snapshot 43 299} {3851182969920909578 43 300}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=301
update matchIndex[1]=300
update leader CommitIndex=299
leader log:
[{snapshot 43 299} {3851182969920909578 43 300}]
------------------------------------------------------
flag 97480 term 45 leader 2 nextIndex[0]: 301  matchIndex[0]: 300
term 45 leader 2 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 43 leaderCommit: 299 
------------------------------------------------------
flag 70539 term 45 leader 2 nextIndex[1]: 301  matchIndex[1]: 300
term 45 leader 2 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 43 leaderCommit: 299 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=301
update matchIndex[0]=300
update leader CommitIndex=299
leader log:
[{snapshot 43 299} {3851182969920909578 43 300}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=301
update matchIndex[1]=300
update leader CommitIndex=299
leader log:
[{snapshot 43 299} {3851182969920909578 43 300}]
------------------------------------------------------
flag 32256 term 45 leader 2 nextIndex[0]: 301  matchIndex[0]: 300
term 45 leader 2 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 43 leaderCommit: 299 
------------------------------------------------------
flag 84329 term 45 leader 2 nextIndex[1]: 301  matchIndex[1]: 300
term 45 leader 2 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 43 leaderCommit: 299 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=301
update matchIndex[1]=300
update leader CommitIndex=299
leader log:
[{snapshot 43 299} {3851182969920909578 43 300}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=301
update matchIndex[0]=300
update leader CommitIndex=299
leader log:
[{snapshot 43 299} {3851182969920909578 43 300}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66076 term 45 leader 2 nextIndex[0]: 301  matchIndex[0]: 300
term 45 leader 2 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 43 leaderCommit: 299 
------------------------------------------------------
flag 12082 term 45 leader 2 nextIndex[1]: 301  matchIndex[1]: 300
term 45 leader 2 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 43 leaderCommit: 299 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=301
update matchIndex[1]=300
update leader CommitIndex=299
leader log:
[{snapshot 43 299} {3851182969920909578 43 300}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=301
update matchIndex[0]=300
update leader CommitIndex=299
leader log:
[{snapshot 43 299} {3851182969920909578 43 300}]
------------------------------------------------------
flag 16213 term 45 leader 2 nextIndex[0]: 301  matchIndex[0]: 300
term 45 leader 2 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 43 leaderCommit: 299 
------------------------------------------------------
flag 60514 term 45 leader 2 nextIndex[1]: 301  matchIndex[1]: 300
term 45 leader 2 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 43 leaderCommit: 299 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=301
update matchIndex[0]=300
update leader CommitIndex=299
leader log:
[{snapshot 43 299} {3851182969920909578 43 300}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=301
update matchIndex[1]=300
update leader CommitIndex=299
leader log:
[{snapshot 43 299} {3851182969920909578 43 300}]
------------------------------------------------------
flag 99433 term 45 leader 2 nextIndex[0]: 301  matchIndex[0]: 300
term 45 leader 2 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 43 leaderCommit: 299 
------------------------------------------------------
flag 43934 term 45 leader 2 nextIndex[1]: 301  matchIndex[1]: 300
term 45 leader 2 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 43 leaderCommit: 299 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=301
update matchIndex[1]=300
update leader CommitIndex=299
leader log:
term 45 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
[{snapshot 43 299} {3851182969920909578 43 300}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=301
update matchIndex[0]=300
update leader CommitIndex=299
leader log:
[{snapshot 43 299} {3851182969920909578 43 300}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35344 term 45 leader 2 nextIndex[0]: 301  matchIndex[0]: 300
term 45 leader 2 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 43 leaderCommit: 299 
------------------------------------------------------
flag 96470 term 45 leader 2 nextIndex[1]: 301  matchIndex[1]: 300
term 45 leader 2 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 43 leaderCommit: 299 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=301
update matchIndex[0]=300
update leader CommitIndex=299
leader log:
[{snapshot 43 299} {3851182969920909578 43 300}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=301
update matchIndex[1]=300
update leader CommitIndex=299
leader log:
[{snapshot 43 299} {3851182969920909578 43 300}]
------------------------------------------------------
flag 2234 term 45 leader 2 nextIndex[0]: 301  matchIndex[0]: 300
term 45 leader 2 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 43 leaderCommit: 299 
------------------------------------------------------
flag 4612 term 45 leader 2 nextIndex[1]: 301  matchIndex[1]: 300
term 45 leader 2 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 43 leaderCommit: 299 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=301
update matchIndex[1]=300
update leader CommitIndex=299
leader log:
[{snapshot 43 299} {3851182969920909578 43 300}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=301
update matchIndex[0]=300
update leader CommitIndex=299
leader log:
[{snapshot 43 299} {3851182969920909578 43 300}]
------------------------------------------------------
flag 54746 term 45 leader 2 nextIndex[0]: 301  matchIndex[0]: 300
term 45 leader 2 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 43 leaderCommit: 299 
------------------------------------------------------
flag 86286 term 45 leader 2 nextIndex[1]: 301  matchIndex[1]: 300
term 45 leader 2 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 43 leaderCommit: 299 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=301
update matchIndex[1]=300
update leader CommitIndex=299
leader log:
[{snapshot 43 299} {3851182969920909578 43 300}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=301
update matchIndex[0]=300
update leader CommitIndex=299
leader log:
[{snapshot 43 299} {3851182969920909578 43 300}]
------------------------------------------------------
flag 60540 term 45 leader 2 nextIndex[0]: 301  matchIndex[0]: 300
term 45 leader 2 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 43 leaderCommit: 299 
------------------------------------------------------
flag 36543 term 45 leader 2 nextIndex[1]: 301  matchIndex[1]: 300
term 45 leader 2 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 43 leaderCommit: 299 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=301
update matchIndex[1]=300
update leader CommitIndex=299
leader log:
[{snapshot 43 299} {3851182969920909578 43 300}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=301
update matchIndex[0]=300
update leader CommitIndex=299
leader log:
[{snapshot 43 299} {3851182969920909578 43 300}]
------------------------------------------------------
flag 6287 term 45 leader 2 nextIndex[0]: 301  matchIndex[0]: 300
term 45 leader 2 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 43 leaderCommit: 299 
------------------------------------------------------
flag 10735 term 45 leader 2 nextIndex[1]: 301  matchIndex[1]: 300
term 45 leader 2 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 43 leaderCommit: 299 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=301
update matchIndex[1]=300
update leader CommitIndex=299
leader log:
[{snapshot 43 299} {3851182969920909578 43 300}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=301
update matchIndex[0]=300
update leader CommitIndex=299
leader log:
[{snapshot 43 299} {3851182969920909578 43 300}]
------------------------------------------------------
flag 58874 term 45 leader 2 nextIndex[0]: 301  matchIndex[0]: 300
term 45 leader 2 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 43 leaderCommit: 299 
------------------------------------------------------
flag 12115 term 45 leader 2 nextIndex[1]: 301  matchIndex[1]: 300
term 45 leader 2 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 43 leaderCommit: 299 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=301
update matchIndex[1]=300
update leader CommitIndex=299
leader log:
[{snapshot 43 299} {3851182969920909578 43 300}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=301
update matchIndex[0]=300
update leader CommitIndex=299
leader log:
[{snapshot 43 299} {3851182969920909578 43 300}]
------------------------------------------------------
flag 45382 term 45 leader 2 nextIndex[0]: 301  matchIndex[0]: 300
term 45 leader 2 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 43 leaderCommit: 299 
------------------------------------------------------
flag 68220 term 45 leader 2 nextIndex[1]: 301  matchIndex[1]: 300
term 45 leader 2 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 43 leaderCommit: 299 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=301
update matchIndex[1]=300
update leader CommitIndex=299
leader log:
[{snapshot 43 299} {3851182969920909578 43 300}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=301
update matchIndex[0]=300
update leader CommitIndex=299
leader log:
[{snapshot 43 299} {3851182969920909578 43 300}]
------------------------------------------------------
flag 8805 term 45 leader 2 nextIndex[0]: 301  matchIndex[0]: 300
term 45 leader 2 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 43 leaderCommit: 299 
------------------------------------------------------
flag 55700 term 45 leader 2 nextIndex[1]: 301  matchIndex[1]: 300
term 45 leader 2 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 43 leaderCommit: 299 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=301
update matchIndex[1]=300
update leader CommitIndex=299
leader log:
[{snapshot 43 299} {3851182969920909578 43 300}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=301
update matchIndex[0]=300
update leader CommitIndex=299
leader log:
[{snapshot 43 299} {3851182969920909578 43 300}]
------------------------------------------------------
client write log 3851182969920909578 (index 301) to leader 2
flag 91808 term 45 leader 2 nextIndex[0]: 301  matchIndex[0]: 300
term 45 leader 2 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 43 leaderCommit: 299 
------------------------------------------------------
flag 55646 term 45 leader 2 nextIndex[1]: 301  matchIndex[1]: 300
term 45 leader 2 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 43 leaderCommit: 299 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=301
leader log:
[{snapshot 43 299} {3851182969920909578 43 300} {3851182969920909578 45 301}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=301
leader log:
[{snapshot 43 299} {3851182969920909578 43 300} {3851182969920909578 45 301}]
------------------------------------------------------
flag 74601 term 45 leader 2 nextIndex[0]: 302  matchIndex[0]: 301
term 45 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 45 leaderCommit: 301 
------------------------------------------------------
flag 14908 term 45 leader 2 nextIndex[1]: 302  matchIndex[1]: 301
term 45 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 45 leaderCommit: 301 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=301
leader log:
[{snapshot 43 299} {3851182969920909578 43 300} {3851182969920909578 45 301}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=301
leader log:
[{snapshot 43 299} {3851182969920909578 43 300} {3851182969920909578 45 301}]
------------------------------------------------------
term 45 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 68015 term 45 leader 2 nextIndex[0]: 302  matchIndex[0]: 301
term 45 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 45 leaderCommit: 301 
------------------------------------------------------
flag 69339 term 45 leader 2 nextIndex[1]: 302  matchIndex[1]: 301
term 45 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 45 leaderCommit: 301 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:301 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=301
leader log:
[{snapshot 43 299} {3851182969920909578 43 300} {3851182969920909578 45 301}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=301
leader log:
[{snapshot 43 299} {3851182969920909578 43 300} {3851182969920909578 45 301}]
------------------------------------------------------
flag 57664 term 45 leader 2 nextIndex[0]: 302  matchIndex[0]: 301
term 45 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 45 leaderCommit: 301 
------------------------------------------------------
flag 2513 term 45 leader 2 nextIndex[1]: 302  matchIndex[1]: 301
term 45 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 45 leaderCommit: 301 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=301
leader log:
[{snapshot 43 299} {3851182969920909578 43 300} {3851182969920909578 45 301}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=301
leader log:
[{snapshot 43 299} {3851182969920909578 43 300} {3851182969920909578 45 301}]
------------------------------------------------------
flag 78673 term 45 leader 2 nextIndex[0]: 302  matchIndex[0]: 301
term 45 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 45 leaderCommit: 301 
------------------------------------------------------
flag 328 term 45 leader 2 nextIndex[1]: 302  matchIndex[1]: 301
term 45 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 45 leaderCommit: 301 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:301 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=301
leader log:
[{snapshot 43 299} {3851182969920909578 43 300} {3851182969920909578 45 301}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=301
leader log:
[{snapshot 43 299} {3851182969920909578 43 300} {3851182969920909578 45 301}]
------------------------------------------------------
flag 84562 term 45 leader 2 nextIndex[0]: 302  matchIndex[0]: 301
term 45 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 45 leaderCommit: 301 
------------------------------------------------------
flag 16994 term 45 leader 2 nextIndex[1]: 302  matchIndex[1]: 301
term 45 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 45 leaderCommit: 301 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:301 
term 45 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=301
leader log:
[{snapshot 43 299} {3851182969920909578 43 300} {3851182969920909578 45 301}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=301
leader log:
[{snapshot 43 299} {3851182969920909578 43 300} {3851182969920909578 45 301}]
------------------------------------------------------
flag 41544 term 45 leader 2 nextIndex[0]: 302  matchIndex[0]: 301
term 45 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 45 leaderCommit: 301 
------------------------------------------------------
flag 3822 term 45 leader 2 nextIndex[1]: 302  matchIndex[1]: 301
term 45 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 45 leaderCommit: 301 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=301
leader log:
[{snapshot 43 299} {3851182969920909578 43 300} {3851182969920909578 45 301}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=301
leader log:
[{snapshot 43 299} {3851182969920909578 43 300} {3851182969920909578 45 301}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 84933 term 45 leader 2 nextIndex[0]: 302  matchIndex[0]: 301
term 45 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 45 leaderCommit: 301 
------------------------------------------------------
flag 62702 term 45 leader 2 nextIndex[1]: 302  matchIndex[1]: 301
term 45 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 45 leaderCommit: 301 
------------------------------------------------------
flag 85259 term 45 leader 2 nextIndex[0]: 302  matchIndex[0]: 301
term 45 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 45 leaderCommit: 301 
------------------------------------------------------
flag 318 term 45 leader 2 nextIndex[1]: 302  matchIndex[1]: 301
term 45 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 45 leaderCommit: 301 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 302->301
------------------------------------------------------
term 45 leader 2 nextIndex[0]: 0  matchIndex[0]: 301
term 45 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 43
------------------------------------------------------
flag 15208 term 45 leader 2 nextIndex[1]: 302  matchIndex[1]: 301
term 45 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 45 leaderCommit: 301 
------------------------------------------------------
term 45 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 46 server 1 vote for server 0
term 46 server 0 get vote from server 1
term 46 server 0 become leader
------------------------------------------------------
flag 69278 term 46 leader 0 nextIndex[1]: 302  matchIndex[1]: 0
term 46 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 45 leaderCommit: 301 
------------------------------------------------------
flag 50821 term 46 leader 0 nextIndex[2]: 302  matchIndex[2]: 0
term 46 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 45 leaderCommit: 301 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=301
leader log:
[{snapshot 43 299} {3851182969920909578 43 300} {3851182969920909578 45 301}]
------------------------------------------------------
client write log 2548832480320212469 (index 302) to leader 0
term 45 leader 2 nextIndex[0]: 0  matchIndex[0]: 301
term 45 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 43
------------------------------------------------------
flag 2738 term 45 leader 2 nextIndex[1]: 302  matchIndex[1]: 301
term 45 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 45 leaderCommit: 301 
------------------------------------------------------
flag 34282 term 46 leader 0 nextIndex[1]: 302  matchIndex[1]: 301
term 46 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 45 leaderCommit: 301 
------------------------------------------------------
flag 21607 term 46 leader 0 nextIndex[2]: 302  matchIndex[2]: 0
term 46 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 45 leaderCommit: 301 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=303
update matchIndex[1]=302
update leader CommitIndex=302
leader log:
[{snapshot 43 299} {3851182969920909578 43 300} {3851182969920909578 45 301} {2548832480320212469 46 302}]
------------------------------------------------------
term 45 leader 2 nextIndex[0]: 0  matchIndex[0]: 301
term 45 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 43
------------------------------------------------------
flag 75658 term 45 leader 2 nextIndex[1]: 302  matchIndex[1]: 301
term 45 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 45 leaderCommit: 301 
------------------------------------------------------
flag 65100 term 46 leader 0 nextIndex[1]: 303  matchIndex[1]: 302
term 46 leader 0 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 46 leaderCommit: 302 
------------------------------------------------------
flag 13177 term 46 leader 0 nextIndex[2]: 302  matchIndex[2]: 0
term 46 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 45 leaderCommit: 302 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=303
update matchIndex[1]=302
update leader CommitIndex=302
leader log:
[{snapshot 43 299} {3851182969920909578 43 300} {3851182969920909578 45 301} {2548832480320212469 46 302}]
------------------------------------------------------
client write log 4229180641709765601 (index 303) to leader 0
client write log 4330848958286157870 (index 304) to leader 0
client write log 6037288742030820987 (index 305) to leader 0
client write log 7053421122713230306 (index 306) to leader 0
client write log 2422909893688719572 (index 307) to leader 0
client write log 8754182188664424015 (index 308) to leader 0
client write log 7752068918095216827 (index 309) to leader 0
client write log 1913247861959322854 (index 310) to leader 0
term 45 leader 2 nextIndex[0]: 0  matchIndex[0]: 301
term 45 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 43
------------------------------------------------------
flag 44010 term 45 leader 2 nextIndex[1]: 302  matchIndex[1]: 301
term 45 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 45 leaderCommit: 301 
------------------------------------------------------
flag 77913 term 46 leader 0 nextIndex[1]: 303  matchIndex[1]: 302
term 46 leader 0 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 46 leaderCommit: 302 
------------------------------------------------------
flag 89922 term 46 leader 0 nextIndex[2]: 302  matchIndex[2]: 0
term 46 leader 0 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 45 leaderCommit: 302 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=310
leader log:
[{snapshot 43 299} {3851182969920909578 43 300} {3851182969920909578 45 301} {2548832480320212469 46 302} {4229180641709765601 46 303} {4330848958286157870 46 304} {6037288742030820987 46 305} {7053421122713230306 46 306} {2422909893688719572 46 307} {8754182188664424015 46 308} {7752068918095216827 46 309} {1913247861959322854 46 310}]
------------------------------------------------------
term 46 Server0 start snapshot! index=309
term 46 server0 snapshot success
lastIncludedIndex=309 lastApplied=310 lastIndex=310
-------------------------------------------------------------
term 45 leader 2 nextIndex[0]: 0  matchIndex[0]: 301
term 45 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 43
------------------------------------------------------
flag 99148 term 45 leader 2 nextIndex[1]: 302  matchIndex[1]: 301
term 45 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 45 leaderCommit: 301 
------------------------------------------------------
flag 53140 term 46 leader 0 nextIndex[1]: 311  matchIndex[1]: 310
term 46 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 46 leaderCommit: 310 
------------------------------------------------------
term 46 leader 0 nextIndex[2]: 302  matchIndex[2]: 0
term 46 leader 0 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 46
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=310
leader log:
[{snapshot 46 309} {1913247861959322854 46 310}]
------------------------------------------------------
term 46 Server1 start snapshot! index=309
term 46 server1 snapshot success
lastIncludedIndex=309 lastApplied=310 lastIndex=310
-------------------------------------------------------------
!!!!!!connect server 2
client write log 8588680428368812245 (index 302) to leader 2
term 45 leader 2 nextIndex[0]: 0  matchIndex[0]: 301
term 45 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 43
------------------------------------------------------
flag 2342 term 45 leader 2 nextIndex[1]: 302  matchIndex[1]: 301
term 45 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 45 leaderCommit: 301 
------------------------------------------------------
term 46 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 45 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 46 server 1 AppendEntries false 领导者任期过期 args.Term 45
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34716 term 46 leader 0 nextIndex[1]: 311  matchIndex[1]: 310
term 46 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 46 leaderCommit: 310 
------------------------------------------------------
term 46 leader 0 nextIndex[2]: 302  matchIndex[2]: 0
term 46 leader 0 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 46
------------------------------------------------------
term 46 server 2 InstallSnapshot success
------------------------------------------------------
term 46 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 310 matchIndex[2] 309 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 309 rf.lastIncludedTerm 46 rf.commitIndex 309 rf.lastApplied 309
term 46 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=310
leader log:
[{snapshot 46 309} {1913247861959322854 46 310}]
------------------------------------------------------
term 46 server 1 not vote for server 2, 日志不够新
term 46 server 0 not vote for server 2, 日志不够新
term 48 server 1 vote for server 0
term 48 server 0 get vote from server 1
term 48 server 0 become leader
------------------------------------------------------
term 48 server 2 vote for server 0
term 48 server 0 get outdate rpc reply from server 2
flag 53239 term 48 leader 0 nextIndex[1]: 311  matchIndex[1]: 0
term 48 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 46 leaderCommit: 310 
------------------------------------------------------
flag 22042 term 48 leader 0 nextIndex[2]: 311  matchIndex[2]: 0
term 48 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 46 leaderCommit: 310 
------------------------------------------------------
term 48 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 311->310
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=310
leader log:
[{snapshot 46 309} {1913247861959322854 46 310}]
------------------------------------------------------
flag 17275 term 48 leader 0 nextIndex[1]: 311  matchIndex[1]: 310
term 48 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 46 leaderCommit: 310 
------------------------------------------------------
flag 42158 term 48 leader 0 nextIndex[2]: 310  matchIndex[2]: 0
term 48 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 46 leaderCommit: 310 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=310
leader log:
[{snapshot 46 309} {1913247861959322854 46 310}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=310
leader log:
[{snapshot 46 309} {1913247861959322854 46 310}]
------------------------------------------------------
flag 62301 term 48 leader 0 nextIndex[1]: 311  matchIndex[1]: 310
term 48 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 46 leaderCommit: 310 
------------------------------------------------------
flag 91862 term 48 leader 0 nextIndex[2]: 311  matchIndex[2]: 310
term 48 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 46 leaderCommit: 310 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=310
leader log:
[{snapshot 46 309} {1913247861959322854 46 310}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=310
leader log:
[{snapshot 46 309} {1913247861959322854 46 310}]
------------------------------------------------------
flag 63155 term 48 leader 0 nextIndex[1]: 311  matchIndex[1]: 310
term 48 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 46 leaderCommit: 310 
------------------------------------------------------
flag 78804 term 48 leader 0 nextIndex[2]: 311  matchIndex[2]: 310
term 48 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 46 leaderCommit: 310 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=310
leader log:
[{snapshot 46 309} {1913247861959322854 46 310}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=310
leader log:
[{snapshot 46 309} {1913247861959322854 46 310}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14131 term 48 leader 0 nextIndex[1]: 311  matchIndex[1]: 310
term 48 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 46 leaderCommit: 310 
------------------------------------------------------
flag 4579 term 48 leader 0 nextIndex[2]: 311  matchIndex[2]: 310
term 48 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 46 leaderCommit: 310 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=310
leader log:
[{snapshot 46 309} {1913247861959322854 46 310}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=310
leader log:
[{snapshot 46 309} {1913247861959322854 46 310}]
------------------------------------------------------
flag 50786 term 48 leader 0 nextIndex[1]: 311  matchIndex[1]: 310
term 48 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 46 leaderCommit: 310 
------------------------------------------------------
flag 91929 term 48 leader 0 nextIndex[2]: 311  matchIndex[2]: 310
term 48 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 46 leaderCommit: 310 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=310
leader log:
[{snapshot 46 309} {1913247861959322854 46 310}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=310
leader log:
[{snapshot 46 309} {1913247861959322854 46 310}]
------------------------------------------------------
flag 7617 term 48 leader 0 nextIndex[1]: 311  matchIndex[1]: 310
term 48 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 46 leaderCommit: 310 
------------------------------------------------------
flag 83983 term 48 leader 0 nextIndex[2]: 311  matchIndex[2]: 310
term 48 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 46 leaderCommit: 310 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:310 
term 48 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=310
leader log:
[{snapshot 46 309} {1913247861959322854 46 310}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=310
leader log:
[{snapshot 46 309} {1913247861959322854 46 310}]
------------------------------------------------------
flag 63979 term 48 leader 0 nextIndex[1]: 311  matchIndex[1]: 310
term 48 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 46 leaderCommit: 310 
------------------------------------------------------
flag 3106 term 48 leader 0 nextIndex[2]: 311  matchIndex[2]: 310
term 48 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 46 leaderCommit: 310 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=310
leader log:
[{snapshot 46 309} {1913247861959322854 46 310}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=310
leader log:
[{snapshot 46 309} {1913247861959322854 46 310}]
------------------------------------------------------
term 48 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 78512 term 48 leader 0 nextIndex[1]: 311  matchIndex[1]: 310
term 48 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 46 leaderCommit: 310 
------------------------------------------------------
flag 63576 term 48 leader 0 nextIndex[2]: 311  matchIndex[2]: 310
term 48 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 46 leaderCommit: 310 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=310
leader log:
[{snapshot 46 309} {1913247861959322854 46 310}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=310
leader log:
[{snapshot 46 309} {1913247861959322854 46 310}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6447 term 48 leader 0 nextIndex[1]: 311  matchIndex[1]: 310
term 48 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 46 leaderCommit: 310 
------------------------------------------------------
flag 53088 term 48 leader 0 nextIndex[2]: 311  matchIndex[2]: 310
term 48 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 46 leaderCommit: 310 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=310
leader log:
[{snapshot 46 309} {1913247861959322854 46 310}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=310
leader log:
[{snapshot 46 309} {1913247861959322854 46 310}]
------------------------------------------------------
term 48 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 11686 term 48 leader 0 nextIndex[1]: 311  matchIndex[1]: 310
term 48 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 46 leaderCommit: 310 
------------------------------------------------------
flag 59070 term 48 leader 0 nextIndex[2]: 311  matchIndex[2]: 310
term 48 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 46 leaderCommit: 310 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=310
leader log:
[{snapshot 46 309} {1913247861959322854 46 310}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=310
leader log:
[{snapshot 46 309} {1913247861959322854 46 310}]
------------------------------------------------------
flag 15496 term 48 leader 0 nextIndex[1]: 311  matchIndex[1]: 310
term 48 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 46 leaderCommit: 310 
------------------------------------------------------
flag 31847 term 48 leader 0 nextIndex[2]: 311  matchIndex[2]: 310
term 48 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 46 leaderCommit: 310 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=310
leader log:
[{snapshot 46 309} {1913247861959322854 46 310}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=310
leader log:
[{snapshot 46 309} {1913247861959322854 46 310}]
------------------------------------------------------
flag 65498 term 48 leader 0 nextIndex[1]: 311  matchIndex[1]: 310
term 48 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 46 leaderCommit: 310 
------------------------------------------------------
flag 159 term 48 leader 0 nextIndex[2]: 311  matchIndex[2]: 310
term 48 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 46 leaderCommit: 310 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=310
leader log:
[{snapshot 46 309} {1913247861959322854 46 310}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=310
leader log:
[{snapshot 46 309} {1913247861959322854 46 310}]
------------------------------------------------------
term 48 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 72700 term 48 leader 0 nextIndex[1]: 311  matchIndex[1]: 310
term 48 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 46 leaderCommit: 310 
------------------------------------------------------
flag 66159 term 48 leader 0 nextIndex[2]: 311  matchIndex[2]: 310
term 48 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 46 leaderCommit: 310 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=310
leader log:
[{snapshot 46 309} {1913247861959322854 46 310}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=310
leader log:
[{snapshot 46 309} {1913247861959322854 46 310}]
------------------------------------------------------
term 48 server 2 not vote for server 0, 任期不够新
term 48 server 0 get outdate rpc reply from server 2
flag 15039 term 48 leader 0 nextIndex[1]: 311  matchIndex[1]: 310
term 48 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 46 leaderCommit: 310 
------------------------------------------------------
flag 23577 term 48 leader 0 nextIndex[2]: 311  matchIndex[2]: 310
term 48 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 46 leaderCommit: 310 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=310
leader log:
[{snapshot 46 309} {1913247861959322854 46 310}]
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=310
leader log:
[{snapshot 46 309} {1913247861959322854 46 310}]
------------------------------------------------------
term 48 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11801 term 48 leader 0 nextIndex[1]: 311  matchIndex[1]: 310
term 48 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 46 leaderCommit: 310 
------------------------------------------------------
flag 14258 term 48 leader 0 nextIndex[2]: 311  matchIndex[2]: 310
term 48 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 46 leaderCommit: 310 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=310
leader log:
[{snapshot 46 309} {1913247861959322854 46 310}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=310
leader log:
[{snapshot 46 309} {1913247861959322854 46 310}]
------------------------------------------------------
flag 20713 term 48 leader 0 nextIndex[1]: 311  matchIndex[1]: 310
term 48 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 46 leaderCommit: 310 
------------------------------------------------------
flag 49667 term 48 leader 0 nextIndex[2]: 311  matchIndex[2]: 310
term 48 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 46 leaderCommit: 310 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=310
leader log:
[{snapshot 46 309} {1913247861959322854 46 310}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=310
leader log:
[{snapshot 46 309} {1913247861959322854 46 310}]
------------------------------------------------------
term 48 server 0 not vote for server 1, 任期不够新
term 48 server 1 get outdate rpc reply from server 0
flag 52749 term 48 leader 0 nextIndex[1]: 311  matchIndex[1]: 310
term 48 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 46 leaderCommit: 310 
------------------------------------------------------
flag 2838 term 48 leader 0 nextIndex[2]: 311  matchIndex[2]: 310
term 48 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 46 leaderCommit: 310 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=310
leader log:
[{snapshot 46 309} {1913247861959322854 46 310}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=310
leader log:
[{snapshot 46 309} {1913247861959322854 46 310}]
------------------------------------------------------
flag 58350 term 48 leader 0 nextIndex[1]: 311  matchIndex[1]: 310
term 48 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 46 leaderCommit: 310 
------------------------------------------------------
flag 16136 term 48 leader 0 nextIndex[2]: 311  matchIndex[2]: 310
term 48 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 46 leaderCommit: 310 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=310
leader log:
[{snapshot 46 309} {1913247861959322854 46 310}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=310
leader log:
[{snapshot 46 309} {1913247861959322854 46 310}]
------------------------------------------------------
client write log 8588680428368812245 (index 311) to leader 0
flag 33497 term 48 leader 0 nextIndex[1]: 311  matchIndex[1]: 310
term 48 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 46 leaderCommit: 310 
------------------------------------------------------
flag 81581 term 48 leader 0 nextIndex[2]: 311  matchIndex[2]: 310
term 48 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 46 leaderCommit: 310 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=311
leader log:
[{snapshot 46 309} {1913247861959322854 46 310} {8588680428368812245 48 311}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 46 309} {1913247861959322854 46 310} {8588680428368812245 48 311}]
------------------------------------------------------
flag 41263 term 48 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 48 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 48 leaderCommit: 311 
------------------------------------------------------
flag 91085 term 48 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 48 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 48 leaderCommit: 311 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 46 309} {1913247861959322854 46 310} {8588680428368812245 48 311}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=311
leader log:
[{snapshot 46 309} {1913247861959322854 46 310} {8588680428368812245 48 311}]
------------------------------------------------------
flag 57394 term 48 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 48 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 48 leaderCommit: 311 
------------------------------------------------------
flag 2635 term 48 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 48 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 48 leaderCommit: 311 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 46 309} {1913247861959322854 46 310} {8588680428368812245 48 311}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=311
leader log:
[{snapshot 46 309} {1913247861959322854 46 310} {8588680428368812245 48 311}]
------------------------------------------------------
flag 73301 term 48 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 48 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 48 leaderCommit: 311 
------------------------------------------------------
flag 34102 term 48 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 48 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 48 leaderCommit: 311 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=311
leader log:
[{snapshot 46 309} {1913247861959322854 46 310} {8588680428368812245 48 311}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 46 309} {1913247861959322854 46 310} {8588680428368812245 48 311}]
------------------------------------------------------
term 48 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 11287 term 48 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 48 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 48 leaderCommit: 311 
------------------------------------------------------
flag 80286 term 48 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 48 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 48 leaderCommit: 311 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=311
leader log:
[{snapshot 46 309} {1913247861959322854 46 310} {8588680428368812245 48 311}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 46 309} {1913247861959322854 46 310} {8588680428368812245 48 311}]
------------------------------------------------------
flag 29491 term 48 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 48 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 48 leaderCommit: 311 
------------------------------------------------------
flag 48710 term 48 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 48 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 48 leaderCommit: 311 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=311
leader log:
[{snapshot 46 309} {1913247861959322854 46 310} {8588680428368812245 48 311}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 46 309} {1913247861959322854 46 310} {8588680428368812245 48 311}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 1
client write log 6612559751165410360 (index 312) to leader 0
term 48 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 40404 term 48 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 48 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 48 leaderCommit: 311 
------------------------------------------------------
flag 85889 term 48 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 48 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 48 leaderCommit: 311 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=313
update matchIndex[2]=312
update leader CommitIndex=312
leader log:
[{snapshot 46 309} {1913247861959322854 46 310} {8588680428368812245 48 311} {6612559751165410360 48 312}]
------------------------------------------------------
flag 66170 term 48 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 48 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 48 leaderCommit: 312 
------------------------------------------------------
flag 46504 term 48 leader 0 nextIndex[2]: 313  matchIndex[2]: 312
term 48 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 48 leaderCommit: 312 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=313
update matchIndex[2]=312
update leader CommitIndex=312
leader log:
[{snapshot 46 309} {1913247861959322854 46 310} {8588680428368812245 48 311} {6612559751165410360 48 312}]
------------------------------------------------------
client write log 1995210389138891697 (index 313) to leader 0
client write log 6113000411498500115 (index 314) to leader 0
client write log 1672376543830220980 (index 315) to leader 0
client write log 5046456306207232740 (index 316) to leader 0
client write log 5315389796120839713 (index 317) to leader 0
client write log 8118301346813923610 (index 318) to leader 0
client write log 6080239172658028691 (index 319) to leader 0
client write log 6645785795907286295 (index 320) to leader 0
client write log 7100534877339865192 (index 321) to leader 0
client write log 6767858953648835133 (index 322) to leader 0
client write log 1209870630027248231 (index 323) to leader 0
flag 53299 term 48 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 48 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 48 leaderCommit: 312 
------------------------------------------------------
flag 18693 term 48 leader 0 nextIndex[2]: 313  matchIndex[2]: 312
term 48 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 48 leaderCommit: 312 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 46 309} {1913247861959322854 46 310} {8588680428368812245 48 311} {6612559751165410360 48 312} {1995210389138891697 48 313} {6113000411498500115 48 314} {1672376543830220980 48 315} {5046456306207232740 48 316} {5315389796120839713 48 317} {8118301346813923610 48 318} {6080239172658028691 48 319} {6645785795907286295 48 320} {7100534877339865192 48 321} {6767858953648835133 48 322} {1209870630027248231 48 323}]
------------------------------------------------------
term 48 Server0 start snapshot! index=319
term 48 server0 snapshot success
lastIncludedIndex=319 lastApplied=320 lastIndex=323
-------------------------------------------------------------
term 48 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 48 leader 0 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 48
------------------------------------------------------
flag 73128 term 48 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 48 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 48 leaderCommit: 323 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 48 319} {6645785795907286295 48 320} {7100534877339865192 48 321} {6767858953648835133 48 322} {1209870630027248231 48 323}]
------------------------------------------------------
term 48 Server2 start snapshot! index=319
term 48 server2 snapshot success
lastIncludedIndex=319 lastApplied=320 lastIndex=323
-------------------------------------------------------------
!!!!!!connect server 1
client write log 3547571296597874717 (index 324) to leader 0
term 48 server 2 not vote for server 1, 日志不够新
term 48 server 0 not vote for server 1, 日志不够新
term 50 server 2 vote for server 0
term 50 server 1 vote for server 0
term 50 server 0 get vote from server 1
term 50 server 0 become leader
------------------------------------------------------
term 50 server 0 get outdate rpc reply from server 2
flag 41558 term 50 leader 0 nextIndex[1]: 325  matchIndex[1]: 0
term 50 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 323 
------------------------------------------------------
flag 88049 term 50 leader 0 nextIndex[2]: 325  matchIndex[2]: 0
term 50 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 323 
------------------------------------------------------
term 50 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 325->324
------------------------------------------------------
term 50 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 325->324
------------------------------------------------------
term 50 leader 0 nextIndex[1]: 312  matchIndex[1]: 0
term 50 leader 0 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 48
------------------------------------------------------
flag 89342 term 50 leader 0 nextIndex[2]: 324  matchIndex[2]: 0
term 50 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 48 leaderCommit: 323 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=323
leader log:
[{snapshot 48 319} {6645785795907286295 48 320} {7100534877339865192 48 321} {6767858953648835133 48 322} {1209870630027248231 48 323} {3547571296597874717 48 324}]
------------------------------------------------------
term 50 server 1 InstallSnapshot success
------------------------------------------------------
term 50 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 320 matchIndex[1] 319 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 319 rf.lastIncludedTerm 48 rf.commitIndex 319 rf.lastApplied 319
flag 9802 term 50 leader 0 nextIndex[1]: 320  matchIndex[1]: 319
term 50 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 48 leaderCommit: 323 
------------------------------------------------------
flag 46734 term 50 leader 0 nextIndex[2]: 325  matchIndex[2]: 324
term 50 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 323 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=323
leader log:
[{snapshot 48 319} {6645785795907286295 48 320} {7100534877339865192 48 321} {6767858953648835133 48 322} {1209870630027248231 48 323} {3547571296597874717 48 324}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=323
leader log:
[{snapshot 48 319} {6645785795907286295 48 320} {7100534877339865192 48 321} {6767858953648835133 48 322} {1209870630027248231 48 323} {3547571296597874717 48 324}]
------------------------------------------------------
flag 9167 term 50 leader 0 nextIndex[1]: 325  matchIndex[1]: 324
term 50 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 323 
------------------------------------------------------
flag 39607 term 50 leader 0 nextIndex[2]: 325  matchIndex[2]: 324
term 50 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 323 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=323
leader log:
[{snapshot 48 319} {6645785795907286295 48 320} {7100534877339865192 48 321} {6767858953648835133 48 322} {1209870630027248231 48 323} {3547571296597874717 48 324}]
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=323
leader log:
[{snapshot 48 319} {6645785795907286295 48 320} {7100534877339865192 48 321} {6767858953648835133 48 322} {1209870630027248231 48 323} {3547571296597874717 48 324}]
------------------------------------------------------
flag 60257 term 50 leader 0 nextIndex[1]: 325  matchIndex[1]: 324
term 50 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 323 
------------------------------------------------------
flag 72635 term 50 leader 0 nextIndex[2]: 325  matchIndex[2]: 324
term 50 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 323 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=323
leader log:
[{snapshot 48 319} {6645785795907286295 48 320} {7100534877339865192 48 321} {6767858953648835133 48 322} {1209870630027248231 48 323} {3547571296597874717 48 324}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=323
leader log:
[{snapshot 48 319} {6645785795907286295 48 320} {7100534877339865192 48 321} {6767858953648835133 48 322} {1209870630027248231 48 323} {3547571296597874717 48 324}]
------------------------------------------------------
flag 82840 term 50 leader 0 nextIndex[1]: 325  matchIndex[1]: 324
term 50 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 323 
------------------------------------------------------
flag 2221 term 50 leader 0 nextIndex[2]: 325  matchIndex[2]: 324
term 50 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 323 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=323
leader log:
[{snapshot 48 319} {6645785795907286295 48 320} {7100534877339865192 48 321} {6767858953648835133 48 322} {1209870630027248231 48 323} {3547571296597874717 48 324}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=323
leader log:
[{snapshot 48 319} {6645785795907286295 48 320} {7100534877339865192 48 321} {6767858953648835133 48 322} {1209870630027248231 48 323} {3547571296597874717 48 324}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32237 term 50 leader 0 nextIndex[1]: 325  matchIndex[1]: 324
term 50 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 323 
------------------------------------------------------
flag 88748 term 50 leader 0 nextIndex[2]: 325  matchIndex[2]: 324
term 50 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 323 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=323
leader log:
[{snapshot 48 319} {6645785795907286295 48 320} {7100534877339865192 48 321} {6767858953648835133 48 322} {1209870630027248231 48 323} {3547571296597874717 48 324}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=323
leader log:
[{snapshot 48 319} {6645785795907286295 48 320} {7100534877339865192 48 321} {6767858953648835133 48 322} {1209870630027248231 48 323} {3547571296597874717 48 324}]
------------------------------------------------------
flag 93518 term 50 leader 0 nextIndex[1]: 325  matchIndex[1]: 324
term 50 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 323 
------------------------------------------------------
flag 59998 term 50 leader 0 nextIndex[2]: 325  matchIndex[2]: 324
term 50 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 323 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=323
leader log:
[{snapshot 48 319} {6645785795907286295 48 320} {7100534877339865192 48 321} {6767858953648835133 48 322} {1209870630027248231 48 323} {3547571296597874717 48 324}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=323
leader log:
[{snapshot 48 319} {6645785795907286295 48 320} {7100534877339865192 48 321} {6767858953648835133 48 322} {1209870630027248231 48 323} {3547571296597874717 48 324}]
------------------------------------------------------
flag 55188 term 50 leader 0 nextIndex[1]: 325  matchIndex[1]: 324
term 50 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 323 
------------------------------------------------------
flag 12108 term 50 leader 0 nextIndex[2]: 325  matchIndex[2]: 324
term 50 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 323 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=323
leader log:
[{snapshot 48 319} {6645785795907286295 48 320} {7100534877339865192 48 321} {6767858953648835133 48 322} {1209870630027248231 48 323} {3547571296597874717 48 324}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=323
leader log:
[{snapshot 48 319} {6645785795907286295 48 320} {7100534877339865192 48 321} {6767858953648835133 48 322} {1209870630027248231 48 323} {3547571296597874717 48 324}]
------------------------------------------------------
flag 56553 term 50 leader 0 nextIndex[1]: 325  matchIndex[1]: 324
term 50 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 323 
------------------------------------------------------
flag 9779 term 50 leader 0 nextIndex[2]: 325  matchIndex[2]: 324
term 50 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 323 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=323
leader log:
[{snapshot 48 319} {6645785795907286295 48 320} {7100534877339865192 48 321} {6767858953648835133 48 322} {1209870630027248231 48 323} {3547571296597874717 48 324}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=323
leader log:
[{snapshot 48 319} {6645785795907286295 48 320} {7100534877339865192 48 321} {6767858953648835133 48 322} {1209870630027248231 48 323} {3547571296597874717 48 324}]
------------------------------------------------------
flag 63816 term 50 leader 0 nextIndex[1]: 325  matchIndex[1]: 324
term 50 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 323 
------------------------------------------------------
flag 71222 term 50 leader 0 nextIndex[2]: 325  matchIndex[2]: 324
term 50 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 323 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=323
leader log:
[{snapshot 48 319} {6645785795907286295 48 320} {7100534877339865192 48 321} {6767858953648835133 48 322} {1209870630027248231 48 323} {3547571296597874717 48 324}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=323
leader log:
[{snapshot 48 319} {6645785795907286295 48 320} {7100534877339865192 48 321} {6767858953648835133 48 322} {1209870630027248231 48 323} {3547571296597874717 48 324}]
------------------------------------------------------
flag 95835 term 50 leader 0 nextIndex[1]: 325  matchIndex[1]: 324
term 50 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 323 
------------------------------------------------------
flag 15577 term 50 leader 0 nextIndex[2]: 325  matchIndex[2]: 324
term 50 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 323 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=323
leader log:
[{snapshot 48 319} {6645785795907286295 48 320} {7100534877339865192 48 321} {6767858953648835133 48 322} {1209870630027248231 48 323} {3547571296597874717 48 324}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=323
leader log:
[{snapshot 48 319} {6645785795907286295 48 320} {7100534877339865192 48 321} {6767858953648835133 48 322} {1209870630027248231 48 323} {3547571296597874717 48 324}]
------------------------------------------------------
flag 29657 term 50 leader 0 nextIndex[1]: 325  matchIndex[1]: 324
term 50 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 323 
------------------------------------------------------
flag 99351 term 50 leader 0 nextIndex[2]: 325  matchIndex[2]: 324
term 50 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 323 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=323
leader log:
[{snapshot 48 319} {6645785795907286295 48 320} {7100534877339865192 48 321} {6767858953648835133 48 322} {1209870630027248231 48 323} {3547571296597874717 48 324}]
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=323
leader log:
[{snapshot 48 319} {6645785795907286295 48 320} {7100534877339865192 48 321} {6767858953648835133 48 322} {1209870630027248231 48 323} {3547571296597874717 48 324}]
------------------------------------------------------
flag 60203 term 50 leader 0 nextIndex[1]: 325  matchIndex[1]: 324
term 50 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 323 
------------------------------------------------------
flag 74109 term 50 leader 0 nextIndex[2]: 325  matchIndex[2]: 324
term 50 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 323 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=323
leader log:
[{snapshot 48 319} {6645785795907286295 48 320} {7100534877339865192 48 321} {6767858953648835133 48 322} {1209870630027248231 48 323} {3547571296597874717 48 324}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=323
leader log:
[{snapshot 48 319} {6645785795907286295 48 320} {7100534877339865192 48 321} {6767858953648835133 48 322} {1209870630027248231 48 323} {3547571296597874717 48 324}]
------------------------------------------------------
flag 75020 term 50 leader 0 nextIndex[1]: 325  matchIndex[1]: 324
term 50 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 323 
------------------------------------------------------
flag 30874 term 50 leader 0 nextIndex[2]: 325  matchIndex[2]: 324
term 50 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 323 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=323
leader log:
[{snapshot 48 319} {6645785795907286295 48 320} {7100534877339865192 48 321} {6767858953648835133 48 322} {1209870630027248231 48 323} {3547571296597874717 48 324}]
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=323
leader log:
[{snapshot 48 319} {6645785795907286295 48 320} {7100534877339865192 48 321} {6767858953648835133 48 322} {1209870630027248231 48 323} {3547571296597874717 48 324}]
------------------------------------------------------
flag 75341 term 50 leader 0 nextIndex[1]: 325  matchIndex[1]: 324
term 50 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 323 
------------------------------------------------------
flag 89534 term 50 leader 0 nextIndex[2]: 325  matchIndex[2]: 324
term 50 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 323 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=323
leader log:
[{snapshot 48 319} {6645785795907286295 48 320} {7100534877339865192 48 321} {6767858953648835133 48 322} {1209870630027248231 48 323} {3547571296597874717 48 324}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=323
leader log:
[{snapshot 48 319} {6645785795907286295 48 320} {7100534877339865192 48 321} {6767858953648835133 48 322} {1209870630027248231 48 323} {3547571296597874717 48 324}]
------------------------------------------------------
flag 39419 term 50 leader 0 nextIndex[1]: 325  matchIndex[1]: 324
term 50 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 323 
------------------------------------------------------
flag 76445 term 50 leader 0 nextIndex[2]: 325  matchIndex[2]: 324
term 50 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 323 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=323
leader log:
[{snapshot 48 319} {6645785795907286295 48 320} {7100534877339865192 48 321} {6767858953648835133 48 322} {1209870630027248231 48 323} {3547571296597874717 48 324}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=323
leader log:
[{snapshot 48 319} {6645785795907286295 48 320} {7100534877339865192 48 321} {6767858953648835133 48 322} {1209870630027248231 48 323} {3547571296597874717 48 324}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 747 term 50 leader 0 nextIndex[1]: 325  matchIndex[1]: 324
term 50 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 323 
------------------------------------------------------
flag 87639 term 50 leader 0 nextIndex[2]: 325  matchIndex[2]: 324
term 50 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 323 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=323
leader log:
[{snapshot 48 319} {6645785795907286295 48 320} {7100534877339865192 48 321} {6767858953648835133 48 322} {1209870630027248231 48 323} {3547571296597874717 48 324}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=323
leader log:
[{snapshot 48 319} {6645785795907286295 48 320} {7100534877339865192 48 321} {6767858953648835133 48 322} {1209870630027248231 48 323} {3547571296597874717 48 324}]
------------------------------------------------------
term 50 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 50 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 83992 term 50 leader 0 nextIndex[1]: 325  matchIndex[1]: 324
term 50 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 323 
------------------------------------------------------
flag 37135 term 50 leader 0 nextIndex[2]: 325  matchIndex[2]: 324
term 50 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 323 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=323
leader log:
[{snapshot 48 319} {6645785795907286295 48 320} {7100534877339865192 48 321} {6767858953648835133 48 322} {1209870630027248231 48 323} {3547571296597874717 48 324}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=323
leader log:
[{snapshot 48 319} {6645785795907286295 48 320} {7100534877339865192 48 321} {6767858953648835133 48 322} {1209870630027248231 48 323} {3547571296597874717 48 324}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90310 term 50 leader 0 nextIndex[1]: 325  matchIndex[1]: 324
term 50 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 323 
------------------------------------------------------
flag 1428 term 50 leader 0 nextIndex[2]: 325  matchIndex[2]: 324
term 50 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 323 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=323
leader log:
[{snapshot 48 319} {6645785795907286295 48 320} {7100534877339865192 48 321} {6767858953648835133 48 322} {1209870630027248231 48 323} {3547571296597874717 48 324}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=323
leader log:
[{snapshot 48 319} {6645785795907286295 48 320} {7100534877339865192 48 321} {6767858953648835133 48 322} {1209870630027248231 48 323} {3547571296597874717 48 324}]
------------------------------------------------------
client write log 3547571296597874717 (index 325) to leader 0
flag 32069 term 50 leader 0 nextIndex[1]: 325  matchIndex[1]: 324
term 50 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 323 
------------------------------------------------------
flag 66748 term 50 leader 0 nextIndex[2]: 325  matchIndex[2]: 324
term 50 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 323 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=326
update matchIndex[2]=325
update leader CommitIndex=325
leader log:
[{snapshot 48 319} {6645785795907286295 48 320} {7100534877339865192 48 321} {6767858953648835133 48 322} {1209870630027248231 48 323} {3547571296597874717 48 324} {3547571296597874717 50 325}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=326
update matchIndex[1]=325
update leader CommitIndex=325
leader log:
[{snapshot 48 319} {6645785795907286295 48 320} {7100534877339865192 48 321} {6767858953648835133 48 322} {1209870630027248231 48 323} {3547571296597874717 48 324} {3547571296597874717 50 325}]
------------------------------------------------------
flag 91929 term 50 leader 0 nextIndex[1]: 326  matchIndex[1]: 325
term 50 leader 0 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 50 leaderCommit: 325 
------------------------------------------------------
flag 68160 term 50 leader 0 nextIndex[2]: 326  matchIndex[2]: 325
term 50 leader 0 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 50 leaderCommit: 325 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=326
update matchIndex[2]=325
update leader CommitIndex=325
leader log:
[{snapshot 48 319} {6645785795907286295 48 320} {7100534877339865192 48 321} {6767858953648835133 48 322} {1209870630027248231 48 323} {3547571296597874717 48 324} {3547571296597874717 50 325}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=326
update matchIndex[1]=325
update leader CommitIndex=325
leader log:
[{snapshot 48 319} {6645785795907286295 48 320} {7100534877339865192 48 321} {6767858953648835133 48 322} {1209870630027248231 48 323} {3547571296597874717 48 324} {3547571296597874717 50 325}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98876 term 50 leader 0 nextIndex[1]: 326  matchIndex[1]: 325
term 50 leader 0 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 50 leaderCommit: 325 
------------------------------------------------------
flag 72107 term 50 leader 0 nextIndex[2]: 326  matchIndex[2]: 325
term 50 leader 0 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 50 leaderCommit: 325 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=326
update matchIndex[2]=325
update leader CommitIndex=325
leader log:
[{snapshot 48 319} {6645785795907286295 48 320} {7100534877339865192 48 321} {6767858953648835133 48 322} {1209870630027248231 48 323} {3547571296597874717 48 324} {3547571296597874717 50 325}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=326
update matchIndex[1]=325
update leader CommitIndex=325
leader log:
[{snapshot 48 319} {6645785795907286295 48 320} {7100534877339865192 48 321} {6767858953648835133 48 322} {1209870630027248231 48 323} {3547571296597874717 48 324} {3547571296597874717 50 325}]
------------------------------------------------------
flag 10986 term 50 leader 0 nextIndex[1]: 326  matchIndex[1]: 325
term 50 leader 0 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 50 leaderCommit: 325 
------------------------------------------------------
flag 86574 term 50 leader 0 nextIndex[2]: 326  matchIndex[2]: 325
term 50 leader 0 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 50 leaderCommit: 325 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=326
update matchIndex[2]=325
update leader CommitIndex=325
leader log:
[{snapshot 48 319} {6645785795907286295 48 320} {7100534877339865192 48 321} {6767858953648835133 48 322} {1209870630027248231 48 323} {3547571296597874717 48 324} {3547571296597874717 50 325}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=326
update matchIndex[1]=325
update leader CommitIndex=325
leader log:
[{snapshot 48 319} {6645785795907286295 48 320} {7100534877339865192 48 321} {6767858953648835133 48 322} {1209870630027248231 48 323} {3547571296597874717 48 324} {3547571296597874717 50 325}]
------------------------------------------------------
term 50 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 42587 term 50 leader 0 nextIndex[1]: 326  matchIndex[1]: 325
term 50 leader 0 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 50 leaderCommit: 325 
------------------------------------------------------
flag 23410 term 50 leader 0 nextIndex[2]: 326  matchIndex[2]: 325
term 50 leader 0 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 50 leaderCommit: 325 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=326
update matchIndex[2]=325
update leader CommitIndex=325
leader log:
[{snapshot 48 319} {6645785795907286295 48 320} {7100534877339865192 48 321} {6767858953648835133 48 322} {1209870630027248231 48 323} {3547571296597874717 48 324} {3547571296597874717 50 325}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=326
update matchIndex[1]=325
update leader CommitIndex=325
leader log:
[{snapshot 48 319} {6645785795907286295 48 320} {7100534877339865192 48 321} {6767858953648835133 48 322} {1209870630027248231 48 323} {3547571296597874717 48 324} {3547571296597874717 50 325}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3899 term 50 leader 0 nextIndex[1]: 326  matchIndex[1]: 325
term 50 leader 0 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 50 leaderCommit: 325 
------------------------------------------------------
flag 80957 term 50 leader 0 nextIndex[2]: 326  matchIndex[2]: 325
term 50 leader 0 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 50 leaderCommit: 325 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=326
update matchIndex[2]=325
update leader CommitIndex=325
leader log:
[{snapshot 48 319} {6645785795907286295 48 320} {7100534877339865192 48 321} {6767858953648835133 48 322} {1209870630027248231 48 323} {3547571296597874717 48 324} {3547571296597874717 50 325}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=326
update matchIndex[1]=325
update leader CommitIndex=325
leader log:
[{snapshot 48 319} {6645785795907286295 48 320} {7100534877339865192 48 321} {6767858953648835133 48 322} {1209870630027248231 48 323} {3547571296597874717 48 324} {3547571296597874717 50 325}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24956 term 50 leader 0 nextIndex[1]: 326  matchIndex[1]: 325
term 50 leader 0 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 50 leaderCommit: 325 
------------------------------------------------------
flag 71637 term 50 leader 0 nextIndex[2]: 326  matchIndex[2]: 325
term 50 leader 0 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 50 leaderCommit: 325 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=326
update matchIndex[2]=325
update leader CommitIndex=325
leader log:
[{snapshot 48 319} {6645785795907286295 48 320} {7100534877339865192 48 321} {6767858953648835133 48 322} {1209870630027248231 48 323} {3547571296597874717 48 324} {3547571296597874717 50 325}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=326
update matchIndex[1]=325
update leader CommitIndex=325
leader log:
[{snapshot 48 319} {6645785795907286295 48 320} {7100534877339865192 48 321} {6767858953648835133 48 322} {1209870630027248231 48 323} {3547571296597874717 48 324} {3547571296597874717 50 325}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 8399480004029645915 (index 326) to leader 0
flag 84481 term 50 leader 0 nextIndex[1]: 326  matchIndex[1]: 325
term 50 leader 0 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 50 leaderCommit: 325 
------------------------------------------------------
flag 65910 term 50 leader 0 nextIndex[2]: 326  matchIndex[2]: 325
term 50 leader 0 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 50 leaderCommit: 325 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=326
leader log:
[{snapshot 48 319} {6645785795907286295 48 320} {7100534877339865192 48 321} {6767858953648835133 48 322} {1209870630027248231 48 323} {3547571296597874717 48 324} {3547571296597874717 50 325} {8399480004029645915 50 326}]
------------------------------------------------------
flag 51758 term 50 leader 0 nextIndex[1]: 326  matchIndex[1]: 325
term 50 leader 0 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 50 leaderCommit: 326 
------------------------------------------------------
flag 46616 term 50 leader 0 nextIndex[2]: 327  matchIndex[2]: 326
term 50 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 50 leaderCommit: 326 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=326
leader log:
[{snapshot 48 319} {6645785795907286295 48 320} {7100534877339865192 48 321} {6767858953648835133 48 322} {1209870630027248231 48 323} {3547571296597874717 48 324} {3547571296597874717 50 325} {8399480004029645915 50 326}]
------------------------------------------------------
client write log 7289966123798539983 (index 327) to leader 0
client write log 8879133108364398291 (index 328) to leader 0
client write log 5645382551835939054 (index 329) to leader 0
client write log 7178592538707693420 (index 330) to leader 0
client write log 4608821754204134810 (index 331) to leader 0
client write log 1403266782707345492 (index 332) to leader 0
client write log 1735280851311805824 (index 333) to leader 0
client write log 6711610304136780007 (index 334) to leader 0
client write log 2166008303748715213 (index 335) to leader 0
client write log 487871297218636811 (index 336) to leader 0
client write log 1722560481852298110 (index 337) to leader 0
client write log 9013760794641547557 (index 338) to leader 0
client write log 8662274313136255993 (index 339) to leader 0
client write log 8941566791177338694 (index 340) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32806 term 50 leader 0 nextIndex[1]: 326  matchIndex[1]: 325
term 50 leader 0 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 50 leaderCommit: 326 
------------------------------------------------------
flag 98954 term 50 leader 0 nextIndex[2]: 327  matchIndex[2]: 326
term 50 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 50 leaderCommit: 326 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=340
leader log:
[{snapshot 48 319} {6645785795907286295 48 320} {7100534877339865192 48 321} {6767858953648835133 48 322} {1209870630027248231 48 323} {3547571296597874717 48 324} {3547571296597874717 50 325} {8399480004029645915 50 326} {7289966123798539983 50 327} {8879133108364398291 50 328} {5645382551835939054 50 329} {7178592538707693420 50 330} {4608821754204134810 50 331} {1403266782707345492 50 332} {1735280851311805824 50 333} {6711610304136780007 50 334} {2166008303748715213 50 335} {487871297218636811 50 336} {1722560481852298110 50 337} {9013760794641547557 50 338} {8662274313136255993 50 339} {8941566791177338694 50 340}]
------------------------------------------------------
term 50 Server0 start snapshot! index=329
term 50 server0 snapshot success
lastIncludedIndex=329 lastApplied=330 lastIndex=340
-------------------------------------------------------------
term 50 Server0 start snapshot! index=339
term 50 server0 snapshot success
lastIncludedIndex=339 lastApplied=340 lastIndex=340
-------------------------------------------------------------
term 50 leader 0 nextIndex[1]: 326  matchIndex[1]: 325
term 50 leader 0 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 50
------------------------------------------------------
flag 83283 term 50 leader 0 nextIndex[2]: 341  matchIndex[2]: 340
term 50 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 50 leaderCommit: 340 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=340
leader log:
[{snapshot 50 339} {8941566791177338694 50 340}]
------------------------------------------------------
term 50 Server2 start snapshot! index=329
term 50 server2 snapshot success
lastIncludedIndex=329 lastApplied=330 lastIndex=340
-------------------------------------------------------------
term 50 Server2 start snapshot! index=339
term 50 server2 snapshot success
lastIncludedIndex=339 lastApplied=340 lastIndex=340
-------------------------------------------------------------
!!!!!!connect server 1
client write log 573393035471818064 (index 341) to leader 0
term 50 leader 0 nextIndex[1]: 326  matchIndex[1]: 325
term 50 leader 0 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 50
------------------------------------------------------
flag 73932 term 50 leader 0 nextIndex[2]: 341  matchIndex[2]: 340
term 50 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 50 leaderCommit: 340 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:340 
------------------------------------------------------
term 51 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=341
leader log:
[{snapshot 50 339} {8941566791177338694 50 340} {573393035471818064 50 341}]
------------------------------------------------------
term 50 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 52 server 2 vote for server 0
term 52 server 1 vote for server 0
term 52 server 0 get vote from server 2
term 52 server 0 become leader
------------------------------------------------------
term 52 server 0 get outdate rpc reply from server 1
flag 24464 term 52 leader 0 nextIndex[1]: 342  matchIndex[1]: 0
term 52 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 50 leaderCommit: 341 
------------------------------------------------------
flag 5048 term 52 leader 0 nextIndex[2]: 342  matchIndex[2]: 0
term 52 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 50 leaderCommit: 341 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=341
leader log:
[{snapshot 50 339} {8941566791177338694 50 340} {573393035471818064 50 341}]
------------------------------------------------------
term 52 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 342->341
------------------------------------------------------
term 52 leader 0 nextIndex[1]: 326  matchIndex[1]: 0
term 52 leader 0 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 50
------------------------------------------------------
flag 71407 term 52 leader 0 nextIndex[2]: 342  matchIndex[2]: 341
term 52 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 50 leaderCommit: 341 
------------------------------------------------------
term 52 server 1 InstallSnapshot success
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:341 
------------------------------------------------------
term 52 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 340 matchIndex[1] 339 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 339 rf.lastIncludedTerm 50 rf.commitIndex 339 rf.lastApplied 339
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=341
leader log:
[{snapshot 50 339} {8941566791177338694 50 340} {573393035471818064 50 341}]
------------------------------------------------------
flag 578 term 52 leader 0 nextIndex[1]: 340  matchIndex[1]: 339
term 52 leader 0 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 50 leaderCommit: 341 
------------------------------------------------------
flag 85494 term 52 leader 0 nextIndex[2]: 342  matchIndex[2]: 341
term 52 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 50 leaderCommit: 341 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=341
leader log:
[{snapshot 50 339} {8941566791177338694 50 340} {573393035471818064 50 341}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=341
leader log:
[{snapshot 50 339} {8941566791177338694 50 340} {573393035471818064 50 341}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6688 term 52 leader 0 nextIndex[1]: 342  matchIndex[1]: 341
term 52 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 50 leaderCommit: 341 
------------------------------------------------------
flag 24888 term 52 leader 0 nextIndex[2]: 342  matchIndex[2]: 341
term 52 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 50 leaderCommit: 341 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=341
leader log:
[{snapshot 50 339} {8941566791177338694 50 340} {573393035471818064 50 341}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=341
leader log:
[{snapshot 50 339} {8941566791177338694 50 340} {573393035471818064 50 341}]
------------------------------------------------------
flag 25447 term 52 leader 0 nextIndex[1]: 342  matchIndex[1]: 341
term 52 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 50 leaderCommit: 341 
------------------------------------------------------
flag 77993 term 52 leader 0 nextIndex[2]: 342  matchIndex[2]: 341
term 52 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 50 leaderCommit: 341 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:341 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=341
leader log:
[{snapshot 50 339} {8941566791177338694 50 340} {573393035471818064 50 341}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=341
leader log:
[{snapshot 50 339} {8941566791177338694 50 340} {573393035471818064 50 341}]
------------------------------------------------------
flag 17335 term 52 leader 0 nextIndex[1]: 342  matchIndex[1]: 341
term 52 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 50 leaderCommit: 341 
------------------------------------------------------
flag 35493 term 52 leader 0 nextIndex[2]: 342  matchIndex[2]: 341
term 52 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 50 leaderCommit: 341 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=341
leader log:
[{snapshot 50 339} {8941566791177338694 50 340} {573393035471818064 50 341}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=341
leader log:
[{snapshot 50 339} {8941566791177338694 50 340} {573393035471818064 50 341}]
------------------------------------------------------
flag 55984 term 52 leader 0 nextIndex[1]: 342  matchIndex[1]: 341
term 52 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 50 leaderCommit: 341 
------------------------------------------------------
flag 6277 term 52 leader 0 nextIndex[2]: 342  matchIndex[2]: 341
term 52 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 50 leaderCommit: 341 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=341
leader log:
[{snapshot 50 339} {8941566791177338694 50 340} {573393035471818064 50 341}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=341
leader log:
[{snapshot 50 339} {8941566791177338694 50 340} {573393035471818064 50 341}]
------------------------------------------------------
flag 5732 term 52 leader 0 nextIndex[1]: 342  matchIndex[1]: 341
term 52 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 50 leaderCommit: 341 
------------------------------------------------------
flag 85619 term 52 leader 0 nextIndex[2]: 342  matchIndex[2]: 341
term 52 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 50 leaderCommit: 341 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=341
leader log:
[{snapshot 50 339} {8941566791177338694 50 340} {573393035471818064 50 341}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=341
leader log:
[{snapshot 50 339} {8941566791177338694 50 340} {573393035471818064 50 341}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 72432 term 52 leader 0 nextIndex[1]: 342  matchIndex[1]: 341
term 52 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 50 leaderCommit: 341 
------------------------------------------------------
flag 1325 term 52 leader 0 nextIndex[2]: 342  matchIndex[2]: 341
term 52 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 50 leaderCommit: 341 
------------------------------------------------------
flag 7987 term 52 leader 0 nextIndex[1]: 342  matchIndex[1]: 341
term 52 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 50 leaderCommit: 341 
------------------------------------------------------
flag 1597 term 52 leader 0 nextIndex[2]: 342  matchIndex[2]: 341
term 52 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 50 leaderCommit: 341 
------------------------------------------------------
flag 47051 term 52 leader 0 nextIndex[1]: 342  matchIndex[1]: 341
term 52 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 50 leaderCommit: 341 
------------------------------------------------------
flag 25880 term 52 leader 0 nextIndex[2]: 342  matchIndex[2]: 341
term 52 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 50 leaderCommit: 341 
------------------------------------------------------
term 52 server 2 not vote for server 1, 任期不够新
term 52 server 1 get outdate rpc reply from server 2
term 53 server 2 vote for server 1
term 53 server 1 get vote from server 2
term 53 server 1 become leader
------------------------------------------------------
flag 35497 term 53 leader 1 nextIndex[0]: 342  matchIndex[0]: 0
term 53 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 50 leaderCommit: 341 
------------------------------------------------------
flag 67437 term 53 leader 1 nextIndex[2]: 342  matchIndex[2]: 0
term 53 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 50 leaderCommit: 341 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=341
leader log:
[{snapshot 50 339} {8941566791177338694 50 340} {573393035471818064 50 341}]
------------------------------------------------------
flag 93945 term 52 leader 0 nextIndex[1]: 342  matchIndex[1]: 341
term 52 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 50 leaderCommit: 341 
------------------------------------------------------
flag 85802 term 52 leader 0 nextIndex[2]: 342  matchIndex[2]: 341
term 52 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 50 leaderCommit: 341 
------------------------------------------------------
client write log 2768833554640504085 (index 342) to leader 1
flag 9276 term 53 leader 1 nextIndex[0]: 342  matchIndex[0]: 0
term 53 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 50 leaderCommit: 341 
------------------------------------------------------
flag 50935 term 53 leader 1 nextIndex[2]: 342  matchIndex[2]: 341
term 53 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 50 leaderCommit: 341 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=343
update matchIndex[2]=342
update leader CommitIndex=342
leader log:
[{snapshot 50 339} {8941566791177338694 50 340} {573393035471818064 50 341} {2768833554640504085 53 342}]
------------------------------------------------------
flag 22077 term 52 leader 0 nextIndex[1]: 342  matchIndex[1]: 341
term 52 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 50 leaderCommit: 341 
------------------------------------------------------
flag 86196 term 52 leader 0 nextIndex[2]: 342  matchIndex[2]: 341
term 52 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 50 leaderCommit: 341 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98547 term 53 leader 1 nextIndex[0]: 342  matchIndex[0]: 0
term 53 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 50 leaderCommit: 342 
------------------------------------------------------
flag 52527 term 53 leader 1 nextIndex[2]: 343  matchIndex[2]: 342
term 53 leader 1 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 53 leaderCommit: 342 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=343
update matchIndex[2]=342
update leader CommitIndex=342
leader log:
[{snapshot 50 339} {8941566791177338694 50 340} {573393035471818064 50 341} {2768833554640504085 53 342}]
------------------------------------------------------
flag 64346 term 52 leader 0 nextIndex[1]: 342  matchIndex[1]: 341
term 52 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 50 leaderCommit: 341 
------------------------------------------------------
flag 45085 term 52 leader 0 nextIndex[2]: 342  matchIndex[2]: 341
term 52 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 50 leaderCommit: 341 
------------------------------------------------------
client write log 593786193260560523 (index 343) to leader 1
client write log 4825093853091173777 (index 344) to leader 1
client write log 3806893419289160617 (index 345) to leader 1
client write log 7411239139285130898 (index 346) to leader 1
client write log 3628607103224213900 (index 347) to leader 1
client write log 6306829187068957403 (index 348) to leader 1
client write log 7773113202443264722 (index 349) to leader 1
client write log 8099003241652504919 (index 350) to leader 1
client write log 3186449698360774706 (index 351) to leader 1
client write log 1763617581407214801 (index 352) to leader 1
client write log 8382741230818030059 (index 353) to leader 1
client write log 5828291597886436008 (index 354) to leader 1
flag 32196 term 53 leader 1 nextIndex[0]: 342  matchIndex[0]: 0
term 53 leader 1 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 50 leaderCommit: 342 
------------------------------------------------------
flag 23846 term 53 leader 1 nextIndex[2]: 343  matchIndex[2]: 342
term 53 leader 1 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 53 leaderCommit: 342 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=355
update matchIndex[2]=354
update leader CommitIndex=354
leader log:
[{snapshot 50 339} {8941566791177338694 50 340} {573393035471818064 50 341} {2768833554640504085 53 342} {593786193260560523 53 343} {4825093853091173777 53 344} {3806893419289160617 53 345} {7411239139285130898 53 346} {3628607103224213900 53 347} {6306829187068957403 53 348} {7773113202443264722 53 349} {8099003241652504919 53 350} {3186449698360774706 53 351} {1763617581407214801 53 352} {8382741230818030059 53 353} {5828291597886436008 53 354}]
------------------------------------------------------
flag 45581 term 52 leader 0 nextIndex[1]: 342  matchIndex[1]: 341
term 52 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 50 leaderCommit: 341 
------------------------------------------------------
flag 79294 term 52 leader 0 nextIndex[2]: 342  matchIndex[2]: 341
term 52 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 50 leaderCommit: 341 
------------------------------------------------------
term 53 Server1 start snapshot! index=349
term 53 server1 snapshot success
lastIncludedIndex=349 lastApplied=350 lastIndex=354
-------------------------------------------------------------
term 53 leader 1 nextIndex[0]: 342  matchIndex[0]: 0
term 53 leader 1 sendInstallSnapshot LastIncludedIndex: 349  LastIncludedTerm: 53
------------------------------------------------------
flag 98358 term 53 leader 1 nextIndex[2]: 355  matchIndex[2]: 354
term 53 leader 1 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 53 leaderCommit: 354 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:354 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=355
update matchIndex[2]=354
update leader CommitIndex=354
leader log:
[{snapshot 53 349} {8099003241652504919 53 350} {3186449698360774706 53 351} {1763617581407214801 53 352} {8382741230818030059 53 353} {5828291597886436008 53 354}]
------------------------------------------------------
term 53 Server2 start snapshot! index=349
term 53 server2 snapshot success
lastIncludedIndex=349 lastApplied=350 lastIndex=354
-------------------------------------------------------------
flag 24681 term 52 leader 0 nextIndex[1]: 342  matchIndex[1]: 341
term 52 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 50 leaderCommit: 341 
------------------------------------------------------
flag 71598 term 52 leader 0 nextIndex[2]: 342  matchIndex[2]: 341
term 52 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 50 leaderCommit: 341 
------------------------------------------------------
!!!!!!connect server 0
client write log 3047693317321711177 (index 355) to leader 1
term 53 leader 1 nextIndex[0]: 342  matchIndex[0]: 0
term 53 leader 1 sendInstallSnapshot LastIncludedIndex: 349  LastIncludedTerm: 53
------------------------------------------------------
flag 31793 term 53 leader 1 nextIndex[2]: 355  matchIndex[2]: 354
term 53 leader 1 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 53 leaderCommit: 354 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:354 
------------------------------------------------------
term 53 server 0 InstallSnapshot success
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=356
update matchIndex[2]=355
update leader CommitIndex=355
leader log:
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 349 rf.lastIncludedTerm 53 rf.commitIndex 349 rf.lastApplied 349
[{snapshot 53 349} {8099003241652504919 53 350} {3186449698360774706 53 351} {1763617581407214801 53 352} {8382741230818030059 53 353} {5828291597886436008 53 354} {3047693317321711177 53 355}]
------------------------------------------------------
term 53 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 350 matchIndex[0] 349 
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38311 term 53 leader 1 nextIndex[0]: 350  matchIndex[0]: 349
term 53 leader 1 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 53 leaderCommit: 355 
------------------------------------------------------
flag 19169 term 53 leader 1 nextIndex[2]: 356  matchIndex[2]: 355
term 53 leader 1 sendAppendEntries PrevLogIndex: 355  PrevLogTerm: 53 leaderCommit: 355 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=356
update matchIndex[2]=355
update leader CommitIndex=355
leader log:
[{snapshot 53 349} {8099003241652504919 53 350} {3186449698360774706 53 351} {1763617581407214801 53 352} {8382741230818030059 53 353} {5828291597886436008 53 354} {3047693317321711177 53 355}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=356
update matchIndex[0]=355
update leader CommitIndex=355
leader log:
[{snapshot 53 349} {8099003241652504919 53 350} {3186449698360774706 53 351} {1763617581407214801 53 352} {8382741230818030059 53 353} {5828291597886436008 53 354} {3047693317321711177 53 355}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 53 server 0 not vote for server 1, 任期不够新
term 53 server 1 get outdate rpc reply from server 0
flag 21126 term 53 leader 1 nextIndex[0]: 356  matchIndex[0]: 355
term 53 leader 1 sendAppendEntries PrevLogIndex: 355  PrevLogTerm: 53 leaderCommit: 355 
------------------------------------------------------
flag 70752 term 53 leader 1 nextIndex[2]: 356  matchIndex[2]: 355
term 53 leader 1 sendAppendEntries PrevLogIndex: 355  PrevLogTerm: 53 leaderCommit: 355 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:355 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=356
update matchIndex[2]=355
update leader CommitIndex=355
leader log:
[{snapshot 53 349} {8099003241652504919 53 350} {3186449698360774706 53 351} {1763617581407214801 53 352} {8382741230818030059 53 353} {5828291597886436008 53 354} {3047693317321711177 53 355}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=356
update matchIndex[0]=355
update leader CommitIndex=355
leader log:
[{snapshot 53 349} {8099003241652504919 53 350} {3186449698360774706 53 351} {1763617581407214801 53 352} {8382741230818030059 53 353} {5828291597886436008 53 354} {3047693317321711177 53 355}]
------------------------------------------------------
flag 77044 term 53 leader 1 nextIndex[0]: 356  matchIndex[0]: 355
term 53 leader 1 sendAppendEntries PrevLogIndex: 355  PrevLogTerm: 53 leaderCommit: 355 
------------------------------------------------------
flag 10388 term 53 leader 1 nextIndex[2]: 356  matchIndex[2]: 355
term 53 leader 1 sendAppendEntries PrevLogIndex: 355  PrevLogTerm: 53 leaderCommit: 355 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=356
update matchIndex[2]=355
update leader CommitIndex=355
leader log:
[{snapshot 53 349} {8099003241652504919 53 350} {3186449698360774706 53 351} {1763617581407214801 53 352} {8382741230818030059 53 353} {5828291597886436008 53 354} {3047693317321711177 53 355}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=356
update matchIndex[0]=355
update leader CommitIndex=355
leader log:
[{snapshot 53 349} {8099003241652504919 53 350} {3186449698360774706 53 351} {1763617581407214801 53 352} {8382741230818030059 53 353} {5828291597886436008 53 354} {3047693317321711177 53 355}]
------------------------------------------------------
flag 30441 term 53 leader 1 nextIndex[0]: 356  matchIndex[0]: 355
term 53 leader 1 sendAppendEntries PrevLogIndex: 355  PrevLogTerm: 53 leaderCommit: 355 
------------------------------------------------------
flag 82560 term 53 leader 1 nextIndex[2]: 356  matchIndex[2]: 355
term 53 leader 1 sendAppendEntries PrevLogIndex: 355  PrevLogTerm: 53 leaderCommit: 355 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=356
update matchIndex[2]=355
update leader CommitIndex=355
leader log:
[{snapshot 53 349} {8099003241652504919 53 350} {3186449698360774706 53 351} {1763617581407214801 53 352} {8382741230818030059 53 353} {5828291597886436008 53 354} {3047693317321711177 53 355}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=356
update matchIndex[0]=355
update leader CommitIndex=355
leader log:
[{snapshot 53 349} {8099003241652504919 53 350} {3186449698360774706 53 351} {1763617581407214801 53 352} {8382741230818030059 53 353} {5828291597886436008 53 354} {3047693317321711177 53 355}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41168 term 53 leader 1 nextIndex[0]: 356  matchIndex[0]: 355
term 53 leader 1 sendAppendEntries PrevLogIndex: 355  PrevLogTerm: 53 leaderCommit: 355 
------------------------------------------------------
flag 81782 term 53 leader 1 nextIndex[2]: 356  matchIndex[2]: 355
term 53 leader 1 sendAppendEntries PrevLogIndex: 355  PrevLogTerm: 53 leaderCommit: 355 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:355 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=356
update matchIndex[2]=355
update leader CommitIndex=355
leader log:
[{snapshot 53 349} {8099003241652504919 53 350} {3186449698360774706 53 351} {1763617581407214801 53 352} {8382741230818030059 53 353} {5828291597886436008 53 354} {3047693317321711177 53 355}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=356
update matchIndex[0]=355
update leader CommitIndex=355
leader log:
[{snapshot 53 349} {8099003241652504919 53 350} {3186449698360774706 53 351} {1763617581407214801 53 352} {8382741230818030059 53 353} {5828291597886436008 53 354} {3047693317321711177 53 355}]
------------------------------------------------------
term 53 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 350 matchIndex[0] 349 
------------------------------------------------------------------------
flag 49950 term 53 leader 1 nextIndex[0]: 350  matchIndex[0]: 349
term 53 leader 1 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 53 leaderCommit: 355 
------------------------------------------------------
flag 17471 term 53 leader 1 nextIndex[2]: 356  matchIndex[2]: 355
term 53 leader 1 sendAppendEntries PrevLogIndex: 355  PrevLogTerm: 53 leaderCommit: 355 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=356
update matchIndex[2]=355
update leader CommitIndex=355
leader log:
[{snapshot 53 349} {8099003241652504919 53 350} {3186449698360774706 53 351} {1763617581407214801 53 352} {8382741230818030059 53 353} {5828291597886436008 53 354} {3047693317321711177 53 355}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=356
update matchIndex[0]=355
update leader CommitIndex=355
leader log:
[{snapshot 53 349} {8099003241652504919 53 350} {3186449698360774706 53 351} {1763617581407214801 53 352} {8382741230818030059 53 353} {5828291597886436008 53 354} {3047693317321711177 53 355}]
------------------------------------------------------
flag 50522 term 53 leader 1 nextIndex[0]: 356  matchIndex[0]: 355
term 53 leader 1 sendAppendEntries PrevLogIndex: 355  PrevLogTerm: 53 leaderCommit: 355 
------------------------------------------------------
flag 54504 term 53 leader 1 nextIndex[2]: 356  matchIndex[2]: 355
term 53 leader 1 sendAppendEntries PrevLogIndex: 355  PrevLogTerm: 53 leaderCommit: 355 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:355 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=356
update matchIndex[0]=355
update leader CommitIndex=355
leader log:
[{snapshot 53 349} {8099003241652504919 53 350} {3186449698360774706 53 351} {1763617581407214801 53 352} {8382741230818030059 53 353} {5828291597886436008 53 354} {3047693317321711177 53 355}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=356
update matchIndex[2]=355
update leader CommitIndex=355
leader log:
[{snapshot 53 349} {8099003241652504919 53 350} {3186449698360774706 53 351} {1763617581407214801 53 352} {8382741230818030059 53 353} {5828291597886436008 53 354} {3047693317321711177 53 355}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 3187675744796366654 (index 356) to leader 1
flag 93340 term 53 leader 1 nextIndex[0]: 356  matchIndex[0]: 355
term 53 leader 1 sendAppendEntries PrevLogIndex: 355  PrevLogTerm: 53 leaderCommit: 355 
------------------------------------------------------
flag 74218 term 53 leader 1 nextIndex[2]: 356  matchIndex[2]: 355
term 53 leader 1 sendAppendEntries PrevLogIndex: 355  PrevLogTerm: 53 leaderCommit: 355 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=357
update matchIndex[0]=356
update leader CommitIndex=356
leader log:
[{snapshot 53 349} {8099003241652504919 53 350} {3186449698360774706 53 351} {1763617581407214801 53 352} {8382741230818030059 53 353} {5828291597886436008 53 354} {3047693317321711177 53 355} {3187675744796366654 53 356}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10500 term 53 leader 1 nextIndex[0]: 357  matchIndex[0]: 356
term 53 leader 1 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 53 leaderCommit: 356 
------------------------------------------------------
flag 74921 term 53 leader 1 nextIndex[2]: 356  matchIndex[2]: 355
term 53 leader 1 sendAppendEntries PrevLogIndex: 355  PrevLogTerm: 53 leaderCommit: 356 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:356 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=357
update matchIndex[0]=356
update leader CommitIndex=356
leader log:
[{snapshot 53 349} {8099003241652504919 53 350} {3186449698360774706 53 351} {1763617581407214801 53 352} {8382741230818030059 53 353} {5828291597886436008 53 354} {3047693317321711177 53 355} {3187675744796366654 53 356}]
------------------------------------------------------
client write log 4140417761266332788 (index 357) to leader 1
client write log 1558344516480599675 (index 358) to leader 1
client write log 4872397396070793818 (index 359) to leader 1
client write log 116505516489375548 (index 360) to leader 1
client write log 7200156265149521864 (index 361) to leader 1
client write log 3746917840795646191 (index 362) to leader 1
flag 83016 term 53 leader 1 nextIndex[0]: 357  matchIndex[0]: 356
term 53 leader 1 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 53 leaderCommit: 356 
------------------------------------------------------
flag 49202 term 53 leader 1 nextIndex[2]: 356  matchIndex[2]: 355
term 53 leader 1 sendAppendEntries PrevLogIndex: 355  PrevLogTerm: 53 leaderCommit: 356 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:356 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=363
update matchIndex[0]=362
update leader CommitIndex=362
leader log:
[{snapshot 53 349} {8099003241652504919 53 350} {3186449698360774706 53 351} {1763617581407214801 53 352} {8382741230818030059 53 353} {5828291597886436008 53 354} {3047693317321711177 53 355} {3187675744796366654 53 356} {4140417761266332788 53 357} {1558344516480599675 53 358} {4872397396070793818 53 359} {116505516489375548 53 360} {7200156265149521864 53 361} {3746917840795646191 53 362}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 53 Server1 start snapshot! index=359
term 53 server1 snapshot success
lastIncludedIndex=359 lastApplied=360 lastIndex=362
-------------------------------------------------------------
flag 72787 term 53 leader 1 nextIndex[0]: 363  matchIndex[0]: 362
term 53 leader 1 sendAppendEntries PrevLogIndex: 362  PrevLogTerm: 53 leaderCommit: 362 
------------------------------------------------------
term 53 leader 1 nextIndex[2]: 356  matchIndex[2]: 355
term 53 leader 1 sendInstallSnapshot LastIncludedIndex: 359  LastIncludedTerm: 53
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:362 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=363
update matchIndex[0]=362
update leader CommitIndex=362
leader log:
[{snapshot 53 359} {116505516489375548 53 360} {7200156265149521864 53 361} {3746917840795646191 53 362}]
------------------------------------------------------
term 53 Server0 start snapshot! index=359
term 53 server0 snapshot success
lastIncludedIndex=359 lastApplied=360 lastIndex=362
-------------------------------------------------------------
!!!!!!connect server 2
client write log 5571441036543325637 (index 363) to leader 1
flag 8541 term 53 leader 1 nextIndex[0]: 363  matchIndex[0]: 362
term 53 leader 1 sendAppendEntries PrevLogIndex: 362  PrevLogTerm: 53 leaderCommit: 362 
------------------------------------------------------
term 53 leader 1 nextIndex[2]: 356  matchIndex[2]: 355
term 53 leader 1 sendInstallSnapshot LastIncludedIndex: 359  LastIncludedTerm: 53
------------------------------------------------------
term 54 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:362 
------------------------------------------------------
term 53 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 55 server 2 vote for server 1
term 55 server 1 get vote from server 2
term 55 server 1 become leader
------------------------------------------------------
term 55 server 0 vote for server 1
term 55 server 1 get outdate rpc reply from server 0
flag 12896 term 55 leader 1 nextIndex[0]: 364  matchIndex[0]: 0
term 55 leader 1 sendAppendEntries PrevLogIndex: 363  PrevLogTerm: 53 leaderCommit: 362 
------------------------------------------------------
flag 36157 term 55 leader 1 nextIndex[2]: 364  matchIndex[2]: 0
term 55 leader 1 sendAppendEntries PrevLogIndex: 363  PrevLogTerm: 53 leaderCommit: 362 
------------------------------------------------------
term 55 server 2 AppendEntries false prev日志不匹配
term 55 server 0 AppendEntries true commitIndex:362 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=364
update matchIndex[0]=363
update leader CommitIndex=362
leader log:
[{snapshot 53 359} {116505516489375548 53 360} {7200156265149521864 53 361} {3746917840795646191 53 362} {5571441036543325637 53 363}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 364->363
------------------------------------------------------
term 55 server 1 not vote for server 2, 任期不够新
term 55 server 2 get outdate rpc reply from server 1
flag 70064 term 55 leader 1 nextIndex[0]: 364  matchIndex[0]: 363
term 55 leader 1 sendAppendEntries PrevLogIndex: 363  PrevLogTerm: 53 leaderCommit: 362 
------------------------------------------------------
term 55 leader 1 nextIndex[2]: 356  matchIndex[2]: 0
term 55 leader 1 sendInstallSnapshot LastIncludedIndex: 359  LastIncludedTerm: 53
------------------------------------------------------
term 55 server 2 InstallSnapshot success
------------------------------------------------------
term 55 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 360 matchIndex[2] 359 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 359 rf.lastIncludedTerm 53 rf.commitIndex 359 rf.lastApplied 359
term 55 server 0 AppendEntries true commitIndex:362 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=364
update matchIndex[0]=363
update leader CommitIndex=362
leader log:
[{snapshot 53 359} {116505516489375548 53 360} {7200156265149521864 53 361} {3746917840795646191 53 362} {5571441036543325637 53 363}]
------------------------------------------------------
flag 19342 term 55 leader 1 nextIndex[0]: 364  matchIndex[0]: 363
term 55 leader 1 sendAppendEntries PrevLogIndex: 363  PrevLogTerm: 53 leaderCommit: 362 
------------------------------------------------------
flag 36533 term 55 leader 1 nextIndex[2]: 360  matchIndex[2]: 359
term 55 leader 1 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 53 leaderCommit: 362 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:362 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=364
update matchIndex[0]=363
update leader CommitIndex=362
leader log:
[{snapshot 53 359} {116505516489375548 53 360} {7200156265149521864 53 361} {3746917840795646191 53 362} {5571441036543325637 53 363}]
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:359 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=364
update matchIndex[2]=363
update leader CommitIndex=362
leader log:
[{snapshot 53 359} {116505516489375548 53 360} {7200156265149521864 53 361} {3746917840795646191 53 362} {5571441036543325637 53 363}]
------------------------------------------------------
flag 11261 term 55 leader 1 nextIndex[0]: 364  matchIndex[0]: 363
term 55 leader 1 sendAppendEntries PrevLogIndex: 363  PrevLogTerm: 53 leaderCommit: 362 
------------------------------------------------------
flag 17618 term 55 leader 1 nextIndex[2]: 364  matchIndex[2]: 363
term 55 leader 1 sendAppendEntries PrevLogIndex: 363  PrevLogTerm: 53 leaderCommit: 362 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:362 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=364
update matchIndex[0]=363
update leader CommitIndex=362
leader log:
[{snapshot 53 359} {116505516489375548 53 360} {7200156265149521864 53 361} {3746917840795646191 53 362} {5571441036543325637 53 363}]
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:362 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=364
update matchIndex[2]=363
update leader CommitIndex=362
leader log:
[{snapshot 53 359} {116505516489375548 53 360} {7200156265149521864 53 361} {3746917840795646191 53 362} {5571441036543325637 53 363}]
------------------------------------------------------
flag 73001 term 55 leader 1 nextIndex[0]: 364  matchIndex[0]: 363
term 55 leader 1 sendAppendEntries PrevLogIndex: 363  PrevLogTerm: 53 leaderCommit: 362 
------------------------------------------------------
flag 86828 term 55 leader 1 nextIndex[2]: 364  matchIndex[2]: 363
term 55 leader 1 sendAppendEntries PrevLogIndex: 363  PrevLogTerm: 53 leaderCommit: 362 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:362 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=364
update matchIndex[2]=363
update leader CommitIndex=362
leader log:
[{snapshot 53 359} {116505516489375548 53 360} {7200156265149521864 53 361} {3746917840795646191 53 362} {5571441036543325637 53 363}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:362 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=364
update matchIndex[0]=363
update leader CommitIndex=362
leader log:
[{snapshot 53 359} {116505516489375548 53 360} {7200156265149521864 53 361} {3746917840795646191 53 362} {5571441036543325637 53 363}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87934 term 55 leader 1 nextIndex[0]: 364  matchIndex[0]: 363
term 55 leader 1 sendAppendEntries PrevLogIndex: 363  PrevLogTerm: 53 leaderCommit: 362 
------------------------------------------------------
flag 13437 term 55 leader 1 nextIndex[2]: 364  matchIndex[2]: 363
term 55 leader 1 sendAppendEntries PrevLogIndex: 363  PrevLogTerm: 53 leaderCommit: 362 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:362 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=364
update matchIndex[2]=363
update leader CommitIndex=362
leader log:
[{snapshot 53 359} {116505516489375548 53 360} {7200156265149521864 53 361} {3746917840795646191 53 362} {5571441036543325637 53 363}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:362 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=364
update matchIndex[0]=363
update leader CommitIndex=362
leader log:
[{snapshot 53 359} {116505516489375548 53 360} {7200156265149521864 53 361} {3746917840795646191 53 362} {5571441036543325637 53 363}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 55 server 0 not vote for server 2, 任期不够新
term 55 server 2 get outdate rpc reply from server 0
flag 77927 term 55 leader 1 nextIndex[0]: 364  matchIndex[0]: 363
term 55 leader 1 sendAppendEntries PrevLogIndex: 363  PrevLogTerm: 53 leaderCommit: 362 
------------------------------------------------------
flag 52414 term 55 leader 1 nextIndex[2]: 364  matchIndex[2]: 363
term 55 leader 1 sendAppendEntries PrevLogIndex: 363  PrevLogTerm: 53 leaderCommit: 362 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:362 
term 55 server 0 AppendEntries true commitIndex:362 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=364
update matchIndex[0]=363
update leader CommitIndex=362
leader log:
[{snapshot 53 359} {116505516489375548 53 360} {7200156265149521864 53 361} {3746917840795646191 53 362} {5571441036543325637 53 363}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=364
update matchIndex[2]=363
update leader CommitIndex=362
leader log:
[{snapshot 53 359} {116505516489375548 53 360} {7200156265149521864 53 361} {3746917840795646191 53 362} {5571441036543325637 53 363}]
------------------------------------------------------
term 55 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 15804 term 55 leader 1 nextIndex[0]: 364  matchIndex[0]: 363
term 55 leader 1 sendAppendEntries PrevLogIndex: 363  PrevLogTerm: 53 leaderCommit: 362 
------------------------------------------------------
flag 63066 term 55 leader 1 nextIndex[2]: 364  matchIndex[2]: 363
term 55 leader 1 sendAppendEntries PrevLogIndex: 363  PrevLogTerm: 53 leaderCommit: 362 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:362 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=364
update matchIndex[2]=363
update leader CommitIndex=362
leader log:
[{snapshot 53 359} {116505516489375548 53 360} {7200156265149521864 53 361} {3746917840795646191 53 362} {5571441036543325637 53 363}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:362 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=364
update matchIndex[0]=363
update leader CommitIndex=362
leader log:
[{snapshot 53 359} {116505516489375548 53 360} {7200156265149521864 53 361} {3746917840795646191 53 362} {5571441036543325637 53 363}]
------------------------------------------------------
term 55 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 20758 term 55 leader 1 nextIndex[0]: 364  matchIndex[0]: 363
term 55 leader 1 sendAppendEntries PrevLogIndex: 363  PrevLogTerm: 53 leaderCommit: 362 
------------------------------------------------------
flag 42081 term 55 leader 1 nextIndex[2]: 364  matchIndex[2]: 363
term 55 leader 1 sendAppendEntries PrevLogIndex: 363  PrevLogTerm: 53 leaderCommit: 362 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:362 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=364
update matchIndex[2]=363
update leader CommitIndex=362
leader log:
[{snapshot 53 359} {116505516489375548 53 360} {7200156265149521864 53 361} {3746917840795646191 53 362} {5571441036543325637 53 363}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:362 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=364
update matchIndex[0]=363
update leader CommitIndex=362
leader log:
[{snapshot 53 359} {116505516489375548 53 360} {7200156265149521864 53 361} {3746917840795646191 53 362} {5571441036543325637 53 363}]
------------------------------------------------------
flag 47645 term 55 leader 1 nextIndex[0]: 364  matchIndex[0]: 363
term 55 leader 1 sendAppendEntries PrevLogIndex: 363  PrevLogTerm: 53 leaderCommit: 362 
------------------------------------------------------
flag 75020 term 55 leader 1 nextIndex[2]: 364  matchIndex[2]: 363
term 55 leader 1 sendAppendEntries PrevLogIndex: 363  PrevLogTerm: 53 leaderCommit: 362 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:362 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=364
update matchIndex[2]=363
update leader CommitIndex=362
leader log:
[{snapshot 53 359} {116505516489375548 53 360} {7200156265149521864 53 361} {3746917840795646191 53 362} {5571441036543325637 53 363}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:362 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=364
update matchIndex[0]=363
update leader CommitIndex=362
leader log:
[{snapshot 53 359} {116505516489375548 53 360} {7200156265149521864 53 361} {3746917840795646191 53 362} {5571441036543325637 53 363}]
------------------------------------------------------
flag 20802 term 55 leader 1 nextIndex[0]: 364  matchIndex[0]: 363
term 55 leader 1 sendAppendEntries PrevLogIndex: 363  PrevLogTerm: 53 leaderCommit: 362 
------------------------------------------------------
flag 48875 term 55 leader 1 nextIndex[2]: 364  matchIndex[2]: 363
term 55 leader 1 sendAppendEntries PrevLogIndex: 363  PrevLogTerm: 53 leaderCommit: 362 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:362 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=364
update matchIndex[2]=363
update leader CommitIndex=362
leader log:
[{snapshot 53 359} {116505516489375548 53 360} {7200156265149521864 53 361} {3746917840795646191 53 362} {5571441036543325637 53 363}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:362 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=364
update matchIndex[0]=363
update leader CommitIndex=362
leader log:
[{snapshot 53 359} {116505516489375548 53 360} {7200156265149521864 53 361} {3746917840795646191 53 362} {5571441036543325637 53 363}]
------------------------------------------------------
flag 31228 term 55 leader 1 nextIndex[0]: 364  matchIndex[0]: 363
term 55 leader 1 sendAppendEntries PrevLogIndex: 363  PrevLogTerm: 53 leaderCommit: 362 
------------------------------------------------------
flag 70148 term 55 leader 1 nextIndex[2]: 364  matchIndex[2]: 363
term 55 leader 1 sendAppendEntries PrevLogIndex: 363  PrevLogTerm: 53 leaderCommit: 362 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:362 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:362 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=364
update matchIndex[2]=363
update leader CommitIndex=362
leader log:
[{snapshot 53 359} {116505516489375548 53 360} {7200156265149521864 53 361} {3746917840795646191 53 362} {5571441036543325637 53 363}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=364
update matchIndex[0]=363
update leader CommitIndex=362
leader log:
[{snapshot 53 359} {116505516489375548 53 360} {7200156265149521864 53 361} {3746917840795646191 53 362} {5571441036543325637 53 363}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77506 term 55 leader 1 nextIndex[0]: 364  matchIndex[0]: 363
term 55 leader 1 sendAppendEntries PrevLogIndex: 363  PrevLogTerm: 53 leaderCommit: 362 
------------------------------------------------------
flag 74980 term 55 leader 1 nextIndex[2]: 364  matchIndex[2]: 363
term 55 leader 1 sendAppendEntries PrevLogIndex: 363  PrevLogTerm: 53 leaderCommit: 362 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:362 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=364
update matchIndex[0]=363
update leader CommitIndex=362
leader log:
[{snapshot 53 359} {116505516489375548 53 360} {7200156265149521864 53 361} {3746917840795646191 53 362} {5571441036543325637 53 363}]
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:362 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=364
update matchIndex[2]=363
update leader CommitIndex=362
leader log:
[{snapshot 53 359} {116505516489375548 53 360} {7200156265149521864 53 361} {3746917840795646191 53 362} {5571441036543325637 53 363}]
------------------------------------------------------
flag 49000 term 55 leader 1 nextIndex[0]: 364  matchIndex[0]: 363
term 55 leader 1 sendAppendEntries PrevLogIndex: 363  PrevLogTerm: 53 leaderCommit: 362 
------------------------------------------------------
flag 43673 term 55 leader 1 nextIndex[2]: 364  matchIndex[2]: 363
term 55 leader 1 sendAppendEntries PrevLogIndex: 363  PrevLogTerm: 53 leaderCommit: 362 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:362 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=364
update matchIndex[2]=363
update leader CommitIndex=362
leader log:
[{snapshot 53 359} {116505516489375548 53 360} {7200156265149521864 53 361} {3746917840795646191 53 362} {5571441036543325637 53 363}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:362 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=364
update matchIndex[0]=363
update leader CommitIndex=362
leader log:
[{snapshot 53 359} {116505516489375548 53 360} {7200156265149521864 53 361} {3746917840795646191 53 362} {5571441036543325637 53 363}]
------------------------------------------------------
flag 9214 term 55 leader 1 nextIndex[0]: 364  matchIndex[0]: 363
term 55 leader 1 sendAppendEntries PrevLogIndex: 363  PrevLogTerm: 53 leaderCommit: 362 
------------------------------------------------------
flag 80571 term 55 leader 1 nextIndex[2]: 364  matchIndex[2]: 363
term 55 leader 1 sendAppendEntries PrevLogIndex: 363  PrevLogTerm: 53 leaderCommit: 362 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:362 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:362 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=364
update matchIndex[2]=363
update leader CommitIndex=362
leader log:
[{snapshot 53 359} {116505516489375548 53 360} {7200156265149521864 53 361} {3746917840795646191 53 362} {5571441036543325637 53 363}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=364
update matchIndex[0]=363
update leader CommitIndex=362
leader log:
[{snapshot 53 359} {116505516489375548 53 360} {7200156265149521864 53 361} {3746917840795646191 53 362} {5571441036543325637 53 363}]
------------------------------------------------------
flag 98637 term 55 leader 1 nextIndex[0]: 364  matchIndex[0]: 363
term 55 leader 1 sendAppendEntries PrevLogIndex: 363  PrevLogTerm: 53 leaderCommit: 362 
------------------------------------------------------
flag 74819 term 55 leader 1 nextIndex[2]: 364  matchIndex[2]: 363
term 55 leader 1 sendAppendEntries PrevLogIndex: 363  PrevLogTerm: 53 leaderCommit: 362 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:362 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=364
update matchIndex[2]=363
update leader CommitIndex=362
leader log:
[{snapshot 53 359} {116505516489375548 53 360} {7200156265149521864 53 361} {3746917840795646191 53 362} {5571441036543325637 53 363}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:362 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=364
update matchIndex[0]=363
update leader CommitIndex=362
leader log:
[{snapshot 53 359} {116505516489375548 53 360} {7200156265149521864 53 361} {3746917840795646191 53 362} {5571441036543325637 53 363}]
------------------------------------------------------
flag 42691 term 55 leader 1 nextIndex[0]: 364  matchIndex[0]: 363
term 55 leader 1 sendAppendEntries PrevLogIndex: 363  PrevLogTerm: 53 leaderCommit: 362 
------------------------------------------------------
flag 93238 term 55 leader 1 nextIndex[2]: 364  matchIndex[2]: 363
term 55 leader 1 sendAppendEntries PrevLogIndex: 363  PrevLogTerm: 53 leaderCommit: 362 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:362 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=364
term 55 server 0 AppendEntries true commitIndex:362 
------------------------------------------------------
update matchIndex[2]=363
update leader CommitIndex=362
leader log:
[{snapshot 53 359} {116505516489375548 53 360} {7200156265149521864 53 361} {3746917840795646191 53 362} {5571441036543325637 53 363}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=364
update matchIndex[0]=363
update leader CommitIndex=362
leader log:
[{snapshot 53 359} {116505516489375548 53 360} {7200156265149521864 53 361} {3746917840795646191 53 362} {5571441036543325637 53 363}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96795 term 55 leader 1 nextIndex[0]: 364  matchIndex[0]: 363
term 55 leader 1 sendAppendEntries PrevLogIndex: 363  PrevLogTerm: 53 leaderCommit: 362 
------------------------------------------------------
flag 26211 term 55 leader 1 nextIndex[2]: 364  matchIndex[2]: 363
term 55 leader 1 sendAppendEntries PrevLogIndex: 363  PrevLogTerm: 53 leaderCommit: 362 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:362 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=364
update matchIndex[2]=363
update leader CommitIndex=362
leader log:
[{snapshot 53 359} {116505516489375548 53 360} {7200156265149521864 53 361} {3746917840795646191 53 362} {5571441036543325637 53 363}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:362 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=364
update matchIndex[0]=363
update leader CommitIndex=362
leader log:
[{snapshot 53 359} {116505516489375548 53 360} {7200156265149521864 53 361} {3746917840795646191 53 362} {5571441036543325637 53 363}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92641 term 55 leader 1 nextIndex[0]: 364  matchIndex[0]: 363
term 55 leader 1 sendAppendEntries PrevLogIndex: 363  PrevLogTerm: 53 leaderCommit: 362 
------------------------------------------------------
flag 37908 term 55 leader 1 nextIndex[2]: 364  matchIndex[2]: 363
term 55 leader 1 sendAppendEntries PrevLogIndex: 363  PrevLogTerm: 53 leaderCommit: 362 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:362 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=364
update matchIndex[2]=363
update leader CommitIndex=362
leader log:
[{snapshot 53 359} {116505516489375548 53 360} {7200156265149521864 53 361} {3746917840795646191 53 362} {5571441036543325637 53 363}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:362 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=364
update matchIndex[0]=363
update leader CommitIndex=362
leader log:
[{snapshot 53 359} {116505516489375548 53 360} {7200156265149521864 53 361} {3746917840795646191 53 362} {5571441036543325637 53 363}]
------------------------------------------------------
client write log 5571441036543325637 (index 364) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26359 term 55 leader 1 nextIndex[0]: 364  matchIndex[0]: 363
term 55 leader 1 sendAppendEntries PrevLogIndex: 363  PrevLogTerm: 53 leaderCommit: 362 
------------------------------------------------------
flag 77877 term 55 leader 1 nextIndex[2]: 364  matchIndex[2]: 363
term 55 leader 1 sendAppendEntries PrevLogIndex: 363  PrevLogTerm: 53 leaderCommit: 362 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:362 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=365
update matchIndex[2]=364
update leader CommitIndex=364
leader log:
[{snapshot 53 359} {116505516489375548 53 360} {7200156265149521864 53 361} {3746917840795646191 53 362} {5571441036543325637 53 363} {5571441036543325637 55 364}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:362 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=365
update matchIndex[0]=364
update leader CommitIndex=364
leader log:
[{snapshot 53 359} {116505516489375548 53 360} {7200156265149521864 53 361} {3746917840795646191 53 362} {5571441036543325637 53 363} {5571441036543325637 55 364}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98343 term 55 leader 1 nextIndex[0]: 365  matchIndex[0]: 364
term 55 leader 1 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 55 leaderCommit: 364 
------------------------------------------------------
flag 11872 term 55 leader 1 nextIndex[2]: 365  matchIndex[2]: 364
term 55 leader 1 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 55 leaderCommit: 364 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:364 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=365
update matchIndex[2]=364
update leader CommitIndex=364
leader log:
[{snapshot 53 359} {116505516489375548 53 360} {7200156265149521864 53 361} {3746917840795646191 53 362} {5571441036543325637 53 363} {5571441036543325637 55 364}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:364 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=365
update matchIndex[0]=364
update leader CommitIndex=364
leader log:
[{snapshot 53 359} {116505516489375548 53 360} {7200156265149521864 53 361} {3746917840795646191 53 362} {5571441036543325637 53 363} {5571441036543325637 55 364}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32600 term 55 leader 1 nextIndex[0]: 365  matchIndex[0]: 364
term 55 leader 1 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 55 leaderCommit: 364 
------------------------------------------------------
flag 26021 term 55 leader 1 nextIndex[2]: 365  matchIndex[2]: 364
term 55 leader 1 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 55 leaderCommit: 364 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:364 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=365
update matchIndex[2]=364
update leader CommitIndex=364
leader log:
[{snapshot 53 359} {116505516489375548 53 360} {7200156265149521864 53 361} {3746917840795646191 53 362} {5571441036543325637 53 363} {5571441036543325637 55 364}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:364 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=365
update matchIndex[0]=364
update leader CommitIndex=364
leader log:
[{snapshot 53 359} {116505516489375548 53 360} {7200156265149521864 53 361} {3746917840795646191 53 362} {5571441036543325637 53 363} {5571441036543325637 55 364}]
------------------------------------------------------
flag 8133 term 55 leader 1 nextIndex[0]: 365  matchIndex[0]: 364
term 55 leader 1 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 55 leaderCommit: 364 
------------------------------------------------------
flag 91716 term 55 leader 1 nextIndex[2]: 365  matchIndex[2]: 364
term 55 leader 1 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 55 leaderCommit: 364 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:364 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:364 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=365
update matchIndex[2]=364
update leader CommitIndex=364
leader log:
[{snapshot 53 359} {116505516489375548 53 360} {7200156265149521864 53 361} {3746917840795646191 53 362} {5571441036543325637 53 363} {5571441036543325637 55 364}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=365
update matchIndex[0]=364
update leader CommitIndex=364
leader log:
[{snapshot 53 359} {116505516489375548 53 360} {7200156265149521864 53 361} {3746917840795646191 53 362} {5571441036543325637 53 363} {5571441036543325637 55 364}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43818 term 55 leader 1 nextIndex[0]: 365  matchIndex[0]: 364
term 55 leader 1 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 55 leaderCommit: 364 
------------------------------------------------------
flag 4097 term 55 leader 1 nextIndex[2]: 365  matchIndex[2]: 364
term 55 leader 1 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 55 leaderCommit: 364 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:364 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:364 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=365
update matchIndex[2]=364
update leader CommitIndex=364
leader log:
[{snapshot 53 359} {116505516489375548 53 360} {7200156265149521864 53 361} {3746917840795646191 53 362} {5571441036543325637 53 363} {5571441036543325637 55 364}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=365
update matchIndex[0]=364
update leader CommitIndex=364
leader log:
[{snapshot 53 359} {116505516489375548 53 360} {7200156265149521864 53 361} {3746917840795646191 53 362} {5571441036543325637 53 363} {5571441036543325637 55 364}]
------------------------------------------------------
flag 55721 term 55 leader 1 nextIndex[0]: 365  matchIndex[0]: 364
term 55 leader 1 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 55 leaderCommit: 364 
------------------------------------------------------
flag 1626 term 55 leader 1 nextIndex[2]: 365  matchIndex[2]: 364
term 55 leader 1 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 55 leaderCommit: 364 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:364 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=365
update matchIndex[2]=364
update leader CommitIndex=364
leader log:
[{snapshot 53 359} {116505516489375548 53 360} {7200156265149521864 53 361} {3746917840795646191 53 362} {5571441036543325637 53 363} {5571441036543325637 55 364}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:364 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=365
update matchIndex[0]=364
update leader CommitIndex=364
leader log:
[{snapshot 53 359} {116505516489375548 53 360} {7200156265149521864 53 361} {3746917840795646191 53 362} {5571441036543325637 53 363} {5571441036543325637 55 364}]
------------------------------------------------------
flag 12305 term 55 leader 1 nextIndex[0]: 365  matchIndex[0]: 364
term 55 leader 1 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 55 leaderCommit: 364 
------------------------------------------------------
flag 68216 term 55 leader 1 nextIndex[2]: 365  matchIndex[2]: 364
term 55 leader 1 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 55 leaderCommit: 364 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:364 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=365
update matchIndex[0]=364
update leader CommitIndex=364
leader log:
[{snapshot 53 359} {116505516489375548 53 360} {7200156265149521864 53 361} {3746917840795646191 53 362} {5571441036543325637 53 363} {5571441036543325637 55 364}]
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:364 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=365
update matchIndex[2]=364
update leader CommitIndex=364
leader log:
[{snapshot 53 359} {116505516489375548 53 360} {7200156265149521864 53 361} {3746917840795646191 53 362} {5571441036543325637 53 363} {5571441036543325637 55 364}]
------------------------------------------------------
  ... Passed --  80.4  3 1836  842582  364
--- PASS: TestSnapshotInstall2D (80.36s)
PASS
