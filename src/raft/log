Test (2B): basic agreement ...
index1:-1, isleader:false
index1:-1, isleader:false
index1:-1, isleader:false
index1:-1, isleader:false
index1:-1, isleader:false
index1:-1, isleader:false
index1:-1, isleader:false
index1:-1, isleader:false
index1:-1, isleader:false
index1:-1, isleader:false
index1:-1, isleader:false
index1:-1, isleader:false
index1:-1, isleader:false
index1:-1, isleader:false
index1:-1, isleader:false
term 1 server 2 get vote from server 1
term 1 server 2 become leader
------------------------------------------------------
term 1 server 2 get outdate rpc reply from server 0
index1:-1, isleader:false
client write log 100 (index 1) to leader 2
index1:1, isleader:true
nd:0, cmd1:<nil>
term 1 leader 2 nextIndex[0]: 1  matchIndex[0]: 0
[{100 1 1}]
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 leader 2 nextIndex[1]: 1  matchIndex[1]: 0
[{100 1 1}]
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
server 1 AppendEntries true commitIndex:0 
server 1 log:
[{<nil> 0 0} {100 1 1}]
------------------------------------------------------
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {100 1 1}]
------------------------------------------------------
server 0 AppendEntries true commitIndex:0 
server 0 log:
[{<nil> 0 0} {100 1 1}]
------------------------------------------------------
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {100 1 1}]
------------------------------------------------------
nd:1, cmd1:100
nd:1, cmd1:100
nd:1, cmd1:100
nd:1, cmd1:100
nd:1, cmd1:100
term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
[]
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
[]
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
server 1 AppendEntries true commitIndex:1 
server 1 log:
[{<nil> 0 0} {100 1 1}]
------------------------------------------------------
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {100 1 1}]
------------------------------------------------------
server 0 AppendEntries true commitIndex:1 
server 0 log:
[{<nil> 0 0} {100 1 1}]
------------------------------------------------------
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {100 1 1}]
------------------------------------------------------
nd:3, cmd1:100
index1:-1, isleader:false
client write log 200 (index 2) to leader 2
index1:2, isleader:true
nd:0, cmd1:<nil>
nd:0, cmd1:<nil>
nd:0, cmd1:<nil>
nd:0, cmd1:<nil>
nd:0, cmd1:<nil>
term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
[{200 1 2}]
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
[{200 1 2}]
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
server 1 AppendEntries true commitIndex:1 
server 1 log:
[{<nil> 0 0} {100 1 1} {200 1 2}]
------------------------------------------------------
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {100 1 1} {200 1 2}]
------------------------------------------------------
server 0 AppendEntries true commitIndex:1 
server 0 log:
[{<nil> 0 0} {100 1 1} {200 1 2}]
------------------------------------------------------
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {100 1 1} {200 1 2}]
------------------------------------------------------
nd:1, cmd1:200
nd:1, cmd1:200
nd:1, cmd1:200
nd:1, cmd1:200
term 1 leader 2 nextIndex[0]: 3  matchIndex[0]: 2
[]
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 leader 2 nextIndex[1]: 3  matchIndex[1]: 2
[]
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
server 1 AppendEntries true commitIndex:2 
server 1 log:
[{<nil> 0 0} {100 1 1} {200 1 2}]
------------------------------------------------------
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {100 1 1} {200 1 2}]
------------------------------------------------------
server 0 AppendEntries true commitIndex:2 
server 0 log:
[{<nil> 0 0} {100 1 1} {200 1 2}]
------------------------------------------------------
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {100 1 1} {200 1 2}]
------------------------------------------------------
nd:3, cmd1:200
index1:-1, isleader:false
client write log 300 (index 3) to leader 2
index1:3, isleader:true
nd:0, cmd1:<nil>
nd:0, cmd1:<nil>
nd:0, cmd1:<nil>
nd:0, cmd1:<nil>
nd:0, cmd1:<nil>
term 1 leader 2 nextIndex[0]: 3  matchIndex[0]: 2
[{300 1 3}]
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 leader 2 nextIndex[1]: 3  matchIndex[1]: 2
[{300 1 3}]
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
server 1 AppendEntries true commitIndex:2 
server 1 log:
[{<nil> 0 0} {100 1 1} {200 1 2} {300 1 3}]
------------------------------------------------------
update leader CommitIndex=3
leader log:
[{<nil> 0 0} {100 1 1} {200 1 2} {300 1 3}]
------------------------------------------------------
server 0 AppendEntries true commitIndex:2 
server 0 log:
[{<nil> 0 0} {100 1 1} {200 1 2} {300 1 3}]
------------------------------------------------------
update leader CommitIndex=3
leader log:
[{<nil> 0 0} {100 1 1} {200 1 2} {300 1 3}]
------------------------------------------------------
nd:1, cmd1:300
nd:1, cmd1:300
nd:1, cmd1:300
nd:1, cmd1:300
nd:1, cmd1:300
term 1 leader 2 nextIndex[0]: 4  matchIndex[0]: 3
[]
term 1 leader 2 sendAppendEntries PrevLogIndex: 3  PrevLogTerm: 1 leaderCommit: 3 
------------------------------------------------------
term 1 leader 2 nextIndex[1]: 4  matchIndex[1]: 3
[]
term 1 leader 2 sendAppendEntries PrevLogIndex: 3  PrevLogTerm: 1 leaderCommit: 3 
------------------------------------------------------
server 1 AppendEntries true commitIndex:3 
server 1 log:
[{<nil> 0 0} {100 1 1} {200 1 2} {300 1 3}]
------------------------------------------------------
update leader CommitIndex=3
leader log:
[{<nil> 0 0} {100 1 1} {200 1 2} {300 1 3}]
------------------------------------------------------
server 0 AppendEntries true commitIndex:3 
server 0 log:
[{<nil> 0 0} {100 1 1} {200 1 2} {300 1 3}]
------------------------------------------------------
update leader CommitIndex=3
leader log:
[{<nil> 0 0} {100 1 1} {200 1 2} {300 1 3}]
------------------------------------------------------
nd:3, cmd1:300
  ... Passed --   0.8  3   14    3970    3
PASS
ok  	6.824/raft	0.774s
