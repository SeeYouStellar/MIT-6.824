=== RUN   TestSnapshotInstall2D
Test (2D): install snapshots (disconnect) ...
term 1 server 1 vote for server 0
term 1 server 0 get vote from server 1
term 1 server 0 become leader
------------------------------------------------------
term 1 server 2 vote for server 0
term 1 server 0 get outdate rpc reply from server 2
flag 33793 term 1 leader 0 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 0 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 87846 term 1 leader 0 nextIndex[2]: 1  matchIndex[2]: 0
term 1 leader 0 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=1
update matchIndex[1]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=1
update matchIndex[2]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
client write log 7127465045863203157 (index 1) to leader 0
flag 17833 term 1 leader 0 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 0 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 8788 term 1 leader 0 nextIndex[2]: 1  matchIndex[2]: 0
term 1 leader 0 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7127465045863203157 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7127465045863203157 1 1}]
------------------------------------------------------
flag 68010 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 84835 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7127465045863203157 1 1}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7127465045863203157 1 1}]
------------------------------------------------------
flag 2953 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 90663 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7127465045863203157 1 1}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7127465045863203157 1 1}]
------------------------------------------------------
flag 17434 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 94312 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7127465045863203157 1 1}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7127465045863203157 1 1}]
------------------------------------------------------
flag 38097 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 30493 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7127465045863203157 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7127465045863203157 1 1}]
------------------------------------------------------
flag 14738 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 6091 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7127465045863203157 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7127465045863203157 1 1}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 8076495358421879265 (index 2) to leader 0
flag 81128 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 36038 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=3
update matchIndex[2]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {7127465045863203157 1 1} {8076495358421879265 1 2}]
------------------------------------------------------
flag 42877 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 4864 term 1 leader 0 nextIndex[2]: 3  matchIndex[2]: 2
term 1 leader 0 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=3
update matchIndex[2]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {7127465045863203157 1 1} {8076495358421879265 1 2}]
------------------------------------------------------
client write log 8995369243276731881 (index 3) to leader 0
client write log 4312126811417759954 (index 4) to leader 0
client write log 4211625216394399200 (index 5) to leader 0
client write log 2227873365120494469 (index 6) to leader 0
client write log 3205014315569765573 (index 7) to leader 0
client write log 6964298353606730578 (index 8) to leader 0
flag 74242 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 40833 term 1 leader 0 nextIndex[2]: 3  matchIndex[2]: 2
term 1 leader 0 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=9
update matchIndex[2]=8
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7127465045863203157 1 1} {8076495358421879265 1 2} {8995369243276731881 1 3} {4312126811417759954 1 4} {4211625216394399200 1 5} {2227873365120494469 1 6} {3205014315569765573 1 7} {6964298353606730578 1 8}]
------------------------------------------------------
flag 21021 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 47513 term 1 leader 0 nextIndex[2]: 9  matchIndex[2]: 8
term 1 leader 0 sendAppendEntries PrevLogIndex: 8  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=9
update matchIndex[2]=8
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7127465045863203157 1 1} {8076495358421879265 1 2} {8995369243276731881 1 3} {4312126811417759954 1 4} {4211625216394399200 1 5} {2227873365120494469 1 6} {3205014315569765573 1 7} {6964298353606730578 1 8}]
------------------------------------------------------
!!!!!!connect server 1
client write log 4017611308768494733 (index 9) to leader 0
term 1 server 2 not vote for server 1, 日志不够新
term 1 server 0 not vote for server 1, 日志不够新
term 3 server 2 vote for server 0
term 3 server 1 vote for server 0
term 3 server 0 get vote from server 2
term 3 server 0 become leader
------------------------------------------------------
term 3 server 0 get outdate rpc reply from server 1
flag 75682 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 0
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 63163 term 3 leader 0 nextIndex[2]: 10  matchIndex[2]: 0
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 3 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 10->9
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 10->9
------------------------------------------------------
flag 47843 term 3 leader 0 nextIndex[1]: 2  matchIndex[1]: 0
term 3 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 29659 term 3 leader 0 nextIndex[2]: 9  matchIndex[2]: 0
term 3 leader 0 sendAppendEntries PrevLogIndex: 8  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
term 3 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
[{<nil> 0 0} {7127465045863203157 1 1} {8076495358421879265 1 2} {8995369243276731881 1 3} {4312126811417759954 1 4} {4211625216394399200 1 5} {2227873365120494469 1 6} {3205014315569765573 1 7} {6964298353606730578 1 8} {4017611308768494733 1 9}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7127465045863203157 1 1} {8076495358421879265 1 2} {8995369243276731881 1 3} {4312126811417759954 1 4} {4211625216394399200 1 5} {2227873365120494469 1 6} {3205014315569765573 1 7} {6964298353606730578 1 8} {4017611308768494733 1 9}]
------------------------------------------------------
flag 42178 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 35147 term 3 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7127465045863203157 1 1} {8076495358421879265 1 2} {8995369243276731881 1 3} {4312126811417759954 1 4} {4211625216394399200 1 5} {2227873365120494469 1 6} {3205014315569765573 1 7} {6964298353606730578 1 8} {4017611308768494733 1 9}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7127465045863203157 1 1} {8076495358421879265 1 2} {8995369243276731881 1 3} {4312126811417759954 1 4} {4211625216394399200 1 5} {2227873365120494469 1 6} {3205014315569765573 1 7} {6964298353606730578 1 8} {4017611308768494733 1 9}]
------------------------------------------------------
flag 7698 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 22930 term 3 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7127465045863203157 1 1} {8076495358421879265 1 2} {8995369243276731881 1 3} {4312126811417759954 1 4} {4211625216394399200 1 5} {2227873365120494469 1 6} {3205014315569765573 1 7} {6964298353606730578 1 8} {4017611308768494733 1 9}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7127465045863203157 1 1} {8076495358421879265 1 2} {8995369243276731881 1 3} {4312126811417759954 1 4} {4211625216394399200 1 5} {2227873365120494469 1 6} {3205014315569765573 1 7} {6964298353606730578 1 8} {4017611308768494733 1 9}]
------------------------------------------------------
flag 45369 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 50603 term 3 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7127465045863203157 1 1} {8076495358421879265 1 2} {8995369243276731881 1 3} {4312126811417759954 1 4} {4211625216394399200 1 5} {2227873365120494469 1 6} {3205014315569765573 1 7} {6964298353606730578 1 8} {4017611308768494733 1 9}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7127465045863203157 1 1} {8076495358421879265 1 2} {8995369243276731881 1 3} {4312126811417759954 1 4} {4211625216394399200 1 5} {2227873365120494469 1 6} {3205014315569765573 1 7} {6964298353606730578 1 8} {4017611308768494733 1 9}]
------------------------------------------------------
flag 8611 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 84794 term 3 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7127465045863203157 1 1} {8076495358421879265 1 2} {8995369243276731881 1 3} {4312126811417759954 1 4} {4211625216394399200 1 5} {2227873365120494469 1 6} {3205014315569765573 1 7} {6964298353606730578 1 8} {4017611308768494733 1 9}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7127465045863203157 1 1} {8076495358421879265 1 2} {8995369243276731881 1 3} {4312126811417759954 1 4} {4211625216394399200 1 5} {2227873365120494469 1 6} {3205014315569765573 1 7} {6964298353606730578 1 8} {4017611308768494733 1 9}]
------------------------------------------------------
flag 4698 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 1952 term 3 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7127465045863203157 1 1} {8076495358421879265 1 2} {8995369243276731881 1 3} {4312126811417759954 1 4} {4211625216394399200 1 5} {2227873365120494469 1 6} {3205014315569765573 1 7} {6964298353606730578 1 8} {4017611308768494733 1 9}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7127465045863203157 1 1} {8076495358421879265 1 2} {8995369243276731881 1 3} {4312126811417759954 1 4} {4211625216394399200 1 5} {2227873365120494469 1 6} {3205014315569765573 1 7} {6964298353606730578 1 8} {4017611308768494733 1 9}]
------------------------------------------------------
flag 47140 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 79980 term 3 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7127465045863203157 1 1} {8076495358421879265 1 2} {8995369243276731881 1 3} {4312126811417759954 1 4} {4211625216394399200 1 5} {2227873365120494469 1 6} {3205014315569765573 1 7} {6964298353606730578 1 8} {4017611308768494733 1 9}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7127465045863203157 1 1} {8076495358421879265 1 2} {8995369243276731881 1 3} {4312126811417759954 1 4} {4211625216394399200 1 5} {2227873365120494469 1 6} {3205014315569765573 1 7} {6964298353606730578 1 8} {4017611308768494733 1 9}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80243 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 34769 term 3 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7127465045863203157 1 1} {8076495358421879265 1 2} {8995369243276731881 1 3} {4312126811417759954 1 4} {4211625216394399200 1 5} {2227873365120494469 1 6} {3205014315569765573 1 7} {6964298353606730578 1 8} {4017611308768494733 1 9}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7127465045863203157 1 1} {8076495358421879265 1 2} {8995369243276731881 1 3} {4312126811417759954 1 4} {4211625216394399200 1 5} {2227873365120494469 1 6} {3205014315569765573 1 7} {6964298353606730578 1 8} {4017611308768494733 1 9}]
------------------------------------------------------
flag 96933 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 83916 term 3 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7127465045863203157 1 1} {8076495358421879265 1 2} {8995369243276731881 1 3} {4312126811417759954 1 4} {4211625216394399200 1 5} {2227873365120494469 1 6} {3205014315569765573 1 7} {6964298353606730578 1 8} {4017611308768494733 1 9}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7127465045863203157 1 1} {8076495358421879265 1 2} {8995369243276731881 1 3} {4312126811417759954 1 4} {4211625216394399200 1 5} {2227873365120494469 1 6} {3205014315569765573 1 7} {6964298353606730578 1 8} {4017611308768494733 1 9}]
------------------------------------------------------
flag 82509 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 75348 term 3 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7127465045863203157 1 1} {8076495358421879265 1 2} {8995369243276731881 1 3} {4312126811417759954 1 4} {4211625216394399200 1 5} {2227873365120494469 1 6} {3205014315569765573 1 7} {6964298353606730578 1 8} {4017611308768494733 1 9}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7127465045863203157 1 1} {8076495358421879265 1 2} {8995369243276731881 1 3} {4312126811417759954 1 4} {4211625216394399200 1 5} {2227873365120494469 1 6} {3205014315569765573 1 7} {6964298353606730578 1 8} {4017611308768494733 1 9}]
------------------------------------------------------
flag 44923 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 11567 term 3 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7127465045863203157 1 1} {8076495358421879265 1 2} {8995369243276731881 1 3} {4312126811417759954 1 4} {4211625216394399200 1 5} {2227873365120494469 1 6} {3205014315569765573 1 7} {6964298353606730578 1 8} {4017611308768494733 1 9}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7127465045863203157 1 1} {8076495358421879265 1 2} {8995369243276731881 1 3} {4312126811417759954 1 4} {4211625216394399200 1 5} {2227873365120494469 1 6} {3205014315569765573 1 7} {6964298353606730578 1 8} {4017611308768494733 1 9}]
------------------------------------------------------
flag 43519 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 13051 term 3 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7127465045863203157 1 1} {8076495358421879265 1 2} {8995369243276731881 1 3} {4312126811417759954 1 4} {4211625216394399200 1 5} {2227873365120494469 1 6} {3205014315569765573 1 7} {6964298353606730578 1 8} {4017611308768494733 1 9}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7127465045863203157 1 1} {8076495358421879265 1 2} {8995369243276731881 1 3} {4312126811417759954 1 4} {4211625216394399200 1 5} {2227873365120494469 1 6} {3205014315569765573 1 7} {6964298353606730578 1 8} {4017611308768494733 1 9}]
------------------------------------------------------
flag 84265 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 20050 term 3 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7127465045863203157 1 1} {8076495358421879265 1 2} {8995369243276731881 1 3} {4312126811417759954 1 4} {4211625216394399200 1 5} {2227873365120494469 1 6} {3205014315569765573 1 7} {6964298353606730578 1 8} {4017611308768494733 1 9}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7127465045863203157 1 1} {8076495358421879265 1 2} {8995369243276731881 1 3} {4312126811417759954 1 4} {4211625216394399200 1 5} {2227873365120494469 1 6} {3205014315569765573 1 7} {6964298353606730578 1 8} {4017611308768494733 1 9}]
------------------------------------------------------
flag 61248 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 60855 term 3 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7127465045863203157 1 1} {8076495358421879265 1 2} {8995369243276731881 1 3} {4312126811417759954 1 4} {4211625216394399200 1 5} {2227873365120494469 1 6} {3205014315569765573 1 7} {6964298353606730578 1 8} {4017611308768494733 1 9}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7127465045863203157 1 1} {8076495358421879265 1 2} {8995369243276731881 1 3} {4312126811417759954 1 4} {4211625216394399200 1 5} {2227873365120494469 1 6} {3205014315569765573 1 7} {6964298353606730578 1 8} {4017611308768494733 1 9}]
------------------------------------------------------
flag 31182 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 3262 term 3 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7127465045863203157 1 1} {8076495358421879265 1 2} {8995369243276731881 1 3} {4312126811417759954 1 4} {4211625216394399200 1 5} {2227873365120494469 1 6} {3205014315569765573 1 7} {6964298353606730578 1 8} {4017611308768494733 1 9}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7127465045863203157 1 1} {8076495358421879265 1 2} {8995369243276731881 1 3} {4312126811417759954 1 4} {4211625216394399200 1 5} {2227873365120494469 1 6} {3205014315569765573 1 7} {6964298353606730578 1 8} {4017611308768494733 1 9}]
------------------------------------------------------
flag 26809 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 70856 term 3 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7127465045863203157 1 1} {8076495358421879265 1 2} {8995369243276731881 1 3} {4312126811417759954 1 4} {4211625216394399200 1 5} {2227873365120494469 1 6} {3205014315569765573 1 7} {6964298353606730578 1 8} {4017611308768494733 1 9}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7127465045863203157 1 1} {8076495358421879265 1 2} {8995369243276731881 1 3} {4312126811417759954 1 4} {4211625216394399200 1 5} {2227873365120494469 1 6} {3205014315569765573 1 7} {6964298353606730578 1 8} {4017611308768494733 1 9}]
------------------------------------------------------
flag 9090 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 899 term 3 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7127465045863203157 1 1} {8076495358421879265 1 2} {8995369243276731881 1 3} {4312126811417759954 1 4} {4211625216394399200 1 5} {2227873365120494469 1 6} {3205014315569765573 1 7} {6964298353606730578 1 8} {4017611308768494733 1 9}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7127465045863203157 1 1} {8076495358421879265 1 2} {8995369243276731881 1 3} {4312126811417759954 1 4} {4211625216394399200 1 5} {2227873365120494469 1 6} {3205014315569765573 1 7} {6964298353606730578 1 8} {4017611308768494733 1 9}]
------------------------------------------------------
flag 46492 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 96698 term 3 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7127465045863203157 1 1} {8076495358421879265 1 2} {8995369243276731881 1 3} {4312126811417759954 1 4} {4211625216394399200 1 5} {2227873365120494469 1 6} {3205014315569765573 1 7} {6964298353606730578 1 8} {4017611308768494733 1 9}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7127465045863203157 1 1} {8076495358421879265 1 2} {8995369243276731881 1 3} {4312126811417759954 1 4} {4211625216394399200 1 5} {2227873365120494469 1 6} {3205014315569765573 1 7} {6964298353606730578 1 8} {4017611308768494733 1 9}]
------------------------------------------------------
flag 47577 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 88645 term 3 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7127465045863203157 1 1} {8076495358421879265 1 2} {8995369243276731881 1 3} {4312126811417759954 1 4} {4211625216394399200 1 5} {2227873365120494469 1 6} {3205014315569765573 1 7} {6964298353606730578 1 8} {4017611308768494733 1 9}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {7127465045863203157 1 1} {8076495358421879265 1 2} {8995369243276731881 1 3} {4312126811417759954 1 4} {4211625216394399200 1 5} {2227873365120494469 1 6} {3205014315569765573 1 7} {6964298353606730578 1 8} {4017611308768494733 1 9}]
------------------------------------------------------
client write log 4017611308768494733 (index 10) to leader 0
flag 1552 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 35922 term 3 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{<nil> 0 0} {7127465045863203157 1 1} {8076495358421879265 1 2} {8995369243276731881 1 3} {4312126811417759954 1 4} {4211625216394399200 1 5} {2227873365120494469 1 6} {3205014315569765573 1 7} {6964298353606730578 1 8} {4017611308768494733 1 9} {4017611308768494733 3 10}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{<nil> 0 0} {7127465045863203157 1 1} {8076495358421879265 1 2} {8995369243276731881 1 3} {4312126811417759954 1 4} {4211625216394399200 1 5} {2227873365120494469 1 6} {3205014315569765573 1 7} {6964298353606730578 1 8} {4017611308768494733 1 9} {4017611308768494733 3 10}]
------------------------------------------------------
term 3 Server0 start snapshot! index=9
term 3 server0 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=10
-------------------------------------------------------------
flag 49080 term 3 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 10779 term 3 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {4017611308768494733 3 10}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {4017611308768494733 3 10}]
------------------------------------------------------
term 3 Server1 start snapshot! index=9
term 3 server1 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=10
-------------------------------------------------------------
term 3 Server2 start snapshot! index=9
term 3 server2 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=10
-------------------------------------------------------------
flag 64900 term 3 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 66643 term 3 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {4017611308768494733 3 10}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {4017611308768494733 3 10}]
------------------------------------------------------
flag 46366 term 3 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 33806 term 3 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {4017611308768494733 3 10}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {4017611308768494733 3 10}]
------------------------------------------------------
flag 4480 term 3 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 10568 term 3 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {4017611308768494733 3 10}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {4017611308768494733 3 10}]
------------------------------------------------------
flag 5134 term 3 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 42955 term 3 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {4017611308768494733 3 10}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {4017611308768494733 3 10}]
------------------------------------------------------
flag 56178 term 3 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 3628 term 3 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {4017611308768494733 3 10}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {4017611308768494733 3 10}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 42655 term 3 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 92406 term 3 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 11->10
------------------------------------------------------
flag 79171 term 3 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 3 leader 0 nextIndex[2]: 0  matchIndex[2]: 10
term 3 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 34840 term 3 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 3 leader 0 nextIndex[2]: 0  matchIndex[2]: 10
term 3 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 4 server 2 vote for server 1
term 4 server 1 get vote from server 2
term 4 server 1 become leader
------------------------------------------------------
flag 68329 term 4 leader 1 nextIndex[0]: 11  matchIndex[0]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 37931 term 4 leader 1 nextIndex[2]: 11  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
client write log 6218514376733101813 (index 11) to leader 1
term 4 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {4017611308768494733 3 10} {6218514376733101813 4 11}]
------------------------------------------------------
flag 38124 term 3 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 3 leader 0 nextIndex[2]: 0  matchIndex[2]: 10
term 3 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 36991 term 4 leader 1 nextIndex[0]: 11  matchIndex[0]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 46102 term 4 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {4017611308768494733 3 10} {6218514376733101813 4 11}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 11->10
------------------------------------------------------
flag 11897 term 3 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 3 leader 0 nextIndex[2]: 0  matchIndex[2]: 10
term 3 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 4 leader 1 nextIndex[0]: 0  matchIndex[0]: 0
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 88504 term 4 leader 1 nextIndex[2]: 12  matchIndex[2]: 11
term 4 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 4 leaderCommit: 11 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {4017611308768494733 3 10} {6218514376733101813 4 11}]
------------------------------------------------------
flag 28434 term 3 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 3 leader 0 nextIndex[2]: 0  matchIndex[2]: 10
term 3 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
client write log 5669131998493484460 (index 12) to leader 1
client write log 2862199455608312756 (index 13) to leader 1
client write log 1314552726127982789 (index 14) to leader 1
client write log 2712248211522027548 (index 15) to leader 1
client write log 2631987711164811893 (index 16) to leader 1
client write log 8449283338262535629 (index 17) to leader 1
client write log 1585339810261211159 (index 18) to leader 1
term 4 leader 1 nextIndex[0]: 0  matchIndex[0]: 0
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 3817 term 4 leader 1 nextIndex[2]: 12  matchIndex[2]: 11
term 4 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 4 leaderCommit: 11 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {4017611308768494733 3 10} {6218514376733101813 4 11} {5669131998493484460 4 12} {2862199455608312756 4 13} {1314552726127982789 4 14} {2712248211522027548 4 15} {2631987711164811893 4 16} {8449283338262535629 4 17} {1585339810261211159 4 18}]
------------------------------------------------------
flag 39817 term 3 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 3 leader 0 nextIndex[2]: 0  matchIndex[2]: 10
term 3 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 4 leader 1 nextIndex[0]: 0  matchIndex[0]: 0
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 75079 term 4 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 4 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {4017611308768494733 3 10} {6218514376733101813 4 11} {5669131998493484460 4 12} {2862199455608312756 4 13} {1314552726127982789 4 14} {2712248211522027548 4 15} {2631987711164811893 4 16} {8449283338262535629 4 17} {1585339810261211159 4 18}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 0->-1
------------------------------------------------------
flag 62057 term 3 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 3 leader 0 nextIndex[2]: 0  matchIndex[2]: 10
term 3 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
!!!!!!connect server 0
client write log 7757394034326004320 (index 19) to leader 1
term 4 leader 1 nextIndex[0]: 0  matchIndex[0]: 0
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 58160 term 4 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 4 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:18 
------------------------------------------------------
term 4 server 0 InstallSnapshot fail
rf.commitIndex 10 args.LastIncludedIndex 9
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=20
update matchIndex[2]=19
update leader CommitIndex=19
leader log:
[{snapshot 1 9} {4017611308768494733 3 10} {6218514376733101813 4 11} {5669131998493484460 4 12} {2862199455608312756 4 13} {1314552726127982789 4 14} {2712248211522027548 4 15} {2631987711164811893 4 16} {8449283338262535629 4 17} {1585339810261211159 4 18} {7757394034326004320 4 19}]
------------------------------------------------------
term 4 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 10 matchIndex[0] 9 
------------------------------------------------------------------------
term 4 Server1 start snapshot! index=19
term 4 server1 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
term 4 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
flag 70927 term 4 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
term 4 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=20
update matchIndex[2]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
term 4 server 0 InstallSnapshot success
------------------------------------------------------
term 4 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 20 matchIndex[0] 19 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 19 rf.lastIncludedTerm 4 rf.commitIndex 19 rf.lastApplied 19
term 4 Server2 start snapshot! index=19
term 4 server2 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
flag 57365 term 4 leader 1 nextIndex[0]: 20  matchIndex[0]: 19
term 4 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
flag 2014 term 4 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
term 4 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:19 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=20
update matchIndex[2]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
term 4 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 84048 term 4 leader 1 nextIndex[0]: 20  matchIndex[0]: 19
term 4 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
flag 2368 term 4 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
term 4 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:19 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=20
update matchIndex[2]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
flag 85130 term 4 leader 1 nextIndex[0]: 20  matchIndex[0]: 19
term 4 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
flag 56952 term 4 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
term 4 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=20
update matchIndex[2]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34400 term 4 leader 1 nextIndex[0]: 20  matchIndex[0]: 19
term 4 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
flag 79446 term 4 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
term 4 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:19 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=20
update matchIndex[2]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 1025458038795895744 (index 20) to leader 1
flag 62306 term 4 leader 1 nextIndex[0]: 20  matchIndex[0]: 19
term 4 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
flag 85994 term 4 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
term 4 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=21
update matchIndex[0]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {1025458038795895744 4 20}]
------------------------------------------------------
flag 90901 term 4 leader 1 nextIndex[0]: 21  matchIndex[0]: 20
term 4 leader 1 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
flag 44037 term 4 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
term 4 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=21
update matchIndex[0]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {1025458038795895744 4 20}]
------------------------------------------------------
client write log 3792615360270421650 (index 21) to leader 1
client write log 8409601193443206465 (index 22) to leader 1
client write log 7952865887435022533 (index 23) to leader 1
client write log 6408213723569178720 (index 24) to leader 1
client write log 7614814568318040610 (index 25) to leader 1
client write log 6079357516241792274 (index 26) to leader 1
client write log 532255003970994849 (index 27) to leader 1
client write log 3516275520039562431 (index 28) to leader 1
flag 23850 term 4 leader 1 nextIndex[0]: 21  matchIndex[0]: 20
term 4 leader 1 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
flag 94612 term 4 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
term 4 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {1025458038795895744 4 20} {3792615360270421650 4 21} {8409601193443206465 4 22} {7952865887435022533 4 23} {6408213723569178720 4 24} {7614814568318040610 4 25} {6079357516241792274 4 26} {532255003970994849 4 27} {3516275520039562431 4 28}]
------------------------------------------------------
term 4 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 20 matchIndex[0] 19 
------------------------------------------------------------------------
flag 50127 term 4 leader 1 nextIndex[0]: 20  matchIndex[0]: 19
term 4 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 61714 term 4 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
term 4 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {1025458038795895744 4 20} {3792615360270421650 4 21} {8409601193443206465 4 22} {7952865887435022533 4 23} {6408213723569178720 4 24} {7614814568318040610 4 25} {6079357516241792274 4 26} {532255003970994849 4 27} {3516275520039562431 4 28}]
------------------------------------------------------
!!!!!!connect server 2
client write log 1746790371909406398 (index 29) to leader 1
term 4 server 1 not vote for server 2, 日志不够新
term 4 server 0 not vote for server 2, 日志不够新
term 6 server 2 vote for server 1
term 6 server 1 get vote from server 2
term 6 server 1 become leader
------------------------------------------------------
term 6 server 0 vote for server 1
term 6 server 1 get outdate rpc reply from server 0
flag 89519 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 0
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 49013 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 0
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 30->29
------------------------------------------------------
term 6 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 30->29
------------------------------------------------------
flag 67003 term 6 leader 1 nextIndex[0]: 29  matchIndex[0]: 0
term 6 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 6622 term 6 leader 1 nextIndex[2]: 20  matchIndex[2]: 0
term 6 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:19 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {1025458038795895744 4 20} {3792615360270421650 4 21} {8409601193443206465 4 22} {7952865887435022533 4 23} {6408213723569178720 4 24} {7614814568318040610 4 25} {6079357516241792274 4 26} {532255003970994849 4 27} {3516275520039562431 4 28} {1746790371909406398 4 29}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {1025458038795895744 4 20} {3792615360270421650 4 21} {8409601193443206465 4 22} {7952865887435022533 4 23} {6408213723569178720 4 24} {7614814568318040610 4 25} {6079357516241792274 4 26} {532255003970994849 4 27} {3516275520039562431 4 28} {1746790371909406398 4 29}]
------------------------------------------------------
flag 1949 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 55352 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {1025458038795895744 4 20} {3792615360270421650 4 21} {8409601193443206465 4 22} {7952865887435022533 4 23} {6408213723569178720 4 24} {7614814568318040610 4 25} {6079357516241792274 4 26} {532255003970994849 4 27} {3516275520039562431 4 28} {1746790371909406398 4 29}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {1025458038795895744 4 20} {3792615360270421650 4 21} {8409601193443206465 4 22} {7952865887435022533 4 23} {6408213723569178720 4 24} {7614814568318040610 4 25} {6079357516241792274 4 26} {532255003970994849 4 27} {3516275520039562431 4 28} {1746790371909406398 4 29}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42402 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 49185 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {1025458038795895744 4 20} {3792615360270421650 4 21} {8409601193443206465 4 22} {7952865887435022533 4 23} {6408213723569178720 4 24} {7614814568318040610 4 25} {6079357516241792274 4 26} {532255003970994849 4 27} {3516275520039562431 4 28} {1746790371909406398 4 29}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {1025458038795895744 4 20} {3792615360270421650 4 21} {8409601193443206465 4 22} {7952865887435022533 4 23} {6408213723569178720 4 24} {7614814568318040610 4 25} {6079357516241792274 4 26} {532255003970994849 4 27} {3516275520039562431 4 28} {1746790371909406398 4 29}]
------------------------------------------------------
flag 20890 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 59875 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {1025458038795895744 4 20} {3792615360270421650 4 21} {8409601193443206465 4 22} {7952865887435022533 4 23} {6408213723569178720 4 24} {7614814568318040610 4 25} {6079357516241792274 4 26} {532255003970994849 4 27} {3516275520039562431 4 28} {1746790371909406398 4 29}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {1025458038795895744 4 20} {3792615360270421650 4 21} {8409601193443206465 4 22} {7952865887435022533 4 23} {6408213723569178720 4 24} {7614814568318040610 4 25} {6079357516241792274 4 26} {532255003970994849 4 27} {3516275520039562431 4 28} {1746790371909406398 4 29}]
------------------------------------------------------
flag 96943 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 53544 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {1025458038795895744 4 20} {3792615360270421650 4 21} {8409601193443206465 4 22} {7952865887435022533 4 23} {6408213723569178720 4 24} {7614814568318040610 4 25} {6079357516241792274 4 26} {532255003970994849 4 27} {3516275520039562431 4 28} {1746790371909406398 4 29}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {1025458038795895744 4 20} {3792615360270421650 4 21} {8409601193443206465 4 22} {7952865887435022533 4 23} {6408213723569178720 4 24} {7614814568318040610 4 25} {6079357516241792274 4 26} {532255003970994849 4 27} {3516275520039562431 4 28} {1746790371909406398 4 29}]
------------------------------------------------------
flag 47628 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 65521 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {1025458038795895744 4 20} {3792615360270421650 4 21} {8409601193443206465 4 22} {7952865887435022533 4 23} {6408213723569178720 4 24} {7614814568318040610 4 25} {6079357516241792274 4 26} {532255003970994849 4 27} {3516275520039562431 4 28} {1746790371909406398 4 29}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {1025458038795895744 4 20} {3792615360270421650 4 21} {8409601193443206465 4 22} {7952865887435022533 4 23} {6408213723569178720 4 24} {7614814568318040610 4 25} {6079357516241792274 4 26} {532255003970994849 4 27} {3516275520039562431 4 28} {1746790371909406398 4 29}]
------------------------------------------------------
flag 42120 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 85581 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {1025458038795895744 4 20} {3792615360270421650 4 21} {8409601193443206465 4 22} {7952865887435022533 4 23} {6408213723569178720 4 24} {7614814568318040610 4 25} {6079357516241792274 4 26} {532255003970994849 4 27} {3516275520039562431 4 28} {1746790371909406398 4 29}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {1025458038795895744 4 20} {3792615360270421650 4 21} {8409601193443206465 4 22} {7952865887435022533 4 23} {6408213723569178720 4 24} {7614814568318040610 4 25} {6079357516241792274 4 26} {532255003970994849 4 27} {3516275520039562431 4 28} {1746790371909406398 4 29}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6144 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 73602 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {1025458038795895744 4 20} {3792615360270421650 4 21} {8409601193443206465 4 22} {7952865887435022533 4 23} {6408213723569178720 4 24} {7614814568318040610 4 25} {6079357516241792274 4 26} {532255003970994849 4 27} {3516275520039562431 4 28} {1746790371909406398 4 29}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {1025458038795895744 4 20} {3792615360270421650 4 21} {8409601193443206465 4 22} {7952865887435022533 4 23} {6408213723569178720 4 24} {7614814568318040610 4 25} {6079357516241792274 4 26} {532255003970994849 4 27} {3516275520039562431 4 28} {1746790371909406398 4 29}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16010 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 73506 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {1025458038795895744 4 20} {3792615360270421650 4 21} {8409601193443206465 4 22} {7952865887435022533 4 23} {6408213723569178720 4 24} {7614814568318040610 4 25} {6079357516241792274 4 26} {532255003970994849 4 27} {3516275520039562431 4 28} {1746790371909406398 4 29}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {1025458038795895744 4 20} {3792615360270421650 4 21} {8409601193443206465 4 22} {7952865887435022533 4 23} {6408213723569178720 4 24} {7614814568318040610 4 25} {6079357516241792274 4 26} {532255003970994849 4 27} {3516275520039562431 4 28} {1746790371909406398 4 29}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42968 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 11679 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {1025458038795895744 4 20} {3792615360270421650 4 21} {8409601193443206465 4 22} {7952865887435022533 4 23} {6408213723569178720 4 24} {7614814568318040610 4 25} {6079357516241792274 4 26} {532255003970994849 4 27} {3516275520039562431 4 28} {1746790371909406398 4 29}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {1025458038795895744 4 20} {3792615360270421650 4 21} {8409601193443206465 4 22} {7952865887435022533 4 23} {6408213723569178720 4 24} {7614814568318040610 4 25} {6079357516241792274 4 26} {532255003970994849 4 27} {3516275520039562431 4 28} {1746790371909406398 4 29}]
------------------------------------------------------
flag 87342 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 3872 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {1025458038795895744 4 20} {3792615360270421650 4 21} {8409601193443206465 4 22} {7952865887435022533 4 23} {6408213723569178720 4 24} {7614814568318040610 4 25} {6079357516241792274 4 26} {532255003970994849 4 27} {3516275520039562431 4 28} {1746790371909406398 4 29}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {1025458038795895744 4 20} {3792615360270421650 4 21} {8409601193443206465 4 22} {7952865887435022533 4 23} {6408213723569178720 4 24} {7614814568318040610 4 25} {6079357516241792274 4 26} {532255003970994849 4 27} {3516275520039562431 4 28} {1746790371909406398 4 29}]
------------------------------------------------------
flag 34286 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 73986 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {1025458038795895744 4 20} {3792615360270421650 4 21} {8409601193443206465 4 22} {7952865887435022533 4 23} {6408213723569178720 4 24} {7614814568318040610 4 25} {6079357516241792274 4 26} {532255003970994849 4 27} {3516275520039562431 4 28} {1746790371909406398 4 29}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {1025458038795895744 4 20} {3792615360270421650 4 21} {8409601193443206465 4 22} {7952865887435022533 4 23} {6408213723569178720 4 24} {7614814568318040610 4 25} {6079357516241792274 4 26} {532255003970994849 4 27} {3516275520039562431 4 28} {1746790371909406398 4 29}]
------------------------------------------------------
flag 10482 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 55761 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {1025458038795895744 4 20} {3792615360270421650 4 21} {8409601193443206465 4 22} {7952865887435022533 4 23} {6408213723569178720 4 24} {7614814568318040610 4 25} {6079357516241792274 4 26} {532255003970994849 4 27} {3516275520039562431 4 28} {1746790371909406398 4 29}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {1025458038795895744 4 20} {3792615360270421650 4 21} {8409601193443206465 4 22} {7952865887435022533 4 23} {6408213723569178720 4 24} {7614814568318040610 4 25} {6079357516241792274 4 26} {532255003970994849 4 27} {3516275520039562431 4 28} {1746790371909406398 4 29}]
------------------------------------------------------
term 6 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 92248 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 30364 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {1025458038795895744 4 20} {3792615360270421650 4 21} {8409601193443206465 4 22} {7952865887435022533 4 23} {6408213723569178720 4 24} {7614814568318040610 4 25} {6079357516241792274 4 26} {532255003970994849 4 27} {3516275520039562431 4 28} {1746790371909406398 4 29}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {1025458038795895744 4 20} {3792615360270421650 4 21} {8409601193443206465 4 22} {7952865887435022533 4 23} {6408213723569178720 4 24} {7614814568318040610 4 25} {6079357516241792274 4 26} {532255003970994849 4 27} {3516275520039562431 4 28} {1746790371909406398 4 29}]
------------------------------------------------------
flag 52714 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 16613 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {1025458038795895744 4 20} {3792615360270421650 4 21} {8409601193443206465 4 22} {7952865887435022533 4 23} {6408213723569178720 4 24} {7614814568318040610 4 25} {6079357516241792274 4 26} {532255003970994849 4 27} {3516275520039562431 4 28} {1746790371909406398 4 29}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {1025458038795895744 4 20} {3792615360270421650 4 21} {8409601193443206465 4 22} {7952865887435022533 4 23} {6408213723569178720 4 24} {7614814568318040610 4 25} {6079357516241792274 4 26} {532255003970994849 4 27} {3516275520039562431 4 28} {1746790371909406398 4 29}]
------------------------------------------------------
flag 40591 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 1876 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {1025458038795895744 4 20} {3792615360270421650 4 21} {8409601193443206465 4 22} {7952865887435022533 4 23} {6408213723569178720 4 24} {7614814568318040610 4 25} {6079357516241792274 4 26} {532255003970994849 4 27} {3516275520039562431 4 28} {1746790371909406398 4 29}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {1025458038795895744 4 20} {3792615360270421650 4 21} {8409601193443206465 4 22} {7952865887435022533 4 23} {6408213723569178720 4 24} {7614814568318040610 4 25} {6079357516241792274 4 26} {532255003970994849 4 27} {3516275520039562431 4 28} {1746790371909406398 4 29}]
------------------------------------------------------
flag 31492 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 67293 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {1025458038795895744 4 20} {3792615360270421650 4 21} {8409601193443206465 4 22} {7952865887435022533 4 23} {6408213723569178720 4 24} {7614814568318040610 4 25} {6079357516241792274 4 26} {532255003970994849 4 27} {3516275520039562431 4 28} {1746790371909406398 4 29}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {1025458038795895744 4 20} {3792615360270421650 4 21} {8409601193443206465 4 22} {7952865887435022533 4 23} {6408213723569178720 4 24} {7614814568318040610 4 25} {6079357516241792274 4 26} {532255003970994849 4 27} {3516275520039562431 4 28} {1746790371909406398 4 29}]
------------------------------------------------------
flag 60311 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 84425 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {1025458038795895744 4 20} {3792615360270421650 4 21} {8409601193443206465 4 22} {7952865887435022533 4 23} {6408213723569178720 4 24} {7614814568318040610 4 25} {6079357516241792274 4 26} {532255003970994849 4 27} {3516275520039562431 4 28} {1746790371909406398 4 29}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {1025458038795895744 4 20} {3792615360270421650 4 21} {8409601193443206465 4 22} {7952865887435022533 4 23} {6408213723569178720 4 24} {7614814568318040610 4 25} {6079357516241792274 4 26} {532255003970994849 4 27} {3516275520039562431 4 28} {1746790371909406398 4 29}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 6 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 73348 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 64636 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {1025458038795895744 4 20} {3792615360270421650 4 21} {8409601193443206465 4 22} {7952865887435022533 4 23} {6408213723569178720 4 24} {7614814568318040610 4 25} {6079357516241792274 4 26} {532255003970994849 4 27} {3516275520039562431 4 28} {1746790371909406398 4 29}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {1025458038795895744 4 20} {3792615360270421650 4 21} {8409601193443206465 4 22} {7952865887435022533 4 23} {6408213723569178720 4 24} {7614814568318040610 4 25} {6079357516241792274 4 26} {532255003970994849 4 27} {3516275520039562431 4 28} {1746790371909406398 4 29}]
------------------------------------------------------
client write log 1746790371909406398 (index 30) to leader 1
flag 60781 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 43107 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
term 6 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=30
leader log:
[{snapshot 4 19} {1025458038795895744 4 20} {3792615360270421650 4 21} {8409601193443206465 4 22} {7952865887435022533 4 23} {6408213723569178720 4 24} {7614814568318040610 4 25} {6079357516241792274 4 26} {532255003970994849 4 27} {3516275520039562431 4 28} {1746790371909406398 4 29} {1746790371909406398 6 30}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=30
leader log:
[{snapshot 4 19} {1025458038795895744 4 20} {3792615360270421650 4 21} {8409601193443206465 4 22} {7952865887435022533 4 23} {6408213723569178720 4 24} {7614814568318040610 4 25} {6079357516241792274 4 26} {532255003970994849 4 27} {3516275520039562431 4 28} {1746790371909406398 4 29} {1746790371909406398 6 30}]
------------------------------------------------------
term 6 Server1 start snapshot! index=29
term 6 server1 snapshot success
lastIncludedIndex=29 lastApplied=30 lastIndex=30
-------------------------------------------------------------
flag 89825 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
flag 47436 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {1746790371909406398 6 30}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {1746790371909406398 6 30}]
------------------------------------------------------
term 6 Server0 start snapshot! index=29
term 6 server0 snapshot success
lastIncludedIndex=29 lastApplied=30 lastIndex=30
-------------------------------------------------------------
term 6 Server2 start snapshot! index=29
term 6 server2 snapshot success
lastIncludedIndex=29 lastApplied=30 lastIndex=30
-------------------------------------------------------------
flag 28484 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
flag 58653 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:30 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {1746790371909406398 6 30}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {1746790371909406398 6 30}]
------------------------------------------------------
flag 42443 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
flag 75332 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:30 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {1746790371909406398 6 30}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {1746790371909406398 6 30}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96600 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
flag 81271 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:30 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {1746790371909406398 6 30}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {1746790371909406398 6 30}]
------------------------------------------------------
term 6 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 33453 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
flag 49451 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {1746790371909406398 6 30}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {1746790371909406398 6 30}]
------------------------------------------------------
flag 36567 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
flag 62697 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {1746790371909406398 6 30}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {1746790371909406398 6 30}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 8656461900459084368 (index 31) to leader 1
flag 72201 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
flag 51796 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {1746790371909406398 6 30} {8656461900459084368 6 31}]
------------------------------------------------------
flag 402 term 6 leader 1 nextIndex[0]: 32  matchIndex[0]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
flag 36604 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {1746790371909406398 6 30} {8656461900459084368 6 31}]
------------------------------------------------------
client write log 8190645873465532884 (index 32) to leader 1
client write log 7719247771472382731 (index 33) to leader 1
client write log 8776643366356644200 (index 34) to leader 1
client write log 6294535982368139897 (index 35) to leader 1
client write log 9181020711469683900 (index 36) to leader 1
client write log 6538722034159031127 (index 37) to leader 1
client write log 6402409355984594736 (index 38) to leader 1
client write log 6134588980073135552 (index 39) to leader 1
client write log 1189191515319851421 (index 40) to leader 1
client write log 7654380198910684528 (index 41) to leader 1
client write log 1841417590929662692 (index 42) to leader 1
client write log 2860191170186262165 (index 43) to leader 1
client write log 3825209713418964116 (index 44) to leader 1
flag 13350 term 6 leader 1 nextIndex[0]: 32  matchIndex[0]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
flag 82137 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=44
leader log:
[{snapshot 4 29} {1746790371909406398 6 30} {8656461900459084368 6 31} {8190645873465532884 6 32} {7719247771472382731 6 33} {8776643366356644200 6 34} {6294535982368139897 6 35} {9181020711469683900 6 36} {6538722034159031127 6 37} {6402409355984594736 6 38} {6134588980073135552 6 39} {1189191515319851421 6 40} {7654380198910684528 6 41} {1841417590929662692 6 42} {2860191170186262165 6 43} {3825209713418964116 6 44}]
------------------------------------------------------
term 6 Server1 start snapshot! index=39
term 6 server1 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=44
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 31->30
------------------------------------------------------
term 6 server 0 not vote for server 1, 任期不够新
term 6 server 1 get outdate rpc reply from server 0
term 6 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 98595 term 6 leader 1 nextIndex[0]: 45  matchIndex[0]: 44
term 6 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
term 6 leader 1 nextIndex[2]: 0  matchIndex[2]: 30
term 6 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {1189191515319851421 6 40} {7654380198910684528 6 41} {1841417590929662692 6 42} {2860191170186262165 6 43} {3825209713418964116 6 44}]
------------------------------------------------------
term 6 Server0 start snapshot! index=39
term 6 server0 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=44
-------------------------------------------------------------
!!!!!!connect server 2
client write log 1895744321209083216 (index 45) to leader 1
term 6 server 1 not vote for server 2, 日志不够新
term 6 server 0 not vote for server 2, 日志不够新
term 8 server 2 vote for server 1
term 8 server 1 get vote from server 2
term 8 server 1 become leader
------------------------------------------------------
term 8 server 0 vote for server 1
term 8 server 1 get outdate rpc reply from server 0
flag 28625 term 8 leader 1 nextIndex[0]: 46  matchIndex[0]: 0
term 8 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
flag 41837 term 8 leader 1 nextIndex[2]: 46  matchIndex[2]: 0
term 8 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
term 8 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 46->45
------------------------------------------------------
term 8 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 46->45
------------------------------------------------------
flag 89767 term 8 leader 1 nextIndex[0]: 45  matchIndex[0]: 0
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
term 8 leader 1 nextIndex[2]: 31  matchIndex[2]: 0
term 8 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
term 8 server 2 InstallSnapshot success
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 39 rf.lastIncludedTerm 6 rf.commitIndex 39 rf.lastApplied 39
term 8 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 40 matchIndex[2] 39 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {1189191515319851421 6 40} {7654380198910684528 6 41} {1841417590929662692 6 42} {2860191170186262165 6 43} {3825209713418964116 6 44} {1895744321209083216 6 45}]
------------------------------------------------------
flag 22511 term 8 leader 1 nextIndex[0]: 46  matchIndex[0]: 45
term 8 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
flag 4465 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=44
term 8 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader log:
[{snapshot 6 39} {1189191515319851421 6 40} {7654380198910684528 6 41} {1841417590929662692 6 42} {2860191170186262165 6 43} {3825209713418964116 6 44} {1895744321209083216 6 45}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {1189191515319851421 6 40} {7654380198910684528 6 41} {1841417590929662692 6 42} {2860191170186262165 6 43} {3825209713418964116 6 44} {1895744321209083216 6 45}]
------------------------------------------------------
flag 19069 term 8 leader 1 nextIndex[0]: 46  matchIndex[0]: 45
term 8 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
flag 90819 term 8 leader 1 nextIndex[2]: 46  matchIndex[2]: 45
term 8 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {1189191515319851421 6 40} {7654380198910684528 6 41} {1841417590929662692 6 42} {2860191170186262165 6 43} {3825209713418964116 6 44} {1895744321209083216 6 45}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {1189191515319851421 6 40} {7654380198910684528 6 41} {1841417590929662692 6 42} {2860191170186262165 6 43} {3825209713418964116 6 44} {1895744321209083216 6 45}]
------------------------------------------------------
flag 28600 term 8 leader 1 nextIndex[0]: 46  matchIndex[0]: 45
term 8 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
flag 81780 term 8 leader 1 nextIndex[2]: 46  matchIndex[2]: 45
term 8 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {1189191515319851421 6 40} {7654380198910684528 6 41} {1841417590929662692 6 42} {2860191170186262165 6 43} {3825209713418964116 6 44} {1895744321209083216 6 45}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {1189191515319851421 6 40} {7654380198910684528 6 41} {1841417590929662692 6 42} {2860191170186262165 6 43} {3825209713418964116 6 44} {1895744321209083216 6 45}]
------------------------------------------------------
term 8 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 45410 term 8 leader 1 nextIndex[0]: 46  matchIndex[0]: 45
term 8 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
flag 52904 term 8 leader 1 nextIndex[2]: 46  matchIndex[2]: 45
term 8 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {1189191515319851421 6 40} {7654380198910684528 6 41} {1841417590929662692 6 42} {2860191170186262165 6 43} {3825209713418964116 6 44} {1895744321209083216 6 45}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {1189191515319851421 6 40} {7654380198910684528 6 41} {1841417590929662692 6 42} {2860191170186262165 6 43} {3825209713418964116 6 44} {1895744321209083216 6 45}]
------------------------------------------------------
term 8 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 49612 term 8 leader 1 nextIndex[0]: 46  matchIndex[0]: 45
term 8 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
flag 64733 term 8 leader 1 nextIndex[2]: 46  matchIndex[2]: 45
term 8 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {1189191515319851421 6 40} {7654380198910684528 6 41} {1841417590929662692 6 42} {2860191170186262165 6 43} {3825209713418964116 6 44} {1895744321209083216 6 45}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {1189191515319851421 6 40} {7654380198910684528 6 41} {1841417590929662692 6 42} {2860191170186262165 6 43} {3825209713418964116 6 44} {1895744321209083216 6 45}]
------------------------------------------------------
flag 83826 term 8 leader 1 nextIndex[0]: 46  matchIndex[0]: 45
term 8 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
flag 85401 term 8 leader 1 nextIndex[2]: 46  matchIndex[2]: 45
term 8 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {1189191515319851421 6 40} {7654380198910684528 6 41} {1841417590929662692 6 42} {2860191170186262165 6 43} {3825209713418964116 6 44} {1895744321209083216 6 45}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {1189191515319851421 6 40} {7654380198910684528 6 41} {1841417590929662692 6 42} {2860191170186262165 6 43} {3825209713418964116 6 44} {1895744321209083216 6 45}]
------------------------------------------------------
flag 11573 term 8 leader 1 nextIndex[0]: 46  matchIndex[0]: 45
term 8 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
flag 27718 term 8 leader 1 nextIndex[2]: 46  matchIndex[2]: 45
term 8 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {1189191515319851421 6 40} {7654380198910684528 6 41} {1841417590929662692 6 42} {2860191170186262165 6 43} {3825209713418964116 6 44} {1895744321209083216 6 45}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {1189191515319851421 6 40} {7654380198910684528 6 41} {1841417590929662692 6 42} {2860191170186262165 6 43} {3825209713418964116 6 44} {1895744321209083216 6 45}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94030 term 8 leader 1 nextIndex[0]: 46  matchIndex[0]: 45
term 8 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
flag 32781 term 8 leader 1 nextIndex[2]: 46  matchIndex[2]: 45
term 8 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {1189191515319851421 6 40} {7654380198910684528 6 41} {1841417590929662692 6 42} {2860191170186262165 6 43} {3825209713418964116 6 44} {1895744321209083216 6 45}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {1189191515319851421 6 40} {7654380198910684528 6 41} {1841417590929662692 6 42} {2860191170186262165 6 43} {3825209713418964116 6 44} {1895744321209083216 6 45}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32748 term 8 leader 1 nextIndex[0]: 46  matchIndex[0]: 45
term 8 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
flag 11275 term 8 leader 1 nextIndex[2]: 46  matchIndex[2]: 45
term 8 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {1189191515319851421 6 40} {7654380198910684528 6 41} {1841417590929662692 6 42} {2860191170186262165 6 43} {3825209713418964116 6 44} {1895744321209083216 6 45}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {1189191515319851421 6 40} {7654380198910684528 6 41} {1841417590929662692 6 42} {2860191170186262165 6 43} {3825209713418964116 6 44} {1895744321209083216 6 45}]
------------------------------------------------------
flag 39924 term 8 leader 1 nextIndex[0]: 46  matchIndex[0]: 45
term 8 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
flag 96326 term 8 leader 1 nextIndex[2]: 46  matchIndex[2]: 45
term 8 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:44 
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {1189191515319851421 6 40} {7654380198910684528 6 41} {1841417590929662692 6 42} {2860191170186262165 6 43} {3825209713418964116 6 44} {1895744321209083216 6 45}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {1189191515319851421 6 40} {7654380198910684528 6 41} {1841417590929662692 6 42} {2860191170186262165 6 43} {3825209713418964116 6 44} {1895744321209083216 6 45}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69188 term 8 leader 1 nextIndex[0]: 46  matchIndex[0]: 45
term 8 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
flag 20062 term 8 leader 1 nextIndex[2]: 46  matchIndex[2]: 45
term 8 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {1189191515319851421 6 40} {7654380198910684528 6 41} {1841417590929662692 6 42} {2860191170186262165 6 43} {3825209713418964116 6 44} {1895744321209083216 6 45}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {1189191515319851421 6 40} {7654380198910684528 6 41} {1841417590929662692 6 42} {2860191170186262165 6 43} {3825209713418964116 6 44} {1895744321209083216 6 45}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13294 term 8 leader 1 nextIndex[0]: 46  matchIndex[0]: 45
term 8 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
flag 15001 term 8 leader 1 nextIndex[2]: 46  matchIndex[2]: 45
term 8 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {1189191515319851421 6 40} {7654380198910684528 6 41} {1841417590929662692 6 42} {2860191170186262165 6 43} {3825209713418964116 6 44} {1895744321209083216 6 45}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {1189191515319851421 6 40} {7654380198910684528 6 41} {1841417590929662692 6 42} {2860191170186262165 6 43} {3825209713418964116 6 44} {1895744321209083216 6 45}]
------------------------------------------------------
flag 74862 term 8 leader 1 nextIndex[0]: 46  matchIndex[0]: 45
term 8 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
flag 53867 term 8 leader 1 nextIndex[2]: 46  matchIndex[2]: 45
term 8 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {1189191515319851421 6 40} {7654380198910684528 6 41} {1841417590929662692 6 42} {2860191170186262165 6 43} {3825209713418964116 6 44} {1895744321209083216 6 45}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {1189191515319851421 6 40} {7654380198910684528 6 41} {1841417590929662692 6 42} {2860191170186262165 6 43} {3825209713418964116 6 44} {1895744321209083216 6 45}]
------------------------------------------------------
flag 93617 term 8 leader 1 nextIndex[0]: 46  matchIndex[0]: 45
term 8 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
flag 27152 term 8 leader 1 nextIndex[2]: 46  matchIndex[2]: 45
term 8 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {1189191515319851421 6 40} {7654380198910684528 6 41} {1841417590929662692 6 42} {2860191170186262165 6 43} {3825209713418964116 6 44} {1895744321209083216 6 45}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {1189191515319851421 6 40} {7654380198910684528 6 41} {1841417590929662692 6 42} {2860191170186262165 6 43} {3825209713418964116 6 44} {1895744321209083216 6 45}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88598 term 8 leader 1 nextIndex[0]: 46  matchIndex[0]: 45
term 8 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
flag 55798 term 8 leader 1 nextIndex[2]: 46  matchIndex[2]: 45
term 8 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {1189191515319851421 6 40} {7654380198910684528 6 41} {1841417590929662692 6 42} {2860191170186262165 6 43} {3825209713418964116 6 44} {1895744321209083216 6 45}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {1189191515319851421 6 40} {7654380198910684528 6 41} {1841417590929662692 6 42} {2860191170186262165 6 43} {3825209713418964116 6 44} {1895744321209083216 6 45}]
------------------------------------------------------
flag 94197 term 8 leader 1 nextIndex[0]: 46  matchIndex[0]: 45
term 8 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
flag 65561 term 8 leader 1 nextIndex[2]: 46  matchIndex[2]: 45
term 8 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {1189191515319851421 6 40} {7654380198910684528 6 41} {1841417590929662692 6 42} {2860191170186262165 6 43} {3825209713418964116 6 44} {1895744321209083216 6 45}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {1189191515319851421 6 40} {7654380198910684528 6 41} {1841417590929662692 6 42} {2860191170186262165 6 43} {3825209713418964116 6 44} {1895744321209083216 6 45}]
------------------------------------------------------
flag 68689 term 8 leader 1 nextIndex[0]: 46  matchIndex[0]: 45
term 8 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
flag 73950 term 8 leader 1 nextIndex[2]: 46  matchIndex[2]: 45
term 8 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {1189191515319851421 6 40} {7654380198910684528 6 41} {1841417590929662692 6 42} {2860191170186262165 6 43} {3825209713418964116 6 44} {1895744321209083216 6 45}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {1189191515319851421 6 40} {7654380198910684528 6 41} {1841417590929662692 6 42} {2860191170186262165 6 43} {3825209713418964116 6 44} {1895744321209083216 6 45}]
------------------------------------------------------
flag 53799 term 8 leader 1 nextIndex[0]: 46  matchIndex[0]: 45
term 8 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
flag 75565 term 8 leader 1 nextIndex[2]: 46  matchIndex[2]: 45
term 8 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {1189191515319851421 6 40} {7654380198910684528 6 41} {1841417590929662692 6 42} {2860191170186262165 6 43} {3825209713418964116 6 44} {1895744321209083216 6 45}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {1189191515319851421 6 40} {7654380198910684528 6 41} {1841417590929662692 6 42} {2860191170186262165 6 43} {3825209713418964116 6 44} {1895744321209083216 6 45}]
------------------------------------------------------
client write log 1895744321209083216 (index 46) to leader 1
term 8 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68130 term 8 leader 1 nextIndex[0]: 46  matchIndex[0]: 45
term 8 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
flag 61173 term 8 leader 1 nextIndex[2]: 46  matchIndex[2]: 45
term 8 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=47
update matchIndex[2]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {1189191515319851421 6 40} {7654380198910684528 6 41} {1841417590929662692 6 42} {2860191170186262165 6 43} {3825209713418964116 6 44} {1895744321209083216 6 45} {1895744321209083216 8 46}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=47
update matchIndex[0]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {1189191515319851421 6 40} {7654380198910684528 6 41} {1841417590929662692 6 42} {2860191170186262165 6 43} {3825209713418964116 6 44} {1895744321209083216 6 45} {1895744321209083216 8 46}]
------------------------------------------------------
flag 99530 term 8 leader 1 nextIndex[0]: 47  matchIndex[0]: 46
term 8 leader 1 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 46 
------------------------------------------------------
flag 76382 term 8 leader 1 nextIndex[2]: 47  matchIndex[2]: 46
term 8 leader 1 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 46 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=47
update matchIndex[2]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {1189191515319851421 6 40} {7654380198910684528 6 41} {1841417590929662692 6 42} {2860191170186262165 6 43} {3825209713418964116 6 44} {1895744321209083216 6 45} {1895744321209083216 8 46}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=47
update matchIndex[0]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {1189191515319851421 6 40} {7654380198910684528 6 41} {1841417590929662692 6 42} {2860191170186262165 6 43} {3825209713418964116 6 44} {1895744321209083216 6 45} {1895744321209083216 8 46}]
------------------------------------------------------
flag 21859 term 8 leader 1 nextIndex[0]: 47  matchIndex[0]: 46
term 8 leader 1 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 46 
------------------------------------------------------
flag 16676 term 8 leader 1 nextIndex[2]: 47  matchIndex[2]: 46
term 8 leader 1 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 46 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=47
update matchIndex[2]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {1189191515319851421 6 40} {7654380198910684528 6 41} {1841417590929662692 6 42} {2860191170186262165 6 43} {3825209713418964116 6 44} {1895744321209083216 6 45} {1895744321209083216 8 46}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=47
update matchIndex[0]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {1189191515319851421 6 40} {7654380198910684528 6 41} {1841417590929662692 6 42} {2860191170186262165 6 43} {3825209713418964116 6 44} {1895744321209083216 6 45} {1895744321209083216 8 46}]
------------------------------------------------------
flag 7538 term 8 leader 1 nextIndex[0]: 47  matchIndex[0]: 46
term 8 leader 1 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 46 
------------------------------------------------------
flag 28828 term 8 leader 1 nextIndex[2]: 47  matchIndex[2]: 46
term 8 leader 1 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 46 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=47
update matchIndex[2]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {1189191515319851421 6 40} {7654380198910684528 6 41} {1841417590929662692 6 42} {2860191170186262165 6 43} {3825209713418964116 6 44} {1895744321209083216 6 45} {1895744321209083216 8 46}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=47
update matchIndex[0]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {1189191515319851421 6 40} {7654380198910684528 6 41} {1841417590929662692 6 42} {2860191170186262165 6 43} {3825209713418964116 6 44} {1895744321209083216 6 45} {1895744321209083216 8 46}]
------------------------------------------------------
term 8 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 64543 term 8 leader 1 nextIndex[0]: 47  matchIndex[0]: 46
term 8 leader 1 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 46 
------------------------------------------------------
flag 52694 term 8 leader 1 nextIndex[2]: 47  matchIndex[2]: 46
term 8 leader 1 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 46 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=47
update matchIndex[2]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {1189191515319851421 6 40} {7654380198910684528 6 41} {1841417590929662692 6 42} {2860191170186262165 6 43} {3825209713418964116 6 44} {1895744321209083216 6 45} {1895744321209083216 8 46}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=47
update matchIndex[0]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {1189191515319851421 6 40} {7654380198910684528 6 41} {1841417590929662692 6 42} {2860191170186262165 6 43} {3825209713418964116 6 44} {1895744321209083216 6 45} {1895744321209083216 8 46}]
------------------------------------------------------
flag 27141 term 8 leader 1 nextIndex[0]: 47  matchIndex[0]: 46
term 8 leader 1 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 46 
------------------------------------------------------
flag 74553 term 8 leader 1 nextIndex[2]: 47  matchIndex[2]: 46
term 8 leader 1 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 46 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=47
update matchIndex[2]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {1189191515319851421 6 40} {7654380198910684528 6 41} {1841417590929662692 6 42} {2860191170186262165 6 43} {3825209713418964116 6 44} {1895744321209083216 6 45} {1895744321209083216 8 46}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=47
update matchIndex[0]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {1189191515319851421 6 40} {7654380198910684528 6 41} {1841417590929662692 6 42} {2860191170186262165 6 43} {3825209713418964116 6 44} {1895744321209083216 6 45} {1895744321209083216 8 46}]
------------------------------------------------------
flag 58341 term 8 leader 1 nextIndex[0]: 47  matchIndex[0]: 46
term 8 leader 1 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 46 
------------------------------------------------------
flag 58951 term 8 leader 1 nextIndex[2]: 47  matchIndex[2]: 46
term 8 leader 1 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 46 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=47
update matchIndex[2]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {1189191515319851421 6 40} {7654380198910684528 6 41} {1841417590929662692 6 42} {2860191170186262165 6 43} {3825209713418964116 6 44} {1895744321209083216 6 45} {1895744321209083216 8 46}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=47
update matchIndex[0]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {1189191515319851421 6 40} {7654380198910684528 6 41} {1841417590929662692 6 42} {2860191170186262165 6 43} {3825209713418964116 6 44} {1895744321209083216 6 45} {1895744321209083216 8 46}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 2709 term 8 leader 1 nextIndex[0]: 47  matchIndex[0]: 46
term 8 leader 1 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 46 
------------------------------------------------------
flag 77273 term 8 leader 1 nextIndex[2]: 47  matchIndex[2]: 46
term 8 leader 1 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 47->46
------------------------------------------------------
term 8 leader 1 nextIndex[0]: 0  matchIndex[0]: 46
term 8 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 49320 term 8 leader 1 nextIndex[2]: 47  matchIndex[2]: 46
term 8 leader 1 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 46 
------------------------------------------------------
term 8 leader 1 nextIndex[0]: 0  matchIndex[0]: 46
term 8 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 65422 term 8 leader 1 nextIndex[2]: 47  matchIndex[2]: 46
term 8 leader 1 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 46 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 8 leader 1 nextIndex[0]: 0  matchIndex[0]: 46
term 8 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 89190 term 8 leader 1 nextIndex[2]: 47  matchIndex[2]: 46
term 8 leader 1 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 46 
------------------------------------------------------
term 9 server 0 vote for server 2
term 9 server 2 get vote from server 0
term 9 server 2 become leader
------------------------------------------------------
flag 71587 term 9 leader 2 nextIndex[0]: 47  matchIndex[0]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 46 
------------------------------------------------------
flag 71820 term 9 leader 2 nextIndex[1]: 47  matchIndex[1]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 46 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=47
update matchIndex[0]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {1189191515319851421 6 40} {7654380198910684528 6 41} {1841417590929662692 6 42} {2860191170186262165 6 43} {3825209713418964116 6 44} {1895744321209083216 6 45} {1895744321209083216 8 46}]
------------------------------------------------------
client write log 2315767252030133676 (index 47) to leader 2
term 8 leader 1 nextIndex[0]: 0  matchIndex[0]: 46
term 8 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 85221 term 8 leader 1 nextIndex[2]: 47  matchIndex[2]: 46
term 8 leader 1 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 46 
------------------------------------------------------
flag 82778 term 9 leader 2 nextIndex[0]: 47  matchIndex[0]: 46
term 9 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 46 
------------------------------------------------------
flag 66918 term 9 leader 2 nextIndex[1]: 47  matchIndex[1]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 46 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {1189191515319851421 6 40} {7654380198910684528 6 41} {1841417590929662692 6 42} {2860191170186262165 6 43} {3825209713418964116 6 44} {1895744321209083216 6 45} {1895744321209083216 8 46} {2315767252030133676 9 47}]
------------------------------------------------------
term 8 leader 1 nextIndex[0]: 0  matchIndex[0]: 46
term 8 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 43595 term 8 leader 1 nextIndex[2]: 47  matchIndex[2]: 46
term 8 leader 1 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 46 
------------------------------------------------------
flag 46242 term 9 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
term 9 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 9 leaderCommit: 47 
------------------------------------------------------
flag 9176 term 9 leader 2 nextIndex[1]: 47  matchIndex[1]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 47 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {1189191515319851421 6 40} {7654380198910684528 6 41} {1841417590929662692 6 42} {2860191170186262165 6 43} {3825209713418964116 6 44} {1895744321209083216 6 45} {1895744321209083216 8 46} {2315767252030133676 9 47}]
------------------------------------------------------
client write log 7691708280781588594 (index 48) to leader 2
client write log 8516027485648392484 (index 49) to leader 2
client write log 6117768672634445000 (index 50) to leader 2
client write log 2591314377253823482 (index 51) to leader 2
client write log 5609076366742971458 (index 52) to leader 2
client write log 3957950776425913042 (index 53) to leader 2
client write log 5120492545447852850 (index 54) to leader 2
term 8 leader 1 nextIndex[0]: 0  matchIndex[0]: 46
term 8 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 52574 term 8 leader 1 nextIndex[2]: 47  matchIndex[2]: 46
term 8 leader 1 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 46 
------------------------------------------------------
flag 65082 term 9 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
term 9 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 9 leaderCommit: 47 
------------------------------------------------------
flag 58044 term 9 leader 2 nextIndex[1]: 47  matchIndex[1]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 47 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=54
leader log:
[{snapshot 6 39} {1189191515319851421 6 40} {7654380198910684528 6 41} {1841417590929662692 6 42} {2860191170186262165 6 43} {3825209713418964116 6 44} {1895744321209083216 6 45} {1895744321209083216 8 46} {2315767252030133676 9 47} {7691708280781588594 9 48} {8516027485648392484 9 49} {6117768672634445000 9 50} {2591314377253823482 9 51} {5609076366742971458 9 52} {3957950776425913042 9 53} {5120492545447852850 9 54}]
------------------------------------------------------
term 9 Server2 start snapshot! index=49
term 9 server2 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=54
-------------------------------------------------------------
term 8 leader 1 nextIndex[0]: 0  matchIndex[0]: 46
term 8 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 70989 term 8 leader 1 nextIndex[2]: 47  matchIndex[2]: 46
term 8 leader 1 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 46 
------------------------------------------------------
flag 76103 term 9 leader 2 nextIndex[0]: 55  matchIndex[0]: 54
term 9 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 9 leader 2 nextIndex[1]: 47  matchIndex[1]: 0
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {6117768672634445000 9 50} {2591314377253823482 9 51} {5609076366742971458 9 52} {3957950776425913042 9 53} {5120492545447852850 9 54}]
------------------------------------------------------
term 9 Server0 start snapshot! index=49
term 9 server0 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=54
-------------------------------------------------------------
!!!!!!connect server 1
client write log 8426402545404584854 (index 47) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 47->46
------------------------------------------------------
term 8 leader 1 nextIndex[0]: 0  matchIndex[0]: 46
term 8 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
term 8 leader 1 nextIndex[2]: 0  matchIndex[2]: 46
term 8 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
term 9 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 8 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 9 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 9 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 48647 term 9 leader 2 nextIndex[0]: 55  matchIndex[0]: 54
term 9 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 9 leader 2 nextIndex[1]: 47  matchIndex[1]: 0
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 1 InstallSnapshot success
------------------------------------------------------
term 9 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 50 matchIndex[1] 49 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 49 rf.lastIncludedTerm 9 rf.commitIndex 49 rf.lastApplied 49
term 9 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {6117768672634445000 9 50} {2591314377253823482 9 51} {5609076366742971458 9 52} {3957950776425913042 9 53} {5120492545447852850 9 54}]
------------------------------------------------------
term 9 server 2 not vote for server 1, 日志不够新
term 9 server 0 not vote for server 1, 日志不够新
term 11 server 1 vote for server 2
term 11 server 0 vote for server 2
term 11 server 2 get vote from server 1
term 11 server 2 become leader
------------------------------------------------------
term 11 server 2 get outdate rpc reply from server 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18855 term 11 leader 2 nextIndex[0]: 55  matchIndex[0]: 0
term 11 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
flag 61129 term 11 leader 2 nextIndex[1]: 55  matchIndex[1]: 0
term 11 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 11 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 55->54
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {6117768672634445000 9 50} {2591314377253823482 9 51} {5609076366742971458 9 52} {3957950776425913042 9 53} {5120492545447852850 9 54}]
------------------------------------------------------
flag 18838 term 11 leader 2 nextIndex[0]: 55  matchIndex[0]: 54
term 11 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
flag 29090 term 11 leader 2 nextIndex[1]: 50  matchIndex[1]: 0
term 11 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {6117768672634445000 9 50} {2591314377253823482 9 51} {5609076366742971458 9 52} {3957950776425913042 9 53} {5120492545447852850 9 54}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {6117768672634445000 9 50} {2591314377253823482 9 51} {5609076366742971458 9 52} {3957950776425913042 9 53} {5120492545447852850 9 54}]
------------------------------------------------------
flag 89972 term 11 leader 2 nextIndex[0]: 55  matchIndex[0]: 54
term 11 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
flag 64858 term 11 leader 2 nextIndex[1]: 55  matchIndex[1]: 54
term 11 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {6117768672634445000 9 50} {2591314377253823482 9 51} {5609076366742971458 9 52} {3957950776425913042 9 53} {5120492545447852850 9 54}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {6117768672634445000 9 50} {2591314377253823482 9 51} {5609076366742971458 9 52} {3957950776425913042 9 53} {5120492545447852850 9 54}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27654 term 11 leader 2 nextIndex[0]: 55  matchIndex[0]: 54
term 11 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
flag 5049 term 11 leader 2 nextIndex[1]: 55  matchIndex[1]: 54
term 11 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {6117768672634445000 9 50} {2591314377253823482 9 51} {5609076366742971458 9 52} {3957950776425913042 9 53} {5120492545447852850 9 54}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {6117768672634445000 9 50} {2591314377253823482 9 51} {5609076366742971458 9 52} {3957950776425913042 9 53} {5120492545447852850 9 54}]
------------------------------------------------------
flag 67179 term 11 leader 2 nextIndex[0]: 55  matchIndex[0]: 54
term 11 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
flag 68206 term 11 leader 2 nextIndex[1]: 55  matchIndex[1]: 54
term 11 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {6117768672634445000 9 50} {2591314377253823482 9 51} {5609076366742971458 9 52} {3957950776425913042 9 53} {5120492545447852850 9 54}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {6117768672634445000 9 50} {2591314377253823482 9 51} {5609076366742971458 9 52} {3957950776425913042 9 53} {5120492545447852850 9 54}]
------------------------------------------------------
flag 81864 term 11 leader 2 nextIndex[0]: 55  matchIndex[0]: 54
term 11 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
flag 30705 term 11 leader 2 nextIndex[1]: 55  matchIndex[1]: 54
term 11 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {6117768672634445000 9 50} {2591314377253823482 9 51} {5609076366742971458 9 52} {3957950776425913042 9 53} {5120492545447852850 9 54}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {6117768672634445000 9 50} {2591314377253823482 9 51} {5609076366742971458 9 52} {3957950776425913042 9 53} {5120492545447852850 9 54}]
------------------------------------------------------
flag 63965 term 11 leader 2 nextIndex[0]: 55  matchIndex[0]: 54
term 11 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
flag 63384 term 11 leader 2 nextIndex[1]: 55  matchIndex[1]: 54
term 11 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {6117768672634445000 9 50} {2591314377253823482 9 51} {5609076366742971458 9 52} {3957950776425913042 9 53} {5120492545447852850 9 54}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {6117768672634445000 9 50} {2591314377253823482 9 51} {5609076366742971458 9 52} {3957950776425913042 9 53} {5120492545447852850 9 54}]
------------------------------------------------------
flag 69066 term 11 leader 2 nextIndex[0]: 55  matchIndex[0]: 54
term 11 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
flag 95363 term 11 leader 2 nextIndex[1]: 55  matchIndex[1]: 54
term 11 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {6117768672634445000 9 50} {2591314377253823482 9 51} {5609076366742971458 9 52} {3957950776425913042 9 53} {5120492545447852850 9 54}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {6117768672634445000 9 50} {2591314377253823482 9 51} {5609076366742971458 9 52} {3957950776425913042 9 53} {5120492545447852850 9 54}]
------------------------------------------------------
flag 75089 term 11 leader 2 nextIndex[0]: 55  matchIndex[0]: 54
term 11 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
flag 72581 term 11 leader 2 nextIndex[1]: 55  matchIndex[1]: 54
term 11 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {6117768672634445000 9 50} {2591314377253823482 9 51} {5609076366742971458 9 52} {3957950776425913042 9 53} {5120492545447852850 9 54}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {6117768672634445000 9 50} {2591314377253823482 9 51} {5609076366742971458 9 52} {3957950776425913042 9 53} {5120492545447852850 9 54}]
------------------------------------------------------
flag 58948 term 11 leader 2 nextIndex[0]: 55  matchIndex[0]: 54
term 11 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
flag 55515 term 11 leader 2 nextIndex[1]: 55  matchIndex[1]: 54
term 11 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {6117768672634445000 9 50} {2591314377253823482 9 51} {5609076366742971458 9 52} {3957950776425913042 9 53} {5120492545447852850 9 54}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {6117768672634445000 9 50} {2591314377253823482 9 51} {5609076366742971458 9 52} {3957950776425913042 9 53} {5120492545447852850 9 54}]
------------------------------------------------------
flag 73601 term 11 leader 2 nextIndex[0]: 55  matchIndex[0]: 54
term 11 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
flag 37215 term 11 leader 2 nextIndex[1]: 55  matchIndex[1]: 54
term 11 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {6117768672634445000 9 50} {2591314377253823482 9 51} {5609076366742971458 9 52} {3957950776425913042 9 53} {5120492545447852850 9 54}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {6117768672634445000 9 50} {2591314377253823482 9 51} {5609076366742971458 9 52} {3957950776425913042 9 53} {5120492545447852850 9 54}]
------------------------------------------------------
term 11 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 69880 term 11 leader 2 nextIndex[0]: 55  matchIndex[0]: 54
term 11 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
flag 3854 term 11 leader 2 nextIndex[1]: 55  matchIndex[1]: 54
term 11 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
term 11 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
[{snapshot 9 49} {6117768672634445000 9 50} {2591314377253823482 9 51} {5609076366742971458 9 52} {3957950776425913042 9 53} {5120492545447852850 9 54}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {6117768672634445000 9 50} {2591314377253823482 9 51} {5609076366742971458 9 52} {3957950776425913042 9 53} {5120492545447852850 9 54}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 11 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 9613 term 11 leader 2 nextIndex[0]: 55  matchIndex[0]: 54
term 11 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
flag 11043 term 11 leader 2 nextIndex[1]: 55  matchIndex[1]: 54
term 11 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {6117768672634445000 9 50} {2591314377253823482 9 51} {5609076366742971458 9 52} {3957950776425913042 9 53} {5120492545447852850 9 54}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {6117768672634445000 9 50} {2591314377253823482 9 51} {5609076366742971458 9 52} {3957950776425913042 9 53} {5120492545447852850 9 54}]
------------------------------------------------------
flag 1672 term 11 leader 2 nextIndex[0]: 55  matchIndex[0]: 54
term 11 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
flag 96548 term 11 leader 2 nextIndex[1]: 55  matchIndex[1]: 54
term 11 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {6117768672634445000 9 50} {2591314377253823482 9 51} {5609076366742971458 9 52} {3957950776425913042 9 53} {5120492545447852850 9 54}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {6117768672634445000 9 50} {2591314377253823482 9 51} {5609076366742971458 9 52} {3957950776425913042 9 53} {5120492545447852850 9 54}]
------------------------------------------------------
flag 31853 term 11 leader 2 nextIndex[0]: 55  matchIndex[0]: 54
term 11 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
flag 95234 term 11 leader 2 nextIndex[1]: 55  matchIndex[1]: 54
term 11 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {6117768672634445000 9 50} {2591314377253823482 9 51} {5609076366742971458 9 52} {3957950776425913042 9 53} {5120492545447852850 9 54}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {6117768672634445000 9 50} {2591314377253823482 9 51} {5609076366742971458 9 52} {3957950776425913042 9 53} {5120492545447852850 9 54}]
------------------------------------------------------
flag 50642 term 11 leader 2 nextIndex[0]: 55  matchIndex[0]: 54
term 11 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
flag 91349 term 11 leader 2 nextIndex[1]: 55  matchIndex[1]: 54
term 11 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {6117768672634445000 9 50} {2591314377253823482 9 51} {5609076366742971458 9 52} {3957950776425913042 9 53} {5120492545447852850 9 54}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {6117768672634445000 9 50} {2591314377253823482 9 51} {5609076366742971458 9 52} {3957950776425913042 9 53} {5120492545447852850 9 54}]
------------------------------------------------------
flag 93752 term 11 leader 2 nextIndex[0]: 55  matchIndex[0]: 54
term 11 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
flag 68568 term 11 leader 2 nextIndex[1]: 55  matchIndex[1]: 54
term 11 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {6117768672634445000 9 50} {2591314377253823482 9 51} {5609076366742971458 9 52} {3957950776425913042 9 53} {5120492545447852850 9 54}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {6117768672634445000 9 50} {2591314377253823482 9 51} {5609076366742971458 9 52} {3957950776425913042 9 53} {5120492545447852850 9 54}]
------------------------------------------------------
flag 53461 term 11 leader 2 nextIndex[0]: 55  matchIndex[0]: 54
term 11 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
flag 33820 term 11 leader 2 nextIndex[1]: 55  matchIndex[1]: 54
term 11 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {6117768672634445000 9 50} {2591314377253823482 9 51} {5609076366742971458 9 52} {3957950776425913042 9 53} {5120492545447852850 9 54}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=54
leader log:
[{snapshot 9 49} {6117768672634445000 9 50} {2591314377253823482 9 51} {5609076366742971458 9 52} {3957950776425913042 9 53} {5120492545447852850 9 54}]
------------------------------------------------------
client write log 8426402545404584854 (index 55) to leader 2
flag 9686 term 11 leader 2 nextIndex[0]: 55  matchIndex[0]: 54
term 11 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
flag 95754 term 11 leader 2 nextIndex[1]: 55  matchIndex[1]: 54
term 11 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=55
leader log:
term 11 server 0 AppendEntries true commitIndex:54 
------------------------------------------------------
[{snapshot 9 49} {6117768672634445000 9 50} {2591314377253823482 9 51} {5609076366742971458 9 52} {3957950776425913042 9 53} {5120492545447852850 9 54} {8426402545404584854 11 55}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {6117768672634445000 9 50} {2591314377253823482 9 51} {5609076366742971458 9 52} {3957950776425913042 9 53} {5120492545447852850 9 54} {8426402545404584854 11 55}]
------------------------------------------------------
flag 51631 term 11 leader 2 nextIndex[0]: 56  matchIndex[0]: 55
term 11 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 55 
------------------------------------------------------
flag 47467 term 11 leader 2 nextIndex[1]: 56  matchIndex[1]: 55
term 11 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 55 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {6117768672634445000 9 50} {2591314377253823482 9 51} {5609076366742971458 9 52} {3957950776425913042 9 53} {5120492545447852850 9 54} {8426402545404584854 11 55}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {6117768672634445000 9 50} {2591314377253823482 9 51} {5609076366742971458 9 52} {3957950776425913042 9 53} {5120492545447852850 9 54} {8426402545404584854 11 55}]
------------------------------------------------------
flag 90523 term 11 leader 2 nextIndex[0]: 56  matchIndex[0]: 55
term 11 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 55 
------------------------------------------------------
flag 60442 term 11 leader 2 nextIndex[1]: 56  matchIndex[1]: 55
term 11 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 55 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {6117768672634445000 9 50} {2591314377253823482 9 51} {5609076366742971458 9 52} {3957950776425913042 9 53} {5120492545447852850 9 54} {8426402545404584854 11 55}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {6117768672634445000 9 50} {2591314377253823482 9 51} {5609076366742971458 9 52} {3957950776425913042 9 53} {5120492545447852850 9 54} {8426402545404584854 11 55}]
------------------------------------------------------
flag 71800 term 11 leader 2 nextIndex[0]: 56  matchIndex[0]: 55
term 11 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 55 
------------------------------------------------------
flag 28043 term 11 leader 2 nextIndex[1]: 56  matchIndex[1]: 55
term 11 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 55 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {6117768672634445000 9 50} {2591314377253823482 9 51} {5609076366742971458 9 52} {3957950776425913042 9 53} {5120492545447852850 9 54} {8426402545404584854 11 55}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {6117768672634445000 9 50} {2591314377253823482 9 51} {5609076366742971458 9 52} {3957950776425913042 9 53} {5120492545447852850 9 54} {8426402545404584854 11 55}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63081 term 11 leader 2 nextIndex[0]: 56  matchIndex[0]: 55
term 11 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 55 
------------------------------------------------------
flag 69661 term 11 leader 2 nextIndex[1]: 56  matchIndex[1]: 55
term 11 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 55 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {6117768672634445000 9 50} {2591314377253823482 9 51} {5609076366742971458 9 52} {3957950776425913042 9 53} {5120492545447852850 9 54} {8426402545404584854 11 55}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {6117768672634445000 9 50} {2591314377253823482 9 51} {5609076366742971458 9 52} {3957950776425913042 9 53} {5120492545447852850 9 54} {8426402545404584854 11 55}]
------------------------------------------------------
flag 13020 term 11 leader 2 nextIndex[0]: 56  matchIndex[0]: 55
term 11 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 55 
------------------------------------------------------
flag 56675 term 11 leader 2 nextIndex[1]: 56  matchIndex[1]: 55
term 11 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 55 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {6117768672634445000 9 50} {2591314377253823482 9 51} {5609076366742971458 9 52} {3957950776425913042 9 53} {5120492545447852850 9 54} {8426402545404584854 11 55}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=55
leader log:
[{snapshot 9 49} {6117768672634445000 9 50} {2591314377253823482 9 51} {5609076366742971458 9 52} {3957950776425913042 9 53} {5120492545447852850 9 54} {8426402545404584854 11 55}]
------------------------------------------------------
term 11 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
!!!!!!diconnect server 0
client write log 6809819318137810821 (index 56) to leader 2
flag 10962 term 11 leader 2 nextIndex[0]: 56  matchIndex[0]: 55
term 11 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 55 
------------------------------------------------------
flag 2053 term 11 leader 2 nextIndex[1]: 56  matchIndex[1]: 55
term 11 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 55 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=56
leader log:
[{snapshot 9 49} {6117768672634445000 9 50} {2591314377253823482 9 51} {5609076366742971458 9 52} {3957950776425913042 9 53} {5120492545447852850 9 54} {8426402545404584854 11 55} {6809819318137810821 11 56}]
------------------------------------------------------
flag 2058 term 11 leader 2 nextIndex[0]: 56  matchIndex[0]: 55
term 11 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 56 
------------------------------------------------------
flag 21586 term 11 leader 2 nextIndex[1]: 57  matchIndex[1]: 56
term 11 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 11 leaderCommit: 56 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=56
leader log:
[{snapshot 9 49} {6117768672634445000 9 50} {2591314377253823482 9 51} {5609076366742971458 9 52} {3957950776425913042 9 53} {5120492545447852850 9 54} {8426402545404584854 11 55} {6809819318137810821 11 56}]
------------------------------------------------------
client write log 207097643034906111 (index 57) to leader 2
client write log 7973182388039308917 (index 58) to leader 2
client write log 3669866078844413212 (index 59) to leader 2
client write log 7347845760592006411 (index 60) to leader 2
client write log 1622637438101407309 (index 61) to leader 2
client write log 3856642412931063388 (index 62) to leader 2
term 11 server 1 not vote for server 2, 任期不够新
term 11 server 2 get outdate rpc reply from server 1
flag 19338 term 11 leader 2 nextIndex[0]: 56  matchIndex[0]: 55
term 11 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 56 
------------------------------------------------------
flag 99214 term 11 leader 2 nextIndex[1]: 57  matchIndex[1]: 56
term 11 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 11 leaderCommit: 56 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=62
leader log:
[{snapshot 9 49} {6117768672634445000 9 50} {2591314377253823482 9 51} {5609076366742971458 9 52} {3957950776425913042 9 53} {5120492545447852850 9 54} {8426402545404584854 11 55} {6809819318137810821 11 56} {207097643034906111 11 57} {7973182388039308917 11 58} {3669866078844413212 11 59} {7347845760592006411 11 60} {1622637438101407309 11 61} {3856642412931063388 11 62}]
------------------------------------------------------
term 11 Server2 start snapshot! index=59
term 11 server2 snapshot success
lastIncludedIndex=59 lastApplied=60 lastIndex=62
-------------------------------------------------------------
term 11 leader 2 nextIndex[0]: 56  matchIndex[0]: 55
term 11 leader 2 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 11
------------------------------------------------------
flag 3948 term 11 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {7347845760592006411 11 60} {1622637438101407309 11 61} {3856642412931063388 11 62}]
------------------------------------------------------
term 11 Server1 start snapshot! index=59
term 11 server1 snapshot success
lastIncludedIndex=59 lastApplied=60 lastIndex=62
-------------------------------------------------------------
!!!!!!connect server 0
client write log 1984910035080409658 (index 63) to leader 2
term 11 server 2 not vote for server 0, 日志不够新
term 11 server 1 not vote for server 0, 日志不够新
term 13 server 1 vote for server 2
term 13 server 0 vote for server 2
term 13 server 2 get vote from server 1
term 13 server 2 become leader
------------------------------------------------------
term 13 server 2 get outdate rpc reply from server 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79015 term 13 leader 2 nextIndex[0]: 64  matchIndex[0]: 0
term 13 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
flag 15223 term 13 leader 2 nextIndex[1]: 64  matchIndex[1]: 0
term 13 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 13 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 64->63
------------------------------------------------------
term 13 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 64->63
------------------------------------------------------
term 13 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 13 leader 2 nextIndex[0]: 56  matchIndex[0]: 0
term 13 leader 2 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 11
------------------------------------------------------
flag 3876 term 13 leader 2 nextIndex[1]: 63  matchIndex[1]: 0
term 13 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {7347845760592006411 11 60} {1622637438101407309 11 61} {3856642412931063388 11 62} {1984910035080409658 11 63}]
------------------------------------------------------
term 13 server 0 InstallSnapshot success
------------------------------------------------------
term 13 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 60 matchIndex[0] 59 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 59 rf.lastIncludedTerm 11 rf.commitIndex 59 rf.lastApplied 59
flag 4742 term 13 leader 2 nextIndex[0]: 60  matchIndex[0]: 59
term 13 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
flag 83171 term 13 leader 2 nextIndex[1]: 64  matchIndex[1]: 63
term 13 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {7347845760592006411 11 60} {1622637438101407309 11 61} {3856642412931063388 11 62} {1984910035080409658 11 63}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=64
update matchIndex[0]=63
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {7347845760592006411 11 60} {1622637438101407309 11 61} {3856642412931063388 11 62} {1984910035080409658 11 63}]
------------------------------------------------------
flag 88747 term 13 leader 2 nextIndex[0]: 64  matchIndex[0]: 63
term 13 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
flag 39776 term 13 leader 2 nextIndex[1]: 64  matchIndex[1]: 63
term 13 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {7347845760592006411 11 60} {1622637438101407309 11 61} {3856642412931063388 11 62} {1984910035080409658 11 63}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=64
update matchIndex[0]=63
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {7347845760592006411 11 60} {1622637438101407309 11 61} {3856642412931063388 11 62} {1984910035080409658 11 63}]
------------------------------------------------------
flag 48095 term 13 leader 2 nextIndex[0]: 64  matchIndex[0]: 63
term 13 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
flag 17316 term 13 leader 2 nextIndex[1]: 64  matchIndex[1]: 63
term 13 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {7347845760592006411 11 60} {1622637438101407309 11 61} {3856642412931063388 11 62} {1984910035080409658 11 63}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=64
update matchIndex[0]=63
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {7347845760592006411 11 60} {1622637438101407309 11 61} {3856642412931063388 11 62} {1984910035080409658 11 63}]
------------------------------------------------------
flag 96140 term 13 leader 2 nextIndex[0]: 64  matchIndex[0]: 63
term 13 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
flag 18670 term 13 leader 2 nextIndex[1]: 64  matchIndex[1]: 63
term 13 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {7347845760592006411 11 60} {1622637438101407309 11 61} {3856642412931063388 11 62} {1984910035080409658 11 63}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=64
update matchIndex[0]=63
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {7347845760592006411 11 60} {1622637438101407309 11 61} {3856642412931063388 11 62} {1984910035080409658 11 63}]
------------------------------------------------------
term 13 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15321 term 13 leader 2 nextIndex[0]: 64  matchIndex[0]: 63
term 13 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
flag 98500 term 13 leader 2 nextIndex[1]: 64  matchIndex[1]: 63
term 13 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {7347845760592006411 11 60} {1622637438101407309 11 61} {3856642412931063388 11 62} {1984910035080409658 11 63}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=64
update matchIndex[0]=63
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {7347845760592006411 11 60} {1622637438101407309 11 61} {3856642412931063388 11 62} {1984910035080409658 11 63}]
------------------------------------------------------
term 13 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 13 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 17435 term 13 leader 2 nextIndex[0]: 64  matchIndex[0]: 63
term 13 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
flag 5228 term 13 leader 2 nextIndex[1]: 64  matchIndex[1]: 63
term 13 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {7347845760592006411 11 60} {1622637438101407309 11 61} {3856642412931063388 11 62} {1984910035080409658 11 63}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=64
update matchIndex[0]=63
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {7347845760592006411 11 60} {1622637438101407309 11 61} {3856642412931063388 11 62} {1984910035080409658 11 63}]
------------------------------------------------------
flag 38032 term 13 leader 2 nextIndex[0]: 64  matchIndex[0]: 63
term 13 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
flag 51145 term 13 leader 2 nextIndex[1]: 64  matchIndex[1]: 63
term 13 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {7347845760592006411 11 60} {1622637438101407309 11 61} {3856642412931063388 11 62} {1984910035080409658 11 63}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=64
update matchIndex[0]=63
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {7347845760592006411 11 60} {1622637438101407309 11 61} {3856642412931063388 11 62} {1984910035080409658 11 63}]
------------------------------------------------------
flag 65855 term 13 leader 2 nextIndex[0]: 64  matchIndex[0]: 63
term 13 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
flag 8526 term 13 leader 2 nextIndex[1]: 64  matchIndex[1]: 63
term 13 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:62 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=64
update matchIndex[0]=63
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {7347845760592006411 11 60} {1622637438101407309 11 61} {3856642412931063388 11 62} {1984910035080409658 11 63}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {7347845760592006411 11 60} {1622637438101407309 11 61} {3856642412931063388 11 62} {1984910035080409658 11 63}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 950 term 13 leader 2 nextIndex[0]: 64  matchIndex[0]: 63
term 13 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
flag 87572 term 13 leader 2 nextIndex[1]: 64  matchIndex[1]: 63
term 13 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:62 
term 13 server 0 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=64
update matchIndex[0]=63
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {7347845760592006411 11 60} {1622637438101407309 11 61} {3856642412931063388 11 62} {1984910035080409658 11 63}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {7347845760592006411 11 60} {1622637438101407309 11 61} {3856642412931063388 11 62} {1984910035080409658 11 63}]
------------------------------------------------------
flag 1283 term 13 leader 2 nextIndex[0]: 64  matchIndex[0]: 63
term 13 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
flag 59982 term 13 leader 2 nextIndex[1]: 64  matchIndex[1]: 63
term 13 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {7347845760592006411 11 60} {1622637438101407309 11 61} {3856642412931063388 11 62} {1984910035080409658 11 63}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=64
update matchIndex[0]=63
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {7347845760592006411 11 60} {1622637438101407309 11 61} {3856642412931063388 11 62} {1984910035080409658 11 63}]
------------------------------------------------------
flag 83874 term 13 leader 2 nextIndex[0]: 64  matchIndex[0]: 63
term 13 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
flag 94005 term 13 leader 2 nextIndex[1]: 64  matchIndex[1]: 63
term 13 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {7347845760592006411 11 60} {1622637438101407309 11 61} {3856642412931063388 11 62} {1984910035080409658 11 63}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=64
update matchIndex[0]=63
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {7347845760592006411 11 60} {1622637438101407309 11 61} {3856642412931063388 11 62} {1984910035080409658 11 63}]
------------------------------------------------------
flag 84594 term 13 leader 2 nextIndex[0]: 64  matchIndex[0]: 63
term 13 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
flag 43396 term 13 leader 2 nextIndex[1]: 64  matchIndex[1]: 63
term 13 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {7347845760592006411 11 60} {1622637438101407309 11 61} {3856642412931063388 11 62} {1984910035080409658 11 63}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=64
update matchIndex[0]=63
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {7347845760592006411 11 60} {1622637438101407309 11 61} {3856642412931063388 11 62} {1984910035080409658 11 63}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71419 term 13 leader 2 nextIndex[0]: 64  matchIndex[0]: 63
term 13 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
flag 63400 term 13 leader 2 nextIndex[1]: 64  matchIndex[1]: 63
term 13 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:62 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {7347845760592006411 11 60} {1622637438101407309 11 61} {3856642412931063388 11 62} {1984910035080409658 11 63}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=64
update matchIndex[0]=63
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {7347845760592006411 11 60} {1622637438101407309 11 61} {3856642412931063388 11 62} {1984910035080409658 11 63}]
------------------------------------------------------
flag 89910 term 13 leader 2 nextIndex[0]: 64  matchIndex[0]: 63
term 13 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
flag 91003 term 13 leader 2 nextIndex[1]: 64  matchIndex[1]: 63
term 13 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {7347845760592006411 11 60} {1622637438101407309 11 61} {3856642412931063388 11 62} {1984910035080409658 11 63}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=64
update matchIndex[0]=63
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {7347845760592006411 11 60} {1622637438101407309 11 61} {3856642412931063388 11 62} {1984910035080409658 11 63}]
------------------------------------------------------
flag 70122 term 13 leader 2 nextIndex[0]: 64  matchIndex[0]: 63
term 13 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
flag 33334 term 13 leader 2 nextIndex[1]: 64  matchIndex[1]: 63
term 13 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {7347845760592006411 11 60} {1622637438101407309 11 61} {3856642412931063388 11 62} {1984910035080409658 11 63}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=64
update matchIndex[0]=63
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {7347845760592006411 11 60} {1622637438101407309 11 61} {3856642412931063388 11 62} {1984910035080409658 11 63}]
------------------------------------------------------
flag 4413 term 13 leader 2 nextIndex[0]: 64  matchIndex[0]: 63
term 13 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
flag 65862 term 13 leader 2 nextIndex[1]: 64  matchIndex[1]: 63
term 13 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {7347845760592006411 11 60} {1622637438101407309 11 61} {3856642412931063388 11 62} {1984910035080409658 11 63}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=64
update matchIndex[0]=63
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {7347845760592006411 11 60} {1622637438101407309 11 61} {3856642412931063388 11 62} {1984910035080409658 11 63}]
------------------------------------------------------
flag 63375 term 13 leader 2 nextIndex[0]: 64  matchIndex[0]: 63
term 13 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
flag 58476 term 13 leader 2 nextIndex[1]: 64  matchIndex[1]: 63
term 13 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {7347845760592006411 11 60} {1622637438101407309 11 61} {3856642412931063388 11 62} {1984910035080409658 11 63}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=64
update matchIndex[0]=63
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {7347845760592006411 11 60} {1622637438101407309 11 61} {3856642412931063388 11 62} {1984910035080409658 11 63}]
------------------------------------------------------
client write log 1984910035080409658 (index 64) to leader 2
flag 21024 term 13 leader 2 nextIndex[0]: 64  matchIndex[0]: 63
term 13 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
flag 28182 term 13 leader 2 nextIndex[1]: 64  matchIndex[1]: 63
term 13 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=65
update matchIndex[1]=64
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {7347845760592006411 11 60} {1622637438101407309 11 61} {3856642412931063388 11 62} {1984910035080409658 11 63} {1984910035080409658 13 64}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {7347845760592006411 11 60} {1622637438101407309 11 61} {3856642412931063388 11 62} {1984910035080409658 11 63} {1984910035080409658 13 64}]
------------------------------------------------------
flag 12678 term 13 leader 2 nextIndex[0]: 65  matchIndex[0]: 64
term 13 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 13 leaderCommit: 64 
------------------------------------------------------
flag 66822 term 13 leader 2 nextIndex[1]: 65  matchIndex[1]: 64
term 13 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 13 leaderCommit: 64 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=65
update matchIndex[1]=64
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {7347845760592006411 11 60} {1622637438101407309 11 61} {3856642412931063388 11 62} {1984910035080409658 11 63} {1984910035080409658 13 64}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {7347845760592006411 11 60} {1622637438101407309 11 61} {3856642412931063388 11 62} {1984910035080409658 11 63} {1984910035080409658 13 64}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79491 term 13 leader 2 nextIndex[0]: 65  matchIndex[0]: 64
term 13 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 13 leaderCommit: 64 
------------------------------------------------------
flag 94808 term 13 leader 2 nextIndex[1]: 65  matchIndex[1]: 64
term 13 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 13 leaderCommit: 64 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=65
update matchIndex[1]=64
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {7347845760592006411 11 60} {1622637438101407309 11 61} {3856642412931063388 11 62} {1984910035080409658 11 63} {1984910035080409658 13 64}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {7347845760592006411 11 60} {1622637438101407309 11 61} {3856642412931063388 11 62} {1984910035080409658 11 63} {1984910035080409658 13 64}]
------------------------------------------------------
flag 16521 term 13 leader 2 nextIndex[0]: 65  matchIndex[0]: 64
term 13 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 13 leaderCommit: 64 
------------------------------------------------------
flag 71154 term 13 leader 2 nextIndex[1]: 65  matchIndex[1]: 64
term 13 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 13 leaderCommit: 64 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=65
update matchIndex[1]=64
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {7347845760592006411 11 60} {1622637438101407309 11 61} {3856642412931063388 11 62} {1984910035080409658 11 63} {1984910035080409658 13 64}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {7347845760592006411 11 60} {1622637438101407309 11 61} {3856642412931063388 11 62} {1984910035080409658 11 63} {1984910035080409658 13 64}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20130 term 13 leader 2 nextIndex[0]: 65  matchIndex[0]: 64
term 13 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 13 leaderCommit: 64 
------------------------------------------------------
flag 41024 term 13 leader 2 nextIndex[1]: 65  matchIndex[1]: 64
term 13 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 13 leaderCommit: 64 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=65
update matchIndex[1]=64
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {7347845760592006411 11 60} {1622637438101407309 11 61} {3856642412931063388 11 62} {1984910035080409658 11 63} {1984910035080409658 13 64}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {7347845760592006411 11 60} {1622637438101407309 11 61} {3856642412931063388 11 62} {1984910035080409658 11 63} {1984910035080409658 13 64}]
------------------------------------------------------
flag 80942 term 13 leader 2 nextIndex[0]: 65  matchIndex[0]: 64
term 13 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 13 leaderCommit: 64 
------------------------------------------------------
flag 96931 term 13 leader 2 nextIndex[1]: 65  matchIndex[1]: 64
term 13 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 13 leaderCommit: 64 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=65
update matchIndex[1]=64
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {7347845760592006411 11 60} {1622637438101407309 11 61} {3856642412931063388 11 62} {1984910035080409658 11 63} {1984910035080409658 13 64}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=64
leader log:
[{snapshot 11 59} {7347845760592006411 11 60} {1622637438101407309 11 61} {3856642412931063388 11 62} {1984910035080409658 11 63} {1984910035080409658 13 64}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 8130311438052723558 (index 65) to leader 2
flag 11251 term 13 leader 2 nextIndex[0]: 65  matchIndex[0]: 64
term 13 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 13 leaderCommit: 64 
------------------------------------------------------
flag 35485 term 13 leader 2 nextIndex[1]: 65  matchIndex[1]: 64
term 13 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 13 leaderCommit: 64 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=65
leader log:
[{snapshot 11 59} {7347845760592006411 11 60} {1622637438101407309 11 61} {3856642412931063388 11 62} {1984910035080409658 11 63} {1984910035080409658 13 64} {8130311438052723558 13 65}]
------------------------------------------------------
flag 30386 term 13 leader 2 nextIndex[0]: 65  matchIndex[0]: 64
term 13 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 13 leaderCommit: 65 
------------------------------------------------------
flag 42802 term 13 leader 2 nextIndex[1]: 66  matchIndex[1]: 65
term 13 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 13 leaderCommit: 65 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=65
leader log:
[{snapshot 11 59} {7347845760592006411 11 60} {1622637438101407309 11 61} {3856642412931063388 11 62} {1984910035080409658 11 63} {1984910035080409658 13 64} {8130311438052723558 13 65}]
------------------------------------------------------
client write log 8608018677685970442 (index 66) to leader 2
client write log 7086441727187316974 (index 67) to leader 2
client write log 2246606760044980070 (index 68) to leader 2
client write log 1874505026244296916 (index 69) to leader 2
client write log 5865607497471244869 (index 70) to leader 2
client write log 8825725415632260137 (index 71) to leader 2
client write log 2505076721360260092 (index 72) to leader 2
client write log 284888344918275928 (index 73) to leader 2
client write log 5001239326836390085 (index 74) to leader 2
client write log 449851027214191869 (index 75) to leader 2
client write log 3461800812902277060 (index 76) to leader 2
client write log 7737170633072112301 (index 77) to leader 2
client write log 8289814110727391174 (index 78) to leader 2
client write log 2012666888487981667 (index 79) to leader 2
client write log 8612981259964518599 (index 80) to leader 2
flag 98569 term 13 leader 2 nextIndex[0]: 65  matchIndex[0]: 64
term 13 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 13 leaderCommit: 65 
------------------------------------------------------
flag 48909 term 13 leader 2 nextIndex[1]: 66  matchIndex[1]: 65
term 13 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 13 leaderCommit: 65 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=80
leader log:
[{snapshot 11 59} {7347845760592006411 11 60} {1622637438101407309 11 61} {3856642412931063388 11 62} {1984910035080409658 11 63} {1984910035080409658 13 64} {8130311438052723558 13 65} {8608018677685970442 13 66} {7086441727187316974 13 67} {2246606760044980070 13 68} {1874505026244296916 13 69} {5865607497471244869 13 70} {8825725415632260137 13 71} {2505076721360260092 13 72} {284888344918275928 13 73} {5001239326836390085 13 74} {449851027214191869 13 75} {3461800812902277060 13 76} {7737170633072112301 13 77} {8289814110727391174 13 78} {2012666888487981667 13 79} {8612981259964518599 13 80}]
------------------------------------------------------
term 13 Server2 start snapshot! index=69
term 13 server2 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=80
-------------------------------------------------------------
term 13 Server2 start snapshot! index=79
term 13 server2 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=80
-------------------------------------------------------------
term 13 leader 2 nextIndex[0]: 65  matchIndex[0]: 64
term 13 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 13
------------------------------------------------------
flag 44460 term 13 leader 2 nextIndex[1]: 81  matchIndex[1]: 80
term 13 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=80
leader log:
[{snapshot 13 79} {8612981259964518599 13 80}]
------------------------------------------------------
term 13 Server1 start snapshot! index=69
term 13 server1 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=80
-------------------------------------------------------------
term 13 Server1 start snapshot! index=79
term 13 server1 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=80
-------------------------------------------------------------
!!!!!!connect server 0
client write log 3688938637597811206 (index 81) to leader 2
term 13 leader 2 nextIndex[0]: 65  matchIndex[0]: 64
term 13 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 13
------------------------------------------------------
flag 66017 term 13 leader 2 nextIndex[1]: 81  matchIndex[1]: 80
term 13 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {8612981259964518599 13 80} {3688938637597811206 13 81}]
------------------------------------------------------
term 14 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 13 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 14 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 15 server 1 vote for server 2
term 15 server 0 vote for server 2
term 15 server 2 get vote from server 1
term 15 server 2 become leader
------------------------------------------------------
term 15 server 2 get outdate rpc reply from server 0
flag 79353 term 15 leader 2 nextIndex[0]: 82  matchIndex[0]: 0
term 15 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
flag 70285 term 15 leader 2 nextIndex[1]: 82  matchIndex[1]: 0
term 15 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
term 15 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 82->81
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {8612981259964518599 13 80} {3688938637597811206 13 81}]
------------------------------------------------------
term 15 leader 2 nextIndex[0]: 65  matchIndex[0]: 0
term 15 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 13
------------------------------------------------------
flag 304 term 15 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 15 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {8612981259964518599 13 80} {3688938637597811206 13 81}]
------------------------------------------------------
term 15 server 0 InstallSnapshot success
------------------------------------------------------
term 15 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 80 matchIndex[0] 79 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 79 rf.lastIncludedTerm 13 rf.commitIndex 79 rf.lastApplied 79
flag 42003 term 15 leader 2 nextIndex[0]: 80  matchIndex[0]: 79
term 15 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
flag 5479 term 15 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 15 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {8612981259964518599 13 80} {3688938637597811206 13 81}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {8612981259964518599 13 80} {3688938637597811206 13 81}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92982 term 15 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 15 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
flag 63963 term 15 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 15 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {8612981259964518599 13 80} {3688938637597811206 13 81}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {8612981259964518599 13 80} {3688938637597811206 13 81}]
------------------------------------------------------
flag 30180 term 15 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 15 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
flag 937 term 15 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 15 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {8612981259964518599 13 80} {3688938637597811206 13 81}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {8612981259964518599 13 80} {3688938637597811206 13 81}]
------------------------------------------------------
flag 74192 term 15 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 15 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
flag 5721 term 15 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 15 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {8612981259964518599 13 80} {3688938637597811206 13 81}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {8612981259964518599 13 80} {3688938637597811206 13 81}]
------------------------------------------------------
term 15 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 83236 term 15 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 15 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
flag 3611 term 15 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 15 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {8612981259964518599 13 80} {3688938637597811206 13 81}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {8612981259964518599 13 80} {3688938637597811206 13 81}]
------------------------------------------------------
flag 79870 term 15 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 15 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
flag 71383 term 15 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 15 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {8612981259964518599 13 80} {3688938637597811206 13 81}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {8612981259964518599 13 80} {3688938637597811206 13 81}]
------------------------------------------------------
flag 59850 term 15 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 15 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
flag 30968 term 15 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 15 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {8612981259964518599 13 80} {3688938637597811206 13 81}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {8612981259964518599 13 80} {3688938637597811206 13 81}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 87368 term 15 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 15 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
flag 50716 term 15 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 15 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
flag 33843 term 15 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 15 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
flag 38119 term 15 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 15 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
flag 96191 term 15 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 15 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
flag 15391 term 15 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 15 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86896 term 15 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 15 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
flag 7112 term 15 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 15 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
term 16 server 0 vote for server 1
term 16 server 1 get vote from server 0
term 16 server 1 become leader
------------------------------------------------------
flag 78282 term 16 leader 1 nextIndex[0]: 82  matchIndex[0]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
flag 51733 term 16 leader 1 nextIndex[2]: 82  matchIndex[2]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=82
update matchIndex[0]=81
update leader CommitIndex=81
leader log:
[{snapshot 13 79} {8612981259964518599 13 80} {3688938637597811206 13 81}]
------------------------------------------------------
client write log 8416623810620516861 (index 82) to leader 1
flag 12070 term 15 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 15 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
flag 7817 term 15 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 15 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
flag 83053 term 16 leader 1 nextIndex[0]: 82  matchIndex[0]: 81
term 16 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
flag 47863 term 16 leader 1 nextIndex[2]: 82  matchIndex[2]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=82
leader log:
[{snapshot 13 79} {8612981259964518599 13 80} {3688938637597811206 13 81} {8416623810620516861 16 82}]
------------------------------------------------------
flag 4126 term 15 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 15 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
flag 93611 term 15 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 15 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
flag 15335 term 16 leader 1 nextIndex[0]: 83  matchIndex[0]: 82
term 16 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 16 leaderCommit: 82 
------------------------------------------------------
flag 81095 term 16 leader 1 nextIndex[2]: 82  matchIndex[2]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 82 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=82
leader log:
[{snapshot 13 79} {8612981259964518599 13 80} {3688938637597811206 13 81} {8416623810620516861 16 82}]
------------------------------------------------------
client write log 2899552976338153761 (index 83) to leader 1
flag 23489 term 15 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 15 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
flag 86382 term 15 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 15 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
flag 90028 term 16 leader 1 nextIndex[0]: 83  matchIndex[0]: 82
term 16 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 16 leaderCommit: 82 
------------------------------------------------------
flag 33278 term 16 leader 1 nextIndex[2]: 82  matchIndex[2]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 82 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 13 79} {8612981259964518599 13 80} {3688938637597811206 13 81} {8416623810620516861 16 82} {2899552976338153761 16 83}]
------------------------------------------------------
flag 30375 term 15 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 15 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
flag 46138 term 15 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 15 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
flag 13797 term 16 leader 1 nextIndex[0]: 84  matchIndex[0]: 83
term 16 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
flag 29149 term 16 leader 1 nextIndex[2]: 82  matchIndex[2]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 13 79} {8612981259964518599 13 80} {3688938637597811206 13 81} {8416623810620516861 16 82} {2899552976338153761 16 83}]
------------------------------------------------------
!!!!!!connect server 2
client write log 1714188464358114217 (index 84) to leader 1
flag 16783 term 15 leader 2 nextIndex[0]: 82  matchIndex[0]: 81
term 15 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
flag 70084 term 15 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 15 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
term 16 server 1 AppendEntries false 领导者任期过期 args.Term 15
------------------------------------------------------
term 16 server 0 AppendEntries false 领导者任期过期 args.Term 15
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13155 term 16 leader 1 nextIndex[0]: 84  matchIndex[0]: 83
term 16 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
flag 75601 term 16 leader 1 nextIndex[2]: 82  matchIndex[2]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=84
leader log:
[{snapshot 13 79} {8612981259964518599 13 80} {3688938637597811206 13 81} {8416623810620516861 16 82} {2899552976338153761 16 83} {1714188464358114217 16 84}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=85
update matchIndex[2]=84
update leader CommitIndex=84
leader log:
[{snapshot 13 79} {8612981259964518599 13 80} {3688938637597811206 13 81} {8416623810620516861 16 82} {2899552976338153761 16 83} {1714188464358114217 16 84}]
------------------------------------------------------
flag 37498 term 16 leader 1 nextIndex[0]: 85  matchIndex[0]: 84
term 16 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 16 leaderCommit: 84 
------------------------------------------------------
flag 10141 term 16 leader 1 nextIndex[2]: 85  matchIndex[2]: 84
term 16 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 16 leaderCommit: 84 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:84 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=85
update matchIndex[2]=84
update leader CommitIndex=84
leader log:
[{snapshot 13 79} {8612981259964518599 13 80} {3688938637597811206 13 81} {8416623810620516861 16 82} {2899552976338153761 16 83} {1714188464358114217 16 84}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=84
leader log:
[{snapshot 13 79} {8612981259964518599 13 80} {3688938637597811206 13 81} {8416623810620516861 16 82} {2899552976338153761 16 83} {1714188464358114217 16 84}]
------------------------------------------------------
flag 78662 term 16 leader 1 nextIndex[0]: 85  matchIndex[0]: 84
term 16 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 16 leaderCommit: 84 
------------------------------------------------------
flag 97241 term 16 leader 1 nextIndex[2]: 85  matchIndex[2]: 84
term 16 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 16 leaderCommit: 84 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:84 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=85
update matchIndex[2]=84
update leader CommitIndex=84
leader log:
[{snapshot 13 79} {8612981259964518599 13 80} {3688938637597811206 13 81} {8416623810620516861 16 82} {2899552976338153761 16 83} {1714188464358114217 16 84}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=84
leader log:
[{snapshot 13 79} {8612981259964518599 13 80} {3688938637597811206 13 81} {8416623810620516861 16 82} {2899552976338153761 16 83} {1714188464358114217 16 84}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74546 term 16 leader 1 nextIndex[0]: 85  matchIndex[0]: 84
term 16 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 16 leaderCommit: 84 
------------------------------------------------------
flag 95639 term 16 leader 1 nextIndex[2]: 85  matchIndex[2]: 84
term 16 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 16 leaderCommit: 84 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:84 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=85
update matchIndex[2]=84
update leader CommitIndex=84
leader log:
[{snapshot 13 79} {8612981259964518599 13 80} {3688938637597811206 13 81} {8416623810620516861 16 82} {2899552976338153761 16 83} {1714188464358114217 16 84}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=84
leader log:
[{snapshot 13 79} {8612981259964518599 13 80} {3688938637597811206 13 81} {8416623810620516861 16 82} {2899552976338153761 16 83} {1714188464358114217 16 84}]
------------------------------------------------------
flag 74838 term 16 leader 1 nextIndex[0]: 85  matchIndex[0]: 84
term 16 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 16 leaderCommit: 84 
------------------------------------------------------
flag 36817 term 16 leader 1 nextIndex[2]: 85  matchIndex[2]: 84
term 16 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 16 leaderCommit: 84 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:84 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=85
update matchIndex[2]=84
update leader CommitIndex=84
leader log:
[{snapshot 13 79} {8612981259964518599 13 80} {3688938637597811206 13 81} {8416623810620516861 16 82} {2899552976338153761 16 83} {1714188464358114217 16 84}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=84
leader log:
[{snapshot 13 79} {8612981259964518599 13 80} {3688938637597811206 13 81} {8416623810620516861 16 82} {2899552976338153761 16 83} {1714188464358114217 16 84}]
------------------------------------------------------
flag 19720 term 16 leader 1 nextIndex[0]: 85  matchIndex[0]: 84
term 16 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 16 leaderCommit: 84 
------------------------------------------------------
flag 5875 term 16 leader 1 nextIndex[2]: 85  matchIndex[2]: 84
term 16 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 16 leaderCommit: 84 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=85
update matchIndex[2]=84
update leader CommitIndex=84
leader log:
[{snapshot 13 79} {8612981259964518599 13 80} {3688938637597811206 13 81} {8416623810620516861 16 82} {2899552976338153761 16 83} {1714188464358114217 16 84}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=84
leader log:
[{snapshot 13 79} {8612981259964518599 13 80} {3688938637597811206 13 81} {8416623810620516861 16 82} {2899552976338153761 16 83} {1714188464358114217 16 84}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77920 term 16 leader 1 nextIndex[0]: 85  matchIndex[0]: 84
term 16 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 16 leaderCommit: 84 
------------------------------------------------------
flag 4860 term 16 leader 1 nextIndex[2]: 85  matchIndex[2]: 84
term 16 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 16 leaderCommit: 84 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=85
update matchIndex[2]=84
update leader CommitIndex=84
leader log:
[{snapshot 13 79} {8612981259964518599 13 80} {3688938637597811206 13 81} {8416623810620516861 16 82} {2899552976338153761 16 83} {1714188464358114217 16 84}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=84
leader log:
[{snapshot 13 79} {8612981259964518599 13 80} {3688938637597811206 13 81} {8416623810620516861 16 82} {2899552976338153761 16 83} {1714188464358114217 16 84}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 8808563462633627522 (index 85) to leader 1
flag 72890 term 16 leader 1 nextIndex[0]: 85  matchIndex[0]: 84
term 16 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 16 leaderCommit: 84 
------------------------------------------------------
flag 44086 term 16 leader 1 nextIndex[2]: 85  matchIndex[2]: 84
term 16 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 16 leaderCommit: 84 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=85
leader log:
[{snapshot 13 79} {8612981259964518599 13 80} {3688938637597811206 13 81} {8416623810620516861 16 82} {2899552976338153761 16 83} {1714188464358114217 16 84} {8808563462633627522 16 85}]
------------------------------------------------------
flag 25352 term 16 leader 1 nextIndex[0]: 86  matchIndex[0]: 85
term 16 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 16 leaderCommit: 85 
------------------------------------------------------
flag 44052 term 16 leader 1 nextIndex[2]: 85  matchIndex[2]: 84
term 16 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 16 leaderCommit: 85 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=85
leader log:
[{snapshot 13 79} {8612981259964518599 13 80} {3688938637597811206 13 81} {8416623810620516861 16 82} {2899552976338153761 16 83} {1714188464358114217 16 84} {8808563462633627522 16 85}]
------------------------------------------------------
client write log 7183809954764993311 (index 86) to leader 1
client write log 7738205987937650134 (index 87) to leader 1
client write log 5454352957037560938 (index 88) to leader 1
client write log 266010748289234678 (index 89) to leader 1
client write log 2252924589359625056 (index 90) to leader 1
client write log 1360363319949703983 (index 91) to leader 1
client write log 1750882712837081982 (index 92) to leader 1
client write log 2196856647605495944 (index 93) to leader 1
client write log 260228292747344332 (index 94) to leader 1
client write log 7079912918709049221 (index 95) to leader 1
client write log 6627200189096099982 (index 96) to leader 1
client write log 8210875702269524928 (index 97) to leader 1
client write log 4365125291475408564 (index 98) to leader 1
flag 84076 term 16 leader 1 nextIndex[0]: 86  matchIndex[0]: 85
term 16 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 16 leaderCommit: 85 
------------------------------------------------------
flag 96467 term 16 leader 1 nextIndex[2]: 85  matchIndex[2]: 84
term 16 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 16 leaderCommit: 85 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=98
leader log:
[{snapshot 13 79} {8612981259964518599 13 80} {3688938637597811206 13 81} {8416623810620516861 16 82} {2899552976338153761 16 83} {1714188464358114217 16 84} {8808563462633627522 16 85} {7183809954764993311 16 86} {7738205987937650134 16 87} {5454352957037560938 16 88} {266010748289234678 16 89} {2252924589359625056 16 90} {1360363319949703983 16 91} {1750882712837081982 16 92} {2196856647605495944 16 93} {260228292747344332 16 94} {7079912918709049221 16 95} {6627200189096099982 16 96} {8210875702269524928 16 97} {4365125291475408564 16 98}]
------------------------------------------------------
term 16 Server1 start snapshot! index=89
term 16 server1 snapshot success
lastIncludedIndex=89 lastApplied=90 lastIndex=98
-------------------------------------------------------------
term 17 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 54534 term 16 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 16 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
term 16 leader 1 nextIndex[2]: 85  matchIndex[2]: 84
term 16 leader 1 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 16
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=98
leader log:
[{snapshot 16 89} {2252924589359625056 16 90} {1360363319949703983 16 91} {1750882712837081982 16 92} {2196856647605495944 16 93} {260228292747344332 16 94} {7079912918709049221 16 95} {6627200189096099982 16 96} {8210875702269524928 16 97} {4365125291475408564 16 98}]
------------------------------------------------------
term 16 Server0 start snapshot! index=89
term 16 server0 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=98
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!connect server 2
client write log 1394802795044030922 (index 99) to leader 1
flag 16197 term 16 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 16 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
term 16 leader 1 nextIndex[2]: 85  matchIndex[2]: 84
term 16 leader 1 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 16
------------------------------------------------------
term 17 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 16 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 18 server 2 vote for server 1
term 18 server 1 get vote from server 2
term 18 server 1 become leader
------------------------------------------------------
term 18 server 0 vote for server 1
term 18 server 1 get outdate rpc reply from server 0
flag 77859 term 18 leader 1 nextIndex[0]: 100  matchIndex[0]: 0
term 18 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
flag 21879 term 18 leader 1 nextIndex[2]: 100  matchIndex[2]: 0
term 18 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 16 89} {2252924589359625056 16 90} {1360363319949703983 16 91} {1750882712837081982 16 92} {2196856647605495944 16 93} {260228292747344332 16 94} {7079912918709049221 16 95} {6627200189096099982 16 96} {8210875702269524928 16 97} {4365125291475408564 16 98} {1394802795044030922 16 99}]
------------------------------------------------------
term 18 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 100->99
------------------------------------------------------
term 18 server 1 not vote for server 0, 任期不够新
term 18 server 0 get outdate rpc reply from server 1
flag 20772 term 18 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 18 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
term 18 leader 1 nextIndex[2]: 85  matchIndex[2]: 0
term 18 leader 1 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 16
------------------------------------------------------
term 18 server 2 InstallSnapshot success
------------------------------------------------------
term 18 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 90 matchIndex[2] 89 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 89 rf.lastIncludedTerm 16 rf.commitIndex 89 rf.lastApplied 89
term 18 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 16 89} {2252924589359625056 16 90} {1360363319949703983 16 91} {1750882712837081982 16 92} {2196856647605495944 16 93} {260228292747344332 16 94} {7079912918709049221 16 95} {6627200189096099982 16 96} {8210875702269524928 16 97} {4365125291475408564 16 98} {1394802795044030922 16 99}]
------------------------------------------------------
term 18 server 0 not vote for server 2, 任期不够新
term 18 server 2 get outdate rpc reply from server 0
flag 91766 term 18 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 18 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
flag 10981 term 18 leader 1 nextIndex[2]: 90  matchIndex[2]: 89
term 18 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 16 89} {2252924589359625056 16 90} {1360363319949703983 16 91} {1750882712837081982 16 92} {2196856647605495944 16 93} {260228292747344332 16 94} {7079912918709049221 16 95} {6627200189096099982 16 96} {8210875702269524928 16 97} {4365125291475408564 16 98} {1394802795044030922 16 99}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=98
leader log:
[{snapshot 16 89} {2252924589359625056 16 90} {1360363319949703983 16 91} {1750882712837081982 16 92} {2196856647605495944 16 93} {260228292747344332 16 94} {7079912918709049221 16 95} {6627200189096099982 16 96} {8210875702269524928 16 97} {4365125291475408564 16 98} {1394802795044030922 16 99}]
------------------------------------------------------
flag 69552 term 18 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 18 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
flag 33691 term 18 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 18 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=98
leader log:
term 18 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
[{snapshot 16 89} {2252924589359625056 16 90} {1360363319949703983 16 91} {1750882712837081982 16 92} {2196856647605495944 16 93} {260228292747344332 16 94} {7079912918709049221 16 95} {6627200189096099982 16 96} {8210875702269524928 16 97} {4365125291475408564 16 98} {1394802795044030922 16 99}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 16 89} {2252924589359625056 16 90} {1360363319949703983 16 91} {1750882712837081982 16 92} {2196856647605495944 16 93} {260228292747344332 16 94} {7079912918709049221 16 95} {6627200189096099982 16 96} {8210875702269524928 16 97} {4365125291475408564 16 98} {1394802795044030922 16 99}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42814 term 18 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 18 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
flag 79764 term 18 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 18 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=98
leader log:
[{snapshot 16 89} {2252924589359625056 16 90} {1360363319949703983 16 91} {1750882712837081982 16 92} {2196856647605495944 16 93} {260228292747344332 16 94} {7079912918709049221 16 95} {6627200189096099982 16 96} {8210875702269524928 16 97} {4365125291475408564 16 98} {1394802795044030922 16 99}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 16 89} {2252924589359625056 16 90} {1360363319949703983 16 91} {1750882712837081982 16 92} {2196856647605495944 16 93} {260228292747344332 16 94} {7079912918709049221 16 95} {6627200189096099982 16 96} {8210875702269524928 16 97} {4365125291475408564 16 98} {1394802795044030922 16 99}]
------------------------------------------------------
flag 51207 term 18 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 18 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
flag 13159 term 18 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 18 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 16 89} {2252924589359625056 16 90} {1360363319949703983 16 91} {1750882712837081982 16 92} {2196856647605495944 16 93} {260228292747344332 16 94} {7079912918709049221 16 95} {6627200189096099982 16 96} {8210875702269524928 16 97} {4365125291475408564 16 98} {1394802795044030922 16 99}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=98
leader log:
[{snapshot 16 89} {2252924589359625056 16 90} {1360363319949703983 16 91} {1750882712837081982 16 92} {2196856647605495944 16 93} {260228292747344332 16 94} {7079912918709049221 16 95} {6627200189096099982 16 96} {8210875702269524928 16 97} {4365125291475408564 16 98} {1394802795044030922 16 99}]
------------------------------------------------------
flag 89815 term 18 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 18 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
flag 93795 term 18 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 18 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=98
leader log:
[{snapshot 16 89} {2252924589359625056 16 90} {1360363319949703983 16 91} {1750882712837081982 16 92} {2196856647605495944 16 93} {260228292747344332 16 94} {7079912918709049221 16 95} {6627200189096099982 16 96} {8210875702269524928 16 97} {4365125291475408564 16 98} {1394802795044030922 16 99}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 16 89} {2252924589359625056 16 90} {1360363319949703983 16 91} {1750882712837081982 16 92} {2196856647605495944 16 93} {260228292747344332 16 94} {7079912918709049221 16 95} {6627200189096099982 16 96} {8210875702269524928 16 97} {4365125291475408564 16 98} {1394802795044030922 16 99}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 18 server 2 not vote for server 0, 任期不够新
term 18 server 0 get outdate rpc reply from server 2
flag 7445 term 18 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 18 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
flag 88931 term 18 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 18 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 16 89} {2252924589359625056 16 90} {1360363319949703983 16 91} {1750882712837081982 16 92} {2196856647605495944 16 93} {260228292747344332 16 94} {7079912918709049221 16 95} {6627200189096099982 16 96} {8210875702269524928 16 97} {4365125291475408564 16 98} {1394802795044030922 16 99}]
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=98
leader log:
[{snapshot 16 89} {2252924589359625056 16 90} {1360363319949703983 16 91} {1750882712837081982 16 92} {2196856647605495944 16 93} {260228292747344332 16 94} {7079912918709049221 16 95} {6627200189096099982 16 96} {8210875702269524928 16 97} {4365125291475408564 16 98} {1394802795044030922 16 99}]
------------------------------------------------------
flag 70157 term 18 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 18 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
flag 23347 term 18 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 18 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 16 89} {2252924589359625056 16 90} {1360363319949703983 16 91} {1750882712837081982 16 92} {2196856647605495944 16 93} {260228292747344332 16 94} {7079912918709049221 16 95} {6627200189096099982 16 96} {8210875702269524928 16 97} {4365125291475408564 16 98} {1394802795044030922 16 99}]
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=98
leader log:
[{snapshot 16 89} {2252924589359625056 16 90} {1360363319949703983 16 91} {1750882712837081982 16 92} {2196856647605495944 16 93} {260228292747344332 16 94} {7079912918709049221 16 95} {6627200189096099982 16 96} {8210875702269524928 16 97} {4365125291475408564 16 98} {1394802795044030922 16 99}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23954 term 18 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 18 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
flag 62709 term 18 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 18 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=98
leader log:
[{snapshot 16 89} {2252924589359625056 16 90} {1360363319949703983 16 91} {1750882712837081982 16 92} {2196856647605495944 16 93} {260228292747344332 16 94} {7079912918709049221 16 95} {6627200189096099982 16 96} {8210875702269524928 16 97} {4365125291475408564 16 98} {1394802795044030922 16 99}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 16 89} {2252924589359625056 16 90} {1360363319949703983 16 91} {1750882712837081982 16 92} {2196856647605495944 16 93} {260228292747344332 16 94} {7079912918709049221 16 95} {6627200189096099982 16 96} {8210875702269524928 16 97} {4365125291475408564 16 98} {1394802795044030922 16 99}]
------------------------------------------------------
flag 17733 term 18 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 18 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
flag 65711 term 18 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 18 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=98
leader log:
[{snapshot 16 89} {2252924589359625056 16 90} {1360363319949703983 16 91} {1750882712837081982 16 92} {2196856647605495944 16 93} {260228292747344332 16 94} {7079912918709049221 16 95} {6627200189096099982 16 96} {8210875702269524928 16 97} {4365125291475408564 16 98} {1394802795044030922 16 99}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 16 89} {2252924589359625056 16 90} {1360363319949703983 16 91} {1750882712837081982 16 92} {2196856647605495944 16 93} {260228292747344332 16 94} {7079912918709049221 16 95} {6627200189096099982 16 96} {8210875702269524928 16 97} {4365125291475408564 16 98} {1394802795044030922 16 99}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80337 term 18 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 18 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
flag 58198 term 18 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 18 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=98
leader log:
[{snapshot 16 89} {2252924589359625056 16 90} {1360363319949703983 16 91} {1750882712837081982 16 92} {2196856647605495944 16 93} {260228292747344332 16 94} {7079912918709049221 16 95} {6627200189096099982 16 96} {8210875702269524928 16 97} {4365125291475408564 16 98} {1394802795044030922 16 99}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 16 89} {2252924589359625056 16 90} {1360363319949703983 16 91} {1750882712837081982 16 92} {2196856647605495944 16 93} {260228292747344332 16 94} {7079912918709049221 16 95} {6627200189096099982 16 96} {8210875702269524928 16 97} {4365125291475408564 16 98} {1394802795044030922 16 99}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29844 term 18 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 18 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
flag 43689 term 18 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 18 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=98
leader log:
[{snapshot 16 89} {2252924589359625056 16 90} {1360363319949703983 16 91} {1750882712837081982 16 92} {2196856647605495944 16 93} {260228292747344332 16 94} {7079912918709049221 16 95} {6627200189096099982 16 96} {8210875702269524928 16 97} {4365125291475408564 16 98} {1394802795044030922 16 99}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 16 89} {2252924589359625056 16 90} {1360363319949703983 16 91} {1750882712837081982 16 92} {2196856647605495944 16 93} {260228292747344332 16 94} {7079912918709049221 16 95} {6627200189096099982 16 96} {8210875702269524928 16 97} {4365125291475408564 16 98} {1394802795044030922 16 99}]
------------------------------------------------------
flag 55559 term 18 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 18 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
flag 32977 term 18 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 18 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=98
leader log:
term 18 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
[{snapshot 16 89} {2252924589359625056 16 90} {1360363319949703983 16 91} {1750882712837081982 16 92} {2196856647605495944 16 93} {260228292747344332 16 94} {7079912918709049221 16 95} {6627200189096099982 16 96} {8210875702269524928 16 97} {4365125291475408564 16 98} {1394802795044030922 16 99}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 16 89} {2252924589359625056 16 90} {1360363319949703983 16 91} {1750882712837081982 16 92} {2196856647605495944 16 93} {260228292747344332 16 94} {7079912918709049221 16 95} {6627200189096099982 16 96} {8210875702269524928 16 97} {4365125291475408564 16 98} {1394802795044030922 16 99}]
------------------------------------------------------
flag 25659 term 18 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 18 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
flag 82002 term 18 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 18 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=98
leader log:
[{snapshot 16 89} {2252924589359625056 16 90} {1360363319949703983 16 91} {1750882712837081982 16 92} {2196856647605495944 16 93} {260228292747344332 16 94} {7079912918709049221 16 95} {6627200189096099982 16 96} {8210875702269524928 16 97} {4365125291475408564 16 98} {1394802795044030922 16 99}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 16 89} {2252924589359625056 16 90} {1360363319949703983 16 91} {1750882712837081982 16 92} {2196856647605495944 16 93} {260228292747344332 16 94} {7079912918709049221 16 95} {6627200189096099982 16 96} {8210875702269524928 16 97} {4365125291475408564 16 98} {1394802795044030922 16 99}]
------------------------------------------------------
term 18 server 2 not vote for server 1, 任期不够新
term 18 server 1 get outdate rpc reply from server 2
flag 31203 term 18 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 18 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
flag 86760 term 18 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 18 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=98
leader log:
[{snapshot 16 89} {2252924589359625056 16 90} {1360363319949703983 16 91} {1750882712837081982 16 92} {2196856647605495944 16 93} {260228292747344332 16 94} {7079912918709049221 16 95} {6627200189096099982 16 96} {8210875702269524928 16 97} {4365125291475408564 16 98} {1394802795044030922 16 99}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 16 89} {2252924589359625056 16 90} {1360363319949703983 16 91} {1750882712837081982 16 92} {2196856647605495944 16 93} {260228292747344332 16 94} {7079912918709049221 16 95} {6627200189096099982 16 96} {8210875702269524928 16 97} {4365125291475408564 16 98} {1394802795044030922 16 99}]
------------------------------------------------------
term 18 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 16637 term 18 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 18 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
flag 94392 term 18 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 18 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 16 89} {2252924589359625056 16 90} {1360363319949703983 16 91} {1750882712837081982 16 92} {2196856647605495944 16 93} {260228292747344332 16 94} {7079912918709049221 16 95} {6627200189096099982 16 96} {8210875702269524928 16 97} {4365125291475408564 16 98} {1394802795044030922 16 99}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=98
leader log:
[{snapshot 16 89} {2252924589359625056 16 90} {1360363319949703983 16 91} {1750882712837081982 16 92} {2196856647605495944 16 93} {260228292747344332 16 94} {7079912918709049221 16 95} {6627200189096099982 16 96} {8210875702269524928 16 97} {4365125291475408564 16 98} {1394802795044030922 16 99}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14738 term 18 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 18 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
flag 58859 term 18 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 18 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 16 89} {2252924589359625056 16 90} {1360363319949703983 16 91} {1750882712837081982 16 92} {2196856647605495944 16 93} {260228292747344332 16 94} {7079912918709049221 16 95} {6627200189096099982 16 96} {8210875702269524928 16 97} {4365125291475408564 16 98} {1394802795044030922 16 99}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=98
leader log:
[{snapshot 16 89} {2252924589359625056 16 90} {1360363319949703983 16 91} {1750882712837081982 16 92} {2196856647605495944 16 93} {260228292747344332 16 94} {7079912918709049221 16 95} {6627200189096099982 16 96} {8210875702269524928 16 97} {4365125291475408564 16 98} {1394802795044030922 16 99}]
------------------------------------------------------
client write log 1394802795044030922 (index 100) to leader 1
flag 91247 term 18 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 18 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
flag 39034 term 18 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 18 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=101
update matchIndex[2]=100
update leader CommitIndex=100
leader log:
[{snapshot 16 89} {2252924589359625056 16 90} {1360363319949703983 16 91} {1750882712837081982 16 92} {2196856647605495944 16 93} {260228292747344332 16 94} {7079912918709049221 16 95} {6627200189096099982 16 96} {8210875702269524928 16 97} {4365125291475408564 16 98} {1394802795044030922 16 99} {1394802795044030922 18 100}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=101
update matchIndex[0]=100
update leader CommitIndex=100
leader log:
[{snapshot 16 89} {2252924589359625056 16 90} {1360363319949703983 16 91} {1750882712837081982 16 92} {2196856647605495944 16 93} {260228292747344332 16 94} {7079912918709049221 16 95} {6627200189096099982 16 96} {8210875702269524928 16 97} {4365125291475408564 16 98} {1394802795044030922 16 99} {1394802795044030922 18 100}]
------------------------------------------------------
term 18 Server1 start snapshot! index=99
term 18 server1 snapshot success
lastIncludedIndex=99 lastApplied=100 lastIndex=100
-------------------------------------------------------------
flag 277 term 18 leader 1 nextIndex[0]: 101  matchIndex[0]: 100
term 18 leader 1 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 18 leaderCommit: 100 
------------------------------------------------------
flag 61955 term 18 leader 1 nextIndex[2]: 101  matchIndex[2]: 100
term 18 leader 1 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 18 leaderCommit: 100 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=101
update matchIndex[2]=100
update leader CommitIndex=100
leader log:
[{snapshot 16 99} {1394802795044030922 18 100}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=101
update matchIndex[0]=100
update leader CommitIndex=100
leader log:
[{snapshot 16 99} {1394802795044030922 18 100}]
------------------------------------------------------
term 18 Server2 start snapshot! index=99
term 18 server2 snapshot success
lastIncludedIndex=99 lastApplied=100 lastIndex=100
-------------------------------------------------------------
term 18 Server0 start snapshot! index=99
term 18 server0 snapshot success
lastIncludedIndex=99 lastApplied=100 lastIndex=100
-------------------------------------------------------------
flag 43686 term 18 leader 1 nextIndex[0]: 101  matchIndex[0]: 100
term 18 leader 1 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 18 leaderCommit: 100 
------------------------------------------------------
flag 71322 term 18 leader 1 nextIndex[2]: 101  matchIndex[2]: 100
term 18 leader 1 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 18 leaderCommit: 100 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=101
update matchIndex[2]=100
update leader CommitIndex=100
leader log:
term 18 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
[{snapshot 16 99} {1394802795044030922 18 100}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=101
update matchIndex[0]=100
update leader CommitIndex=100
leader log:
[{snapshot 16 99} {1394802795044030922 18 100}]
------------------------------------------------------
flag 96 term 18 leader 1 nextIndex[0]: 101  matchIndex[0]: 100
term 18 leader 1 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 18 leaderCommit: 100 
------------------------------------------------------
flag 15406 term 18 leader 1 nextIndex[2]: 101  matchIndex[2]: 100
term 18 leader 1 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 18 leaderCommit: 100 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=101
update matchIndex[2]=100
update leader CommitIndex=100
leader log:
[{snapshot 16 99} {1394802795044030922 18 100}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=101
update matchIndex[0]=100
update leader CommitIndex=100
leader log:
[{snapshot 16 99} {1394802795044030922 18 100}]
------------------------------------------------------
flag 68251 term 18 leader 1 nextIndex[0]: 101  matchIndex[0]: 100
term 18 leader 1 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 18 leaderCommit: 100 
------------------------------------------------------
flag 75444 term 18 leader 1 nextIndex[2]: 101  matchIndex[2]: 100
term 18 leader 1 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 18 leaderCommit: 100 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=101
update matchIndex[2]=100
update leader CommitIndex=100
leader log:
[{snapshot 16 99} {1394802795044030922 18 100}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=101
update matchIndex[0]=100
update leader CommitIndex=100
leader log:
[{snapshot 16 99} {1394802795044030922 18 100}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35063 term 18 leader 1 nextIndex[0]: 101  matchIndex[0]: 100
term 18 leader 1 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 18 leaderCommit: 100 
------------------------------------------------------
flag 79434 term 18 leader 1 nextIndex[2]: 101  matchIndex[2]: 100
term 18 leader 1 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 18 leaderCommit: 100 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=101
update matchIndex[2]=100
update leader CommitIndex=100
leader log:
[{snapshot 16 99} {1394802795044030922 18 100}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=101
update matchIndex[0]=100
update leader CommitIndex=100
leader log:
[{snapshot 16 99} {1394802795044030922 18 100}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 2380013969309301783 (index 101) to leader 1
flag 24635 term 18 leader 1 nextIndex[0]: 101  matchIndex[0]: 100
term 18 leader 1 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 18 leaderCommit: 100 
------------------------------------------------------
flag 38675 term 18 leader 1 nextIndex[2]: 101  matchIndex[2]: 100
term 18 leader 1 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 18 leaderCommit: 100 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1394802795044030922 18 100} {2380013969309301783 18 101}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48078 term 18 leader 1 nextIndex[0]: 102  matchIndex[0]: 101
term 18 leader 1 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 18 leaderCommit: 101 
------------------------------------------------------
flag 87558 term 18 leader 1 nextIndex[2]: 101  matchIndex[2]: 100
term 18 leader 1 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 18 leaderCommit: 101 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {1394802795044030922 18 100} {2380013969309301783 18 101}]
------------------------------------------------------
client write log 8199225778985317262 (index 102) to leader 1
client write log 4520856356605943205 (index 103) to leader 1
client write log 8036370362821621081 (index 104) to leader 1
client write log 1287078250818669584 (index 105) to leader 1
client write log 3509500523029760151 (index 106) to leader 1
client write log 8345361529420099577 (index 107) to leader 1
client write log 5742052865558230314 (index 108) to leader 1
client write log 1815629683165528380 (index 109) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62215 term 18 leader 1 nextIndex[0]: 102  matchIndex[0]: 101
term 18 leader 1 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 18 leaderCommit: 101 
------------------------------------------------------
flag 4483 term 18 leader 1 nextIndex[2]: 101  matchIndex[2]: 100
term 18 leader 1 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 18 leaderCommit: 101 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=110
update matchIndex[0]=109
update leader CommitIndex=109
leader log:
[{snapshot 16 99} {1394802795044030922 18 100} {2380013969309301783 18 101} {8199225778985317262 18 102} {4520856356605943205 18 103} {8036370362821621081 18 104} {1287078250818669584 18 105} {3509500523029760151 18 106} {8345361529420099577 18 107} {5742052865558230314 18 108} {1815629683165528380 18 109}]
------------------------------------------------------
term 18 Server1 start snapshot! index=109
term 18 server1 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=109
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91784 term 18 leader 1 nextIndex[0]: 110  matchIndex[0]: 109
term 18 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 109 
------------------------------------------------------
term 18 leader 1 nextIndex[2]: 101  matchIndex[2]: 100
term 18 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 18
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=110
update matchIndex[0]=109
update leader CommitIndex=109
leader log:
[{snapshot 18 109}]
------------------------------------------------------
term 18 Server0 start snapshot! index=109
term 18 server0 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=109
-------------------------------------------------------------
!!!!!!connect server 2
client write log 5139278167655390918 (index 110) to leader 1
flag 28953 term 18 leader 1 nextIndex[0]: 110  matchIndex[0]: 109
term 18 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 109 
------------------------------------------------------
term 18 leader 1 nextIndex[2]: 101  matchIndex[2]: 100
term 18 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 18
------------------------------------------------------
term 19 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
term 18 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 20 server 2 vote for server 1
term 20 server 0 vote for server 1
term 20 server 1 get vote from server 2
term 20 server 1 become leader
------------------------------------------------------
term 20 server 1 get outdate rpc reply from server 0
flag 11914 term 20 leader 1 nextIndex[0]: 111  matchIndex[0]: 0
term 20 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 18 leaderCommit: 109 
------------------------------------------------------
flag 71028 term 20 leader 1 nextIndex[2]: 111  matchIndex[2]: 0
term 20 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 18 leaderCommit: 109 
------------------------------------------------------
term 20 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 111->110
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=109
leader log:
[{snapshot 18 109} {5139278167655390918 18 110}]
------------------------------------------------------
flag 13311 term 20 leader 1 nextIndex[0]: 111  matchIndex[0]: 110
term 20 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 18 leaderCommit: 109 
------------------------------------------------------
term 20 leader 1 nextIndex[2]: 101  matchIndex[2]: 0
term 20 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 18
------------------------------------------------------
term 20 server 2 InstallSnapshot success
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 109 rf.lastIncludedTerm 18 rf.commitIndex 109 rf.lastApplied 109
term 20 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 110 matchIndex[2] 109 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=109
leader log:
[{snapshot 18 109} {5139278167655390918 18 110}]
------------------------------------------------------
flag 71930 term 20 leader 1 nextIndex[0]: 111  matchIndex[0]: 110
term 20 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 18 leaderCommit: 109 
------------------------------------------------------
flag 18389 term 20 leader 1 nextIndex[2]: 110  matchIndex[2]: 109
term 20 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 109 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=109
leader log:
[{snapshot 18 109} {5139278167655390918 18 110}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=109
leader log:
[{snapshot 18 109} {5139278167655390918 18 110}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90523 term 20 leader 1 nextIndex[0]: 111  matchIndex[0]: 110
term 20 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 18 leaderCommit: 109 
------------------------------------------------------
flag 16561 term 20 leader 1 nextIndex[2]: 111  matchIndex[2]: 110
term 20 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 18 leaderCommit: 109 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=109
leader log:
[{snapshot 18 109} {5139278167655390918 18 110}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=109
leader log:
[{snapshot 18 109} {5139278167655390918 18 110}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32408 term 20 leader 1 nextIndex[0]: 111  matchIndex[0]: 110
term 20 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 18 leaderCommit: 109 
------------------------------------------------------
flag 10823 term 20 leader 1 nextIndex[2]: 111  matchIndex[2]: 110
term 20 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 18 leaderCommit: 109 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=109
leader log:
[{snapshot 18 109} {5139278167655390918 18 110}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=109
leader log:
[{snapshot 18 109} {5139278167655390918 18 110}]
------------------------------------------------------
flag 4469 term 20 leader 1 nextIndex[0]: 111  matchIndex[0]: 110
term 20 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 18 leaderCommit: 109 
------------------------------------------------------
flag 82591 term 20 leader 1 nextIndex[2]: 111  matchIndex[2]: 110
term 20 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 18 leaderCommit: 109 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=109
leader log:
[{snapshot 18 109} {5139278167655390918 18 110}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=109
leader log:
[{snapshot 18 109} {5139278167655390918 18 110}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96793 term 20 leader 1 nextIndex[0]: 111  matchIndex[0]: 110
term 20 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 18 leaderCommit: 109 
------------------------------------------------------
flag 39075 term 20 leader 1 nextIndex[2]: 111  matchIndex[2]: 110
term 20 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 18 leaderCommit: 109 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=109
leader log:
[{snapshot 18 109} {5139278167655390918 18 110}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=109
leader log:
[{snapshot 18 109} {5139278167655390918 18 110}]
------------------------------------------------------
flag 88173 term 20 leader 1 nextIndex[0]: 111  matchIndex[0]: 110
term 20 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 18 leaderCommit: 109 
------------------------------------------------------
flag 87453 term 20 leader 1 nextIndex[2]: 111  matchIndex[2]: 110
term 20 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 18 leaderCommit: 109 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=109
leader log:
[{snapshot 18 109} {5139278167655390918 18 110}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=109
leader log:
[{snapshot 18 109} {5139278167655390918 18 110}]
------------------------------------------------------
flag 48053 term 20 leader 1 nextIndex[0]: 111  matchIndex[0]: 110
term 20 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 18 leaderCommit: 109 
------------------------------------------------------
flag 23454 term 20 leader 1 nextIndex[2]: 111  matchIndex[2]: 110
term 20 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 18 leaderCommit: 109 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=109
leader log:
[{snapshot 18 109} {5139278167655390918 18 110}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=109
leader log:
[{snapshot 18 109} {5139278167655390918 18 110}]
------------------------------------------------------
term 20 server 1 not vote for server 2, 任期不够新
term 20 server 2 get outdate rpc reply from server 1
flag 96886 term 20 leader 1 nextIndex[0]: 111  matchIndex[0]: 110
term 20 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 18 leaderCommit: 109 
------------------------------------------------------
flag 62015 term 20 leader 1 nextIndex[2]: 111  matchIndex[2]: 110
term 20 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 18 leaderCommit: 109 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=109
leader log:
[{snapshot 18 109} {5139278167655390918 18 110}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=109
leader log:
[{snapshot 18 109} {5139278167655390918 18 110}]
------------------------------------------------------
flag 79792 term 20 leader 1 nextIndex[0]: 111  matchIndex[0]: 110
term 20 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 18 leaderCommit: 109 
------------------------------------------------------
flag 82881 term 20 leader 1 nextIndex[2]: 111  matchIndex[2]: 110
term 20 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 18 leaderCommit: 109 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=109
leader log:
[{snapshot 18 109} {5139278167655390918 18 110}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=109
leader log:
[{snapshot 18 109} {5139278167655390918 18 110}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70141 term 20 leader 1 nextIndex[0]: 111  matchIndex[0]: 110
term 20 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 18 leaderCommit: 109 
------------------------------------------------------
flag 10430 term 20 leader 1 nextIndex[2]: 111  matchIndex[2]: 110
term 20 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 18 leaderCommit: 109 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=109
leader log:
[{snapshot 18 109} {5139278167655390918 18 110}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=109
leader log:
[{snapshot 18 109} {5139278167655390918 18 110}]
------------------------------------------------------
flag 46654 term 20 leader 1 nextIndex[0]: 111  matchIndex[0]: 110
term 20 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 18 leaderCommit: 109 
------------------------------------------------------
flag 60585 term 20 leader 1 nextIndex[2]: 111  matchIndex[2]: 110
term 20 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 18 leaderCommit: 109 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:109 
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=109
leader log:
[{snapshot 18 109} {5139278167655390918 18 110}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=109
leader log:
[{snapshot 18 109} {5139278167655390918 18 110}]
------------------------------------------------------
flag 71757 term 20 leader 1 nextIndex[0]: 111  matchIndex[0]: 110
term 20 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 18 leaderCommit: 109 
------------------------------------------------------
flag 37141 term 20 leader 1 nextIndex[2]: 111  matchIndex[2]: 110
term 20 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 18 leaderCommit: 109 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=109
leader log:
[{snapshot 18 109} {5139278167655390918 18 110}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=109
leader log:
[{snapshot 18 109} {5139278167655390918 18 110}]
------------------------------------------------------
flag 54647 term 20 leader 1 nextIndex[0]: 111  matchIndex[0]: 110
term 20 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 18 leaderCommit: 109 
------------------------------------------------------
flag 61698 term 20 leader 1 nextIndex[2]: 111  matchIndex[2]: 110
term 20 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 18 leaderCommit: 109 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=109
leader log:
[{snapshot 18 109} {5139278167655390918 18 110}]
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=109
leader log:
[{snapshot 18 109} {5139278167655390918 18 110}]
------------------------------------------------------
flag 83983 term 20 leader 1 nextIndex[0]: 111  matchIndex[0]: 110
term 20 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 18 leaderCommit: 109 
------------------------------------------------------
flag 41945 term 20 leader 1 nextIndex[2]: 111  matchIndex[2]: 110
term 20 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 18 leaderCommit: 109 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=109
leader log:
[{snapshot 18 109} {5139278167655390918 18 110}]
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=109
leader log:
[{snapshot 18 109} {5139278167655390918 18 110}]
------------------------------------------------------
flag 86842 term 20 leader 1 nextIndex[0]: 111  matchIndex[0]: 110
term 20 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 18 leaderCommit: 109 
------------------------------------------------------
flag 10314 term 20 leader 1 nextIndex[2]: 111  matchIndex[2]: 110
term 20 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 18 leaderCommit: 109 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=109
leader log:
[{snapshot 18 109} {5139278167655390918 18 110}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=109
leader log:
[{snapshot 18 109} {5139278167655390918 18 110}]
------------------------------------------------------
flag 4000 term 20 leader 1 nextIndex[0]: 111  matchIndex[0]: 110
term 20 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 18 leaderCommit: 109 
------------------------------------------------------
flag 138 term 20 leader 1 nextIndex[2]: 111  matchIndex[2]: 110
term 20 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 18 leaderCommit: 109 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=109
leader log:
[{snapshot 18 109} {5139278167655390918 18 110}]
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=109
leader log:
[{snapshot 18 109} {5139278167655390918 18 110}]
------------------------------------------------------
flag 65439 term 20 leader 1 nextIndex[0]: 111  matchIndex[0]: 110
term 20 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 18 leaderCommit: 109 
------------------------------------------------------
flag 6532 term 20 leader 1 nextIndex[2]: 111  matchIndex[2]: 110
term 20 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 18 leaderCommit: 109 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=109
leader log:
[{snapshot 18 109} {5139278167655390918 18 110}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=109
leader log:
[{snapshot 18 109} {5139278167655390918 18 110}]
------------------------------------------------------
client write log 5139278167655390918 (index 111) to leader 1
flag 34386 term 20 leader 1 nextIndex[0]: 111  matchIndex[0]: 110
term 20 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 18 leaderCommit: 109 
------------------------------------------------------
flag 21792 term 20 leader 1 nextIndex[2]: 111  matchIndex[2]: 110
term 20 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 18 leaderCommit: 109 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=111
leader log:
[{snapshot 18 109} {5139278167655390918 18 110} {5139278167655390918 20 111}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=111
leader log:
[{snapshot 18 109} {5139278167655390918 18 110} {5139278167655390918 20 111}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97070 term 20 leader 1 nextIndex[0]: 112  matchIndex[0]: 111
term 20 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
flag 16070 term 20 leader 1 nextIndex[2]: 112  matchIndex[2]: 111
term 20 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=111
leader log:
[{snapshot 18 109} {5139278167655390918 18 110} {5139278167655390918 20 111}]
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=111
leader log:
[{snapshot 18 109} {5139278167655390918 18 110} {5139278167655390918 20 111}]
------------------------------------------------------
flag 33025 term 20 leader 1 nextIndex[0]: 112  matchIndex[0]: 111
term 20 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
flag 11730 term 20 leader 1 nextIndex[2]: 112  matchIndex[2]: 111
term 20 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=111
leader log:
[{snapshot 18 109} {5139278167655390918 18 110} {5139278167655390918 20 111}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=111
leader log:
[{snapshot 18 109} {5139278167655390918 18 110} {5139278167655390918 20 111}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38083 term 20 leader 1 nextIndex[0]: 112  matchIndex[0]: 111
term 20 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
flag 79807 term 20 leader 1 nextIndex[2]: 112  matchIndex[2]: 111
term 20 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=111
leader log:
[{snapshot 18 109} {5139278167655390918 18 110} {5139278167655390918 20 111}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=111
leader log:
[{snapshot 18 109} {5139278167655390918 18 110} {5139278167655390918 20 111}]
------------------------------------------------------
flag 98280 term 20 leader 1 nextIndex[0]: 112  matchIndex[0]: 111
term 20 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
flag 65106 term 20 leader 1 nextIndex[2]: 112  matchIndex[2]: 111
term 20 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=111
leader log:
[{snapshot 18 109} {5139278167655390918 18 110} {5139278167655390918 20 111}]
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=111
leader log:
[{snapshot 18 109} {5139278167655390918 18 110} {5139278167655390918 20 111}]
------------------------------------------------------
flag 97977 term 20 leader 1 nextIndex[0]: 112  matchIndex[0]: 111
term 20 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
flag 73777 term 20 leader 1 nextIndex[2]: 112  matchIndex[2]: 111
term 20 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=111
leader log:
[{snapshot 18 109} {5139278167655390918 18 110} {5139278167655390918 20 111}]
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=111
leader log:
[{snapshot 18 109} {5139278167655390918 18 110} {5139278167655390918 20 111}]
------------------------------------------------------
flag 15468 term 20 leader 1 nextIndex[0]: 112  matchIndex[0]: 111
term 20 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
flag 25687 term 20 leader 1 nextIndex[2]: 112  matchIndex[2]: 111
term 20 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=111
leader log:
[{snapshot 18 109} {5139278167655390918 18 110} {5139278167655390918 20 111}]
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=111
leader log:
[{snapshot 18 109} {5139278167655390918 18 110} {5139278167655390918 20 111}]
------------------------------------------------------
!!!!!!diconnect server 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79638 term 20 leader 1 nextIndex[0]: 112  matchIndex[0]: 111
term 20 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
flag 53673 term 20 leader 1 nextIndex[2]: 112  matchIndex[2]: 111
term 20 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
flag 61403 term 20 leader 1 nextIndex[0]: 112  matchIndex[0]: 111
term 20 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
flag 92976 term 20 leader 1 nextIndex[2]: 112  matchIndex[2]: 111
term 20 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
flag 41224 term 20 leader 1 nextIndex[0]: 112  matchIndex[0]: 111
term 20 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
flag 96762 term 20 leader 1 nextIndex[2]: 112  matchIndex[2]: 111
term 20 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 112->111
------------------------------------------------------
term 21 server 2 vote for server 0
term 21 server 0 get vote from server 2
term 21 server 0 become leader
------------------------------------------------------
flag 82002 term 21 leader 0 nextIndex[1]: 112  matchIndex[1]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
flag 69889 term 21 leader 0 nextIndex[2]: 112  matchIndex[2]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=111
leader log:
[{snapshot 18 109} {5139278167655390918 18 110} {5139278167655390918 20 111}]
------------------------------------------------------
flag 30365 term 20 leader 1 nextIndex[0]: 112  matchIndex[0]: 111
term 20 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
term 20 leader 1 nextIndex[2]: 0  matchIndex[2]: 111
term 20 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 18
------------------------------------------------------
client write log 536075570770616649 (index 112) to leader 0
flag 29488 term 21 leader 0 nextIndex[1]: 112  matchIndex[1]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
flag 44344 term 21 leader 0 nextIndex[2]: 112  matchIndex[2]: 111
term 21 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=112
leader log:
[{snapshot 18 109} {5139278167655390918 18 110} {5139278167655390918 20 111} {536075570770616649 21 112}]
------------------------------------------------------
flag 30966 term 20 leader 1 nextIndex[0]: 112  matchIndex[0]: 111
term 20 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
term 20 leader 1 nextIndex[2]: 0  matchIndex[2]: 111
term 20 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 18
------------------------------------------------------
flag 79636 term 21 leader 0 nextIndex[1]: 112  matchIndex[1]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 20 leaderCommit: 112 
------------------------------------------------------
flag 64188 term 21 leader 0 nextIndex[2]: 113  matchIndex[2]: 112
term 21 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 21 leaderCommit: 112 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=112
leader log:
[{snapshot 18 109} {5139278167655390918 18 110} {5139278167655390918 20 111} {536075570770616649 21 112}]
------------------------------------------------------
flag 50775 term 20 leader 1 nextIndex[0]: 112  matchIndex[0]: 111
term 20 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
term 20 leader 1 nextIndex[2]: 0  matchIndex[2]: 111
term 20 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 18
------------------------------------------------------
client write log 8011641429374505315 (index 113) to leader 0
term 20 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 7333 term 21 leader 0 nextIndex[1]: 112  matchIndex[1]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 20 leaderCommit: 112 
------------------------------------------------------
flag 30859 term 21 leader 0 nextIndex[2]: 113  matchIndex[2]: 112
term 21 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 21 leaderCommit: 112 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {5139278167655390918 18 110} {5139278167655390918 20 111} {536075570770616649 21 112} {8011641429374505315 21 113}]
------------------------------------------------------
flag 46766 term 20 leader 1 nextIndex[0]: 112  matchIndex[0]: 111
term 20 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
term 20 leader 1 nextIndex[2]: 0  matchIndex[2]: 111
term 20 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 18
------------------------------------------------------
flag 99894 term 21 leader 0 nextIndex[1]: 112  matchIndex[1]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 20 leaderCommit: 113 
------------------------------------------------------
flag 13083 term 21 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 21 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {5139278167655390918 18 110} {5139278167655390918 20 111} {536075570770616649 21 112} {8011641429374505315 21 113}]
------------------------------------------------------
flag 64017 term 20 leader 1 nextIndex[0]: 112  matchIndex[0]: 111
term 20 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
term 20 leader 1 nextIndex[2]: 0  matchIndex[2]: 111
term 20 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 18
------------------------------------------------------
!!!!!!connect server 1
client write log 4257798071386602796 (index 112) to leader 1
flag 21438 term 21 leader 0 nextIndex[1]: 112  matchIndex[1]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 20 leaderCommit: 113 
------------------------------------------------------
flag 37466 term 21 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 21 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {5139278167655390918 18 110} {5139278167655390918 20 111} {536075570770616649 21 112} {8011641429374505315 21 113}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {5139278167655390918 18 110} {5139278167655390918 20 111} {536075570770616649 21 112} {8011641429374505315 21 113}]
------------------------------------------------------
flag 58393 term 21 leader 0 nextIndex[1]: 114  matchIndex[1]: 113
term 21 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
flag 87913 term 21 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 21 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {5139278167655390918 18 110} {5139278167655390918 20 111} {536075570770616649 21 112} {8011641429374505315 21 113}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {5139278167655390918 18 110} {5139278167655390918 20 111} {536075570770616649 21 112} {8011641429374505315 21 113}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69331 term 21 leader 0 nextIndex[1]: 114  matchIndex[1]: 113
term 21 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
flag 35148 term 21 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 21 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {5139278167655390918 18 110} {5139278167655390918 20 111} {536075570770616649 21 112} {8011641429374505315 21 113}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {5139278167655390918 18 110} {5139278167655390918 20 111} {536075570770616649 21 112} {8011641429374505315 21 113}]
------------------------------------------------------
flag 74320 term 21 leader 0 nextIndex[1]: 114  matchIndex[1]: 113
term 21 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
flag 3599 term 21 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 21 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {5139278167655390918 18 110} {5139278167655390918 20 111} {536075570770616649 21 112} {8011641429374505315 21 113}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {5139278167655390918 18 110} {5139278167655390918 20 111} {536075570770616649 21 112} {8011641429374505315 21 113}]
------------------------------------------------------
flag 92432 term 21 leader 0 nextIndex[1]: 114  matchIndex[1]: 113
term 21 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
flag 56581 term 21 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 21 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {5139278167655390918 18 110} {5139278167655390918 20 111} {536075570770616649 21 112} {8011641429374505315 21 113}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {5139278167655390918 18 110} {5139278167655390918 20 111} {536075570770616649 21 112} {8011641429374505315 21 113}]
------------------------------------------------------
flag 77608 term 21 leader 0 nextIndex[1]: 114  matchIndex[1]: 113
term 21 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
flag 55472 term 21 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 21 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {5139278167655390918 18 110} {5139278167655390918 20 111} {536075570770616649 21 112} {8011641429374505315 21 113}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {5139278167655390918 18 110} {5139278167655390918 20 111} {536075570770616649 21 112} {8011641429374505315 21 113}]
------------------------------------------------------
flag 52380 term 21 leader 0 nextIndex[1]: 114  matchIndex[1]: 113
term 21 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
flag 63895 term 21 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 21 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {5139278167655390918 18 110} {5139278167655390918 20 111} {536075570770616649 21 112} {8011641429374505315 21 113}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {5139278167655390918 18 110} {5139278167655390918 20 111} {536075570770616649 21 112} {8011641429374505315 21 113}]
------------------------------------------------------
term 21 server 1 not vote for server 2, 任期不够新
term 21 server 2 get outdate rpc reply from server 1
flag 33307 term 21 leader 0 nextIndex[1]: 114  matchIndex[1]: 113
term 21 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
flag 50760 term 21 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 21 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {5139278167655390918 18 110} {5139278167655390918 20 111} {536075570770616649 21 112} {8011641429374505315 21 113}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {5139278167655390918 18 110} {5139278167655390918 20 111} {536075570770616649 21 112} {8011641429374505315 21 113}]
------------------------------------------------------
flag 86566 term 21 leader 0 nextIndex[1]: 114  matchIndex[1]: 113
term 21 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
flag 38291 term 21 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 21 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {5139278167655390918 18 110} {5139278167655390918 20 111} {536075570770616649 21 112} {8011641429374505315 21 113}]
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {5139278167655390918 18 110} {5139278167655390918 20 111} {536075570770616649 21 112} {8011641429374505315 21 113}]
------------------------------------------------------
term 21 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 10286 term 21 leader 0 nextIndex[1]: 114  matchIndex[1]: 113
term 21 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
flag 69997 term 21 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 21 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {5139278167655390918 18 110} {5139278167655390918 20 111} {536075570770616649 21 112} {8011641429374505315 21 113}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {5139278167655390918 18 110} {5139278167655390918 20 111} {536075570770616649 21 112} {8011641429374505315 21 113}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93916 term 21 leader 0 nextIndex[1]: 114  matchIndex[1]: 113
term 21 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
flag 16006 term 21 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 21 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {5139278167655390918 18 110} {5139278167655390918 20 111} {536075570770616649 21 112} {8011641429374505315 21 113}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {5139278167655390918 18 110} {5139278167655390918 20 111} {536075570770616649 21 112} {8011641429374505315 21 113}]
------------------------------------------------------
flag 68741 term 21 leader 0 nextIndex[1]: 114  matchIndex[1]: 113
term 21 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
flag 15608 term 21 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 21 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {5139278167655390918 18 110} {5139278167655390918 20 111} {536075570770616649 21 112} {8011641429374505315 21 113}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {5139278167655390918 18 110} {5139278167655390918 20 111} {536075570770616649 21 112} {8011641429374505315 21 113}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38607 term 21 leader 0 nextIndex[1]: 114  matchIndex[1]: 113
term 21 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
flag 26120 term 21 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 21 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {5139278167655390918 18 110} {5139278167655390918 20 111} {536075570770616649 21 112} {8011641429374505315 21 113}]
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {5139278167655390918 18 110} {5139278167655390918 20 111} {536075570770616649 21 112} {8011641429374505315 21 113}]
------------------------------------------------------
flag 66914 term 21 leader 0 nextIndex[1]: 114  matchIndex[1]: 113
term 21 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
flag 81430 term 21 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 21 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {5139278167655390918 18 110} {5139278167655390918 20 111} {536075570770616649 21 112} {8011641429374505315 21 113}]
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {5139278167655390918 18 110} {5139278167655390918 20 111} {536075570770616649 21 112} {8011641429374505315 21 113}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31577 term 21 leader 0 nextIndex[1]: 114  matchIndex[1]: 113
term 21 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
flag 5947 term 21 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 21 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {5139278167655390918 18 110} {5139278167655390918 20 111} {536075570770616649 21 112} {8011641429374505315 21 113}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {5139278167655390918 18 110} {5139278167655390918 20 111} {536075570770616649 21 112} {8011641429374505315 21 113}]
------------------------------------------------------
flag 38315 term 21 leader 0 nextIndex[1]: 114  matchIndex[1]: 113
term 21 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
flag 90190 term 21 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 21 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {5139278167655390918 18 110} {5139278167655390918 20 111} {536075570770616649 21 112} {8011641429374505315 21 113}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {5139278167655390918 18 110} {5139278167655390918 20 111} {536075570770616649 21 112} {8011641429374505315 21 113}]
------------------------------------------------------
flag 29026 term 21 leader 0 nextIndex[1]: 114  matchIndex[1]: 113
term 21 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
flag 19601 term 21 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 21 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {5139278167655390918 18 110} {5139278167655390918 20 111} {536075570770616649 21 112} {8011641429374505315 21 113}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {5139278167655390918 18 110} {5139278167655390918 20 111} {536075570770616649 21 112} {8011641429374505315 21 113}]
------------------------------------------------------
term 21 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 92100 term 21 leader 0 nextIndex[1]: 114  matchIndex[1]: 113
term 21 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
flag 40508 term 21 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 21 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {5139278167655390918 18 110} {5139278167655390918 20 111} {536075570770616649 21 112} {8011641429374505315 21 113}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {5139278167655390918 18 110} {5139278167655390918 20 111} {536075570770616649 21 112} {8011641429374505315 21 113}]
------------------------------------------------------
term 21 server 1 not vote for server 0, 日志不够新
term 21 server 0 get outdate rpc reply from server 1
flag 63151 term 21 leader 0 nextIndex[1]: 114  matchIndex[1]: 113
term 21 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
flag 19870 term 21 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 21 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {5139278167655390918 18 110} {5139278167655390918 20 111} {536075570770616649 21 112} {8011641429374505315 21 113}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {5139278167655390918 18 110} {5139278167655390918 20 111} {536075570770616649 21 112} {8011641429374505315 21 113}]
------------------------------------------------------
flag 11728 term 21 leader 0 nextIndex[1]: 114  matchIndex[1]: 113
term 21 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
flag 25927 term 21 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 21 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {5139278167655390918 18 110} {5139278167655390918 20 111} {536075570770616649 21 112} {8011641429374505315 21 113}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {5139278167655390918 18 110} {5139278167655390918 20 111} {536075570770616649 21 112} {8011641429374505315 21 113}]
------------------------------------------------------
client write log 4257798071386602796 (index 114) to leader 0
flag 82367 term 21 leader 0 nextIndex[1]: 114  matchIndex[1]: 113
term 21 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
flag 33413 term 21 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 21 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {5139278167655390918 18 110} {5139278167655390918 20 111} {536075570770616649 21 112} {8011641429374505315 21 113} {4257798071386602796 21 114}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {5139278167655390918 18 110} {5139278167655390918 20 111} {536075570770616649 21 112} {8011641429374505315 21 113} {4257798071386602796 21 114}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 21 server 0 not vote for server 2, 任期不够新
term 21 server 2 get outdate rpc reply from server 0
flag 18521 term 21 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
flag 14690 term 21 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {5139278167655390918 18 110} {5139278167655390918 20 111} {536075570770616649 21 112} {8011641429374505315 21 113} {4257798071386602796 21 114}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {5139278167655390918 18 110} {5139278167655390918 20 111} {536075570770616649 21 112} {8011641429374505315 21 113} {4257798071386602796 21 114}]
------------------------------------------------------
flag 87204 term 21 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
flag 27555 term 21 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {5139278167655390918 18 110} {5139278167655390918 20 111} {536075570770616649 21 112} {8011641429374505315 21 113} {4257798071386602796 21 114}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {5139278167655390918 18 110} {5139278167655390918 20 111} {536075570770616649 21 112} {8011641429374505315 21 113} {4257798071386602796 21 114}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76683 term 21 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
flag 76710 term 21 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {5139278167655390918 18 110} {5139278167655390918 20 111} {536075570770616649 21 112} {8011641429374505315 21 113} {4257798071386602796 21 114}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {5139278167655390918 18 110} {5139278167655390918 20 111} {536075570770616649 21 112} {8011641429374505315 21 113} {4257798071386602796 21 114}]
------------------------------------------------------
flag 97489 term 21 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
flag 46580 term 21 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {5139278167655390918 18 110} {5139278167655390918 20 111} {536075570770616649 21 112} {8011641429374505315 21 113} {4257798071386602796 21 114}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {5139278167655390918 18 110} {5139278167655390918 20 111} {536075570770616649 21 112} {8011641429374505315 21 113} {4257798071386602796 21 114}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63830 term 21 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
flag 32519 term 21 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {5139278167655390918 18 110} {5139278167655390918 20 111} {536075570770616649 21 112} {8011641429374505315 21 113} {4257798071386602796 21 114}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {5139278167655390918 18 110} {5139278167655390918 20 111} {536075570770616649 21 112} {8011641429374505315 21 113} {4257798071386602796 21 114}]
------------------------------------------------------
flag 19662 term 21 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
flag 83909 term 21 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {5139278167655390918 18 110} {5139278167655390918 20 111} {536075570770616649 21 112} {8011641429374505315 21 113} {4257798071386602796 21 114}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {5139278167655390918 18 110} {5139278167655390918 20 111} {536075570770616649 21 112} {8011641429374505315 21 113} {4257798071386602796 21 114}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 4557735757407084110 (index 115) to leader 0
flag 3903 term 21 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
flag 46459 term 21 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=115
leader log:
[{snapshot 18 109} {5139278167655390918 18 110} {5139278167655390918 20 111} {536075570770616649 21 112} {8011641429374505315 21 113} {4257798071386602796 21 114} {4557735757407084110 21 115}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11034 term 21 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 115 
------------------------------------------------------
flag 31700 term 21 leader 0 nextIndex[2]: 116  matchIndex[2]: 115
term 21 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 21 leaderCommit: 115 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=115
leader log:
[{snapshot 18 109} {5139278167655390918 18 110} {5139278167655390918 20 111} {536075570770616649 21 112} {8011641429374505315 21 113} {4257798071386602796 21 114} {4557735757407084110 21 115}]
------------------------------------------------------
client write log 1124417644075391406 (index 116) to leader 0
client write log 5845741289751301032 (index 117) to leader 0
client write log 7592920994347826249 (index 118) to leader 0
client write log 6711244412402122945 (index 119) to leader 0
client write log 8269435074068847520 (index 120) to leader 0
client write log 5478678094055518645 (index 121) to leader 0
client write log 7935896128263793299 (index 122) to leader 0
client write log 8061405110292298985 (index 123) to leader 0
client write log 2495041052350341701 (index 124) to leader 0
client write log 4207032927549971775 (index 125) to leader 0
client write log 3008371701570625289 (index 126) to leader 0
client write log 3582479908380073224 (index 127) to leader 0
client write log 7915217102419870913 (index 128) to leader 0
flag 87490 term 21 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 115 
------------------------------------------------------
flag 19383 term 21 leader 0 nextIndex[2]: 116  matchIndex[2]: 115
term 21 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 21 leaderCommit: 115 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=128
leader log:
[{snapshot 18 109} {5139278167655390918 18 110} {5139278167655390918 20 111} {536075570770616649 21 112} {8011641429374505315 21 113} {4257798071386602796 21 114} {4557735757407084110 21 115} {1124417644075391406 21 116} {5845741289751301032 21 117} {7592920994347826249 21 118} {6711244412402122945 21 119} {8269435074068847520 21 120} {5478678094055518645 21 121} {7935896128263793299 21 122} {8061405110292298985 21 123} {2495041052350341701 21 124} {4207032927549971775 21 125} {3008371701570625289 21 126} {3582479908380073224 21 127} {7915217102419870913 21 128}]
------------------------------------------------------
term 21 Server0 start snapshot! index=119
term 21 server0 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=128
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 21 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 21 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 21
------------------------------------------------------
flag 68681 term 21 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 21 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {8269435074068847520 21 120} {5478678094055518645 21 121} {7935896128263793299 21 122} {8061405110292298985 21 123} {2495041052350341701 21 124} {4207032927549971775 21 125} {3008371701570625289 21 126} {3582479908380073224 21 127} {7915217102419870913 21 128}]
------------------------------------------------------
term 21 Server2 start snapshot! index=119
term 21 server2 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=128
-------------------------------------------------------------
!!!!!!connect server 1
client write log 6906133184919437721 (index 129) to leader 0
term 21 server 2 not vote for server 1, 日志不够新
term 21 server 0 not vote for server 1, 日志不够新
term 23 server 2 vote for server 0
term 23 server 0 get vote from server 2
term 23 server 0 become leader
------------------------------------------------------
term 23 server 1 vote for server 0
term 23 server 0 get outdate rpc reply from server 1
flag 86301 term 23 leader 0 nextIndex[1]: 130  matchIndex[1]: 0
term 23 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
flag 96533 term 23 leader 0 nextIndex[2]: 130  matchIndex[2]: 0
term 23 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
term 23 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 130->129
------------------------------------------------------
term 23 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 130->129
------------------------------------------------------
term 23 leader 0 nextIndex[1]: 115  matchIndex[1]: 0
term 23 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 21
------------------------------------------------------
flag 87192 term 23 leader 0 nextIndex[2]: 129  matchIndex[2]: 0
term 23 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {8269435074068847520 21 120} {5478678094055518645 21 121} {7935896128263793299 21 122} {8061405110292298985 21 123} {2495041052350341701 21 124} {4207032927549971775 21 125} {3008371701570625289 21 126} {3582479908380073224 21 127} {7915217102419870913 21 128} {6906133184919437721 21 129}]
------------------------------------------------------
term 23 server 1 InstallSnapshot success
------------------------------------------------------
term 23 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 120 matchIndex[1] 119 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 119 rf.lastIncludedTerm 21 rf.commitIndex 119 rf.lastApplied 119
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76967 term 23 leader 0 nextIndex[1]: 120  matchIndex[1]: 119
term 23 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
flag 56962 term 23 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 23 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {8269435074068847520 21 120} {5478678094055518645 21 121} {7935896128263793299 21 122} {8061405110292298985 21 123} {2495041052350341701 21 124} {4207032927549971775 21 125} {3008371701570625289 21 126} {3582479908380073224 21 127} {7915217102419870913 21 128} {6906133184919437721 21 129}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {8269435074068847520 21 120} {5478678094055518645 21 121} {7935896128263793299 21 122} {8061405110292298985 21 123} {2495041052350341701 21 124} {4207032927549971775 21 125} {3008371701570625289 21 126} {3582479908380073224 21 127} {7915217102419870913 21 128} {6906133184919437721 21 129}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47095 term 23 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 23 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
flag 51130 term 23 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 23 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {8269435074068847520 21 120} {5478678094055518645 21 121} {7935896128263793299 21 122} {8061405110292298985 21 123} {2495041052350341701 21 124} {4207032927549971775 21 125} {3008371701570625289 21 126} {3582479908380073224 21 127} {7915217102419870913 21 128} {6906133184919437721 21 129}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {8269435074068847520 21 120} {5478678094055518645 21 121} {7935896128263793299 21 122} {8061405110292298985 21 123} {2495041052350341701 21 124} {4207032927549971775 21 125} {3008371701570625289 21 126} {3582479908380073224 21 127} {7915217102419870913 21 128} {6906133184919437721 21 129}]
------------------------------------------------------
term 23 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 13965 term 23 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 23 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
flag 36729 term 23 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 23 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {8269435074068847520 21 120} {5478678094055518645 21 121} {7935896128263793299 21 122} {8061405110292298985 21 123} {2495041052350341701 21 124} {4207032927549971775 21 125} {3008371701570625289 21 126} {3582479908380073224 21 127} {7915217102419870913 21 128} {6906133184919437721 21 129}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {8269435074068847520 21 120} {5478678094055518645 21 121} {7935896128263793299 21 122} {8061405110292298985 21 123} {2495041052350341701 21 124} {4207032927549971775 21 125} {3008371701570625289 21 126} {3582479908380073224 21 127} {7915217102419870913 21 128} {6906133184919437721 21 129}]
------------------------------------------------------
flag 56339 term 23 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 23 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
flag 57920 term 23 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 23 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {8269435074068847520 21 120} {5478678094055518645 21 121} {7935896128263793299 21 122} {8061405110292298985 21 123} {2495041052350341701 21 124} {4207032927549971775 21 125} {3008371701570625289 21 126} {3582479908380073224 21 127} {7915217102419870913 21 128} {6906133184919437721 21 129}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {8269435074068847520 21 120} {5478678094055518645 21 121} {7935896128263793299 21 122} {8061405110292298985 21 123} {2495041052350341701 21 124} {4207032927549971775 21 125} {3008371701570625289 21 126} {3582479908380073224 21 127} {7915217102419870913 21 128} {6906133184919437721 21 129}]
------------------------------------------------------
flag 93986 term 23 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 23 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
flag 18148 term 23 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 23 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
term 23 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {8269435074068847520 21 120} {5478678094055518645 21 121} {7935896128263793299 21 122} {8061405110292298985 21 123} {2495041052350341701 21 124} {4207032927549971775 21 125} {3008371701570625289 21 126} {3582479908380073224 21 127} {7915217102419870913 21 128} {6906133184919437721 21 129}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {8269435074068847520 21 120} {5478678094055518645 21 121} {7935896128263793299 21 122} {8061405110292298985 21 123} {2495041052350341701 21 124} {4207032927549971775 21 125} {3008371701570625289 21 126} {3582479908380073224 21 127} {7915217102419870913 21 128} {6906133184919437721 21 129}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14276 term 23 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 23 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
flag 74605 term 23 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 23 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {8269435074068847520 21 120} {5478678094055518645 21 121} {7935896128263793299 21 122} {8061405110292298985 21 123} {2495041052350341701 21 124} {4207032927549971775 21 125} {3008371701570625289 21 126} {3582479908380073224 21 127} {7915217102419870913 21 128} {6906133184919437721 21 129}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {8269435074068847520 21 120} {5478678094055518645 21 121} {7935896128263793299 21 122} {8061405110292298985 21 123} {2495041052350341701 21 124} {4207032927549971775 21 125} {3008371701570625289 21 126} {3582479908380073224 21 127} {7915217102419870913 21 128} {6906133184919437721 21 129}]
------------------------------------------------------
flag 92416 term 23 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 23 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
flag 3892 term 23 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 23 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {8269435074068847520 21 120} {5478678094055518645 21 121} {7935896128263793299 21 122} {8061405110292298985 21 123} {2495041052350341701 21 124} {4207032927549971775 21 125} {3008371701570625289 21 126} {3582479908380073224 21 127} {7915217102419870913 21 128} {6906133184919437721 21 129}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {8269435074068847520 21 120} {5478678094055518645 21 121} {7935896128263793299 21 122} {8061405110292298985 21 123} {2495041052350341701 21 124} {4207032927549971775 21 125} {3008371701570625289 21 126} {3582479908380073224 21 127} {7915217102419870913 21 128} {6906133184919437721 21 129}]
------------------------------------------------------
flag 27735 term 23 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 23 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
flag 4894 term 23 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 23 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {8269435074068847520 21 120} {5478678094055518645 21 121} {7935896128263793299 21 122} {8061405110292298985 21 123} {2495041052350341701 21 124} {4207032927549971775 21 125} {3008371701570625289 21 126} {3582479908380073224 21 127} {7915217102419870913 21 128} {6906133184919437721 21 129}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {8269435074068847520 21 120} {5478678094055518645 21 121} {7935896128263793299 21 122} {8061405110292298985 21 123} {2495041052350341701 21 124} {4207032927549971775 21 125} {3008371701570625289 21 126} {3582479908380073224 21 127} {7915217102419870913 21 128} {6906133184919437721 21 129}]
------------------------------------------------------
flag 85298 term 23 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 23 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
flag 21974 term 23 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 23 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {8269435074068847520 21 120} {5478678094055518645 21 121} {7935896128263793299 21 122} {8061405110292298985 21 123} {2495041052350341701 21 124} {4207032927549971775 21 125} {3008371701570625289 21 126} {3582479908380073224 21 127} {7915217102419870913 21 128} {6906133184919437721 21 129}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {8269435074068847520 21 120} {5478678094055518645 21 121} {7935896128263793299 21 122} {8061405110292298985 21 123} {2495041052350341701 21 124} {4207032927549971775 21 125} {3008371701570625289 21 126} {3582479908380073224 21 127} {7915217102419870913 21 128} {6906133184919437721 21 129}]
------------------------------------------------------
flag 31411 term 23 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 23 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
flag 39820 term 23 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 23 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {8269435074068847520 21 120} {5478678094055518645 21 121} {7935896128263793299 21 122} {8061405110292298985 21 123} {2495041052350341701 21 124} {4207032927549971775 21 125} {3008371701570625289 21 126} {3582479908380073224 21 127} {7915217102419870913 21 128} {6906133184919437721 21 129}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {8269435074068847520 21 120} {5478678094055518645 21 121} {7935896128263793299 21 122} {8061405110292298985 21 123} {2495041052350341701 21 124} {4207032927549971775 21 125} {3008371701570625289 21 126} {3582479908380073224 21 127} {7915217102419870913 21 128} {6906133184919437721 21 129}]
------------------------------------------------------
flag 85314 term 23 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 23 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
flag 27660 term 23 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 23 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {8269435074068847520 21 120} {5478678094055518645 21 121} {7935896128263793299 21 122} {8061405110292298985 21 123} {2495041052350341701 21 124} {4207032927549971775 21 125} {3008371701570625289 21 126} {3582479908380073224 21 127} {7915217102419870913 21 128} {6906133184919437721 21 129}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {8269435074068847520 21 120} {5478678094055518645 21 121} {7935896128263793299 21 122} {8061405110292298985 21 123} {2495041052350341701 21 124} {4207032927549971775 21 125} {3008371701570625289 21 126} {3582479908380073224 21 127} {7915217102419870913 21 128} {6906133184919437721 21 129}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1681 term 23 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 23 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
flag 50154 term 23 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 23 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {8269435074068847520 21 120} {5478678094055518645 21 121} {7935896128263793299 21 122} {8061405110292298985 21 123} {2495041052350341701 21 124} {4207032927549971775 21 125} {3008371701570625289 21 126} {3582479908380073224 21 127} {7915217102419870913 21 128} {6906133184919437721 21 129}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {8269435074068847520 21 120} {5478678094055518645 21 121} {7935896128263793299 21 122} {8061405110292298985 21 123} {2495041052350341701 21 124} {4207032927549971775 21 125} {3008371701570625289 21 126} {3582479908380073224 21 127} {7915217102419870913 21 128} {6906133184919437721 21 129}]
------------------------------------------------------
flag 31756 term 23 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 23 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
flag 97686 term 23 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 23 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {8269435074068847520 21 120} {5478678094055518645 21 121} {7935896128263793299 21 122} {8061405110292298985 21 123} {2495041052350341701 21 124} {4207032927549971775 21 125} {3008371701570625289 21 126} {3582479908380073224 21 127} {7915217102419870913 21 128} {6906133184919437721 21 129}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {8269435074068847520 21 120} {5478678094055518645 21 121} {7935896128263793299 21 122} {8061405110292298985 21 123} {2495041052350341701 21 124} {4207032927549971775 21 125} {3008371701570625289 21 126} {3582479908380073224 21 127} {7915217102419870913 21 128} {6906133184919437721 21 129}]
------------------------------------------------------
flag 74803 term 23 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 23 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
flag 18455 term 23 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 23 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {8269435074068847520 21 120} {5478678094055518645 21 121} {7935896128263793299 21 122} {8061405110292298985 21 123} {2495041052350341701 21 124} {4207032927549971775 21 125} {3008371701570625289 21 126} {3582479908380073224 21 127} {7915217102419870913 21 128} {6906133184919437721 21 129}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {8269435074068847520 21 120} {5478678094055518645 21 121} {7935896128263793299 21 122} {8061405110292298985 21 123} {2495041052350341701 21 124} {4207032927549971775 21 125} {3008371701570625289 21 126} {3582479908380073224 21 127} {7915217102419870913 21 128} {6906133184919437721 21 129}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41424 term 23 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 23 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
flag 47156 term 23 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 23 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {8269435074068847520 21 120} {5478678094055518645 21 121} {7935896128263793299 21 122} {8061405110292298985 21 123} {2495041052350341701 21 124} {4207032927549971775 21 125} {3008371701570625289 21 126} {3582479908380073224 21 127} {7915217102419870913 21 128} {6906133184919437721 21 129}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {8269435074068847520 21 120} {5478678094055518645 21 121} {7935896128263793299 21 122} {8061405110292298985 21 123} {2495041052350341701 21 124} {4207032927549971775 21 125} {3008371701570625289 21 126} {3582479908380073224 21 127} {7915217102419870913 21 128} {6906133184919437721 21 129}]
------------------------------------------------------
flag 80509 term 23 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 23 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
flag 91181 term 23 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 23 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {8269435074068847520 21 120} {5478678094055518645 21 121} {7935896128263793299 21 122} {8061405110292298985 21 123} {2495041052350341701 21 124} {4207032927549971775 21 125} {3008371701570625289 21 126} {3582479908380073224 21 127} {7915217102419870913 21 128} {6906133184919437721 21 129}]
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {8269435074068847520 21 120} {5478678094055518645 21 121} {7935896128263793299 21 122} {8061405110292298985 21 123} {2495041052350341701 21 124} {4207032927549971775 21 125} {3008371701570625289 21 126} {3582479908380073224 21 127} {7915217102419870913 21 128} {6906133184919437721 21 129}]
------------------------------------------------------
flag 77701 term 23 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 23 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
flag 98219 term 23 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 23 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {8269435074068847520 21 120} {5478678094055518645 21 121} {7935896128263793299 21 122} {8061405110292298985 21 123} {2495041052350341701 21 124} {4207032927549971775 21 125} {3008371701570625289 21 126} {3582479908380073224 21 127} {7915217102419870913 21 128} {6906133184919437721 21 129}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {8269435074068847520 21 120} {5478678094055518645 21 121} {7935896128263793299 21 122} {8061405110292298985 21 123} {2495041052350341701 21 124} {4207032927549971775 21 125} {3008371701570625289 21 126} {3582479908380073224 21 127} {7915217102419870913 21 128} {6906133184919437721 21 129}]
------------------------------------------------------
client write log 6906133184919437721 (index 130) to leader 0
flag 45238 term 23 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 23 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
flag 68346 term 23 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 23 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=130
leader log:
[{snapshot 21 119} {8269435074068847520 21 120} {5478678094055518645 21 121} {7935896128263793299 21 122} {8061405110292298985 21 123} {2495041052350341701 21 124} {4207032927549971775 21 125} {3008371701570625289 21 126} {3582479908380073224 21 127} {7915217102419870913 21 128} {6906133184919437721 21 129} {6906133184919437721 23 130}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=131
update matchIndex[1]=130
update leader CommitIndex=130
leader log:
[{snapshot 21 119} {8269435074068847520 21 120} {5478678094055518645 21 121} {7935896128263793299 21 122} {8061405110292298985 21 123} {2495041052350341701 21 124} {4207032927549971775 21 125} {3008371701570625289 21 126} {3582479908380073224 21 127} {7915217102419870913 21 128} {6906133184919437721 21 129} {6906133184919437721 23 130}]
------------------------------------------------------
term 23 Server0 start snapshot! index=129
term 23 server0 snapshot success
lastIncludedIndex=129 lastApplied=130 lastIndex=130
-------------------------------------------------------------
flag 73073 term 23 leader 0 nextIndex[1]: 131  matchIndex[1]: 130
term 23 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 23 leaderCommit: 130 
------------------------------------------------------
flag 83833 term 23 leader 0 nextIndex[2]: 131  matchIndex[2]: 130
term 23 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 23 leaderCommit: 130 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=130
leader log:
[{snapshot 21 129} {6906133184919437721 23 130}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=131
update matchIndex[1]=130
update leader CommitIndex=130
leader log:
[{snapshot 21 129} {6906133184919437721 23 130}]
------------------------------------------------------
term 23 Server2 start snapshot! index=129
term 23 server2 snapshot success
lastIncludedIndex=129 lastApplied=130 lastIndex=130
-------------------------------------------------------------
term 23 Server1 start snapshot! index=129
term 23 server1 snapshot success
lastIncludedIndex=129 lastApplied=130 lastIndex=130
-------------------------------------------------------------
flag 89313 term 23 leader 0 nextIndex[1]: 131  matchIndex[1]: 130
term 23 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 23 leaderCommit: 130 
------------------------------------------------------
flag 46103 term 23 leader 0 nextIndex[2]: 131  matchIndex[2]: 130
term 23 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 23 leaderCommit: 130 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=130
leader log:
[{snapshot 21 129} {6906133184919437721 23 130}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=131
update matchIndex[1]=130
update leader CommitIndex=130
leader log:
[{snapshot 21 129} {6906133184919437721 23 130}]
------------------------------------------------------
flag 10403 term 23 leader 0 nextIndex[1]: 131  matchIndex[1]: 130
term 23 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 23 leaderCommit: 130 
------------------------------------------------------
flag 60809 term 23 leader 0 nextIndex[2]: 131  matchIndex[2]: 130
term 23 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 23 leaderCommit: 130 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:130 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=130
leader log:
[{snapshot 21 129} {6906133184919437721 23 130}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=131
update matchIndex[1]=130
update leader CommitIndex=130
leader log:
[{snapshot 21 129} {6906133184919437721 23 130}]
------------------------------------------------------
flag 95139 term 23 leader 0 nextIndex[1]: 131  matchIndex[1]: 130
term 23 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 23 leaderCommit: 130 
------------------------------------------------------
flag 48456 term 23 leader 0 nextIndex[2]: 131  matchIndex[2]: 130
term 23 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 23 leaderCommit: 130 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:130 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=130
leader log:
[{snapshot 21 129} {6906133184919437721 23 130}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=131
update matchIndex[1]=130
update leader CommitIndex=130
leader log:
[{snapshot 21 129} {6906133184919437721 23 130}]
------------------------------------------------------
term 23 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 96527 term 23 leader 0 nextIndex[1]: 131  matchIndex[1]: 130
term 23 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 23 leaderCommit: 130 
------------------------------------------------------
flag 86373 term 23 leader 0 nextIndex[2]: 131  matchIndex[2]: 130
term 23 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 23 leaderCommit: 130 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=130
leader log:
[{snapshot 21 129} {6906133184919437721 23 130}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=131
update matchIndex[1]=130
update leader CommitIndex=130
leader log:
[{snapshot 21 129} {6906133184919437721 23 130}]
------------------------------------------------------
flag 43024 term 23 leader 0 nextIndex[1]: 131  matchIndex[1]: 130
term 23 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 23 leaderCommit: 130 
------------------------------------------------------
flag 81468 term 23 leader 0 nextIndex[2]: 131  matchIndex[2]: 130
term 23 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 23 leaderCommit: 130 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:130 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=131
update matchIndex[1]=130
update leader CommitIndex=130
leader log:
[{snapshot 21 129} {6906133184919437721 23 130}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=130
leader log:
[{snapshot 21 129} {6906133184919437721 23 130}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 4047094095059168975 (index 131) to leader 0
flag 12172 term 23 leader 0 nextIndex[1]: 131  matchIndex[1]: 130
term 23 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 23 leaderCommit: 130 
------------------------------------------------------
flag 43731 term 23 leader 0 nextIndex[2]: 131  matchIndex[2]: 130
term 23 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 23 leaderCommit: 130 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=132
update matchIndex[2]=131
update leader CommitIndex=131
leader log:
[{snapshot 21 129} {6906133184919437721 23 130} {4047094095059168975 23 131}]
------------------------------------------------------
term 23 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34699 term 23 leader 0 nextIndex[1]: 131  matchIndex[1]: 130
term 23 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 23 leaderCommit: 131 
------------------------------------------------------
flag 81278 term 23 leader 0 nextIndex[2]: 132  matchIndex[2]: 131
term 23 leader 0 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 23 leaderCommit: 131 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=132
update matchIndex[2]=131
update leader CommitIndex=131
leader log:
[{snapshot 21 129} {6906133184919437721 23 130} {4047094095059168975 23 131}]
------------------------------------------------------
client write log 5919968674581481584 (index 132) to leader 0
client write log 154181730626941406 (index 133) to leader 0
client write log 2348242663317039328 (index 134) to leader 0
client write log 4358334725277222940 (index 135) to leader 0
client write log 4340996580114061222 (index 136) to leader 0
client write log 4996927975862463980 (index 137) to leader 0
client write log 2990441077055365372 (index 138) to leader 0
flag 66723 term 23 leader 0 nextIndex[1]: 131  matchIndex[1]: 130
term 23 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 23 leaderCommit: 131 
------------------------------------------------------
flag 23029 term 23 leader 0 nextIndex[2]: 132  matchIndex[2]: 131
term 23 leader 0 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 23 leaderCommit: 131 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=139
update matchIndex[2]=138
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {6906133184919437721 23 130} {4047094095059168975 23 131} {5919968674581481584 23 132} {154181730626941406 23 133} {2348242663317039328 23 134} {4358334725277222940 23 135} {4340996580114061222 23 136} {4996927975862463980 23 137} {2990441077055365372 23 138}]
------------------------------------------------------
flag 14302 term 23 leader 0 nextIndex[1]: 131  matchIndex[1]: 130
term 23 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 23 leaderCommit: 138 
------------------------------------------------------
flag 95951 term 23 leader 0 nextIndex[2]: 139  matchIndex[2]: 138
term 23 leader 0 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 23 leaderCommit: 138 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=139
update matchIndex[2]=138
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {6906133184919437721 23 130} {4047094095059168975 23 131} {5919968674581481584 23 132} {154181730626941406 23 133} {2348242663317039328 23 134} {4358334725277222940 23 135} {4340996580114061222 23 136} {4996927975862463980 23 137} {2990441077055365372 23 138}]
------------------------------------------------------
!!!!!!connect server 1
client write log 8013810261577182644 (index 139) to leader 0
term 23 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 23 server 2 not vote for server 1, 日志不够新
term 23 server 0 not vote for server 1, 日志不够新
term 25 server 2 vote for server 0
term 25 server 1 vote for server 0
term 25 server 0 get vote from server 2
term 25 server 0 become leader
------------------------------------------------------
term 25 server 0 get outdate rpc reply from server 1
flag 26463 term 25 leader 0 nextIndex[1]: 140  matchIndex[1]: 0
term 25 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 138 
------------------------------------------------------
flag 85135 term 25 leader 0 nextIndex[2]: 140  matchIndex[2]: 0
term 25 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 138 
------------------------------------------------------
term 25 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 140->139
------------------------------------------------------
term 25 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 140->139
------------------------------------------------------
flag 75277 term 25 leader 0 nextIndex[1]: 131  matchIndex[1]: 0
term 25 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 23 leaderCommit: 138 
------------------------------------------------------
flag 68091 term 25 leader 0 nextIndex[2]: 139  matchIndex[2]: 0
term 25 leader 0 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 23 leaderCommit: 138 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {6906133184919437721 23 130} {4047094095059168975 23 131} {5919968674581481584 23 132} {154181730626941406 23 133} {2348242663317039328 23 134} {4358334725277222940 23 135} {4340996580114061222 23 136} {4996927975862463980 23 137} {2990441077055365372 23 138} {8013810261577182644 23 139}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {6906133184919437721 23 130} {4047094095059168975 23 131} {5919968674581481584 23 132} {154181730626941406 23 133} {2348242663317039328 23 134} {4358334725277222940 23 135} {4340996580114061222 23 136} {4996927975862463980 23 137} {2990441077055365372 23 138} {8013810261577182644 23 139}]
------------------------------------------------------
flag 82153 term 25 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 25 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 138 
------------------------------------------------------
flag 60461 term 25 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 25 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 138 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {6906133184919437721 23 130} {4047094095059168975 23 131} {5919968674581481584 23 132} {154181730626941406 23 133} {2348242663317039328 23 134} {4358334725277222940 23 135} {4340996580114061222 23 136} {4996927975862463980 23 137} {2990441077055365372 23 138} {8013810261577182644 23 139}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {6906133184919437721 23 130} {4047094095059168975 23 131} {5919968674581481584 23 132} {154181730626941406 23 133} {2348242663317039328 23 134} {4358334725277222940 23 135} {4340996580114061222 23 136} {4996927975862463980 23 137} {2990441077055365372 23 138} {8013810261577182644 23 139}]
------------------------------------------------------
flag 26700 term 25 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 25 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 138 
------------------------------------------------------
flag 15730 term 25 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 25 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 138 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {6906133184919437721 23 130} {4047094095059168975 23 131} {5919968674581481584 23 132} {154181730626941406 23 133} {2348242663317039328 23 134} {4358334725277222940 23 135} {4340996580114061222 23 136} {4996927975862463980 23 137} {2990441077055365372 23 138} {8013810261577182644 23 139}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {6906133184919437721 23 130} {4047094095059168975 23 131} {5919968674581481584 23 132} {154181730626941406 23 133} {2348242663317039328 23 134} {4358334725277222940 23 135} {4340996580114061222 23 136} {4996927975862463980 23 137} {2990441077055365372 23 138} {8013810261577182644 23 139}]
------------------------------------------------------
flag 14642 term 25 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 25 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 138 
------------------------------------------------------
flag 87109 term 25 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 25 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 138 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {6906133184919437721 23 130} {4047094095059168975 23 131} {5919968674581481584 23 132} {154181730626941406 23 133} {2348242663317039328 23 134} {4358334725277222940 23 135} {4340996580114061222 23 136} {4996927975862463980 23 137} {2990441077055365372 23 138} {8013810261577182644 23 139}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {6906133184919437721 23 130} {4047094095059168975 23 131} {5919968674581481584 23 132} {154181730626941406 23 133} {2348242663317039328 23 134} {4358334725277222940 23 135} {4340996580114061222 23 136} {4996927975862463980 23 137} {2990441077055365372 23 138} {8013810261577182644 23 139}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52808 term 25 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 25 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 138 
------------------------------------------------------
flag 60362 term 25 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 25 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 138 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {6906133184919437721 23 130} {4047094095059168975 23 131} {5919968674581481584 23 132} {154181730626941406 23 133} {2348242663317039328 23 134} {4358334725277222940 23 135} {4340996580114061222 23 136} {4996927975862463980 23 137} {2990441077055365372 23 138} {8013810261577182644 23 139}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {6906133184919437721 23 130} {4047094095059168975 23 131} {5919968674581481584 23 132} {154181730626941406 23 133} {2348242663317039328 23 134} {4358334725277222940 23 135} {4340996580114061222 23 136} {4996927975862463980 23 137} {2990441077055365372 23 138} {8013810261577182644 23 139}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77881 term 25 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 25 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 138 
------------------------------------------------------
flag 95782 term 25 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 25 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 138 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
term 25 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
[{snapshot 21 129} {6906133184919437721 23 130} {4047094095059168975 23 131} {5919968674581481584 23 132} {154181730626941406 23 133} {2348242663317039328 23 134} {4358334725277222940 23 135} {4340996580114061222 23 136} {4996927975862463980 23 137} {2990441077055365372 23 138} {8013810261577182644 23 139}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {6906133184919437721 23 130} {4047094095059168975 23 131} {5919968674581481584 23 132} {154181730626941406 23 133} {2348242663317039328 23 134} {4358334725277222940 23 135} {4340996580114061222 23 136} {4996927975862463980 23 137} {2990441077055365372 23 138} {8013810261577182644 23 139}]
------------------------------------------------------
flag 32044 term 25 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 25 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 138 
------------------------------------------------------
flag 2666 term 25 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 25 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 138 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {6906133184919437721 23 130} {4047094095059168975 23 131} {5919968674581481584 23 132} {154181730626941406 23 133} {2348242663317039328 23 134} {4358334725277222940 23 135} {4340996580114061222 23 136} {4996927975862463980 23 137} {2990441077055365372 23 138} {8013810261577182644 23 139}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {6906133184919437721 23 130} {4047094095059168975 23 131} {5919968674581481584 23 132} {154181730626941406 23 133} {2348242663317039328 23 134} {4358334725277222940 23 135} {4340996580114061222 23 136} {4996927975862463980 23 137} {2990441077055365372 23 138} {8013810261577182644 23 139}]
------------------------------------------------------
flag 38326 term 25 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 25 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 138 
------------------------------------------------------
flag 86169 term 25 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 25 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 138 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {6906133184919437721 23 130} {4047094095059168975 23 131} {5919968674581481584 23 132} {154181730626941406 23 133} {2348242663317039328 23 134} {4358334725277222940 23 135} {4340996580114061222 23 136} {4996927975862463980 23 137} {2990441077055365372 23 138} {8013810261577182644 23 139}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {6906133184919437721 23 130} {4047094095059168975 23 131} {5919968674581481584 23 132} {154181730626941406 23 133} {2348242663317039328 23 134} {4358334725277222940 23 135} {4340996580114061222 23 136} {4996927975862463980 23 137} {2990441077055365372 23 138} {8013810261577182644 23 139}]
------------------------------------------------------
flag 88128 term 25 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 25 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 138 
------------------------------------------------------
flag 37885 term 25 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 25 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 138 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {6906133184919437721 23 130} {4047094095059168975 23 131} {5919968674581481584 23 132} {154181730626941406 23 133} {2348242663317039328 23 134} {4358334725277222940 23 135} {4340996580114061222 23 136} {4996927975862463980 23 137} {2990441077055365372 23 138} {8013810261577182644 23 139}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {6906133184919437721 23 130} {4047094095059168975 23 131} {5919968674581481584 23 132} {154181730626941406 23 133} {2348242663317039328 23 134} {4358334725277222940 23 135} {4340996580114061222 23 136} {4996927975862463980 23 137} {2990441077055365372 23 138} {8013810261577182644 23 139}]
------------------------------------------------------
flag 89513 term 25 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 25 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 138 
------------------------------------------------------
flag 51901 term 25 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 25 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 138 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {6906133184919437721 23 130} {4047094095059168975 23 131} {5919968674581481584 23 132} {154181730626941406 23 133} {2348242663317039328 23 134} {4358334725277222940 23 135} {4340996580114061222 23 136} {4996927975862463980 23 137} {2990441077055365372 23 138} {8013810261577182644 23 139}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {6906133184919437721 23 130} {4047094095059168975 23 131} {5919968674581481584 23 132} {154181730626941406 23 133} {2348242663317039328 23 134} {4358334725277222940 23 135} {4340996580114061222 23 136} {4996927975862463980 23 137} {2990441077055365372 23 138} {8013810261577182644 23 139}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72573 term 25 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 25 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 138 
------------------------------------------------------
flag 89594 term 25 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 25 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 138 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {6906133184919437721 23 130} {4047094095059168975 23 131} {5919968674581481584 23 132} {154181730626941406 23 133} {2348242663317039328 23 134} {4358334725277222940 23 135} {4340996580114061222 23 136} {4996927975862463980 23 137} {2990441077055365372 23 138} {8013810261577182644 23 139}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {6906133184919437721 23 130} {4047094095059168975 23 131} {5919968674581481584 23 132} {154181730626941406 23 133} {2348242663317039328 23 134} {4358334725277222940 23 135} {4340996580114061222 23 136} {4996927975862463980 23 137} {2990441077055365372 23 138} {8013810261577182644 23 139}]
------------------------------------------------------
flag 10533 term 25 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 25 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 138 
------------------------------------------------------
flag 7994 term 25 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 25 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 138 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
term 25 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
[{snapshot 21 129} {6906133184919437721 23 130} {4047094095059168975 23 131} {5919968674581481584 23 132} {154181730626941406 23 133} {2348242663317039328 23 134} {4358334725277222940 23 135} {4340996580114061222 23 136} {4996927975862463980 23 137} {2990441077055365372 23 138} {8013810261577182644 23 139}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {6906133184919437721 23 130} {4047094095059168975 23 131} {5919968674581481584 23 132} {154181730626941406 23 133} {2348242663317039328 23 134} {4358334725277222940 23 135} {4340996580114061222 23 136} {4996927975862463980 23 137} {2990441077055365372 23 138} {8013810261577182644 23 139}]
------------------------------------------------------
flag 95811 term 25 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 25 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 138 
------------------------------------------------------
flag 7301 term 25 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 25 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 138 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {6906133184919437721 23 130} {4047094095059168975 23 131} {5919968674581481584 23 132} {154181730626941406 23 133} {2348242663317039328 23 134} {4358334725277222940 23 135} {4340996580114061222 23 136} {4996927975862463980 23 137} {2990441077055365372 23 138} {8013810261577182644 23 139}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {6906133184919437721 23 130} {4047094095059168975 23 131} {5919968674581481584 23 132} {154181730626941406 23 133} {2348242663317039328 23 134} {4358334725277222940 23 135} {4340996580114061222 23 136} {4996927975862463980 23 137} {2990441077055365372 23 138} {8013810261577182644 23 139}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15803 term 25 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 25 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 138 
------------------------------------------------------
flag 91400 term 25 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 25 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 138 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {6906133184919437721 23 130} {4047094095059168975 23 131} {5919968674581481584 23 132} {154181730626941406 23 133} {2348242663317039328 23 134} {4358334725277222940 23 135} {4340996580114061222 23 136} {4996927975862463980 23 137} {2990441077055365372 23 138} {8013810261577182644 23 139}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {6906133184919437721 23 130} {4047094095059168975 23 131} {5919968674581481584 23 132} {154181730626941406 23 133} {2348242663317039328 23 134} {4358334725277222940 23 135} {4340996580114061222 23 136} {4996927975862463980 23 137} {2990441077055365372 23 138} {8013810261577182644 23 139}]
------------------------------------------------------
flag 77498 term 25 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 25 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 138 
------------------------------------------------------
flag 5566 term 25 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 25 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 138 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {6906133184919437721 23 130} {4047094095059168975 23 131} {5919968674581481584 23 132} {154181730626941406 23 133} {2348242663317039328 23 134} {4358334725277222940 23 135} {4340996580114061222 23 136} {4996927975862463980 23 137} {2990441077055365372 23 138} {8013810261577182644 23 139}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {6906133184919437721 23 130} {4047094095059168975 23 131} {5919968674581481584 23 132} {154181730626941406 23 133} {2348242663317039328 23 134} {4358334725277222940 23 135} {4340996580114061222 23 136} {4996927975862463980 23 137} {2990441077055365372 23 138} {8013810261577182644 23 139}]
------------------------------------------------------
flag 98936 term 25 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 25 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 138 
------------------------------------------------------
flag 12545 term 25 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 25 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 138 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {6906133184919437721 23 130} {4047094095059168975 23 131} {5919968674581481584 23 132} {154181730626941406 23 133} {2348242663317039328 23 134} {4358334725277222940 23 135} {4340996580114061222 23 136} {4996927975862463980 23 137} {2990441077055365372 23 138} {8013810261577182644 23 139}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {6906133184919437721 23 130} {4047094095059168975 23 131} {5919968674581481584 23 132} {154181730626941406 23 133} {2348242663317039328 23 134} {4358334725277222940 23 135} {4340996580114061222 23 136} {4996927975862463980 23 137} {2990441077055365372 23 138} {8013810261577182644 23 139}]
------------------------------------------------------
flag 92755 term 25 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 25 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 138 
------------------------------------------------------
flag 90585 term 25 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 25 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 138 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {6906133184919437721 23 130} {4047094095059168975 23 131} {5919968674581481584 23 132} {154181730626941406 23 133} {2348242663317039328 23 134} {4358334725277222940 23 135} {4340996580114061222 23 136} {4996927975862463980 23 137} {2990441077055365372 23 138} {8013810261577182644 23 139}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {6906133184919437721 23 130} {4047094095059168975 23 131} {5919968674581481584 23 132} {154181730626941406 23 133} {2348242663317039328 23 134} {4358334725277222940 23 135} {4340996580114061222 23 136} {4996927975862463980 23 137} {2990441077055365372 23 138} {8013810261577182644 23 139}]
------------------------------------------------------
flag 10713 term 25 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 25 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 138 
------------------------------------------------------
flag 77536 term 25 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 25 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 138 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {6906133184919437721 23 130} {4047094095059168975 23 131} {5919968674581481584 23 132} {154181730626941406 23 133} {2348242663317039328 23 134} {4358334725277222940 23 135} {4340996580114061222 23 136} {4996927975862463980 23 137} {2990441077055365372 23 138} {8013810261577182644 23 139}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {6906133184919437721 23 130} {4047094095059168975 23 131} {5919968674581481584 23 132} {154181730626941406 23 133} {2348242663317039328 23 134} {4358334725277222940 23 135} {4340996580114061222 23 136} {4996927975862463980 23 137} {2990441077055365372 23 138} {8013810261577182644 23 139}]
------------------------------------------------------
flag 29183 term 25 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 25 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 138 
------------------------------------------------------
flag 28783 term 25 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 25 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 138 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {6906133184919437721 23 130} {4047094095059168975 23 131} {5919968674581481584 23 132} {154181730626941406 23 133} {2348242663317039328 23 134} {4358334725277222940 23 135} {4340996580114061222 23 136} {4996927975862463980 23 137} {2990441077055365372 23 138} {8013810261577182644 23 139}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=138
leader log:
[{snapshot 21 129} {6906133184919437721 23 130} {4047094095059168975 23 131} {5919968674581481584 23 132} {154181730626941406 23 133} {2348242663317039328 23 134} {4358334725277222940 23 135} {4340996580114061222 23 136} {4996927975862463980 23 137} {2990441077055365372 23 138} {8013810261577182644 23 139}]
------------------------------------------------------
client write log 8013810261577182644 (index 140) to leader 0
flag 63679 term 25 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 25 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 138 
------------------------------------------------------
flag 65131 term 25 leader 0 nextIndex[2]: 140  matchIndex[2]: 139
term 25 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 138 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
term 25 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
[{snapshot 21 129} {6906133184919437721 23 130} {4047094095059168975 23 131} {5919968674581481584 23 132} {154181730626941406 23 133} {2348242663317039328 23 134} {4358334725277222940 23 135} {4340996580114061222 23 136} {4996927975862463980 23 137} {2990441077055365372 23 138} {8013810261577182644 23 139} {8013810261577182644 25 140}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=140
leader log:
[{snapshot 21 129} {6906133184919437721 23 130} {4047094095059168975 23 131} {5919968674581481584 23 132} {154181730626941406 23 133} {2348242663317039328 23 134} {4358334725277222940 23 135} {4340996580114061222 23 136} {4996927975862463980 23 137} {2990441077055365372 23 138} {8013810261577182644 23 139} {8013810261577182644 25 140}]
------------------------------------------------------
term 25 Server0 start snapshot! index=139
term 25 server0 snapshot success
lastIncludedIndex=139 lastApplied=140 lastIndex=140
-------------------------------------------------------------
flag 67260 term 25 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 25 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 25 leaderCommit: 140 
------------------------------------------------------
flag 9727 term 25 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 25 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 25 leaderCommit: 140 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=140
leader log:
[{snapshot 23 139} {8013810261577182644 25 140}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 23 139} {8013810261577182644 25 140}]
------------------------------------------------------
term 25 Server2 start snapshot! index=139
term 25 server2 snapshot success
lastIncludedIndex=139 lastApplied=140 lastIndex=140
-------------------------------------------------------------
term 25 Server1 start snapshot! index=139
term 25 server1 snapshot success
lastIncludedIndex=139 lastApplied=140 lastIndex=140
-------------------------------------------------------------
flag 58852 term 25 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 25 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 25 leaderCommit: 140 
------------------------------------------------------
flag 18722 term 25 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 25 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 25 leaderCommit: 140 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 23 139} {8013810261577182644 25 140}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=140
leader log:
[{snapshot 23 139} {8013810261577182644 25 140}]
------------------------------------------------------
flag 54276 term 25 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 25 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 25 leaderCommit: 140 
------------------------------------------------------
flag 94135 term 25 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 25 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 25 leaderCommit: 140 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 23 139} {8013810261577182644 25 140}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=140
leader log:
[{snapshot 23 139} {8013810261577182644 25 140}]
------------------------------------------------------
flag 17182 term 25 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 25 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 25 leaderCommit: 140 
------------------------------------------------------
flag 49157 term 25 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 25 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 25 leaderCommit: 140 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=140
leader log:
[{snapshot 23 139} {8013810261577182644 25 140}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 23 139} {8013810261577182644 25 140}]
------------------------------------------------------
flag 15234 term 25 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 25 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 25 leaderCommit: 140 
------------------------------------------------------
flag 15000 term 25 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 25 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 25 leaderCommit: 140 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=140
leader log:
[{snapshot 23 139} {8013810261577182644 25 140}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 23 139} {8013810261577182644 25 140}]
------------------------------------------------------
flag 43870 term 25 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 25 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 25 leaderCommit: 140 
------------------------------------------------------
flag 11502 term 25 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 25 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 25 leaderCommit: 140 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=140
leader log:
[{snapshot 23 139} {8013810261577182644 25 140}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 23 139} {8013810261577182644 25 140}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 27664 term 25 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 25 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 25 leaderCommit: 140 
------------------------------------------------------
flag 93656 term 25 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 25 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 25 leaderCommit: 140 
------------------------------------------------------
flag 4312 term 25 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 25 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 25 leaderCommit: 140 
------------------------------------------------------
flag 42570 term 25 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 25 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 25 leaderCommit: 140 
------------------------------------------------------
flag 72515 term 25 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 25 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 25 leaderCommit: 140 
------------------------------------------------------
flag 94339 term 25 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 25 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 25 leaderCommit: 140 
------------------------------------------------------
flag 20054 term 25 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 25 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 25 leaderCommit: 140 
------------------------------------------------------
flag 90265 term 25 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 25 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 25 leaderCommit: 140 
------------------------------------------------------
term 26 server 1 vote for server 2
term 26 server 2 get vote from server 1
term 26 server 2 become leader
------------------------------------------------------
flag 43438 term 26 leader 2 nextIndex[0]: 141  matchIndex[0]: 0
term 26 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 25 leaderCommit: 140 
------------------------------------------------------
flag 41189 term 26 leader 2 nextIndex[1]: 141  matchIndex[1]: 0
term 26 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 25 leaderCommit: 140 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 23 139} {8013810261577182644 25 140}]
------------------------------------------------------
client write log 413957409031121585 (index 141) to leader 2
flag 45757 term 25 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 25 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 25 leaderCommit: 140 
------------------------------------------------------
flag 50902 term 25 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 25 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 25 leaderCommit: 140 
------------------------------------------------------
flag 57784 term 26 leader 2 nextIndex[0]: 141  matchIndex[0]: 0
term 26 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 25 leaderCommit: 140 
------------------------------------------------------
flag 78826 term 26 leader 2 nextIndex[1]: 141  matchIndex[1]: 140
term 26 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 25 leaderCommit: 140 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {8013810261577182644 25 140} {413957409031121585 26 141}]
------------------------------------------------------
flag 43901 term 25 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 25 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 25 leaderCommit: 140 
------------------------------------------------------
flag 83022 term 25 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 25 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 25 leaderCommit: 140 
------------------------------------------------------
flag 81222 term 26 leader 2 nextIndex[0]: 141  matchIndex[0]: 0
term 26 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
flag 32863 term 26 leader 2 nextIndex[1]: 142  matchIndex[1]: 141
term 26 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 26 leaderCommit: 141 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {8013810261577182644 25 140} {413957409031121585 26 141}]
------------------------------------------------------
client write log 2959528143115449168 (index 142) to leader 2
flag 61015 term 25 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 25 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 25 leaderCommit: 140 
------------------------------------------------------
flag 55716 term 25 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 25 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 25 leaderCommit: 140 
------------------------------------------------------
flag 3120 term 26 leader 2 nextIndex[0]: 141  matchIndex[0]: 0
term 26 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
flag 61269 term 26 leader 2 nextIndex[1]: 142  matchIndex[1]: 141
term 26 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 26 leaderCommit: 141 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=142
leader log:
[{snapshot 23 139} {8013810261577182644 25 140} {413957409031121585 26 141} {2959528143115449168 26 142}]
------------------------------------------------------
flag 1657 term 25 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 25 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 25 leaderCommit: 140 
------------------------------------------------------
flag 79180 term 25 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 25 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 25 leaderCommit: 140 
------------------------------------------------------
flag 90008 term 26 leader 2 nextIndex[0]: 141  matchIndex[0]: 0
term 26 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 25 leaderCommit: 142 
------------------------------------------------------
flag 92174 term 26 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 26 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 26 leaderCommit: 142 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=142
leader log:
[{snapshot 23 139} {8013810261577182644 25 140} {413957409031121585 26 141} {2959528143115449168 26 142}]
------------------------------------------------------
!!!!!!connect server 0
client write log 4960925259663328388 (index 143) to leader 2
flag 11769 term 25 leader 0 nextIndex[1]: 141  matchIndex[1]: 140
term 25 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 25 leaderCommit: 140 
------------------------------------------------------
flag 3657 term 25 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 25 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 25 leaderCommit: 140 
------------------------------------------------------
term 26 server 2 AppendEntries false 领导者任期过期 args.Term 25
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 26 server 1 AppendEntries false 领导者任期过期 args.Term 25
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1071 term 26 leader 2 nextIndex[0]: 141  matchIndex[0]: 0
term 26 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 25 leaderCommit: 142 
------------------------------------------------------
flag 70734 term 26 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 26 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 26 leaderCommit: 142 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {8013810261577182644 25 140} {413957409031121585 26 141} {2959528143115449168 26 142} {4960925259663328388 26 143}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {8013810261577182644 25 140} {413957409031121585 26 141} {2959528143115449168 26 142} {4960925259663328388 26 143}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7742 term 26 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 26 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 26 leaderCommit: 143 
------------------------------------------------------
flag 60641 term 26 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 26 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 26 leaderCommit: 143 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {8013810261577182644 25 140} {413957409031121585 26 141} {2959528143115449168 26 142} {4960925259663328388 26 143}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {8013810261577182644 25 140} {413957409031121585 26 141} {2959528143115449168 26 142} {4960925259663328388 26 143}]
------------------------------------------------------
flag 40805 term 26 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 26 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 26 leaderCommit: 143 
------------------------------------------------------
flag 18891 term 26 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 26 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 26 leaderCommit: 143 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {8013810261577182644 25 140} {413957409031121585 26 141} {2959528143115449168 26 142} {4960925259663328388 26 143}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {8013810261577182644 25 140} {413957409031121585 26 141} {2959528143115449168 26 142} {4960925259663328388 26 143}]
------------------------------------------------------
flag 54679 term 26 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 26 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 26 leaderCommit: 143 
------------------------------------------------------
flag 7782 term 26 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 26 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 26 leaderCommit: 143 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {8013810261577182644 25 140} {413957409031121585 26 141} {2959528143115449168 26 142} {4960925259663328388 26 143}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {8013810261577182644 25 140} {413957409031121585 26 141} {2959528143115449168 26 142} {4960925259663328388 26 143}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45739 term 26 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 26 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 26 leaderCommit: 143 
------------------------------------------------------
flag 52776 term 26 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 26 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 26 leaderCommit: 143 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {8013810261577182644 25 140} {413957409031121585 26 141} {2959528143115449168 26 142} {4960925259663328388 26 143}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {8013810261577182644 25 140} {413957409031121585 26 141} {2959528143115449168 26 142} {4960925259663328388 26 143}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31694 term 26 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 26 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 26 leaderCommit: 143 
------------------------------------------------------
flag 45756 term 26 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 26 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 26 leaderCommit: 143 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {8013810261577182644 25 140} {413957409031121585 26 141} {2959528143115449168 26 142} {4960925259663328388 26 143}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {8013810261577182644 25 140} {413957409031121585 26 141} {2959528143115449168 26 142} {4960925259663328388 26 143}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 144->143
------------------------------------------------------
term 26 leader 2 nextIndex[0]: 0  matchIndex[0]: 143
term 26 leader 2 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 23
------------------------------------------------------
flag 26948 term 26 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 26 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 26 leaderCommit: 143 
------------------------------------------------------
term 26 server 0 InstallSnapshot fail
rf.commitIndex 143 args.LastIncludedIndex 139
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
term 26 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 140 matchIndex[0] 139 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {8013810261577182644 25 140} {413957409031121585 26 141} {2959528143115449168 26 142} {4960925259663328388 26 143}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 2550465657537472608 (index 144) to leader 2
flag 71749 term 26 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 26 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
flag 77675 term 26 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 26 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 26 leaderCommit: 143 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {8013810261577182644 25 140} {413957409031121585 26 141} {2959528143115449168 26 142} {4960925259663328388 26 143} {2550465657537472608 26 144}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63261 term 26 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 26 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
flag 44873 term 26 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 26 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 26 leaderCommit: 144 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {8013810261577182644 25 140} {413957409031121585 26 141} {2959528143115449168 26 142} {4960925259663328388 26 143} {2550465657537472608 26 144}]
------------------------------------------------------
client write log 6461161780449924967 (index 145) to leader 2
client write log 2053300604383803221 (index 146) to leader 2
client write log 2456157208808458602 (index 147) to leader 2
client write log 6689055876771468317 (index 148) to leader 2
client write log 7149567837756455965 (index 149) to leader 2
client write log 3032360250846341628 (index 150) to leader 2
client write log 7084016959586076097 (index 151) to leader 2
client write log 7583691269364585806 (index 152) to leader 2
client write log 3271432133089732169 (index 153) to leader 2
client write log 3569566219893164467 (index 154) to leader 2
client write log 8912449368041913237 (index 155) to leader 2
flag 40889 term 26 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 26 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
flag 33481 term 26 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 26 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 26 leaderCommit: 144 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 23 139} {8013810261577182644 25 140} {413957409031121585 26 141} {2959528143115449168 26 142} {4960925259663328388 26 143} {2550465657537472608 26 144} {6461161780449924967 26 145} {2053300604383803221 26 146} {2456157208808458602 26 147} {6689055876771468317 26 148} {7149567837756455965 26 149} {3032360250846341628 26 150} {7084016959586076097 26 151} {7583691269364585806 26 152} {3271432133089732169 26 153} {3569566219893164467 26 154} {8912449368041913237 26 155}]
------------------------------------------------------
term 26 Server2 start snapshot! index=149
term 26 server2 snapshot success
lastIncludedIndex=149 lastApplied=150 lastIndex=155
-------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 140->139
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 26 leader 2 nextIndex[0]: 0  matchIndex[0]: 139
term 26 leader 2 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 26
------------------------------------------------------
flag 44875 term 26 leader 2 nextIndex[1]: 156  matchIndex[1]: 155
term 26 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 26 leaderCommit: 155 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 26 149} {3032360250846341628 26 150} {7084016959586076097 26 151} {7583691269364585806 26 152} {3271432133089732169 26 153} {3569566219893164467 26 154} {8912449368041913237 26 155}]
------------------------------------------------------
term 26 Server1 start snapshot! index=149
term 26 server1 snapshot success
lastIncludedIndex=149 lastApplied=150 lastIndex=155
-------------------------------------------------------------
!!!!!!connect server 0
client write log 3058056476142943209 (index 156) to leader 2
term 26 leader 2 nextIndex[0]: 0  matchIndex[0]: 139
term 26 leader 2 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 26
------------------------------------------------------
flag 86144 term 26 leader 2 nextIndex[1]: 156  matchIndex[1]: 155
term 26 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 26 leaderCommit: 155 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=157
update matchIndex[1]=156
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {3032360250846341628 26 150} {7084016959586076097 26 151} {7583691269364585806 26 152} {3271432133089732169 26 153} {3569566219893164467 26 154} {8912449368041913237 26 155} {3058056476142943209 26 156}]
------------------------------------------------------
term 27 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 26 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 28 server 1 vote for server 2
term 28 server 0 vote for server 2
term 28 server 2 get vote from server 0
term 28 server 2 become leader
------------------------------------------------------
term 28 server 2 get outdate rpc reply from server 1
flag 59661 term 28 leader 2 nextIndex[0]: 157  matchIndex[0]: 0
term 28 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
flag 945 term 28 leader 2 nextIndex[1]: 157  matchIndex[1]: 0
term 28 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
term 28 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=157
update matchIndex[1]=156
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {3032360250846341628 26 150} {7084016959586076097 26 151} {7583691269364585806 26 152} {3271432133089732169 26 153} {3569566219893164467 26 154} {8912449368041913237 26 155} {3058056476142943209 26 156}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 157->156
------------------------------------------------------
term 28 leader 2 nextIndex[0]: 144  matchIndex[0]: 0
term 28 leader 2 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 26
------------------------------------------------------
flag 86569 term 28 leader 2 nextIndex[1]: 157  matchIndex[1]: 156
term 28 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
term 28 server 0 InstallSnapshot success
------------------------------------------------------
term 28 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 150 matchIndex[0] 149 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 149 rf.lastIncludedTerm 26 rf.commitIndex 149 rf.lastApplied 149
term 28 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=157
update matchIndex[1]=156
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {3032360250846341628 26 150} {7084016959586076097 26 151} {7583691269364585806 26 152} {3271432133089732169 26 153} {3569566219893164467 26 154} {8912449368041913237 26 155} {3058056476142943209 26 156}]
------------------------------------------------------
flag 84076 term 28 leader 2 nextIndex[0]: 150  matchIndex[0]: 149
term 28 leader 2 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
flag 93009 term 28 leader 2 nextIndex[1]: 157  matchIndex[1]: 156
term 28 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:149 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {3032360250846341628 26 150} {7084016959586076097 26 151} {7583691269364585806 26 152} {3271432133089732169 26 153} {3569566219893164467 26 154} {8912449368041913237 26 155} {3058056476142943209 26 156}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=157
update matchIndex[1]=156
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {3032360250846341628 26 150} {7084016959586076097 26 151} {7583691269364585806 26 152} {3271432133089732169 26 153} {3569566219893164467 26 154} {8912449368041913237 26 155} {3058056476142943209 26 156}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62402 term 28 leader 2 nextIndex[0]: 157  matchIndex[0]: 156
term 28 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
flag 46275 term 28 leader 2 nextIndex[1]: 157  matchIndex[1]: 156
term 28 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=157
update matchIndex[1]=156
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {3032360250846341628 26 150} {7084016959586076097 26 151} {7583691269364585806 26 152} {3271432133089732169 26 153} {3569566219893164467 26 154} {8912449368041913237 26 155} {3058056476142943209 26 156}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {3032360250846341628 26 150} {7084016959586076097 26 151} {7583691269364585806 26 152} {3271432133089732169 26 153} {3569566219893164467 26 154} {8912449368041913237 26 155} {3058056476142943209 26 156}]
------------------------------------------------------
flag 82134 term 28 leader 2 nextIndex[0]: 157  matchIndex[0]: 156
term 28 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
flag 24381 term 28 leader 2 nextIndex[1]: 157  matchIndex[1]: 156
term 28 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=157
update matchIndex[1]=156
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {3032360250846341628 26 150} {7084016959586076097 26 151} {7583691269364585806 26 152} {3271432133089732169 26 153} {3569566219893164467 26 154} {8912449368041913237 26 155} {3058056476142943209 26 156}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {3032360250846341628 26 150} {7084016959586076097 26 151} {7583691269364585806 26 152} {3271432133089732169 26 153} {3569566219893164467 26 154} {8912449368041913237 26 155} {3058056476142943209 26 156}]
------------------------------------------------------
flag 96807 term 28 leader 2 nextIndex[0]: 157  matchIndex[0]: 156
term 28 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
flag 76577 term 28 leader 2 nextIndex[1]: 157  matchIndex[1]: 156
term 28 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=157
update matchIndex[1]=156
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {3032360250846341628 26 150} {7084016959586076097 26 151} {7583691269364585806 26 152} {3271432133089732169 26 153} {3569566219893164467 26 154} {8912449368041913237 26 155} {3058056476142943209 26 156}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {3032360250846341628 26 150} {7084016959586076097 26 151} {7583691269364585806 26 152} {3271432133089732169 26 153} {3569566219893164467 26 154} {8912449368041913237 26 155} {3058056476142943209 26 156}]
------------------------------------------------------
flag 21639 term 28 leader 2 nextIndex[0]: 157  matchIndex[0]: 156
term 28 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
flag 7192 term 28 leader 2 nextIndex[1]: 157  matchIndex[1]: 156
term 28 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=157
update matchIndex[1]=156
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {3032360250846341628 26 150} {7084016959586076097 26 151} {7583691269364585806 26 152} {3271432133089732169 26 153} {3569566219893164467 26 154} {8912449368041913237 26 155} {3058056476142943209 26 156}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {3032360250846341628 26 150} {7084016959586076097 26 151} {7583691269364585806 26 152} {3271432133089732169 26 153} {3569566219893164467 26 154} {8912449368041913237 26 155} {3058056476142943209 26 156}]
------------------------------------------------------
flag 43605 term 28 leader 2 nextIndex[0]: 157  matchIndex[0]: 156
term 28 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
flag 27344 term 28 leader 2 nextIndex[1]: 157  matchIndex[1]: 156
term 28 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=157
update matchIndex[1]=156
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {3032360250846341628 26 150} {7084016959586076097 26 151} {7583691269364585806 26 152} {3271432133089732169 26 153} {3569566219893164467 26 154} {8912449368041913237 26 155} {3058056476142943209 26 156}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {3032360250846341628 26 150} {7084016959586076097 26 151} {7583691269364585806 26 152} {3271432133089732169 26 153} {3569566219893164467 26 154} {8912449368041913237 26 155} {3058056476142943209 26 156}]
------------------------------------------------------
flag 87866 term 28 leader 2 nextIndex[0]: 157  matchIndex[0]: 156
term 28 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
flag 78112 term 28 leader 2 nextIndex[1]: 157  matchIndex[1]: 156
term 28 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=157
update matchIndex[1]=156
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {3032360250846341628 26 150} {7084016959586076097 26 151} {7583691269364585806 26 152} {3271432133089732169 26 153} {3569566219893164467 26 154} {8912449368041913237 26 155} {3058056476142943209 26 156}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {3032360250846341628 26 150} {7084016959586076097 26 151} {7583691269364585806 26 152} {3271432133089732169 26 153} {3569566219893164467 26 154} {8912449368041913237 26 155} {3058056476142943209 26 156}]
------------------------------------------------------
term 28 server 1 not vote for server 0, 任期不够新
term 28 server 0 get outdate rpc reply from server 1
!!!!!!diconnect server 0
client write log 1811758311985198051 (index 157) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64853 term 28 leader 2 nextIndex[0]: 157  matchIndex[0]: 156
term 28 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
flag 66408 term 28 leader 2 nextIndex[1]: 157  matchIndex[1]: 156
term 28 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=158
update matchIndex[1]=157
update leader CommitIndex=157
leader log:
[{snapshot 26 149} {3032360250846341628 26 150} {7084016959586076097 26 151} {7583691269364585806 26 152} {3271432133089732169 26 153} {3569566219893164467 26 154} {8912449368041913237 26 155} {3058056476142943209 26 156} {1811758311985198051 28 157}]
------------------------------------------------------
flag 7846 term 28 leader 2 nextIndex[0]: 157  matchIndex[0]: 156
term 28 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
flag 6551 term 28 leader 2 nextIndex[1]: 158  matchIndex[1]: 157
term 28 leader 2 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 28 leaderCommit: 157 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=158
update matchIndex[1]=157
update leader CommitIndex=157
leader log:
[{snapshot 26 149} {3032360250846341628 26 150} {7084016959586076097 26 151} {7583691269364585806 26 152} {3271432133089732169 26 153} {3569566219893164467 26 154} {8912449368041913237 26 155} {3058056476142943209 26 156} {1811758311985198051 28 157}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 1000439079953267431 (index 158) to leader 2
client write log 8589783421045292793 (index 159) to leader 2
client write log 5315871651281464750 (index 160) to leader 2
client write log 90186502617684002 (index 161) to leader 2
client write log 4935696101264706558 (index 162) to leader 2
client write log 3170312989709702414 (index 163) to leader 2
client write log 6366776815291388639 (index 164) to leader 2
client write log 2134109986777437638 (index 165) to leader 2
client write log 6160215668166455890 (index 166) to leader 2
client write log 7125056135477157565 (index 167) to leader 2
client write log 5296832231756448082 (index 168) to leader 2
client write log 8110510669405979365 (index 169) to leader 2
flag 32600 term 28 leader 2 nextIndex[0]: 157  matchIndex[0]: 156
term 28 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
flag 25082 term 28 leader 2 nextIndex[1]: 158  matchIndex[1]: 157
term 28 leader 2 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 28 leaderCommit: 157 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 26 149} {3032360250846341628 26 150} {7084016959586076097 26 151} {7583691269364585806 26 152} {3271432133089732169 26 153} {3569566219893164467 26 154} {8912449368041913237 26 155} {3058056476142943209 26 156} {1811758311985198051 28 157} {1000439079953267431 28 158} {8589783421045292793 28 159} {5315871651281464750 28 160} {90186502617684002 28 161} {4935696101264706558 28 162} {3170312989709702414 28 163} {6366776815291388639 28 164} {2134109986777437638 28 165} {6160215668166455890 28 166} {7125056135477157565 28 167} {5296832231756448082 28 168} {8110510669405979365 28 169}]
------------------------------------------------------
term 28 Server2 start snapshot! index=159
term 28 server2 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=169
-------------------------------------------------------------
term 28 Server2 start snapshot! index=169
term 28 server2 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=169
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 28 leader 2 nextIndex[0]: 157  matchIndex[0]: 156
term 28 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 28
------------------------------------------------------
flag 8754 term 28 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 28 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 169 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 28 169}]
------------------------------------------------------
term 28 Server1 start snapshot! index=159
term 28 server1 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=169
-------------------------------------------------------------
term 28 Server1 start snapshot! index=169
term 28 server1 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=169
-------------------------------------------------------------
!!!!!!connect server 0
client write log 7210749843833171590 (index 170) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 28 leader 2 nextIndex[0]: 157  matchIndex[0]: 156
term 28 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 28
------------------------------------------------------
flag 33398 term 28 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 28 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 169 
------------------------------------------------------
term 29 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 28 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 30 server 1 vote for server 2
term 30 server 0 vote for server 2
term 30 server 2 get vote from server 1
term 30 server 2 become leader
------------------------------------------------------
term 30 server 2 get outdate rpc reply from server 0
flag 58905 term 30 leader 2 nextIndex[0]: 171  matchIndex[0]: 0
term 30 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 28 leaderCommit: 169 
------------------------------------------------------
flag 37635 term 30 leader 2 nextIndex[1]: 171  matchIndex[1]: 0
term 30 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 28 leaderCommit: 169 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=169
leader log:
[{snapshot 28 169} {7210749843833171590 28 170}]
------------------------------------------------------
term 30 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 171->170
------------------------------------------------------
term 30 leader 2 nextIndex[0]: 157  matchIndex[0]: 0
term 30 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 28
------------------------------------------------------
flag 59477 term 30 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 30 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 28 leaderCommit: 169 
------------------------------------------------------
term 30 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 169 rf.lastIncludedTerm 28 rf.commitIndex 169 rf.lastApplied 169
term 30 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 170 matchIndex[0] 169 
------------------------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=169
leader log:
[{snapshot 28 169} {7210749843833171590 28 170}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18384 term 30 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 30 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 169 
------------------------------------------------------
flag 24241 term 30 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 30 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 28 leaderCommit: 169 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=169
leader log:
[{snapshot 28 169} {7210749843833171590 28 170}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=169
leader log:
[{snapshot 28 169} {7210749843833171590 28 170}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23917 term 30 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 30 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 28 leaderCommit: 169 
------------------------------------------------------
flag 71319 term 30 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 30 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 28 leaderCommit: 169 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=169
leader log:
[{snapshot 28 169} {7210749843833171590 28 170}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=169
leader log:
[{snapshot 28 169} {7210749843833171590 28 170}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78020 term 30 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 30 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 28 leaderCommit: 169 
------------------------------------------------------
flag 29190 term 30 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 30 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 28 leaderCommit: 169 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
term 30 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
update matchIndex[1]=170
update leader CommitIndex=169
leader log:
[{snapshot 28 169} {7210749843833171590 28 170}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=169
leader log:
[{snapshot 28 169} {7210749843833171590 28 170}]
------------------------------------------------------
flag 25495 term 30 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 30 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 28 leaderCommit: 169 
------------------------------------------------------
flag 63960 term 30 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 30 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 28 leaderCommit: 169 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=169
leader log:
[{snapshot 28 169} {7210749843833171590 28 170}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=169
leader log:
[{snapshot 28 169} {7210749843833171590 28 170}]
------------------------------------------------------
flag 61901 term 30 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 30 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 28 leaderCommit: 169 
------------------------------------------------------
flag 98229 term 30 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 30 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 28 leaderCommit: 169 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=169
leader log:
[{snapshot 28 169} {7210749843833171590 28 170}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=169
leader log:
[{snapshot 28 169} {7210749843833171590 28 170}]
------------------------------------------------------
flag 56027 term 30 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 30 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 28 leaderCommit: 169 
------------------------------------------------------
flag 81257 term 30 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 30 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 28 leaderCommit: 169 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=169
leader log:
[{snapshot 28 169} {7210749843833171590 28 170}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=169
leader log:
[{snapshot 28 169} {7210749843833171590 28 170}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 30 server 2 not vote for server 0, 任期不够新
term 30 server 0 get outdate rpc reply from server 2
flag 28369 term 30 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 30 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 28 leaderCommit: 169 
------------------------------------------------------
flag 69969 term 30 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 30 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 28 leaderCommit: 169 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=169
leader log:
[{snapshot 28 169} {7210749843833171590 28 170}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=169
leader log:
[{snapshot 28 169} {7210749843833171590 28 170}]
------------------------------------------------------
flag 90852 term 30 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 30 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 28 leaderCommit: 169 
------------------------------------------------------
flag 22744 term 30 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 30 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 28 leaderCommit: 169 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=169
leader log:
[{snapshot 28 169} {7210749843833171590 28 170}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=169
leader log:
[{snapshot 28 169} {7210749843833171590 28 170}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14065 term 30 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 30 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 28 leaderCommit: 169 
------------------------------------------------------
flag 17511 term 30 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 30 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 28 leaderCommit: 169 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:169 
term 30 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=169
leader log:
[{snapshot 28 169} {7210749843833171590 28 170}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=169
leader log:
[{snapshot 28 169} {7210749843833171590 28 170}]
------------------------------------------------------
flag 41727 term 30 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 30 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 28 leaderCommit: 169 
------------------------------------------------------
flag 59386 term 30 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 30 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 28 leaderCommit: 169 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=169
leader log:
[{snapshot 28 169} {7210749843833171590 28 170}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=169
leader log:
[{snapshot 28 169} {7210749843833171590 28 170}]
------------------------------------------------------
flag 62189 term 30 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 30 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 28 leaderCommit: 169 
------------------------------------------------------
flag 45418 term 30 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 30 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 28 leaderCommit: 169 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=169
leader log:
[{snapshot 28 169} {7210749843833171590 28 170}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=169
leader log:
[{snapshot 28 169} {7210749843833171590 28 170}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91482 term 30 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 30 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 28 leaderCommit: 169 
------------------------------------------------------
flag 80915 term 30 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 30 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 28 leaderCommit: 169 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=169
leader log:
[{snapshot 28 169} {7210749843833171590 28 170}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=169
leader log:
[{snapshot 28 169} {7210749843833171590 28 170}]
------------------------------------------------------
flag 58084 term 30 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 30 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 28 leaderCommit: 169 
------------------------------------------------------
flag 27451 term 30 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 30 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 28 leaderCommit: 169 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=169
leader log:
[{snapshot 28 169} {7210749843833171590 28 170}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=169
leader log:
[{snapshot 28 169} {7210749843833171590 28 170}]
------------------------------------------------------
term 30 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 36719 term 30 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 30 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 28 leaderCommit: 169 
------------------------------------------------------
flag 327 term 30 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 30 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 28 leaderCommit: 169 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=169
leader log:
[{snapshot 28 169} {7210749843833171590 28 170}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=169
leader log:
[{snapshot 28 169} {7210749843833171590 28 170}]
------------------------------------------------------
flag 53261 term 30 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 30 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 28 leaderCommit: 169 
------------------------------------------------------
flag 98830 term 30 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 30 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 28 leaderCommit: 169 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=169
leader log:
[{snapshot 28 169} {7210749843833171590 28 170}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=169
leader log:
[{snapshot 28 169} {7210749843833171590 28 170}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40934 term 30 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 30 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 28 leaderCommit: 169 
------------------------------------------------------
flag 48884 term 30 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 30 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 28 leaderCommit: 169 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=169
leader log:
[{snapshot 28 169} {7210749843833171590 28 170}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=169
leader log:
[{snapshot 28 169} {7210749843833171590 28 170}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 7210749843833171590 (index 171) to leader 2
flag 75987 term 30 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 30 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 28 leaderCommit: 169 
------------------------------------------------------
flag 53359 term 30 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 30 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 28 leaderCommit: 169 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {7210749843833171590 28 170} {7210749843833171590 30 171}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=172
update matchIndex[0]=171
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {7210749843833171590 28 170} {7210749843833171590 30 171}]
------------------------------------------------------
flag 92742 term 30 leader 2 nextIndex[0]: 172  matchIndex[0]: 171
term 30 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 30 leaderCommit: 171 
------------------------------------------------------
flag 31584 term 30 leader 2 nextIndex[1]: 172  matchIndex[1]: 171
term 30 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 30 leaderCommit: 171 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {7210749843833171590 28 170} {7210749843833171590 30 171}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=172
update matchIndex[0]=171
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {7210749843833171590 28 170} {7210749843833171590 30 171}]
------------------------------------------------------
term 30 server 2 not vote for server 0, 任期不够新
term 30 server 0 get outdate rpc reply from server 2
flag 84010 term 30 leader 2 nextIndex[0]: 172  matchIndex[0]: 171
term 30 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 30 leaderCommit: 171 
------------------------------------------------------
flag 39656 term 30 leader 2 nextIndex[1]: 172  matchIndex[1]: 171
term 30 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 30 leaderCommit: 171 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {7210749843833171590 28 170} {7210749843833171590 30 171}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=172
update matchIndex[0]=171
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {7210749843833171590 28 170} {7210749843833171590 30 171}]
------------------------------------------------------
flag 27077 term 30 leader 2 nextIndex[0]: 172  matchIndex[0]: 171
term 30 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 30 leaderCommit: 171 
------------------------------------------------------
flag 30464 term 30 leader 2 nextIndex[1]: 172  matchIndex[1]: 171
term 30 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 30 leaderCommit: 171 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {7210749843833171590 28 170} {7210749843833171590 30 171}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=172
update matchIndex[0]=171
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {7210749843833171590 28 170} {7210749843833171590 30 171}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22942 term 30 leader 2 nextIndex[0]: 172  matchIndex[0]: 171
term 30 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 30 leaderCommit: 171 
------------------------------------------------------
flag 77411 term 30 leader 2 nextIndex[1]: 172  matchIndex[1]: 171
term 30 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 30 leaderCommit: 171 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {7210749843833171590 28 170} {7210749843833171590 30 171}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=172
update matchIndex[0]=171
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {7210749843833171590 28 170} {7210749843833171590 30 171}]
------------------------------------------------------
flag 73838 term 30 leader 2 nextIndex[0]: 172  matchIndex[0]: 171
term 30 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 30 leaderCommit: 171 
------------------------------------------------------
flag 76830 term 30 leader 2 nextIndex[1]: 172  matchIndex[1]: 171
term 30 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 30 leaderCommit: 171 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {7210749843833171590 28 170} {7210749843833171590 30 171}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=172
update matchIndex[0]=171
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {7210749843833171590 28 170} {7210749843833171590 30 171}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 28591 term 30 leader 2 nextIndex[0]: 172  matchIndex[0]: 171
term 30 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 30 leaderCommit: 171 
------------------------------------------------------
flag 60499 term 30 leader 2 nextIndex[1]: 172  matchIndex[1]: 171
term 30 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 30 leaderCommit: 171 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14064 term 30 leader 2 nextIndex[0]: 172  matchIndex[0]: 171
term 30 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 30 leaderCommit: 171 
------------------------------------------------------
flag 37312 term 30 leader 2 nextIndex[1]: 172  matchIndex[1]: 171
term 30 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 30 leaderCommit: 171 
------------------------------------------------------
flag 36420 term 30 leader 2 nextIndex[0]: 172  matchIndex[0]: 171
term 30 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 30 leaderCommit: 171 
------------------------------------------------------
flag 26735 term 30 leader 2 nextIndex[1]: 172  matchIndex[1]: 171
term 30 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 30 leaderCommit: 171 
------------------------------------------------------
term 30 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 31 server 0 vote for server 1
term 31 server 1 get vote from server 0
term 31 server 1 become leader
------------------------------------------------------
flag 83941 term 31 leader 1 nextIndex[0]: 172  matchIndex[0]: 0
term 31 leader 1 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 30 leaderCommit: 171 
------------------------------------------------------
flag 89812 term 31 leader 1 nextIndex[2]: 172  matchIndex[2]: 0
term 31 leader 1 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 30 leaderCommit: 171 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=172
update matchIndex[0]=171
update leader CommitIndex=171
leader log:
[{snapshot 28 169} {7210749843833171590 28 170} {7210749843833171590 30 171}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 2900204600264431390 (index 172) to leader 1
flag 87422 term 30 leader 2 nextIndex[0]: 172  matchIndex[0]: 171
term 30 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 30 leaderCommit: 171 
------------------------------------------------------
flag 24846 term 30 leader 2 nextIndex[1]: 172  matchIndex[1]: 171
term 30 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 30 leaderCommit: 171 
------------------------------------------------------
flag 57414 term 31 leader 1 nextIndex[0]: 172  matchIndex[0]: 171
term 31 leader 1 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 30 leaderCommit: 171 
------------------------------------------------------
flag 39135 term 31 leader 1 nextIndex[2]: 172  matchIndex[2]: 0
term 31 leader 1 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 30 leaderCommit: 171 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {7210749843833171590 28 170} {7210749843833171590 30 171} {2900204600264431390 31 172}]
------------------------------------------------------
flag 81766 term 30 leader 2 nextIndex[0]: 172  matchIndex[0]: 171
term 30 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 30 leaderCommit: 171 
------------------------------------------------------
flag 82207 term 30 leader 2 nextIndex[1]: 172  matchIndex[1]: 171
term 30 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 30 leaderCommit: 171 
------------------------------------------------------
flag 82281 term 31 leader 1 nextIndex[0]: 173  matchIndex[0]: 172
term 31 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
flag 45725 term 31 leader 1 nextIndex[2]: 172  matchIndex[2]: 0
term 31 leader 1 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 30 leaderCommit: 172 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=173
update matchIndex[0]=172
update leader CommitIndex=172
leader log:
[{snapshot 28 169} {7210749843833171590 28 170} {7210749843833171590 30 171} {2900204600264431390 31 172}]
------------------------------------------------------
client write log 9180075048472948843 (index 173) to leader 1
flag 62197 term 30 leader 2 nextIndex[0]: 172  matchIndex[0]: 171
term 30 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 30 leaderCommit: 171 
------------------------------------------------------
flag 86034 term 30 leader 2 nextIndex[1]: 172  matchIndex[1]: 171
term 30 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 30 leaderCommit: 171 
------------------------------------------------------
flag 23984 term 31 leader 1 nextIndex[0]: 173  matchIndex[0]: 172
term 31 leader 1 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
flag 72129 term 31 leader 1 nextIndex[2]: 172  matchIndex[2]: 0
term 31 leader 1 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 30 leaderCommit: 172 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=173
leader log:
[{snapshot 28 169} {7210749843833171590 28 170} {7210749843833171590 30 171} {2900204600264431390 31 172} {9180075048472948843 31 173}]
------------------------------------------------------
flag 77219 term 30 leader 2 nextIndex[0]: 172  matchIndex[0]: 171
term 30 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 30 leaderCommit: 171 
------------------------------------------------------
flag 15609 term 30 leader 2 nextIndex[1]: 172  matchIndex[1]: 171
term 30 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 30 leaderCommit: 171 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28563 term 31 leader 1 nextIndex[0]: 174  matchIndex[0]: 173
term 31 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 173 
------------------------------------------------------
flag 89403 term 31 leader 1 nextIndex[2]: 172  matchIndex[2]: 0
term 31 leader 1 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 30 leaderCommit: 173 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=173
leader log:
[{snapshot 28 169} {7210749843833171590 28 170} {7210749843833171590 30 171} {2900204600264431390 31 172} {9180075048472948843 31 173}]
------------------------------------------------------
!!!!!!connect server 2
client write log 7011161524958006785 (index 174) to leader 1
flag 71340 term 30 leader 2 nextIndex[0]: 172  matchIndex[0]: 171
term 30 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 30 leaderCommit: 171 
------------------------------------------------------
flag 2477 term 30 leader 2 nextIndex[1]: 172  matchIndex[1]: 171
term 30 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 30 leaderCommit: 171 
------------------------------------------------------
term 31 server 1 AppendEntries false 领导者任期过期 args.Term 30
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 31 server 0 AppendEntries false 领导者任期过期 args.Term 30
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69213 term 31 leader 1 nextIndex[0]: 174  matchIndex[0]: 173
term 31 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 173 
------------------------------------------------------
flag 13753 term 31 leader 1 nextIndex[2]: 172  matchIndex[2]: 0
term 31 leader 1 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 30 leaderCommit: 173 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=175
update matchIndex[0]=174
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {7210749843833171590 28 170} {7210749843833171590 30 171} {2900204600264431390 31 172} {9180075048472948843 31 173} {7011161524958006785 31 174}]
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=175
update matchIndex[2]=174
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {7210749843833171590 28 170} {7210749843833171590 30 171} {2900204600264431390 31 172} {9180075048472948843 31 173} {7011161524958006785 31 174}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67483 term 31 leader 1 nextIndex[0]: 175  matchIndex[0]: 174
term 31 leader 1 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 31 leaderCommit: 174 
------------------------------------------------------
flag 23385 term 31 leader 1 nextIndex[2]: 175  matchIndex[2]: 174
term 31 leader 1 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 31 leaderCommit: 174 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=175
update matchIndex[2]=174
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {7210749843833171590 28 170} {7210749843833171590 30 171} {2900204600264431390 31 172} {9180075048472948843 31 173} {7011161524958006785 31 174}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=175
update matchIndex[0]=174
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {7210749843833171590 28 170} {7210749843833171590 30 171} {2900204600264431390 31 172} {9180075048472948843 31 173} {7011161524958006785 31 174}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 31 server 0 not vote for server 2, 任期不够新
term 31 server 2 get outdate rpc reply from server 0
flag 41258 term 31 leader 1 nextIndex[0]: 175  matchIndex[0]: 174
term 31 leader 1 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 31 leaderCommit: 174 
------------------------------------------------------
flag 7132 term 31 leader 1 nextIndex[2]: 175  matchIndex[2]: 174
term 31 leader 1 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 31 leaderCommit: 174 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=175
update matchIndex[0]=174
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {7210749843833171590 28 170} {7210749843833171590 30 171} {2900204600264431390 31 172} {9180075048472948843 31 173} {7011161524958006785 31 174}]
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=175
update matchIndex[2]=174
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {7210749843833171590 28 170} {7210749843833171590 30 171} {2900204600264431390 31 172} {9180075048472948843 31 173} {7011161524958006785 31 174}]
------------------------------------------------------
flag 49992 term 31 leader 1 nextIndex[0]: 175  matchIndex[0]: 174
term 31 leader 1 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 31 leaderCommit: 174 
------------------------------------------------------
flag 97834 term 31 leader 1 nextIndex[2]: 175  matchIndex[2]: 174
term 31 leader 1 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 31 leaderCommit: 174 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=175
update matchIndex[2]=174
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {7210749843833171590 28 170} {7210749843833171590 30 171} {2900204600264431390 31 172} {9180075048472948843 31 173} {7011161524958006785 31 174}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=175
update matchIndex[0]=174
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {7210749843833171590 28 170} {7210749843833171590 30 171} {2900204600264431390 31 172} {9180075048472948843 31 173} {7011161524958006785 31 174}]
------------------------------------------------------
flag 69317 term 31 leader 1 nextIndex[0]: 175  matchIndex[0]: 174
term 31 leader 1 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 31 leaderCommit: 174 
------------------------------------------------------
flag 28879 term 31 leader 1 nextIndex[2]: 175  matchIndex[2]: 174
term 31 leader 1 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 31 leaderCommit: 174 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=175
update matchIndex[0]=174
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {7210749843833171590 28 170} {7210749843833171590 30 171} {2900204600264431390 31 172} {9180075048472948843 31 173} {7011161524958006785 31 174}]
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=175
update matchIndex[2]=174
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {7210749843833171590 28 170} {7210749843833171590 30 171} {2900204600264431390 31 172} {9180075048472948843 31 173} {7011161524958006785 31 174}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8989 term 31 leader 1 nextIndex[0]: 175  matchIndex[0]: 174
term 31 leader 1 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 31 leaderCommit: 174 
------------------------------------------------------
flag 1963 term 31 leader 1 nextIndex[2]: 175  matchIndex[2]: 174
term 31 leader 1 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 31 leaderCommit: 174 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=175
update matchIndex[0]=174
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {7210749843833171590 28 170} {7210749843833171590 30 171} {2900204600264431390 31 172} {9180075048472948843 31 173} {7011161524958006785 31 174}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=175
update matchIndex[2]=174
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {7210749843833171590 28 170} {7210749843833171590 30 171} {2900204600264431390 31 172} {9180075048472948843 31 173} {7011161524958006785 31 174}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 4720358263040873079 (index 175) to leader 1
flag 58404 term 31 leader 1 nextIndex[0]: 175  matchIndex[0]: 174
term 31 leader 1 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 31 leaderCommit: 174 
------------------------------------------------------
flag 7908 term 31 leader 1 nextIndex[2]: 175  matchIndex[2]: 174
term 31 leader 1 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 31 leaderCommit: 174 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {7210749843833171590 28 170} {7210749843833171590 30 171} {2900204600264431390 31 172} {9180075048472948843 31 173} {7011161524958006785 31 174} {4720358263040873079 31 175}]
------------------------------------------------------
flag 83457 term 31 leader 1 nextIndex[0]: 176  matchIndex[0]: 175
term 31 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 31 leaderCommit: 175 
------------------------------------------------------
flag 6054 term 31 leader 1 nextIndex[2]: 175  matchIndex[2]: 174
term 31 leader 1 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 31 leaderCommit: 175 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 169} {7210749843833171590 28 170} {7210749843833171590 30 171} {2900204600264431390 31 172} {9180075048472948843 31 173} {7011161524958006785 31 174} {4720358263040873079 31 175}]
------------------------------------------------------
client write log 1910741016403352509 (index 176) to leader 1
client write log 4366442369352064263 (index 177) to leader 1
client write log 7096530435449329847 (index 178) to leader 1
client write log 3713411299562342683 (index 179) to leader 1
client write log 5475363280562306549 (index 180) to leader 1
client write log 7685777042602704765 (index 181) to leader 1
client write log 2520753684373826299 (index 182) to leader 1
client write log 2357089419190260173 (index 183) to leader 1
client write log 5847228988381981947 (index 184) to leader 1
client write log 5386439125892720248 (index 185) to leader 1
client write log 8555458139697675683 (index 186) to leader 1
client write log 1528560622570580205 (index 187) to leader 1
client write log 1089778949887123507 (index 188) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28908 term 31 leader 1 nextIndex[0]: 176  matchIndex[0]: 175
term 31 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 31 leaderCommit: 175 
------------------------------------------------------
flag 66604 term 31 leader 1 nextIndex[2]: 175  matchIndex[2]: 174
term 31 leader 1 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 31 leaderCommit: 175 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=189
update matchIndex[0]=188
update leader CommitIndex=188
leader log:
[{snapshot 28 169} {7210749843833171590 28 170} {7210749843833171590 30 171} {2900204600264431390 31 172} {9180075048472948843 31 173} {7011161524958006785 31 174} {4720358263040873079 31 175} {1910741016403352509 31 176} {4366442369352064263 31 177} {7096530435449329847 31 178} {3713411299562342683 31 179} {5475363280562306549 31 180} {7685777042602704765 31 181} {2520753684373826299 31 182} {2357089419190260173 31 183} {5847228988381981947 31 184} {5386439125892720248 31 185} {8555458139697675683 31 186} {1528560622570580205 31 187} {1089778949887123507 31 188}]
------------------------------------------------------
term 31 Server1 start snapshot! index=179
term 31 server1 snapshot success
lastIncludedIndex=179 lastApplied=180 lastIndex=188
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66198 term 31 leader 1 nextIndex[0]: 189  matchIndex[0]: 188
term 31 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 31 leaderCommit: 188 
------------------------------------------------------
term 31 leader 1 nextIndex[2]: 175  matchIndex[2]: 174
term 31 leader 1 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 31
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=189
update matchIndex[0]=188
update leader CommitIndex=188
leader log:
[{snapshot 31 179} {5475363280562306549 31 180} {7685777042602704765 31 181} {2520753684373826299 31 182} {2357089419190260173 31 183} {5847228988381981947 31 184} {5386439125892720248 31 185} {8555458139697675683 31 186} {1528560622570580205 31 187} {1089778949887123507 31 188}]
------------------------------------------------------
term 31 Server0 start snapshot! index=179
term 31 server0 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=188
-------------------------------------------------------------
!!!!!!connect server 2
client write log 8526929826795751067 (index 189) to leader 1
term 31 server 1 not vote for server 2, 日志不够新
term 31 server 0 not vote for server 2, 日志不够新
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 33 server 2 vote for server 1
term 33 server 0 vote for server 1
term 33 server 1 get vote from server 2
term 33 server 1 become leader
------------------------------------------------------
term 33 server 1 get outdate rpc reply from server 0
flag 76927 term 33 leader 1 nextIndex[0]: 190  matchIndex[0]: 0
term 33 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 31 leaderCommit: 188 
------------------------------------------------------
flag 44773 term 33 leader 1 nextIndex[2]: 190  matchIndex[2]: 0
term 33 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 31 leaderCommit: 188 
------------------------------------------------------
term 33 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 190->189
------------------------------------------------------
term 33 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 190->189
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 33 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82954 term 33 leader 1 nextIndex[0]: 189  matchIndex[0]: 0
term 33 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 31 leaderCommit: 188 
------------------------------------------------------
term 33 leader 1 nextIndex[2]: 175  matchIndex[2]: 0
term 33 leader 1 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 31
------------------------------------------------------
term 33 server 2 InstallSnapshot success
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
term 33 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 180 matchIndex[2] 179 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=188
leader log:
[{snapshot 31 179} {5475363280562306549 31 180} {7685777042602704765 31 181} {2520753684373826299 31 182} {2357089419190260173 31 183} {5847228988381981947 31 184} {5386439125892720248 31 185} {8555458139697675683 31 186} {1528560622570580205 31 187} {1089778949887123507 31 188} {8526929826795751067 31 189}]
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 179 rf.lastIncludedTerm 31 rf.commitIndex 179 rf.lastApplied 179
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 33 server 1 not vote for server 0, 任期不够新
term 33 server 0 get outdate rpc reply from server 1
flag 5176 term 33 leader 1 nextIndex[0]: 190  matchIndex[0]: 189
term 33 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 31 leaderCommit: 188 
------------------------------------------------------
flag 22481 term 33 leader 1 nextIndex[2]: 180  matchIndex[2]: 179
term 33 leader 1 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 31 leaderCommit: 188 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=188
leader log:
[{snapshot 31 179} {5475363280562306549 31 180} {7685777042602704765 31 181} {2520753684373826299 31 182} {2357089419190260173 31 183} {5847228988381981947 31 184} {5386439125892720248 31 185} {8555458139697675683 31 186} {1528560622570580205 31 187} {1089778949887123507 31 188} {8526929826795751067 31 189}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=188
leader log:
[{snapshot 31 179} {5475363280562306549 31 180} {7685777042602704765 31 181} {2520753684373826299 31 182} {2357089419190260173 31 183} {5847228988381981947 31 184} {5386439125892720248 31 185} {8555458139697675683 31 186} {1528560622570580205 31 187} {1089778949887123507 31 188} {8526929826795751067 31 189}]
------------------------------------------------------
flag 22605 term 33 leader 1 nextIndex[0]: 190  matchIndex[0]: 189
term 33 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 31 leaderCommit: 188 
------------------------------------------------------
flag 85373 term 33 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 33 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 31 leaderCommit: 188 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=188
leader log:
[{snapshot 31 179} {5475363280562306549 31 180} {7685777042602704765 31 181} {2520753684373826299 31 182} {2357089419190260173 31 183} {5847228988381981947 31 184} {5386439125892720248 31 185} {8555458139697675683 31 186} {1528560622570580205 31 187} {1089778949887123507 31 188} {8526929826795751067 31 189}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=188
leader log:
[{snapshot 31 179} {5475363280562306549 31 180} {7685777042602704765 31 181} {2520753684373826299 31 182} {2357089419190260173 31 183} {5847228988381981947 31 184} {5386439125892720248 31 185} {8555458139697675683 31 186} {1528560622570580205 31 187} {1089778949887123507 31 188} {8526929826795751067 31 189}]
------------------------------------------------------
flag 72153 term 33 leader 1 nextIndex[0]: 190  matchIndex[0]: 189
term 33 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 31 leaderCommit: 188 
------------------------------------------------------
flag 39481 term 33 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 33 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 31 leaderCommit: 188 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=188
leader log:
[{snapshot 31 179} {5475363280562306549 31 180} {7685777042602704765 31 181} {2520753684373826299 31 182} {2357089419190260173 31 183} {5847228988381981947 31 184} {5386439125892720248 31 185} {8555458139697675683 31 186} {1528560622570580205 31 187} {1089778949887123507 31 188} {8526929826795751067 31 189}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=188
leader log:
[{snapshot 31 179} {5475363280562306549 31 180} {7685777042602704765 31 181} {2520753684373826299 31 182} {2357089419190260173 31 183} {5847228988381981947 31 184} {5386439125892720248 31 185} {8555458139697675683 31 186} {1528560622570580205 31 187} {1089778949887123507 31 188} {8526929826795751067 31 189}]
------------------------------------------------------
flag 78721 term 33 leader 1 nextIndex[0]: 190  matchIndex[0]: 189
term 33 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 31 leaderCommit: 188 
------------------------------------------------------
flag 5183 term 33 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 33 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 31 leaderCommit: 188 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=188
leader log:
[{snapshot 31 179} {5475363280562306549 31 180} {7685777042602704765 31 181} {2520753684373826299 31 182} {2357089419190260173 31 183} {5847228988381981947 31 184} {5386439125892720248 31 185} {8555458139697675683 31 186} {1528560622570580205 31 187} {1089778949887123507 31 188} {8526929826795751067 31 189}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=188
leader log:
[{snapshot 31 179} {5475363280562306549 31 180} {7685777042602704765 31 181} {2520753684373826299 31 182} {2357089419190260173 31 183} {5847228988381981947 31 184} {5386439125892720248 31 185} {8555458139697675683 31 186} {1528560622570580205 31 187} {1089778949887123507 31 188} {8526929826795751067 31 189}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 361 term 33 leader 1 nextIndex[0]: 190  matchIndex[0]: 189
term 33 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 31 leaderCommit: 188 
------------------------------------------------------
flag 22448 term 33 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 33 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 31 leaderCommit: 188 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=188
leader log:
[{snapshot 31 179} {5475363280562306549 31 180} {7685777042602704765 31 181} {2520753684373826299 31 182} {2357089419190260173 31 183} {5847228988381981947 31 184} {5386439125892720248 31 185} {8555458139697675683 31 186} {1528560622570580205 31 187} {1089778949887123507 31 188} {8526929826795751067 31 189}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=188
leader log:
[{snapshot 31 179} {5475363280562306549 31 180} {7685777042602704765 31 181} {2520753684373826299 31 182} {2357089419190260173 31 183} {5847228988381981947 31 184} {5386439125892720248 31 185} {8555458139697675683 31 186} {1528560622570580205 31 187} {1089778949887123507 31 188} {8526929826795751067 31 189}]
------------------------------------------------------
flag 23276 term 33 leader 1 nextIndex[0]: 190  matchIndex[0]: 189
term 33 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 31 leaderCommit: 188 
------------------------------------------------------
flag 73279 term 33 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 33 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 31 leaderCommit: 188 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=188
leader log:
[{snapshot 31 179} {5475363280562306549 31 180} {7685777042602704765 31 181} {2520753684373826299 31 182} {2357089419190260173 31 183} {5847228988381981947 31 184} {5386439125892720248 31 185} {8555458139697675683 31 186} {1528560622570580205 31 187} {1089778949887123507 31 188} {8526929826795751067 31 189}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=188
leader log:
[{snapshot 31 179} {5475363280562306549 31 180} {7685777042602704765 31 181} {2520753684373826299 31 182} {2357089419190260173 31 183} {5847228988381981947 31 184} {5386439125892720248 31 185} {8555458139697675683 31 186} {1528560622570580205 31 187} {1089778949887123507 31 188} {8526929826795751067 31 189}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25838 term 33 leader 1 nextIndex[0]: 190  matchIndex[0]: 189
term 33 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 31 leaderCommit: 188 
------------------------------------------------------
flag 63446 term 33 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 33 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 31 leaderCommit: 188 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=188
leader log:
[{snapshot 31 179} {5475363280562306549 31 180} {7685777042602704765 31 181} {2520753684373826299 31 182} {2357089419190260173 31 183} {5847228988381981947 31 184} {5386439125892720248 31 185} {8555458139697675683 31 186} {1528560622570580205 31 187} {1089778949887123507 31 188} {8526929826795751067 31 189}]
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=188
leader log:
[{snapshot 31 179} {5475363280562306549 31 180} {7685777042602704765 31 181} {2520753684373826299 31 182} {2357089419190260173 31 183} {5847228988381981947 31 184} {5386439125892720248 31 185} {8555458139697675683 31 186} {1528560622570580205 31 187} {1089778949887123507 31 188} {8526929826795751067 31 189}]
------------------------------------------------------
flag 87011 term 33 leader 1 nextIndex[0]: 190  matchIndex[0]: 189
term 33 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 31 leaderCommit: 188 
------------------------------------------------------
flag 29924 term 33 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 33 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 31 leaderCommit: 188 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=188
leader log:
[{snapshot 31 179} {5475363280562306549 31 180} {7685777042602704765 31 181} {2520753684373826299 31 182} {2357089419190260173 31 183} {5847228988381981947 31 184} {5386439125892720248 31 185} {8555458139697675683 31 186} {1528560622570580205 31 187} {1089778949887123507 31 188} {8526929826795751067 31 189}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=188
leader log:
[{snapshot 31 179} {5475363280562306549 31 180} {7685777042602704765 31 181} {2520753684373826299 31 182} {2357089419190260173 31 183} {5847228988381981947 31 184} {5386439125892720248 31 185} {8555458139697675683 31 186} {1528560622570580205 31 187} {1089778949887123507 31 188} {8526929826795751067 31 189}]
------------------------------------------------------
flag 33725 term 33 leader 1 nextIndex[0]: 190  matchIndex[0]: 189
term 33 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 31 leaderCommit: 188 
------------------------------------------------------
flag 53872 term 33 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 33 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 31 leaderCommit: 188 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=188
leader log:
[{snapshot 31 179} {5475363280562306549 31 180} {7685777042602704765 31 181} {2520753684373826299 31 182} {2357089419190260173 31 183} {5847228988381981947 31 184} {5386439125892720248 31 185} {8555458139697675683 31 186} {1528560622570580205 31 187} {1089778949887123507 31 188} {8526929826795751067 31 189}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=188
leader log:
[{snapshot 31 179} {5475363280562306549 31 180} {7685777042602704765 31 181} {2520753684373826299 31 182} {2357089419190260173 31 183} {5847228988381981947 31 184} {5386439125892720248 31 185} {8555458139697675683 31 186} {1528560622570580205 31 187} {1089778949887123507 31 188} {8526929826795751067 31 189}]
------------------------------------------------------
flag 52486 term 33 leader 1 nextIndex[0]: 190  matchIndex[0]: 189
term 33 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 31 leaderCommit: 188 
------------------------------------------------------
flag 20679 term 33 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 33 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 31 leaderCommit: 188 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=188
leader log:
[{snapshot 31 179} {5475363280562306549 31 180} {7685777042602704765 31 181} {2520753684373826299 31 182} {2357089419190260173 31 183} {5847228988381981947 31 184} {5386439125892720248 31 185} {8555458139697675683 31 186} {1528560622570580205 31 187} {1089778949887123507 31 188} {8526929826795751067 31 189}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=188
leader log:
[{snapshot 31 179} {5475363280562306549 31 180} {7685777042602704765 31 181} {2520753684373826299 31 182} {2357089419190260173 31 183} {5847228988381981947 31 184} {5386439125892720248 31 185} {8555458139697675683 31 186} {1528560622570580205 31 187} {1089778949887123507 31 188} {8526929826795751067 31 189}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14677 term 33 leader 1 nextIndex[0]: 190  matchIndex[0]: 189
term 33 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 31 leaderCommit: 188 
------------------------------------------------------
flag 94674 term 33 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 33 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 31 leaderCommit: 188 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=188
leader log:
[{snapshot 31 179} {5475363280562306549 31 180} {7685777042602704765 31 181} {2520753684373826299 31 182} {2357089419190260173 31 183} {5847228988381981947 31 184} {5386439125892720248 31 185} {8555458139697675683 31 186} {1528560622570580205 31 187} {1089778949887123507 31 188} {8526929826795751067 31 189}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=188
leader log:
[{snapshot 31 179} {5475363280562306549 31 180} {7685777042602704765 31 181} {2520753684373826299 31 182} {2357089419190260173 31 183} {5847228988381981947 31 184} {5386439125892720248 31 185} {8555458139697675683 31 186} {1528560622570580205 31 187} {1089778949887123507 31 188} {8526929826795751067 31 189}]
------------------------------------------------------
flag 90352 term 33 leader 1 nextIndex[0]: 190  matchIndex[0]: 189
term 33 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 31 leaderCommit: 188 
------------------------------------------------------
flag 57137 term 33 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 33 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 31 leaderCommit: 188 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=188
leader log:
[{snapshot 31 179} {5475363280562306549 31 180} {7685777042602704765 31 181} {2520753684373826299 31 182} {2357089419190260173 31 183} {5847228988381981947 31 184} {5386439125892720248 31 185} {8555458139697675683 31 186} {1528560622570580205 31 187} {1089778949887123507 31 188} {8526929826795751067 31 189}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=188
leader log:
[{snapshot 31 179} {5475363280562306549 31 180} {7685777042602704765 31 181} {2520753684373826299 31 182} {2357089419190260173 31 183} {5847228988381981947 31 184} {5386439125892720248 31 185} {8555458139697675683 31 186} {1528560622570580205 31 187} {1089778949887123507 31 188} {8526929826795751067 31 189}]
------------------------------------------------------
flag 23101 term 33 leader 1 nextIndex[0]: 190  matchIndex[0]: 189
term 33 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 31 leaderCommit: 188 
------------------------------------------------------
flag 13785 term 33 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 33 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 31 leaderCommit: 188 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=188
leader log:
[{snapshot 31 179} {5475363280562306549 31 180} {7685777042602704765 31 181} {2520753684373826299 31 182} {2357089419190260173 31 183} {5847228988381981947 31 184} {5386439125892720248 31 185} {8555458139697675683 31 186} {1528560622570580205 31 187} {1089778949887123507 31 188} {8526929826795751067 31 189}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=188
leader log:
[{snapshot 31 179} {5475363280562306549 31 180} {7685777042602704765 31 181} {2520753684373826299 31 182} {2357089419190260173 31 183} {5847228988381981947 31 184} {5386439125892720248 31 185} {8555458139697675683 31 186} {1528560622570580205 31 187} {1089778949887123507 31 188} {8526929826795751067 31 189}]
------------------------------------------------------
flag 63622 term 33 leader 1 nextIndex[0]: 190  matchIndex[0]: 189
term 33 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 31 leaderCommit: 188 
------------------------------------------------------
flag 5974 term 33 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 33 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 31 leaderCommit: 188 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueterm 33 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
update nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=188
leader log:
[{snapshot 31 179} {5475363280562306549 31 180} {7685777042602704765 31 181} {2520753684373826299 31 182} {2357089419190260173 31 183} {5847228988381981947 31 184} {5386439125892720248 31 185} {8555458139697675683 31 186} {1528560622570580205 31 187} {1089778949887123507 31 188} {8526929826795751067 31 189}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=188
leader log:
[{snapshot 31 179} {5475363280562306549 31 180} {7685777042602704765 31 181} {2520753684373826299 31 182} {2357089419190260173 31 183} {5847228988381981947 31 184} {5386439125892720248 31 185} {8555458139697675683 31 186} {1528560622570580205 31 187} {1089778949887123507 31 188} {8526929826795751067 31 189}]
------------------------------------------------------
flag 83622 term 33 leader 1 nextIndex[0]: 190  matchIndex[0]: 189
term 33 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 31 leaderCommit: 188 
------------------------------------------------------
flag 8501 term 33 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 33 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 31 leaderCommit: 188 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=188
leader log:
[{snapshot 31 179} {5475363280562306549 31 180} {7685777042602704765 31 181} {2520753684373826299 31 182} {2357089419190260173 31 183} {5847228988381981947 31 184} {5386439125892720248 31 185} {8555458139697675683 31 186} {1528560622570580205 31 187} {1089778949887123507 31 188} {8526929826795751067 31 189}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=188
leader log:
[{snapshot 31 179} {5475363280562306549 31 180} {7685777042602704765 31 181} {2520753684373826299 31 182} {2357089419190260173 31 183} {5847228988381981947 31 184} {5386439125892720248 31 185} {8555458139697675683 31 186} {1528560622570580205 31 187} {1089778949887123507 31 188} {8526929826795751067 31 189}]
------------------------------------------------------
flag 76805 term 33 leader 1 nextIndex[0]: 190  matchIndex[0]: 189
term 33 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 31 leaderCommit: 188 
------------------------------------------------------
flag 21814 term 33 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 33 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 31 leaderCommit: 188 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=188
leader log:
[{snapshot 31 179} {5475363280562306549 31 180} {7685777042602704765 31 181} {2520753684373826299 31 182} {2357089419190260173 31 183} {5847228988381981947 31 184} {5386439125892720248 31 185} {8555458139697675683 31 186} {1528560622570580205 31 187} {1089778949887123507 31 188} {8526929826795751067 31 189}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=188
leader log:
[{snapshot 31 179} {5475363280562306549 31 180} {7685777042602704765 31 181} {2520753684373826299 31 182} {2357089419190260173 31 183} {5847228988381981947 31 184} {5386439125892720248 31 185} {8555458139697675683 31 186} {1528560622570580205 31 187} {1089778949887123507 31 188} {8526929826795751067 31 189}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90423 term 33 leader 1 nextIndex[0]: 190  matchIndex[0]: 189
term 33 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 31 leaderCommit: 188 
------------------------------------------------------
flag 44824 term 33 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 33 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 31 leaderCommit: 188 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=188
leader log:
[{snapshot 31 179} {5475363280562306549 31 180} {7685777042602704765 31 181} {2520753684373826299 31 182} {2357089419190260173 31 183} {5847228988381981947 31 184} {5386439125892720248 31 185} {8555458139697675683 31 186} {1528560622570580205 31 187} {1089778949887123507 31 188} {8526929826795751067 31 189}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=188
leader log:
[{snapshot 31 179} {5475363280562306549 31 180} {7685777042602704765 31 181} {2520753684373826299 31 182} {2357089419190260173 31 183} {5847228988381981947 31 184} {5386439125892720248 31 185} {8555458139697675683 31 186} {1528560622570580205 31 187} {1089778949887123507 31 188} {8526929826795751067 31 189}]
------------------------------------------------------
client write log 8526929826795751067 (index 190) to leader 1
flag 73506 term 33 leader 1 nextIndex[0]: 190  matchIndex[0]: 189
term 33 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 31 leaderCommit: 188 
------------------------------------------------------
flag 62188 term 33 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 33 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 31 leaderCommit: 188 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=190
leader log:
[{snapshot 31 179} {5475363280562306549 31 180} {7685777042602704765 31 181} {2520753684373826299 31 182} {2357089419190260173 31 183} {5847228988381981947 31 184} {5386439125892720248 31 185} {8555458139697675683 31 186} {1528560622570580205 31 187} {1089778949887123507 31 188} {8526929826795751067 31 189} {8526929826795751067 33 190}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=190
leader log:
[{snapshot 31 179} {5475363280562306549 31 180} {7685777042602704765 31 181} {2520753684373826299 31 182} {2357089419190260173 31 183} {5847228988381981947 31 184} {5386439125892720248 31 185} {8555458139697675683 31 186} {1528560622570580205 31 187} {1089778949887123507 31 188} {8526929826795751067 31 189} {8526929826795751067 33 190}]
------------------------------------------------------
term 33 Server1 start snapshot! index=189
term 33 server1 snapshot success
lastIncludedIndex=189 lastApplied=190 lastIndex=190
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79762 term 33 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 33 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 33 leaderCommit: 190 
------------------------------------------------------
flag 57229 term 33 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 33 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 33 leaderCommit: 190 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=190
leader log:
[{snapshot 31 189} {8526929826795751067 33 190}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=190
leader log:
[{snapshot 31 189} {8526929826795751067 33 190}]
------------------------------------------------------
term 33 Server0 start snapshot! index=189
term 33 server0 snapshot success
lastIncludedIndex=189 lastApplied=190 lastIndex=190
-------------------------------------------------------------
term 33 Server2 start snapshot! index=189
term 33 server2 snapshot success
lastIncludedIndex=189 lastApplied=190 lastIndex=190
-------------------------------------------------------------
flag 39089 term 33 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 33 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 33 leaderCommit: 190 
------------------------------------------------------
flag 83599 term 33 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 33 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 33 leaderCommit: 190 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=190
leader log:
[{snapshot 31 189} {8526929826795751067 33 190}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=190
leader log:
[{snapshot 31 189} {8526929826795751067 33 190}]
------------------------------------------------------
flag 24087 term 33 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 33 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 33 leaderCommit: 190 
------------------------------------------------------
flag 60207 term 33 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 33 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 33 leaderCommit: 190 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=190
leader log:
[{snapshot 31 189} {8526929826795751067 33 190}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=190
leader log:
[{snapshot 31 189} {8526929826795751067 33 190}]
------------------------------------------------------
term 33 server 2 not vote for server 1, 任期不够新
term 33 server 1 get outdate rpc reply from server 2
flag 14932 term 33 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 33 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 33 leaderCommit: 190 
------------------------------------------------------
flag 89163 term 33 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 33 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 33 leaderCommit: 190 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=190
leader log:
[{snapshot 31 189} {8526929826795751067 33 190}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=190
leader log:
[{snapshot 31 189} {8526929826795751067 33 190}]
------------------------------------------------------
flag 62362 term 33 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 33 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 33 leaderCommit: 190 
------------------------------------------------------
flag 15393 term 33 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 33 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 33 leaderCommit: 190 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=190
leader log:
[{snapshot 31 189} {8526929826795751067 33 190}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=190
leader log:
[{snapshot 31 189} {8526929826795751067 33 190}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59680 term 33 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 33 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 33 leaderCommit: 190 
------------------------------------------------------
flag 52120 term 33 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 33 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 33 leaderCommit: 190 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=190
leader log:
[{snapshot 31 189} {8526929826795751067 33 190}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=190
leader log:
[{snapshot 31 189} {8526929826795751067 33 190}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 17895648004812081 (index 191) to leader 1
flag 61840 term 33 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 33 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 33 leaderCommit: 190 
------------------------------------------------------
flag 23930 term 33 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 33 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 33 leaderCommit: 190 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=191
leader log:
[{snapshot 31 189} {8526929826795751067 33 190} {17895648004812081 33 191}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85649 term 33 leader 1 nextIndex[0]: 192  matchIndex[0]: 191
term 33 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 33 leaderCommit: 191 
------------------------------------------------------
flag 85670 term 33 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 33 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 33 leaderCommit: 191 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=191
leader log:
[{snapshot 31 189} {8526929826795751067 33 190} {17895648004812081 33 191}]
------------------------------------------------------
client write log 6789312663134252571 (index 192) to leader 1
client write log 6460796485677626014 (index 193) to leader 1
client write log 9191776411118110144 (index 194) to leader 1
client write log 5529089050312038568 (index 195) to leader 1
client write log 6545335893564690770 (index 196) to leader 1
client write log 7393252634108323084 (index 197) to leader 1
client write log 2650997445983953236 (index 198) to leader 1
client write log 4826208614646700107 (index 199) to leader 1
client write log 1161569002244830352 (index 200) to leader 1
client write log 2681200008207018600 (index 201) to leader 1
client write log 3914149354430400988 (index 202) to leader 1
client write log 4200421332313942930 (index 203) to leader 1
client write log 5106402198258325092 (index 204) to leader 1
client write log 2943185350131832324 (index 205) to leader 1
client write log 433664816282828586 (index 206) to leader 1
flag 9526 term 33 leader 1 nextIndex[0]: 192  matchIndex[0]: 191
term 33 leader 1 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 33 leaderCommit: 191 
------------------------------------------------------
flag 41294 term 33 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 33 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 33 leaderCommit: 191 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=206
leader log:
[{snapshot 31 189} {8526929826795751067 33 190} {17895648004812081 33 191} {6789312663134252571 33 192} {6460796485677626014 33 193} {9191776411118110144 33 194} {5529089050312038568 33 195} {6545335893564690770 33 196} {7393252634108323084 33 197} {2650997445983953236 33 198} {4826208614646700107 33 199} {1161569002244830352 33 200} {2681200008207018600 33 201} {3914149354430400988 33 202} {4200421332313942930 33 203} {5106402198258325092 33 204} {2943185350131832324 33 205} {433664816282828586 33 206}]
------------------------------------------------------
term 33 Server1 start snapshot! index=199
term 33 server1 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=206
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93667 term 33 leader 1 nextIndex[0]: 207  matchIndex[0]: 206
term 33 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 33 leaderCommit: 206 
------------------------------------------------------
term 33 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 33 leader 1 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 33
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=207
update matchIndex[0]=206
update leader CommitIndex=206
leader log:
[{snapshot 33 199} {1161569002244830352 33 200} {2681200008207018600 33 201} {3914149354430400988 33 202} {4200421332313942930 33 203} {5106402198258325092 33 204} {2943185350131832324 33 205} {433664816282828586 33 206}]
------------------------------------------------------
term 33 Server0 start snapshot! index=199
term 33 server0 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=206
-------------------------------------------------------------
!!!!!!connect server 2
client write log 4389594229650714867 (index 207) to leader 1
flag 84349 term 33 leader 1 nextIndex[0]: 207  matchIndex[0]: 206
term 33 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 33 leaderCommit: 206 
------------------------------------------------------
term 33 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 33 leader 1 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 33
------------------------------------------------------
term 34 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 33 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 35 server 2 vote for server 1
term 35 server 1 get vote from server 2
term 35 server 1 become leader
------------------------------------------------------
term 35 server 0 vote for server 1
term 35 server 1 get outdate rpc reply from server 0
flag 53833 term 35 leader 1 nextIndex[0]: 208  matchIndex[0]: 0
term 35 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 33 leaderCommit: 206 
------------------------------------------------------
flag 94377 term 35 leader 1 nextIndex[2]: 208  matchIndex[2]: 0
term 35 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 33 leaderCommit: 206 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=206
leader log:
[{snapshot 33 199} {1161569002244830352 33 200} {2681200008207018600 33 201} {3914149354430400988 33 202} {4200421332313942930 33 203} {5106402198258325092 33 204} {2943185350131832324 33 205} {433664816282828586 33 206} {4389594229650714867 33 207}]
------------------------------------------------------
term 35 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 208->207
------------------------------------------------------
flag 25652 term 35 leader 1 nextIndex[0]: 208  matchIndex[0]: 207
term 35 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 33 leaderCommit: 206 
------------------------------------------------------
term 35 leader 1 nextIndex[2]: 191  matchIndex[2]: 0
term 35 leader 1 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 33
------------------------------------------------------
term 35 server 2 InstallSnapshot success
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
term 35 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 200 matchIndex[2] 199 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 199 rf.lastIncludedTerm 33 rf.commitIndex 199 rf.lastApplied 199
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=206
leader log:
[{snapshot 33 199} {1161569002244830352 33 200} {2681200008207018600 33 201} {3914149354430400988 33 202} {4200421332313942930 33 203} {5106402198258325092 33 204} {2943185350131832324 33 205} {433664816282828586 33 206} {4389594229650714867 33 207}]
------------------------------------------------------
flag 42454 term 35 leader 1 nextIndex[0]: 208  matchIndex[0]: 207
term 35 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 33 leaderCommit: 206 
------------------------------------------------------
flag 79195 term 35 leader 1 nextIndex[2]: 200  matchIndex[2]: 199
term 35 leader 1 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 33 leaderCommit: 206 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=206
leader log:
term 35 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
[{snapshot 33 199} {1161569002244830352 33 200} {2681200008207018600 33 201} {3914149354430400988 33 202} {4200421332313942930 33 203} {5106402198258325092 33 204} {2943185350131832324 33 205} {433664816282828586 33 206} {4389594229650714867 33 207}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=206
leader log:
[{snapshot 33 199} {1161569002244830352 33 200} {2681200008207018600 33 201} {3914149354430400988 33 202} {4200421332313942930 33 203} {5106402198258325092 33 204} {2943185350131832324 33 205} {433664816282828586 33 206} {4389594229650714867 33 207}]
------------------------------------------------------
flag 41477 term 35 leader 1 nextIndex[0]: 208  matchIndex[0]: 207
term 35 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 33 leaderCommit: 206 
------------------------------------------------------
flag 62499 term 35 leader 1 nextIndex[2]: 208  matchIndex[2]: 207
term 35 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 33 leaderCommit: 206 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=206
leader log:
[{snapshot 33 199} {1161569002244830352 33 200} {2681200008207018600 33 201} {3914149354430400988 33 202} {4200421332313942930 33 203} {5106402198258325092 33 204} {2943185350131832324 33 205} {433664816282828586 33 206} {4389594229650714867 33 207}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=206
leader log:
[{snapshot 33 199} {1161569002244830352 33 200} {2681200008207018600 33 201} {3914149354430400988 33 202} {4200421332313942930 33 203} {5106402198258325092 33 204} {2943185350131832324 33 205} {433664816282828586 33 206} {4389594229650714867 33 207}]
------------------------------------------------------
flag 28178 term 35 leader 1 nextIndex[0]: 208  matchIndex[0]: 207
term 35 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 33 leaderCommit: 206 
------------------------------------------------------
flag 3466 term 35 leader 1 nextIndex[2]: 208  matchIndex[2]: 207
term 35 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 33 leaderCommit: 206 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=206
leader log:
[{snapshot 33 199} {1161569002244830352 33 200} {2681200008207018600 33 201} {3914149354430400988 33 202} {4200421332313942930 33 203} {5106402198258325092 33 204} {2943185350131832324 33 205} {433664816282828586 33 206} {4389594229650714867 33 207}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=206
leader log:
[{snapshot 33 199} {1161569002244830352 33 200} {2681200008207018600 33 201} {3914149354430400988 33 202} {4200421332313942930 33 203} {5106402198258325092 33 204} {2943185350131832324 33 205} {433664816282828586 33 206} {4389594229650714867 33 207}]
------------------------------------------------------
flag 80693 term 35 leader 1 nextIndex[0]: 208  matchIndex[0]: 207
term 35 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 33 leaderCommit: 206 
------------------------------------------------------
flag 60440 term 35 leader 1 nextIndex[2]: 208  matchIndex[2]: 207
term 35 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 33 leaderCommit: 206 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=206
leader log:
[{snapshot 33 199} {1161569002244830352 33 200} {2681200008207018600 33 201} {3914149354430400988 33 202} {4200421332313942930 33 203} {5106402198258325092 33 204} {2943185350131832324 33 205} {433664816282828586 33 206} {4389594229650714867 33 207}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=206
leader log:
[{snapshot 33 199} {1161569002244830352 33 200} {2681200008207018600 33 201} {3914149354430400988 33 202} {4200421332313942930 33 203} {5106402198258325092 33 204} {2943185350131832324 33 205} {433664816282828586 33 206} {4389594229650714867 33 207}]
------------------------------------------------------
flag 45763 term 35 leader 1 nextIndex[0]: 208  matchIndex[0]: 207
term 35 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 33 leaderCommit: 206 
------------------------------------------------------
flag 42029 term 35 leader 1 nextIndex[2]: 208  matchIndex[2]: 207
term 35 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 33 leaderCommit: 206 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=206
leader log:
term 35 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
[{snapshot 33 199} {1161569002244830352 33 200} {2681200008207018600 33 201} {3914149354430400988 33 202} {4200421332313942930 33 203} {5106402198258325092 33 204} {2943185350131832324 33 205} {433664816282828586 33 206} {4389594229650714867 33 207}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=206
leader log:
[{snapshot 33 199} {1161569002244830352 33 200} {2681200008207018600 33 201} {3914149354430400988 33 202} {4200421332313942930 33 203} {5106402198258325092 33 204} {2943185350131832324 33 205} {433664816282828586 33 206} {4389594229650714867 33 207}]
------------------------------------------------------
flag 26396 term 35 leader 1 nextIndex[0]: 208  matchIndex[0]: 207
term 35 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 33 leaderCommit: 206 
------------------------------------------------------
flag 70721 term 35 leader 1 nextIndex[2]: 208  matchIndex[2]: 207
term 35 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 33 leaderCommit: 206 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=206
leader log:
[{snapshot 33 199} {1161569002244830352 33 200} {2681200008207018600 33 201} {3914149354430400988 33 202} {4200421332313942930 33 203} {5106402198258325092 33 204} {2943185350131832324 33 205} {433664816282828586 33 206} {4389594229650714867 33 207}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=206
leader log:
[{snapshot 33 199} {1161569002244830352 33 200} {2681200008207018600 33 201} {3914149354430400988 33 202} {4200421332313942930 33 203} {5106402198258325092 33 204} {2943185350131832324 33 205} {433664816282828586 33 206} {4389594229650714867 33 207}]
------------------------------------------------------
flag 71938 term 35 leader 1 nextIndex[0]: 208  matchIndex[0]: 207
term 35 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 33 leaderCommit: 206 
------------------------------------------------------
flag 42430 term 35 leader 1 nextIndex[2]: 208  matchIndex[2]: 207
term 35 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 33 leaderCommit: 206 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=206
leader log:
[{snapshot 33 199} {1161569002244830352 33 200} {2681200008207018600 33 201} {3914149354430400988 33 202} {4200421332313942930 33 203} {5106402198258325092 33 204} {2943185350131832324 33 205} {433664816282828586 33 206} {4389594229650714867 33 207}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=206
leader log:
[{snapshot 33 199} {1161569002244830352 33 200} {2681200008207018600 33 201} {3914149354430400988 33 202} {4200421332313942930 33 203} {5106402198258325092 33 204} {2943185350131832324 33 205} {433664816282828586 33 206} {4389594229650714867 33 207}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59424 term 35 leader 1 nextIndex[0]: 208  matchIndex[0]: 207
term 35 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 33 leaderCommit: 206 
------------------------------------------------------
flag 27695 term 35 leader 1 nextIndex[2]: 208  matchIndex[2]: 207
term 35 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 33 leaderCommit: 206 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=206
leader log:
[{snapshot 33 199} {1161569002244830352 33 200} {2681200008207018600 33 201} {3914149354430400988 33 202} {4200421332313942930 33 203} {5106402198258325092 33 204} {2943185350131832324 33 205} {433664816282828586 33 206} {4389594229650714867 33 207}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=206
leader log:
[{snapshot 33 199} {1161569002244830352 33 200} {2681200008207018600 33 201} {3914149354430400988 33 202} {4200421332313942930 33 203} {5106402198258325092 33 204} {2943185350131832324 33 205} {433664816282828586 33 206} {4389594229650714867 33 207}]
------------------------------------------------------
flag 81038 term 35 leader 1 nextIndex[0]: 208  matchIndex[0]: 207
term 35 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 33 leaderCommit: 206 
------------------------------------------------------
flag 43997 term 35 leader 1 nextIndex[2]: 208  matchIndex[2]: 207
term 35 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 33 leaderCommit: 206 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=206
leader log:
[{snapshot 33 199} {1161569002244830352 33 200} {2681200008207018600 33 201} {3914149354430400988 33 202} {4200421332313942930 33 203} {5106402198258325092 33 204} {2943185350131832324 33 205} {433664816282828586 33 206} {4389594229650714867 33 207}]
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=206
leader log:
[{snapshot 33 199} {1161569002244830352 33 200} {2681200008207018600 33 201} {3914149354430400988 33 202} {4200421332313942930 33 203} {5106402198258325092 33 204} {2943185350131832324 33 205} {433664816282828586 33 206} {4389594229650714867 33 207}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12621 term 35 leader 1 nextIndex[0]: 208  matchIndex[0]: 207
term 35 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 33 leaderCommit: 206 
------------------------------------------------------
flag 75374 term 35 leader 1 nextIndex[2]: 208  matchIndex[2]: 207
term 35 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 33 leaderCommit: 206 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=206
leader log:
[{snapshot 33 199} {1161569002244830352 33 200} {2681200008207018600 33 201} {3914149354430400988 33 202} {4200421332313942930 33 203} {5106402198258325092 33 204} {2943185350131832324 33 205} {433664816282828586 33 206} {4389594229650714867 33 207}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=206
leader log:
[{snapshot 33 199} {1161569002244830352 33 200} {2681200008207018600 33 201} {3914149354430400988 33 202} {4200421332313942930 33 203} {5106402198258325092 33 204} {2943185350131832324 33 205} {433664816282828586 33 206} {4389594229650714867 33 207}]
------------------------------------------------------
flag 36020 term 35 leader 1 nextIndex[0]: 208  matchIndex[0]: 207
term 35 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 33 leaderCommit: 206 
------------------------------------------------------
flag 98882 term 35 leader 1 nextIndex[2]: 208  matchIndex[2]: 207
term 35 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 33 leaderCommit: 206 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=206
leader log:
[{snapshot 33 199} {1161569002244830352 33 200} {2681200008207018600 33 201} {3914149354430400988 33 202} {4200421332313942930 33 203} {5106402198258325092 33 204} {2943185350131832324 33 205} {433664816282828586 33 206} {4389594229650714867 33 207}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=206
leader log:
[{snapshot 33 199} {1161569002244830352 33 200} {2681200008207018600 33 201} {3914149354430400988 33 202} {4200421332313942930 33 203} {5106402198258325092 33 204} {2943185350131832324 33 205} {433664816282828586 33 206} {4389594229650714867 33 207}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87663 term 35 leader 1 nextIndex[0]: 208  matchIndex[0]: 207
term 35 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 33 leaderCommit: 206 
------------------------------------------------------
flag 96983 term 35 leader 1 nextIndex[2]: 208  matchIndex[2]: 207
term 35 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 33 leaderCommit: 206 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=206
leader log:
[{snapshot 33 199} {1161569002244830352 33 200} {2681200008207018600 33 201} {3914149354430400988 33 202} {4200421332313942930 33 203} {5106402198258325092 33 204} {2943185350131832324 33 205} {433664816282828586 33 206} {4389594229650714867 33 207}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=206
leader log:
[{snapshot 33 199} {1161569002244830352 33 200} {2681200008207018600 33 201} {3914149354430400988 33 202} {4200421332313942930 33 203} {5106402198258325092 33 204} {2943185350131832324 33 205} {433664816282828586 33 206} {4389594229650714867 33 207}]
------------------------------------------------------
flag 55406 term 35 leader 1 nextIndex[0]: 208  matchIndex[0]: 207
term 35 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 33 leaderCommit: 206 
------------------------------------------------------
flag 1674 term 35 leader 1 nextIndex[2]: 208  matchIndex[2]: 207
term 35 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 33 leaderCommit: 206 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=206
leader log:
[{snapshot 33 199} {1161569002244830352 33 200} {2681200008207018600 33 201} {3914149354430400988 33 202} {4200421332313942930 33 203} {5106402198258325092 33 204} {2943185350131832324 33 205} {433664816282828586 33 206} {4389594229650714867 33 207}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=206
leader log:
[{snapshot 33 199} {1161569002244830352 33 200} {2681200008207018600 33 201} {3914149354430400988 33 202} {4200421332313942930 33 203} {5106402198258325092 33 204} {2943185350131832324 33 205} {433664816282828586 33 206} {4389594229650714867 33 207}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25278 term 35 leader 1 nextIndex[0]: 208  matchIndex[0]: 207
term 35 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 33 leaderCommit: 206 
------------------------------------------------------
flag 37744 term 35 leader 1 nextIndex[2]: 208  matchIndex[2]: 207
term 35 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 33 leaderCommit: 206 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=206
leader log:
[{snapshot 33 199} {1161569002244830352 33 200} {2681200008207018600 33 201} {3914149354430400988 33 202} {4200421332313942930 33 203} {5106402198258325092 33 204} {2943185350131832324 33 205} {433664816282828586 33 206} {4389594229650714867 33 207}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=206
leader log:
[{snapshot 33 199} {1161569002244830352 33 200} {2681200008207018600 33 201} {3914149354430400988 33 202} {4200421332313942930 33 203} {5106402198258325092 33 204} {2943185350131832324 33 205} {433664816282828586 33 206} {4389594229650714867 33 207}]
------------------------------------------------------
flag 46577 term 35 leader 1 nextIndex[0]: 208  matchIndex[0]: 207
term 35 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 33 leaderCommit: 206 
------------------------------------------------------
flag 49821 term 35 leader 1 nextIndex[2]: 208  matchIndex[2]: 207
term 35 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 33 leaderCommit: 206 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=206
leader log:
[{snapshot 33 199} {1161569002244830352 33 200} {2681200008207018600 33 201} {3914149354430400988 33 202} {4200421332313942930 33 203} {5106402198258325092 33 204} {2943185350131832324 33 205} {433664816282828586 33 206} {4389594229650714867 33 207}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=206
leader log:
[{snapshot 33 199} {1161569002244830352 33 200} {2681200008207018600 33 201} {3914149354430400988 33 202} {4200421332313942930 33 203} {5106402198258325092 33 204} {2943185350131832324 33 205} {433664816282828586 33 206} {4389594229650714867 33 207}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99333 term 35 leader 1 nextIndex[0]: 208  matchIndex[0]: 207
term 35 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 33 leaderCommit: 206 
------------------------------------------------------
flag 62730 term 35 leader 1 nextIndex[2]: 208  matchIndex[2]: 207
term 35 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 33 leaderCommit: 206 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=206
leader log:
[{snapshot 33 199} {1161569002244830352 33 200} {2681200008207018600 33 201} {3914149354430400988 33 202} {4200421332313942930 33 203} {5106402198258325092 33 204} {2943185350131832324 33 205} {433664816282828586 33 206} {4389594229650714867 33 207}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=206
leader log:
[{snapshot 33 199} {1161569002244830352 33 200} {2681200008207018600 33 201} {3914149354430400988 33 202} {4200421332313942930 33 203} {5106402198258325092 33 204} {2943185350131832324 33 205} {433664816282828586 33 206} {4389594229650714867 33 207}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88555 term 35 leader 1 nextIndex[0]: 208  matchIndex[0]: 207
term 35 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 33 leaderCommit: 206 
------------------------------------------------------
flag 31280 term 35 leader 1 nextIndex[2]: 208  matchIndex[2]: 207
term 35 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 33 leaderCommit: 206 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=206
leader log:
[{snapshot 33 199} {1161569002244830352 33 200} {2681200008207018600 33 201} {3914149354430400988 33 202} {4200421332313942930 33 203} {5106402198258325092 33 204} {2943185350131832324 33 205} {433664816282828586 33 206} {4389594229650714867 33 207}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=208
update matchIndex[0]=207
update leader CommitIndex=206
leader log:
[{snapshot 33 199} {1161569002244830352 33 200} {2681200008207018600 33 201} {3914149354430400988 33 202} {4200421332313942930 33 203} {5106402198258325092 33 204} {2943185350131832324 33 205} {433664816282828586 33 206} {4389594229650714867 33 207}]
------------------------------------------------------
client write log 4389594229650714867 (index 208) to leader 1
flag 89034 term 35 leader 1 nextIndex[0]: 208  matchIndex[0]: 207
term 35 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 33 leaderCommit: 206 
------------------------------------------------------
flag 9945 term 35 leader 1 nextIndex[2]: 208  matchIndex[2]: 207
term 35 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 33 leaderCommit: 206 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=208
leader log:
[{snapshot 33 199} {1161569002244830352 33 200} {2681200008207018600 33 201} {3914149354430400988 33 202} {4200421332313942930 33 203} {5106402198258325092 33 204} {2943185350131832324 33 205} {433664816282828586 33 206} {4389594229650714867 33 207} {4389594229650714867 35 208}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=208
leader log:
[{snapshot 33 199} {1161569002244830352 33 200} {2681200008207018600 33 201} {3914149354430400988 33 202} {4200421332313942930 33 203} {5106402198258325092 33 204} {2943185350131832324 33 205} {433664816282828586 33 206} {4389594229650714867 33 207} {4389594229650714867 35 208}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59180 term 35 leader 1 nextIndex[0]: 209  matchIndex[0]: 208
term 35 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 35 leaderCommit: 208 
------------------------------------------------------
flag 17831 term 35 leader 1 nextIndex[2]: 209  matchIndex[2]: 208
term 35 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 35 leaderCommit: 208 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=208
leader log:
[{snapshot 33 199} {1161569002244830352 33 200} {2681200008207018600 33 201} {3914149354430400988 33 202} {4200421332313942930 33 203} {5106402198258325092 33 204} {2943185350131832324 33 205} {433664816282828586 33 206} {4389594229650714867 33 207} {4389594229650714867 35 208}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=208
leader log:
[{snapshot 33 199} {1161569002244830352 33 200} {2681200008207018600 33 201} {3914149354430400988 33 202} {4200421332313942930 33 203} {5106402198258325092 33 204} {2943185350131832324 33 205} {433664816282828586 33 206} {4389594229650714867 33 207} {4389594229650714867 35 208}]
------------------------------------------------------
flag 83029 term 35 leader 1 nextIndex[0]: 209  matchIndex[0]: 208
term 35 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 35 leaderCommit: 208 
------------------------------------------------------
flag 72188 term 35 leader 1 nextIndex[2]: 209  matchIndex[2]: 208
term 35 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 35 leaderCommit: 208 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=208
leader log:
[{snapshot 33 199} {1161569002244830352 33 200} {2681200008207018600 33 201} {3914149354430400988 33 202} {4200421332313942930 33 203} {5106402198258325092 33 204} {2943185350131832324 33 205} {433664816282828586 33 206} {4389594229650714867 33 207} {4389594229650714867 35 208}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=208
leader log:
[{snapshot 33 199} {1161569002244830352 33 200} {2681200008207018600 33 201} {3914149354430400988 33 202} {4200421332313942930 33 203} {5106402198258325092 33 204} {2943185350131832324 33 205} {433664816282828586 33 206} {4389594229650714867 33 207} {4389594229650714867 35 208}]
------------------------------------------------------
flag 74688 term 35 leader 1 nextIndex[0]: 209  matchIndex[0]: 208
term 35 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 35 leaderCommit: 208 
------------------------------------------------------
flag 3108 term 35 leader 1 nextIndex[2]: 209  matchIndex[2]: 208
term 35 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 35 leaderCommit: 208 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:208 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=208
leader log:
[{snapshot 33 199} {1161569002244830352 33 200} {2681200008207018600 33 201} {3914149354430400988 33 202} {4200421332313942930 33 203} {5106402198258325092 33 204} {2943185350131832324 33 205} {433664816282828586 33 206} {4389594229650714867 33 207} {4389594229650714867 35 208}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=208
leader log:
[{snapshot 33 199} {1161569002244830352 33 200} {2681200008207018600 33 201} {3914149354430400988 33 202} {4200421332313942930 33 203} {5106402198258325092 33 204} {2943185350131832324 33 205} {433664816282828586 33 206} {4389594229650714867 33 207} {4389594229650714867 35 208}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29603 term 35 leader 1 nextIndex[0]: 209  matchIndex[0]: 208
term 35 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 35 leaderCommit: 208 
------------------------------------------------------
flag 29530 term 35 leader 1 nextIndex[2]: 209  matchIndex[2]: 208
term 35 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 35 leaderCommit: 208 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:208 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=208
leader log:
[{snapshot 33 199} {1161569002244830352 33 200} {2681200008207018600 33 201} {3914149354430400988 33 202} {4200421332313942930 33 203} {5106402198258325092 33 204} {2943185350131832324 33 205} {433664816282828586 33 206} {4389594229650714867 33 207} {4389594229650714867 35 208}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=208
leader log:
[{snapshot 33 199} {1161569002244830352 33 200} {2681200008207018600 33 201} {3914149354430400988 33 202} {4200421332313942930 33 203} {5106402198258325092 33 204} {2943185350131832324 33 205} {433664816282828586 33 206} {4389594229650714867 33 207} {4389594229650714867 35 208}]
------------------------------------------------------
flag 96638 term 35 leader 1 nextIndex[0]: 209  matchIndex[0]: 208
term 35 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 35 leaderCommit: 208 
------------------------------------------------------
flag 14268 term 35 leader 1 nextIndex[2]: 209  matchIndex[2]: 208
term 35 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 35 leaderCommit: 208 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=208
leader log:
term 35 server 0 AppendEntries true commitIndex:208 
------------------------------------------------------
[{snapshot 33 199} {1161569002244830352 33 200} {2681200008207018600 33 201} {3914149354430400988 33 202} {4200421332313942930 33 203} {5106402198258325092 33 204} {2943185350131832324 33 205} {433664816282828586 33 206} {4389594229650714867 33 207} {4389594229650714867 35 208}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=209
update matchIndex[0]=208
update leader CommitIndex=208
leader log:
[{snapshot 33 199} {1161569002244830352 33 200} {2681200008207018600 33 201} {3914149354430400988 33 202} {4200421332313942930 33 203} {5106402198258325092 33 204} {2943185350131832324 33 205} {433664816282828586 33 206} {4389594229650714867 33 207} {4389594229650714867 35 208}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 61475 term 35 leader 1 nextIndex[0]: 209  matchIndex[0]: 208
term 35 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 35 leaderCommit: 208 
------------------------------------------------------
flag 42274 term 35 leader 1 nextIndex[2]: 209  matchIndex[2]: 208
term 35 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 35 leaderCommit: 208 
------------------------------------------------------
flag 80131 term 35 leader 1 nextIndex[0]: 209  matchIndex[0]: 208
term 35 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 35 leaderCommit: 208 
------------------------------------------------------
flag 28674 term 35 leader 1 nextIndex[2]: 209  matchIndex[2]: 208
term 35 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 35 leaderCommit: 208 
------------------------------------------------------
flag 56450 term 35 leader 1 nextIndex[0]: 209  matchIndex[0]: 208
term 35 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 35 leaderCommit: 208 
------------------------------------------------------
flag 45057 term 35 leader 1 nextIndex[2]: 209  matchIndex[2]: 208
term 35 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 35 leaderCommit: 208 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 36 server 0 vote for server 2
term 36 server 2 get vote from server 0
term 36 server 2 become leader
------------------------------------------------------
client write log 1316559639829964177 (index 209) to leader 2
flag 80391 term 36 leader 2 nextIndex[0]: 209  matchIndex[0]: 0
term 36 leader 2 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 35 leaderCommit: 208 
------------------------------------------------------
flag 56435 term 36 leader 2 nextIndex[1]: 209  matchIndex[1]: 0
term 36 leader 2 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 35 leaderCommit: 208 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=210
update matchIndex[0]=209
update leader CommitIndex=209
leader log:
[{snapshot 33 199} {1161569002244830352 33 200} {2681200008207018600 33 201} {3914149354430400988 33 202} {4200421332313942930 33 203} {5106402198258325092 33 204} {2943185350131832324 33 205} {433664816282828586 33 206} {4389594229650714867 33 207} {4389594229650714867 35 208} {1316559639829964177 36 209}]
------------------------------------------------------
term 36 Server2 start snapshot! index=209
term 36 server2 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=209
-------------------------------------------------------------
flag 6557 term 35 leader 1 nextIndex[0]: 209  matchIndex[0]: 208
term 35 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 35 leaderCommit: 208 
------------------------------------------------------
flag 11904 term 35 leader 1 nextIndex[2]: 209  matchIndex[2]: 208
term 35 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 35 leaderCommit: 208 
------------------------------------------------------
flag 92560 term 36 leader 2 nextIndex[0]: 210  matchIndex[0]: 209
term 36 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 36 leaderCommit: 209 
------------------------------------------------------
term 36 leader 2 nextIndex[1]: 209  matchIndex[1]: 0
term 36 leader 2 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 36
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=210
update matchIndex[0]=209
update leader CommitIndex=209
leader log:
[{snapshot 36 209}]
------------------------------------------------------
term 36 Server0 start snapshot! index=209
term 36 server0 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=209
-------------------------------------------------------------
client write log 127596685379136591 (index 210) to leader 2
client write log 2683907383011498542 (index 211) to leader 2
client write log 3204991478077912078 (index 212) to leader 2
client write log 6068577434051548024 (index 213) to leader 2
client write log 380830603142624960 (index 214) to leader 2
client write log 5303487393828480446 (index 215) to leader 2
flag 76981 term 35 leader 1 nextIndex[0]: 209  matchIndex[0]: 208
term 35 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 35 leaderCommit: 208 
------------------------------------------------------
flag 37864 term 35 leader 1 nextIndex[2]: 209  matchIndex[2]: 208
term 35 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 35 leaderCommit: 208 
------------------------------------------------------
flag 12260 term 36 leader 2 nextIndex[0]: 210  matchIndex[0]: 209
term 36 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 36 leaderCommit: 209 
------------------------------------------------------
term 36 leader 2 nextIndex[1]: 209  matchIndex[1]: 0
term 36 leader 2 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 36
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=215
leader log:
[{snapshot 36 209} {127596685379136591 36 210} {2683907383011498542 36 211} {3204991478077912078 36 212} {6068577434051548024 36 213} {380830603142624960 36 214} {5303487393828480446 36 215}]
------------------------------------------------------
flag 60150 term 35 leader 1 nextIndex[0]: 209  matchIndex[0]: 208
term 35 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 35 leaderCommit: 208 
------------------------------------------------------
flag 30071 term 35 leader 1 nextIndex[2]: 209  matchIndex[2]: 208
term 35 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 35 leaderCommit: 208 
------------------------------------------------------
flag 73019 term 36 leader 2 nextIndex[0]: 216  matchIndex[0]: 215
term 36 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
term 36 leader 2 nextIndex[1]: 209  matchIndex[1]: 0
term 36 leader 2 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 36
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=215
leader log:
[{snapshot 36 209} {127596685379136591 36 210} {2683907383011498542 36 211} {3204991478077912078 36 212} {6068577434051548024 36 213} {380830603142624960 36 214} {5303487393828480446 36 215}]
------------------------------------------------------
!!!!!!connect server 1
client write log 3730914831989310602 (index 209) to leader 1
flag 37254 term 35 leader 1 nextIndex[0]: 209  matchIndex[0]: 208
term 35 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 35 leaderCommit: 208 
------------------------------------------------------
flag 44855 term 35 leader 1 nextIndex[2]: 209  matchIndex[2]: 208
term 35 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 35 leaderCommit: 208 
------------------------------------------------------
term 36 server 2 AppendEntries false 领导者任期过期 args.Term 35
------------------------------------------------------
term 36 server 0 AppendEntries false 领导者任期过期 args.Term 35
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8036 term 36 leader 2 nextIndex[0]: 216  matchIndex[0]: 215
term 36 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
term 36 leader 2 nextIndex[1]: 209  matchIndex[1]: 0
term 36 leader 2 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 36
------------------------------------------------------
term 36 server 1 InstallSnapshot success
------------------------------------------------------
term 36 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 210 matchIndex[1] 209 
------------------------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=215
leader log:
[{snapshot 36 209} {127596685379136591 36 210} {2683907383011498542 36 211} {3204991478077912078 36 212} {6068577434051548024 36 213} {380830603142624960 36 214} {5303487393828480446 36 215}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 209 rf.lastIncludedTerm 36 rf.commitIndex 209 rf.lastApplied 209
flag 5155 term 36 leader 2 nextIndex[0]: 216  matchIndex[0]: 215
term 36 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
flag 62456 term 36 leader 2 nextIndex[1]: 210  matchIndex[1]: 209
term 36 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=215
leader log:
[{snapshot 36 209} {127596685379136591 36 210} {2683907383011498542 36 211} {3204991478077912078 36 212} {6068577434051548024 36 213} {380830603142624960 36 214} {5303487393828480446 36 215}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=215
leader log:
[{snapshot 36 209} {127596685379136591 36 210} {2683907383011498542 36 211} {3204991478077912078 36 212} {6068577434051548024 36 213} {380830603142624960 36 214} {5303487393828480446 36 215}]
------------------------------------------------------
flag 72997 term 36 leader 2 nextIndex[0]: 216  matchIndex[0]: 215
term 36 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
flag 94148 term 36 leader 2 nextIndex[1]: 216  matchIndex[1]: 215
term 36 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=215
leader log:
[{snapshot 36 209} {127596685379136591 36 210} {2683907383011498542 36 211} {3204991478077912078 36 212} {6068577434051548024 36 213} {380830603142624960 36 214} {5303487393828480446 36 215}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=215
leader log:
[{snapshot 36 209} {127596685379136591 36 210} {2683907383011498542 36 211} {3204991478077912078 36 212} {6068577434051548024 36 213} {380830603142624960 36 214} {5303487393828480446 36 215}]
------------------------------------------------------
term 36 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 22604 term 36 leader 2 nextIndex[0]: 216  matchIndex[0]: 215
term 36 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
flag 76841 term 36 leader 2 nextIndex[1]: 216  matchIndex[1]: 215
term 36 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=215
leader log:
[{snapshot 36 209} {127596685379136591 36 210} {2683907383011498542 36 211} {3204991478077912078 36 212} {6068577434051548024 36 213} {380830603142624960 36 214} {5303487393828480446 36 215}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=215
leader log:
[{snapshot 36 209} {127596685379136591 36 210} {2683907383011498542 36 211} {3204991478077912078 36 212} {6068577434051548024 36 213} {380830603142624960 36 214} {5303487393828480446 36 215}]
------------------------------------------------------
flag 61869 term 36 leader 2 nextIndex[0]: 216  matchIndex[0]: 215
term 36 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
flag 8033 term 36 leader 2 nextIndex[1]: 216  matchIndex[1]: 215
term 36 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=215
leader log:
[{snapshot 36 209} {127596685379136591 36 210} {2683907383011498542 36 211} {3204991478077912078 36 212} {6068577434051548024 36 213} {380830603142624960 36 214} {5303487393828480446 36 215}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=215
leader log:
[{snapshot 36 209} {127596685379136591 36 210} {2683907383011498542 36 211} {3204991478077912078 36 212} {6068577434051548024 36 213} {380830603142624960 36 214} {5303487393828480446 36 215}]
------------------------------------------------------
flag 53531 term 36 leader 2 nextIndex[0]: 216  matchIndex[0]: 215
term 36 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
flag 28464 term 36 leader 2 nextIndex[1]: 216  matchIndex[1]: 215
term 36 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:215 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=215
leader log:
[{snapshot 36 209} {127596685379136591 36 210} {2683907383011498542 36 211} {3204991478077912078 36 212} {6068577434051548024 36 213} {380830603142624960 36 214} {5303487393828480446 36 215}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=215
leader log:
[{snapshot 36 209} {127596685379136591 36 210} {2683907383011498542 36 211} {3204991478077912078 36 212} {6068577434051548024 36 213} {380830603142624960 36 214} {5303487393828480446 36 215}]
------------------------------------------------------
flag 38227 term 36 leader 2 nextIndex[0]: 216  matchIndex[0]: 215
term 36 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
flag 35006 term 36 leader 2 nextIndex[1]: 216  matchIndex[1]: 215
term 36 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=215
leader log:
[{snapshot 36 209} {127596685379136591 36 210} {2683907383011498542 36 211} {3204991478077912078 36 212} {6068577434051548024 36 213} {380830603142624960 36 214} {5303487393828480446 36 215}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=215
leader log:
[{snapshot 36 209} {127596685379136591 36 210} {2683907383011498542 36 211} {3204991478077912078 36 212} {6068577434051548024 36 213} {380830603142624960 36 214} {5303487393828480446 36 215}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73019 term 36 leader 2 nextIndex[0]: 216  matchIndex[0]: 215
term 36 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
flag 74246 term 36 leader 2 nextIndex[1]: 216  matchIndex[1]: 215
term 36 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=215
leader log:
[{snapshot 36 209} {127596685379136591 36 210} {2683907383011498542 36 211} {3204991478077912078 36 212} {6068577434051548024 36 213} {380830603142624960 36 214} {5303487393828480446 36 215}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=215
leader log:
[{snapshot 36 209} {127596685379136591 36 210} {2683907383011498542 36 211} {3204991478077912078 36 212} {6068577434051548024 36 213} {380830603142624960 36 214} {5303487393828480446 36 215}]
------------------------------------------------------
flag 75729 term 36 leader 2 nextIndex[0]: 216  matchIndex[0]: 215
term 36 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
flag 70118 term 36 leader 2 nextIndex[1]: 216  matchIndex[1]: 215
term 36 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:215 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=215
leader log:
[{snapshot 36 209} {127596685379136591 36 210} {2683907383011498542 36 211} {3204991478077912078 36 212} {6068577434051548024 36 213} {380830603142624960 36 214} {5303487393828480446 36 215}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=215
leader log:
[{snapshot 36 209} {127596685379136591 36 210} {2683907383011498542 36 211} {3204991478077912078 36 212} {6068577434051548024 36 213} {380830603142624960 36 214} {5303487393828480446 36 215}]
------------------------------------------------------
flag 81767 term 36 leader 2 nextIndex[0]: 216  matchIndex[0]: 215
term 36 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
flag 82513 term 36 leader 2 nextIndex[1]: 216  matchIndex[1]: 215
term 36 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=215
leader log:
[{snapshot 36 209} {127596685379136591 36 210} {2683907383011498542 36 211} {3204991478077912078 36 212} {6068577434051548024 36 213} {380830603142624960 36 214} {5303487393828480446 36 215}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=215
leader log:
[{snapshot 36 209} {127596685379136591 36 210} {2683907383011498542 36 211} {3204991478077912078 36 212} {6068577434051548024 36 213} {380830603142624960 36 214} {5303487393828480446 36 215}]
------------------------------------------------------
flag 22007 term 36 leader 2 nextIndex[0]: 216  matchIndex[0]: 215
term 36 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
flag 84343 term 36 leader 2 nextIndex[1]: 216  matchIndex[1]: 215
term 36 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:215 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=215
leader log:
[{snapshot 36 209} {127596685379136591 36 210} {2683907383011498542 36 211} {3204991478077912078 36 212} {6068577434051548024 36 213} {380830603142624960 36 214} {5303487393828480446 36 215}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=215
leader log:
[{snapshot 36 209} {127596685379136591 36 210} {2683907383011498542 36 211} {3204991478077912078 36 212} {6068577434051548024 36 213} {380830603142624960 36 214} {5303487393828480446 36 215}]
------------------------------------------------------
flag 62610 term 36 leader 2 nextIndex[0]: 216  matchIndex[0]: 215
term 36 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
flag 46747 term 36 leader 2 nextIndex[1]: 216  matchIndex[1]: 215
term 36 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=215
leader log:
[{snapshot 36 209} {127596685379136591 36 210} {2683907383011498542 36 211} {3204991478077912078 36 212} {6068577434051548024 36 213} {380830603142624960 36 214} {5303487393828480446 36 215}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=215
leader log:
[{snapshot 36 209} {127596685379136591 36 210} {2683907383011498542 36 211} {3204991478077912078 36 212} {6068577434051548024 36 213} {380830603142624960 36 214} {5303487393828480446 36 215}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71568 term 36 leader 2 nextIndex[0]: 216  matchIndex[0]: 215
term 36 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
flag 86747 term 36 leader 2 nextIndex[1]: 216  matchIndex[1]: 215
term 36 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=215
leader log:
[{snapshot 36 209} {127596685379136591 36 210} {2683907383011498542 36 211} {3204991478077912078 36 212} {6068577434051548024 36 213} {380830603142624960 36 214} {5303487393828480446 36 215}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=215
leader log:
[{snapshot 36 209} {127596685379136591 36 210} {2683907383011498542 36 211} {3204991478077912078 36 212} {6068577434051548024 36 213} {380830603142624960 36 214} {5303487393828480446 36 215}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41811 term 36 leader 2 nextIndex[0]: 216  matchIndex[0]: 215
term 36 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
flag 74187 term 36 leader 2 nextIndex[1]: 216  matchIndex[1]: 215
term 36 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=215
leader log:
[{snapshot 36 209} {127596685379136591 36 210} {2683907383011498542 36 211} {3204991478077912078 36 212} {6068577434051548024 36 213} {380830603142624960 36 214} {5303487393828480446 36 215}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=215
leader log:
[{snapshot 36 209} {127596685379136591 36 210} {2683907383011498542 36 211} {3204991478077912078 36 212} {6068577434051548024 36 213} {380830603142624960 36 214} {5303487393828480446 36 215}]
------------------------------------------------------
term 36 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 210 matchIndex[1] 209 
------------------------------------------------------------------------
flag 87112 term 36 leader 2 nextIndex[0]: 216  matchIndex[0]: 215
term 36 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
flag 39788 term 36 leader 2 nextIndex[1]: 210  matchIndex[1]: 209
term 36 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:215 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=215
leader log:
[{snapshot 36 209} {127596685379136591 36 210} {2683907383011498542 36 211} {3204991478077912078 36 212} {6068577434051548024 36 213} {380830603142624960 36 214} {5303487393828480446 36 215}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=215
leader log:
[{snapshot 36 209} {127596685379136591 36 210} {2683907383011498542 36 211} {3204991478077912078 36 212} {6068577434051548024 36 213} {380830603142624960 36 214} {5303487393828480446 36 215}]
------------------------------------------------------
flag 62929 term 36 leader 2 nextIndex[0]: 216  matchIndex[0]: 215
term 36 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
flag 61799 term 36 leader 2 nextIndex[1]: 216  matchIndex[1]: 215
term 36 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=215
leader log:
[{snapshot 36 209} {127596685379136591 36 210} {2683907383011498542 36 211} {3204991478077912078 36 212} {6068577434051548024 36 213} {380830603142624960 36 214} {5303487393828480446 36 215}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=215
leader log:
[{snapshot 36 209} {127596685379136591 36 210} {2683907383011498542 36 211} {3204991478077912078 36 212} {6068577434051548024 36 213} {380830603142624960 36 214} {5303487393828480446 36 215}]
------------------------------------------------------
flag 16474 term 36 leader 2 nextIndex[0]: 216  matchIndex[0]: 215
term 36 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
flag 6444 term 36 leader 2 nextIndex[1]: 216  matchIndex[1]: 215
term 36 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=215
leader log:
[{snapshot 36 209} {127596685379136591 36 210} {2683907383011498542 36 211} {3204991478077912078 36 212} {6068577434051548024 36 213} {380830603142624960 36 214} {5303487393828480446 36 215}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=215
leader log:
[{snapshot 36 209} {127596685379136591 36 210} {2683907383011498542 36 211} {3204991478077912078 36 212} {6068577434051548024 36 213} {380830603142624960 36 214} {5303487393828480446 36 215}]
------------------------------------------------------
flag 57860 term 36 leader 2 nextIndex[0]: 216  matchIndex[0]: 215
term 36 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
flag 61749 term 36 leader 2 nextIndex[1]: 216  matchIndex[1]: 215
term 36 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=215
leader log:
[{snapshot 36 209} {127596685379136591 36 210} {2683907383011498542 36 211} {3204991478077912078 36 212} {6068577434051548024 36 213} {380830603142624960 36 214} {5303487393828480446 36 215}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=215
leader log:
[{snapshot 36 209} {127596685379136591 36 210} {2683907383011498542 36 211} {3204991478077912078 36 212} {6068577434051548024 36 213} {380830603142624960 36 214} {5303487393828480446 36 215}]
------------------------------------------------------
flag 92494 term 36 leader 2 nextIndex[0]: 216  matchIndex[0]: 215
term 36 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
flag 97340 term 36 leader 2 nextIndex[1]: 216  matchIndex[1]: 215
term 36 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:215 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=215
leader log:
[{snapshot 36 209} {127596685379136591 36 210} {2683907383011498542 36 211} {3204991478077912078 36 212} {6068577434051548024 36 213} {380830603142624960 36 214} {5303487393828480446 36 215}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=215
leader log:
[{snapshot 36 209} {127596685379136591 36 210} {2683907383011498542 36 211} {3204991478077912078 36 212} {6068577434051548024 36 213} {380830603142624960 36 214} {5303487393828480446 36 215}]
------------------------------------------------------
flag 47993 term 36 leader 2 nextIndex[0]: 216  matchIndex[0]: 215
term 36 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
flag 39415 term 36 leader 2 nextIndex[1]: 216  matchIndex[1]: 215
term 36 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=216
update matchIndex[1]=215
update leader CommitIndex=215
leader log:
[{snapshot 36 209} {127596685379136591 36 210} {2683907383011498542 36 211} {3204991478077912078 36 212} {6068577434051548024 36 213} {380830603142624960 36 214} {5303487393828480446 36 215}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=215
leader log:
[{snapshot 36 209} {127596685379136591 36 210} {2683907383011498542 36 211} {3204991478077912078 36 212} {6068577434051548024 36 213} {380830603142624960 36 214} {5303487393828480446 36 215}]
------------------------------------------------------
client write log 3730914831989310602 (index 216) to leader 2
flag 75501 term 36 leader 2 nextIndex[0]: 216  matchIndex[0]: 215
term 36 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
flag 51119 term 36 leader 2 nextIndex[1]: 216  matchIndex[1]: 215
term 36 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:215 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=216
leader log:
[{snapshot 36 209} {127596685379136591 36 210} {2683907383011498542 36 211} {3204991478077912078 36 212} {6068577434051548024 36 213} {380830603142624960 36 214} {5303487393828480446 36 215} {3730914831989310602 36 216}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=216
leader log:
[{snapshot 36 209} {127596685379136591 36 210} {2683907383011498542 36 211} {3204991478077912078 36 212} {6068577434051548024 36 213} {380830603142624960 36 214} {5303487393828480446 36 215} {3730914831989310602 36 216}]
------------------------------------------------------
flag 9946 term 36 leader 2 nextIndex[0]: 217  matchIndex[0]: 216
term 36 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 36 leaderCommit: 216 
------------------------------------------------------
flag 90907 term 36 leader 2 nextIndex[1]: 217  matchIndex[1]: 216
term 36 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 36 leaderCommit: 216 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=216
leader log:
[{snapshot 36 209} {127596685379136591 36 210} {2683907383011498542 36 211} {3204991478077912078 36 212} {6068577434051548024 36 213} {380830603142624960 36 214} {5303487393828480446 36 215} {3730914831989310602 36 216}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=216
leader log:
[{snapshot 36 209} {127596685379136591 36 210} {2683907383011498542 36 211} {3204991478077912078 36 212} {6068577434051548024 36 213} {380830603142624960 36 214} {5303487393828480446 36 215} {3730914831989310602 36 216}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31909 term 36 leader 2 nextIndex[0]: 217  matchIndex[0]: 216
term 36 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 36 leaderCommit: 216 
------------------------------------------------------
flag 77366 term 36 leader 2 nextIndex[1]: 217  matchIndex[1]: 216
term 36 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 36 leaderCommit: 216 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=216
leader log:
[{snapshot 36 209} {127596685379136591 36 210} {2683907383011498542 36 211} {3204991478077912078 36 212} {6068577434051548024 36 213} {380830603142624960 36 214} {5303487393828480446 36 215} {3730914831989310602 36 216}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=216
leader log:
[{snapshot 36 209} {127596685379136591 36 210} {2683907383011498542 36 211} {3204991478077912078 36 212} {6068577434051548024 36 213} {380830603142624960 36 214} {5303487393828480446 36 215} {3730914831989310602 36 216}]
------------------------------------------------------
flag 97672 term 36 leader 2 nextIndex[0]: 217  matchIndex[0]: 216
term 36 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 36 leaderCommit: 216 
------------------------------------------------------
flag 19131 term 36 leader 2 nextIndex[1]: 217  matchIndex[1]: 216
term 36 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 36 leaderCommit: 216 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=216
leader log:
[{snapshot 36 209} {127596685379136591 36 210} {2683907383011498542 36 211} {3204991478077912078 36 212} {6068577434051548024 36 213} {380830603142624960 36 214} {5303487393828480446 36 215} {3730914831989310602 36 216}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=216
leader log:
[{snapshot 36 209} {127596685379136591 36 210} {2683907383011498542 36 211} {3204991478077912078 36 212} {6068577434051548024 36 213} {380830603142624960 36 214} {5303487393828480446 36 215} {3730914831989310602 36 216}]
------------------------------------------------------
term 36 server 0 not vote for server 2, 任期不够新
term 36 server 2 get outdate rpc reply from server 0
flag 14459 term 36 leader 2 nextIndex[0]: 217  matchIndex[0]: 216
term 36 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 36 leaderCommit: 216 
------------------------------------------------------
flag 94154 term 36 leader 2 nextIndex[1]: 217  matchIndex[1]: 216
term 36 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 36 leaderCommit: 216 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=216
leader log:
[{snapshot 36 209} {127596685379136591 36 210} {2683907383011498542 36 211} {3204991478077912078 36 212} {6068577434051548024 36 213} {380830603142624960 36 214} {5303487393828480446 36 215} {3730914831989310602 36 216}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=216
leader log:
[{snapshot 36 209} {127596685379136591 36 210} {2683907383011498542 36 211} {3204991478077912078 36 212} {6068577434051548024 36 213} {380830603142624960 36 214} {5303487393828480446 36 215} {3730914831989310602 36 216}]
------------------------------------------------------
flag 60926 term 36 leader 2 nextIndex[0]: 217  matchIndex[0]: 216
term 36 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 36 leaderCommit: 216 
------------------------------------------------------
flag 5793 term 36 leader 2 nextIndex[1]: 217  matchIndex[1]: 216
term 36 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 36 leaderCommit: 216 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=216
leader log:
[{snapshot 36 209} {127596685379136591 36 210} {2683907383011498542 36 211} {3204991478077912078 36 212} {6068577434051548024 36 213} {380830603142624960 36 214} {5303487393828480446 36 215} {3730914831989310602 36 216}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=216
leader log:
[{snapshot 36 209} {127596685379136591 36 210} {2683907383011498542 36 211} {3204991478077912078 36 212} {6068577434051548024 36 213} {380830603142624960 36 214} {5303487393828480446 36 215} {3730914831989310602 36 216}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 2625083939303434298 (index 217) to leader 2
flag 41760 term 36 leader 2 nextIndex[0]: 217  matchIndex[0]: 216
term 36 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 36 leaderCommit: 216 
------------------------------------------------------
flag 99648 term 36 leader 2 nextIndex[1]: 217  matchIndex[1]: 216
term 36 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 36 leaderCommit: 216 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=217
leader log:
[{snapshot 36 209} {127596685379136591 36 210} {2683907383011498542 36 211} {3204991478077912078 36 212} {6068577434051548024 36 213} {380830603142624960 36 214} {5303487393828480446 36 215} {3730914831989310602 36 216} {2625083939303434298 36 217}]
------------------------------------------------------
flag 19709 term 36 leader 2 nextIndex[0]: 217  matchIndex[0]: 216
term 36 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 36 leaderCommit: 217 
------------------------------------------------------
flag 25535 term 36 leader 2 nextIndex[1]: 218  matchIndex[1]: 217
term 36 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 36 leaderCommit: 217 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=217
leader log:
[{snapshot 36 209} {127596685379136591 36 210} {2683907383011498542 36 211} {3204991478077912078 36 212} {6068577434051548024 36 213} {380830603142624960 36 214} {5303487393828480446 36 215} {3730914831989310602 36 216} {2625083939303434298 36 217}]
------------------------------------------------------
client write log 6842919016881695175 (index 218) to leader 2
client write log 3102177539930225130 (index 219) to leader 2
client write log 8466983951022563664 (index 220) to leader 2
client write log 2914154334925077267 (index 221) to leader 2
client write log 8268952818572807813 (index 222) to leader 2
client write log 3484802346874667834 (index 223) to leader 2
client write log 6056977947534286806 (index 224) to leader 2
client write log 2338665190993280171 (index 225) to leader 2
client write log 2885104287181465079 (index 226) to leader 2
client write log 273491458923887434 (index 227) to leader 2
client write log 6631865000723431633 (index 228) to leader 2
flag 92891 term 36 leader 2 nextIndex[0]: 217  matchIndex[0]: 216
term 36 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 36 leaderCommit: 217 
------------------------------------------------------
flag 96470 term 36 leader 2 nextIndex[1]: 218  matchIndex[1]: 217
term 36 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 36 leaderCommit: 217 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=228
leader log:
[{snapshot 36 209} {127596685379136591 36 210} {2683907383011498542 36 211} {3204991478077912078 36 212} {6068577434051548024 36 213} {380830603142624960 36 214} {5303487393828480446 36 215} {3730914831989310602 36 216} {2625083939303434298 36 217} {6842919016881695175 36 218} {3102177539930225130 36 219} {8466983951022563664 36 220} {2914154334925077267 36 221} {8268952818572807813 36 222} {3484802346874667834 36 223} {6056977947534286806 36 224} {2338665190993280171 36 225} {2885104287181465079 36 226} {273491458923887434 36 227} {6631865000723431633 36 228}]
------------------------------------------------------
term 36 Server2 start snapshot! index=219
term 36 server2 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=228
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 36 leader 2 nextIndex[0]: 217  matchIndex[0]: 216
term 36 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 36
------------------------------------------------------
flag 34418 term 36 leader 2 nextIndex[1]: 229  matchIndex[1]: 228
term 36 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=228
leader log:
[{snapshot 36 219} {8466983951022563664 36 220} {2914154334925077267 36 221} {8268952818572807813 36 222} {3484802346874667834 36 223} {6056977947534286806 36 224} {2338665190993280171 36 225} {2885104287181465079 36 226} {273491458923887434 36 227} {6631865000723431633 36 228}]
------------------------------------------------------
term 36 Server1 start snapshot! index=219
term 36 server1 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=228
-------------------------------------------------------------
!!!!!!connect server 0
client write log 1777296697056114559 (index 229) to leader 2
term 36 leader 2 nextIndex[0]: 217  matchIndex[0]: 216
term 36 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 36
------------------------------------------------------
flag 8653 term 36 leader 2 nextIndex[1]: 229  matchIndex[1]: 228
term 36 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
term 37 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
term 36 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 38 server 0 vote for server 2
term 38 server 2 get vote from server 0
term 38 server 2 become leader
------------------------------------------------------
term 38 server 1 vote for server 2
term 38 server 2 get outdate rpc reply from server 1
flag 72175 term 38 leader 2 nextIndex[0]: 230  matchIndex[0]: 0
term 38 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
flag 41355 term 38 leader 2 nextIndex[1]: 230  matchIndex[1]: 0
term 38 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
term 38 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=228
leader log:
[{snapshot 36 219} {8466983951022563664 36 220} {2914154334925077267 36 221} {8268952818572807813 36 222} {3484802346874667834 36 223} {6056977947534286806 36 224} {2338665190993280171 36 225} {2885104287181465079 36 226} {273491458923887434 36 227} {6631865000723431633 36 228} {1777296697056114559 36 229}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 230->229
------------------------------------------------------
term 38 leader 2 nextIndex[0]: 217  matchIndex[0]: 0
term 38 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 36
------------------------------------------------------
flag 3847 term 38 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 38 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=228
leader log:
[{snapshot 36 219} {8466983951022563664 36 220} {2914154334925077267 36 221} {8268952818572807813 36 222} {3484802346874667834 36 223} {6056977947534286806 36 224} {2338665190993280171 36 225} {2885104287181465079 36 226} {273491458923887434 36 227} {6631865000723431633 36 228} {1777296697056114559 36 229}]
------------------------------------------------------
term 38 server 0 InstallSnapshot success
------------------------------------------------------
term 38 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 220 matchIndex[0] 219 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 219 rf.lastIncludedTerm 36 rf.commitIndex 219 rf.lastApplied 219
flag 35261 term 38 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 38 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
flag 46483 term 38 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 38 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=228
leader log:
term 38 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
[{snapshot 36 219} {8466983951022563664 36 220} {2914154334925077267 36 221} {8268952818572807813 36 222} {3484802346874667834 36 223} {6056977947534286806 36 224} {2338665190993280171 36 225} {2885104287181465079 36 226} {273491458923887434 36 227} {6631865000723431633 36 228} {1777296697056114559 36 229}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=228
leader log:
[{snapshot 36 219} {8466983951022563664 36 220} {2914154334925077267 36 221} {8268952818572807813 36 222} {3484802346874667834 36 223} {6056977947534286806 36 224} {2338665190993280171 36 225} {2885104287181465079 36 226} {273491458923887434 36 227} {6631865000723431633 36 228} {1777296697056114559 36 229}]
------------------------------------------------------
term 38 server 1 not vote for server 2, 任期不够新
term 38 server 2 get outdate rpc reply from server 1
flag 23493 term 38 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 38 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
flag 72176 term 38 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 38 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=228
leader log:
[{snapshot 36 219} {8466983951022563664 36 220} {2914154334925077267 36 221} {8268952818572807813 36 222} {3484802346874667834 36 223} {6056977947534286806 36 224} {2338665190993280171 36 225} {2885104287181465079 36 226} {273491458923887434 36 227} {6631865000723431633 36 228} {1777296697056114559 36 229}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=228
leader log:
[{snapshot 36 219} {8466983951022563664 36 220} {2914154334925077267 36 221} {8268952818572807813 36 222} {3484802346874667834 36 223} {6056977947534286806 36 224} {2338665190993280171 36 225} {2885104287181465079 36 226} {273491458923887434 36 227} {6631865000723431633 36 228} {1777296697056114559 36 229}]
------------------------------------------------------
flag 48561 term 38 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 38 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
flag 84305 term 38 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 38 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=228
leader log:
[{snapshot 36 219} {8466983951022563664 36 220} {2914154334925077267 36 221} {8268952818572807813 36 222} {3484802346874667834 36 223} {6056977947534286806 36 224} {2338665190993280171 36 225} {2885104287181465079 36 226} {273491458923887434 36 227} {6631865000723431633 36 228} {1777296697056114559 36 229}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=228
leader log:
[{snapshot 36 219} {8466983951022563664 36 220} {2914154334925077267 36 221} {8268952818572807813 36 222} {3484802346874667834 36 223} {6056977947534286806 36 224} {2338665190993280171 36 225} {2885104287181465079 36 226} {273491458923887434 36 227} {6631865000723431633 36 228} {1777296697056114559 36 229}]
------------------------------------------------------
term 38 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 56320 term 38 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 38 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
flag 93758 term 38 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 38 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=228
leader log:
[{snapshot 36 219} {8466983951022563664 36 220} {2914154334925077267 36 221} {8268952818572807813 36 222} {3484802346874667834 36 223} {6056977947534286806 36 224} {2338665190993280171 36 225} {2885104287181465079 36 226} {273491458923887434 36 227} {6631865000723431633 36 228} {1777296697056114559 36 229}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=228
leader log:
[{snapshot 36 219} {8466983951022563664 36 220} {2914154334925077267 36 221} {8268952818572807813 36 222} {3484802346874667834 36 223} {6056977947534286806 36 224} {2338665190993280171 36 225} {2885104287181465079 36 226} {273491458923887434 36 227} {6631865000723431633 36 228} {1777296697056114559 36 229}]
------------------------------------------------------
flag 76447 term 38 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 38 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
flag 66897 term 38 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 38 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=228
leader log:
[{snapshot 36 219} {8466983951022563664 36 220} {2914154334925077267 36 221} {8268952818572807813 36 222} {3484802346874667834 36 223} {6056977947534286806 36 224} {2338665190993280171 36 225} {2885104287181465079 36 226} {273491458923887434 36 227} {6631865000723431633 36 228} {1777296697056114559 36 229}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=228
leader log:
[{snapshot 36 219} {8466983951022563664 36 220} {2914154334925077267 36 221} {8268952818572807813 36 222} {3484802346874667834 36 223} {6056977947534286806 36 224} {2338665190993280171 36 225} {2885104287181465079 36 226} {273491458923887434 36 227} {6631865000723431633 36 228} {1777296697056114559 36 229}]
------------------------------------------------------
flag 5665 term 38 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 38 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
flag 4612 term 38 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 38 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=228
leader log:
[{snapshot 36 219} {8466983951022563664 36 220} {2914154334925077267 36 221} {8268952818572807813 36 222} {3484802346874667834 36 223} {6056977947534286806 36 224} {2338665190993280171 36 225} {2885104287181465079 36 226} {273491458923887434 36 227} {6631865000723431633 36 228} {1777296697056114559 36 229}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=228
leader log:
[{snapshot 36 219} {8466983951022563664 36 220} {2914154334925077267 36 221} {8268952818572807813 36 222} {3484802346874667834 36 223} {6056977947534286806 36 224} {2338665190993280171 36 225} {2885104287181465079 36 226} {273491458923887434 36 227} {6631865000723431633 36 228} {1777296697056114559 36 229}]
------------------------------------------------------
flag 78845 term 38 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 38 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
flag 7059 term 38 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 38 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=228
leader log:
[{snapshot 36 219} {8466983951022563664 36 220} {2914154334925077267 36 221} {8268952818572807813 36 222} {3484802346874667834 36 223} {6056977947534286806 36 224} {2338665190993280171 36 225} {2885104287181465079 36 226} {273491458923887434 36 227} {6631865000723431633 36 228} {1777296697056114559 36 229}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=228
leader log:
[{snapshot 36 219} {8466983951022563664 36 220} {2914154334925077267 36 221} {8268952818572807813 36 222} {3484802346874667834 36 223} {6056977947534286806 36 224} {2338665190993280171 36 225} {2885104287181465079 36 226} {273491458923887434 36 227} {6631865000723431633 36 228} {1777296697056114559 36 229}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88680 term 38 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 38 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
flag 25791 term 38 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 38 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=228
leader log:
[{snapshot 36 219} {8466983951022563664 36 220} {2914154334925077267 36 221} {8268952818572807813 36 222} {3484802346874667834 36 223} {6056977947534286806 36 224} {2338665190993280171 36 225} {2885104287181465079 36 226} {273491458923887434 36 227} {6631865000723431633 36 228} {1777296697056114559 36 229}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=228
leader log:
[{snapshot 36 219} {8466983951022563664 36 220} {2914154334925077267 36 221} {8268952818572807813 36 222} {3484802346874667834 36 223} {6056977947534286806 36 224} {2338665190993280171 36 225} {2885104287181465079 36 226} {273491458923887434 36 227} {6631865000723431633 36 228} {1777296697056114559 36 229}]
------------------------------------------------------
flag 48920 term 38 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 38 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
flag 49323 term 38 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 38 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=228
leader log:
[{snapshot 36 219} {8466983951022563664 36 220} {2914154334925077267 36 221} {8268952818572807813 36 222} {3484802346874667834 36 223} {6056977947534286806 36 224} {2338665190993280171 36 225} {2885104287181465079 36 226} {273491458923887434 36 227} {6631865000723431633 36 228} {1777296697056114559 36 229}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=228
leader log:
[{snapshot 36 219} {8466983951022563664 36 220} {2914154334925077267 36 221} {8268952818572807813 36 222} {3484802346874667834 36 223} {6056977947534286806 36 224} {2338665190993280171 36 225} {2885104287181465079 36 226} {273491458923887434 36 227} {6631865000723431633 36 228} {1777296697056114559 36 229}]
------------------------------------------------------
flag 26482 term 38 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 38 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
flag 2691 term 38 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 38 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=228
leader log:
[{snapshot 36 219} {8466983951022563664 36 220} {2914154334925077267 36 221} {8268952818572807813 36 222} {3484802346874667834 36 223} {6056977947534286806 36 224} {2338665190993280171 36 225} {2885104287181465079 36 226} {273491458923887434 36 227} {6631865000723431633 36 228} {1777296697056114559 36 229}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=228
leader log:
[{snapshot 36 219} {8466983951022563664 36 220} {2914154334925077267 36 221} {8268952818572807813 36 222} {3484802346874667834 36 223} {6056977947534286806 36 224} {2338665190993280171 36 225} {2885104287181465079 36 226} {273491458923887434 36 227} {6631865000723431633 36 228} {1777296697056114559 36 229}]
------------------------------------------------------
term 38 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 94354 term 38 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 38 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
flag 82137 term 38 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 38 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=228
leader log:
[{snapshot 36 219} {8466983951022563664 36 220} {2914154334925077267 36 221} {8268952818572807813 36 222} {3484802346874667834 36 223} {6056977947534286806 36 224} {2338665190993280171 36 225} {2885104287181465079 36 226} {273491458923887434 36 227} {6631865000723431633 36 228} {1777296697056114559 36 229}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=228
leader log:
[{snapshot 36 219} {8466983951022563664 36 220} {2914154334925077267 36 221} {8268952818572807813 36 222} {3484802346874667834 36 223} {6056977947534286806 36 224} {2338665190993280171 36 225} {2885104287181465079 36 226} {273491458923887434 36 227} {6631865000723431633 36 228} {1777296697056114559 36 229}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29514 term 38 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 38 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
flag 15712 term 38 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 38 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=228
leader log:
[{snapshot 36 219} {8466983951022563664 36 220} {2914154334925077267 36 221} {8268952818572807813 36 222} {3484802346874667834 36 223} {6056977947534286806 36 224} {2338665190993280171 36 225} {2885104287181465079 36 226} {273491458923887434 36 227} {6631865000723431633 36 228} {1777296697056114559 36 229}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=228
leader log:
[{snapshot 36 219} {8466983951022563664 36 220} {2914154334925077267 36 221} {8268952818572807813 36 222} {3484802346874667834 36 223} {6056977947534286806 36 224} {2338665190993280171 36 225} {2885104287181465079 36 226} {273491458923887434 36 227} {6631865000723431633 36 228} {1777296697056114559 36 229}]
------------------------------------------------------
flag 56630 term 38 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 38 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
flag 93398 term 38 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 38 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=228
leader log:
[{snapshot 36 219} {8466983951022563664 36 220} {2914154334925077267 36 221} {8268952818572807813 36 222} {3484802346874667834 36 223} {6056977947534286806 36 224} {2338665190993280171 36 225} {2885104287181465079 36 226} {273491458923887434 36 227} {6631865000723431633 36 228} {1777296697056114559 36 229}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=228
leader log:
[{snapshot 36 219} {8466983951022563664 36 220} {2914154334925077267 36 221} {8268952818572807813 36 222} {3484802346874667834 36 223} {6056977947534286806 36 224} {2338665190993280171 36 225} {2885104287181465079 36 226} {273491458923887434 36 227} {6631865000723431633 36 228} {1777296697056114559 36 229}]
------------------------------------------------------
flag 88162 term 38 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 38 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
flag 10428 term 38 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 38 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=228
leader log:
[{snapshot 36 219} {8466983951022563664 36 220} {2914154334925077267 36 221} {8268952818572807813 36 222} {3484802346874667834 36 223} {6056977947534286806 36 224} {2338665190993280171 36 225} {2885104287181465079 36 226} {273491458923887434 36 227} {6631865000723431633 36 228} {1777296697056114559 36 229}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=228
leader log:
[{snapshot 36 219} {8466983951022563664 36 220} {2914154334925077267 36 221} {8268952818572807813 36 222} {3484802346874667834 36 223} {6056977947534286806 36 224} {2338665190993280171 36 225} {2885104287181465079 36 226} {273491458923887434 36 227} {6631865000723431633 36 228} {1777296697056114559 36 229}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 38 server 1 not vote for server 2, 任期不够新
term 38 server 2 get outdate rpc reply from server 1
flag 85260 term 38 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 38 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
flag 70422 term 38 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 38 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=228
leader log:
[{snapshot 36 219} {8466983951022563664 36 220} {2914154334925077267 36 221} {8268952818572807813 36 222} {3484802346874667834 36 223} {6056977947534286806 36 224} {2338665190993280171 36 225} {2885104287181465079 36 226} {273491458923887434 36 227} {6631865000723431633 36 228} {1777296697056114559 36 229}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=228
leader log:
[{snapshot 36 219} {8466983951022563664 36 220} {2914154334925077267 36 221} {8268952818572807813 36 222} {3484802346874667834 36 223} {6056977947534286806 36 224} {2338665190993280171 36 225} {2885104287181465079 36 226} {273491458923887434 36 227} {6631865000723431633 36 228} {1777296697056114559 36 229}]
------------------------------------------------------
flag 13387 term 38 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 38 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
flag 44615 term 38 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 38 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=228
leader log:
[{snapshot 36 219} {8466983951022563664 36 220} {2914154334925077267 36 221} {8268952818572807813 36 222} {3484802346874667834 36 223} {6056977947534286806 36 224} {2338665190993280171 36 225} {2885104287181465079 36 226} {273491458923887434 36 227} {6631865000723431633 36 228} {1777296697056114559 36 229}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=228
leader log:
[{snapshot 36 219} {8466983951022563664 36 220} {2914154334925077267 36 221} {8268952818572807813 36 222} {3484802346874667834 36 223} {6056977947534286806 36 224} {2338665190993280171 36 225} {2885104287181465079 36 226} {273491458923887434 36 227} {6631865000723431633 36 228} {1777296697056114559 36 229}]
------------------------------------------------------
flag 58595 term 38 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 38 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
flag 45350 term 38 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 38 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=228
leader log:
[{snapshot 36 219} {8466983951022563664 36 220} {2914154334925077267 36 221} {8268952818572807813 36 222} {3484802346874667834 36 223} {6056977947534286806 36 224} {2338665190993280171 36 225} {2885104287181465079 36 226} {273491458923887434 36 227} {6631865000723431633 36 228} {1777296697056114559 36 229}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=228
leader log:
[{snapshot 36 219} {8466983951022563664 36 220} {2914154334925077267 36 221} {8268952818572807813 36 222} {3484802346874667834 36 223} {6056977947534286806 36 224} {2338665190993280171 36 225} {2885104287181465079 36 226} {273491458923887434 36 227} {6631865000723431633 36 228} {1777296697056114559 36 229}]
------------------------------------------------------
client write log 1777296697056114559 (index 230) to leader 2
flag 28090 term 38 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 38 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
flag 40698 term 38 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 38 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 36 leaderCommit: 228 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 36 219} {8466983951022563664 36 220} {2914154334925077267 36 221} {8268952818572807813 36 222} {3484802346874667834 36 223} {6056977947534286806 36 224} {2338665190993280171 36 225} {2885104287181465079 36 226} {273491458923887434 36 227} {6631865000723431633 36 228} {1777296697056114559 36 229} {1777296697056114559 38 230}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=230
leader log:
[{snapshot 36 219} {8466983951022563664 36 220} {2914154334925077267 36 221} {8268952818572807813 36 222} {3484802346874667834 36 223} {6056977947534286806 36 224} {2338665190993280171 36 225} {2885104287181465079 36 226} {273491458923887434 36 227} {6631865000723431633 36 228} {1777296697056114559 36 229} {1777296697056114559 38 230}]
------------------------------------------------------
term 38 Server2 start snapshot! index=229
term 38 server2 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=230
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59993 term 38 leader 2 nextIndex[0]: 231  matchIndex[0]: 230
term 38 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
flag 64224 term 38 leader 2 nextIndex[1]: 231  matchIndex[1]: 230
term 38 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 36 229} {1777296697056114559 38 230}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=230
leader log:
[{snapshot 36 229} {1777296697056114559 38 230}]
------------------------------------------------------
term 38 Server0 start snapshot! index=229
term 38 server0 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=230
-------------------------------------------------------------
term 38 Server1 start snapshot! index=229
term 38 server1 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=230
-------------------------------------------------------------
flag 71446 term 38 leader 2 nextIndex[0]: 231  matchIndex[0]: 230
term 38 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
flag 12142 term 38 leader 2 nextIndex[1]: 231  matchIndex[1]: 230
term 38 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 36 229} {1777296697056114559 38 230}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=230
leader log:
[{snapshot 36 229} {1777296697056114559 38 230}]
------------------------------------------------------
flag 99117 term 38 leader 2 nextIndex[0]: 231  matchIndex[0]: 230
term 38 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
flag 34705 term 38 leader 2 nextIndex[1]: 231  matchIndex[1]: 230
term 38 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 36 229} {1777296697056114559 38 230}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=230
leader log:
[{snapshot 36 229} {1777296697056114559 38 230}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64191 term 38 leader 2 nextIndex[0]: 231  matchIndex[0]: 230
term 38 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
flag 11083 term 38 leader 2 nextIndex[1]: 231  matchIndex[1]: 230
term 38 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 36 229} {1777296697056114559 38 230}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=230
leader log:
[{snapshot 36 229} {1777296697056114559 38 230}]
------------------------------------------------------
flag 53507 term 38 leader 2 nextIndex[0]: 231  matchIndex[0]: 230
term 38 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
flag 32053 term 38 leader 2 nextIndex[1]: 231  matchIndex[1]: 230
term 38 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 36 229} {1777296697056114559 38 230}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=230
leader log:
[{snapshot 36 229} {1777296697056114559 38 230}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97554 term 38 leader 2 nextIndex[0]: 231  matchIndex[0]: 230
term 38 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
flag 67958 term 38 leader 2 nextIndex[1]: 231  matchIndex[1]: 230
term 38 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 36 229} {1777296697056114559 38 230}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=230
leader log:
[{snapshot 36 229} {1777296697056114559 38 230}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 7391684619806621226 (index 231) to leader 2
flag 92795 term 38 leader 2 nextIndex[0]: 231  matchIndex[0]: 230
term 38 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
flag 81964 term 38 leader 2 nextIndex[1]: 231  matchIndex[1]: 230
term 38 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=232
update matchIndex[1]=231
update leader CommitIndex=231
leader log:
[{snapshot 36 229} {1777296697056114559 38 230} {7391684619806621226 38 231}]
------------------------------------------------------
flag 55907 term 38 leader 2 nextIndex[0]: 231  matchIndex[0]: 230
term 38 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 231 
------------------------------------------------------
flag 79758 term 38 leader 2 nextIndex[1]: 232  matchIndex[1]: 231
term 38 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 38 leaderCommit: 231 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=232
update matchIndex[1]=231
update leader CommitIndex=231
leader log:
[{snapshot 36 229} {1777296697056114559 38 230} {7391684619806621226 38 231}]
------------------------------------------------------
client write log 8180550282337411143 (index 232) to leader 2
client write log 2836673177670361809 (index 233) to leader 2
client write log 925771508483888765 (index 234) to leader 2
client write log 568317373897072916 (index 235) to leader 2
client write log 5490914815134564789 (index 236) to leader 2
client write log 3764141942088499339 (index 237) to leader 2
client write log 7611559208946491503 (index 238) to leader 2
client write log 8057941481063029421 (index 239) to leader 2
client write log 6541751581996554583 (index 240) to leader 2
client write log 6276165420235682922 (index 241) to leader 2
client write log 7110390707309589139 (index 242) to leader 2
client write log 3113191352496444189 (index 243) to leader 2
client write log 3942381238193206597 (index 244) to leader 2
client write log 5959641669075901103 (index 245) to leader 2
client write log 8116743138877136726 (index 246) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33798 term 38 leader 2 nextIndex[0]: 231  matchIndex[0]: 230
term 38 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 231 
------------------------------------------------------
flag 56970 term 38 leader 2 nextIndex[1]: 232  matchIndex[1]: 231
term 38 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 38 leaderCommit: 231 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=247
update matchIndex[1]=246
update leader CommitIndex=246
leader log:
[{snapshot 36 229} {1777296697056114559 38 230} {7391684619806621226 38 231} {8180550282337411143 38 232} {2836673177670361809 38 233} {925771508483888765 38 234} {568317373897072916 38 235} {5490914815134564789 38 236} {3764141942088499339 38 237} {7611559208946491503 38 238} {8057941481063029421 38 239} {6541751581996554583 38 240} {6276165420235682922 38 241} {7110390707309589139 38 242} {3113191352496444189 38 243} {3942381238193206597 38 244} {5959641669075901103 38 245} {8116743138877136726 38 246}]
------------------------------------------------------
term 38 Server2 start snapshot! index=239
term 38 server2 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=246
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 38 leader 2 nextIndex[0]: 231  matchIndex[0]: 230
term 38 leader 2 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 38
------------------------------------------------------
flag 85994 term 38 leader 2 nextIndex[1]: 247  matchIndex[1]: 246
term 38 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 38 leaderCommit: 246 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=247
update matchIndex[1]=246
update leader CommitIndex=246
leader log:
[{snapshot 38 239} {6541751581996554583 38 240} {6276165420235682922 38 241} {7110390707309589139 38 242} {3113191352496444189 38 243} {3942381238193206597 38 244} {5959641669075901103 38 245} {8116743138877136726 38 246}]
------------------------------------------------------
term 38 Server1 start snapshot! index=239
term 38 server1 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=246
-------------------------------------------------------------
!!!!!!connect server 0
client write log 5220245110616786560 (index 247) to leader 2
term 38 server 2 not vote for server 0, 日志不够新
term 38 server 1 not vote for server 0, 日志不够新
term 40 server 0 vote for server 2
term 40 server 2 get vote from server 0
term 40 server 2 become leader
------------------------------------------------------
term 40 server 1 vote for server 2
term 40 server 2 get outdate rpc reply from server 1
flag 62988 term 40 leader 2 nextIndex[0]: 248  matchIndex[0]: 0
term 40 leader 2 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 246 
------------------------------------------------------
flag 71025 term 40 leader 2 nextIndex[1]: 248  matchIndex[1]: 0
term 40 leader 2 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 246 
------------------------------------------------------
term 40 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
term 40 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 248->247
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 248->247
------------------------------------------------------
term 40 leader 2 nextIndex[0]: 231  matchIndex[0]: 0
term 40 leader 2 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 38
------------------------------------------------------
flag 7345 term 40 leader 2 nextIndex[1]: 247  matchIndex[1]: 0
term 40 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 38 leaderCommit: 246 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:246 
------------------------------------------------------
term 40 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 239 rf.lastIncludedTerm 38 rf.commitIndex 239 rf.lastApplied 239
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=248
update matchIndex[1]=247
update leader CommitIndex=246
leader log:
[{snapshot 38 239} {6541751581996554583 38 240} {6276165420235682922 38 241} {7110390707309589139 38 242} {3113191352496444189 38 243} {3942381238193206597 38 244} {5959641669075901103 38 245} {8116743138877136726 38 246} {5220245110616786560 38 247}]
------------------------------------------------------
term 40 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 240 matchIndex[0] 239 
------------------------------------------------------------------------
flag 5916 term 40 leader 2 nextIndex[0]: 240  matchIndex[0]: 239
term 40 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 246 
------------------------------------------------------
flag 57281 term 40 leader 2 nextIndex[1]: 248  matchIndex[1]: 247
term 40 leader 2 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 246 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=248
update matchIndex[1]=247
update leader CommitIndex=246
leader log:
[{snapshot 38 239} {6541751581996554583 38 240} {6276165420235682922 38 241} {7110390707309589139 38 242} {3113191352496444189 38 243} {3942381238193206597 38 244} {5959641669075901103 38 245} {8116743138877136726 38 246} {5220245110616786560 38 247}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 38 239} {6541751581996554583 38 240} {6276165420235682922 38 241} {7110390707309589139 38 242} {3113191352496444189 38 243} {3942381238193206597 38 244} {5959641669075901103 38 245} {8116743138877136726 38 246} {5220245110616786560 38 247}]
------------------------------------------------------
term 40 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 25829 term 40 leader 2 nextIndex[0]: 248  matchIndex[0]: 247
term 40 leader 2 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 246 
------------------------------------------------------
flag 85888 term 40 leader 2 nextIndex[1]: 248  matchIndex[1]: 247
term 40 leader 2 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 246 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:246 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=248
update matchIndex[1]=247
update leader CommitIndex=246
leader log:
[{snapshot 38 239} {6541751581996554583 38 240} {6276165420235682922 38 241} {7110390707309589139 38 242} {3113191352496444189 38 243} {3942381238193206597 38 244} {5959641669075901103 38 245} {8116743138877136726 38 246} {5220245110616786560 38 247}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 38 239} {6541751581996554583 38 240} {6276165420235682922 38 241} {7110390707309589139 38 242} {3113191352496444189 38 243} {3942381238193206597 38 244} {5959641669075901103 38 245} {8116743138877136726 38 246} {5220245110616786560 38 247}]
------------------------------------------------------
flag 26247 term 40 leader 2 nextIndex[0]: 248  matchIndex[0]: 247
term 40 leader 2 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 246 
------------------------------------------------------
flag 52316 term 40 leader 2 nextIndex[1]: 248  matchIndex[1]: 247
term 40 leader 2 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 246 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:246 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=248
update matchIndex[1]=247
update leader CommitIndex=246
leader log:
[{snapshot 38 239} {6541751581996554583 38 240} {6276165420235682922 38 241} {7110390707309589139 38 242} {3113191352496444189 38 243} {3942381238193206597 38 244} {5959641669075901103 38 245} {8116743138877136726 38 246} {5220245110616786560 38 247}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 38 239} {6541751581996554583 38 240} {6276165420235682922 38 241} {7110390707309589139 38 242} {3113191352496444189 38 243} {3942381238193206597 38 244} {5959641669075901103 38 245} {8116743138877136726 38 246} {5220245110616786560 38 247}]
------------------------------------------------------
flag 83498 term 40 leader 2 nextIndex[0]: 248  matchIndex[0]: 247
term 40 leader 2 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 246 
------------------------------------------------------
flag 6954 term 40 leader 2 nextIndex[1]: 248  matchIndex[1]: 247
term 40 leader 2 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 246 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=248
update matchIndex[1]=247
update leader CommitIndex=246
leader log:
[{snapshot 38 239} {6541751581996554583 38 240} {6276165420235682922 38 241} {7110390707309589139 38 242} {3113191352496444189 38 243} {3942381238193206597 38 244} {5959641669075901103 38 245} {8116743138877136726 38 246} {5220245110616786560 38 247}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 38 239} {6541751581996554583 38 240} {6276165420235682922 38 241} {7110390707309589139 38 242} {3113191352496444189 38 243} {3942381238193206597 38 244} {5959641669075901103 38 245} {8116743138877136726 38 246} {5220245110616786560 38 247}]
------------------------------------------------------
flag 2446 term 40 leader 2 nextIndex[0]: 248  matchIndex[0]: 247
term 40 leader 2 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 246 
------------------------------------------------------
flag 19081 term 40 leader 2 nextIndex[1]: 248  matchIndex[1]: 247
term 40 leader 2 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 246 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=248
update matchIndex[1]=247
update leader CommitIndex=246
leader log:
[{snapshot 38 239} {6541751581996554583 38 240} {6276165420235682922 38 241} {7110390707309589139 38 242} {3113191352496444189 38 243} {3942381238193206597 38 244} {5959641669075901103 38 245} {8116743138877136726 38 246} {5220245110616786560 38 247}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 38 239} {6541751581996554583 38 240} {6276165420235682922 38 241} {7110390707309589139 38 242} {3113191352496444189 38 243} {3942381238193206597 38 244} {5959641669075901103 38 245} {8116743138877136726 38 246} {5220245110616786560 38 247}]
------------------------------------------------------
flag 66771 term 40 leader 2 nextIndex[0]: 248  matchIndex[0]: 247
term 40 leader 2 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 246 
------------------------------------------------------
flag 28679 term 40 leader 2 nextIndex[1]: 248  matchIndex[1]: 247
term 40 leader 2 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 246 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=248
update matchIndex[1]=247
update leader CommitIndex=246
leader log:
[{snapshot 38 239} {6541751581996554583 38 240} {6276165420235682922 38 241} {7110390707309589139 38 242} {3113191352496444189 38 243} {3942381238193206597 38 244} {5959641669075901103 38 245} {8116743138877136726 38 246} {5220245110616786560 38 247}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 38 239} {6541751581996554583 38 240} {6276165420235682922 38 241} {7110390707309589139 38 242} {3113191352496444189 38 243} {3942381238193206597 38 244} {5959641669075901103 38 245} {8116743138877136726 38 246} {5220245110616786560 38 247}]
------------------------------------------------------
flag 22283 term 40 leader 2 nextIndex[0]: 248  matchIndex[0]: 247
term 40 leader 2 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 246 
------------------------------------------------------
flag 11946 term 40 leader 2 nextIndex[1]: 248  matchIndex[1]: 247
term 40 leader 2 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 246 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=248
update matchIndex[1]=247
update leader CommitIndex=246
leader log:
[{snapshot 38 239} {6541751581996554583 38 240} {6276165420235682922 38 241} {7110390707309589139 38 242} {3113191352496444189 38 243} {3942381238193206597 38 244} {5959641669075901103 38 245} {8116743138877136726 38 246} {5220245110616786560 38 247}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 38 239} {6541751581996554583 38 240} {6276165420235682922 38 241} {7110390707309589139 38 242} {3113191352496444189 38 243} {3942381238193206597 38 244} {5959641669075901103 38 245} {8116743138877136726 38 246} {5220245110616786560 38 247}]
------------------------------------------------------
flag 58167 term 40 leader 2 nextIndex[0]: 248  matchIndex[0]: 247
term 40 leader 2 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 246 
------------------------------------------------------
flag 5244 term 40 leader 2 nextIndex[1]: 248  matchIndex[1]: 247
term 40 leader 2 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 246 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=248
update matchIndex[1]=247
update leader CommitIndex=246
leader log:
[{snapshot 38 239} {6541751581996554583 38 240} {6276165420235682922 38 241} {7110390707309589139 38 242} {3113191352496444189 38 243} {3942381238193206597 38 244} {5959641669075901103 38 245} {8116743138877136726 38 246} {5220245110616786560 38 247}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 38 239} {6541751581996554583 38 240} {6276165420235682922 38 241} {7110390707309589139 38 242} {3113191352496444189 38 243} {3942381238193206597 38 244} {5959641669075901103 38 245} {8116743138877136726 38 246} {5220245110616786560 38 247}]
------------------------------------------------------
flag 70686 term 40 leader 2 nextIndex[0]: 248  matchIndex[0]: 247
term 40 leader 2 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 246 
------------------------------------------------------
flag 10402 term 40 leader 2 nextIndex[1]: 248  matchIndex[1]: 247
term 40 leader 2 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 246 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:246 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 38 239} {6541751581996554583 38 240} {6276165420235682922 38 241} {7110390707309589139 38 242} {3113191352496444189 38 243} {3942381238193206597 38 244} {5959641669075901103 38 245} {8116743138877136726 38 246} {5220245110616786560 38 247}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=248
update matchIndex[1]=247
update leader CommitIndex=246
leader log:
[{snapshot 38 239} {6541751581996554583 38 240} {6276165420235682922 38 241} {7110390707309589139 38 242} {3113191352496444189 38 243} {3942381238193206597 38 244} {5959641669075901103 38 245} {8116743138877136726 38 246} {5220245110616786560 38 247}]
------------------------------------------------------
flag 78247 term 40 leader 2 nextIndex[0]: 248  matchIndex[0]: 247
term 40 leader 2 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 246 
------------------------------------------------------
flag 27184 term 40 leader 2 nextIndex[1]: 248  matchIndex[1]: 247
term 40 leader 2 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 246 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:246 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=248
update matchIndex[1]=247
update leader CommitIndex=246
leader log:
[{snapshot 38 239} {6541751581996554583 38 240} {6276165420235682922 38 241} {7110390707309589139 38 242} {3113191352496444189 38 243} {3942381238193206597 38 244} {5959641669075901103 38 245} {8116743138877136726 38 246} {5220245110616786560 38 247}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 38 239} {6541751581996554583 38 240} {6276165420235682922 38 241} {7110390707309589139 38 242} {3113191352496444189 38 243} {3942381238193206597 38 244} {5959641669075901103 38 245} {8116743138877136726 38 246} {5220245110616786560 38 247}]
------------------------------------------------------
flag 15547 term 40 leader 2 nextIndex[0]: 248  matchIndex[0]: 247
term 40 leader 2 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 246 
------------------------------------------------------
flag 42946 term 40 leader 2 nextIndex[1]: 248  matchIndex[1]: 247
term 40 leader 2 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 246 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=248
update matchIndex[1]=247
update leader CommitIndex=246
leader log:
[{snapshot 38 239} {6541751581996554583 38 240} {6276165420235682922 38 241} {7110390707309589139 38 242} {3113191352496444189 38 243} {3942381238193206597 38 244} {5959641669075901103 38 245} {8116743138877136726 38 246} {5220245110616786560 38 247}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 38 239} {6541751581996554583 38 240} {6276165420235682922 38 241} {7110390707309589139 38 242} {3113191352496444189 38 243} {3942381238193206597 38 244} {5959641669075901103 38 245} {8116743138877136726 38 246} {5220245110616786560 38 247}]
------------------------------------------------------
term 40 server 1 not vote for server 0, 任期不够新
term 40 server 0 get outdate rpc reply from server 1
flag 60149 term 40 leader 2 nextIndex[0]: 248  matchIndex[0]: 247
term 40 leader 2 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 246 
------------------------------------------------------
flag 84464 term 40 leader 2 nextIndex[1]: 248  matchIndex[1]: 247
term 40 leader 2 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 246 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=248
update matchIndex[1]=247
update leader CommitIndex=246
leader log:
[{snapshot 38 239} {6541751581996554583 38 240} {6276165420235682922 38 241} {7110390707309589139 38 242} {3113191352496444189 38 243} {3942381238193206597 38 244} {5959641669075901103 38 245} {8116743138877136726 38 246} {5220245110616786560 38 247}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 38 239} {6541751581996554583 38 240} {6276165420235682922 38 241} {7110390707309589139 38 242} {3113191352496444189 38 243} {3942381238193206597 38 244} {5959641669075901103 38 245} {8116743138877136726 38 246} {5220245110616786560 38 247}]
------------------------------------------------------
term 40 server 2 not vote for server 0, 任期不够新
term 40 server 0 get outdate rpc reply from server 2
flag 18834 term 40 leader 2 nextIndex[0]: 248  matchIndex[0]: 247
term 40 leader 2 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 246 
------------------------------------------------------
flag 55274 term 40 leader 2 nextIndex[1]: 248  matchIndex[1]: 247
term 40 leader 2 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 246 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=248
update matchIndex[1]=247
update leader CommitIndex=246
leader log:
[{snapshot 38 239} {6541751581996554583 38 240} {6276165420235682922 38 241} {7110390707309589139 38 242} {3113191352496444189 38 243} {3942381238193206597 38 244} {5959641669075901103 38 245} {8116743138877136726 38 246} {5220245110616786560 38 247}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 38 239} {6541751581996554583 38 240} {6276165420235682922 38 241} {7110390707309589139 38 242} {3113191352496444189 38 243} {3942381238193206597 38 244} {5959641669075901103 38 245} {8116743138877136726 38 246} {5220245110616786560 38 247}]
------------------------------------------------------
flag 61897 term 40 leader 2 nextIndex[0]: 248  matchIndex[0]: 247
term 40 leader 2 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 246 
------------------------------------------------------
flag 47491 term 40 leader 2 nextIndex[1]: 248  matchIndex[1]: 247
term 40 leader 2 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 246 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:246 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 38 239} {6541751581996554583 38 240} {6276165420235682922 38 241} {7110390707309589139 38 242} {3113191352496444189 38 243} {3942381238193206597 38 244} {5959641669075901103 38 245} {8116743138877136726 38 246} {5220245110616786560 38 247}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=248
update matchIndex[1]=247
update leader CommitIndex=246
leader log:
[{snapshot 38 239} {6541751581996554583 38 240} {6276165420235682922 38 241} {7110390707309589139 38 242} {3113191352496444189 38 243} {3942381238193206597 38 244} {5959641669075901103 38 245} {8116743138877136726 38 246} {5220245110616786560 38 247}]
------------------------------------------------------
flag 43325 term 40 leader 2 nextIndex[0]: 248  matchIndex[0]: 247
term 40 leader 2 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 246 
------------------------------------------------------
flag 72293 term 40 leader 2 nextIndex[1]: 248  matchIndex[1]: 247
term 40 leader 2 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 246 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:246 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=248
update matchIndex[1]=247
update leader CommitIndex=246
leader log:
[{snapshot 38 239} {6541751581996554583 38 240} {6276165420235682922 38 241} {7110390707309589139 38 242} {3113191352496444189 38 243} {3942381238193206597 38 244} {5959641669075901103 38 245} {8116743138877136726 38 246} {5220245110616786560 38 247}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 38 239} {6541751581996554583 38 240} {6276165420235682922 38 241} {7110390707309589139 38 242} {3113191352496444189 38 243} {3942381238193206597 38 244} {5959641669075901103 38 245} {8116743138877136726 38 246} {5220245110616786560 38 247}]
------------------------------------------------------
flag 41145 term 40 leader 2 nextIndex[0]: 248  matchIndex[0]: 247
term 40 leader 2 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 246 
------------------------------------------------------
flag 94269 term 40 leader 2 nextIndex[1]: 248  matchIndex[1]: 247
term 40 leader 2 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 246 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=248
update matchIndex[1]=247
update leader CommitIndex=246
leader log:
[{snapshot 38 239} {6541751581996554583 38 240} {6276165420235682922 38 241} {7110390707309589139 38 242} {3113191352496444189 38 243} {3942381238193206597 38 244} {5959641669075901103 38 245} {8116743138877136726 38 246} {5220245110616786560 38 247}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 38 239} {6541751581996554583 38 240} {6276165420235682922 38 241} {7110390707309589139 38 242} {3113191352496444189 38 243} {3942381238193206597 38 244} {5959641669075901103 38 245} {8116743138877136726 38 246} {5220245110616786560 38 247}]
------------------------------------------------------
flag 79551 term 40 leader 2 nextIndex[0]: 248  matchIndex[0]: 247
term 40 leader 2 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 246 
------------------------------------------------------
flag 45725 term 40 leader 2 nextIndex[1]: 248  matchIndex[1]: 247
term 40 leader 2 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 246 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:246 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=248
update matchIndex[1]=247
update leader CommitIndex=246
leader log:
[{snapshot 38 239} {6541751581996554583 38 240} {6276165420235682922 38 241} {7110390707309589139 38 242} {3113191352496444189 38 243} {3942381238193206597 38 244} {5959641669075901103 38 245} {8116743138877136726 38 246} {5220245110616786560 38 247}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 38 239} {6541751581996554583 38 240} {6276165420235682922 38 241} {7110390707309589139 38 242} {3113191352496444189 38 243} {3942381238193206597 38 244} {5959641669075901103 38 245} {8116743138877136726 38 246} {5220245110616786560 38 247}]
------------------------------------------------------
flag 27896 term 40 leader 2 nextIndex[0]: 248  matchIndex[0]: 247
term 40 leader 2 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 246 
------------------------------------------------------
flag 46977 term 40 leader 2 nextIndex[1]: 248  matchIndex[1]: 247
term 40 leader 2 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 246 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 38 239} {6541751581996554583 38 240} {6276165420235682922 38 241} {7110390707309589139 38 242} {3113191352496444189 38 243} {3942381238193206597 38 244} {5959641669075901103 38 245} {8116743138877136726 38 246} {5220245110616786560 38 247}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=248
update matchIndex[1]=247
update leader CommitIndex=246
leader log:
[{snapshot 38 239} {6541751581996554583 38 240} {6276165420235682922 38 241} {7110390707309589139 38 242} {3113191352496444189 38 243} {3942381238193206597 38 244} {5959641669075901103 38 245} {8116743138877136726 38 246} {5220245110616786560 38 247}]
------------------------------------------------------
client write log 5220245110616786560 (index 248) to leader 2
flag 181 term 40 leader 2 nextIndex[0]: 248  matchIndex[0]: 247
term 40 leader 2 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 246 
------------------------------------------------------
flag 87983 term 40 leader 2 nextIndex[1]: 248  matchIndex[1]: 247
term 40 leader 2 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 38 leaderCommit: 246 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {6541751581996554583 38 240} {6276165420235682922 38 241} {7110390707309589139 38 242} {3113191352496444189 38 243} {3942381238193206597 38 244} {5959641669075901103 38 245} {8116743138877136726 38 246} {5220245110616786560 38 247} {5220245110616786560 40 248}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {6541751581996554583 38 240} {6276165420235682922 38 241} {7110390707309589139 38 242} {3113191352496444189 38 243} {3942381238193206597 38 244} {5959641669075901103 38 245} {8116743138877136726 38 246} {5220245110616786560 38 247} {5220245110616786560 40 248}]
------------------------------------------------------
flag 29451 term 40 leader 2 nextIndex[0]: 249  matchIndex[0]: 248
term 40 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 40 leaderCommit: 248 
------------------------------------------------------
flag 62043 term 40 leader 2 nextIndex[1]: 249  matchIndex[1]: 248
term 40 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 40 leaderCommit: 248 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {6541751581996554583 38 240} {6276165420235682922 38 241} {7110390707309589139 38 242} {3113191352496444189 38 243} {3942381238193206597 38 244} {5959641669075901103 38 245} {8116743138877136726 38 246} {5220245110616786560 38 247} {5220245110616786560 40 248}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {6541751581996554583 38 240} {6276165420235682922 38 241} {7110390707309589139 38 242} {3113191352496444189 38 243} {3942381238193206597 38 244} {5959641669075901103 38 245} {8116743138877136726 38 246} {5220245110616786560 38 247} {5220245110616786560 40 248}]
------------------------------------------------------
flag 30977 term 40 leader 2 nextIndex[0]: 249  matchIndex[0]: 248
term 40 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 40 leaderCommit: 248 
------------------------------------------------------
flag 24118 term 40 leader 2 nextIndex[1]: 249  matchIndex[1]: 248
term 40 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 40 leaderCommit: 248 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {6541751581996554583 38 240} {6276165420235682922 38 241} {7110390707309589139 38 242} {3113191352496444189 38 243} {3942381238193206597 38 244} {5959641669075901103 38 245} {8116743138877136726 38 246} {5220245110616786560 38 247} {5220245110616786560 40 248}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {6541751581996554583 38 240} {6276165420235682922 38 241} {7110390707309589139 38 242} {3113191352496444189 38 243} {3942381238193206597 38 244} {5959641669075901103 38 245} {8116743138877136726 38 246} {5220245110616786560 38 247} {5220245110616786560 40 248}]
------------------------------------------------------
flag 52052 term 40 leader 2 nextIndex[0]: 249  matchIndex[0]: 248
term 40 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 40 leaderCommit: 248 
------------------------------------------------------
flag 67123 term 40 leader 2 nextIndex[1]: 249  matchIndex[1]: 248
term 40 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 40 leaderCommit: 248 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {6541751581996554583 38 240} {6276165420235682922 38 241} {7110390707309589139 38 242} {3113191352496444189 38 243} {3942381238193206597 38 244} {5959641669075901103 38 245} {8116743138877136726 38 246} {5220245110616786560 38 247} {5220245110616786560 40 248}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {6541751581996554583 38 240} {6276165420235682922 38 241} {7110390707309589139 38 242} {3113191352496444189 38 243} {3942381238193206597 38 244} {5959641669075901103 38 245} {8116743138877136726 38 246} {5220245110616786560 38 247} {5220245110616786560 40 248}]
------------------------------------------------------
flag 75806 term 40 leader 2 nextIndex[0]: 249  matchIndex[0]: 248
term 40 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 40 leaderCommit: 248 
------------------------------------------------------
flag 468 term 40 leader 2 nextIndex[1]: 249  matchIndex[1]: 248
term 40 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 40 leaderCommit: 248 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {6541751581996554583 38 240} {6276165420235682922 38 241} {7110390707309589139 38 242} {3113191352496444189 38 243} {3942381238193206597 38 244} {5959641669075901103 38 245} {8116743138877136726 38 246} {5220245110616786560 38 247} {5220245110616786560 40 248}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {6541751581996554583 38 240} {6276165420235682922 38 241} {7110390707309589139 38 242} {3113191352496444189 38 243} {3942381238193206597 38 244} {5959641669075901103 38 245} {8116743138877136726 38 246} {5220245110616786560 38 247} {5220245110616786560 40 248}]
------------------------------------------------------
flag 95836 term 40 leader 2 nextIndex[0]: 249  matchIndex[0]: 248
term 40 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 40 leaderCommit: 248 
------------------------------------------------------
flag 74388 term 40 leader 2 nextIndex[1]: 249  matchIndex[1]: 248
term 40 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 40 leaderCommit: 248 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {6541751581996554583 38 240} {6276165420235682922 38 241} {7110390707309589139 38 242} {3113191352496444189 38 243} {3942381238193206597 38 244} {5959641669075901103 38 245} {8116743138877136726 38 246} {5220245110616786560 38 247} {5220245110616786560 40 248}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {6541751581996554583 38 240} {6276165420235682922 38 241} {7110390707309589139 38 242} {3113191352496444189 38 243} {3942381238193206597 38 244} {5959641669075901103 38 245} {8116743138877136726 38 246} {5220245110616786560 38 247} {5220245110616786560 40 248}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 75076 term 40 leader 2 nextIndex[0]: 249  matchIndex[0]: 248
term 40 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 40 leaderCommit: 248 
------------------------------------------------------
flag 5891 term 40 leader 2 nextIndex[1]: 249  matchIndex[1]: 248
term 40 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 40 leaderCommit: 248 
------------------------------------------------------
flag 94027 term 40 leader 2 nextIndex[0]: 249  matchIndex[0]: 248
term 40 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 40 leaderCommit: 248 
------------------------------------------------------
flag 51177 term 40 leader 2 nextIndex[1]: 249  matchIndex[1]: 248
term 40 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 40 leaderCommit: 248 
------------------------------------------------------
flag 6451 term 40 leader 2 nextIndex[0]: 249  matchIndex[0]: 248
term 40 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 40 leaderCommit: 248 
------------------------------------------------------
flag 8829 term 40 leader 2 nextIndex[1]: 249  matchIndex[1]: 248
term 40 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 40 leaderCommit: 248 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1348 term 40 leader 2 nextIndex[0]: 249  matchIndex[0]: 248
term 40 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 40 leaderCommit: 248 
------------------------------------------------------
flag 34533 term 40 leader 2 nextIndex[1]: 249  matchIndex[1]: 248
term 40 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 40 leaderCommit: 248 
------------------------------------------------------
term 41 server 0 vote for server 1
term 41 server 1 get vote from server 0
term 41 server 1 become leader
------------------------------------------------------
flag 13842 term 41 leader 1 nextIndex[0]: 249  matchIndex[0]: 0
term 41 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 40 leaderCommit: 248 
------------------------------------------------------
flag 39934 term 41 leader 1 nextIndex[2]: 249  matchIndex[2]: 0
term 41 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 40 leaderCommit: 248 
------------------------------------------------------
client write log 3873263930530836554 (index 249) to leader 1
term 41 server 0 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=248
leader log:
[{snapshot 38 239} {6541751581996554583 38 240} {6276165420235682922 38 241} {7110390707309589139 38 242} {3113191352496444189 38 243} {3942381238193206597 38 244} {5959641669075901103 38 245} {8116743138877136726 38 246} {5220245110616786560 38 247} {5220245110616786560 40 248} {3873263930530836554 41 249}]
------------------------------------------------------
flag 71496 term 40 leader 2 nextIndex[0]: 249  matchIndex[0]: 248
term 40 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 40 leaderCommit: 248 
------------------------------------------------------
flag 40398 term 40 leader 2 nextIndex[1]: 249  matchIndex[1]: 248
term 40 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 40 leaderCommit: 248 
------------------------------------------------------
flag 90517 term 41 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 41 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 40 leaderCommit: 248 
------------------------------------------------------
flag 89377 term 41 leader 1 nextIndex[2]: 249  matchIndex[2]: 0
term 41 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 40 leaderCommit: 248 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=250
update matchIndex[0]=249
update leader CommitIndex=249
leader log:
[{snapshot 38 239} {6541751581996554583 38 240} {6276165420235682922 38 241} {7110390707309589139 38 242} {3113191352496444189 38 243} {3942381238193206597 38 244} {5959641669075901103 38 245} {8116743138877136726 38 246} {5220245110616786560 38 247} {5220245110616786560 40 248} {3873263930530836554 41 249}]
------------------------------------------------------
term 41 Server1 start snapshot! index=249
term 41 server1 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=249
-------------------------------------------------------------
flag 95762 term 40 leader 2 nextIndex[0]: 249  matchIndex[0]: 248
term 40 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 40 leaderCommit: 248 
------------------------------------------------------
flag 67899 term 40 leader 2 nextIndex[1]: 249  matchIndex[1]: 248
term 40 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 40 leaderCommit: 248 
------------------------------------------------------
flag 71014 term 41 leader 1 nextIndex[0]: 250  matchIndex[0]: 249
term 41 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 41 leaderCommit: 249 
------------------------------------------------------
term 41 leader 1 nextIndex[2]: 249  matchIndex[2]: 0
term 41 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 41
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=250
update matchIndex[0]=249
update leader CommitIndex=249
leader log:
[{snapshot 41 249}]
------------------------------------------------------
client write log 4514396155317703752 (index 250) to leader 1
term 41 Server0 start snapshot! index=249
term 41 server0 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=249
-------------------------------------------------------------
flag 83017 term 40 leader 2 nextIndex[0]: 249  matchIndex[0]: 248
term 40 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 40 leaderCommit: 248 
------------------------------------------------------
flag 22236 term 40 leader 2 nextIndex[1]: 249  matchIndex[1]: 248
term 40 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 40 leaderCommit: 248 
------------------------------------------------------
flag 53700 term 41 leader 1 nextIndex[0]: 250  matchIndex[0]: 249
term 41 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 41 leaderCommit: 249 
------------------------------------------------------
term 41 leader 1 nextIndex[2]: 249  matchIndex[2]: 0
term 41 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 41
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=251
update matchIndex[0]=250
update leader CommitIndex=250
leader log:
[{snapshot 41 249} {4514396155317703752 41 250}]
------------------------------------------------------
flag 76123 term 40 leader 2 nextIndex[0]: 249  matchIndex[0]: 248
term 40 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 40 leaderCommit: 248 
------------------------------------------------------
flag 30490 term 40 leader 2 nextIndex[1]: 249  matchIndex[1]: 248
term 40 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 40 leaderCommit: 248 
------------------------------------------------------
flag 40420 term 41 leader 1 nextIndex[0]: 251  matchIndex[0]: 250
term 41 leader 1 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 41 leaderCommit: 250 
------------------------------------------------------
term 41 leader 1 nextIndex[2]: 249  matchIndex[2]: 0
term 41 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 41
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=251
update matchIndex[0]=250
update leader CommitIndex=250
leader log:
[{snapshot 41 249} {4514396155317703752 41 250}]
------------------------------------------------------
!!!!!!connect server 2
client write log 5993123405352740040 (index 251) to leader 1
flag 31690 term 40 leader 2 nextIndex[0]: 249  matchIndex[0]: 248
term 40 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 40 leaderCommit: 248 
------------------------------------------------------
flag 30039 term 40 leader 2 nextIndex[1]: 249  matchIndex[1]: 248
term 40 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 40 leaderCommit: 248 
------------------------------------------------------
term 41 server 1 AppendEntries false 领导者任期过期 args.Term 40
------------------------------------------------------
term 41 server 0 AppendEntries false 领导者任期过期 args.Term 40
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73019 term 41 leader 1 nextIndex[0]: 251  matchIndex[0]: 250
term 41 leader 1 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 41 leaderCommit: 250 
------------------------------------------------------
term 41 leader 1 nextIndex[2]: 249  matchIndex[2]: 0
term 41 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 41
------------------------------------------------------
term 41 server 2 InstallSnapshot success
------------------------------------------------------
term 41 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 250 matchIndex[2] 249 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 249 rf.lastIncludedTerm 41 rf.commitIndex 249 rf.lastApplied 249
term 41 server 0 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=251
leader log:
[{snapshot 41 249} {4514396155317703752 41 250} {5993123405352740040 41 251}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21328 term 41 leader 1 nextIndex[0]: 252  matchIndex[0]: 251
term 41 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 41 leaderCommit: 251 
------------------------------------------------------
flag 47111 term 41 leader 1 nextIndex[2]: 250  matchIndex[2]: 249
term 41 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 41 leaderCommit: 251 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=251
leader log:
[{snapshot 41 249} {4514396155317703752 41 250} {5993123405352740040 41 251}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=251
leader log:
[{snapshot 41 249} {4514396155317703752 41 250} {5993123405352740040 41 251}]
------------------------------------------------------
flag 56524 term 41 leader 1 nextIndex[0]: 252  matchIndex[0]: 251
term 41 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 41 leaderCommit: 251 
------------------------------------------------------
flag 42050 term 41 leader 1 nextIndex[2]: 252  matchIndex[2]: 251
term 41 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 41 leaderCommit: 251 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=251
leader log:
[{snapshot 41 249} {4514396155317703752 41 250} {5993123405352740040 41 251}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=251
leader log:
[{snapshot 41 249} {4514396155317703752 41 250} {5993123405352740040 41 251}]
------------------------------------------------------
flag 37213 term 41 leader 1 nextIndex[0]: 252  matchIndex[0]: 251
term 41 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 41 leaderCommit: 251 
------------------------------------------------------
flag 311 term 41 leader 1 nextIndex[2]: 252  matchIndex[2]: 251
term 41 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 41 leaderCommit: 251 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=251
leader log:
[{snapshot 41 249} {4514396155317703752 41 250} {5993123405352740040 41 251}]
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=251
leader log:
[{snapshot 41 249} {4514396155317703752 41 250} {5993123405352740040 41 251}]
------------------------------------------------------
flag 56012 term 41 leader 1 nextIndex[0]: 252  matchIndex[0]: 251
term 41 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 41 leaderCommit: 251 
------------------------------------------------------
flag 46975 term 41 leader 1 nextIndex[2]: 252  matchIndex[2]: 251
term 41 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 41 leaderCommit: 251 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=251
leader log:
[{snapshot 41 249} {4514396155317703752 41 250} {5993123405352740040 41 251}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=251
leader log:
[{snapshot 41 249} {4514396155317703752 41 250} {5993123405352740040 41 251}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31525 term 41 leader 1 nextIndex[0]: 252  matchIndex[0]: 251
term 41 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 41 leaderCommit: 251 
------------------------------------------------------
flag 50778 term 41 leader 1 nextIndex[2]: 252  matchIndex[2]: 251
term 41 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 41 leaderCommit: 251 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=251
leader log:
[{snapshot 41 249} {4514396155317703752 41 250} {5993123405352740040 41 251}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=251
leader log:
[{snapshot 41 249} {4514396155317703752 41 250} {5993123405352740040 41 251}]
------------------------------------------------------
flag 83995 term 41 leader 1 nextIndex[0]: 252  matchIndex[0]: 251
term 41 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 41 leaderCommit: 251 
------------------------------------------------------
flag 15170 term 41 leader 1 nextIndex[2]: 252  matchIndex[2]: 251
term 41 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 41 leaderCommit: 251 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=251
leader log:
[{snapshot 41 249} {4514396155317703752 41 250} {5993123405352740040 41 251}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=251
leader log:
[{snapshot 41 249} {4514396155317703752 41 250} {5993123405352740040 41 251}]
------------------------------------------------------
flag 43822 term 41 leader 1 nextIndex[0]: 252  matchIndex[0]: 251
term 41 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 41 leaderCommit: 251 
------------------------------------------------------
flag 32566 term 41 leader 1 nextIndex[2]: 252  matchIndex[2]: 251
term 41 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 41 leaderCommit: 251 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
term 41 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
update matchIndex[2]=251
update leader CommitIndex=251
leader log:
[{snapshot 41 249} {4514396155317703752 41 250} {5993123405352740040 41 251}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=251
leader log:
[{snapshot 41 249} {4514396155317703752 41 250} {5993123405352740040 41 251}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 7042902739896557615 (index 252) to leader 1
flag 74851 term 41 leader 1 nextIndex[0]: 252  matchIndex[0]: 251
term 41 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 41 leaderCommit: 251 
------------------------------------------------------
flag 29316 term 41 leader 1 nextIndex[2]: 252  matchIndex[2]: 251
term 41 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 41 leaderCommit: 251 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=252
leader log:
[{snapshot 41 249} {4514396155317703752 41 250} {5993123405352740040 41 251} {7042902739896557615 41 252}]
------------------------------------------------------
flag 16013 term 41 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 41 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 41 leaderCommit: 252 
------------------------------------------------------
flag 70520 term 41 leader 1 nextIndex[2]: 252  matchIndex[2]: 251
term 41 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 41 leaderCommit: 252 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=252
leader log:
[{snapshot 41 249} {4514396155317703752 41 250} {5993123405352740040 41 251} {7042902739896557615 41 252}]
------------------------------------------------------
client write log 5025917854433433021 (index 253) to leader 1
client write log 2271657382817491876 (index 254) to leader 1
client write log 2318043432018110364 (index 255) to leader 1
client write log 4025235930550426021 (index 256) to leader 1
client write log 5886512058336369612 (index 257) to leader 1
client write log 3056819632531645289 (index 258) to leader 1
client write log 2184377236803665844 (index 259) to leader 1
client write log 5519674694693392166 (index 260) to leader 1
flag 37612 term 41 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 41 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 41 leaderCommit: 252 
------------------------------------------------------
flag 58428 term 41 leader 1 nextIndex[2]: 252  matchIndex[2]: 251
term 41 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 41 leaderCommit: 252 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=260
leader log:
[{snapshot 41 249} {4514396155317703752 41 250} {5993123405352740040 41 251} {7042902739896557615 41 252} {5025917854433433021 41 253} {2271657382817491876 41 254} {2318043432018110364 41 255} {4025235930550426021 41 256} {5886512058336369612 41 257} {3056819632531645289 41 258} {2184377236803665844 41 259} {5519674694693392166 41 260}]
------------------------------------------------------
term 41 Server1 start snapshot! index=259
term 41 server1 snapshot success
lastIncludedIndex=259 lastApplied=260 lastIndex=260
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15582 term 41 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 41 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
term 41 leader 1 nextIndex[2]: 252  matchIndex[2]: 251
term 41 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 41
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {5519674694693392166 41 260}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 252->251
------------------------------------------------------
term 41 Server0 start snapshot! index=259
term 41 server0 snapshot success
lastIncludedIndex=259 lastApplied=260 lastIndex=260
-------------------------------------------------------------
!!!!!!connect server 2
client write log 4476548260599352604 (index 261) to leader 1
term 41 server 1 not vote for server 2, 日志不够新
term 41 server 0 not vote for server 2, 日志不够新
term 43 server 2 vote for server 1
term 43 server 0 vote for server 1
term 43 server 1 get vote from server 2
term 43 server 1 become leader
------------------------------------------------------
term 43 server 1 get outdate rpc reply from server 0
flag 99994 term 43 leader 1 nextIndex[0]: 262  matchIndex[0]: 0
term 43 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
flag 69063 term 43 leader 1 nextIndex[2]: 262  matchIndex[2]: 0
term 43 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
term 43 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 262->261
------------------------------------------------------
term 43 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 262->261
------------------------------------------------------
flag 57987 term 43 leader 1 nextIndex[0]: 261  matchIndex[0]: 0
term 43 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
term 43 leader 1 nextIndex[2]: 252  matchIndex[2]: 0
term 43 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 41
------------------------------------------------------
term 43 server 2 InstallSnapshot success
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
term 43 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 260 matchIndex[2] 259 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {5519674694693392166 41 260} {4476548260599352604 41 261}]
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 259 rf.lastIncludedTerm 41 rf.commitIndex 259 rf.lastApplied 259
flag 8429 term 43 leader 1 nextIndex[0]: 262  matchIndex[0]: 261
term 43 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
flag 28541 term 43 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 43 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {5519674694693392166 41 260} {4476548260599352604 41 261}]
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {5519674694693392166 41 260} {4476548260599352604 41 261}]
------------------------------------------------------
flag 77545 term 43 leader 1 nextIndex[0]: 262  matchIndex[0]: 261
term 43 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
flag 95444 term 43 leader 1 nextIndex[2]: 262  matchIndex[2]: 261
term 43 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {5519674694693392166 41 260} {4476548260599352604 41 261}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {5519674694693392166 41 260} {4476548260599352604 41 261}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14755 term 43 leader 1 nextIndex[0]: 262  matchIndex[0]: 261
term 43 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
flag 87695 term 43 leader 1 nextIndex[2]: 262  matchIndex[2]: 261
term 43 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {5519674694693392166 41 260} {4476548260599352604 41 261}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {5519674694693392166 41 260} {4476548260599352604 41 261}]
------------------------------------------------------
term 43 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 88363 term 43 leader 1 nextIndex[0]: 262  matchIndex[0]: 261
term 43 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
flag 42265 term 43 leader 1 nextIndex[2]: 262  matchIndex[2]: 261
term 43 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {5519674694693392166 41 260} {4476548260599352604 41 261}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {5519674694693392166 41 260} {4476548260599352604 41 261}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23732 term 43 leader 1 nextIndex[0]: 262  matchIndex[0]: 261
term 43 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
flag 95763 term 43 leader 1 nextIndex[2]: 262  matchIndex[2]: 261
term 43 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {5519674694693392166 41 260} {4476548260599352604 41 261}]
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {5519674694693392166 41 260} {4476548260599352604 41 261}]
------------------------------------------------------
term 43 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 43 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 62282 term 43 leader 1 nextIndex[0]: 262  matchIndex[0]: 261
term 43 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
flag 46617 term 43 leader 1 nextIndex[2]: 262  matchIndex[2]: 261
term 43 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {5519674694693392166 41 260} {4476548260599352604 41 261}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {5519674694693392166 41 260} {4476548260599352604 41 261}]
------------------------------------------------------
term 43 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 90177 term 43 leader 1 nextIndex[0]: 262  matchIndex[0]: 261
term 43 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
flag 81034 term 43 leader 1 nextIndex[2]: 262  matchIndex[2]: 261
term 43 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {5519674694693392166 41 260} {4476548260599352604 41 261}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {5519674694693392166 41 260} {4476548260599352604 41 261}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86165 term 43 leader 1 nextIndex[0]: 262  matchIndex[0]: 261
term 43 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
flag 7841 term 43 leader 1 nextIndex[2]: 262  matchIndex[2]: 261
term 43 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {5519674694693392166 41 260} {4476548260599352604 41 261}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {5519674694693392166 41 260} {4476548260599352604 41 261}]
------------------------------------------------------
flag 82153 term 43 leader 1 nextIndex[0]: 262  matchIndex[0]: 261
term 43 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
flag 75972 term 43 leader 1 nextIndex[2]: 262  matchIndex[2]: 261
term 43 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {5519674694693392166 41 260} {4476548260599352604 41 261}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {5519674694693392166 41 260} {4476548260599352604 41 261}]
------------------------------------------------------
flag 7650 term 43 leader 1 nextIndex[0]: 262  matchIndex[0]: 261
term 43 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
flag 45159 term 43 leader 1 nextIndex[2]: 262  matchIndex[2]: 261
term 43 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {5519674694693392166 41 260} {4476548260599352604 41 261}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {5519674694693392166 41 260} {4476548260599352604 41 261}]
------------------------------------------------------
term 43 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49619 term 43 leader 1 nextIndex[0]: 262  matchIndex[0]: 261
term 43 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
flag 72351 term 43 leader 1 nextIndex[2]: 262  matchIndex[2]: 261
term 43 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {5519674694693392166 41 260} {4476548260599352604 41 261}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {5519674694693392166 41 260} {4476548260599352604 41 261}]
------------------------------------------------------
flag 94647 term 43 leader 1 nextIndex[0]: 262  matchIndex[0]: 261
term 43 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
flag 46499 term 43 leader 1 nextIndex[2]: 262  matchIndex[2]: 261
term 43 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {5519674694693392166 41 260} {4476548260599352604 41 261}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {5519674694693392166 41 260} {4476548260599352604 41 261}]
------------------------------------------------------
flag 74290 term 43 leader 1 nextIndex[0]: 262  matchIndex[0]: 261
term 43 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
flag 93890 term 43 leader 1 nextIndex[2]: 262  matchIndex[2]: 261
term 43 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {5519674694693392166 41 260} {4476548260599352604 41 261}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {5519674694693392166 41 260} {4476548260599352604 41 261}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64694 term 43 leader 1 nextIndex[0]: 262  matchIndex[0]: 261
term 43 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
flag 21284 term 43 leader 1 nextIndex[2]: 262  matchIndex[2]: 261
term 43 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {5519674694693392166 41 260} {4476548260599352604 41 261}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {5519674694693392166 41 260} {4476548260599352604 41 261}]
------------------------------------------------------
flag 3094 term 43 leader 1 nextIndex[0]: 262  matchIndex[0]: 261
term 43 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
flag 10324 term 43 leader 1 nextIndex[2]: 262  matchIndex[2]: 261
term 43 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {5519674694693392166 41 260} {4476548260599352604 41 261}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {5519674694693392166 41 260} {4476548260599352604 41 261}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80957 term 43 leader 1 nextIndex[0]: 262  matchIndex[0]: 261
term 43 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
flag 97276 term 43 leader 1 nextIndex[2]: 262  matchIndex[2]: 261
term 43 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {5519674694693392166 41 260} {4476548260599352604 41 261}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {5519674694693392166 41 260} {4476548260599352604 41 261}]
------------------------------------------------------
flag 62280 term 43 leader 1 nextIndex[0]: 262  matchIndex[0]: 261
term 43 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
flag 99987 term 43 leader 1 nextIndex[2]: 262  matchIndex[2]: 261
term 43 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {5519674694693392166 41 260} {4476548260599352604 41 261}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {5519674694693392166 41 260} {4476548260599352604 41 261}]
------------------------------------------------------
flag 97852 term 43 leader 1 nextIndex[0]: 262  matchIndex[0]: 261
term 43 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
flag 33529 term 43 leader 1 nextIndex[2]: 262  matchIndex[2]: 261
term 43 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
client write log 4476548260599352604 (index 262) to leader 1
term 43 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {5519674694693392166 41 260} {4476548260599352604 41 261} {4476548260599352604 43 262}]
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=260
leader log:
[{snapshot 41 259} {5519674694693392166 41 260} {4476548260599352604 41 261} {4476548260599352604 43 262}]
------------------------------------------------------
flag 23036 term 43 leader 1 nextIndex[0]: 262  matchIndex[0]: 261
term 43 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
flag 18323 term 43 leader 1 nextIndex[2]: 262  matchIndex[2]: 261
term 43 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 41 leaderCommit: 260 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=262
leader log:
[{snapshot 41 259} {5519674694693392166 41 260} {4476548260599352604 41 261} {4476548260599352604 43 262}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=263
update matchIndex[0]=262
update leader CommitIndex=262
leader log:
[{snapshot 41 259} {5519674694693392166 41 260} {4476548260599352604 41 261} {4476548260599352604 43 262}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50043 term 43 leader 1 nextIndex[0]: 263  matchIndex[0]: 262
term 43 leader 1 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 43 leaderCommit: 262 
------------------------------------------------------
flag 39197 term 43 leader 1 nextIndex[2]: 263  matchIndex[2]: 262
term 43 leader 1 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 43 leaderCommit: 262 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=262
leader log:
[{snapshot 41 259} {5519674694693392166 41 260} {4476548260599352604 41 261} {4476548260599352604 43 262}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=263
update matchIndex[0]=262
update leader CommitIndex=262
leader log:
[{snapshot 41 259} {5519674694693392166 41 260} {4476548260599352604 41 261} {4476548260599352604 43 262}]
------------------------------------------------------
flag 11689 term 43 leader 1 nextIndex[0]: 263  matchIndex[0]: 262
term 43 leader 1 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 43 leaderCommit: 262 
------------------------------------------------------
flag 72716 term 43 leader 1 nextIndex[2]: 263  matchIndex[2]: 262
term 43 leader 1 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 43 leaderCommit: 262 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=263
update matchIndex[0]=262
update leader CommitIndex=262
leader log:
[{snapshot 41 259} {5519674694693392166 41 260} {4476548260599352604 41 261} {4476548260599352604 43 262}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=262
leader log:
[{snapshot 41 259} {5519674694693392166 41 260} {4476548260599352604 41 261} {4476548260599352604 43 262}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78056 term 43 leader 1 nextIndex[0]: 263  matchIndex[0]: 262
term 43 leader 1 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 43 leaderCommit: 262 
------------------------------------------------------
flag 47803 term 43 leader 1 nextIndex[2]: 263  matchIndex[2]: 262
term 43 leader 1 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 43 leaderCommit: 262 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=262
leader log:
[{snapshot 41 259} {5519674694693392166 41 260} {4476548260599352604 41 261} {4476548260599352604 43 262}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=263
update matchIndex[0]=262
update leader CommitIndex=262
leader log:
[{snapshot 41 259} {5519674694693392166 41 260} {4476548260599352604 41 261} {4476548260599352604 43 262}]
------------------------------------------------------
flag 15750 term 43 leader 1 nextIndex[0]: 263  matchIndex[0]: 262
term 43 leader 1 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 43 leaderCommit: 262 
------------------------------------------------------
flag 26871 term 43 leader 1 nextIndex[2]: 263  matchIndex[2]: 262
term 43 leader 1 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 43 leaderCommit: 262 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=262
leader log:
[{snapshot 41 259} {5519674694693392166 41 260} {4476548260599352604 41 261} {4476548260599352604 43 262}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=263
update matchIndex[0]=262
update leader CommitIndex=262
leader log:
[{snapshot 41 259} {5519674694693392166 41 260} {4476548260599352604 41 261} {4476548260599352604 43 262}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5345 term 43 leader 1 nextIndex[0]: 263  matchIndex[0]: 262
term 43 leader 1 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 43 leaderCommit: 262 
------------------------------------------------------
flag 58768 term 43 leader 1 nextIndex[2]: 263  matchIndex[2]: 262
term 43 leader 1 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 43 leaderCommit: 262 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=262
leader log:
[{snapshot 41 259} {5519674694693392166 41 260} {4476548260599352604 41 261} {4476548260599352604 43 262}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=263
update matchIndex[0]=262
update leader CommitIndex=262
leader log:
[{snapshot 41 259} {5519674694693392166 41 260} {4476548260599352604 41 261} {4476548260599352604 43 262}]
------------------------------------------------------
flag 7117 term 43 leader 1 nextIndex[0]: 263  matchIndex[0]: 262
term 43 leader 1 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 43 leaderCommit: 262 
------------------------------------------------------
flag 14040 term 43 leader 1 nextIndex[2]: 263  matchIndex[2]: 262
term 43 leader 1 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 43 leaderCommit: 262 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=262
leader log:
[{snapshot 41 259} {5519674694693392166 41 260} {4476548260599352604 41 261} {4476548260599352604 43 262}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=263
update matchIndex[0]=262
update leader CommitIndex=262
leader log:
[{snapshot 41 259} {5519674694693392166 41 260} {4476548260599352604 41 261} {4476548260599352604 43 262}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 736497789755968371 (index 263) to leader 1
flag 47006 term 43 leader 1 nextIndex[0]: 263  matchIndex[0]: 262
term 43 leader 1 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 43 leaderCommit: 262 
------------------------------------------------------
flag 10168 term 43 leader 1 nextIndex[2]: 263  matchIndex[2]: 262
term 43 leader 1 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 43 leaderCommit: 262 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=263
leader log:
[{snapshot 41 259} {5519674694693392166 41 260} {4476548260599352604 41 261} {4476548260599352604 43 262} {736497789755968371 43 263}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13020 term 43 leader 1 nextIndex[0]: 264  matchIndex[0]: 263
term 43 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 43 leaderCommit: 263 
------------------------------------------------------
flag 75612 term 43 leader 1 nextIndex[2]: 263  matchIndex[2]: 262
term 43 leader 1 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 43 leaderCommit: 263 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=264
update matchIndex[0]=263
update leader CommitIndex=263
leader log:
[{snapshot 41 259} {5519674694693392166 41 260} {4476548260599352604 41 261} {4476548260599352604 43 262} {736497789755968371 43 263}]
------------------------------------------------------
client write log 942259691289516055 (index 264) to leader 1
client write log 8015863204276740295 (index 265) to leader 1
client write log 4072064490368110281 (index 266) to leader 1
client write log 165959991654392143 (index 267) to leader 1
client write log 8984537843176474804 (index 268) to leader 1
client write log 6923753777759096027 (index 269) to leader 1
client write log 7193124506733344903 (index 270) to leader 1
client write log 2778768386721187928 (index 271) to leader 1
client write log 5896222206702547224 (index 272) to leader 1
client write log 358142683454386765 (index 273) to leader 1
client write log 4896723171814911119 (index 274) to leader 1
client write log 6952168988293551374 (index 275) to leader 1
client write log 8337328226649847499 (index 276) to leader 1
client write log 1572483038320444191 (index 277) to leader 1
flag 78127 term 43 leader 1 nextIndex[0]: 264  matchIndex[0]: 263
term 43 leader 1 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 43 leaderCommit: 263 
------------------------------------------------------
flag 14439 term 43 leader 1 nextIndex[2]: 263  matchIndex[2]: 262
term 43 leader 1 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 43 leaderCommit: 263 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=277
leader log:
[{snapshot 41 259} {5519674694693392166 41 260} {4476548260599352604 41 261} {4476548260599352604 43 262} {736497789755968371 43 263} {942259691289516055 43 264} {8015863204276740295 43 265} {4072064490368110281 43 266} {165959991654392143 43 267} {8984537843176474804 43 268} {6923753777759096027 43 269} {7193124506733344903 43 270} {2778768386721187928 43 271} {5896222206702547224 43 272} {358142683454386765 43 273} {4896723171814911119 43 274} {6952168988293551374 43 275} {8337328226649847499 43 276} {1572483038320444191 43 277}]
------------------------------------------------------
term 43 Server1 start snapshot! index=269
term 43 server1 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=277
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44709 term 43 leader 1 nextIndex[0]: 278  matchIndex[0]: 277
term 43 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 43 leaderCommit: 277 
------------------------------------------------------
term 43 leader 1 nextIndex[2]: 263  matchIndex[2]: 262
term 43 leader 1 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 43
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=278
update matchIndex[0]=277
update leader CommitIndex=277
leader log:
[{snapshot 43 269} {7193124506733344903 43 270} {2778768386721187928 43 271} {5896222206702547224 43 272} {358142683454386765 43 273} {4896723171814911119 43 274} {6952168988293551374 43 275} {8337328226649847499 43 276} {1572483038320444191 43 277}]
------------------------------------------------------
term 43 Server0 start snapshot! index=269
term 43 server0 snapshot success
lastIncludedIndex=269 lastApplied=269 lastIndex=277
-------------------------------------------------------------
!!!!!!connect server 2
client write log 6062187762642207162 (index 278) to leader 1
term 43 server 1 not vote for server 2, 日志不够新
term 43 server 0 not vote for server 2, 日志不够新
term 45 server 2 vote for server 1
term 45 server 0 vote for server 1
term 45 server 1 get vote from server 2
term 45 server 1 become leader
------------------------------------------------------
term 45 server 1 get outdate rpc reply from server 0
flag 56739 term 45 leader 1 nextIndex[0]: 279  matchIndex[0]: 0
term 45 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 43 leaderCommit: 277 
------------------------------------------------------
flag 43304 term 45 leader 1 nextIndex[2]: 279  matchIndex[2]: 0
term 45 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 43 leaderCommit: 277 
------------------------------------------------------
term 45 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 279->278
------------------------------------------------------
term 45 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 279->278
------------------------------------------------------
flag 96430 term 45 leader 1 nextIndex[0]: 278  matchIndex[0]: 0
term 45 leader 1 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 43 leaderCommit: 277 
------------------------------------------------------
term 45 leader 1 nextIndex[2]: 263  matchIndex[2]: 0
term 45 leader 1 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 43
------------------------------------------------------
term 45 server 2 InstallSnapshot success
------------------------------------------------------
term 45 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 270 matchIndex[2] 269 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 269 rf.lastIncludedTerm 43 rf.commitIndex 269 rf.lastApplied 269
term 45 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=277
leader log:
[{snapshot 43 269} {7193124506733344903 43 270} {2778768386721187928 43 271} {5896222206702547224 43 272} {358142683454386765 43 273} {4896723171814911119 43 274} {6952168988293551374 43 275} {8337328226649847499 43 276} {1572483038320444191 43 277} {6062187762642207162 43 278}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3927 term 45 leader 1 nextIndex[0]: 279  matchIndex[0]: 278
term 45 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 43 leaderCommit: 277 
------------------------------------------------------
flag 97491 term 45 leader 1 nextIndex[2]: 270  matchIndex[2]: 269
term 45 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 43 leaderCommit: 277 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=277
leader log:
[{snapshot 43 269} {7193124506733344903 43 270} {2778768386721187928 43 271} {5896222206702547224 43 272} {358142683454386765 43 273} {4896723171814911119 43 274} {6952168988293551374 43 275} {8337328226649847499 43 276} {1572483038320444191 43 277} {6062187762642207162 43 278}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=277
leader log:
[{snapshot 43 269} {7193124506733344903 43 270} {2778768386721187928 43 271} {5896222206702547224 43 272} {358142683454386765 43 273} {4896723171814911119 43 274} {6952168988293551374 43 275} {8337328226649847499 43 276} {1572483038320444191 43 277} {6062187762642207162 43 278}]
------------------------------------------------------
flag 23783 term 45 leader 1 nextIndex[0]: 279  matchIndex[0]: 278
term 45 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 43 leaderCommit: 277 
------------------------------------------------------
flag 85732 term 45 leader 1 nextIndex[2]: 279  matchIndex[2]: 278
term 45 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 43 leaderCommit: 277 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=277
leader log:
[{snapshot 43 269} {7193124506733344903 43 270} {2778768386721187928 43 271} {5896222206702547224 43 272} {358142683454386765 43 273} {4896723171814911119 43 274} {6952168988293551374 43 275} {8337328226649847499 43 276} {1572483038320444191 43 277} {6062187762642207162 43 278}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=277
leader log:
[{snapshot 43 269} {7193124506733344903 43 270} {2778768386721187928 43 271} {5896222206702547224 43 272} {358142683454386765 43 273} {4896723171814911119 43 274} {6952168988293551374 43 275} {8337328226649847499 43 276} {1572483038320444191 43 277} {6062187762642207162 43 278}]
------------------------------------------------------
flag 34755 term 45 leader 1 nextIndex[0]: 279  matchIndex[0]: 278
term 45 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 43 leaderCommit: 277 
------------------------------------------------------
flag 34174 term 45 leader 1 nextIndex[2]: 279  matchIndex[2]: 278
term 45 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 43 leaderCommit: 277 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=277
leader log:
[{snapshot 43 269} {7193124506733344903 43 270} {2778768386721187928 43 271} {5896222206702547224 43 272} {358142683454386765 43 273} {4896723171814911119 43 274} {6952168988293551374 43 275} {8337328226649847499 43 276} {1572483038320444191 43 277} {6062187762642207162 43 278}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=277
leader log:
[{snapshot 43 269} {7193124506733344903 43 270} {2778768386721187928 43 271} {5896222206702547224 43 272} {358142683454386765 43 273} {4896723171814911119 43 274} {6952168988293551374 43 275} {8337328226649847499 43 276} {1572483038320444191 43 277} {6062187762642207162 43 278}]
------------------------------------------------------
flag 8987 term 45 leader 1 nextIndex[0]: 279  matchIndex[0]: 278
term 45 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 43 leaderCommit: 277 
------------------------------------------------------
flag 94489 term 45 leader 1 nextIndex[2]: 279  matchIndex[2]: 278
term 45 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 43 leaderCommit: 277 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=277
leader log:
[{snapshot 43 269} {7193124506733344903 43 270} {2778768386721187928 43 271} {5896222206702547224 43 272} {358142683454386765 43 273} {4896723171814911119 43 274} {6952168988293551374 43 275} {8337328226649847499 43 276} {1572483038320444191 43 277} {6062187762642207162 43 278}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=277
leader log:
[{snapshot 43 269} {7193124506733344903 43 270} {2778768386721187928 43 271} {5896222206702547224 43 272} {358142683454386765 43 273} {4896723171814911119 43 274} {6952168988293551374 43 275} {8337328226649847499 43 276} {1572483038320444191 43 277} {6062187762642207162 43 278}]
------------------------------------------------------
flag 31329 term 45 leader 1 nextIndex[0]: 279  matchIndex[0]: 278
term 45 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 43 leaderCommit: 277 
------------------------------------------------------
flag 48780 term 45 leader 1 nextIndex[2]: 279  matchIndex[2]: 278
term 45 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 43 leaderCommit: 277 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=277
leader log:
[{snapshot 43 269} {7193124506733344903 43 270} {2778768386721187928 43 271} {5896222206702547224 43 272} {358142683454386765 43 273} {4896723171814911119 43 274} {6952168988293551374 43 275} {8337328226649847499 43 276} {1572483038320444191 43 277} {6062187762642207162 43 278}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=277
leader log:
[{snapshot 43 269} {7193124506733344903 43 270} {2778768386721187928 43 271} {5896222206702547224 43 272} {358142683454386765 43 273} {4896723171814911119 43 274} {6952168988293551374 43 275} {8337328226649847499 43 276} {1572483038320444191 43 277} {6062187762642207162 43 278}]
------------------------------------------------------
flag 41981 term 45 leader 1 nextIndex[0]: 279  matchIndex[0]: 278
term 45 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 43 leaderCommit: 277 
------------------------------------------------------
flag 88391 term 45 leader 1 nextIndex[2]: 279  matchIndex[2]: 278
term 45 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 43 leaderCommit: 277 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=277
leader log:
term 45 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
[{snapshot 43 269} {7193124506733344903 43 270} {2778768386721187928 43 271} {5896222206702547224 43 272} {358142683454386765 43 273} {4896723171814911119 43 274} {6952168988293551374 43 275} {8337328226649847499 43 276} {1572483038320444191 43 277} {6062187762642207162 43 278}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=277
leader log:
[{snapshot 43 269} {7193124506733344903 43 270} {2778768386721187928 43 271} {5896222206702547224 43 272} {358142683454386765 43 273} {4896723171814911119 43 274} {6952168988293551374 43 275} {8337328226649847499 43 276} {1572483038320444191 43 277} {6062187762642207162 43 278}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19991 term 45 leader 1 nextIndex[0]: 279  matchIndex[0]: 278
term 45 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 43 leaderCommit: 277 
------------------------------------------------------
flag 64878 term 45 leader 1 nextIndex[2]: 279  matchIndex[2]: 278
term 45 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 43 leaderCommit: 277 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=277
leader log:
[{snapshot 43 269} {7193124506733344903 43 270} {2778768386721187928 43 271} {5896222206702547224 43 272} {358142683454386765 43 273} {4896723171814911119 43 274} {6952168988293551374 43 275} {8337328226649847499 43 276} {1572483038320444191 43 277} {6062187762642207162 43 278}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=277
leader log:
[{snapshot 43 269} {7193124506733344903 43 270} {2778768386721187928 43 271} {5896222206702547224 43 272} {358142683454386765 43 273} {4896723171814911119 43 274} {6952168988293551374 43 275} {8337328226649847499 43 276} {1572483038320444191 43 277} {6062187762642207162 43 278}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71172 term 45 leader 1 nextIndex[0]: 279  matchIndex[0]: 278
term 45 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 43 leaderCommit: 277 
------------------------------------------------------
flag 77845 term 45 leader 1 nextIndex[2]: 279  matchIndex[2]: 278
term 45 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 43 leaderCommit: 277 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:277 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=277
leader log:
[{snapshot 43 269} {7193124506733344903 43 270} {2778768386721187928 43 271} {5896222206702547224 43 272} {358142683454386765 43 273} {4896723171814911119 43 274} {6952168988293551374 43 275} {8337328226649847499 43 276} {1572483038320444191 43 277} {6062187762642207162 43 278}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=277
leader log:
[{snapshot 43 269} {7193124506733344903 43 270} {2778768386721187928 43 271} {5896222206702547224 43 272} {358142683454386765 43 273} {4896723171814911119 43 274} {6952168988293551374 43 275} {8337328226649847499 43 276} {1572483038320444191 43 277} {6062187762642207162 43 278}]
------------------------------------------------------
flag 40167 term 45 leader 1 nextIndex[0]: 279  matchIndex[0]: 278
term 45 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 43 leaderCommit: 277 
------------------------------------------------------
flag 9090 term 45 leader 1 nextIndex[2]: 279  matchIndex[2]: 278
term 45 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 43 leaderCommit: 277 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=277
leader log:
[{snapshot 43 269} {7193124506733344903 43 270} {2778768386721187928 43 271} {5896222206702547224 43 272} {358142683454386765 43 273} {4896723171814911119 43 274} {6952168988293551374 43 275} {8337328226649847499 43 276} {1572483038320444191 43 277} {6062187762642207162 43 278}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=277
leader log:
[{snapshot 43 269} {7193124506733344903 43 270} {2778768386721187928 43 271} {5896222206702547224 43 272} {358142683454386765 43 273} {4896723171814911119 43 274} {6952168988293551374 43 275} {8337328226649847499 43 276} {1572483038320444191 43 277} {6062187762642207162 43 278}]
------------------------------------------------------
flag 77807 term 45 leader 1 nextIndex[0]: 279  matchIndex[0]: 278
term 45 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 43 leaderCommit: 277 
------------------------------------------------------
flag 6730 term 45 leader 1 nextIndex[2]: 279  matchIndex[2]: 278
term 45 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 43 leaderCommit: 277 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:277 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=277
leader log:
[{snapshot 43 269} {7193124506733344903 43 270} {2778768386721187928 43 271} {5896222206702547224 43 272} {358142683454386765 43 273} {4896723171814911119 43 274} {6952168988293551374 43 275} {8337328226649847499 43 276} {1572483038320444191 43 277} {6062187762642207162 43 278}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=277
leader log:
[{snapshot 43 269} {7193124506733344903 43 270} {2778768386721187928 43 271} {5896222206702547224 43 272} {358142683454386765 43 273} {4896723171814911119 43 274} {6952168988293551374 43 275} {8337328226649847499 43 276} {1572483038320444191 43 277} {6062187762642207162 43 278}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25423 term 45 leader 1 nextIndex[0]: 279  matchIndex[0]: 278
term 45 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 43 leaderCommit: 277 
------------------------------------------------------
flag 59210 term 45 leader 1 nextIndex[2]: 279  matchIndex[2]: 278
term 45 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 43 leaderCommit: 277 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=277
leader log:
[{snapshot 43 269} {7193124506733344903 43 270} {2778768386721187928 43 271} {5896222206702547224 43 272} {358142683454386765 43 273} {4896723171814911119 43 274} {6952168988293551374 43 275} {8337328226649847499 43 276} {1572483038320444191 43 277} {6062187762642207162 43 278}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=277
leader log:
[{snapshot 43 269} {7193124506733344903 43 270} {2778768386721187928 43 271} {5896222206702547224 43 272} {358142683454386765 43 273} {4896723171814911119 43 274} {6952168988293551374 43 275} {8337328226649847499 43 276} {1572483038320444191 43 277} {6062187762642207162 43 278}]
------------------------------------------------------
term 45 server 2 not vote for server 1, 任期不够新
term 45 server 1 get outdate rpc reply from server 2
flag 63797 term 45 leader 1 nextIndex[0]: 279  matchIndex[0]: 278
term 45 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 43 leaderCommit: 277 
------------------------------------------------------
flag 45446 term 45 leader 1 nextIndex[2]: 279  matchIndex[2]: 278
term 45 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 43 leaderCommit: 277 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=277
leader log:
[{snapshot 43 269} {7193124506733344903 43 270} {2778768386721187928 43 271} {5896222206702547224 43 272} {358142683454386765 43 273} {4896723171814911119 43 274} {6952168988293551374 43 275} {8337328226649847499 43 276} {1572483038320444191 43 277} {6062187762642207162 43 278}]
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=277
leader log:
[{snapshot 43 269} {7193124506733344903 43 270} {2778768386721187928 43 271} {5896222206702547224 43 272} {358142683454386765 43 273} {4896723171814911119 43 274} {6952168988293551374 43 275} {8337328226649847499 43 276} {1572483038320444191 43 277} {6062187762642207162 43 278}]
------------------------------------------------------
flag 31946 term 45 leader 1 nextIndex[0]: 279  matchIndex[0]: 278
term 45 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 43 leaderCommit: 277 
------------------------------------------------------
flag 21005 term 45 leader 1 nextIndex[2]: 279  matchIndex[2]: 278
term 45 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 43 leaderCommit: 277 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=277
leader log:
[{snapshot 43 269} {7193124506733344903 43 270} {2778768386721187928 43 271} {5896222206702547224 43 272} {358142683454386765 43 273} {4896723171814911119 43 274} {6952168988293551374 43 275} {8337328226649847499 43 276} {1572483038320444191 43 277} {6062187762642207162 43 278}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=277
leader log:
[{snapshot 43 269} {7193124506733344903 43 270} {2778768386721187928 43 271} {5896222206702547224 43 272} {358142683454386765 43 273} {4896723171814911119 43 274} {6952168988293551374 43 275} {8337328226649847499 43 276} {1572483038320444191 43 277} {6062187762642207162 43 278}]
------------------------------------------------------
flag 92124 term 45 leader 1 nextIndex[0]: 279  matchIndex[0]: 278
term 45 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 43 leaderCommit: 277 
------------------------------------------------------
flag 20864 term 45 leader 1 nextIndex[2]: 279  matchIndex[2]: 278
term 45 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 43 leaderCommit: 277 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:277 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=277
leader log:
[{snapshot 43 269} {7193124506733344903 43 270} {2778768386721187928 43 271} {5896222206702547224 43 272} {358142683454386765 43 273} {4896723171814911119 43 274} {6952168988293551374 43 275} {8337328226649847499 43 276} {1572483038320444191 43 277} {6062187762642207162 43 278}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=277
leader log:
[{snapshot 43 269} {7193124506733344903 43 270} {2778768386721187928 43 271} {5896222206702547224 43 272} {358142683454386765 43 273} {4896723171814911119 43 274} {6952168988293551374 43 275} {8337328226649847499 43 276} {1572483038320444191 43 277} {6062187762642207162 43 278}]
------------------------------------------------------
flag 82307 term 45 leader 1 nextIndex[0]: 279  matchIndex[0]: 278
term 45 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 43 leaderCommit: 277 
------------------------------------------------------
flag 70436 term 45 leader 1 nextIndex[2]: 279  matchIndex[2]: 278
term 45 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 43 leaderCommit: 277 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=277
leader log:
[{snapshot 43 269} {7193124506733344903 43 270} {2778768386721187928 43 271} {5896222206702547224 43 272} {358142683454386765 43 273} {4896723171814911119 43 274} {6952168988293551374 43 275} {8337328226649847499 43 276} {1572483038320444191 43 277} {6062187762642207162 43 278}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=277
leader log:
[{snapshot 43 269} {7193124506733344903 43 270} {2778768386721187928 43 271} {5896222206702547224 43 272} {358142683454386765 43 273} {4896723171814911119 43 274} {6952168988293551374 43 275} {8337328226649847499 43 276} {1572483038320444191 43 277} {6062187762642207162 43 278}]
------------------------------------------------------
flag 89281 term 45 leader 1 nextIndex[0]: 279  matchIndex[0]: 278
term 45 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 43 leaderCommit: 277 
------------------------------------------------------
flag 12033 term 45 leader 1 nextIndex[2]: 279  matchIndex[2]: 278
term 45 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 43 leaderCommit: 277 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=277
leader log:
[{snapshot 43 269} {7193124506733344903 43 270} {2778768386721187928 43 271} {5896222206702547224 43 272} {358142683454386765 43 273} {4896723171814911119 43 274} {6952168988293551374 43 275} {8337328226649847499 43 276} {1572483038320444191 43 277} {6062187762642207162 43 278}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=277
leader log:
[{snapshot 43 269} {7193124506733344903 43 270} {2778768386721187928 43 271} {5896222206702547224 43 272} {358142683454386765 43 273} {4896723171814911119 43 274} {6952168988293551374 43 275} {8337328226649847499 43 276} {1572483038320444191 43 277} {6062187762642207162 43 278}]
------------------------------------------------------
flag 15228 term 45 leader 1 nextIndex[0]: 279  matchIndex[0]: 278
term 45 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 43 leaderCommit: 277 
------------------------------------------------------
flag 6454 term 45 leader 1 nextIndex[2]: 279  matchIndex[2]: 278
term 45 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 43 leaderCommit: 277 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=277
leader log:
[{snapshot 43 269} {7193124506733344903 43 270} {2778768386721187928 43 271} {5896222206702547224 43 272} {358142683454386765 43 273} {4896723171814911119 43 274} {6952168988293551374 43 275} {8337328226649847499 43 276} {1572483038320444191 43 277} {6062187762642207162 43 278}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=279
update matchIndex[0]=278
update leader CommitIndex=277
leader log:
[{snapshot 43 269} {7193124506733344903 43 270} {2778768386721187928 43 271} {5896222206702547224 43 272} {358142683454386765 43 273} {4896723171814911119 43 274} {6952168988293551374 43 275} {8337328226649847499 43 276} {1572483038320444191 43 277} {6062187762642207162 43 278}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 6062187762642207162 (index 279) to leader 1
flag 54241 term 45 leader 1 nextIndex[0]: 279  matchIndex[0]: 278
term 45 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 43 leaderCommit: 277 
------------------------------------------------------
flag 33717 term 45 leader 1 nextIndex[2]: 279  matchIndex[2]: 278
term 45 leader 1 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 43 leaderCommit: 277 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=280
update matchIndex[2]=279
update leader CommitIndex=279
leader log:
[{snapshot 43 269} {7193124506733344903 43 270} {2778768386721187928 43 271} {5896222206702547224 43 272} {358142683454386765 43 273} {4896723171814911119 43 274} {6952168988293551374 43 275} {8337328226649847499 43 276} {1572483038320444191 43 277} {6062187762642207162 43 278} {6062187762642207162 45 279}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=280
update matchIndex[0]=279
update leader CommitIndex=279
leader log:
[{snapshot 43 269} {7193124506733344903 43 270} {2778768386721187928 43 271} {5896222206702547224 43 272} {358142683454386765 43 273} {4896723171814911119 43 274} {6952168988293551374 43 275} {8337328226649847499 43 276} {1572483038320444191 43 277} {6062187762642207162 43 278} {6062187762642207162 45 279}]
------------------------------------------------------
term 45 Server1 start snapshot! index=279
term 45 server1 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=279
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64552 term 45 leader 1 nextIndex[0]: 280  matchIndex[0]: 279
term 45 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 45 leaderCommit: 279 
------------------------------------------------------
flag 70420 term 45 leader 1 nextIndex[2]: 280  matchIndex[2]: 279
term 45 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 45 leaderCommit: 279 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=280
update matchIndex[2]=279
update leader CommitIndex=279
leader log:
[{snapshot 45 279}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=280
update matchIndex[0]=279
update leader CommitIndex=279
leader log:
[{snapshot 45 279}]
------------------------------------------------------
term 45 Server2 start snapshot! index=279
term 45 server2 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=279
-------------------------------------------------------------
term 45 Server0 start snapshot! index=279
term 45 server0 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=279
-------------------------------------------------------------
flag 75313 term 45 leader 1 nextIndex[0]: 280  matchIndex[0]: 279
term 45 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 45 leaderCommit: 279 
------------------------------------------------------
flag 6782 term 45 leader 1 nextIndex[2]: 280  matchIndex[2]: 279
term 45 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 45 leaderCommit: 279 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:279 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=280
update matchIndex[2]=279
update leader CommitIndex=279
leader log:
[{snapshot 45 279}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=280
update matchIndex[0]=279
update leader CommitIndex=279
leader log:
[{snapshot 45 279}]
------------------------------------------------------
flag 45086 term 45 leader 1 nextIndex[0]: 280  matchIndex[0]: 279
term 45 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 45 leaderCommit: 279 
------------------------------------------------------
flag 40178 term 45 leader 1 nextIndex[2]: 280  matchIndex[2]: 279
term 45 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 45 leaderCommit: 279 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:279 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=280
update matchIndex[2]=279
update leader CommitIndex=279
leader log:
[{snapshot 45 279}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=280
update matchIndex[0]=279
update leader CommitIndex=279
leader log:
[{snapshot 45 279}]
------------------------------------------------------
flag 82384 term 45 leader 1 nextIndex[0]: 280  matchIndex[0]: 279
term 45 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 45 leaderCommit: 279 
------------------------------------------------------
flag 4900 term 45 leader 1 nextIndex[2]: 280  matchIndex[2]: 279
term 45 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 45 leaderCommit: 279 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=280
update matchIndex[2]=279
update leader CommitIndex=279
leader log:
[{snapshot 45 279}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=280
update matchIndex[0]=279
update leader CommitIndex=279
leader log:
[{snapshot 45 279}]
------------------------------------------------------
flag 64502 term 45 leader 1 nextIndex[0]: 280  matchIndex[0]: 279
term 45 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 45 leaderCommit: 279 
------------------------------------------------------
flag 49880 term 45 leader 1 nextIndex[2]: 280  matchIndex[2]: 279
term 45 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 45 leaderCommit: 279 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:279 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=280
update matchIndex[2]=279
update leader CommitIndex=279
leader log:
[{snapshot 45 279}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=280
update matchIndex[0]=279
update leader CommitIndex=279
leader log:
[{snapshot 45 279}]
------------------------------------------------------
flag 49974 term 45 leader 1 nextIndex[0]: 280  matchIndex[0]: 279
term 45 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 45 leaderCommit: 279 
------------------------------------------------------
flag 50061 term 45 leader 1 nextIndex[2]: 280  matchIndex[2]: 279
term 45 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 45 leaderCommit: 279 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:279 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=280
update matchIndex[2]=279
update leader CommitIndex=279
leader log:
[{snapshot 45 279}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=280
update matchIndex[0]=279
update leader CommitIndex=279
leader log:
[{snapshot 45 279}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 98330 term 45 leader 1 nextIndex[0]: 280  matchIndex[0]: 279
term 45 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 45 leaderCommit: 279 
------------------------------------------------------
flag 73918 term 45 leader 1 nextIndex[2]: 280  matchIndex[2]: 279
term 45 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 45 leaderCommit: 279 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28814 term 45 leader 1 nextIndex[0]: 280  matchIndex[0]: 279
term 45 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 45 leaderCommit: 279 
------------------------------------------------------
flag 55055 term 45 leader 1 nextIndex[2]: 280  matchIndex[2]: 279
term 45 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 45 leaderCommit: 279 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 280->279
------------------------------------------------------
flag 5303 term 45 leader 1 nextIndex[0]: 280  matchIndex[0]: 279
term 45 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 45 leaderCommit: 279 
------------------------------------------------------
term 45 leader 1 nextIndex[2]: 0  matchIndex[2]: 279
term 45 leader 1 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 45
------------------------------------------------------
flag 97730 term 45 leader 1 nextIndex[0]: 280  matchIndex[0]: 279
term 45 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 45 leaderCommit: 279 
------------------------------------------------------
term 45 leader 1 nextIndex[2]: 0  matchIndex[2]: 279
term 45 leader 1 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 45
------------------------------------------------------
term 46 server 2 vote for server 0
term 46 server 0 get vote from server 2
term 46 server 0 become leader
------------------------------------------------------
flag 46649 term 46 leader 0 nextIndex[1]: 280  matchIndex[1]: 0
term 46 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 45 leaderCommit: 279 
------------------------------------------------------
flag 31179 term 46 leader 0 nextIndex[2]: 280  matchIndex[2]: 0
term 46 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 45 leaderCommit: 279 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=280
update matchIndex[2]=279
update leader CommitIndex=279
leader log:
[{snapshot 45 279}]
------------------------------------------------------
client write log 4392657945250036303 (index 280) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24816 term 45 leader 1 nextIndex[0]: 280  matchIndex[0]: 279
term 45 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 45 leaderCommit: 279 
------------------------------------------------------
term 45 leader 1 nextIndex[2]: 0  matchIndex[2]: 279
term 45 leader 1 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 45
------------------------------------------------------
term 45 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 280 matchIndex[2] 279 
------------------------------------------------------------------------
flag 71041 term 46 leader 0 nextIndex[1]: 280  matchIndex[1]: 0
term 46 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 45 leaderCommit: 279 
------------------------------------------------------
flag 70582 term 46 leader 0 nextIndex[2]: 280  matchIndex[2]: 279
term 46 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 45 leaderCommit: 279 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=281
update matchIndex[2]=280
update leader CommitIndex=280
leader log:
[{snapshot 45 279} {4392657945250036303 46 280}]
------------------------------------------------------
flag 20474 term 45 leader 1 nextIndex[0]: 280  matchIndex[0]: 279
term 45 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 45 leaderCommit: 279 
------------------------------------------------------
flag 22908 term 45 leader 1 nextIndex[2]: 280  matchIndex[2]: 279
term 45 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 45 leaderCommit: 279 
------------------------------------------------------
flag 11120 term 46 leader 0 nextIndex[1]: 280  matchIndex[1]: 0
term 46 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 45 leaderCommit: 280 
------------------------------------------------------
flag 76214 term 46 leader 0 nextIndex[2]: 281  matchIndex[2]: 280
term 46 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 46 leaderCommit: 280 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=281
update matchIndex[2]=280
update leader CommitIndex=280
leader log:
[{snapshot 45 279} {4392657945250036303 46 280}]
------------------------------------------------------
client write log 4146963307862918096 (index 281) to leader 0
flag 68643 term 45 leader 1 nextIndex[0]: 280  matchIndex[0]: 279
term 45 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 45 leaderCommit: 279 
------------------------------------------------------
flag 34160 term 45 leader 1 nextIndex[2]: 280  matchIndex[2]: 279
term 45 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 45 leaderCommit: 279 
------------------------------------------------------
flag 13905 term 46 leader 0 nextIndex[1]: 280  matchIndex[1]: 0
term 46 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 45 leaderCommit: 280 
------------------------------------------------------
flag 49056 term 46 leader 0 nextIndex[2]: 281  matchIndex[2]: 280
term 46 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 46 leaderCommit: 280 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=281
leader log:
[{snapshot 45 279} {4392657945250036303 46 280} {4146963307862918096 46 281}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 280->279
------------------------------------------------------
term 45 leader 1 nextIndex[0]: 0  matchIndex[0]: 279
term 45 leader 1 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 45
------------------------------------------------------
flag 28456 term 45 leader 1 nextIndex[2]: 280  matchIndex[2]: 279
term 45 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 45 leaderCommit: 279 
------------------------------------------------------
flag 89276 term 46 leader 0 nextIndex[1]: 280  matchIndex[1]: 0
term 46 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 45 leaderCommit: 281 
------------------------------------------------------
flag 39250 term 46 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 46 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 46 leaderCommit: 281 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=281
leader log:
[{snapshot 45 279} {4392657945250036303 46 280} {4146963307862918096 46 281}]
------------------------------------------------------
!!!!!!connect server 1
client write log 7938461198610825579 (index 280) to leader 1
term 45 leader 1 nextIndex[0]: 0  matchIndex[0]: 279
term 45 leader 1 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 45
------------------------------------------------------
flag 7002 term 45 leader 1 nextIndex[2]: 280  matchIndex[2]: 279
term 45 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 45 leaderCommit: 279 
------------------------------------------------------
term 46 server 2 AppendEntries false 领导者任期过期 args.Term 45
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 46 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 46 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 81180 term 46 leader 0 nextIndex[1]: 280  matchIndex[1]: 0
term 46 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 45 leaderCommit: 281 
------------------------------------------------------
flag 6132 term 46 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 46 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 46 leaderCommit: 281 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=281
leader log:
[{snapshot 45 279} {4392657945250036303 46 280} {4146963307862918096 46 281}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=281
leader log:
[{snapshot 45 279} {4392657945250036303 46 280} {4146963307862918096 46 281}]
------------------------------------------------------
flag 41170 term 46 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 46 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 46 leaderCommit: 281 
------------------------------------------------------
flag 26821 term 46 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 46 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 46 leaderCommit: 281 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=281
leader log:
[{snapshot 45 279} {4392657945250036303 46 280} {4146963307862918096 46 281}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=281
leader log:
[{snapshot 45 279} {4392657945250036303 46 280} {4146963307862918096 46 281}]
------------------------------------------------------
flag 846 term 46 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 46 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 46 leaderCommit: 281 
------------------------------------------------------
flag 5905 term 46 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 46 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 46 leaderCommit: 281 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=281
leader log:
[{snapshot 45 279} {4392657945250036303 46 280} {4146963307862918096 46 281}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=281
leader log:
[{snapshot 45 279} {4392657945250036303 46 280} {4146963307862918096 46 281}]
------------------------------------------------------
flag 81204 term 46 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 46 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 46 leaderCommit: 281 
------------------------------------------------------
flag 42470 term 46 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 46 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 46 leaderCommit: 281 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=281
leader log:
[{snapshot 45 279} {4392657945250036303 46 280} {4146963307862918096 46 281}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=281
leader log:
[{snapshot 45 279} {4392657945250036303 46 280} {4146963307862918096 46 281}]
------------------------------------------------------
term 46 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 21326 term 46 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 46 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 46 leaderCommit: 281 
------------------------------------------------------
flag 37275 term 46 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 46 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 46 leaderCommit: 281 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=281
leader log:
[{snapshot 45 279} {4392657945250036303 46 280} {4146963307862918096 46 281}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=281
leader log:
[{snapshot 45 279} {4392657945250036303 46 280} {4146963307862918096 46 281}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69690 term 46 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 46 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 46 leaderCommit: 281 
------------------------------------------------------
flag 32763 term 46 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 46 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 46 leaderCommit: 281 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=281
leader log:
[{snapshot 45 279} {4392657945250036303 46 280} {4146963307862918096 46 281}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=281
leader log:
[{snapshot 45 279} {4392657945250036303 46 280} {4146963307862918096 46 281}]
------------------------------------------------------
flag 78283 term 46 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 46 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 46 leaderCommit: 281 
------------------------------------------------------
flag 63874 term 46 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 46 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 46 leaderCommit: 281 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=281
leader log:
[{snapshot 45 279} {4392657945250036303 46 280} {4146963307862918096 46 281}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=281
leader log:
[{snapshot 45 279} {4392657945250036303 46 280} {4146963307862918096 46 281}]
------------------------------------------------------
flag 6423 term 46 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 46 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 46 leaderCommit: 281 
------------------------------------------------------
flag 74000 term 46 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 46 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 46 leaderCommit: 281 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=281
leader log:
[{snapshot 45 279} {4392657945250036303 46 280} {4146963307862918096 46 281}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=281
leader log:
[{snapshot 45 279} {4392657945250036303 46 280} {4146963307862918096 46 281}]
------------------------------------------------------
flag 72247 term 46 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 46 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 46 leaderCommit: 281 
------------------------------------------------------
flag 10460 term 46 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 46 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 46 leaderCommit: 281 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=281
leader log:
[{snapshot 45 279} {4392657945250036303 46 280} {4146963307862918096 46 281}]
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=281
leader log:
[{snapshot 45 279} {4392657945250036303 46 280} {4146963307862918096 46 281}]
------------------------------------------------------
term 46 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 69885 term 46 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 46 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 46 leaderCommit: 281 
------------------------------------------------------
flag 26341 term 46 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 46 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 46 leaderCommit: 281 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=281
leader log:
[{snapshot 45 279} {4392657945250036303 46 280} {4146963307862918096 46 281}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=281
leader log:
[{snapshot 45 279} {4392657945250036303 46 280} {4146963307862918096 46 281}]
------------------------------------------------------
flag 40023 term 46 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 46 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 46 leaderCommit: 281 
------------------------------------------------------
flag 70114 term 46 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 46 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 46 leaderCommit: 281 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=281
leader log:
[{snapshot 45 279} {4392657945250036303 46 280} {4146963307862918096 46 281}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=281
leader log:
[{snapshot 45 279} {4392657945250036303 46 280} {4146963307862918096 46 281}]
------------------------------------------------------
flag 74899 term 46 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 46 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 46 leaderCommit: 281 
------------------------------------------------------
flag 77451 term 46 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 46 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 46 leaderCommit: 281 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=281
leader log:
[{snapshot 45 279} {4392657945250036303 46 280} {4146963307862918096 46 281}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=281
leader log:
[{snapshot 45 279} {4392657945250036303 46 280} {4146963307862918096 46 281}]
------------------------------------------------------
flag 58036 term 46 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 46 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 46 leaderCommit: 281 
------------------------------------------------------
flag 79877 term 46 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 46 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 46 leaderCommit: 281 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=281
leader log:
[{snapshot 45 279} {4392657945250036303 46 280} {4146963307862918096 46 281}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=281
leader log:
[{snapshot 45 279} {4392657945250036303 46 280} {4146963307862918096 46 281}]
------------------------------------------------------
flag 11855 term 46 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 46 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 46 leaderCommit: 281 
------------------------------------------------------
flag 4774 term 46 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 46 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 46 leaderCommit: 281 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=281
leader log:
[{snapshot 45 279} {4392657945250036303 46 280} {4146963307862918096 46 281}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=281
leader log:
[{snapshot 45 279} {4392657945250036303 46 280} {4146963307862918096 46 281}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18096 term 46 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 46 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 46 leaderCommit: 281 
------------------------------------------------------
flag 60248 term 46 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 46 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 46 leaderCommit: 281 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=281
leader log:
[{snapshot 45 279} {4392657945250036303 46 280} {4146963307862918096 46 281}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=281
leader log:
[{snapshot 45 279} {4392657945250036303 46 280} {4146963307862918096 46 281}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46235 term 46 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 46 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 46 leaderCommit: 281 
------------------------------------------------------
flag 99691 term 46 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 46 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 46 leaderCommit: 281 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=281
leader log:
[{snapshot 45 279} {4392657945250036303 46 280} {4146963307862918096 46 281}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=281
leader log:
[{snapshot 45 279} {4392657945250036303 46 280} {4146963307862918096 46 281}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70105 term 46 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 46 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 46 leaderCommit: 281 
------------------------------------------------------
flag 1417 term 46 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 46 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 46 leaderCommit: 281 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=281
leader log:
[{snapshot 45 279} {4392657945250036303 46 280} {4146963307862918096 46 281}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=281
leader log:
[{snapshot 45 279} {4392657945250036303 46 280} {4146963307862918096 46 281}]
------------------------------------------------------
flag 86599 term 46 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 46 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 46 leaderCommit: 281 
------------------------------------------------------
flag 26107 term 46 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 46 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 46 leaderCommit: 281 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=281
leader log:
[{snapshot 45 279} {4392657945250036303 46 280} {4146963307862918096 46 281}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=281
leader log:
[{snapshot 45 279} {4392657945250036303 46 280} {4146963307862918096 46 281}]
------------------------------------------------------
term 46 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 12249 term 46 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 46 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 46 leaderCommit: 281 
------------------------------------------------------
flag 52590 term 46 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 46 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 46 leaderCommit: 281 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=281
leader log:
[{snapshot 45 279} {4392657945250036303 46 280} {4146963307862918096 46 281}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=281
leader log:
[{snapshot 45 279} {4392657945250036303 46 280} {4146963307862918096 46 281}]
------------------------------------------------------
flag 16153 term 46 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 46 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 46 leaderCommit: 281 
------------------------------------------------------
flag 25554 term 46 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 46 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 46 leaderCommit: 281 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=281
leader log:
[{snapshot 45 279} {4392657945250036303 46 280} {4146963307862918096 46 281}]
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=281
leader log:
[{snapshot 45 279} {4392657945250036303 46 280} {4146963307862918096 46 281}]
------------------------------------------------------
client write log 7938461198610825579 (index 282) to leader 0
flag 80843 term 46 leader 0 nextIndex[1]: 282  matchIndex[1]: 281
term 46 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 46 leaderCommit: 281 
------------------------------------------------------
flag 53787 term 46 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 46 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 46 leaderCommit: 281 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=282
leader log:
[{snapshot 45 279} {4392657945250036303 46 280} {4146963307862918096 46 281} {7938461198610825579 46 282}]
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=282
leader log:
[{snapshot 45 279} {4392657945250036303 46 280} {4146963307862918096 46 281} {7938461198610825579 46 282}]
------------------------------------------------------
flag 99315 term 46 leader 0 nextIndex[1]: 283  matchIndex[1]: 282
term 46 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 46 leaderCommit: 282 
------------------------------------------------------
flag 2017 term 46 leader 0 nextIndex[2]: 283  matchIndex[2]: 282
term 46 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 46 leaderCommit: 282 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=282
leader log:
[{snapshot 45 279} {4392657945250036303 46 280} {4146963307862918096 46 281} {7938461198610825579 46 282}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=282
leader log:
[{snapshot 45 279} {4392657945250036303 46 280} {4146963307862918096 46 281} {7938461198610825579 46 282}]
------------------------------------------------------
flag 11023 term 46 leader 0 nextIndex[1]: 283  matchIndex[1]: 282
term 46 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 46 leaderCommit: 282 
------------------------------------------------------
flag 68621 term 46 leader 0 nextIndex[2]: 283  matchIndex[2]: 282
term 46 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 46 leaderCommit: 282 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=282
leader log:
[{snapshot 45 279} {4392657945250036303 46 280} {4146963307862918096 46 281} {7938461198610825579 46 282}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=282
leader log:
[{snapshot 45 279} {4392657945250036303 46 280} {4146963307862918096 46 281} {7938461198610825579 46 282}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 283->282
------------------------------------------------------
term 46 server 1 not vote for server 0, 日志不够新
term 46 server 0 get outdate rpc reply from server 1
term 46 leader 0 nextIndex[1]: 0  matchIndex[1]: 282
term 46 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 45
------------------------------------------------------
flag 88121 term 46 leader 0 nextIndex[2]: 283  matchIndex[2]: 282
term 46 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 46 leaderCommit: 282 
------------------------------------------------------
term 46 server 1 InstallSnapshot fail
rf.commitIndex 282 args.LastIncludedIndex 279
------------------------------------------------------
term 46 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 280 matchIndex[1] 279 
------------------------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=282
leader log:
[{snapshot 45 279} {4392657945250036303 46 280} {4146963307862918096 46 281} {7938461198610825579 46 282}]
------------------------------------------------------
flag 17428 term 46 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 46 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 45 leaderCommit: 282 
------------------------------------------------------
flag 22333 term 46 leader 0 nextIndex[2]: 283  matchIndex[2]: 282
term 46 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 46 leaderCommit: 282 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=282
leader log:
[{snapshot 45 279} {4392657945250036303 46 280} {4146963307862918096 46 281} {7938461198610825579 46 282}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=282
leader log:
[{snapshot 45 279} {4392657945250036303 46 280} {4146963307862918096 46 281} {7938461198610825579 46 282}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 283->282
------------------------------------------------------
term 46 leader 0 nextIndex[1]: 0  matchIndex[1]: 282
term 46 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 45
------------------------------------------------------
flag 68323 term 46 leader 0 nextIndex[2]: 283  matchIndex[2]: 282
term 46 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 46 leaderCommit: 282 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
term 46 server 1 InstallSnapshot fail
rf.commitIndex 282 args.LastIncludedIndex 279
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=282
leader log:
[{snapshot 45 279} {4392657945250036303 46 280} {4146963307862918096 46 281} {7938461198610825579 46 282}]
------------------------------------------------------
term 46 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 280 matchIndex[1] 279 
------------------------------------------------------------------------
flag 93677 term 46 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 46 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 45 leaderCommit: 282 
------------------------------------------------------
flag 32033 term 46 leader 0 nextIndex[2]: 283  matchIndex[2]: 282
term 46 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 46 leaderCommit: 282 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:282 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=282
leader log:
[{snapshot 45 279} {4392657945250036303 46 280} {4146963307862918096 46 281} {7938461198610825579 46 282}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=282
leader log:
[{snapshot 45 279} {4392657945250036303 46 280} {4146963307862918096 46 281} {7938461198610825579 46 282}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 6604254360704852882 (index 283) to leader 0
flag 32070 term 46 leader 0 nextIndex[1]: 283  matchIndex[1]: 282
term 46 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 46 leaderCommit: 282 
------------------------------------------------------
flag 60424 term 46 leader 0 nextIndex[2]: 283  matchIndex[2]: 282
term 46 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 46 leaderCommit: 282 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=283
leader log:
[{snapshot 45 279} {4392657945250036303 46 280} {4146963307862918096 46 281} {7938461198610825579 46 282} {6604254360704852882 46 283}]
------------------------------------------------------
term 46 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 35827 term 46 leader 0 nextIndex[1]: 283  matchIndex[1]: 282
term 46 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 46 leaderCommit: 283 
------------------------------------------------------
flag 40438 term 46 leader 0 nextIndex[2]: 284  matchIndex[2]: 283
term 46 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 46 leaderCommit: 283 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=283
leader log:
[{snapshot 45 279} {4392657945250036303 46 280} {4146963307862918096 46 281} {7938461198610825579 46 282} {6604254360704852882 46 283}]
------------------------------------------------------
client write log 2079135894943680075 (index 284) to leader 0
client write log 5380752154965338685 (index 285) to leader 0
client write log 247027735306181814 (index 286) to leader 0
client write log 4632781893623115334 (index 287) to leader 0
client write log 5961369291993422448 (index 288) to leader 0
client write log 4749253219203709053 (index 289) to leader 0
client write log 4546414678409857757 (index 290) to leader 0
client write log 474539070151986811 (index 291) to leader 0
client write log 3382467052326706519 (index 292) to leader 0
client write log 7797812106269398786 (index 293) to leader 0
flag 12821 term 46 leader 0 nextIndex[1]: 283  matchIndex[1]: 282
term 46 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 46 leaderCommit: 283 
------------------------------------------------------
flag 74654 term 46 leader 0 nextIndex[2]: 284  matchIndex[2]: 283
term 46 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 46 leaderCommit: 283 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=293
leader log:
[{snapshot 45 279} {4392657945250036303 46 280} {4146963307862918096 46 281} {7938461198610825579 46 282} {6604254360704852882 46 283} {2079135894943680075 46 284} {5380752154965338685 46 285} {247027735306181814 46 286} {4632781893623115334 46 287} {5961369291993422448 46 288} {4749253219203709053 46 289} {4546414678409857757 46 290} {474539070151986811 46 291} {3382467052326706519 46 292} {7797812106269398786 46 293}]
------------------------------------------------------
term 46 Server0 start snapshot! index=289
term 46 server0 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=293
-------------------------------------------------------------
term 46 leader 0 nextIndex[1]: 283  matchIndex[1]: 282
term 46 leader 0 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 46
------------------------------------------------------
flag 694 term 46 leader 0 nextIndex[2]: 294  matchIndex[2]: 293
term 46 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 46 leaderCommit: 293 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=293
leader log:
[{snapshot 46 289} {4546414678409857757 46 290} {474539070151986811 46 291} {3382467052326706519 46 292} {7797812106269398786 46 293}]
------------------------------------------------------
term 46 Server2 start snapshot! index=289
term 46 server2 snapshot success
lastIncludedIndex=289 lastApplied=290 lastIndex=293
-------------------------------------------------------------
!!!!!!connect server 1
client write log 2126124589091827181 (index 294) to leader 0
term 46 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 290 matchIndex[1] 289 
------------------------------------------------------------------------
flag 62114 term 46 leader 0 nextIndex[1]: 290  matchIndex[1]: 289
term 46 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 46 leaderCommit: 293 
------------------------------------------------------
flag 26344 term 46 leader 0 nextIndex[2]: 294  matchIndex[2]: 293
term 46 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 46 leaderCommit: 293 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=294
leader log:
[{snapshot 46 289} {4546414678409857757 46 290} {474539070151986811 46 291} {3382467052326706519 46 292} {7797812106269398786 46 293} {2126124589091827181 46 294}]
------------------------------------------------------
term 47 server 1 AppendEntries false 领导者任期过期 args.Term 46
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 46 server 2 not vote for server 1, 日志不够新
term 47 server 2 not vote for server 1, 日志不够新
term 47 server 0 not vote for server 1, 日志不够新
term 49 server 1 vote for server 2
term 49 server 0 vote for server 2
term 49 server 2 get vote from server 1
term 49 server 2 become leader
------------------------------------------------------
term 49 server 2 get outdate rpc reply from server 0
flag 2429 term 49 leader 2 nextIndex[0]: 295  matchIndex[0]: 0
term 49 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 46 leaderCommit: 293 
------------------------------------------------------
flag 92875 term 49 leader 2 nextIndex[1]: 295  matchIndex[1]: 0
term 49 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 46 leaderCommit: 293 
------------------------------------------------------
term 49 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 295->294
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=293
leader log:
[{snapshot 46 289} {4546414678409857757 46 290} {474539070151986811 46 291} {3382467052326706519 46 292} {7797812106269398786 46 293} {2126124589091827181 46 294}]
------------------------------------------------------
flag 26476 term 49 leader 2 nextIndex[0]: 295  matchIndex[0]: 294
term 49 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 46 leaderCommit: 293 
------------------------------------------------------
term 49 leader 2 nextIndex[1]: 283  matchIndex[1]: 0
term 49 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 46
------------------------------------------------------
term 49 server 1 InstallSnapshot success
------------------------------------------------------
term 49 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 290 matchIndex[1] 289 
------------------------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=293
leader log:
[{snapshot 46 289} {4546414678409857757 46 290} {474539070151986811 46 291} {3382467052326706519 46 292} {7797812106269398786 46 293} {2126124589091827181 46 294}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 289 rf.lastIncludedTerm 46 rf.commitIndex 289 rf.lastApplied 289
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98168 term 49 leader 2 nextIndex[0]: 295  matchIndex[0]: 294
term 49 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 46 leaderCommit: 293 
------------------------------------------------------
flag 6540 term 49 leader 2 nextIndex[1]: 290  matchIndex[1]: 289
term 49 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 46 leaderCommit: 293 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=293
leader log:
[{snapshot 46 289} {4546414678409857757 46 290} {474539070151986811 46 291} {3382467052326706519 46 292} {7797812106269398786 46 293} {2126124589091827181 46 294}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=293
leader log:
[{snapshot 46 289} {4546414678409857757 46 290} {474539070151986811 46 291} {3382467052326706519 46 292} {7797812106269398786 46 293} {2126124589091827181 46 294}]
------------------------------------------------------
flag 1454 term 49 leader 2 nextIndex[0]: 295  matchIndex[0]: 294
term 49 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 46 leaderCommit: 293 
------------------------------------------------------
flag 97499 term 49 leader 2 nextIndex[1]: 295  matchIndex[1]: 294
term 49 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 46 leaderCommit: 293 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=293
leader log:
[{snapshot 46 289} {4546414678409857757 46 290} {474539070151986811 46 291} {3382467052326706519 46 292} {7797812106269398786 46 293} {2126124589091827181 46 294}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=293
leader log:
[{snapshot 46 289} {4546414678409857757 46 290} {474539070151986811 46 291} {3382467052326706519 46 292} {7797812106269398786 46 293} {2126124589091827181 46 294}]
------------------------------------------------------
flag 37153 term 49 leader 2 nextIndex[0]: 295  matchIndex[0]: 294
term 49 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 46 leaderCommit: 293 
------------------------------------------------------
flag 96811 term 49 leader 2 nextIndex[1]: 295  matchIndex[1]: 294
term 49 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 46 leaderCommit: 293 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=293
leader log:
[{snapshot 46 289} {4546414678409857757 46 290} {474539070151986811 46 291} {3382467052326706519 46 292} {7797812106269398786 46 293} {2126124589091827181 46 294}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=293
leader log:
[{snapshot 46 289} {4546414678409857757 46 290} {474539070151986811 46 291} {3382467052326706519 46 292} {7797812106269398786 46 293} {2126124589091827181 46 294}]
------------------------------------------------------
flag 84930 term 49 leader 2 nextIndex[0]: 295  matchIndex[0]: 294
term 49 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 46 leaderCommit: 293 
------------------------------------------------------
flag 33053 term 49 leader 2 nextIndex[1]: 295  matchIndex[1]: 294
term 49 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 46 leaderCommit: 293 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=293
term 49 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader log:
[{snapshot 46 289} {4546414678409857757 46 290} {474539070151986811 46 291} {3382467052326706519 46 292} {7797812106269398786 46 293} {2126124589091827181 46 294}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=293
leader log:
[{snapshot 46 289} {4546414678409857757 46 290} {474539070151986811 46 291} {3382467052326706519 46 292} {7797812106269398786 46 293} {2126124589091827181 46 294}]
------------------------------------------------------
flag 14617 term 49 leader 2 nextIndex[0]: 295  matchIndex[0]: 294
term 49 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 46 leaderCommit: 293 
------------------------------------------------------
flag 1322 term 49 leader 2 nextIndex[1]: 295  matchIndex[1]: 294
term 49 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 46 leaderCommit: 293 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=293
leader log:
[{snapshot 46 289} {4546414678409857757 46 290} {474539070151986811 46 291} {3382467052326706519 46 292} {7797812106269398786 46 293} {2126124589091827181 46 294}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=293
leader log:
[{snapshot 46 289} {4546414678409857757 46 290} {474539070151986811 46 291} {3382467052326706519 46 292} {7797812106269398786 46 293} {2126124589091827181 46 294}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20379 term 49 leader 2 nextIndex[0]: 295  matchIndex[0]: 294
term 49 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 46 leaderCommit: 293 
------------------------------------------------------
flag 72566 term 49 leader 2 nextIndex[1]: 295  matchIndex[1]: 294
term 49 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 46 leaderCommit: 293 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=293
leader log:
[{snapshot 46 289} {4546414678409857757 46 290} {474539070151986811 46 291} {3382467052326706519 46 292} {7797812106269398786 46 293} {2126124589091827181 46 294}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=293
leader log:
[{snapshot 46 289} {4546414678409857757 46 290} {474539070151986811 46 291} {3382467052326706519 46 292} {7797812106269398786 46 293} {2126124589091827181 46 294}]
------------------------------------------------------
flag 76950 term 49 leader 2 nextIndex[0]: 295  matchIndex[0]: 294
term 49 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 46 leaderCommit: 293 
------------------------------------------------------
flag 48809 term 49 leader 2 nextIndex[1]: 295  matchIndex[1]: 294
term 49 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 46 leaderCommit: 293 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=293
leader log:
[{snapshot 46 289} {4546414678409857757 46 290} {474539070151986811 46 291} {3382467052326706519 46 292} {7797812106269398786 46 293} {2126124589091827181 46 294}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=293
leader log:
[{snapshot 46 289} {4546414678409857757 46 290} {474539070151986811 46 291} {3382467052326706519 46 292} {7797812106269398786 46 293} {2126124589091827181 46 294}]
------------------------------------------------------
flag 7951 term 49 leader 2 nextIndex[0]: 295  matchIndex[0]: 294
term 49 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 46 leaderCommit: 293 
------------------------------------------------------
flag 49999 term 49 leader 2 nextIndex[1]: 295  matchIndex[1]: 294
term 49 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 46 leaderCommit: 293 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=293
leader log:
[{snapshot 46 289} {4546414678409857757 46 290} {474539070151986811 46 291} {3382467052326706519 46 292} {7797812106269398786 46 293} {2126124589091827181 46 294}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=293
leader log:
[{snapshot 46 289} {4546414678409857757 46 290} {474539070151986811 46 291} {3382467052326706519 46 292} {7797812106269398786 46 293} {2126124589091827181 46 294}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31114 term 49 leader 2 nextIndex[0]: 295  matchIndex[0]: 294
term 49 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 46 leaderCommit: 293 
------------------------------------------------------
flag 57138 term 49 leader 2 nextIndex[1]: 295  matchIndex[1]: 294
term 49 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 46 leaderCommit: 293 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=293
leader log:
[{snapshot 46 289} {4546414678409857757 46 290} {474539070151986811 46 291} {3382467052326706519 46 292} {7797812106269398786 46 293} {2126124589091827181 46 294}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=293
leader log:
[{snapshot 46 289} {4546414678409857757 46 290} {474539070151986811 46 291} {3382467052326706519 46 292} {7797812106269398786 46 293} {2126124589091827181 46 294}]
------------------------------------------------------
flag 70556 term 49 leader 2 nextIndex[0]: 295  matchIndex[0]: 294
term 49 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 46 leaderCommit: 293 
------------------------------------------------------
flag 5508 term 49 leader 2 nextIndex[1]: 295  matchIndex[1]: 294
term 49 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 46 leaderCommit: 293 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=293
leader log:
[{snapshot 46 289} {4546414678409857757 46 290} {474539070151986811 46 291} {3382467052326706519 46 292} {7797812106269398786 46 293} {2126124589091827181 46 294}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=293
leader log:
[{snapshot 46 289} {4546414678409857757 46 290} {474539070151986811 46 291} {3382467052326706519 46 292} {7797812106269398786 46 293} {2126124589091827181 46 294}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49226 term 49 leader 2 nextIndex[0]: 295  matchIndex[0]: 294
term 49 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 46 leaderCommit: 293 
------------------------------------------------------
flag 32934 term 49 leader 2 nextIndex[1]: 295  matchIndex[1]: 294
term 49 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 46 leaderCommit: 293 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=293
leader log:
[{snapshot 46 289} {4546414678409857757 46 290} {474539070151986811 46 291} {3382467052326706519 46 292} {7797812106269398786 46 293} {2126124589091827181 46 294}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=293
leader log:
[{snapshot 46 289} {4546414678409857757 46 290} {474539070151986811 46 291} {3382467052326706519 46 292} {7797812106269398786 46 293} {2126124589091827181 46 294}]
------------------------------------------------------
flag 32269 term 49 leader 2 nextIndex[0]: 295  matchIndex[0]: 294
term 49 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 46 leaderCommit: 293 
------------------------------------------------------
flag 72902 term 49 leader 2 nextIndex[1]: 295  matchIndex[1]: 294
term 49 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 46 leaderCommit: 293 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=293
leader log:
[{snapshot 46 289} {4546414678409857757 46 290} {474539070151986811 46 291} {3382467052326706519 46 292} {7797812106269398786 46 293} {2126124589091827181 46 294}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=293
leader log:
[{snapshot 46 289} {4546414678409857757 46 290} {474539070151986811 46 291} {3382467052326706519 46 292} {7797812106269398786 46 293} {2126124589091827181 46 294}]
------------------------------------------------------
flag 80358 term 49 leader 2 nextIndex[0]: 295  matchIndex[0]: 294
term 49 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 46 leaderCommit: 293 
------------------------------------------------------
flag 60264 term 49 leader 2 nextIndex[1]: 295  matchIndex[1]: 294
term 49 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 46 leaderCommit: 293 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=293
leader log:
[{snapshot 46 289} {4546414678409857757 46 290} {474539070151986811 46 291} {3382467052326706519 46 292} {7797812106269398786 46 293} {2126124589091827181 46 294}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=293
leader log:
[{snapshot 46 289} {4546414678409857757 46 290} {474539070151986811 46 291} {3382467052326706519 46 292} {7797812106269398786 46 293} {2126124589091827181 46 294}]
------------------------------------------------------
flag 75365 term 49 leader 2 nextIndex[0]: 295  matchIndex[0]: 294
term 49 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 46 leaderCommit: 293 
------------------------------------------------------
flag 37341 term 49 leader 2 nextIndex[1]: 295  matchIndex[1]: 294
term 49 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 46 leaderCommit: 293 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=293
leader log:
[{snapshot 46 289} {4546414678409857757 46 290} {474539070151986811 46 291} {3382467052326706519 46 292} {7797812106269398786 46 293} {2126124589091827181 46 294}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=293
leader log:
[{snapshot 46 289} {4546414678409857757 46 290} {474539070151986811 46 291} {3382467052326706519 46 292} {7797812106269398786 46 293} {2126124589091827181 46 294}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 2126124589091827181 (index 295) to leader 2
flag 10311 term 49 leader 2 nextIndex[0]: 295  matchIndex[0]: 294
term 49 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 46 leaderCommit: 293 
------------------------------------------------------
flag 84085 term 49 leader 2 nextIndex[1]: 295  matchIndex[1]: 294
term 49 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 46 leaderCommit: 293 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:294 
term 49 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=295
leader log:
[{snapshot 46 289} {4546414678409857757 46 290} {474539070151986811 46 291} {3382467052326706519 46 292} {7797812106269398786 46 293} {2126124589091827181 46 294} {2126124589091827181 49 295}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=295
leader log:
[{snapshot 46 289} {4546414678409857757 46 290} {474539070151986811 46 291} {3382467052326706519 46 292} {7797812106269398786 46 293} {2126124589091827181 46 294} {2126124589091827181 49 295}]
------------------------------------------------------
flag 73502 term 49 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 49 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 49 leaderCommit: 295 
------------------------------------------------------
flag 8682 term 49 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 49 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 49 leaderCommit: 295 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=295
leader log:
[{snapshot 46 289} {4546414678409857757 46 290} {474539070151986811 46 291} {3382467052326706519 46 292} {7797812106269398786 46 293} {2126124589091827181 46 294} {2126124589091827181 49 295}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=295
leader log:
[{snapshot 46 289} {4546414678409857757 46 290} {474539070151986811 46 291} {3382467052326706519 46 292} {7797812106269398786 46 293} {2126124589091827181 46 294} {2126124589091827181 49 295}]
------------------------------------------------------
flag 57534 term 49 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 49 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 49 leaderCommit: 295 
------------------------------------------------------
flag 4672 term 49 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 49 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 49 leaderCommit: 295 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:295 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=295
leader log:
[{snapshot 46 289} {4546414678409857757 46 290} {474539070151986811 46 291} {3382467052326706519 46 292} {7797812106269398786 46 293} {2126124589091827181 46 294} {2126124589091827181 49 295}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=295
leader log:
[{snapshot 46 289} {4546414678409857757 46 290} {474539070151986811 46 291} {3382467052326706519 46 292} {7797812106269398786 46 293} {2126124589091827181 46 294} {2126124589091827181 49 295}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24444 term 49 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 49 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 49 leaderCommit: 295 
------------------------------------------------------
flag 26908 term 49 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 49 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 49 leaderCommit: 295 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=295
leader log:
term 49 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
[{snapshot 46 289} {4546414678409857757 46 290} {474539070151986811 46 291} {3382467052326706519 46 292} {7797812106269398786 46 293} {2126124589091827181 46 294} {2126124589091827181 49 295}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=295
leader log:
[{snapshot 46 289} {4546414678409857757 46 290} {474539070151986811 46 291} {3382467052326706519 46 292} {7797812106269398786 46 293} {2126124589091827181 46 294} {2126124589091827181 49 295}]
------------------------------------------------------
flag 72921 term 49 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 49 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 49 leaderCommit: 295 
------------------------------------------------------
flag 8274 term 49 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 49 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 49 leaderCommit: 295 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=295
leader log:
[{snapshot 46 289} {4546414678409857757 46 290} {474539070151986811 46 291} {3382467052326706519 46 292} {7797812106269398786 46 293} {2126124589091827181 46 294} {2126124589091827181 49 295}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=295
leader log:
[{snapshot 46 289} {4546414678409857757 46 290} {474539070151986811 46 291} {3382467052326706519 46 292} {7797812106269398786 46 293} {2126124589091827181 46 294} {2126124589091827181 49 295}]
------------------------------------------------------
flag 55350 term 49 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 49 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 49 leaderCommit: 295 
------------------------------------------------------
flag 4037 term 49 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 49 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 49 leaderCommit: 295 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=295
leader log:
[{snapshot 46 289} {4546414678409857757 46 290} {474539070151986811 46 291} {3382467052326706519 46 292} {7797812106269398786 46 293} {2126124589091827181 46 294} {2126124589091827181 49 295}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=295
leader log:
[{snapshot 46 289} {4546414678409857757 46 290} {474539070151986811 46 291} {3382467052326706519 46 292} {7797812106269398786 46 293} {2126124589091827181 46 294} {2126124589091827181 49 295}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 0
client write log 2536386269424437132 (index 296) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1080 term 49 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 49 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 49 leaderCommit: 295 
------------------------------------------------------
flag 4152 term 49 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 49 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 49 leaderCommit: 295 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 46 289} {4546414678409857757 46 290} {474539070151986811 46 291} {3382467052326706519 46 292} {7797812106269398786 46 293} {2126124589091827181 46 294} {2126124589091827181 49 295} {2536386269424437132 49 296}]
------------------------------------------------------
flag 58155 term 49 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 49 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 49 leaderCommit: 296 
------------------------------------------------------
flag 86371 term 49 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 49 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 49 leaderCommit: 296 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 46 289} {4546414678409857757 46 290} {474539070151986811 46 291} {3382467052326706519 46 292} {7797812106269398786 46 293} {2126124589091827181 46 294} {2126124589091827181 49 295} {2536386269424437132 49 296}]
------------------------------------------------------
client write log 4736209119328036470 (index 297) to leader 2
client write log 7644431794529071663 (index 298) to leader 2
client write log 3119125933932448205 (index 299) to leader 2
client write log 2106611985689595041 (index 300) to leader 2
client write log 8605115366933596175 (index 301) to leader 2
client write log 2222439270237458285 (index 302) to leader 2
client write log 4229851443720663841 (index 303) to leader 2
client write log 481995075294484204 (index 304) to leader 2
client write log 8500662857429176678 (index 305) to leader 2
client write log 1377673245881732952 (index 306) to leader 2
client write log 5917864921434387407 (index 307) to leader 2
flag 34066 term 49 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 49 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 49 leaderCommit: 296 
------------------------------------------------------
flag 59996 term 49 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 49 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 49 leaderCommit: 296 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=307
leader log:
[{snapshot 46 289} {4546414678409857757 46 290} {474539070151986811 46 291} {3382467052326706519 46 292} {7797812106269398786 46 293} {2126124589091827181 46 294} {2126124589091827181 49 295} {2536386269424437132 49 296} {4736209119328036470 49 297} {7644431794529071663 49 298} {3119125933932448205 49 299} {2106611985689595041 49 300} {8605115366933596175 49 301} {2222439270237458285 49 302} {4229851443720663841 49 303} {481995075294484204 49 304} {8500662857429176678 49 305} {1377673245881732952 49 306} {5917864921434387407 49 307}]
------------------------------------------------------
term 49 Server2 start snapshot! index=299
term 49 server2 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=307
-------------------------------------------------------------
term 49 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 49 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 49
------------------------------------------------------
flag 2060 term 49 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 49 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 49 leaderCommit: 307 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=307
leader log:
[{snapshot 49 299} {2106611985689595041 49 300} {8605115366933596175 49 301} {2222439270237458285 49 302} {4229851443720663841 49 303} {481995075294484204 49 304} {8500662857429176678 49 305} {1377673245881732952 49 306} {5917864921434387407 49 307}]
------------------------------------------------------
term 49 Server1 start snapshot! index=299
term 49 server1 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=307
-------------------------------------------------------------
!!!!!!connect server 0
client write log 1779430534621635830 (index 308) to leader 2
term 49 leader 2 nextIndex[0]: 296  matchIndex[0]: 295
term 49 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 49
------------------------------------------------------
flag 16577 term 49 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 49 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 49 leaderCommit: 307 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=308
leader log:
[{snapshot 49 299} {2106611985689595041 49 300} {8605115366933596175 49 301} {2222439270237458285 49 302} {4229851443720663841 49 303} {481995075294484204 49 304} {8500662857429176678 49 305} {1377673245881732952 49 306} {5917864921434387407 49 307} {1779430534621635830 49 308}]
------------------------------------------------------
term 50 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 49 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 51 server 1 vote for server 2
term 51 server 2 get vote from server 1
term 51 server 0 vote for server 2
term 51 server 2 become leader
------------------------------------------------------
term 51 server 2 get outdate rpc reply from server 0
flag 69750 term 51 leader 2 nextIndex[0]: 309  matchIndex[0]: 0
term 51 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 49 leaderCommit: 308 
------------------------------------------------------
flag 33346 term 51 leader 2 nextIndex[1]: 309  matchIndex[1]: 0
term 51 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 49 leaderCommit: 308 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
term 51 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=308
leader log:
[{snapshot 49 299} {2106611985689595041 49 300} {8605115366933596175 49 301} {2222439270237458285 49 302} {4229851443720663841 49 303} {481995075294484204 49 304} {8500662857429176678 49 305} {1377673245881732952 49 306} {5917864921434387407 49 307} {1779430534621635830 49 308}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 309->308
------------------------------------------------------
term 51 leader 2 nextIndex[0]: 296  matchIndex[0]: 0
term 51 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 49
------------------------------------------------------
flag 90840 term 51 leader 2 nextIndex[1]: 309  matchIndex[1]: 308
term 51 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 49 leaderCommit: 308 
------------------------------------------------------
term 51 server 0 InstallSnapshot success
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 299 rf.lastIncludedTerm 49 rf.commitIndex 299 rf.lastApplied 299
term 51 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 300 matchIndex[0] 299 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=308
leader log:
[{snapshot 49 299} {2106611985689595041 49 300} {8605115366933596175 49 301} {2222439270237458285 49 302} {4229851443720663841 49 303} {481995075294484204 49 304} {8500662857429176678 49 305} {1377673245881732952 49 306} {5917864921434387407 49 307} {1779430534621635830 49 308}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60829 term 51 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 51 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 49 leaderCommit: 308 
------------------------------------------------------
flag 75561 term 51 leader 2 nextIndex[1]: 309  matchIndex[1]: 308
term 51 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 49 leaderCommit: 308 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=308
leader log:
[{snapshot 49 299} {2106611985689595041 49 300} {8605115366933596175 49 301} {2222439270237458285 49 302} {4229851443720663841 49 303} {481995075294484204 49 304} {8500662857429176678 49 305} {1377673245881732952 49 306} {5917864921434387407 49 307} {1779430534621635830 49 308}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=308
leader log:
[{snapshot 49 299} {2106611985689595041 49 300} {8605115366933596175 49 301} {2222439270237458285 49 302} {4229851443720663841 49 303} {481995075294484204 49 304} {8500662857429176678 49 305} {1377673245881732952 49 306} {5917864921434387407 49 307} {1779430534621635830 49 308}]
------------------------------------------------------
flag 25094 term 51 leader 2 nextIndex[0]: 309  matchIndex[0]: 308
term 51 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 49 leaderCommit: 308 
------------------------------------------------------
flag 99624 term 51 leader 2 nextIndex[1]: 309  matchIndex[1]: 308
term 51 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 49 leaderCommit: 308 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=308
leader log:
[{snapshot 49 299} {2106611985689595041 49 300} {8605115366933596175 49 301} {2222439270237458285 49 302} {4229851443720663841 49 303} {481995075294484204 49 304} {8500662857429176678 49 305} {1377673245881732952 49 306} {5917864921434387407 49 307} {1779430534621635830 49 308}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=308
leader log:
[{snapshot 49 299} {2106611985689595041 49 300} {8605115366933596175 49 301} {2222439270237458285 49 302} {4229851443720663841 49 303} {481995075294484204 49 304} {8500662857429176678 49 305} {1377673245881732952 49 306} {5917864921434387407 49 307} {1779430534621635830 49 308}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53615 term 51 leader 2 nextIndex[0]: 309  matchIndex[0]: 308
term 51 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 49 leaderCommit: 308 
------------------------------------------------------
flag 68545 term 51 leader 2 nextIndex[1]: 309  matchIndex[1]: 308
term 51 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 49 leaderCommit: 308 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=308
leader log:
[{snapshot 49 299} {2106611985689595041 49 300} {8605115366933596175 49 301} {2222439270237458285 49 302} {4229851443720663841 49 303} {481995075294484204 49 304} {8500662857429176678 49 305} {1377673245881732952 49 306} {5917864921434387407 49 307} {1779430534621635830 49 308}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=308
leader log:
[{snapshot 49 299} {2106611985689595041 49 300} {8605115366933596175 49 301} {2222439270237458285 49 302} {4229851443720663841 49 303} {481995075294484204 49 304} {8500662857429176678 49 305} {1377673245881732952 49 306} {5917864921434387407 49 307} {1779430534621635830 49 308}]
------------------------------------------------------
flag 7326 term 51 leader 2 nextIndex[0]: 309  matchIndex[0]: 308
term 51 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 49 leaderCommit: 308 
------------------------------------------------------
flag 74566 term 51 leader 2 nextIndex[1]: 309  matchIndex[1]: 308
term 51 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 49 leaderCommit: 308 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=308
leader log:
[{snapshot 49 299} {2106611985689595041 49 300} {8605115366933596175 49 301} {2222439270237458285 49 302} {4229851443720663841 49 303} {481995075294484204 49 304} {8500662857429176678 49 305} {1377673245881732952 49 306} {5917864921434387407 49 307} {1779430534621635830 49 308}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=308
leader log:
[{snapshot 49 299} {2106611985689595041 49 300} {8605115366933596175 49 301} {2222439270237458285 49 302} {4229851443720663841 49 303} {481995075294484204 49 304} {8500662857429176678 49 305} {1377673245881732952 49 306} {5917864921434387407 49 307} {1779430534621635830 49 308}]
------------------------------------------------------
flag 61886 term 51 leader 2 nextIndex[0]: 309  matchIndex[0]: 308
term 51 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 49 leaderCommit: 308 
------------------------------------------------------
flag 46277 term 51 leader 2 nextIndex[1]: 309  matchIndex[1]: 308
term 51 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 49 leaderCommit: 308 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=308
leader log:
[{snapshot 49 299} {2106611985689595041 49 300} {8605115366933596175 49 301} {2222439270237458285 49 302} {4229851443720663841 49 303} {481995075294484204 49 304} {8500662857429176678 49 305} {1377673245881732952 49 306} {5917864921434387407 49 307} {1779430534621635830 49 308}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=308
leader log:
[{snapshot 49 299} {2106611985689595041 49 300} {8605115366933596175 49 301} {2222439270237458285 49 302} {4229851443720663841 49 303} {481995075294484204 49 304} {8500662857429176678 49 305} {1377673245881732952 49 306} {5917864921434387407 49 307} {1779430534621635830 49 308}]
------------------------------------------------------
flag 94406 term 51 leader 2 nextIndex[0]: 309  matchIndex[0]: 308
term 51 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 49 leaderCommit: 308 
------------------------------------------------------
flag 86064 term 51 leader 2 nextIndex[1]: 309  matchIndex[1]: 308
term 51 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 49 leaderCommit: 308 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=308
leader log:
[{snapshot 49 299} {2106611985689595041 49 300} {8605115366933596175 49 301} {2222439270237458285 49 302} {4229851443720663841 49 303} {481995075294484204 49 304} {8500662857429176678 49 305} {1377673245881732952 49 306} {5917864921434387407 49 307} {1779430534621635830 49 308}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=308
leader log:
[{snapshot 49 299} {2106611985689595041 49 300} {8605115366933596175 49 301} {2222439270237458285 49 302} {4229851443720663841 49 303} {481995075294484204 49 304} {8500662857429176678 49 305} {1377673245881732952 49 306} {5917864921434387407 49 307} {1779430534621635830 49 308}]
------------------------------------------------------
flag 41921 term 51 leader 2 nextIndex[0]: 309  matchIndex[0]: 308
term 51 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 49 leaderCommit: 308 
------------------------------------------------------
flag 68337 term 51 leader 2 nextIndex[1]: 309  matchIndex[1]: 308
term 51 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 49 leaderCommit: 308 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=308
leader log:
[{snapshot 49 299} {2106611985689595041 49 300} {8605115366933596175 49 301} {2222439270237458285 49 302} {4229851443720663841 49 303} {481995075294484204 49 304} {8500662857429176678 49 305} {1377673245881732952 49 306} {5917864921434387407 49 307} {1779430534621635830 49 308}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=308
leader log:
[{snapshot 49 299} {2106611985689595041 49 300} {8605115366933596175 49 301} {2222439270237458285 49 302} {4229851443720663841 49 303} {481995075294484204 49 304} {8500662857429176678 49 305} {1377673245881732952 49 306} {5917864921434387407 49 307} {1779430534621635830 49 308}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 62435 term 51 leader 2 nextIndex[0]: 309  matchIndex[0]: 308
term 51 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 49 leaderCommit: 308 
------------------------------------------------------
flag 49793 term 51 leader 2 nextIndex[1]: 309  matchIndex[1]: 308
term 51 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 49 leaderCommit: 308 
------------------------------------------------------
flag 18615 term 51 leader 2 nextIndex[0]: 309  matchIndex[0]: 308
term 51 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 49 leaderCommit: 308 
------------------------------------------------------
flag 84641 term 51 leader 2 nextIndex[1]: 309  matchIndex[1]: 308
term 51 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 49 leaderCommit: 308 
------------------------------------------------------
term 51 server 0 not vote for server 1, 任期不够新
term 51 server 1 get outdate rpc reply from server 0
flag 39198 term 51 leader 2 nextIndex[0]: 309  matchIndex[0]: 308
term 51 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 49 leaderCommit: 308 
------------------------------------------------------
flag 28386 term 51 leader 2 nextIndex[1]: 309  matchIndex[1]: 308
term 51 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 49 leaderCommit: 308 
------------------------------------------------------
term 52 server 1 vote for server 0
term 52 server 0 get vote from server 1
term 52 server 0 become leader
------------------------------------------------------
flag 37843 term 51 leader 2 nextIndex[0]: 309  matchIndex[0]: 308
term 51 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 49 leaderCommit: 308 
------------------------------------------------------
flag 23364 term 51 leader 2 nextIndex[1]: 309  matchIndex[1]: 308
term 51 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 49 leaderCommit: 308 
------------------------------------------------------
flag 6110 term 52 leader 0 nextIndex[1]: 309  matchIndex[1]: 0
term 52 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 49 leaderCommit: 308 
------------------------------------------------------
flag 6324 term 52 leader 0 nextIndex[2]: 309  matchIndex[2]: 0
term 52 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 49 leaderCommit: 308 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=308
leader log:
[{snapshot 49 299} {2106611985689595041 49 300} {8605115366933596175 49 301} {2222439270237458285 49 302} {4229851443720663841 49 303} {481995075294484204 49 304} {8500662857429176678 49 305} {1377673245881732952 49 306} {5917864921434387407 49 307} {1779430534621635830 49 308}]
------------------------------------------------------
client write log 2870981158904361779 (index 309) to leader 0
flag 94082 term 51 leader 2 nextIndex[0]: 309  matchIndex[0]: 308
term 51 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 49 leaderCommit: 308 
------------------------------------------------------
flag 20065 term 51 leader 2 nextIndex[1]: 309  matchIndex[1]: 308
term 51 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 49 leaderCommit: 308 
------------------------------------------------------
flag 29323 term 52 leader 0 nextIndex[1]: 309  matchIndex[1]: 308
term 52 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 49 leaderCommit: 308 
------------------------------------------------------
flag 47802 term 52 leader 0 nextIndex[2]: 309  matchIndex[2]: 0
term 52 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 49 leaderCommit: 308 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=309
leader log:
[{snapshot 49 299} {2106611985689595041 49 300} {8605115366933596175 49 301} {2222439270237458285 49 302} {4229851443720663841 49 303} {481995075294484204 49 304} {8500662857429176678 49 305} {1377673245881732952 49 306} {5917864921434387407 49 307} {1779430534621635830 49 308} {2870981158904361779 52 309}]
------------------------------------------------------
term 52 Server0 start snapshot! index=309
term 52 server0 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=309
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79333 term 51 leader 2 nextIndex[0]: 309  matchIndex[0]: 308
term 51 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 49 leaderCommit: 308 
------------------------------------------------------
flag 17387 term 51 leader 2 nextIndex[1]: 309  matchIndex[1]: 308
term 51 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 49 leaderCommit: 308 
------------------------------------------------------
flag 46744 term 52 leader 0 nextIndex[1]: 310  matchIndex[1]: 309
term 52 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 52 leaderCommit: 309 
------------------------------------------------------
term 52 leader 0 nextIndex[2]: 309  matchIndex[2]: 0
term 52 leader 0 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 52
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=309
leader log:
[{snapshot 52 309}]
------------------------------------------------------
term 52 Server1 start snapshot! index=309
term 52 server1 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=309
-------------------------------------------------------------
client write log 3329035817313695313 (index 310) to leader 0
client write log 9143542092283111898 (index 311) to leader 0
client write log 4487052187525060356 (index 312) to leader 0
client write log 2511333699219126686 (index 313) to leader 0
client write log 1187781305377457869 (index 314) to leader 0
client write log 7152487067588853491 (index 315) to leader 0
client write log 7826318592286406751 (index 316) to leader 0
client write log 5163922696687017406 (index 317) to leader 0
client write log 7054991765083215147 (index 318) to leader 0
client write log 3528791956446061662 (index 319) to leader 0
client write log 7057685844981971897 (index 320) to leader 0
client write log 6489229255196566031 (index 321) to leader 0
client write log 869181868532873351 (index 322) to leader 0
client write log 918973089142952413 (index 323) to leader 0
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 309->308
------------------------------------------------------
term 51 leader 2 nextIndex[0]: 0  matchIndex[0]: 308
term 51 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 49
------------------------------------------------------
flag 18762 term 51 leader 2 nextIndex[1]: 309  matchIndex[1]: 308
term 51 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 49 leaderCommit: 308 
------------------------------------------------------
flag 69362 term 52 leader 0 nextIndex[1]: 310  matchIndex[1]: 309
term 52 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 52 leaderCommit: 309 
------------------------------------------------------
term 52 leader 0 nextIndex[2]: 309  matchIndex[2]: 0
term 52 leader 0 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 52
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 52 309} {3329035817313695313 52 310} {9143542092283111898 52 311} {4487052187525060356 52 312} {2511333699219126686 52 313} {1187781305377457869 52 314} {7152487067588853491 52 315} {7826318592286406751 52 316} {5163922696687017406 52 317} {7054991765083215147 52 318} {3528791956446061662 52 319} {7057685844981971897 52 320} {6489229255196566031 52 321} {869181868532873351 52 322} {918973089142952413 52 323}]
------------------------------------------------------
term 52 Server0 start snapshot! index=319
term 52 server0 snapshot success
lastIncludedIndex=319 lastApplied=319 lastIndex=323
-------------------------------------------------------------
term 51 leader 2 nextIndex[0]: 0  matchIndex[0]: 308
term 51 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 49
------------------------------------------------------
flag 60657 term 51 leader 2 nextIndex[1]: 309  matchIndex[1]: 308
term 51 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 49 leaderCommit: 308 
------------------------------------------------------
flag 88109 term 52 leader 0 nextIndex[1]: 324  matchIndex[1]: 323
term 52 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 52 leaderCommit: 323 
------------------------------------------------------
term 52 leader 0 nextIndex[2]: 309  matchIndex[2]: 0
term 52 leader 0 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 52
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {7057685844981971897 52 320} {6489229255196566031 52 321} {869181868532873351 52 322} {918973089142952413 52 323}]
------------------------------------------------------
term 52 Server1 start snapshot! index=319
term 52 server1 snapshot success
lastIncludedIndex=319 lastApplied=319 lastIndex=323
-------------------------------------------------------------
term 51 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 300 matchIndex[0] 299 
------------------------------------------------------------------------
!!!!!!connect server 2
client write log 8617938578495881938 (index 309) to leader 2
flag 26739 term 51 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 51 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 49 leaderCommit: 308 
------------------------------------------------------
flag 9573 term 51 leader 2 nextIndex[1]: 309  matchIndex[1]: 308
term 51 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 49 leaderCommit: 308 
------------------------------------------------------
term 52 server 1 AppendEntries false 领导者任期过期 args.Term 51
------------------------------------------------------
term 52 server 0 AppendEntries false 领导者任期过期 args.Term 51
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28923 term 52 leader 0 nextIndex[1]: 324  matchIndex[1]: 323
term 52 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 52 leaderCommit: 323 
------------------------------------------------------
term 52 leader 0 nextIndex[2]: 309  matchIndex[2]: 0
term 52 leader 0 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 52
------------------------------------------------------
term 52 server 2 InstallSnapshot success
------------------------------------------------------
term 52 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 320 matchIndex[2] 319 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 319 rf.lastIncludedTerm 52 rf.commitIndex 319 rf.lastApplied 319
term 52 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {7057685844981971897 52 320} {6489229255196566031 52 321} {869181868532873351 52 322} {918973089142952413 52 323}]
------------------------------------------------------
flag 48917 term 52 leader 0 nextIndex[1]: 324  matchIndex[1]: 323
term 52 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 52 leaderCommit: 323 
------------------------------------------------------
flag 85209 term 52 leader 0 nextIndex[2]: 320  matchIndex[2]: 319
term 52 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 52 leaderCommit: 323 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {7057685844981971897 52 320} {6489229255196566031 52 321} {869181868532873351 52 322} {918973089142952413 52 323}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {7057685844981971897 52 320} {6489229255196566031 52 321} {869181868532873351 52 322} {918973089142952413 52 323}]
------------------------------------------------------
flag 89290 term 52 leader 0 nextIndex[1]: 324  matchIndex[1]: 323
term 52 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 52 leaderCommit: 323 
------------------------------------------------------
flag 80463 term 52 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 52 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 52 leaderCommit: 323 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {7057685844981971897 52 320} {6489229255196566031 52 321} {869181868532873351 52 322} {918973089142952413 52 323}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {7057685844981971897 52 320} {6489229255196566031 52 321} {869181868532873351 52 322} {918973089142952413 52 323}]
------------------------------------------------------
flag 8543 term 52 leader 0 nextIndex[1]: 324  matchIndex[1]: 323
term 52 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 52 leaderCommit: 323 
------------------------------------------------------
flag 72755 term 52 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 52 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 52 leaderCommit: 323 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {7057685844981971897 52 320} {6489229255196566031 52 321} {869181868532873351 52 322} {918973089142952413 52 323}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {7057685844981971897 52 320} {6489229255196566031 52 321} {869181868532873351 52 322} {918973089142952413 52 323}]
------------------------------------------------------
flag 31736 term 52 leader 0 nextIndex[1]: 324  matchIndex[1]: 323
term 52 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 52 leaderCommit: 323 
------------------------------------------------------
flag 24619 term 52 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 52 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 52 leaderCommit: 323 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {7057685844981971897 52 320} {6489229255196566031 52 321} {869181868532873351 52 322} {918973089142952413 52 323}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {7057685844981971897 52 320} {6489229255196566031 52 321} {869181868532873351 52 322} {918973089142952413 52 323}]
------------------------------------------------------
flag 96813 term 52 leader 0 nextIndex[1]: 324  matchIndex[1]: 323
term 52 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 52 leaderCommit: 323 
------------------------------------------------------
flag 86112 term 52 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 52 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 52 leaderCommit: 323 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {7057685844981971897 52 320} {6489229255196566031 52 321} {869181868532873351 52 322} {918973089142952413 52 323}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {7057685844981971897 52 320} {6489229255196566031 52 321} {869181868532873351 52 322} {918973089142952413 52 323}]
------------------------------------------------------
flag 46005 term 52 leader 0 nextIndex[1]: 324  matchIndex[1]: 323
term 52 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 52 leaderCommit: 323 
------------------------------------------------------
flag 28937 term 52 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 52 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 52 leaderCommit: 323 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {7057685844981971897 52 320} {6489229255196566031 52 321} {869181868532873351 52 322} {918973089142952413 52 323}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {7057685844981971897 52 320} {6489229255196566031 52 321} {869181868532873351 52 322} {918973089142952413 52 323}]
------------------------------------------------------
flag 5046 term 52 leader 0 nextIndex[1]: 324  matchIndex[1]: 323
term 52 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 52 leaderCommit: 323 
------------------------------------------------------
flag 84070 term 52 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 52 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 52 leaderCommit: 323 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {7057685844981971897 52 320} {6489229255196566031 52 321} {869181868532873351 52 322} {918973089142952413 52 323}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {7057685844981971897 52 320} {6489229255196566031 52 321} {869181868532873351 52 322} {918973089142952413 52 323}]
------------------------------------------------------
term 52 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 320 matchIndex[2] 319 
------------------------------------------------------------------------
term 52 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 46486 term 52 leader 0 nextIndex[1]: 324  matchIndex[1]: 323
term 52 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 52 leaderCommit: 323 
------------------------------------------------------
flag 9182 term 52 leader 0 nextIndex[2]: 320  matchIndex[2]: 319
term 52 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 52 leaderCommit: 323 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {7057685844981971897 52 320} {6489229255196566031 52 321} {869181868532873351 52 322} {918973089142952413 52 323}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {7057685844981971897 52 320} {6489229255196566031 52 321} {869181868532873351 52 322} {918973089142952413 52 323}]
------------------------------------------------------
flag 28914 term 52 leader 0 nextIndex[1]: 324  matchIndex[1]: 323
term 52 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 52 leaderCommit: 323 
------------------------------------------------------
flag 2568 term 52 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 52 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 52 leaderCommit: 323 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {7057685844981971897 52 320} {6489229255196566031 52 321} {869181868532873351 52 322} {918973089142952413 52 323}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {7057685844981971897 52 320} {6489229255196566031 52 321} {869181868532873351 52 322} {918973089142952413 52 323}]
------------------------------------------------------
flag 79619 term 52 leader 0 nextIndex[1]: 324  matchIndex[1]: 323
term 52 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 52 leaderCommit: 323 
------------------------------------------------------
flag 28106 term 52 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 52 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 52 leaderCommit: 323 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {7057685844981971897 52 320} {6489229255196566031 52 321} {869181868532873351 52 322} {918973089142952413 52 323}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {7057685844981971897 52 320} {6489229255196566031 52 321} {869181868532873351 52 322} {918973089142952413 52 323}]
------------------------------------------------------
flag 80920 term 52 leader 0 nextIndex[1]: 324  matchIndex[1]: 323
term 52 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 52 leaderCommit: 323 
------------------------------------------------------
flag 5507 term 52 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 52 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 52 leaderCommit: 323 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {7057685844981971897 52 320} {6489229255196566031 52 321} {869181868532873351 52 322} {918973089142952413 52 323}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {7057685844981971897 52 320} {6489229255196566031 52 321} {869181868532873351 52 322} {918973089142952413 52 323}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 324->323
------------------------------------------------------
flag 6042 term 52 leader 0 nextIndex[1]: 324  matchIndex[1]: 323
term 52 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 52 leaderCommit: 323 
------------------------------------------------------
term 52 leader 0 nextIndex[2]: 0  matchIndex[2]: 323
term 52 leader 0 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 52
------------------------------------------------------
term 52 server 2 InstallSnapshot fail
rf.commitIndex 323 args.LastIncludedIndex 319
------------------------------------------------------
term 52 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 320 matchIndex[2] 319 
------------------------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {7057685844981971897 52 320} {6489229255196566031 52 321} {869181868532873351 52 322} {918973089142952413 52 323}]
------------------------------------------------------
flag 13068 term 52 leader 0 nextIndex[1]: 324  matchIndex[1]: 323
term 52 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 52 leaderCommit: 323 
------------------------------------------------------
flag 8797 term 52 leader 0 nextIndex[2]: 320  matchIndex[2]: 319
term 52 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 52 leaderCommit: 323 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {7057685844981971897 52 320} {6489229255196566031 52 321} {869181868532873351 52 322} {918973089142952413 52 323}]
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {7057685844981971897 52 320} {6489229255196566031 52 321} {869181868532873351 52 322} {918973089142952413 52 323}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48647 term 52 leader 0 nextIndex[1]: 324  matchIndex[1]: 323
term 52 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 52 leaderCommit: 323 
------------------------------------------------------
flag 69300 term 52 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 52 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 52 leaderCommit: 323 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {7057685844981971897 52 320} {6489229255196566031 52 321} {869181868532873351 52 322} {918973089142952413 52 323}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {7057685844981971897 52 320} {6489229255196566031 52 321} {869181868532873351 52 322} {918973089142952413 52 323}]
------------------------------------------------------
flag 72120 term 52 leader 0 nextIndex[1]: 324  matchIndex[1]: 323
term 52 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 52 leaderCommit: 323 
------------------------------------------------------
flag 6453 term 52 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 52 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 52 leaderCommit: 323 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {7057685844981971897 52 320} {6489229255196566031 52 321} {869181868532873351 52 322} {918973089142952413 52 323}]
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {7057685844981971897 52 320} {6489229255196566031 52 321} {869181868532873351 52 322} {918973089142952413 52 323}]
------------------------------------------------------
flag 28509 term 52 leader 0 nextIndex[1]: 324  matchIndex[1]: 323
term 52 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 52 leaderCommit: 323 
------------------------------------------------------
flag 1730 term 52 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 52 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 52 leaderCommit: 323 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {7057685844981971897 52 320} {6489229255196566031 52 321} {869181868532873351 52 322} {918973089142952413 52 323}]
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {7057685844981971897 52 320} {6489229255196566031 52 321} {869181868532873351 52 322} {918973089142952413 52 323}]
------------------------------------------------------
term 52 server 2 not vote for server 0, 任期不够新
term 52 server 0 get outdate rpc reply from server 2
flag 44194 term 52 leader 0 nextIndex[1]: 324  matchIndex[1]: 323
term 52 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 52 leaderCommit: 323 
------------------------------------------------------
flag 23548 term 52 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 52 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 52 leaderCommit: 323 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {7057685844981971897 52 320} {6489229255196566031 52 321} {869181868532873351 52 322} {918973089142952413 52 323}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {7057685844981971897 52 320} {6489229255196566031 52 321} {869181868532873351 52 322} {918973089142952413 52 323}]
------------------------------------------------------
flag 77797 term 52 leader 0 nextIndex[1]: 324  matchIndex[1]: 323
term 52 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 52 leaderCommit: 323 
------------------------------------------------------
flag 38426 term 52 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 52 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 52 leaderCommit: 323 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {7057685844981971897 52 320} {6489229255196566031 52 321} {869181868532873351 52 322} {918973089142952413 52 323}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {7057685844981971897 52 320} {6489229255196566031 52 321} {869181868532873351 52 322} {918973089142952413 52 323}]
------------------------------------------------------
flag 14764 term 52 leader 0 nextIndex[1]: 324  matchIndex[1]: 323
term 52 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 52 leaderCommit: 323 
------------------------------------------------------
flag 52295 term 52 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 52 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 52 leaderCommit: 323 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {7057685844981971897 52 320} {6489229255196566031 52 321} {869181868532873351 52 322} {918973089142952413 52 323}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 52 319} {7057685844981971897 52 320} {6489229255196566031 52 321} {869181868532873351 52 322} {918973089142952413 52 323}]
------------------------------------------------------
client write log 8617938578495881938 (index 324) to leader 0
flag 22073 term 52 leader 0 nextIndex[1]: 324  matchIndex[1]: 323
term 52 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 52 leaderCommit: 323 
------------------------------------------------------
flag 21218 term 52 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 52 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 52 leaderCommit: 323 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=324
leader log:
[{snapshot 52 319} {7057685844981971897 52 320} {6489229255196566031 52 321} {869181868532873351 52 322} {918973089142952413 52 323} {8617938578495881938 52 324}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=324
leader log:
[{snapshot 52 319} {7057685844981971897 52 320} {6489229255196566031 52 321} {869181868532873351 52 322} {918973089142952413 52 323} {8617938578495881938 52 324}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11674 term 52 leader 0 nextIndex[1]: 325  matchIndex[1]: 324
term 52 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 52 leaderCommit: 324 
------------------------------------------------------
flag 25822 term 52 leader 0 nextIndex[2]: 325  matchIndex[2]: 324
term 52 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 52 leaderCommit: 324 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=324
leader log:
[{snapshot 52 319} {7057685844981971897 52 320} {6489229255196566031 52 321} {869181868532873351 52 322} {918973089142952413 52 323} {8617938578495881938 52 324}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=324
leader log:
[{snapshot 52 319} {7057685844981971897 52 320} {6489229255196566031 52 321} {869181868532873351 52 322} {918973089142952413 52 323} {8617938578495881938 52 324}]
------------------------------------------------------
flag 12148 term 52 leader 0 nextIndex[1]: 325  matchIndex[1]: 324
term 52 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 52 leaderCommit: 324 
------------------------------------------------------
flag 54056 term 52 leader 0 nextIndex[2]: 325  matchIndex[2]: 324
term 52 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 52 leaderCommit: 324 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=324
leader log:
[{snapshot 52 319} {7057685844981971897 52 320} {6489229255196566031 52 321} {869181868532873351 52 322} {918973089142952413 52 323} {8617938578495881938 52 324}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=324
leader log:
[{snapshot 52 319} {7057685844981971897 52 320} {6489229255196566031 52 321} {869181868532873351 52 322} {918973089142952413 52 323} {8617938578495881938 52 324}]
------------------------------------------------------
flag 58503 term 52 leader 0 nextIndex[1]: 325  matchIndex[1]: 324
term 52 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 52 leaderCommit: 324 
------------------------------------------------------
flag 43210 term 52 leader 0 nextIndex[2]: 325  matchIndex[2]: 324
term 52 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 52 leaderCommit: 324 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=324
leader log:
[{snapshot 52 319} {7057685844981971897 52 320} {6489229255196566031 52 321} {869181868532873351 52 322} {918973089142952413 52 323} {8617938578495881938 52 324}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=324
leader log:
[{snapshot 52 319} {7057685844981971897 52 320} {6489229255196566031 52 321} {869181868532873351 52 322} {918973089142952413 52 323} {8617938578495881938 52 324}]
------------------------------------------------------
flag 55372 term 52 leader 0 nextIndex[1]: 325  matchIndex[1]: 324
term 52 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 52 leaderCommit: 324 
------------------------------------------------------
flag 41144 term 52 leader 0 nextIndex[2]: 325  matchIndex[2]: 324
term 52 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 52 leaderCommit: 324 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=324
leader log:
[{snapshot 52 319} {7057685844981971897 52 320} {6489229255196566031 52 321} {869181868532873351 52 322} {918973089142952413 52 323} {8617938578495881938 52 324}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=324
leader log:
[{snapshot 52 319} {7057685844981971897 52 320} {6489229255196566031 52 321} {869181868532873351 52 322} {918973089142952413 52 323} {8617938578495881938 52 324}]
------------------------------------------------------
flag 53044 term 52 leader 0 nextIndex[1]: 325  matchIndex[1]: 324
term 52 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 52 leaderCommit: 324 
------------------------------------------------------
flag 31894 term 52 leader 0 nextIndex[2]: 325  matchIndex[2]: 324
term 52 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 52 leaderCommit: 324 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:324 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=324
leader log:
[{snapshot 52 319} {7057685844981971897 52 320} {6489229255196566031 52 321} {869181868532873351 52 322} {918973089142952413 52 323} {8617938578495881938 52 324}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=324
leader log:
[{snapshot 52 319} {7057685844981971897 52 320} {6489229255196566031 52 321} {869181868532873351 52 322} {918973089142952413 52 323} {8617938578495881938 52 324}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 1036582994856387572 (index 325) to leader 0
flag 8588 term 52 leader 0 nextIndex[1]: 325  matchIndex[1]: 324
term 52 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 52 leaderCommit: 324 
------------------------------------------------------
flag 77508 term 52 leader 0 nextIndex[2]: 325  matchIndex[2]: 324
term 52 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 52 leaderCommit: 324 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=326
update matchIndex[2]=325
update leader CommitIndex=325
leader log:
[{snapshot 52 319} {7057685844981971897 52 320} {6489229255196566031 52 321} {869181868532873351 52 322} {918973089142952413 52 323} {8617938578495881938 52 324} {1036582994856387572 52 325}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97623 term 52 leader 0 nextIndex[1]: 325  matchIndex[1]: 324
term 52 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 52 leaderCommit: 325 
------------------------------------------------------
flag 61892 term 52 leader 0 nextIndex[2]: 326  matchIndex[2]: 325
term 52 leader 0 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 52 leaderCommit: 325 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=326
update matchIndex[2]=325
update leader CommitIndex=325
leader log:
[{snapshot 52 319} {7057685844981971897 52 320} {6489229255196566031 52 321} {869181868532873351 52 322} {918973089142952413 52 323} {8617938578495881938 52 324} {1036582994856387572 52 325}]
------------------------------------------------------
client write log 179746351098081192 (index 326) to leader 0
client write log 8441098501469900611 (index 327) to leader 0
client write log 3227791731167894808 (index 328) to leader 0
client write log 4963097703045748070 (index 329) to leader 0
client write log 3702423657538720363 (index 330) to leader 0
client write log 2573330165999503636 (index 331) to leader 0
client write log 4352921022006911831 (index 332) to leader 0
flag 71063 term 52 leader 0 nextIndex[1]: 325  matchIndex[1]: 324
term 52 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 52 leaderCommit: 325 
------------------------------------------------------
flag 56390 term 52 leader 0 nextIndex[2]: 326  matchIndex[2]: 325
term 52 leader 0 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 52 leaderCommit: 325 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=332
leader log:
[{snapshot 52 319} {7057685844981971897 52 320} {6489229255196566031 52 321} {869181868532873351 52 322} {918973089142952413 52 323} {8617938578495881938 52 324} {1036582994856387572 52 325} {179746351098081192 52 326} {8441098501469900611 52 327} {3227791731167894808 52 328} {4963097703045748070 52 329} {3702423657538720363 52 330} {2573330165999503636 52 331} {4352921022006911831 52 332}]
------------------------------------------------------
term 52 Server0 start snapshot! index=329
term 52 server0 snapshot success
lastIncludedIndex=329 lastApplied=329 lastIndex=332
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 52 leader 0 nextIndex[1]: 325  matchIndex[1]: 324
term 52 leader 0 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 52
------------------------------------------------------
flag 81339 term 52 leader 0 nextIndex[2]: 333  matchIndex[2]: 332
term 52 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 52 leaderCommit: 332 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=332
leader log:
[{snapshot 52 329} {3702423657538720363 52 330} {2573330165999503636 52 331} {4352921022006911831 52 332}]
------------------------------------------------------
term 52 Server2 start snapshot! index=329
term 52 server2 snapshot success
lastIncludedIndex=329 lastApplied=330 lastIndex=332
-------------------------------------------------------------
!!!!!!connect server 1
client write log 6698750857610975184 (index 333) to leader 0
term 52 leader 0 nextIndex[1]: 325  matchIndex[1]: 324
term 52 leader 0 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 52
------------------------------------------------------
flag 23083 term 52 leader 0 nextIndex[2]: 333  matchIndex[2]: 332
term 52 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 52 leaderCommit: 332 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=333
leader log:
[{snapshot 52 329} {3702423657538720363 52 330} {2573330165999503636 52 331} {4352921022006911831 52 332} {6698750857610975184 52 333}]
------------------------------------------------------
term 53 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 52 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 54 server 1 vote for server 0
term 54 server 0 get vote from server 1
term 54 server 0 become leader
------------------------------------------------------
term 54 server 2 vote for server 0
term 54 server 0 get outdate rpc reply from server 2
flag 7783 term 54 leader 0 nextIndex[1]: 334  matchIndex[1]: 0
term 54 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 52 leaderCommit: 333 
------------------------------------------------------
flag 66482 term 54 leader 0 nextIndex[2]: 334  matchIndex[2]: 0
term 54 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 52 leaderCommit: 333 
------------------------------------------------------
term 54 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 334->333
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=333
leader log:
[{snapshot 52 329} {3702423657538720363 52 330} {2573330165999503636 52 331} {4352921022006911831 52 332} {6698750857610975184 52 333}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 54 leader 0 nextIndex[1]: 325  matchIndex[1]: 0
term 54 leader 0 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 52
------------------------------------------------------
flag 7464 term 54 leader 0 nextIndex[2]: 334  matchIndex[2]: 333
term 54 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 52 leaderCommit: 333 
------------------------------------------------------
term 54 server 1 InstallSnapshot success
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
term 54 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 330 matchIndex[1] 329 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 329 rf.lastIncludedTerm 52 rf.commitIndex 329 rf.lastApplied 329
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=333
leader log:
[{snapshot 52 329} {3702423657538720363 52 330} {2573330165999503636 52 331} {4352921022006911831 52 332} {6698750857610975184 52 333}]
------------------------------------------------------
flag 17714 term 54 leader 0 nextIndex[1]: 330  matchIndex[1]: 329
term 54 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 52 leaderCommit: 333 
------------------------------------------------------
flag 94417 term 54 leader 0 nextIndex[2]: 334  matchIndex[2]: 333
term 54 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 52 leaderCommit: 333 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=333
leader log:
[{snapshot 52 329} {3702423657538720363 52 330} {2573330165999503636 52 331} {4352921022006911831 52 332} {6698750857610975184 52 333}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=333
leader log:
[{snapshot 52 329} {3702423657538720363 52 330} {2573330165999503636 52 331} {4352921022006911831 52 332} {6698750857610975184 52 333}]
------------------------------------------------------
term 54 server 1 not vote for server 0, 任期不够新
term 54 server 0 get outdate rpc reply from server 1
flag 54244 term 54 leader 0 nextIndex[1]: 334  matchIndex[1]: 333
term 54 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 52 leaderCommit: 333 
------------------------------------------------------
flag 48184 term 54 leader 0 nextIndex[2]: 334  matchIndex[2]: 333
term 54 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 52 leaderCommit: 333 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=333
leader log:
[{snapshot 52 329} {3702423657538720363 52 330} {2573330165999503636 52 331} {4352921022006911831 52 332} {6698750857610975184 52 333}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=333
leader log:
[{snapshot 52 329} {3702423657538720363 52 330} {2573330165999503636 52 331} {4352921022006911831 52 332} {6698750857610975184 52 333}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37939 term 54 leader 0 nextIndex[1]: 334  matchIndex[1]: 333
term 54 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 52 leaderCommit: 333 
------------------------------------------------------
flag 11080 term 54 leader 0 nextIndex[2]: 334  matchIndex[2]: 333
term 54 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 52 leaderCommit: 333 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=333
leader log:
[{snapshot 52 329} {3702423657538720363 52 330} {2573330165999503636 52 331} {4352921022006911831 52 332} {6698750857610975184 52 333}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=333
leader log:
[{snapshot 52 329} {3702423657538720363 52 330} {2573330165999503636 52 331} {4352921022006911831 52 332} {6698750857610975184 52 333}]
------------------------------------------------------
flag 16527 term 54 leader 0 nextIndex[1]: 334  matchIndex[1]: 333
term 54 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 52 leaderCommit: 333 
------------------------------------------------------
flag 48413 term 54 leader 0 nextIndex[2]: 334  matchIndex[2]: 333
term 54 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 52 leaderCommit: 333 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:333 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=333
leader log:
[{snapshot 52 329} {3702423657538720363 52 330} {2573330165999503636 52 331} {4352921022006911831 52 332} {6698750857610975184 52 333}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=333
leader log:
[{snapshot 52 329} {3702423657538720363 52 330} {2573330165999503636 52 331} {4352921022006911831 52 332} {6698750857610975184 52 333}]
------------------------------------------------------
flag 80436 term 54 leader 0 nextIndex[1]: 334  matchIndex[1]: 333
term 54 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 52 leaderCommit: 333 
------------------------------------------------------
flag 71164 term 54 leader 0 nextIndex[2]: 334  matchIndex[2]: 333
term 54 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 52 leaderCommit: 333 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=333
leader log:
[{snapshot 52 329} {3702423657538720363 52 330} {2573330165999503636 52 331} {4352921022006911831 52 332} {6698750857610975184 52 333}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=333
leader log:
[{snapshot 52 329} {3702423657538720363 52 330} {2573330165999503636 52 331} {4352921022006911831 52 332} {6698750857610975184 52 333}]
------------------------------------------------------
flag 70602 term 54 leader 0 nextIndex[1]: 334  matchIndex[1]: 333
term 54 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 52 leaderCommit: 333 
------------------------------------------------------
flag 58722 term 54 leader 0 nextIndex[2]: 334  matchIndex[2]: 333
term 54 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 52 leaderCommit: 333 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=333
leader log:
[{snapshot 52 329} {3702423657538720363 52 330} {2573330165999503636 52 331} {4352921022006911831 52 332} {6698750857610975184 52 333}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=333
leader log:
[{snapshot 52 329} {3702423657538720363 52 330} {2573330165999503636 52 331} {4352921022006911831 52 332} {6698750857610975184 52 333}]
------------------------------------------------------
flag 27162 term 54 leader 0 nextIndex[1]: 334  matchIndex[1]: 333
term 54 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 52 leaderCommit: 333 
------------------------------------------------------
flag 34799 term 54 leader 0 nextIndex[2]: 334  matchIndex[2]: 333
term 54 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 52 leaderCommit: 333 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=333
leader log:
[{snapshot 52 329} {3702423657538720363 52 330} {2573330165999503636 52 331} {4352921022006911831 52 332} {6698750857610975184 52 333}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=333
leader log:
[{snapshot 52 329} {3702423657538720363 52 330} {2573330165999503636 52 331} {4352921022006911831 52 332} {6698750857610975184 52 333}]
------------------------------------------------------
  ... Passed --  80.1  3 1821  774122  333
--- PASS: TestSnapshotInstall2D (80.06s)
PASS
