=== RUN   TestSnapshotInstall2D
Test (2D): install snapshots (disconnect) ...
term 1 server 2 vote for server 0
term 1 server 0 get vote from server 2
term 1 server 0 become leader
------------------------------------------------------
term 1 server 1 vote for server 0
term 1 server 0 get outdate rpc reply from server 1
flag 74171 term 1 leader 0 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 0 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 86271 term 1 leader 0 nextIndex[2]: 1  matchIndex[2]: 0
term 1 leader 0 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=1
update matchIndex[2]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=1
update matchIndex[1]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
client write log 7339503348326192781 (index 1) to leader 0
flag 93957 term 1 leader 0 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 0 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 47536 term 1 leader 0 nextIndex[2]: 1  matchIndex[2]: 0
term 1 leader 0 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7339503348326192781 1 1}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7339503348326192781 1 1}]
------------------------------------------------------
flag 7519 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 97180 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7339503348326192781 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7339503348326192781 1 1}]
------------------------------------------------------
flag 31362 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 73843 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7339503348326192781 1 1}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7339503348326192781 1 1}]
------------------------------------------------------
flag 50741 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 74065 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7339503348326192781 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7339503348326192781 1 1}]
------------------------------------------------------
flag 12255 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 11204 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7339503348326192781 1 1}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7339503348326192781 1 1}]
------------------------------------------------------
flag 60310 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 15910 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7339503348326192781 1 1}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7339503348326192781 1 1}]
------------------------------------------------------
flag 33569 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 57417 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7339503348326192781 1 1}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7339503348326192781 1 1}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 262467990753874216 (index 2) to leader 0
flag 47835 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 6193 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=3
update matchIndex[2]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {7339503348326192781 1 1} {262467990753874216 1 2}]
------------------------------------------------------
flag 1996 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 99486 term 1 leader 0 nextIndex[2]: 3  matchIndex[2]: 2
term 1 leader 0 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=3
update matchIndex[2]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {7339503348326192781 1 1} {262467990753874216 1 2}]
------------------------------------------------------
client write log 3331498120245893421 (index 3) to leader 0
client write log 2620379554084086093 (index 4) to leader 0
client write log 3927856236630113144 (index 5) to leader 0
client write log 12799639841626716 (index 6) to leader 0
client write log 8747051220800915958 (index 7) to leader 0
client write log 3970387720593062013 (index 8) to leader 0
client write log 4826164002350453097 (index 9) to leader 0
client write log 5980957133369086944 (index 10) to leader 0
client write log 4196633171285346178 (index 11) to leader 0
client write log 3274146170960481031 (index 12) to leader 0
client write log 3346146043683858875 (index 13) to leader 0
client write log 493923574745696497 (index 14) to leader 0
client write log 1012273656959814377 (index 15) to leader 0
flag 8168 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 53348 term 1 leader 0 nextIndex[2]: 3  matchIndex[2]: 2
term 1 leader 0 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{<nil> 0 0} {7339503348326192781 1 1} {262467990753874216 1 2} {3331498120245893421 1 3} {2620379554084086093 1 4} {3927856236630113144 1 5} {12799639841626716 1 6} {8747051220800915958 1 7} {3970387720593062013 1 8} {4826164002350453097 1 9} {5980957133369086944 1 10} {4196633171285346178 1 11} {3274146170960481031 1 12} {3346146043683858875 1 13} {493923574745696497 1 14} {1012273656959814377 1 15}]
------------------------------------------------------
term 1 Server0 start snapshot! index=9
term 1 server0 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=15
-------------------------------------------------------------
term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 11774 term 1 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 1 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {5980957133369086944 1 10} {4196633171285346178 1 11} {3274146170960481031 1 12} {3346146043683858875 1 13} {493923574745696497 1 14} {1012273656959814377 1 15}]
------------------------------------------------------
term 1 Server2 start snapshot! index=9
term 1 server2 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=15
-------------------------------------------------------------
!!!!!!connect server 1
client write log 2924387577345223528 (index 16) to leader 0
term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 39838 term 1 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 1 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {5980957133369086944 1 10} {4196633171285346178 1 11} {3274146170960481031 1 12} {3346146043683858875 1 13} {493923574745696497 1 14} {1012273656959814377 1 15} {2924387577345223528 1 16}]
------------------------------------------------------
term 2 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 1 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 3 server 2 vote for server 0
term 3 server 1 vote for server 0
term 3 server 0 get vote from server 2
term 3 server 0 become leader
------------------------------------------------------
term 3 server 0 get outdate rpc reply from server 1
flag 41873 term 3 leader 0 nextIndex[1]: 17  matchIndex[1]: 0
term 3 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 55745 term 3 leader 0 nextIndex[2]: 17  matchIndex[2]: 0
term 3 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
term 3 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {5980957133369086944 1 10} {4196633171285346178 1 11} {3274146170960481031 1 12} {3346146043683858875 1 13} {493923574745696497 1 14} {1012273656959814377 1 15} {2924387577345223528 1 16}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 17->16
------------------------------------------------------
term 3 leader 0 nextIndex[1]: 2  matchIndex[1]: 0
term 3 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 36997 term 3 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 3 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {5980957133369086944 1 10} {4196633171285346178 1 11} {3274146170960481031 1 12} {3346146043683858875 1 13} {493923574745696497 1 14} {1012273656959814377 1 15} {2924387577345223528 1 16}]
------------------------------------------------------
term 3 server 1 InstallSnapshot success
------------------------------------------------------
term 3 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 10 matchIndex[1] 9 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 9 rf.lastIncludedTerm 1 rf.commitIndex 9 rf.lastApplied 9
flag 77362 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 67980 term 3 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 3 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {5980957133369086944 1 10} {4196633171285346178 1 11} {3274146170960481031 1 12} {3346146043683858875 1 13} {493923574745696497 1 14} {1012273656959814377 1 15} {2924387577345223528 1 16}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {5980957133369086944 1 10} {4196633171285346178 1 11} {3274146170960481031 1 12} {3346146043683858875 1 13} {493923574745696497 1 14} {1012273656959814377 1 15} {2924387577345223528 1 16}]
------------------------------------------------------
term 3 server 0 not vote for server 1, 任期不够新
term 3 server 1 get outdate rpc reply from server 0
flag 6399 term 3 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 71236 term 3 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 3 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {5980957133369086944 1 10} {4196633171285346178 1 11} {3274146170960481031 1 12} {3346146043683858875 1 13} {493923574745696497 1 14} {1012273656959814377 1 15} {2924387577345223528 1 16}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {5980957133369086944 1 10} {4196633171285346178 1 11} {3274146170960481031 1 12} {3346146043683858875 1 13} {493923574745696497 1 14} {1012273656959814377 1 15} {2924387577345223528 1 16}]
------------------------------------------------------
flag 83974 term 3 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 86886 term 3 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 3 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {5980957133369086944 1 10} {4196633171285346178 1 11} {3274146170960481031 1 12} {3346146043683858875 1 13} {493923574745696497 1 14} {1012273656959814377 1 15} {2924387577345223528 1 16}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {5980957133369086944 1 10} {4196633171285346178 1 11} {3274146170960481031 1 12} {3346146043683858875 1 13} {493923574745696497 1 14} {1012273656959814377 1 15} {2924387577345223528 1 16}]
------------------------------------------------------
flag 33071 term 3 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 86746 term 3 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 3 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {5980957133369086944 1 10} {4196633171285346178 1 11} {3274146170960481031 1 12} {3346146043683858875 1 13} {493923574745696497 1 14} {1012273656959814377 1 15} {2924387577345223528 1 16}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {5980957133369086944 1 10} {4196633171285346178 1 11} {3274146170960481031 1 12} {3346146043683858875 1 13} {493923574745696497 1 14} {1012273656959814377 1 15} {2924387577345223528 1 16}]
------------------------------------------------------
flag 12759 term 3 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 55735 term 3 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 3 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {5980957133369086944 1 10} {4196633171285346178 1 11} {3274146170960481031 1 12} {3346146043683858875 1 13} {493923574745696497 1 14} {1012273656959814377 1 15} {2924387577345223528 1 16}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {5980957133369086944 1 10} {4196633171285346178 1 11} {3274146170960481031 1 12} {3346146043683858875 1 13} {493923574745696497 1 14} {1012273656959814377 1 15} {2924387577345223528 1 16}]
------------------------------------------------------
flag 68557 term 3 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 49431 term 3 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 3 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {5980957133369086944 1 10} {4196633171285346178 1 11} {3274146170960481031 1 12} {3346146043683858875 1 13} {493923574745696497 1 14} {1012273656959814377 1 15} {2924387577345223528 1 16}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {5980957133369086944 1 10} {4196633171285346178 1 11} {3274146170960481031 1 12} {3346146043683858875 1 13} {493923574745696497 1 14} {1012273656959814377 1 15} {2924387577345223528 1 16}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 12928 term 3 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 31715 term 3 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 3 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 15850 term 3 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 8026 term 3 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 3 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 95001 term 3 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 15047 term 3 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 3 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 4 server 1 vote for server 2
term 4 server 2 get vote from server 1
term 4 server 2 become leader
------------------------------------------------------
flag 35142 term 4 leader 2 nextIndex[0]: 17  matchIndex[0]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 63986 term 4 leader 2 nextIndex[1]: 17  matchIndex[1]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {5980957133369086944 1 10} {4196633171285346178 1 11} {3274146170960481031 1 12} {3346146043683858875 1 13} {493923574745696497 1 14} {1012273656959814377 1 15} {2924387577345223528 1 16}]
------------------------------------------------------
client write log 4247575125790697388 (index 17) to leader 2
flag 4403 term 3 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 16815 term 3 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 3 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 30120 term 4 leader 2 nextIndex[0]: 17  matchIndex[0]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 46152 term 4 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 4 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {5980957133369086944 1 10} {4196633171285346178 1 11} {3274146170960481031 1 12} {3346146043683858875 1 13} {493923574745696497 1 14} {1012273656959814377 1 15} {2924387577345223528 1 16} {4247575125790697388 4 17}]
------------------------------------------------------
flag 25302 term 3 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 54889 term 3 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 3 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 97439 term 4 leader 2 nextIndex[0]: 17  matchIndex[0]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 38061 term 4 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 4 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {5980957133369086944 1 10} {4196633171285346178 1 11} {3274146170960481031 1 12} {3346146043683858875 1 13} {493923574745696497 1 14} {1012273656959814377 1 15} {2924387577345223528 1 16} {4247575125790697388 4 17}]
------------------------------------------------------
flag 30369 term 3 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 69267 term 3 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 3 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
client write log 8879147603083877583 (index 18) to leader 2
flag 4748 term 4 leader 2 nextIndex[0]: 17  matchIndex[0]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 69167 term 4 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 4 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {5980957133369086944 1 10} {4196633171285346178 1 11} {3274146170960481031 1 12} {3346146043683858875 1 13} {493923574745696497 1 14} {1012273656959814377 1 15} {2924387577345223528 1 16} {4247575125790697388 4 17} {8879147603083877583 4 18}]
------------------------------------------------------
flag 27277 term 3 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 10353 term 3 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 3 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 41733 term 4 leader 2 nextIndex[0]: 17  matchIndex[0]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 18 
------------------------------------------------------
flag 35106 term 4 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 4 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {5980957133369086944 1 10} {4196633171285346178 1 11} {3274146170960481031 1 12} {3346146043683858875 1 13} {493923574745696497 1 14} {1012273656959814377 1 15} {2924387577345223528 1 16} {4247575125790697388 4 17} {8879147603083877583 4 18}]
------------------------------------------------------
!!!!!!connect server 0
client write log 6767216986041520333 (index 19) to leader 2
flag 3355 term 3 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 12993 term 3 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 3 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 4 server 2 AppendEntries false 领导者任期过期 args.Term 3
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 4 server 1 AppendEntries false 领导者任期过期 args.Term 3
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 797 term 4 leader 2 nextIndex[0]: 17  matchIndex[0]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 18 
------------------------------------------------------
flag 17310 term 4 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 4 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 4 leaderCommit: 18 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:18 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 1 9} {5980957133369086944 1 10} {4196633171285346178 1 11} {3274146170960481031 1 12} {3346146043683858875 1 13} {493923574745696497 1 14} {1012273656959814377 1 15} {2924387577345223528 1 16} {4247575125790697388 4 17} {8879147603083877583 4 18} {6767216986041520333 4 19}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 1 9} {5980957133369086944 1 10} {4196633171285346178 1 11} {3274146170960481031 1 12} {3346146043683858875 1 13} {493923574745696497 1 14} {1012273656959814377 1 15} {2924387577345223528 1 16} {4247575125790697388 4 17} {8879147603083877583 4 18} {6767216986041520333 4 19}]
------------------------------------------------------
term 4 Server2 start snapshot! index=19
term 4 server2 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
flag 57982 term 4 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
flag 99264 term 4 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
term 4 Server0 start snapshot! index=19
term 4 server0 snapshot success
term 4 Server1 start snapshot! index=19
term 4 server1 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
flag 10518 term 4 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
flag 99151 term 4 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
term 4 server 2 not vote for server 1, 任期不够新
term 4 server 1 get outdate rpc reply from server 2
flag 64348 term 4 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
flag 50271 term 4 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
term 4 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 79931 term 4 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
flag 78607 term 4 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 20->19
------------------------------------------------------
term 4 leader 2 nextIndex[0]: 0  matchIndex[0]: 19
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
flag 85835 term 4 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
term 4 server 0 InstallSnapshot fail
rf.commitIndex 19 args.LastIncludedIndex 19
------------------------------------------------------
term 4 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 20 matchIndex[0] 19 
------------------------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 366009164566393018 (index 20) to leader 2
flag 40462 term 4 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
flag 68385 term 4 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=21
update matchIndex[1]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {366009164566393018 4 20}]
------------------------------------------------------
flag 6775 term 4 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
flag 12881 term 4 leader 2 nextIndex[1]: 21  matchIndex[1]: 20
term 4 leader 2 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=21
update matchIndex[1]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {366009164566393018 4 20}]
------------------------------------------------------
client write log 4697767935939890177 (index 21) to leader 2
client write log 5862950350072029377 (index 22) to leader 2
client write log 7693831008680429801 (index 23) to leader 2
client write log 7997335440669882547 (index 24) to leader 2
client write log 118561434855328412 (index 25) to leader 2
client write log 4099433946217470235 (index 26) to leader 2
client write log 4758083320283028577 (index 27) to leader 2
client write log 5275324746564177259 (index 28) to leader 2
client write log 4872204444323152552 (index 29) to leader 2
client write log 164363633071346054 (index 30) to leader 2
client write log 5872577489164043434 (index 31) to leader 2
client write log 3944812012149564321 (index 32) to leader 2
client write log 6855295185597914958 (index 33) to leader 2
client write log 361705030170150598 (index 34) to leader 2
client write log 2541386080052290286 (index 35) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47274 term 4 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
flag 53188 term 4 leader 2 nextIndex[1]: 21  matchIndex[1]: 20
term 4 leader 2 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 19} {366009164566393018 4 20} {4697767935939890177 4 21} {5862950350072029377 4 22} {7693831008680429801 4 23} {7997335440669882547 4 24} {118561434855328412 4 25} {4099433946217470235 4 26} {4758083320283028577 4 27} {5275324746564177259 4 28} {4872204444323152552 4 29} {164363633071346054 4 30} {5872577489164043434 4 31} {3944812012149564321 4 32} {6855295185597914958 4 33} {361705030170150598 4 34} {2541386080052290286 4 35}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 4 Server2 start snapshot! index=29
term 4 server2 snapshot success
lastIncludedIndex=29 lastApplied=30 lastIndex=35
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 4 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
flag 39814 term 4 leader 2 nextIndex[1]: 36  matchIndex[1]: 35
term 4 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {164363633071346054 4 30} {5872577489164043434 4 31} {3944812012149564321 4 32} {6855295185597914958 4 33} {361705030170150598 4 34} {2541386080052290286 4 35}]
------------------------------------------------------
term 4 Server1 start snapshot! index=29
term 4 server1 snapshot success
lastIncludedIndex=29 lastApplied=30 lastIndex=35
-------------------------------------------------------------
!!!!!!connect server 0
client write log 8926363070762818051 (index 36) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 4 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
flag 54823 term 4 leader 2 nextIndex[1]: 36  matchIndex[1]: 35
term 4 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {164363633071346054 4 30} {5872577489164043434 4 31} {3944812012149564321 4 32} {6855295185597914958 4 33} {361705030170150598 4 34} {2541386080052290286 4 35} {8926363070762818051 4 36}]
------------------------------------------------------
term 5 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 4 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 6 server 1 vote for server 2
term 6 server 0 vote for server 2
term 6 server 2 get vote from server 1
term 6 server 2 become leader
------------------------------------------------------
term 6 server 2 get outdate rpc reply from server 0
flag 69579 term 6 leader 2 nextIndex[0]: 37  matchIndex[0]: 0
term 6 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 1033 term 6 leader 2 nextIndex[1]: 37  matchIndex[1]: 0
term 6 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
term 6 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {164363633071346054 4 30} {5872577489164043434 4 31} {3944812012149564321 4 32} {6855295185597914958 4 33} {361705030170150598 4 34} {2541386080052290286 4 35} {8926363070762818051 4 36}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 37->36
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 6 leader 2 nextIndex[0]: 20  matchIndex[0]: 0
term 6 leader 2 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
flag 49931 term 6 leader 2 nextIndex[1]: 37  matchIndex[1]: 36
term 6 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 6 server 0 InstallSnapshot success
------------------------------------------------------
term 6 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 30 matchIndex[0] 29 
------------------------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {164363633071346054 4 30} {5872577489164043434 4 31} {3944812012149564321 4 32} {6855295185597914958 4 33} {361705030170150598 4 34} {2541386080052290286 4 35} {8926363070762818051 4 36}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 29 rf.lastIncludedTerm 4 rf.commitIndex 29 rf.lastApplied 29
flag 93986 term 6 leader 2 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 2 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 23506 term 6 leader 2 nextIndex[1]: 37  matchIndex[1]: 36
term 6 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {164363633071346054 4 30} {5872577489164043434 4 31} {3944812012149564321 4 32} {6855295185597914958 4 33} {361705030170150598 4 34} {2541386080052290286 4 35} {8926363070762818051 4 36}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=37
update matchIndex[0]=36
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {164363633071346054 4 30} {5872577489164043434 4 31} {3944812012149564321 4 32} {6855295185597914958 4 33} {361705030170150598 4 34} {2541386080052290286 4 35} {8926363070762818051 4 36}]
------------------------------------------------------
flag 75488 term 6 leader 2 nextIndex[0]: 37  matchIndex[0]: 36
term 6 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 69318 term 6 leader 2 nextIndex[1]: 37  matchIndex[1]: 36
term 6 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {164363633071346054 4 30} {5872577489164043434 4 31} {3944812012149564321 4 32} {6855295185597914958 4 33} {361705030170150598 4 34} {2541386080052290286 4 35} {8926363070762818051 4 36}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=37
update matchIndex[0]=36
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {164363633071346054 4 30} {5872577489164043434 4 31} {3944812012149564321 4 32} {6855295185597914958 4 33} {361705030170150598 4 34} {2541386080052290286 4 35} {8926363070762818051 4 36}]
------------------------------------------------------
flag 20477 term 6 leader 2 nextIndex[0]: 37  matchIndex[0]: 36
term 6 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 93871 term 6 leader 2 nextIndex[1]: 37  matchIndex[1]: 36
term 6 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {164363633071346054 4 30} {5872577489164043434 4 31} {3944812012149564321 4 32} {6855295185597914958 4 33} {361705030170150598 4 34} {2541386080052290286 4 35} {8926363070762818051 4 36}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=37
update matchIndex[0]=36
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {164363633071346054 4 30} {5872577489164043434 4 31} {3944812012149564321 4 32} {6855295185597914958 4 33} {361705030170150598 4 34} {2541386080052290286 4 35} {8926363070762818051 4 36}]
------------------------------------------------------
flag 21606 term 6 leader 2 nextIndex[0]: 37  matchIndex[0]: 36
term 6 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 5991 term 6 leader 2 nextIndex[1]: 37  matchIndex[1]: 36
term 6 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {164363633071346054 4 30} {5872577489164043434 4 31} {3944812012149564321 4 32} {6855295185597914958 4 33} {361705030170150598 4 34} {2541386080052290286 4 35} {8926363070762818051 4 36}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=37
update matchIndex[0]=36
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {164363633071346054 4 30} {5872577489164043434 4 31} {3944812012149564321 4 32} {6855295185597914958 4 33} {361705030170150598 4 34} {2541386080052290286 4 35} {8926363070762818051 4 36}]
------------------------------------------------------
flag 11636 term 6 leader 2 nextIndex[0]: 37  matchIndex[0]: 36
term 6 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 15972 term 6 leader 2 nextIndex[1]: 37  matchIndex[1]: 36
term 6 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=37
update matchIndex[0]=36
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {164363633071346054 4 30} {5872577489164043434 4 31} {3944812012149564321 4 32} {6855295185597914958 4 33} {361705030170150598 4 34} {2541386080052290286 4 35} {8926363070762818051 4 36}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {164363633071346054 4 30} {5872577489164043434 4 31} {3944812012149564321 4 32} {6855295185597914958 4 33} {361705030170150598 4 34} {2541386080052290286 4 35} {8926363070762818051 4 36}]
------------------------------------------------------
flag 65720 term 6 leader 2 nextIndex[0]: 37  matchIndex[0]: 36
term 6 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 18745 term 6 leader 2 nextIndex[1]: 37  matchIndex[1]: 36
term 6 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=37
update matchIndex[0]=36
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {164363633071346054 4 30} {5872577489164043434 4 31} {3944812012149564321 4 32} {6855295185597914958 4 33} {361705030170150598 4 34} {2541386080052290286 4 35} {8926363070762818051 4 36}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {164363633071346054 4 30} {5872577489164043434 4 31} {3944812012149564321 4 32} {6855295185597914958 4 33} {361705030170150598 4 34} {2541386080052290286 4 35} {8926363070762818051 4 36}]
------------------------------------------------------
flag 11640 term 6 leader 2 nextIndex[0]: 37  matchIndex[0]: 36
term 6 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 98973 term 6 leader 2 nextIndex[1]: 37  matchIndex[1]: 36
term 6 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {164363633071346054 4 30} {5872577489164043434 4 31} {3944812012149564321 4 32} {6855295185597914958 4 33} {361705030170150598 4 34} {2541386080052290286 4 35} {8926363070762818051 4 36}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=37
update matchIndex[0]=36
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {164363633071346054 4 30} {5872577489164043434 4 31} {3944812012149564321 4 32} {6855295185597914958 4 33} {361705030170150598 4 34} {2541386080052290286 4 35} {8926363070762818051 4 36}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 2411648745034582943 (index 37) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47277 term 6 leader 2 nextIndex[0]: 37  matchIndex[0]: 36
term 6 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 39730 term 6 leader 2 nextIndex[1]: 37  matchIndex[1]: 36
term 6 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {164363633071346054 4 30} {5872577489164043434 4 31} {3944812012149564321 4 32} {6855295185597914958 4 33} {361705030170150598 4 34} {2541386080052290286 4 35} {8926363070762818051 4 36} {2411648745034582943 6 37}]
------------------------------------------------------
flag 1611 term 6 leader 2 nextIndex[0]: 37  matchIndex[0]: 36
term 6 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
flag 27208 term 6 leader 2 nextIndex[1]: 38  matchIndex[1]: 37
term 6 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {164363633071346054 4 30} {5872577489164043434 4 31} {3944812012149564321 4 32} {6855295185597914958 4 33} {361705030170150598 4 34} {2541386080052290286 4 35} {8926363070762818051 4 36} {2411648745034582943 6 37}]
------------------------------------------------------
client write log 7700653347030315403 (index 38) to leader 2
client write log 4965858593684459327 (index 39) to leader 2
client write log 4686662188993632180 (index 40) to leader 2
client write log 1741261173822849049 (index 41) to leader 2
client write log 6513292898225952526 (index 42) to leader 2
client write log 2634936491329718486 (index 43) to leader 2
client write log 2789900677034879381 (index 44) to leader 2
client write log 8970921103538807264 (index 45) to leader 2
client write log 5441979432504132962 (index 46) to leader 2
client write log 6054679069801414935 (index 47) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21748 term 6 leader 2 nextIndex[0]: 37  matchIndex[0]: 36
term 6 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
flag 27913 term 6 leader 2 nextIndex[1]: 38  matchIndex[1]: 37
term 6 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 6 leaderCommit: 37 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=47
leader log:
[{snapshot 4 29} {164363633071346054 4 30} {5872577489164043434 4 31} {3944812012149564321 4 32} {6855295185597914958 4 33} {361705030170150598 4 34} {2541386080052290286 4 35} {8926363070762818051 4 36} {2411648745034582943 6 37} {7700653347030315403 6 38} {4965858593684459327 6 39} {4686662188993632180 6 40} {1741261173822849049 6 41} {6513292898225952526 6 42} {2634936491329718486 6 43} {2789900677034879381 6 44} {8970921103538807264 6 45} {5441979432504132962 6 46} {6054679069801414935 6 47}]
------------------------------------------------------
term 6 Server2 start snapshot! index=39
term 6 server2 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=47
-------------------------------------------------------------
term 6 leader 2 nextIndex[0]: 37  matchIndex[0]: 36
term 6 leader 2 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 28412 term 6 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
term 6 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {4686662188993632180 6 40} {1741261173822849049 6 41} {6513292898225952526 6 42} {2634936491329718486 6 43} {2789900677034879381 6 44} {8970921103538807264 6 45} {5441979432504132962 6 46} {6054679069801414935 6 47}]
------------------------------------------------------
term 6 Server1 start snapshot! index=39
term 6 server1 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=47
-------------------------------------------------------------
!!!!!!connect server 0
client write log 7846843752049704176 (index 48) to leader 2
term 6 server 2 not vote for server 0, 日志不够新
term 6 server 1 not vote for server 0, 日志不够新
term 8 server 1 vote for server 2
term 8 server 0 vote for server 2
term 8 server 2 get vote from server 1
term 8 server 2 become leader
------------------------------------------------------
term 8 server 2 get outdate rpc reply from server 0
flag 82063 term 8 leader 2 nextIndex[0]: 49  matchIndex[0]: 0
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
flag 48335 term 8 leader 2 nextIndex[1]: 49  matchIndex[1]: 0
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 8 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 8 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 49->48
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 49->48
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 8 leader 2 nextIndex[0]: 37  matchIndex[0]: 0
term 8 leader 2 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 92888 term 8 leader 2 nextIndex[1]: 48  matchIndex[1]: 0
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=47
leader log:
term 8 server 0 InstallSnapshot success
------------------------------------------------------
[{snapshot 6 39} {4686662188993632180 6 40} {1741261173822849049 6 41} {6513292898225952526 6 42} {2634936491329718486 6 43} {2789900677034879381 6 44} {8970921103538807264 6 45} {5441979432504132962 6 46} {6054679069801414935 6 47} {7846843752049704176 6 48}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 39 rf.lastIncludedTerm 6 rf.commitIndex 39 rf.lastApplied 39
term 8 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 40 matchIndex[0] 39 
------------------------------------------------------------------------
flag 33403 term 8 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
flag 1007 term 8 leader 2 nextIndex[1]: 49  matchIndex[1]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {4686662188993632180 6 40} {1741261173822849049 6 41} {6513292898225952526 6 42} {2634936491329718486 6 43} {2789900677034879381 6 44} {8970921103538807264 6 45} {5441979432504132962 6 46} {6054679069801414935 6 47} {7846843752049704176 6 48}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {4686662188993632180 6 40} {1741261173822849049 6 41} {6513292898225952526 6 42} {2634936491329718486 6 43} {2789900677034879381 6 44} {8970921103538807264 6 45} {5441979432504132962 6 46} {6054679069801414935 6 47} {7846843752049704176 6 48}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 8 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 41722 term 8 leader 2 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
flag 50087 term 8 leader 2 nextIndex[1]: 49  matchIndex[1]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {4686662188993632180 6 40} {1741261173822849049 6 41} {6513292898225952526 6 42} {2634936491329718486 6 43} {2789900677034879381 6 44} {8970921103538807264 6 45} {5441979432504132962 6 46} {6054679069801414935 6 47} {7846843752049704176 6 48}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {4686662188993632180 6 40} {1741261173822849049 6 41} {6513292898225952526 6 42} {2634936491329718486 6 43} {2789900677034879381 6 44} {8970921103538807264 6 45} {5441979432504132962 6 46} {6054679069801414935 6 47} {7846843752049704176 6 48}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61762 term 8 leader 2 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
flag 21630 term 8 leader 2 nextIndex[1]: 49  matchIndex[1]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {4686662188993632180 6 40} {1741261173822849049 6 41} {6513292898225952526 6 42} {2634936491329718486 6 43} {2789900677034879381 6 44} {8970921103538807264 6 45} {5441979432504132962 6 46} {6054679069801414935 6 47} {7846843752049704176 6 48}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {4686662188993632180 6 40} {1741261173822849049 6 41} {6513292898225952526 6 42} {2634936491329718486 6 43} {2789900677034879381 6 44} {8970921103538807264 6 45} {5441979432504132962 6 46} {6054679069801414935 6 47} {7846843752049704176 6 48}]
------------------------------------------------------
flag 96407 term 8 leader 2 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
flag 48967 term 8 leader 2 nextIndex[1]: 49  matchIndex[1]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:47 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {4686662188993632180 6 40} {1741261173822849049 6 41} {6513292898225952526 6 42} {2634936491329718486 6 43} {2789900677034879381 6 44} {8970921103538807264 6 45} {5441979432504132962 6 46} {6054679069801414935 6 47} {7846843752049704176 6 48}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {4686662188993632180 6 40} {1741261173822849049 6 41} {6513292898225952526 6 42} {2634936491329718486 6 43} {2789900677034879381 6 44} {8970921103538807264 6 45} {5441979432504132962 6 46} {6054679069801414935 6 47} {7846843752049704176 6 48}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 422 term 8 leader 2 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
flag 14209 term 8 leader 2 nextIndex[1]: 49  matchIndex[1]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {4686662188993632180 6 40} {1741261173822849049 6 41} {6513292898225952526 6 42} {2634936491329718486 6 43} {2789900677034879381 6 44} {8970921103538807264 6 45} {5441979432504132962 6 46} {6054679069801414935 6 47} {7846843752049704176 6 48}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {4686662188993632180 6 40} {1741261173822849049 6 41} {6513292898225952526 6 42} {2634936491329718486 6 43} {2789900677034879381 6 44} {8970921103538807264 6 45} {5441979432504132962 6 46} {6054679069801414935 6 47} {7846843752049704176 6 48}]
------------------------------------------------------
flag 18604 term 8 leader 2 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
flag 58016 term 8 leader 2 nextIndex[1]: 49  matchIndex[1]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {4686662188993632180 6 40} {1741261173822849049 6 41} {6513292898225952526 6 42} {2634936491329718486 6 43} {2789900677034879381 6 44} {8970921103538807264 6 45} {5441979432504132962 6 46} {6054679069801414935 6 47} {7846843752049704176 6 48}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {4686662188993632180 6 40} {1741261173822849049 6 41} {6513292898225952526 6 42} {2634936491329718486 6 43} {2789900677034879381 6 44} {8970921103538807264 6 45} {5441979432504132962 6 46} {6054679069801414935 6 47} {7846843752049704176 6 48}]
------------------------------------------------------
flag 94816 term 8 leader 2 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
flag 38744 term 8 leader 2 nextIndex[1]: 49  matchIndex[1]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {4686662188993632180 6 40} {1741261173822849049 6 41} {6513292898225952526 6 42} {2634936491329718486 6 43} {2789900677034879381 6 44} {8970921103538807264 6 45} {5441979432504132962 6 46} {6054679069801414935 6 47} {7846843752049704176 6 48}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {4686662188993632180 6 40} {1741261173822849049 6 41} {6513292898225952526 6 42} {2634936491329718486 6 43} {2789900677034879381 6 44} {8970921103538807264 6 45} {5441979432504132962 6 46} {6054679069801414935 6 47} {7846843752049704176 6 48}]
------------------------------------------------------
flag 36536 term 8 leader 2 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
flag 5718 term 8 leader 2 nextIndex[1]: 49  matchIndex[1]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:47 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {4686662188993632180 6 40} {1741261173822849049 6 41} {6513292898225952526 6 42} {2634936491329718486 6 43} {2789900677034879381 6 44} {8970921103538807264 6 45} {5441979432504132962 6 46} {6054679069801414935 6 47} {7846843752049704176 6 48}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {4686662188993632180 6 40} {1741261173822849049 6 41} {6513292898225952526 6 42} {2634936491329718486 6 43} {2789900677034879381 6 44} {8970921103538807264 6 45} {5441979432504132962 6 46} {6054679069801414935 6 47} {7846843752049704176 6 48}]
------------------------------------------------------
term 8 server 0 not vote for server 2, 任期不够新
term 8 server 2 get outdate rpc reply from server 0
flag 196 term 8 leader 2 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
flag 89055 term 8 leader 2 nextIndex[1]: 49  matchIndex[1]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {4686662188993632180 6 40} {1741261173822849049 6 41} {6513292898225952526 6 42} {2634936491329718486 6 43} {2789900677034879381 6 44} {8970921103538807264 6 45} {5441979432504132962 6 46} {6054679069801414935 6 47} {7846843752049704176 6 48}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {4686662188993632180 6 40} {1741261173822849049 6 41} {6513292898225952526 6 42} {2634936491329718486 6 43} {2789900677034879381 6 44} {8970921103538807264 6 45} {5441979432504132962 6 46} {6054679069801414935 6 47} {7846843752049704176 6 48}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3318 term 8 leader 2 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
flag 64608 term 8 leader 2 nextIndex[1]: 49  matchIndex[1]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {4686662188993632180 6 40} {1741261173822849049 6 41} {6513292898225952526 6 42} {2634936491329718486 6 43} {2789900677034879381 6 44} {8970921103538807264 6 45} {5441979432504132962 6 46} {6054679069801414935 6 47} {7846843752049704176 6 48}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {4686662188993632180 6 40} {1741261173822849049 6 41} {6513292898225952526 6 42} {2634936491329718486 6 43} {2789900677034879381 6 44} {8970921103538807264 6 45} {5441979432504132962 6 46} {6054679069801414935 6 47} {7846843752049704176 6 48}]
------------------------------------------------------
flag 70777 term 8 leader 2 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
flag 17563 term 8 leader 2 nextIndex[1]: 49  matchIndex[1]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {4686662188993632180 6 40} {1741261173822849049 6 41} {6513292898225952526 6 42} {2634936491329718486 6 43} {2789900677034879381 6 44} {8970921103538807264 6 45} {5441979432504132962 6 46} {6054679069801414935 6 47} {7846843752049704176 6 48}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {4686662188993632180 6 40} {1741261173822849049 6 41} {6513292898225952526 6 42} {2634936491329718486 6 43} {2789900677034879381 6 44} {8970921103538807264 6 45} {5441979432504132962 6 46} {6054679069801414935 6 47} {7846843752049704176 6 48}]
------------------------------------------------------
flag 73575 term 8 leader 2 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
flag 29147 term 8 leader 2 nextIndex[1]: 49  matchIndex[1]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {4686662188993632180 6 40} {1741261173822849049 6 41} {6513292898225952526 6 42} {2634936491329718486 6 43} {2789900677034879381 6 44} {8970921103538807264 6 45} {5441979432504132962 6 46} {6054679069801414935 6 47} {7846843752049704176 6 48}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {4686662188993632180 6 40} {1741261173822849049 6 41} {6513292898225952526 6 42} {2634936491329718486 6 43} {2789900677034879381 6 44} {8970921103538807264 6 45} {5441979432504132962 6 46} {6054679069801414935 6 47} {7846843752049704176 6 48}]
------------------------------------------------------
flag 18373 term 8 leader 2 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
flag 37233 term 8 leader 2 nextIndex[1]: 49  matchIndex[1]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=47
leader log:
term 8 server 0 AppendEntries true commitIndex:47 
------------------------------------------------------
[{snapshot 6 39} {4686662188993632180 6 40} {1741261173822849049 6 41} {6513292898225952526 6 42} {2634936491329718486 6 43} {2789900677034879381 6 44} {8970921103538807264 6 45} {5441979432504132962 6 46} {6054679069801414935 6 47} {7846843752049704176 6 48}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {4686662188993632180 6 40} {1741261173822849049 6 41} {6513292898225952526 6 42} {2634936491329718486 6 43} {2789900677034879381 6 44} {8970921103538807264 6 45} {5441979432504132962 6 46} {6054679069801414935 6 47} {7846843752049704176 6 48}]
------------------------------------------------------
flag 16420 term 8 leader 2 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
flag 69943 term 8 leader 2 nextIndex[1]: 49  matchIndex[1]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {4686662188993632180 6 40} {1741261173822849049 6 41} {6513292898225952526 6 42} {2634936491329718486 6 43} {2789900677034879381 6 44} {8970921103538807264 6 45} {5441979432504132962 6 46} {6054679069801414935 6 47} {7846843752049704176 6 48}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {4686662188993632180 6 40} {1741261173822849049 6 41} {6513292898225952526 6 42} {2634936491329718486 6 43} {2789900677034879381 6 44} {8970921103538807264 6 45} {5441979432504132962 6 46} {6054679069801414935 6 47} {7846843752049704176 6 48}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23196 term 8 leader 2 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
flag 43948 term 8 leader 2 nextIndex[1]: 49  matchIndex[1]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {4686662188993632180 6 40} {1741261173822849049 6 41} {6513292898225952526 6 42} {2634936491329718486 6 43} {2789900677034879381 6 44} {8970921103538807264 6 45} {5441979432504132962 6 46} {6054679069801414935 6 47} {7846843752049704176 6 48}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {4686662188993632180 6 40} {1741261173822849049 6 41} {6513292898225952526 6 42} {2634936491329718486 6 43} {2789900677034879381 6 44} {8970921103538807264 6 45} {5441979432504132962 6 46} {6054679069801414935 6 47} {7846843752049704176 6 48}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3408 term 8 leader 2 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
flag 13907 term 8 leader 2 nextIndex[1]: 49  matchIndex[1]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {4686662188993632180 6 40} {1741261173822849049 6 41} {6513292898225952526 6 42} {2634936491329718486 6 43} {2789900677034879381 6 44} {8970921103538807264 6 45} {5441979432504132962 6 46} {6054679069801414935 6 47} {7846843752049704176 6 48}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {4686662188993632180 6 40} {1741261173822849049 6 41} {6513292898225952526 6 42} {2634936491329718486 6 43} {2789900677034879381 6 44} {8970921103538807264 6 45} {5441979432504132962 6 46} {6054679069801414935 6 47} {7846843752049704176 6 48}]
------------------------------------------------------
flag 19078 term 8 leader 2 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
flag 80683 term 8 leader 2 nextIndex[1]: 49  matchIndex[1]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {4686662188993632180 6 40} {1741261173822849049 6 41} {6513292898225952526 6 42} {2634936491329718486 6 43} {2789900677034879381 6 44} {8970921103538807264 6 45} {5441979432504132962 6 46} {6054679069801414935 6 47} {7846843752049704176 6 48}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {4686662188993632180 6 40} {1741261173822849049 6 41} {6513292898225952526 6 42} {2634936491329718486 6 43} {2789900677034879381 6 44} {8970921103538807264 6 45} {5441979432504132962 6 46} {6054679069801414935 6 47} {7846843752049704176 6 48}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 7846843752049704176 (index 49) to leader 2
flag 4994 term 8 leader 2 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
flag 67044 term 8 leader 2 nextIndex[1]: 49  matchIndex[1]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=49
leader log:
[{snapshot 6 39} {4686662188993632180 6 40} {1741261173822849049 6 41} {6513292898225952526 6 42} {2634936491329718486 6 43} {2789900677034879381 6 44} {8970921103538807264 6 45} {5441979432504132962 6 46} {6054679069801414935 6 47} {7846843752049704176 6 48} {7846843752049704176 8 49}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=49
leader log:
[{snapshot 6 39} {4686662188993632180 6 40} {1741261173822849049 6 41} {6513292898225952526 6 42} {2634936491329718486 6 43} {2789900677034879381 6 44} {8970921103538807264 6 45} {5441979432504132962 6 46} {6054679069801414935 6 47} {7846843752049704176 6 48} {7846843752049704176 8 49}]
------------------------------------------------------
term 8 Server2 start snapshot! index=49
term 8 server2 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=49
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35570 term 8 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 8 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
flag 96163 term 8 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=49
leader log:
[{snapshot 8 49}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=49
leader log:
[{snapshot 8 49}]
------------------------------------------------------
term 8 Server0 start snapshot! index=49
term 8 server0 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=49
-------------------------------------------------------------
term 8 Server1 start snapshot! index=49
term 8 server1 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=49
-------------------------------------------------------------
flag 87992 term 8 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 8 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
flag 86527 term 8 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=49
leader log:
[{snapshot 8 49}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=49
leader log:
[{snapshot 8 49}]
------------------------------------------------------
flag 69070 term 8 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 8 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
flag 1264 term 8 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=49
leader log:
[{snapshot 8 49}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=49
leader log:
[{snapshot 8 49}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8437 term 8 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 8 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
flag 41882 term 8 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=49
leader log:
[{snapshot 8 49}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=49
leader log:
[{snapshot 8 49}]
------------------------------------------------------
flag 42545 term 8 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 8 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
flag 92042 term 8 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=49
leader log:
[{snapshot 8 49}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=49
leader log:
[{snapshot 8 49}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92155 term 8 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 8 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
flag 8608 term 8 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=49
leader log:
[{snapshot 8 49}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=49
leader log:
[{snapshot 8 49}]
------------------------------------------------------
!!!!!!diconnect server 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30243 term 8 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 8 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
flag 14351 term 8 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 8 server 1 not vote for server 0, 任期不够新
term 8 server 0 get outdate rpc reply from server 1
flag 13398 term 8 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 8 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
flag 22246 term 8 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95261 term 8 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 8 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
flag 24599 term 8 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 9 server 0 vote for server 1
term 9 server 1 get vote from server 0
term 9 server 1 become leader
------------------------------------------------------
flag 8303 term 9 leader 1 nextIndex[0]: 50  matchIndex[0]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
flag 74893 term 9 leader 1 nextIndex[2]: 50  matchIndex[2]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=49
leader log:
[{snapshot 8 49}]
------------------------------------------------------
flag 50720 term 8 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 8 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
flag 27566 term 8 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
client write log 4233179108945726848 (index 50) to leader 1
flag 48271 term 9 leader 1 nextIndex[0]: 50  matchIndex[0]: 49
term 9 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
flag 68761 term 9 leader 1 nextIndex[2]: 50  matchIndex[2]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=51
update matchIndex[0]=50
update leader CommitIndex=50
leader log:
[{snapshot 8 49} {4233179108945726848 9 50}]
------------------------------------------------------
flag 96843 term 8 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 8 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
flag 77785 term 8 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
flag 53605 term 9 leader 1 nextIndex[0]: 51  matchIndex[0]: 50
term 9 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
flag 35583 term 9 leader 1 nextIndex[2]: 50  matchIndex[2]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=51
update matchIndex[0]=50
update leader CommitIndex=50
leader log:
[{snapshot 8 49} {4233179108945726848 9 50}]
------------------------------------------------------
flag 48629 term 8 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 8 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
flag 72165 term 8 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
client write log 209570433420943151 (index 51) to leader 1
flag 56223 term 9 leader 1 nextIndex[0]: 51  matchIndex[0]: 50
term 9 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
flag 67402 term 9 leader 1 nextIndex[2]: 50  matchIndex[2]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=51
leader log:
[{snapshot 8 49} {4233179108945726848 9 50} {209570433420943151 9 51}]
------------------------------------------------------
flag 66604 term 8 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 8 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
flag 31099 term 8 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
flag 16335 term 9 leader 1 nextIndex[0]: 52  matchIndex[0]: 51
term 9 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
flag 34727 term 9 leader 1 nextIndex[2]: 50  matchIndex[2]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=51
leader log:
[{snapshot 8 49} {4233179108945726848 9 50} {209570433420943151 9 51}]
------------------------------------------------------
flag 43026 term 8 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 8 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
flag 97195 term 8 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 50->49
------------------------------------------------------
!!!!!!connect server 2
client write log 3449426419107846349 (index 52) to leader 1
flag 64233 term 9 leader 1 nextIndex[0]: 52  matchIndex[0]: 51
term 9 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
flag 67134 term 9 leader 1 nextIndex[2]: 50  matchIndex[2]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 8 49} {4233179108945726848 9 50} {209570433420943151 9 51} {3449426419107846349 9 52}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=52
leader log:
[{snapshot 8 49} {4233179108945726848 9 50} {209570433420943151 9 51} {3449426419107846349 9 52}]
------------------------------------------------------
flag 46400 term 9 leader 1 nextIndex[0]: 53  matchIndex[0]: 52
term 9 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
flag 36250 term 9 leader 1 nextIndex[2]: 53  matchIndex[2]: 52
term 9 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 8 49} {4233179108945726848 9 50} {209570433420943151 9 51} {3449426419107846349 9 52}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=52
leader log:
[{snapshot 8 49} {4233179108945726848 9 50} {209570433420943151 9 51} {3449426419107846349 9 52}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 53->52
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46712 term 9 leader 1 nextIndex[0]: 53  matchIndex[0]: 52
term 9 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
term 9 leader 1 nextIndex[2]: 0  matchIndex[2]: 52
term 9 leader 1 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 8
------------------------------------------------------
term 9 server 2 InstallSnapshot fail
rf.commitIndex 52 args.LastIncludedIndex 49
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
term 9 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 50 matchIndex[2] 49 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=52
leader log:
[{snapshot 8 49} {4233179108945726848 9 50} {209570433420943151 9 51} {3449426419107846349 9 52}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96356 term 9 leader 1 nextIndex[0]: 53  matchIndex[0]: 52
term 9 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
flag 47313 term 9 leader 1 nextIndex[2]: 50  matchIndex[2]: 49
term 9 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 52 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 8 49} {4233179108945726848 9 50} {209570433420943151 9 51} {3449426419107846349 9 52}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=52
leader log:
[{snapshot 8 49} {4233179108945726848 9 50} {209570433420943151 9 51} {3449426419107846349 9 52}]
------------------------------------------------------
flag 34866 term 9 leader 1 nextIndex[0]: 53  matchIndex[0]: 52
term 9 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
flag 94472 term 9 leader 1 nextIndex[2]: 53  matchIndex[2]: 52
term 9 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 8 49} {4233179108945726848 9 50} {209570433420943151 9 51} {3449426419107846349 9 52}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=52
leader log:
[{snapshot 8 49} {4233179108945726848 9 50} {209570433420943151 9 51} {3449426419107846349 9 52}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32874 term 9 leader 1 nextIndex[0]: 53  matchIndex[0]: 52
term 9 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
flag 63572 term 9 leader 1 nextIndex[2]: 53  matchIndex[2]: 52
term 9 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 8 49} {4233179108945726848 9 50} {209570433420943151 9 51} {3449426419107846349 9 52}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=52
leader log:
[{snapshot 8 49} {4233179108945726848 9 50} {209570433420943151 9 51} {3449426419107846349 9 52}]
------------------------------------------------------
flag 10577 term 9 leader 1 nextIndex[0]: 53  matchIndex[0]: 52
term 9 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
flag 40421 term 9 leader 1 nextIndex[2]: 53  matchIndex[2]: 52
term 9 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 8 49} {4233179108945726848 9 50} {209570433420943151 9 51} {3449426419107846349 9 52}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=52
leader log:
[{snapshot 8 49} {4233179108945726848 9 50} {209570433420943151 9 51} {3449426419107846349 9 52}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 6784405673445164485 (index 53) to leader 1
flag 59565 term 9 leader 1 nextIndex[0]: 53  matchIndex[0]: 52
term 9 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
flag 70815 term 9 leader 1 nextIndex[2]: 53  matchIndex[2]: 52
term 9 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {4233179108945726848 9 50} {209570433420943151 9 51} {3449426419107846349 9 52} {6784405673445164485 9 53}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 53->52
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23193 term 9 leader 1 nextIndex[0]: 54  matchIndex[0]: 53
term 9 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 9 leader 1 nextIndex[2]: 0  matchIndex[2]: 52
term 9 leader 1 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 8
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {4233179108945726848 9 50} {209570433420943151 9 51} {3449426419107846349 9 52} {6784405673445164485 9 53}]
------------------------------------------------------
client write log 1228024590595612429 (index 54) to leader 1
client write log 574249058415846931 (index 55) to leader 1
client write log 680201307409838601 (index 56) to leader 1
client write log 7726188886420254148 (index 57) to leader 1
client write log 4720343277189924926 (index 58) to leader 1
client write log 6593600658406994827 (index 59) to leader 1
client write log 1349575964683078362 (index 60) to leader 1
client write log 126754363183127549 (index 61) to leader 1
client write log 7363626324211447481 (index 62) to leader 1
client write log 430374134702764456 (index 63) to leader 1
client write log 3699200441114182890 (index 64) to leader 1
client write log 1795159974893611024 (index 65) to leader 1
client write log 8358418650867806291 (index 66) to leader 1
flag 69535 term 9 leader 1 nextIndex[0]: 54  matchIndex[0]: 53
term 9 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 9 leader 1 nextIndex[2]: 0  matchIndex[2]: 52
term 9 leader 1 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 8
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=67
update matchIndex[0]=66
update leader CommitIndex=66
leader log:
[{snapshot 8 49} {4233179108945726848 9 50} {209570433420943151 9 51} {3449426419107846349 9 52} {6784405673445164485 9 53} {1228024590595612429 9 54} {574249058415846931 9 55} {680201307409838601 9 56} {7726188886420254148 9 57} {4720343277189924926 9 58} {6593600658406994827 9 59} {1349575964683078362 9 60} {126754363183127549 9 61} {7363626324211447481 9 62} {430374134702764456 9 63} {3699200441114182890 9 64} {1795159974893611024 9 65} {8358418650867806291 9 66}]
------------------------------------------------------
term 9 Server1 start snapshot! index=59
term 9 server1 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=66
-------------------------------------------------------------
flag 46675 term 9 leader 1 nextIndex[0]: 67  matchIndex[0]: 66
term 9 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
term 9 leader 1 nextIndex[2]: 0  matchIndex[2]: 52
term 9 leader 1 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=67
update matchIndex[0]=66
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {1349575964683078362 9 60} {126754363183127549 9 61} {7363626324211447481 9 62} {430374134702764456 9 63} {3699200441114182890 9 64} {1795159974893611024 9 65} {8358418650867806291 9 66}]
------------------------------------------------------
term 9 Server0 start snapshot! index=59
term 9 server0 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=66
-------------------------------------------------------------
!!!!!!connect server 2
client write log 8964186562827404223 (index 67) to leader 1
term 9 server 1 not vote for server 2, 日志不够新
term 9 server 0 not vote for server 2, 日志不够新
term 10 server 2 not vote for server 0, 任期不够新
term 10 server 0 get outdate rpc reply from server 2
term 11 server 2 vote for server 1
term 11 server 0 vote for server 1
term 11 server 1 get vote from server 2
term 11 server 1 become leader
------------------------------------------------------
term 11 server 1 get outdate rpc reply from server 0
flag 20647 term 11 leader 1 nextIndex[0]: 68  matchIndex[0]: 0
term 11 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
flag 17936 term 11 leader 1 nextIndex[2]: 68  matchIndex[2]: 0
term 11 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
term 11 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 68->67
------------------------------------------------------
term 11 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 68->67
------------------------------------------------------
flag 66260 term 11 leader 1 nextIndex[0]: 67  matchIndex[0]: 0
term 11 leader 1 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
term 11 leader 1 nextIndex[2]: 53  matchIndex[2]: 0
term 11 leader 1 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 9
------------------------------------------------------
term 11 server 2 InstallSnapshot success
------------------------------------------------------
term 11 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 60 matchIndex[2] 59 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 59 rf.lastIncludedTerm 9 rf.commitIndex 59 rf.lastApplied 59
term 11 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {1349575964683078362 9 60} {126754363183127549 9 61} {7363626324211447481 9 62} {430374134702764456 9 63} {3699200441114182890 9 64} {1795159974893611024 9 65} {8358418650867806291 9 66} {8964186562827404223 9 67}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70751 term 11 leader 1 nextIndex[0]: 68  matchIndex[0]: 67
term 11 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
flag 57491 term 11 leader 1 nextIndex[2]: 60  matchIndex[2]: 59
term 11 leader 1 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {1349575964683078362 9 60} {126754363183127549 9 61} {7363626324211447481 9 62} {430374134702764456 9 63} {3699200441114182890 9 64} {1795159974893611024 9 65} {8358418650867806291 9 66} {8964186562827404223 9 67}]
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {1349575964683078362 9 60} {126754363183127549 9 61} {7363626324211447481 9 62} {430374134702764456 9 63} {3699200441114182890 9 64} {1795159974893611024 9 65} {8358418650867806291 9 66} {8964186562827404223 9 67}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85417 term 11 leader 1 nextIndex[0]: 68  matchIndex[0]: 67
term 11 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
flag 73487 term 11 leader 1 nextIndex[2]: 68  matchIndex[2]: 67
term 11 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {1349575964683078362 9 60} {126754363183127549 9 61} {7363626324211447481 9 62} {430374134702764456 9 63} {3699200441114182890 9 64} {1795159974893611024 9 65} {8358418650867806291 9 66} {8964186562827404223 9 67}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {1349575964683078362 9 60} {126754363183127549 9 61} {7363626324211447481 9 62} {430374134702764456 9 63} {3699200441114182890 9 64} {1795159974893611024 9 65} {8358418650867806291 9 66} {8964186562827404223 9 67}]
------------------------------------------------------
term 11 server 2 not vote for server 1, 任期不够新
term 11 server 1 get outdate rpc reply from server 2
flag 84960 term 11 leader 1 nextIndex[0]: 68  matchIndex[0]: 67
term 11 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
flag 50448 term 11 leader 1 nextIndex[2]: 68  matchIndex[2]: 67
term 11 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {1349575964683078362 9 60} {126754363183127549 9 61} {7363626324211447481 9 62} {430374134702764456 9 63} {3699200441114182890 9 64} {1795159974893611024 9 65} {8358418650867806291 9 66} {8964186562827404223 9 67}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {1349575964683078362 9 60} {126754363183127549 9 61} {7363626324211447481 9 62} {430374134702764456 9 63} {3699200441114182890 9 64} {1795159974893611024 9 65} {8358418650867806291 9 66} {8964186562827404223 9 67}]
------------------------------------------------------
flag 4795 term 11 leader 1 nextIndex[0]: 68  matchIndex[0]: 67
term 11 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
flag 10800 term 11 leader 1 nextIndex[2]: 68  matchIndex[2]: 67
term 11 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {1349575964683078362 9 60} {126754363183127549 9 61} {7363626324211447481 9 62} {430374134702764456 9 63} {3699200441114182890 9 64} {1795159974893611024 9 65} {8358418650867806291 9 66} {8964186562827404223 9 67}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {1349575964683078362 9 60} {126754363183127549 9 61} {7363626324211447481 9 62} {430374134702764456 9 63} {3699200441114182890 9 64} {1795159974893611024 9 65} {8358418650867806291 9 66} {8964186562827404223 9 67}]
------------------------------------------------------
flag 70735 term 11 leader 1 nextIndex[0]: 68  matchIndex[0]: 67
term 11 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
flag 95025 term 11 leader 1 nextIndex[2]: 68  matchIndex[2]: 67
term 11 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {1349575964683078362 9 60} {126754363183127549 9 61} {7363626324211447481 9 62} {430374134702764456 9 63} {3699200441114182890 9 64} {1795159974893611024 9 65} {8358418650867806291 9 66} {8964186562827404223 9 67}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {1349575964683078362 9 60} {126754363183127549 9 61} {7363626324211447481 9 62} {430374134702764456 9 63} {3699200441114182890 9 64} {1795159974893611024 9 65} {8358418650867806291 9 66} {8964186562827404223 9 67}]
------------------------------------------------------
flag 85203 term 11 leader 1 nextIndex[0]: 68  matchIndex[0]: 67
term 11 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
flag 24258 term 11 leader 1 nextIndex[2]: 68  matchIndex[2]: 67
term 11 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {1349575964683078362 9 60} {126754363183127549 9 61} {7363626324211447481 9 62} {430374134702764456 9 63} {3699200441114182890 9 64} {1795159974893611024 9 65} {8358418650867806291 9 66} {8964186562827404223 9 67}]
term 11 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {1349575964683078362 9 60} {126754363183127549 9 61} {7363626324211447481 9 62} {430374134702764456 9 63} {3699200441114182890 9 64} {1795159974893611024 9 65} {8358418650867806291 9 66} {8964186562827404223 9 67}]
------------------------------------------------------
flag 23837 term 11 leader 1 nextIndex[0]: 68  matchIndex[0]: 67
term 11 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
flag 50535 term 11 leader 1 nextIndex[2]: 68  matchIndex[2]: 67
term 11 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {1349575964683078362 9 60} {126754363183127549 9 61} {7363626324211447481 9 62} {430374134702764456 9 63} {3699200441114182890 9 64} {1795159974893611024 9 65} {8358418650867806291 9 66} {8964186562827404223 9 67}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {1349575964683078362 9 60} {126754363183127549 9 61} {7363626324211447481 9 62} {430374134702764456 9 63} {3699200441114182890 9 64} {1795159974893611024 9 65} {8358418650867806291 9 66} {8964186562827404223 9 67}]
------------------------------------------------------
flag 90524 term 11 leader 1 nextIndex[0]: 68  matchIndex[0]: 67
term 11 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
flag 44557 term 11 leader 1 nextIndex[2]: 68  matchIndex[2]: 67
term 11 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {1349575964683078362 9 60} {126754363183127549 9 61} {7363626324211447481 9 62} {430374134702764456 9 63} {3699200441114182890 9 64} {1795159974893611024 9 65} {8358418650867806291 9 66} {8964186562827404223 9 67}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {1349575964683078362 9 60} {126754363183127549 9 61} {7363626324211447481 9 62} {430374134702764456 9 63} {3699200441114182890 9 64} {1795159974893611024 9 65} {8358418650867806291 9 66} {8964186562827404223 9 67}]
------------------------------------------------------
flag 17980 term 11 leader 1 nextIndex[0]: 68  matchIndex[0]: 67
term 11 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
flag 1199 term 11 leader 1 nextIndex[2]: 68  matchIndex[2]: 67
term 11 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {1349575964683078362 9 60} {126754363183127549 9 61} {7363626324211447481 9 62} {430374134702764456 9 63} {3699200441114182890 9 64} {1795159974893611024 9 65} {8358418650867806291 9 66} {8964186562827404223 9 67}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {1349575964683078362 9 60} {126754363183127549 9 61} {7363626324211447481 9 62} {430374134702764456 9 63} {3699200441114182890 9 64} {1795159974893611024 9 65} {8358418650867806291 9 66} {8964186562827404223 9 67}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76660 term 11 leader 1 nextIndex[0]: 68  matchIndex[0]: 67
term 11 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
flag 70225 term 11 leader 1 nextIndex[2]: 68  matchIndex[2]: 67
term 11 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {1349575964683078362 9 60} {126754363183127549 9 61} {7363626324211447481 9 62} {430374134702764456 9 63} {3699200441114182890 9 64} {1795159974893611024 9 65} {8358418650867806291 9 66} {8964186562827404223 9 67}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {1349575964683078362 9 60} {126754363183127549 9 61} {7363626324211447481 9 62} {430374134702764456 9 63} {3699200441114182890 9 64} {1795159974893611024 9 65} {8358418650867806291 9 66} {8964186562827404223 9 67}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 11 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 42670 term 11 leader 1 nextIndex[0]: 68  matchIndex[0]: 67
term 11 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
flag 38370 term 11 leader 1 nextIndex[2]: 68  matchIndex[2]: 67
term 11 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {1349575964683078362 9 60} {126754363183127549 9 61} {7363626324211447481 9 62} {430374134702764456 9 63} {3699200441114182890 9 64} {1795159974893611024 9 65} {8358418650867806291 9 66} {8964186562827404223 9 67}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {1349575964683078362 9 60} {126754363183127549 9 61} {7363626324211447481 9 62} {430374134702764456 9 63} {3699200441114182890 9 64} {1795159974893611024 9 65} {8358418650867806291 9 66} {8964186562827404223 9 67}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77804 term 11 leader 1 nextIndex[0]: 68  matchIndex[0]: 67
term 11 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
flag 90353 term 11 leader 1 nextIndex[2]: 68  matchIndex[2]: 67
term 11 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {1349575964683078362 9 60} {126754363183127549 9 61} {7363626324211447481 9 62} {430374134702764456 9 63} {3699200441114182890 9 64} {1795159974893611024 9 65} {8358418650867806291 9 66} {8964186562827404223 9 67}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {1349575964683078362 9 60} {126754363183127549 9 61} {7363626324211447481 9 62} {430374134702764456 9 63} {3699200441114182890 9 64} {1795159974893611024 9 65} {8358418650867806291 9 66} {8964186562827404223 9 67}]
------------------------------------------------------
flag 26807 term 11 leader 1 nextIndex[0]: 68  matchIndex[0]: 67
term 11 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
flag 60018 term 11 leader 1 nextIndex[2]: 68  matchIndex[2]: 67
term 11 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {1349575964683078362 9 60} {126754363183127549 9 61} {7363626324211447481 9 62} {430374134702764456 9 63} {3699200441114182890 9 64} {1795159974893611024 9 65} {8358418650867806291 9 66} {8964186562827404223 9 67}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {1349575964683078362 9 60} {126754363183127549 9 61} {7363626324211447481 9 62} {430374134702764456 9 63} {3699200441114182890 9 64} {1795159974893611024 9 65} {8358418650867806291 9 66} {8964186562827404223 9 67}]
------------------------------------------------------
flag 39256 term 11 leader 1 nextIndex[0]: 68  matchIndex[0]: 67
term 11 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
flag 38914 term 11 leader 1 nextIndex[2]: 68  matchIndex[2]: 67
term 11 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=66
leader log:
term 11 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
[{snapshot 9 59} {1349575964683078362 9 60} {126754363183127549 9 61} {7363626324211447481 9 62} {430374134702764456 9 63} {3699200441114182890 9 64} {1795159974893611024 9 65} {8358418650867806291 9 66} {8964186562827404223 9 67}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {1349575964683078362 9 60} {126754363183127549 9 61} {7363626324211447481 9 62} {430374134702764456 9 63} {3699200441114182890 9 64} {1795159974893611024 9 65} {8358418650867806291 9 66} {8964186562827404223 9 67}]
------------------------------------------------------
flag 50803 term 11 leader 1 nextIndex[0]: 68  matchIndex[0]: 67
term 11 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
flag 50347 term 11 leader 1 nextIndex[2]: 68  matchIndex[2]: 67
term 11 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {1349575964683078362 9 60} {126754363183127549 9 61} {7363626324211447481 9 62} {430374134702764456 9 63} {3699200441114182890 9 64} {1795159974893611024 9 65} {8358418650867806291 9 66} {8964186562827404223 9 67}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {1349575964683078362 9 60} {126754363183127549 9 61} {7363626324211447481 9 62} {430374134702764456 9 63} {3699200441114182890 9 64} {1795159974893611024 9 65} {8358418650867806291 9 66} {8964186562827404223 9 67}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2484 term 11 leader 1 nextIndex[0]: 68  matchIndex[0]: 67
term 11 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
flag 68812 term 11 leader 1 nextIndex[2]: 68  matchIndex[2]: 67
term 11 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=66
leader log:
term 11 server 0 AppendEntries true commitIndex:66 
[{snapshot 9 59} {1349575964683078362 9 60} {126754363183127549 9 61} {7363626324211447481 9 62} {430374134702764456 9 63} {3699200441114182890 9 64} {1795159974893611024 9 65} {8358418650867806291 9 66} {8964186562827404223 9 67}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {1349575964683078362 9 60} {126754363183127549 9 61} {7363626324211447481 9 62} {430374134702764456 9 63} {3699200441114182890 9 64} {1795159974893611024 9 65} {8358418650867806291 9 66} {8964186562827404223 9 67}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47670 term 11 leader 1 nextIndex[0]: 68  matchIndex[0]: 67
term 11 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
flag 11955 term 11 leader 1 nextIndex[2]: 68  matchIndex[2]: 67
term 11 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {1349575964683078362 9 60} {126754363183127549 9 61} {7363626324211447481 9 62} {430374134702764456 9 63} {3699200441114182890 9 64} {1795159974893611024 9 65} {8358418650867806291 9 66} {8964186562827404223 9 67}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {1349575964683078362 9 60} {126754363183127549 9 61} {7363626324211447481 9 62} {430374134702764456 9 63} {3699200441114182890 9 64} {1795159974893611024 9 65} {8358418650867806291 9 66} {8964186562827404223 9 67}]
------------------------------------------------------
term 11 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 79889 term 11 leader 1 nextIndex[0]: 68  matchIndex[0]: 67
term 11 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
flag 6947 term 11 leader 1 nextIndex[2]: 68  matchIndex[2]: 67
term 11 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {1349575964683078362 9 60} {126754363183127549 9 61} {7363626324211447481 9 62} {430374134702764456 9 63} {3699200441114182890 9 64} {1795159974893611024 9 65} {8358418650867806291 9 66} {8964186562827404223 9 67}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {1349575964683078362 9 60} {126754363183127549 9 61} {7363626324211447481 9 62} {430374134702764456 9 63} {3699200441114182890 9 64} {1795159974893611024 9 65} {8358418650867806291 9 66} {8964186562827404223 9 67}]
------------------------------------------------------
client write log 8964186562827404223 (index 68) to leader 1
flag 99365 term 11 leader 1 nextIndex[0]: 68  matchIndex[0]: 67
term 11 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
flag 69929 term 11 leader 1 nextIndex[2]: 68  matchIndex[2]: 67
term 11 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {1349575964683078362 9 60} {126754363183127549 9 61} {7363626324211447481 9 62} {430374134702764456 9 63} {3699200441114182890 9 64} {1795159974893611024 9 65} {8358418650867806291 9 66} {8964186562827404223 9 67} {8964186562827404223 11 68}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {1349575964683078362 9 60} {126754363183127549 9 61} {7363626324211447481 9 62} {430374134702764456 9 63} {3699200441114182890 9 64} {1795159974893611024 9 65} {8358418650867806291 9 66} {8964186562827404223 9 67} {8964186562827404223 11 68}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72127 term 11 leader 1 nextIndex[0]: 69  matchIndex[0]: 68
term 11 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
flag 52559 term 11 leader 1 nextIndex[2]: 69  matchIndex[2]: 68
term 11 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {1349575964683078362 9 60} {126754363183127549 9 61} {7363626324211447481 9 62} {430374134702764456 9 63} {3699200441114182890 9 64} {1795159974893611024 9 65} {8358418650867806291 9 66} {8964186562827404223 9 67} {8964186562827404223 11 68}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {1349575964683078362 9 60} {126754363183127549 9 61} {7363626324211447481 9 62} {430374134702764456 9 63} {3699200441114182890 9 64} {1795159974893611024 9 65} {8358418650867806291 9 66} {8964186562827404223 9 67} {8964186562827404223 11 68}]
------------------------------------------------------
term 11 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47598 term 11 leader 1 nextIndex[0]: 69  matchIndex[0]: 68
term 11 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
flag 43739 term 11 leader 1 nextIndex[2]: 69  matchIndex[2]: 68
term 11 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {1349575964683078362 9 60} {126754363183127549 9 61} {7363626324211447481 9 62} {430374134702764456 9 63} {3699200441114182890 9 64} {1795159974893611024 9 65} {8358418650867806291 9 66} {8964186562827404223 9 67} {8964186562827404223 11 68}]
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {1349575964683078362 9 60} {126754363183127549 9 61} {7363626324211447481 9 62} {430374134702764456 9 63} {3699200441114182890 9 64} {1795159974893611024 9 65} {8358418650867806291 9 66} {8964186562827404223 9 67} {8964186562827404223 11 68}]
------------------------------------------------------
flag 42146 term 11 leader 1 nextIndex[0]: 69  matchIndex[0]: 68
term 11 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
flag 53526 term 11 leader 1 nextIndex[2]: 69  matchIndex[2]: 68
term 11 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:68 
term 11 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {1349575964683078362 9 60} {126754363183127549 9 61} {7363626324211447481 9 62} {430374134702764456 9 63} {3699200441114182890 9 64} {1795159974893611024 9 65} {8358418650867806291 9 66} {8964186562827404223 9 67} {8964186562827404223 11 68}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {1349575964683078362 9 60} {126754363183127549 9 61} {7363626324211447481 9 62} {430374134702764456 9 63} {3699200441114182890 9 64} {1795159974893611024 9 65} {8358418650867806291 9 66} {8964186562827404223 9 67} {8964186562827404223 11 68}]
------------------------------------------------------
flag 37096 term 11 leader 1 nextIndex[0]: 69  matchIndex[0]: 68
term 11 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
flag 45340 term 11 leader 1 nextIndex[2]: 69  matchIndex[2]: 68
term 11 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {1349575964683078362 9 60} {126754363183127549 9 61} {7363626324211447481 9 62} {430374134702764456 9 63} {3699200441114182890 9 64} {1795159974893611024 9 65} {8358418650867806291 9 66} {8964186562827404223 9 67} {8964186562827404223 11 68}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {1349575964683078362 9 60} {126754363183127549 9 61} {7363626324211447481 9 62} {430374134702764456 9 63} {3699200441114182890 9 64} {1795159974893611024 9 65} {8358418650867806291 9 66} {8964186562827404223 9 67} {8964186562827404223 11 68}]
------------------------------------------------------
flag 90118 term 11 leader 1 nextIndex[0]: 69  matchIndex[0]: 68
term 11 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
flag 20789 term 11 leader 1 nextIndex[2]: 69  matchIndex[2]: 68
term 11 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {1349575964683078362 9 60} {126754363183127549 9 61} {7363626324211447481 9 62} {430374134702764456 9 63} {3699200441114182890 9 64} {1795159974893611024 9 65} {8358418650867806291 9 66} {8964186562827404223 9 67} {8964186562827404223 11 68}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {1349575964683078362 9 60} {126754363183127549 9 61} {7363626324211447481 9 62} {430374134702764456 9 63} {3699200441114182890 9 64} {1795159974893611024 9 65} {8358418650867806291 9 66} {8964186562827404223 9 67} {8964186562827404223 11 68}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73218 term 11 leader 1 nextIndex[0]: 69  matchIndex[0]: 68
term 11 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
flag 44849 term 11 leader 1 nextIndex[2]: 69  matchIndex[2]: 68
term 11 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {1349575964683078362 9 60} {126754363183127549 9 61} {7363626324211447481 9 62} {430374134702764456 9 63} {3699200441114182890 9 64} {1795159974893611024 9 65} {8358418650867806291 9 66} {8964186562827404223 9 67} {8964186562827404223 11 68}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {1349575964683078362 9 60} {126754363183127549 9 61} {7363626324211447481 9 62} {430374134702764456 9 63} {3699200441114182890 9 64} {1795159974893611024 9 65} {8358418650867806291 9 66} {8964186562827404223 9 67} {8964186562827404223 11 68}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 9206762443094920817 (index 69) to leader 1
flag 90740 term 11 leader 1 nextIndex[0]: 69  matchIndex[0]: 68
term 11 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
flag 25272 term 11 leader 1 nextIndex[2]: 69  matchIndex[2]: 68
term 11 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=69
leader log:
[{snapshot 9 59} {1349575964683078362 9 60} {126754363183127549 9 61} {7363626324211447481 9 62} {430374134702764456 9 63} {3699200441114182890 9 64} {1795159974893611024 9 65} {8358418650867806291 9 66} {8964186562827404223 9 67} {8964186562827404223 11 68} {9206762443094920817 11 69}]
------------------------------------------------------
term 11 Server1 start snapshot! index=69
term 11 server1 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=69
-------------------------------------------------------------
flag 81417 term 11 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 11 leader 1 nextIndex[2]: 69  matchIndex[2]: 68
term 11 leader 1 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
term 11 Server0 start snapshot! index=69
term 11 server0 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=69
-------------------------------------------------------------
client write log 4921614352025616899 (index 70) to leader 1
client write log 7115087585378885625 (index 71) to leader 1
client write log 9162027764500724564 (index 72) to leader 1
client write log 3184855102549491205 (index 73) to leader 1
client write log 4688558108254231430 (index 74) to leader 1
client write log 469815758761815333 (index 75) to leader 1
client write log 3952367516533924516 (index 76) to leader 1
client write log 4175488823780672367 (index 77) to leader 1
client write log 8270938077867998617 (index 78) to leader 1
client write log 4686462194435076584 (index 79) to leader 1
client write log 179130129088139540 (index 80) to leader 1
client write log 7582707214951669400 (index 81) to leader 1
client write log 3374179619663182922 (index 82) to leader 1
client write log 8001105949191407671 (index 83) to leader 1
flag 32957 term 11 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 11 leader 1 nextIndex[2]: 69  matchIndex[2]: 68
term 11 leader 1 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 69} {4921614352025616899 11 70} {7115087585378885625 11 71} {9162027764500724564 11 72} {3184855102549491205 11 73} {4688558108254231430 11 74} {469815758761815333 11 75} {3952367516533924516 11 76} {4175488823780672367 11 77} {8270938077867998617 11 78} {4686462194435076584 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83}]
------------------------------------------------------
term 11 Server1 start snapshot! index=79
term 11 server1 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=83
-------------------------------------------------------------
flag 79347 term 11 leader 1 nextIndex[0]: 84  matchIndex[0]: 83
term 11 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 11 leaderCommit: 83 
------------------------------------------------------
term 11 leader 1 nextIndex[2]: 69  matchIndex[2]: 68
term 11 leader 1 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 11
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83}]
------------------------------------------------------
term 11 Server0 start snapshot! index=79
term 11 server0 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=83
-------------------------------------------------------------
!!!!!!connect server 2
client write log 6231800057107811087 (index 84) to leader 1
term 11 server 1 not vote for server 2, 日志不够新
term 11 server 0 not vote for server 2, 日志不够新
term 13 server 2 vote for server 1
term 13 server 0 vote for server 1
term 13 server 1 get vote from server 2
term 13 server 1 become leader
------------------------------------------------------
term 13 server 1 get outdate rpc reply from server 0
flag 97774 term 13 leader 1 nextIndex[0]: 85  matchIndex[0]: 0
term 13 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 11 leaderCommit: 83 
------------------------------------------------------
flag 90467 term 13 leader 1 nextIndex[2]: 85  matchIndex[2]: 0
term 13 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 11 leaderCommit: 83 
------------------------------------------------------
term 13 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 85->84
------------------------------------------------------
term 13 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 85->84
------------------------------------------------------
flag 88222 term 13 leader 1 nextIndex[0]: 84  matchIndex[0]: 0
term 13 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 11 leaderCommit: 83 
------------------------------------------------------
term 13 leader 1 nextIndex[2]: 69  matchIndex[2]: 0
term 13 leader 1 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 11
------------------------------------------------------
term 13 server 2 InstallSnapshot success
------------------------------------------------------
term 13 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 80 matchIndex[2] 79 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 79 rf.lastIncludedTerm 11 rf.commitIndex 79 rf.lastApplied 79
term 13 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84}]
------------------------------------------------------
flag 85495 term 13 leader 1 nextIndex[0]: 85  matchIndex[0]: 84
term 13 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 11 leaderCommit: 83 
------------------------------------------------------
flag 60649 term 13 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 83 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=85
update matchIndex[2]=84
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84}]
------------------------------------------------------
flag 53644 term 13 leader 1 nextIndex[0]: 85  matchIndex[0]: 84
term 13 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 11 leaderCommit: 83 
------------------------------------------------------
flag 1962 term 13 leader 1 nextIndex[2]: 85  matchIndex[2]: 84
term 13 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 11 leaderCommit: 83 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=85
update matchIndex[2]=84
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4602 term 13 leader 1 nextIndex[0]: 85  matchIndex[0]: 84
term 13 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 11 leaderCommit: 83 
------------------------------------------------------
flag 26877 term 13 leader 1 nextIndex[2]: 85  matchIndex[2]: 84
term 13 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 11 leaderCommit: 83 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=85
update matchIndex[2]=84
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84}]
------------------------------------------------------
flag 34570 term 13 leader 1 nextIndex[0]: 85  matchIndex[0]: 84
term 13 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 11 leaderCommit: 83 
------------------------------------------------------
flag 42280 term 13 leader 1 nextIndex[2]: 85  matchIndex[2]: 84
term 13 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 11 leaderCommit: 83 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84}]
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=85
update matchIndex[2]=84
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84}]
------------------------------------------------------
term 13 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 10831 term 13 leader 1 nextIndex[0]: 85  matchIndex[0]: 84
term 13 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 11 leaderCommit: 83 
------------------------------------------------------
flag 19591 term 13 leader 1 nextIndex[2]: 85  matchIndex[2]: 84
term 13 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 11 leaderCommit: 83 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=85
update matchIndex[2]=84
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84}]
------------------------------------------------------
flag 64202 term 13 leader 1 nextIndex[0]: 85  matchIndex[0]: 84
term 13 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 11 leaderCommit: 83 
------------------------------------------------------
flag 23951 term 13 leader 1 nextIndex[2]: 85  matchIndex[2]: 84
term 13 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 11 leaderCommit: 83 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=85
update matchIndex[2]=84
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84}]
------------------------------------------------------
flag 41803 term 13 leader 1 nextIndex[0]: 85  matchIndex[0]: 84
term 13 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 11 leaderCommit: 83 
------------------------------------------------------
flag 48085 term 13 leader 1 nextIndex[2]: 85  matchIndex[2]: 84
term 13 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 11 leaderCommit: 83 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=85
update matchIndex[2]=84
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97083 term 13 leader 1 nextIndex[0]: 85  matchIndex[0]: 84
term 13 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 11 leaderCommit: 83 
------------------------------------------------------
flag 66345 term 13 leader 1 nextIndex[2]: 85  matchIndex[2]: 84
term 13 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 11 leaderCommit: 83 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=85
update matchIndex[2]=84
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84}]
------------------------------------------------------
flag 3880 term 13 leader 1 nextIndex[0]: 85  matchIndex[0]: 84
term 13 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 11 leaderCommit: 83 
------------------------------------------------------
flag 5819 term 13 leader 1 nextIndex[2]: 85  matchIndex[2]: 84
term 13 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 11 leaderCommit: 83 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=85
update matchIndex[2]=84
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84}]
------------------------------------------------------
flag 29748 term 13 leader 1 nextIndex[0]: 85  matchIndex[0]: 84
term 13 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 11 leaderCommit: 83 
------------------------------------------------------
flag 54352 term 13 leader 1 nextIndex[2]: 85  matchIndex[2]: 84
term 13 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 11 leaderCommit: 83 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=85
update matchIndex[2]=84
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84}]
------------------------------------------------------
flag 60645 term 13 leader 1 nextIndex[0]: 85  matchIndex[0]: 84
term 13 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 11 leaderCommit: 83 
------------------------------------------------------
flag 29044 term 13 leader 1 nextIndex[2]: 85  matchIndex[2]: 84
term 13 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 11 leaderCommit: 83 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=85
update matchIndex[2]=84
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84}]
------------------------------------------------------
flag 65639 term 13 leader 1 nextIndex[0]: 85  matchIndex[0]: 84
term 13 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 11 leaderCommit: 83 
------------------------------------------------------
flag 196 term 13 leader 1 nextIndex[2]: 85  matchIndex[2]: 84
term 13 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 11 leaderCommit: 83 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=85
update matchIndex[2]=84
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84}]
------------------------------------------------------
flag 50576 term 13 leader 1 nextIndex[0]: 85  matchIndex[0]: 84
term 13 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 11 leaderCommit: 83 
------------------------------------------------------
flag 49504 term 13 leader 1 nextIndex[2]: 85  matchIndex[2]: 84
term 13 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 11 leaderCommit: 83 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84}]
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=85
update matchIndex[2]=84
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51308 term 13 leader 1 nextIndex[0]: 85  matchIndex[0]: 84
term 13 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 11 leaderCommit: 83 
------------------------------------------------------
flag 82756 term 13 leader 1 nextIndex[2]: 85  matchIndex[2]: 84
term 13 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 11 leaderCommit: 83 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=85
update matchIndex[2]=84
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84}]
------------------------------------------------------
flag 86744 term 13 leader 1 nextIndex[0]: 85  matchIndex[0]: 84
term 13 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 11 leaderCommit: 83 
------------------------------------------------------
flag 39637 term 13 leader 1 nextIndex[2]: 85  matchIndex[2]: 84
term 13 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 11 leaderCommit: 83 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=85
update matchIndex[2]=84
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84}]
------------------------------------------------------
flag 60310 term 13 leader 1 nextIndex[0]: 85  matchIndex[0]: 84
term 13 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 11 leaderCommit: 83 
------------------------------------------------------
flag 72543 term 13 leader 1 nextIndex[2]: 85  matchIndex[2]: 84
term 13 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 11 leaderCommit: 83 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:83 
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=85
update matchIndex[2]=84
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62814 term 13 leader 1 nextIndex[0]: 85  matchIndex[0]: 84
term 13 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 11 leaderCommit: 83 
------------------------------------------------------
flag 5152 term 13 leader 1 nextIndex[2]: 85  matchIndex[2]: 84
term 13 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 11 leaderCommit: 83 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=85
update matchIndex[2]=84
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84}]
------------------------------------------------------
flag 9763 term 13 leader 1 nextIndex[0]: 85  matchIndex[0]: 84
term 13 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 11 leaderCommit: 83 
------------------------------------------------------
flag 85240 term 13 leader 1 nextIndex[2]: 85  matchIndex[2]: 84
term 13 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 11 leaderCommit: 83 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=85
update matchIndex[2]=84
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84}]
------------------------------------------------------
client write log 6231800057107811087 (index 85) to leader 1
flag 31358 term 13 leader 1 nextIndex[0]: 85  matchIndex[0]: 84
term 13 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 11 leaderCommit: 83 
------------------------------------------------------
flag 71596 term 13 leader 1 nextIndex[2]: 85  matchIndex[2]: 84
term 13 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 11 leaderCommit: 83 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84} {6231800057107811087 13 85}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84} {6231800057107811087 13 85}]
------------------------------------------------------
flag 71988 term 13 leader 1 nextIndex[0]: 86  matchIndex[0]: 85
term 13 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 13 leaderCommit: 85 
------------------------------------------------------
flag 17457 term 13 leader 1 nextIndex[2]: 86  matchIndex[2]: 85
term 13 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 13 leaderCommit: 85 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84} {6231800057107811087 13 85}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84} {6231800057107811087 13 85}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78496 term 13 leader 1 nextIndex[0]: 86  matchIndex[0]: 85
term 13 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 13 leaderCommit: 85 
------------------------------------------------------
flag 4825 term 13 leader 1 nextIndex[2]: 86  matchIndex[2]: 85
term 13 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 13 leaderCommit: 85 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84} {6231800057107811087 13 85}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84} {6231800057107811087 13 85}]
------------------------------------------------------
flag 74608 term 13 leader 1 nextIndex[0]: 86  matchIndex[0]: 85
term 13 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 13 leaderCommit: 85 
------------------------------------------------------
flag 98679 term 13 leader 1 nextIndex[2]: 86  matchIndex[2]: 85
term 13 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 13 leaderCommit: 85 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84} {6231800057107811087 13 85}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84} {6231800057107811087 13 85}]
------------------------------------------------------
flag 42416 term 13 leader 1 nextIndex[0]: 86  matchIndex[0]: 85
term 13 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 13 leaderCommit: 85 
------------------------------------------------------
flag 43777 term 13 leader 1 nextIndex[2]: 86  matchIndex[2]: 85
term 13 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 13 leaderCommit: 85 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84} {6231800057107811087 13 85}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84} {6231800057107811087 13 85}]
------------------------------------------------------
flag 34689 term 13 leader 1 nextIndex[0]: 86  matchIndex[0]: 85
term 13 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 13 leaderCommit: 85 
------------------------------------------------------
flag 93227 term 13 leader 1 nextIndex[2]: 86  matchIndex[2]: 85
term 13 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 13 leaderCommit: 85 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84} {6231800057107811087 13 85}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84} {6231800057107811087 13 85}]
------------------------------------------------------
term 13 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 52845 term 13 leader 1 nextIndex[0]: 86  matchIndex[0]: 85
term 13 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 13 leaderCommit: 85 
------------------------------------------------------
flag 38809 term 13 leader 1 nextIndex[2]: 86  matchIndex[2]: 85
term 13 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 13 leaderCommit: 85 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84} {6231800057107811087 13 85}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84} {6231800057107811087 13 85}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 32274 term 13 leader 1 nextIndex[0]: 86  matchIndex[0]: 85
term 13 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 13 leaderCommit: 85 
------------------------------------------------------
flag 1929 term 13 leader 1 nextIndex[2]: 86  matchIndex[2]: 85
term 13 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 13 leaderCommit: 85 
------------------------------------------------------
flag 4912 term 13 leader 1 nextIndex[0]: 86  matchIndex[0]: 85
term 13 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 13 leaderCommit: 85 
------------------------------------------------------
flag 58909 term 13 leader 1 nextIndex[2]: 86  matchIndex[2]: 85
term 13 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 13 leaderCommit: 85 
------------------------------------------------------
flag 57787 term 13 leader 1 nextIndex[0]: 86  matchIndex[0]: 85
term 13 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 13 leaderCommit: 85 
------------------------------------------------------
flag 82894 term 13 leader 1 nextIndex[2]: 86  matchIndex[2]: 85
term 13 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 13 leaderCommit: 85 
------------------------------------------------------
term 14 server 2 vote for server 0
term 14 server 0 get vote from server 2
term 14 server 0 become leader
------------------------------------------------------
flag 3137 term 13 leader 1 nextIndex[0]: 86  matchIndex[0]: 85
term 13 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 13 leaderCommit: 85 
------------------------------------------------------
flag 15061 term 13 leader 1 nextIndex[2]: 86  matchIndex[2]: 85
term 13 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 13 leaderCommit: 85 
------------------------------------------------------
flag 70464 term 14 leader 0 nextIndex[1]: 86  matchIndex[1]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 13 leaderCommit: 85 
------------------------------------------------------
flag 69572 term 14 leader 0 nextIndex[2]: 86  matchIndex[2]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 13 leaderCommit: 85 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=86
update matchIndex[2]=85
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84} {6231800057107811087 13 85}]
------------------------------------------------------
client write log 4329324047120280219 (index 86) to leader 0
flag 14485 term 13 leader 1 nextIndex[0]: 86  matchIndex[0]: 85
term 13 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 13 leaderCommit: 85 
------------------------------------------------------
flag 32810 term 13 leader 1 nextIndex[2]: 86  matchIndex[2]: 85
term 13 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 13 leaderCommit: 85 
------------------------------------------------------
flag 92496 term 14 leader 0 nextIndex[1]: 86  matchIndex[1]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 13 leaderCommit: 85 
------------------------------------------------------
flag 7370 term 14 leader 0 nextIndex[2]: 86  matchIndex[2]: 85
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 13 leaderCommit: 85 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84} {6231800057107811087 13 85} {4329324047120280219 14 86}]
------------------------------------------------------
flag 85093 term 13 leader 1 nextIndex[0]: 86  matchIndex[0]: 85
term 13 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 13 leaderCommit: 85 
------------------------------------------------------
flag 42168 term 13 leader 1 nextIndex[2]: 86  matchIndex[2]: 85
term 13 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 13 leaderCommit: 85 
------------------------------------------------------
flag 5836 term 14 leader 0 nextIndex[1]: 86  matchIndex[1]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 13 leaderCommit: 86 
------------------------------------------------------
flag 46202 term 14 leader 0 nextIndex[2]: 87  matchIndex[2]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=86
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84} {6231800057107811087 13 85} {4329324047120280219 14 86}]
------------------------------------------------------
client write log 4816006337280318261 (index 87) to leader 0
flag 4791 term 13 leader 1 nextIndex[0]: 86  matchIndex[0]: 85
term 13 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 13 leaderCommit: 85 
------------------------------------------------------
flag 3537 term 13 leader 1 nextIndex[2]: 86  matchIndex[2]: 85
term 13 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 13 leaderCommit: 85 
------------------------------------------------------
flag 81353 term 14 leader 0 nextIndex[1]: 86  matchIndex[1]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 13 leaderCommit: 86 
------------------------------------------------------
flag 71469 term 14 leader 0 nextIndex[2]: 87  matchIndex[2]: 86
term 14 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84} {6231800057107811087 13 85} {4329324047120280219 14 86} {4816006337280318261 14 87}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 86->85
------------------------------------------------------
flag 10853 term 13 leader 1 nextIndex[0]: 86  matchIndex[0]: 85
term 13 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 13 leaderCommit: 85 
------------------------------------------------------
term 13 leader 1 nextIndex[2]: 0  matchIndex[2]: 85
term 13 leader 1 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 11
------------------------------------------------------
flag 65279 term 14 leader 0 nextIndex[1]: 86  matchIndex[1]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 13 leaderCommit: 87 
------------------------------------------------------
flag 91558 term 14 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 14 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84} {6231800057107811087 13 85} {4329324047120280219 14 86} {4816006337280318261 14 87}]
------------------------------------------------------
!!!!!!connect server 1
client write log 8062327291081264607 (index 86) to leader 1
flag 11538 term 13 leader 1 nextIndex[0]: 86  matchIndex[0]: 85
term 13 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 13 leaderCommit: 85 
------------------------------------------------------
term 13 leader 1 nextIndex[2]: 0  matchIndex[2]: 85
term 13 leader 1 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 11
------------------------------------------------------
term 14 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 13 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 14 server 0 AppendEntries false 领导者任期过期 args.Term 13
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86136 term 14 leader 0 nextIndex[1]: 86  matchIndex[1]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 13 leaderCommit: 87 
------------------------------------------------------
flag 14677 term 14 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 14 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84} {6231800057107811087 13 85} {4329324047120280219 14 86} {4816006337280318261 14 87}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84} {6231800057107811087 13 85} {4329324047120280219 14 86} {4816006337280318261 14 87}]
------------------------------------------------------
flag 62888 term 14 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 14 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
flag 55293 term 14 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 14 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84} {6231800057107811087 13 85} {4329324047120280219 14 86} {4816006337280318261 14 87}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84} {6231800057107811087 13 85} {4329324047120280219 14 86} {4816006337280318261 14 87}]
------------------------------------------------------
flag 10852 term 14 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 14 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
flag 4494 term 14 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 14 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84} {6231800057107811087 13 85} {4329324047120280219 14 86} {4816006337280318261 14 87}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84} {6231800057107811087 13 85} {4329324047120280219 14 86} {4816006337280318261 14 87}]
------------------------------------------------------
flag 22520 term 14 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 14 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
flag 83219 term 14 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 14 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=87
leader log:
term 14 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84} {6231800057107811087 13 85} {4329324047120280219 14 86} {4816006337280318261 14 87}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84} {6231800057107811087 13 85} {4329324047120280219 14 86} {4816006337280318261 14 87}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25794 term 14 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 14 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
flag 88480 term 14 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 14 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84} {6231800057107811087 13 85} {4329324047120280219 14 86} {4816006337280318261 14 87}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84} {6231800057107811087 13 85} {4329324047120280219 14 86} {4816006337280318261 14 87}]
------------------------------------------------------
flag 55345 term 14 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 14 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
flag 28315 term 14 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 14 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84} {6231800057107811087 13 85} {4329324047120280219 14 86} {4816006337280318261 14 87}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84} {6231800057107811087 13 85} {4329324047120280219 14 86} {4816006337280318261 14 87}]
------------------------------------------------------
flag 62428 term 14 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 14 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
flag 77654 term 14 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 14 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84} {6231800057107811087 13 85} {4329324047120280219 14 86} {4816006337280318261 14 87}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84} {6231800057107811087 13 85} {4329324047120280219 14 86} {4816006337280318261 14 87}]
------------------------------------------------------
flag 59071 term 14 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 14 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
flag 20743 term 14 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 14 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84} {6231800057107811087 13 85} {4329324047120280219 14 86} {4816006337280318261 14 87}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84} {6231800057107811087 13 85} {4329324047120280219 14 86} {4816006337280318261 14 87}]
------------------------------------------------------
term 14 server 1 not vote for server 0, 日志不够新
term 14 server 0 get outdate rpc reply from server 1
flag 3008 term 14 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 14 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
flag 55853 term 14 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 14 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84} {6231800057107811087 13 85} {4329324047120280219 14 86} {4816006337280318261 14 87}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84} {6231800057107811087 13 85} {4329324047120280219 14 86} {4816006337280318261 14 87}]
------------------------------------------------------
flag 67291 term 14 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 14 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
flag 39660 term 14 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 14 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84} {6231800057107811087 13 85} {4329324047120280219 14 86} {4816006337280318261 14 87}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84} {6231800057107811087 13 85} {4329324047120280219 14 86} {4816006337280318261 14 87}]
------------------------------------------------------
term 14 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 56039 term 14 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 14 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
flag 71223 term 14 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 14 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84} {6231800057107811087 13 85} {4329324047120280219 14 86} {4816006337280318261 14 87}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84} {6231800057107811087 13 85} {4329324047120280219 14 86} {4816006337280318261 14 87}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 88->87
------------------------------------------------------
term 14 leader 0 nextIndex[1]: 0  matchIndex[1]: 87
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 11
------------------------------------------------------
flag 31768 term 14 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 14 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84} {6231800057107811087 13 85} {4329324047120280219 14 86} {4816006337280318261 14 87}]
------------------------------------------------------
term 14 server 1 InstallSnapshot fail
rf.commitIndex 87 args.LastIncludedIndex 79
------------------------------------------------------
term 14 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 80 matchIndex[1] 79 
------------------------------------------------------------------------
flag 15221 term 14 leader 0 nextIndex[1]: 80  matchIndex[1]: 79
term 14 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 87 
------------------------------------------------------
flag 78775 term 14 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 14 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84} {6231800057107811087 13 85} {4329324047120280219 14 86} {4816006337280318261 14 87}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84} {6231800057107811087 13 85} {4329324047120280219 14 86} {4816006337280318261 14 87}]
------------------------------------------------------
flag 65581 term 14 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 14 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
flag 59900 term 14 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 14 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84} {6231800057107811087 13 85} {4329324047120280219 14 86} {4816006337280318261 14 87}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84} {6231800057107811087 13 85} {4329324047120280219 14 86} {4816006337280318261 14 87}]
------------------------------------------------------
flag 59281 term 14 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 14 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
flag 39130 term 14 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 14 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84} {6231800057107811087 13 85} {4329324047120280219 14 86} {4816006337280318261 14 87}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84} {6231800057107811087 13 85} {4329324047120280219 14 86} {4816006337280318261 14 87}]
------------------------------------------------------
flag 48006 term 14 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 14 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
flag 2525 term 14 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 14 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84} {6231800057107811087 13 85} {4329324047120280219 14 86} {4816006337280318261 14 87}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84} {6231800057107811087 13 85} {4329324047120280219 14 86} {4816006337280318261 14 87}]
------------------------------------------------------
flag 78087 term 14 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 14 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
flag 61448 term 14 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 14 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84} {6231800057107811087 13 85} {4329324047120280219 14 86} {4816006337280318261 14 87}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84} {6231800057107811087 13 85} {4329324047120280219 14 86} {4816006337280318261 14 87}]
------------------------------------------------------
flag 5594 term 14 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 14 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
flag 33784 term 14 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 14 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84} {6231800057107811087 13 85} {4329324047120280219 14 86} {4816006337280318261 14 87}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84} {6231800057107811087 13 85} {4329324047120280219 14 86} {4816006337280318261 14 87}]
------------------------------------------------------
flag 21031 term 14 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 14 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
flag 59820 term 14 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 14 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84} {6231800057107811087 13 85} {4329324047120280219 14 86} {4816006337280318261 14 87}]
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84} {6231800057107811087 13 85} {4329324047120280219 14 86} {4816006337280318261 14 87}]
------------------------------------------------------
flag 80440 term 14 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 14 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
flag 62811 term 14 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 14 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84} {6231800057107811087 13 85} {4329324047120280219 14 86} {4816006337280318261 14 87}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=87
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84} {6231800057107811087 13 85} {4329324047120280219 14 86} {4816006337280318261 14 87}]
------------------------------------------------------
client write log 8062327291081264607 (index 88) to leader 0
flag 13580 term 14 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 14 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
flag 97183 term 14 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 14 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 14 leaderCommit: 87 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=88
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84} {6231800057107811087 13 85} {4329324047120280219 14 86} {4816006337280318261 14 87} {8062327291081264607 14 88}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=89
update matchIndex[1]=88
update leader CommitIndex=88
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84} {6231800057107811087 13 85} {4329324047120280219 14 86} {4816006337280318261 14 87} {8062327291081264607 14 88}]
------------------------------------------------------
flag 32694 term 14 leader 0 nextIndex[1]: 89  matchIndex[1]: 88
term 14 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
flag 95959 term 14 leader 0 nextIndex[2]: 89  matchIndex[2]: 88
term 14 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=88
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84} {6231800057107811087 13 85} {4329324047120280219 14 86} {4816006337280318261 14 87} {8062327291081264607 14 88}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=89
update matchIndex[1]=88
update leader CommitIndex=88
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84} {6231800057107811087 13 85} {4329324047120280219 14 86} {4816006337280318261 14 87} {8062327291081264607 14 88}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 14 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 44617 term 14 leader 0 nextIndex[1]: 89  matchIndex[1]: 88
term 14 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
flag 86463 term 14 leader 0 nextIndex[2]: 89  matchIndex[2]: 88
term 14 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=88
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84} {6231800057107811087 13 85} {4329324047120280219 14 86} {4816006337280318261 14 87} {8062327291081264607 14 88}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=89
update matchIndex[1]=88
update leader CommitIndex=88
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84} {6231800057107811087 13 85} {4329324047120280219 14 86} {4816006337280318261 14 87} {8062327291081264607 14 88}]
------------------------------------------------------
flag 33974 term 14 leader 0 nextIndex[1]: 89  matchIndex[1]: 88
term 14 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
flag 4607 term 14 leader 0 nextIndex[2]: 89  matchIndex[2]: 88
term 14 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=88
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84} {6231800057107811087 13 85} {4329324047120280219 14 86} {4816006337280318261 14 87} {8062327291081264607 14 88}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=89
update matchIndex[1]=88
update leader CommitIndex=88
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84} {6231800057107811087 13 85} {4329324047120280219 14 86} {4816006337280318261 14 87} {8062327291081264607 14 88}]
------------------------------------------------------
flag 57254 term 14 leader 0 nextIndex[1]: 89  matchIndex[1]: 88
term 14 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
flag 74694 term 14 leader 0 nextIndex[2]: 89  matchIndex[2]: 88
term 14 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=88
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84} {6231800057107811087 13 85} {4329324047120280219 14 86} {4816006337280318261 14 87} {8062327291081264607 14 88}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=89
update matchIndex[1]=88
update leader CommitIndex=88
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84} {6231800057107811087 13 85} {4329324047120280219 14 86} {4816006337280318261 14 87} {8062327291081264607 14 88}]
------------------------------------------------------
flag 41627 term 14 leader 0 nextIndex[1]: 89  matchIndex[1]: 88
term 14 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
flag 59320 term 14 leader 0 nextIndex[2]: 89  matchIndex[2]: 88
term 14 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=88
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84} {6231800057107811087 13 85} {4329324047120280219 14 86} {4816006337280318261 14 87} {8062327291081264607 14 88}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=89
update matchIndex[1]=88
update leader CommitIndex=88
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84} {6231800057107811087 13 85} {4329324047120280219 14 86} {4816006337280318261 14 87} {8062327291081264607 14 88}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 1
client write log 6585907668369921747 (index 89) to leader 0
flag 13985 term 14 leader 0 nextIndex[1]: 89  matchIndex[1]: 88
term 14 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
flag 66713 term 14 leader 0 nextIndex[2]: 89  matchIndex[2]: 88
term 14 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=89
leader log:
[{snapshot 11 79} {179130129088139540 11 80} {7582707214951669400 11 81} {3374179619663182922 11 82} {8001105949191407671 11 83} {6231800057107811087 11 84} {6231800057107811087 13 85} {4329324047120280219 14 86} {4816006337280318261 14 87} {8062327291081264607 14 88} {6585907668369921747 14 89}]
------------------------------------------------------
term 14 Server0 start snapshot! index=89
term 14 server0 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=89
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 14 leader 0 nextIndex[1]: 89  matchIndex[1]: 88
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 14
------------------------------------------------------
flag 60533 term 14 leader 0 nextIndex[2]: 90  matchIndex[2]: 89
term 14 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 89 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=89
leader log:
[{snapshot 14 89}]
------------------------------------------------------
term 14 Server2 start snapshot! index=89
term 14 server2 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=89
-------------------------------------------------------------
client write log 4408755440936368882 (index 90) to leader 0
client write log 8950227515042526617 (index 91) to leader 0
client write log 7975616302690434871 (index 92) to leader 0
client write log 6672411379579764335 (index 93) to leader 0
client write log 526785120141428112 (index 94) to leader 0
client write log 5521044926565179638 (index 95) to leader 0
client write log 4585650661410165130 (index 96) to leader 0
client write log 1148134377674587480 (index 97) to leader 0
client write log 2565334317815214947 (index 98) to leader 0
client write log 7604283382037508018 (index 99) to leader 0
client write log 975788684847215260 (index 100) to leader 0
client write log 3572000314374447334 (index 101) to leader 0
client write log 6005907208658899323 (index 102) to leader 0
term 14 leader 0 nextIndex[1]: 89  matchIndex[1]: 88
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 14
------------------------------------------------------
flag 30464 term 14 leader 0 nextIndex[2]: 90  matchIndex[2]: 89
term 14 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 89 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=102
leader log:
[{snapshot 14 89} {4408755440936368882 14 90} {8950227515042526617 14 91} {7975616302690434871 14 92} {6672411379579764335 14 93} {526785120141428112 14 94} {5521044926565179638 14 95} {4585650661410165130 14 96} {1148134377674587480 14 97} {2565334317815214947 14 98} {7604283382037508018 14 99} {975788684847215260 14 100} {3572000314374447334 14 101} {6005907208658899323 14 102}]
------------------------------------------------------
term 14 Server0 start snapshot! index=99
term 14 server0 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=102
-------------------------------------------------------------
term 14 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 14 leader 0 nextIndex[1]: 89  matchIndex[1]: 88
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 14
------------------------------------------------------
flag 38839 term 14 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 14 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 102 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=102
leader log:
[{snapshot 14 99} {975788684847215260 14 100} {3572000314374447334 14 101} {6005907208658899323 14 102}]
------------------------------------------------------
term 14 Server2 start snapshot! index=99
term 14 server2 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=102
-------------------------------------------------------------
!!!!!!connect server 1
client write log 6506550684841507517 (index 103) to leader 0
term 14 leader 0 nextIndex[1]: 89  matchIndex[1]: 88
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 14
------------------------------------------------------
flag 64128 term 14 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 14 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 102 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
term 15 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=103
leader log:
[{snapshot 14 99} {975788684847215260 14 100} {3572000314374447334 14 101} {6005907208658899323 14 102} {6506550684841507517 14 103}]
------------------------------------------------------
term 14 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 16 server 2 vote for server 0
term 16 server 1 vote for server 0
term 16 server 0 get vote from server 2
term 16 server 0 become leader
------------------------------------------------------
term 16 server 0 get outdate rpc reply from server 1
flag 12387 term 16 leader 0 nextIndex[1]: 104  matchIndex[1]: 0
term 16 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
flag 296 term 16 leader 0 nextIndex[2]: 104  matchIndex[2]: 0
term 16 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=103
leader log:
[{snapshot 14 99} {975788684847215260 14 100} {3572000314374447334 14 101} {6005907208658899323 14 102} {6506550684841507517 14 103}]
------------------------------------------------------
term 16 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 104->103
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 16 leader 0 nextIndex[1]: 89  matchIndex[1]: 0
term 16 leader 0 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 14
------------------------------------------------------
flag 57232 term 16 leader 0 nextIndex[2]: 104  matchIndex[2]: 103
term 16 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=103
leader log:
[{snapshot 14 99} {975788684847215260 14 100} {3572000314374447334 14 101} {6005907208658899323 14 102} {6506550684841507517 14 103}]
------------------------------------------------------
term 16 server 1 InstallSnapshot success
------------------------------------------------------
term 16 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 100 matchIndex[1] 99 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 99 rf.lastIncludedTerm 14 rf.commitIndex 99 rf.lastApplied 99
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14754 term 16 leader 0 nextIndex[1]: 100  matchIndex[1]: 99
term 16 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
flag 29716 term 16 leader 0 nextIndex[2]: 104  matchIndex[2]: 103
term 16 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=103
leader log:
[{snapshot 14 99} {975788684847215260 14 100} {3572000314374447334 14 101} {6005907208658899323 14 102} {6506550684841507517 14 103}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=104
update matchIndex[1]=103
update leader CommitIndex=103
leader log:
[{snapshot 14 99} {975788684847215260 14 100} {3572000314374447334 14 101} {6005907208658899323 14 102} {6506550684841507517 14 103}]
------------------------------------------------------
flag 68092 term 16 leader 0 nextIndex[1]: 104  matchIndex[1]: 103
term 16 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
flag 90428 term 16 leader 0 nextIndex[2]: 104  matchIndex[2]: 103
term 16 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=103
leader log:
[{snapshot 14 99} {975788684847215260 14 100} {3572000314374447334 14 101} {6005907208658899323 14 102} {6506550684841507517 14 103}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=104
update matchIndex[1]=103
update leader CommitIndex=103
leader log:
[{snapshot 14 99} {975788684847215260 14 100} {3572000314374447334 14 101} {6005907208658899323 14 102} {6506550684841507517 14 103}]
------------------------------------------------------
flag 93122 term 16 leader 0 nextIndex[1]: 104  matchIndex[1]: 103
term 16 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
flag 57899 term 16 leader 0 nextIndex[2]: 104  matchIndex[2]: 103
term 16 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=103
leader log:
[{snapshot 14 99} {975788684847215260 14 100} {3572000314374447334 14 101} {6005907208658899323 14 102} {6506550684841507517 14 103}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=104
update matchIndex[1]=103
update leader CommitIndex=103
leader log:
[{snapshot 14 99} {975788684847215260 14 100} {3572000314374447334 14 101} {6005907208658899323 14 102} {6506550684841507517 14 103}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43463 term 16 leader 0 nextIndex[1]: 104  matchIndex[1]: 103
term 16 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
flag 91364 term 16 leader 0 nextIndex[2]: 104  matchIndex[2]: 103
term 16 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=104
update matchIndex[1]=103
update leader CommitIndex=103
leader log:
[{snapshot 14 99} {975788684847215260 14 100} {3572000314374447334 14 101} {6005907208658899323 14 102} {6506550684841507517 14 103}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=103
leader log:
[{snapshot 14 99} {975788684847215260 14 100} {3572000314374447334 14 101} {6005907208658899323 14 102} {6506550684841507517 14 103}]
------------------------------------------------------
flag 560 term 16 leader 0 nextIndex[1]: 104  matchIndex[1]: 103
term 16 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
flag 86233 term 16 leader 0 nextIndex[2]: 104  matchIndex[2]: 103
term 16 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=104
update matchIndex[1]=103
update leader CommitIndex=103
leader log:
[{snapshot 14 99} {975788684847215260 14 100} {3572000314374447334 14 101} {6005907208658899323 14 102} {6506550684841507517 14 103}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=103
leader log:
[{snapshot 14 99} {975788684847215260 14 100} {3572000314374447334 14 101} {6005907208658899323 14 102} {6506550684841507517 14 103}]
------------------------------------------------------
flag 58089 term 16 leader 0 nextIndex[1]: 104  matchIndex[1]: 103
term 16 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
flag 85942 term 16 leader 0 nextIndex[2]: 104  matchIndex[2]: 103
term 16 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=103
leader log:
[{snapshot 14 99} {975788684847215260 14 100} {3572000314374447334 14 101} {6005907208658899323 14 102} {6506550684841507517 14 103}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=104
update matchIndex[1]=103
update leader CommitIndex=103
leader log:
[{snapshot 14 99} {975788684847215260 14 100} {3572000314374447334 14 101} {6005907208658899323 14 102} {6506550684841507517 14 103}]
------------------------------------------------------
flag 45792 term 16 leader 0 nextIndex[1]: 104  matchIndex[1]: 103
term 16 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
flag 413 term 16 leader 0 nextIndex[2]: 104  matchIndex[2]: 103
term 16 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=103
leader log:
[{snapshot 14 99} {975788684847215260 14 100} {3572000314374447334 14 101} {6005907208658899323 14 102} {6506550684841507517 14 103}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=104
update matchIndex[1]=103
update leader CommitIndex=103
leader log:
[{snapshot 14 99} {975788684847215260 14 100} {3572000314374447334 14 101} {6005907208658899323 14 102} {6506550684841507517 14 103}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 4530131459590457428 (index 104) to leader 0
flag 44436 term 16 leader 0 nextIndex[1]: 104  matchIndex[1]: 103
term 16 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
flag 52821 term 16 leader 0 nextIndex[2]: 104  matchIndex[2]: 103
term 16 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=104
leader log:
[{snapshot 14 99} {975788684847215260 14 100} {3572000314374447334 14 101} {6005907208658899323 14 102} {6506550684841507517 14 103} {4530131459590457428 16 104}]
------------------------------------------------------
flag 62842 term 16 leader 0 nextIndex[1]: 104  matchIndex[1]: 103
term 16 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 14 leaderCommit: 104 
------------------------------------------------------
flag 22195 term 16 leader 0 nextIndex[2]: 105  matchIndex[2]: 104
term 16 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 16 leaderCommit: 104 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=104
leader log:
[{snapshot 14 99} {975788684847215260 14 100} {3572000314374447334 14 101} {6005907208658899323 14 102} {6506550684841507517 14 103} {4530131459590457428 16 104}]
------------------------------------------------------
client write log 6942537029659978852 (index 105) to leader 0
client write log 5033986822943377194 (index 106) to leader 0
client write log 2110395817644588078 (index 107) to leader 0
client write log 4633184191987939127 (index 108) to leader 0
client write log 3903388804271730407 (index 109) to leader 0
client write log 5618550579493779711 (index 110) to leader 0
client write log 3929727785786234524 (index 111) to leader 0
client write log 2200966271509882619 (index 112) to leader 0
client write log 9131791841643562863 (index 113) to leader 0
client write log 4628842540587553415 (index 114) to leader 0
client write log 6123320651426261698 (index 115) to leader 0
client write log 31329002240887016 (index 116) to leader 0
client write log 3551061360273493590 (index 117) to leader 0
client write log 2061538388307726021 (index 118) to leader 0
client write log 1100488680767797722 (index 119) to leader 0
flag 6854 term 16 leader 0 nextIndex[1]: 104  matchIndex[1]: 103
term 16 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 14 leaderCommit: 104 
------------------------------------------------------
flag 28297 term 16 leader 0 nextIndex[2]: 105  matchIndex[2]: 104
term 16 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 16 leaderCommit: 104 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=120
update matchIndex[2]=119
update leader CommitIndex=119
leader log:
[{snapshot 14 99} {975788684847215260 14 100} {3572000314374447334 14 101} {6005907208658899323 14 102} {6506550684841507517 14 103} {4530131459590457428 16 104} {6942537029659978852 16 105} {5033986822943377194 16 106} {2110395817644588078 16 107} {4633184191987939127 16 108} {3903388804271730407 16 109} {5618550579493779711 16 110} {3929727785786234524 16 111} {2200966271509882619 16 112} {9131791841643562863 16 113} {4628842540587553415 16 114} {6123320651426261698 16 115} {31329002240887016 16 116} {3551061360273493590 16 117} {2061538388307726021 16 118} {1100488680767797722 16 119}]
------------------------------------------------------
term 16 Server0 start snapshot! index=109
term 16 server0 snapshot success
lastIncludedIndex=109 lastApplied=110 lastIndex=119
-------------------------------------------------------------
term 16 Server0 start snapshot! index=119
term 16 server0 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=119
-------------------------------------------------------------
term 16 leader 0 nextIndex[1]: 104  matchIndex[1]: 103
term 16 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 16
------------------------------------------------------
flag 16641 term 16 leader 0 nextIndex[2]: 120  matchIndex[2]: 119
term 16 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 16 leaderCommit: 119 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=120
update matchIndex[2]=119
update leader CommitIndex=119
leader log:
[{snapshot 16 119}]
------------------------------------------------------
term 16 Server2 start snapshot! index=109
term 16 server2 snapshot success
lastIncludedIndex=109 lastApplied=110 lastIndex=119
-------------------------------------------------------------
term 16 Server2 start snapshot! index=119
term 16 server2 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=119
-------------------------------------------------------------
!!!!!!connect server 1
client write log 4961372812389252835 (index 120) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 16 leader 0 nextIndex[1]: 104  matchIndex[1]: 103
term 16 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 16
------------------------------------------------------
flag 17019 term 16 leader 0 nextIndex[2]: 120  matchIndex[2]: 119
term 16 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 16 leaderCommit: 119 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
term 17 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=120
leader log:
[{snapshot 16 119} {4961372812389252835 16 120}]
------------------------------------------------------
term 16 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 18 server 2 vote for server 0
term 18 server 1 vote for server 0
term 18 server 0 get vote from server 2
term 18 server 0 become leader
------------------------------------------------------
term 18 server 0 get outdate rpc reply from server 1
flag 51124 term 18 leader 0 nextIndex[1]: 121  matchIndex[1]: 0
term 18 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 16 leaderCommit: 120 
------------------------------------------------------
flag 30363 term 18 leader 0 nextIndex[2]: 121  matchIndex[2]: 0
term 18 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 16 leaderCommit: 120 
------------------------------------------------------
term 18 server 0 not vote for server 1, 任期不够新
term 18 server 1 get outdate rpc reply from server 0
term 18 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=120
leader log:
[{snapshot 16 119} {4961372812389252835 16 120}]
------------------------------------------------------
term 18 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 121->120
------------------------------------------------------
term 18 leader 0 nextIndex[1]: 104  matchIndex[1]: 0
term 18 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 16
------------------------------------------------------
flag 36906 term 18 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 18 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 16 leaderCommit: 120 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=120
leader log:
[{snapshot 16 119} {4961372812389252835 16 120}]
------------------------------------------------------
term 18 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 119 rf.lastIncludedTerm 16 rf.commitIndex 119 rf.lastApplied 119
term 18 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 120 matchIndex[1] 119 
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 18 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 6714 term 18 leader 0 nextIndex[1]: 120  matchIndex[1]: 119
term 18 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 16 leaderCommit: 120 
------------------------------------------------------
flag 37803 term 18 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 18 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 16 leaderCommit: 120 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=120
leader log:
[{snapshot 16 119} {4961372812389252835 16 120}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=120
leader log:
[{snapshot 16 119} {4961372812389252835 16 120}]
------------------------------------------------------
flag 91918 term 18 leader 0 nextIndex[1]: 121  matchIndex[1]: 120
term 18 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 16 leaderCommit: 120 
------------------------------------------------------
flag 30735 term 18 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 18 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 16 leaderCommit: 120 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=120
leader log:
[{snapshot 16 119} {4961372812389252835 16 120}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=120
leader log:
[{snapshot 16 119} {4961372812389252835 16 120}]
------------------------------------------------------
flag 67184 term 18 leader 0 nextIndex[1]: 121  matchIndex[1]: 120
term 18 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 16 leaderCommit: 120 
------------------------------------------------------
flag 65868 term 18 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 18 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 16 leaderCommit: 120 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=120
leader log:
[{snapshot 16 119} {4961372812389252835 16 120}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=120
leader log:
[{snapshot 16 119} {4961372812389252835 16 120}]
------------------------------------------------------
flag 88431 term 18 leader 0 nextIndex[1]: 121  matchIndex[1]: 120
term 18 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 16 leaderCommit: 120 
------------------------------------------------------
flag 16334 term 18 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 18 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 16 leaderCommit: 120 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=120
leader log:
[{snapshot 16 119} {4961372812389252835 16 120}]
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=120
leader log:
[{snapshot 16 119} {4961372812389252835 16 120}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13550 term 18 leader 0 nextIndex[1]: 121  matchIndex[1]: 120
term 18 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 16 leaderCommit: 120 
------------------------------------------------------
flag 64730 term 18 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 18 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 16 leaderCommit: 120 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=120
leader log:
[{snapshot 16 119} {4961372812389252835 16 120}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=120
leader log:
[{snapshot 16 119} {4961372812389252835 16 120}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17372 term 18 leader 0 nextIndex[1]: 121  matchIndex[1]: 120
term 18 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 16 leaderCommit: 120 
------------------------------------------------------
flag 40173 term 18 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 18 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 16 leaderCommit: 120 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=120
leader log:
[{snapshot 16 119} {4961372812389252835 16 120}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=120
leader log:
[{snapshot 16 119} {4961372812389252835 16 120}]
------------------------------------------------------
flag 48697 term 18 leader 0 nextIndex[1]: 121  matchIndex[1]: 120
term 18 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 16 leaderCommit: 120 
------------------------------------------------------
flag 44190 term 18 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 18 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 16 leaderCommit: 120 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=120
leader log:
[{snapshot 16 119} {4961372812389252835 16 120}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=121
update matchIndex[1]=120
update leader CommitIndex=120
leader log:
[{snapshot 16 119} {4961372812389252835 16 120}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 58439 term 18 leader 0 nextIndex[1]: 121  matchIndex[1]: 120
term 18 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 16 leaderCommit: 120 
------------------------------------------------------
flag 83861 term 18 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 18 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 16 leaderCommit: 120 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75228 term 18 leader 0 nextIndex[1]: 121  matchIndex[1]: 120
term 18 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 16 leaderCommit: 120 
------------------------------------------------------
flag 27234 term 18 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 18 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 16 leaderCommit: 120 
------------------------------------------------------
flag 29829 term 18 leader 0 nextIndex[1]: 121  matchIndex[1]: 120
term 18 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 16 leaderCommit: 120 
------------------------------------------------------
flag 30157 term 18 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 18 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 16 leaderCommit: 120 
------------------------------------------------------
term 19 server 2 vote for server 1
term 19 server 1 get vote from server 2
term 19 server 1 become leader
------------------------------------------------------
flag 43464 term 19 leader 1 nextIndex[0]: 121  matchIndex[0]: 0
term 19 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 16 leaderCommit: 120 
------------------------------------------------------
flag 9209 term 19 leader 1 nextIndex[2]: 121  matchIndex[2]: 0
term 19 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 16 leaderCommit: 120 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=120
leader log:
[{snapshot 16 119} {4961372812389252835 16 120}]
------------------------------------------------------
client write log 6361710033732157831 (index 121) to leader 1
flag 59630 term 18 leader 0 nextIndex[1]: 121  matchIndex[1]: 120
term 18 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 16 leaderCommit: 120 
------------------------------------------------------
flag 83246 term 18 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 18 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 16 leaderCommit: 120 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25409 term 19 leader 1 nextIndex[0]: 121  matchIndex[0]: 0
term 19 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 16 leaderCommit: 120 
------------------------------------------------------
flag 84706 term 19 leader 1 nextIndex[2]: 121  matchIndex[2]: 120
term 19 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 16 leaderCommit: 120 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {4961372812389252835 16 120} {6361710033732157831 19 121}]
------------------------------------------------------
flag 39739 term 18 leader 0 nextIndex[1]: 121  matchIndex[1]: 120
term 18 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 16 leaderCommit: 120 
------------------------------------------------------
flag 859 term 18 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 18 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 16 leaderCommit: 120 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46629 term 19 leader 1 nextIndex[0]: 121  matchIndex[0]: 0
term 19 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 16 leaderCommit: 121 
------------------------------------------------------
flag 83289 term 19 leader 1 nextIndex[2]: 122  matchIndex[2]: 121
term 19 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 121 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {4961372812389252835 16 120} {6361710033732157831 19 121}]
------------------------------------------------------
client write log 4301486222635724612 (index 122) to leader 1
client write log 4556013146052067985 (index 123) to leader 1
client write log 197858962480537643 (index 124) to leader 1
client write log 1108663351282096119 (index 125) to leader 1
client write log 8601049165623432245 (index 126) to leader 1
client write log 7869799960060236566 (index 127) to leader 1
client write log 8140891306951394458 (index 128) to leader 1
client write log 3482665038104948436 (index 129) to leader 1
client write log 3770077241755820152 (index 130) to leader 1
client write log 2434796770256794358 (index 131) to leader 1
client write log 641067963345575269 (index 132) to leader 1
client write log 2282200856462614395 (index 133) to leader 1
client write log 6579411005563831056 (index 134) to leader 1
client write log 2992804347696038218 (index 135) to leader 1
flag 22007 term 18 leader 0 nextIndex[1]: 121  matchIndex[1]: 120
term 18 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 16 leaderCommit: 120 
------------------------------------------------------
flag 56049 term 18 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 18 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 16 leaderCommit: 120 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 121->120
------------------------------------------------------
flag 28936 term 19 leader 1 nextIndex[0]: 121  matchIndex[0]: 0
term 19 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 16 leaderCommit: 121 
------------------------------------------------------
flag 18156 term 19 leader 1 nextIndex[2]: 122  matchIndex[2]: 121
term 19 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 19 leaderCommit: 121 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=135
leader log:
[{snapshot 16 119} {4961372812389252835 16 120} {6361710033732157831 19 121} {4301486222635724612 19 122} {4556013146052067985 19 123} {197858962480537643 19 124} {1108663351282096119 19 125} {8601049165623432245 19 126} {7869799960060236566 19 127} {8140891306951394458 19 128} {3482665038104948436 19 129} {3770077241755820152 19 130} {2434796770256794358 19 131} {641067963345575269 19 132} {2282200856462614395 19 133} {6579411005563831056 19 134} {2992804347696038218 19 135}]
------------------------------------------------------
term 19 Server1 start snapshot! index=129
term 19 server1 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=135
-------------------------------------------------------------
term 18 leader 0 nextIndex[1]: 0  matchIndex[1]: 120
term 18 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 16
------------------------------------------------------
flag 22165 term 18 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 18 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 16 leaderCommit: 120 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 19 leader 1 nextIndex[0]: 121  matchIndex[0]: 0
term 19 leader 1 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 19
------------------------------------------------------
flag 66839 term 19 leader 1 nextIndex[2]: 136  matchIndex[2]: 135
term 19 leader 1 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 19 leaderCommit: 135 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=135
leader log:
[{snapshot 19 129} {3770077241755820152 19 130} {2434796770256794358 19 131} {641067963345575269 19 132} {2282200856462614395 19 133} {6579411005563831056 19 134} {2992804347696038218 19 135}]
------------------------------------------------------
term 19 Server2 start snapshot! index=129
term 19 server2 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=135
-------------------------------------------------------------
!!!!!!connect server 0
client write log 8970113305353595816 (index 136) to leader 1
term 18 leader 0 nextIndex[1]: 0  matchIndex[1]: 120
term 18 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 16
------------------------------------------------------
flag 43146 term 18 leader 0 nextIndex[2]: 121  matchIndex[2]: 120
term 18 leader 0 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 16 leaderCommit: 120 
------------------------------------------------------
term 19 server 2 AppendEntries false 领导者任期过期 args.Term 18
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 19 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 19 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 19 leader 1 nextIndex[0]: 121  matchIndex[0]: 0
term 19 leader 1 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 19
------------------------------------------------------
flag 24348 term 19 leader 1 nextIndex[2]: 136  matchIndex[2]: 135
term 19 leader 1 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 19 leaderCommit: 135 
------------------------------------------------------
term 19 server 0 InstallSnapshot success
------------------------------------------------------
term 19 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 130 matchIndex[0] 129 
------------------------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=136
leader log:
[{snapshot 19 129} {3770077241755820152 19 130} {2434796770256794358 19 131} {641067963345575269 19 132} {2282200856462614395 19 133} {6579411005563831056 19 134} {2992804347696038218 19 135} {8970113305353595816 19 136}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 129 rf.lastIncludedTerm 19 rf.commitIndex 129 rf.lastApplied 129
flag 6098 term 19 leader 1 nextIndex[0]: 130  matchIndex[0]: 129
term 19 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 19 leaderCommit: 136 
------------------------------------------------------
flag 90921 term 19 leader 1 nextIndex[2]: 137  matchIndex[2]: 136
term 19 leader 1 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 19 leaderCommit: 136 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=136
leader log:
[{snapshot 19 129} {3770077241755820152 19 130} {2434796770256794358 19 131} {641067963345575269 19 132} {2282200856462614395 19 133} {6579411005563831056 19 134} {2992804347696038218 19 135} {8970113305353595816 19 136}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=137
update matchIndex[0]=136
update leader CommitIndex=136
leader log:
[{snapshot 19 129} {3770077241755820152 19 130} {2434796770256794358 19 131} {641067963345575269 19 132} {2282200856462614395 19 133} {6579411005563831056 19 134} {2992804347696038218 19 135} {8970113305353595816 19 136}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65178 term 19 leader 1 nextIndex[0]: 137  matchIndex[0]: 136
term 19 leader 1 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 19 leaderCommit: 136 
------------------------------------------------------
flag 57801 term 19 leader 1 nextIndex[2]: 137  matchIndex[2]: 136
term 19 leader 1 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 19 leaderCommit: 136 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=136
leader log:
[{snapshot 19 129} {3770077241755820152 19 130} {2434796770256794358 19 131} {641067963345575269 19 132} {2282200856462614395 19 133} {6579411005563831056 19 134} {2992804347696038218 19 135} {8970113305353595816 19 136}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=137
update matchIndex[0]=136
update leader CommitIndex=136
leader log:
[{snapshot 19 129} {3770077241755820152 19 130} {2434796770256794358 19 131} {641067963345575269 19 132} {2282200856462614395 19 133} {6579411005563831056 19 134} {2992804347696038218 19 135} {8970113305353595816 19 136}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 137->136
------------------------------------------------------
term 19 leader 1 nextIndex[0]: 0  matchIndex[0]: 136
term 19 leader 1 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 19
------------------------------------------------------
flag 79369 term 19 leader 1 nextIndex[2]: 137  matchIndex[2]: 136
term 19 leader 1 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 19 leaderCommit: 136 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=136
leader log:
[{snapshot 19 129} {3770077241755820152 19 130} {2434796770256794358 19 131} {641067963345575269 19 132} {2282200856462614395 19 133} {6579411005563831056 19 134} {2992804347696038218 19 135} {8970113305353595816 19 136}]
------------------------------------------------------
term 19 server 0 InstallSnapshot fail
rf.commitIndex 136 args.LastIncludedIndex 129
------------------------------------------------------
term 19 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 130 matchIndex[0] 129 
------------------------------------------------------------------------
flag 20506 term 19 leader 1 nextIndex[0]: 130  matchIndex[0]: 129
term 19 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 19 leaderCommit: 136 
------------------------------------------------------
flag 36757 term 19 leader 1 nextIndex[2]: 137  matchIndex[2]: 136
term 19 leader 1 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 19 leaderCommit: 136 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=136
leader log:
[{snapshot 19 129} {3770077241755820152 19 130} {2434796770256794358 19 131} {641067963345575269 19 132} {2282200856462614395 19 133} {6579411005563831056 19 134} {2992804347696038218 19 135} {8970113305353595816 19 136}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=137
update matchIndex[0]=136
update leader CommitIndex=136
leader log:
[{snapshot 19 129} {3770077241755820152 19 130} {2434796770256794358 19 131} {641067963345575269 19 132} {2282200856462614395 19 133} {6579411005563831056 19 134} {2992804347696038218 19 135} {8970113305353595816 19 136}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38109 term 19 leader 1 nextIndex[0]: 137  matchIndex[0]: 136
term 19 leader 1 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 19 leaderCommit: 136 
------------------------------------------------------
flag 40667 term 19 leader 1 nextIndex[2]: 137  matchIndex[2]: 136
term 19 leader 1 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 19 leaderCommit: 136 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=136
leader log:
[{snapshot 19 129} {3770077241755820152 19 130} {2434796770256794358 19 131} {641067963345575269 19 132} {2282200856462614395 19 133} {6579411005563831056 19 134} {2992804347696038218 19 135} {8970113305353595816 19 136}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 137->136
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=137
update matchIndex[0]=136
update leader CommitIndex=136
leader log:
[{snapshot 19 129} {3770077241755820152 19 130} {2434796770256794358 19 131} {641067963345575269 19 132} {2282200856462614395 19 133} {6579411005563831056 19 134} {2992804347696038218 19 135} {8970113305353595816 19 136}]
------------------------------------------------------
flag 92807 term 19 leader 1 nextIndex[0]: 137  matchIndex[0]: 136
term 19 leader 1 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 19 leaderCommit: 136 
------------------------------------------------------
flag 10580 term 19 leader 1 nextIndex[2]: 137  matchIndex[2]: 136
term 19 leader 1 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 19 leaderCommit: 136 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=136
leader log:
[{snapshot 19 129} {3770077241755820152 19 130} {2434796770256794358 19 131} {641067963345575269 19 132} {2282200856462614395 19 133} {6579411005563831056 19 134} {2992804347696038218 19 135} {8970113305353595816 19 136}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=137
update matchIndex[0]=136
update leader CommitIndex=136
leader log:
[{snapshot 19 129} {3770077241755820152 19 130} {2434796770256794358 19 131} {641067963345575269 19 132} {2282200856462614395 19 133} {6579411005563831056 19 134} {2992804347696038218 19 135} {8970113305353595816 19 136}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 8767478339557030786 (index 137) to leader 1
flag 62907 term 19 leader 1 nextIndex[0]: 137  matchIndex[0]: 136
term 19 leader 1 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 19 leaderCommit: 136 
------------------------------------------------------
flag 87773 term 19 leader 1 nextIndex[2]: 137  matchIndex[2]: 136
term 19 leader 1 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 19 leaderCommit: 136 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=138
update matchIndex[0]=137
update leader CommitIndex=137
leader log:
[{snapshot 19 129} {3770077241755820152 19 130} {2434796770256794358 19 131} {641067963345575269 19 132} {2282200856462614395 19 133} {6579411005563831056 19 134} {2992804347696038218 19 135} {8970113305353595816 19 136} {8767478339557030786 19 137}]
------------------------------------------------------
flag 77925 term 19 leader 1 nextIndex[0]: 138  matchIndex[0]: 137
term 19 leader 1 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 19 leaderCommit: 137 
------------------------------------------------------
flag 77708 term 19 leader 1 nextIndex[2]: 137  matchIndex[2]: 136
term 19 leader 1 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 19 leaderCommit: 137 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=138
update matchIndex[0]=137
update leader CommitIndex=137
leader log:
[{snapshot 19 129} {3770077241755820152 19 130} {2434796770256794358 19 131} {641067963345575269 19 132} {2282200856462614395 19 133} {6579411005563831056 19 134} {2992804347696038218 19 135} {8970113305353595816 19 136} {8767478339557030786 19 137}]
------------------------------------------------------
client write log 5442199687919545965 (index 138) to leader 1
client write log 4642182179603153192 (index 139) to leader 1
client write log 4529243862811798380 (index 140) to leader 1
client write log 5786638758045901790 (index 141) to leader 1
client write log 66004771555172867 (index 142) to leader 1
client write log 2287088415696947440 (index 143) to leader 1
client write log 5891679174987307341 (index 144) to leader 1
flag 55276 term 19 leader 1 nextIndex[0]: 138  matchIndex[0]: 137
term 19 leader 1 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 19 leaderCommit: 137 
------------------------------------------------------
flag 73038 term 19 leader 1 nextIndex[2]: 137  matchIndex[2]: 136
term 19 leader 1 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 19 leaderCommit: 137 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=144
leader log:
[{snapshot 19 129} {3770077241755820152 19 130} {2434796770256794358 19 131} {641067963345575269 19 132} {2282200856462614395 19 133} {6579411005563831056 19 134} {2992804347696038218 19 135} {8970113305353595816 19 136} {8767478339557030786 19 137} {5442199687919545965 19 138} {4642182179603153192 19 139} {4529243862811798380 19 140} {5786638758045901790 19 141} {66004771555172867 19 142} {2287088415696947440 19 143} {5891679174987307341 19 144}]
------------------------------------------------------
term 19 Server1 start snapshot! index=139
term 19 server1 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=144
-------------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 137->136
------------------------------------------------------
flag 53495 term 19 leader 1 nextIndex[0]: 145  matchIndex[0]: 144
term 19 leader 1 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 19 leaderCommit: 144 
------------------------------------------------------
term 19 leader 1 nextIndex[2]: 0  matchIndex[2]: 136
term 19 leader 1 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 19
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=144
leader log:
[{snapshot 19 139} {4529243862811798380 19 140} {5786638758045901790 19 141} {66004771555172867 19 142} {2287088415696947440 19 143} {5891679174987307341 19 144}]
------------------------------------------------------
term 19 Server0 start snapshot! index=139
term 19 server0 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=144
-------------------------------------------------------------
!!!!!!connect server 2
client write log 1897458734634188651 (index 145) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 19 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 57344 term 19 leader 1 nextIndex[0]: 145  matchIndex[0]: 144
term 19 leader 1 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 19 leaderCommit: 144 
------------------------------------------------------
term 19 leader 1 nextIndex[2]: 0  matchIndex[2]: 136
term 19 leader 1 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 19
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=145
leader log:
[{snapshot 19 139} {4529243862811798380 19 140} {5786638758045901790 19 141} {66004771555172867 19 142} {2287088415696947440 19 143} {5891679174987307341 19 144} {1897458734634188651 19 145}]
------------------------------------------------------
term 20 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 19 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 21 server 2 vote for server 1
term 21 server 1 get vote from server 2
term 21 server 1 become leader
------------------------------------------------------
term 21 server 0 vote for server 1
term 21 server 1 get outdate rpc reply from server 0
flag 66545 term 21 leader 1 nextIndex[0]: 146  matchIndex[0]: 0
term 21 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 19 leaderCommit: 145 
------------------------------------------------------
flag 24111 term 21 leader 1 nextIndex[2]: 146  matchIndex[2]: 0
term 21 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 19 leaderCommit: 145 
------------------------------------------------------
term 21 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 146->145
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=145
leader log:
[{snapshot 19 139} {4529243862811798380 19 140} {5786638758045901790 19 141} {66004771555172867 19 142} {2287088415696947440 19 143} {5891679174987307341 19 144} {1897458734634188651 19 145}]
------------------------------------------------------
flag 24484 term 21 leader 1 nextIndex[0]: 146  matchIndex[0]: 145
term 21 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 19 leaderCommit: 145 
------------------------------------------------------
term 21 leader 1 nextIndex[2]: 137  matchIndex[2]: 0
term 21 leader 1 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 19
------------------------------------------------------
term 21 server 2 InstallSnapshot success
------------------------------------------------------
term 21 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 140 matchIndex[2] 139 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 139 rf.lastIncludedTerm 19 rf.commitIndex 139 rf.lastApplied 139
term 21 server 0 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=145
leader log:
[{snapshot 19 139} {4529243862811798380 19 140} {5786638758045901790 19 141} {66004771555172867 19 142} {2287088415696947440 19 143} {5891679174987307341 19 144} {1897458734634188651 19 145}]
------------------------------------------------------
flag 47820 term 21 leader 1 nextIndex[0]: 146  matchIndex[0]: 145
term 21 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 19 leaderCommit: 145 
------------------------------------------------------
flag 66554 term 21 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 21 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 19 leaderCommit: 145 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=145
leader log:
[{snapshot 19 139} {4529243862811798380 19 140} {5786638758045901790 19 141} {66004771555172867 19 142} {2287088415696947440 19 143} {5891679174987307341 19 144} {1897458734634188651 19 145}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=145
leader log:
[{snapshot 19 139} {4529243862811798380 19 140} {5786638758045901790 19 141} {66004771555172867 19 142} {2287088415696947440 19 143} {5891679174987307341 19 144} {1897458734634188651 19 145}]
------------------------------------------------------
flag 27690 term 21 leader 1 nextIndex[0]: 146  matchIndex[0]: 145
term 21 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 19 leaderCommit: 145 
------------------------------------------------------
flag 33645 term 21 leader 1 nextIndex[2]: 146  matchIndex[2]: 145
term 21 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 19 leaderCommit: 145 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=145
leader log:
[{snapshot 19 139} {4529243862811798380 19 140} {5786638758045901790 19 141} {66004771555172867 19 142} {2287088415696947440 19 143} {5891679174987307341 19 144} {1897458734634188651 19 145}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=145
leader log:
[{snapshot 19 139} {4529243862811798380 19 140} {5786638758045901790 19 141} {66004771555172867 19 142} {2287088415696947440 19 143} {5891679174987307341 19 144} {1897458734634188651 19 145}]
------------------------------------------------------
flag 19174 term 21 leader 1 nextIndex[0]: 146  matchIndex[0]: 145
term 21 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 19 leaderCommit: 145 
------------------------------------------------------
flag 94910 term 21 leader 1 nextIndex[2]: 146  matchIndex[2]: 145
term 21 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 19 leaderCommit: 145 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=145
leader log:
[{snapshot 19 139} {4529243862811798380 19 140} {5786638758045901790 19 141} {66004771555172867 19 142} {2287088415696947440 19 143} {5891679174987307341 19 144} {1897458734634188651 19 145}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=145
leader log:
[{snapshot 19 139} {4529243862811798380 19 140} {5786638758045901790 19 141} {66004771555172867 19 142} {2287088415696947440 19 143} {5891679174987307341 19 144} {1897458734634188651 19 145}]
------------------------------------------------------
flag 84339 term 21 leader 1 nextIndex[0]: 146  matchIndex[0]: 145
term 21 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 19 leaderCommit: 145 
------------------------------------------------------
flag 48811 term 21 leader 1 nextIndex[2]: 146  matchIndex[2]: 145
term 21 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 19 leaderCommit: 145 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=145
leader log:
[{snapshot 19 139} {4529243862811798380 19 140} {5786638758045901790 19 141} {66004771555172867 19 142} {2287088415696947440 19 143} {5891679174987307341 19 144} {1897458734634188651 19 145}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=145
leader log:
[{snapshot 19 139} {4529243862811798380 19 140} {5786638758045901790 19 141} {66004771555172867 19 142} {2287088415696947440 19 143} {5891679174987307341 19 144} {1897458734634188651 19 145}]
------------------------------------------------------
term 21 server 1 not vote for server 2, 任期不够新
term 21 server 2 get outdate rpc reply from server 1
flag 66652 term 21 leader 1 nextIndex[0]: 146  matchIndex[0]: 145
term 21 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 19 leaderCommit: 145 
------------------------------------------------------
flag 78915 term 21 leader 1 nextIndex[2]: 146  matchIndex[2]: 145
term 21 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 19 leaderCommit: 145 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=145
leader log:
[{snapshot 19 139} {4529243862811798380 19 140} {5786638758045901790 19 141} {66004771555172867 19 142} {2287088415696947440 19 143} {5891679174987307341 19 144} {1897458734634188651 19 145}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=145
leader log:
[{snapshot 19 139} {4529243862811798380 19 140} {5786638758045901790 19 141} {66004771555172867 19 142} {2287088415696947440 19 143} {5891679174987307341 19 144} {1897458734634188651 19 145}]
------------------------------------------------------
flag 18148 term 21 leader 1 nextIndex[0]: 146  matchIndex[0]: 145
term 21 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 19 leaderCommit: 145 
------------------------------------------------------
flag 19294 term 21 leader 1 nextIndex[2]: 146  matchIndex[2]: 145
term 21 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 19 leaderCommit: 145 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=145
leader log:
[{snapshot 19 139} {4529243862811798380 19 140} {5786638758045901790 19 141} {66004771555172867 19 142} {2287088415696947440 19 143} {5891679174987307341 19 144} {1897458734634188651 19 145}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=145
leader log:
[{snapshot 19 139} {4529243862811798380 19 140} {5786638758045901790 19 141} {66004771555172867 19 142} {2287088415696947440 19 143} {5891679174987307341 19 144} {1897458734634188651 19 145}]
------------------------------------------------------
term 21 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
!!!!!!diconnect server 2
client write log 499501083936385119 (index 146) to leader 1
flag 59375 term 21 leader 1 nextIndex[0]: 146  matchIndex[0]: 145
term 21 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 19 leaderCommit: 145 
------------------------------------------------------
flag 82954 term 21 leader 1 nextIndex[2]: 146  matchIndex[2]: 145
term 21 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 19 leaderCommit: 145 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=147
update matchIndex[0]=146
update leader CommitIndex=146
leader log:
[{snapshot 19 139} {4529243862811798380 19 140} {5786638758045901790 19 141} {66004771555172867 19 142} {2287088415696947440 19 143} {5891679174987307341 19 144} {1897458734634188651 19 145} {499501083936385119 21 146}]
------------------------------------------------------
term 21 server 0 not vote for server 1, 任期不够新
term 21 server 1 get outdate rpc reply from server 0
term 21 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 60602 term 21 leader 1 nextIndex[0]: 147  matchIndex[0]: 146
term 21 leader 1 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 21 leaderCommit: 146 
------------------------------------------------------
flag 40299 term 21 leader 1 nextIndex[2]: 146  matchIndex[2]: 145
term 21 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 19 leaderCommit: 146 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=147
update matchIndex[0]=146
update leader CommitIndex=146
leader log:
[{snapshot 19 139} {4529243862811798380 19 140} {5786638758045901790 19 141} {66004771555172867 19 142} {2287088415696947440 19 143} {5891679174987307341 19 144} {1897458734634188651 19 145} {499501083936385119 21 146}]
------------------------------------------------------
client write log 9067381532261309474 (index 147) to leader 1
client write log 5384887247832118044 (index 148) to leader 1
client write log 7126796858516083341 (index 149) to leader 1
client write log 6481248511462020972 (index 150) to leader 1
client write log 7093486330393420121 (index 151) to leader 1
client write log 7526445254371169907 (index 152) to leader 1
client write log 1653733082485622169 (index 153) to leader 1
client write log 6873396405058522303 (index 154) to leader 1
client write log 3827093268193447704 (index 155) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95695 term 21 leader 1 nextIndex[0]: 147  matchIndex[0]: 146
term 21 leader 1 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 21 leaderCommit: 146 
------------------------------------------------------
flag 62638 term 21 leader 1 nextIndex[2]: 146  matchIndex[2]: 145
term 21 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 19 leaderCommit: 146 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=155
leader log:
[{snapshot 19 139} {4529243862811798380 19 140} {5786638758045901790 19 141} {66004771555172867 19 142} {2287088415696947440 19 143} {5891679174987307341 19 144} {1897458734634188651 19 145} {499501083936385119 21 146} {9067381532261309474 21 147} {5384887247832118044 21 148} {7126796858516083341 21 149} {6481248511462020972 21 150} {7093486330393420121 21 151} {7526445254371169907 21 152} {1653733082485622169 21 153} {6873396405058522303 21 154} {3827093268193447704 21 155}]
------------------------------------------------------
term 21 Server1 start snapshot! index=149
term 21 server1 snapshot success
lastIncludedIndex=149 lastApplied=150 lastIndex=155
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84007 term 21 leader 1 nextIndex[0]: 156  matchIndex[0]: 155
term 21 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 21 leaderCommit: 155 
------------------------------------------------------
term 21 leader 1 nextIndex[2]: 146  matchIndex[2]: 145
term 21 leader 1 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 21
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=155
leader log:
[{snapshot 21 149} {6481248511462020972 21 150} {7093486330393420121 21 151} {7526445254371169907 21 152} {1653733082485622169 21 153} {6873396405058522303 21 154} {3827093268193447704 21 155}]
------------------------------------------------------
term 21 Server0 start snapshot! index=149
term 21 server0 snapshot success
lastIncludedIndex=149 lastApplied=150 lastIndex=155
-------------------------------------------------------------
!!!!!!connect server 2
client write log 5225898617443647218 (index 156) to leader 1
flag 99171 term 21 leader 1 nextIndex[0]: 156  matchIndex[0]: 155
term 21 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 21 leaderCommit: 155 
------------------------------------------------------
term 21 leader 1 nextIndex[2]: 146  matchIndex[2]: 145
term 21 leader 1 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 21
------------------------------------------------------
term 22 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
term 21 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 22 server 2 not vote for server 1, 任期不够新
term 22 server 1 get outdate rpc reply from server 2
term 23 server 2 vote for server 1
term 23 server 0 vote for server 1
term 23 server 1 get vote from server 2
term 23 server 1 become leader
------------------------------------------------------
term 23 server 1 get outdate rpc reply from server 0
flag 82119 term 23 leader 1 nextIndex[0]: 157  matchIndex[0]: 0
term 23 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 21 leaderCommit: 155 
------------------------------------------------------
flag 54057 term 23 leader 1 nextIndex[2]: 157  matchIndex[2]: 0
term 23 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 21 leaderCommit: 155 
------------------------------------------------------
term 23 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=155
leader log:
[{snapshot 21 149} {6481248511462020972 21 150} {7093486330393420121 21 151} {7526445254371169907 21 152} {1653733082485622169 21 153} {6873396405058522303 21 154} {3827093268193447704 21 155} {5225898617443647218 21 156}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 157->156
------------------------------------------------------
flag 2927 term 23 leader 1 nextIndex[0]: 157  matchIndex[0]: 156
term 23 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 21 leaderCommit: 155 
------------------------------------------------------
term 23 leader 1 nextIndex[2]: 146  matchIndex[2]: 0
term 23 leader 1 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 21
------------------------------------------------------
term 23 server 2 InstallSnapshot success
------------------------------------------------------
term 23 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 150 matchIndex[2] 149 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 149 rf.lastIncludedTerm 21 rf.commitIndex 149 rf.lastApplied 149
term 23 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=155
leader log:
[{snapshot 21 149} {6481248511462020972 21 150} {7093486330393420121 21 151} {7526445254371169907 21 152} {1653733082485622169 21 153} {6873396405058522303 21 154} {3827093268193447704 21 155} {5225898617443647218 21 156}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 23 server 2 not vote for server 1, 任期不够新
term 23 server 1 get outdate rpc reply from server 2
flag 96050 term 23 leader 1 nextIndex[0]: 157  matchIndex[0]: 156
term 23 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 21 leaderCommit: 155 
------------------------------------------------------
flag 91470 term 23 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 23 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 21 leaderCommit: 155 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=157
update matchIndex[2]=156
update leader CommitIndex=155
leader log:
[{snapshot 21 149} {6481248511462020972 21 150} {7093486330393420121 21 151} {7526445254371169907 21 152} {1653733082485622169 21 153} {6873396405058522303 21 154} {3827093268193447704 21 155} {5225898617443647218 21 156}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=155
leader log:
[{snapshot 21 149} {6481248511462020972 21 150} {7093486330393420121 21 151} {7526445254371169907 21 152} {1653733082485622169 21 153} {6873396405058522303 21 154} {3827093268193447704 21 155} {5225898617443647218 21 156}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80828 term 23 leader 1 nextIndex[0]: 157  matchIndex[0]: 156
term 23 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 21 leaderCommit: 155 
------------------------------------------------------
flag 41435 term 23 leader 1 nextIndex[2]: 157  matchIndex[2]: 156
term 23 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 21 leaderCommit: 155 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=157
update matchIndex[2]=156
update leader CommitIndex=155
leader log:
[{snapshot 21 149} {6481248511462020972 21 150} {7093486330393420121 21 151} {7526445254371169907 21 152} {1653733082485622169 21 153} {6873396405058522303 21 154} {3827093268193447704 21 155} {5225898617443647218 21 156}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=155
leader log:
[{snapshot 21 149} {6481248511462020972 21 150} {7093486330393420121 21 151} {7526445254371169907 21 152} {1653733082485622169 21 153} {6873396405058522303 21 154} {3827093268193447704 21 155} {5225898617443647218 21 156}]
------------------------------------------------------
flag 54956 term 23 leader 1 nextIndex[0]: 157  matchIndex[0]: 156
term 23 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 21 leaderCommit: 155 
------------------------------------------------------
flag 25777 term 23 leader 1 nextIndex[2]: 157  matchIndex[2]: 156
term 23 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 21 leaderCommit: 155 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=157
update matchIndex[2]=156
update leader CommitIndex=155
leader log:
[{snapshot 21 149} {6481248511462020972 21 150} {7093486330393420121 21 151} {7526445254371169907 21 152} {1653733082485622169 21 153} {6873396405058522303 21 154} {3827093268193447704 21 155} {5225898617443647218 21 156}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=155
leader log:
[{snapshot 21 149} {6481248511462020972 21 150} {7093486330393420121 21 151} {7526445254371169907 21 152} {1653733082485622169 21 153} {6873396405058522303 21 154} {3827093268193447704 21 155} {5225898617443647218 21 156}]
------------------------------------------------------
flag 52479 term 23 leader 1 nextIndex[0]: 157  matchIndex[0]: 156
term 23 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 21 leaderCommit: 155 
------------------------------------------------------
flag 3523 term 23 leader 1 nextIndex[2]: 157  matchIndex[2]: 156
term 23 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 21 leaderCommit: 155 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=157
update matchIndex[2]=156
update leader CommitIndex=155
leader log:
[{snapshot 21 149} {6481248511462020972 21 150} {7093486330393420121 21 151} {7526445254371169907 21 152} {1653733082485622169 21 153} {6873396405058522303 21 154} {3827093268193447704 21 155} {5225898617443647218 21 156}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=155
leader log:
[{snapshot 21 149} {6481248511462020972 21 150} {7093486330393420121 21 151} {7526445254371169907 21 152} {1653733082485622169 21 153} {6873396405058522303 21 154} {3827093268193447704 21 155} {5225898617443647218 21 156}]
------------------------------------------------------
flag 25409 term 23 leader 1 nextIndex[0]: 157  matchIndex[0]: 156
term 23 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 21 leaderCommit: 155 
------------------------------------------------------
flag 55000 term 23 leader 1 nextIndex[2]: 157  matchIndex[2]: 156
term 23 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 21 leaderCommit: 155 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=155
leader log:
[{snapshot 21 149} {6481248511462020972 21 150} {7093486330393420121 21 151} {7526445254371169907 21 152} {1653733082485622169 21 153} {6873396405058522303 21 154} {3827093268193447704 21 155} {5225898617443647218 21 156}]
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=157
update matchIndex[2]=156
update leader CommitIndex=155
leader log:
[{snapshot 21 149} {6481248511462020972 21 150} {7093486330393420121 21 151} {7526445254371169907 21 152} {1653733082485622169 21 153} {6873396405058522303 21 154} {3827093268193447704 21 155} {5225898617443647218 21 156}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 23 server 1 not vote for server 2, 任期不够新
term 23 server 2 get outdate rpc reply from server 1
flag 78599 term 23 leader 1 nextIndex[0]: 157  matchIndex[0]: 156
term 23 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 21 leaderCommit: 155 
------------------------------------------------------
flag 93399 term 23 leader 1 nextIndex[2]: 157  matchIndex[2]: 156
term 23 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 21 leaderCommit: 155 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=157
update matchIndex[2]=156
update leader CommitIndex=155
leader log:
[{snapshot 21 149} {6481248511462020972 21 150} {7093486330393420121 21 151} {7526445254371169907 21 152} {1653733082485622169 21 153} {6873396405058522303 21 154} {3827093268193447704 21 155} {5225898617443647218 21 156}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=155
leader log:
[{snapshot 21 149} {6481248511462020972 21 150} {7093486330393420121 21 151} {7526445254371169907 21 152} {1653733082485622169 21 153} {6873396405058522303 21 154} {3827093268193447704 21 155} {5225898617443647218 21 156}]
------------------------------------------------------
flag 34116 term 23 leader 1 nextIndex[0]: 157  matchIndex[0]: 156
term 23 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 21 leaderCommit: 155 
------------------------------------------------------
flag 99126 term 23 leader 1 nextIndex[2]: 157  matchIndex[2]: 156
term 23 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 21 leaderCommit: 155 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=157
update matchIndex[2]=156
update leader CommitIndex=155
leader log:
[{snapshot 21 149} {6481248511462020972 21 150} {7093486330393420121 21 151} {7526445254371169907 21 152} {1653733082485622169 21 153} {6873396405058522303 21 154} {3827093268193447704 21 155} {5225898617443647218 21 156}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=155
leader log:
[{snapshot 21 149} {6481248511462020972 21 150} {7093486330393420121 21 151} {7526445254371169907 21 152} {1653733082485622169 21 153} {6873396405058522303 21 154} {3827093268193447704 21 155} {5225898617443647218 21 156}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3759 term 23 leader 1 nextIndex[0]: 157  matchIndex[0]: 156
term 23 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 21 leaderCommit: 155 
------------------------------------------------------
flag 97627 term 23 leader 1 nextIndex[2]: 157  matchIndex[2]: 156
term 23 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 21 leaderCommit: 155 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=157
update matchIndex[2]=156
update leader CommitIndex=155
leader log:
[{snapshot 21 149} {6481248511462020972 21 150} {7093486330393420121 21 151} {7526445254371169907 21 152} {1653733082485622169 21 153} {6873396405058522303 21 154} {3827093268193447704 21 155} {5225898617443647218 21 156}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=155
leader log:
[{snapshot 21 149} {6481248511462020972 21 150} {7093486330393420121 21 151} {7526445254371169907 21 152} {1653733082485622169 21 153} {6873396405058522303 21 154} {3827093268193447704 21 155} {5225898617443647218 21 156}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47878 term 23 leader 1 nextIndex[0]: 157  matchIndex[0]: 156
term 23 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 21 leaderCommit: 155 
------------------------------------------------------
flag 16331 term 23 leader 1 nextIndex[2]: 157  matchIndex[2]: 156
term 23 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 21 leaderCommit: 155 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=155
leader log:
[{snapshot 21 149} {6481248511462020972 21 150} {7093486330393420121 21 151} {7526445254371169907 21 152} {1653733082485622169 21 153} {6873396405058522303 21 154} {3827093268193447704 21 155} {5225898617443647218 21 156}]
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=157
update matchIndex[2]=156
update leader CommitIndex=155
leader log:
[{snapshot 21 149} {6481248511462020972 21 150} {7093486330393420121 21 151} {7526445254371169907 21 152} {1653733082485622169 21 153} {6873396405058522303 21 154} {3827093268193447704 21 155} {5225898617443647218 21 156}]
------------------------------------------------------
flag 28004 term 23 leader 1 nextIndex[0]: 157  matchIndex[0]: 156
term 23 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 21 leaderCommit: 155 
------------------------------------------------------
flag 1053 term 23 leader 1 nextIndex[2]: 157  matchIndex[2]: 156
term 23 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 21 leaderCommit: 155 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=157
update matchIndex[2]=156
update leader CommitIndex=155
leader log:
[{snapshot 21 149} {6481248511462020972 21 150} {7093486330393420121 21 151} {7526445254371169907 21 152} {1653733082485622169 21 153} {6873396405058522303 21 154} {3827093268193447704 21 155} {5225898617443647218 21 156}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=155
leader log:
[{snapshot 21 149} {6481248511462020972 21 150} {7093486330393420121 21 151} {7526445254371169907 21 152} {1653733082485622169 21 153} {6873396405058522303 21 154} {3827093268193447704 21 155} {5225898617443647218 21 156}]
------------------------------------------------------
flag 79868 term 23 leader 1 nextIndex[0]: 157  matchIndex[0]: 156
term 23 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 21 leaderCommit: 155 
------------------------------------------------------
flag 54806 term 23 leader 1 nextIndex[2]: 157  matchIndex[2]: 156
term 23 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 21 leaderCommit: 155 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=157
update matchIndex[2]=156
update leader CommitIndex=155
leader log:
[{snapshot 21 149} {6481248511462020972 21 150} {7093486330393420121 21 151} {7526445254371169907 21 152} {1653733082485622169 21 153} {6873396405058522303 21 154} {3827093268193447704 21 155} {5225898617443647218 21 156}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=155
leader log:
[{snapshot 21 149} {6481248511462020972 21 150} {7093486330393420121 21 151} {7526445254371169907 21 152} {1653733082485622169 21 153} {6873396405058522303 21 154} {3827093268193447704 21 155} {5225898617443647218 21 156}]
------------------------------------------------------
flag 63894 term 23 leader 1 nextIndex[0]: 157  matchIndex[0]: 156
term 23 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 21 leaderCommit: 155 
------------------------------------------------------
flag 84285 term 23 leader 1 nextIndex[2]: 157  matchIndex[2]: 156
term 23 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 21 leaderCommit: 155 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=155
leader log:
[{snapshot 21 149} {6481248511462020972 21 150} {7093486330393420121 21 151} {7526445254371169907 21 152} {1653733082485622169 21 153} {6873396405058522303 21 154} {3827093268193447704 21 155} {5225898617443647218 21 156}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=157
update matchIndex[2]=156
update leader CommitIndex=155
leader log:
[{snapshot 21 149} {6481248511462020972 21 150} {7093486330393420121 21 151} {7526445254371169907 21 152} {1653733082485622169 21 153} {6873396405058522303 21 154} {3827093268193447704 21 155} {5225898617443647218 21 156}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3738 term 23 leader 1 nextIndex[0]: 157  matchIndex[0]: 156
term 23 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 21 leaderCommit: 155 
------------------------------------------------------
flag 68300 term 23 leader 1 nextIndex[2]: 157  matchIndex[2]: 156
term 23 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 21 leaderCommit: 155 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=157
update matchIndex[2]=156
update leader CommitIndex=155
leader log:
[{snapshot 21 149} {6481248511462020972 21 150} {7093486330393420121 21 151} {7526445254371169907 21 152} {1653733082485622169 21 153} {6873396405058522303 21 154} {3827093268193447704 21 155} {5225898617443647218 21 156}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=155
leader log:
[{snapshot 21 149} {6481248511462020972 21 150} {7093486330393420121 21 151} {7526445254371169907 21 152} {1653733082485622169 21 153} {6873396405058522303 21 154} {3827093268193447704 21 155} {5225898617443647218 21 156}]
------------------------------------------------------
flag 1495 term 23 leader 1 nextIndex[0]: 157  matchIndex[0]: 156
term 23 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 21 leaderCommit: 155 
------------------------------------------------------
flag 5553 term 23 leader 1 nextIndex[2]: 157  matchIndex[2]: 156
term 23 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 21 leaderCommit: 155 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=157
update matchIndex[2]=156
update leader CommitIndex=155
leader log:
[{snapshot 21 149} {6481248511462020972 21 150} {7093486330393420121 21 151} {7526445254371169907 21 152} {1653733082485622169 21 153} {6873396405058522303 21 154} {3827093268193447704 21 155} {5225898617443647218 21 156}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=155
leader log:
[{snapshot 21 149} {6481248511462020972 21 150} {7093486330393420121 21 151} {7526445254371169907 21 152} {1653733082485622169 21 153} {6873396405058522303 21 154} {3827093268193447704 21 155} {5225898617443647218 21 156}]
------------------------------------------------------
term 23 server 0 not vote for server 1, 任期不够新
term 23 server 1 get outdate rpc reply from server 0
flag 70136 term 23 leader 1 nextIndex[0]: 157  matchIndex[0]: 156
term 23 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 21 leaderCommit: 155 
------------------------------------------------------
flag 93808 term 23 leader 1 nextIndex[2]: 157  matchIndex[2]: 156
term 23 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 21 leaderCommit: 155 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=157
update matchIndex[2]=156
update leader CommitIndex=155
leader log:
[{snapshot 21 149} {6481248511462020972 21 150} {7093486330393420121 21 151} {7526445254371169907 21 152} {1653733082485622169 21 153} {6873396405058522303 21 154} {3827093268193447704 21 155} {5225898617443647218 21 156}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=155
leader log:
[{snapshot 21 149} {6481248511462020972 21 150} {7093486330393420121 21 151} {7526445254371169907 21 152} {1653733082485622169 21 153} {6873396405058522303 21 154} {3827093268193447704 21 155} {5225898617443647218 21 156}]
------------------------------------------------------
flag 18110 term 23 leader 1 nextIndex[0]: 157  matchIndex[0]: 156
term 23 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 21 leaderCommit: 155 
------------------------------------------------------
flag 28436 term 23 leader 1 nextIndex[2]: 157  matchIndex[2]: 156
term 23 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 21 leaderCommit: 155 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=157
update matchIndex[2]=156
update leader CommitIndex=155
leader log:
[{snapshot 21 149} {6481248511462020972 21 150} {7093486330393420121 21 151} {7526445254371169907 21 152} {1653733082485622169 21 153} {6873396405058522303 21 154} {3827093268193447704 21 155} {5225898617443647218 21 156}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=155
leader log:
[{snapshot 21 149} {6481248511462020972 21 150} {7093486330393420121 21 151} {7526445254371169907 21 152} {1653733082485622169 21 153} {6873396405058522303 21 154} {3827093268193447704 21 155} {5225898617443647218 21 156}]
------------------------------------------------------
flag 81544 term 23 leader 1 nextIndex[0]: 157  matchIndex[0]: 156
term 23 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 21 leaderCommit: 155 
------------------------------------------------------
flag 91702 term 23 leader 1 nextIndex[2]: 157  matchIndex[2]: 156
term 23 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 21 leaderCommit: 155 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=157
update matchIndex[2]=156
update leader CommitIndex=155
leader log:
[{snapshot 21 149} {6481248511462020972 21 150} {7093486330393420121 21 151} {7526445254371169907 21 152} {1653733082485622169 21 153} {6873396405058522303 21 154} {3827093268193447704 21 155} {5225898617443647218 21 156}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=155
leader log:
[{snapshot 21 149} {6481248511462020972 21 150} {7093486330393420121 21 151} {7526445254371169907 21 152} {1653733082485622169 21 153} {6873396405058522303 21 154} {3827093268193447704 21 155} {5225898617443647218 21 156}]
------------------------------------------------------
client write log 5225898617443647218 (index 157) to leader 1
flag 92721 term 23 leader 1 nextIndex[0]: 157  matchIndex[0]: 156
term 23 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 21 leaderCommit: 155 
------------------------------------------------------
flag 30348 term 23 leader 1 nextIndex[2]: 157  matchIndex[2]: 156
term 23 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 21 leaderCommit: 155 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=157
leader log:
[{snapshot 21 149} {6481248511462020972 21 150} {7093486330393420121 21 151} {7526445254371169907 21 152} {1653733082485622169 21 153} {6873396405058522303 21 154} {3827093268193447704 21 155} {5225898617443647218 21 156} {5225898617443647218 23 157}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=158
update matchIndex[0]=157
update leader CommitIndex=157
leader log:
[{snapshot 21 149} {6481248511462020972 21 150} {7093486330393420121 21 151} {7526445254371169907 21 152} {1653733082485622169 21 153} {6873396405058522303 21 154} {3827093268193447704 21 155} {5225898617443647218 21 156} {5225898617443647218 23 157}]
------------------------------------------------------
flag 34177 term 23 leader 1 nextIndex[0]: 158  matchIndex[0]: 157
term 23 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 23 leaderCommit: 157 
------------------------------------------------------
flag 79430 term 23 leader 1 nextIndex[2]: 158  matchIndex[2]: 157
term 23 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 23 leaderCommit: 157 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=157
leader log:
[{snapshot 21 149} {6481248511462020972 21 150} {7093486330393420121 21 151} {7526445254371169907 21 152} {1653733082485622169 21 153} {6873396405058522303 21 154} {3827093268193447704 21 155} {5225898617443647218 21 156} {5225898617443647218 23 157}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=158
update matchIndex[0]=157
update leader CommitIndex=157
leader log:
[{snapshot 21 149} {6481248511462020972 21 150} {7093486330393420121 21 151} {7526445254371169907 21 152} {1653733082485622169 21 153} {6873396405058522303 21 154} {3827093268193447704 21 155} {5225898617443647218 21 156} {5225898617443647218 23 157}]
------------------------------------------------------
flag 92459 term 23 leader 1 nextIndex[0]: 158  matchIndex[0]: 157
term 23 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 23 leaderCommit: 157 
------------------------------------------------------
flag 42483 term 23 leader 1 nextIndex[2]: 158  matchIndex[2]: 157
term 23 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 23 leaderCommit: 157 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=157
leader log:
[{snapshot 21 149} {6481248511462020972 21 150} {7093486330393420121 21 151} {7526445254371169907 21 152} {1653733082485622169 21 153} {6873396405058522303 21 154} {3827093268193447704 21 155} {5225898617443647218 21 156} {5225898617443647218 23 157}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=158
update matchIndex[0]=157
update leader CommitIndex=157
leader log:
[{snapshot 21 149} {6481248511462020972 21 150} {7093486330393420121 21 151} {7526445254371169907 21 152} {1653733082485622169 21 153} {6873396405058522303 21 154} {3827093268193447704 21 155} {5225898617443647218 21 156} {5225898617443647218 23 157}]
------------------------------------------------------
flag 45445 term 23 leader 1 nextIndex[0]: 158  matchIndex[0]: 157
term 23 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 23 leaderCommit: 157 
------------------------------------------------------
flag 53749 term 23 leader 1 nextIndex[2]: 158  matchIndex[2]: 157
term 23 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 23 leaderCommit: 157 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=157
leader log:
[{snapshot 21 149} {6481248511462020972 21 150} {7093486330393420121 21 151} {7526445254371169907 21 152} {1653733082485622169 21 153} {6873396405058522303 21 154} {3827093268193447704 21 155} {5225898617443647218 21 156} {5225898617443647218 23 157}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=158
update matchIndex[0]=157
update leader CommitIndex=157
leader log:
[{snapshot 21 149} {6481248511462020972 21 150} {7093486330393420121 21 151} {7526445254371169907 21 152} {1653733082485622169 21 153} {6873396405058522303 21 154} {3827093268193447704 21 155} {5225898617443647218 21 156} {5225898617443647218 23 157}]
------------------------------------------------------
flag 33222 term 23 leader 1 nextIndex[0]: 158  matchIndex[0]: 157
term 23 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 23 leaderCommit: 157 
------------------------------------------------------
flag 91891 term 23 leader 1 nextIndex[2]: 158  matchIndex[2]: 157
term 23 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 23 leaderCommit: 157 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=157
leader log:
[{snapshot 21 149} {6481248511462020972 21 150} {7093486330393420121 21 151} {7526445254371169907 21 152} {1653733082485622169 21 153} {6873396405058522303 21 154} {3827093268193447704 21 155} {5225898617443647218 21 156} {5225898617443647218 23 157}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=158
update matchIndex[0]=157
update leader CommitIndex=157
leader log:
[{snapshot 21 149} {6481248511462020972 21 150} {7093486330393420121 21 151} {7526445254371169907 21 152} {1653733082485622169 21 153} {6873396405058522303 21 154} {3827093268193447704 21 155} {5225898617443647218 21 156} {5225898617443647218 23 157}]
------------------------------------------------------
term 23 server 0 not vote for server 2, 任期不够新
term 23 server 2 get outdate rpc reply from server 0
flag 27283 term 23 leader 1 nextIndex[0]: 158  matchIndex[0]: 157
term 23 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 23 leaderCommit: 157 
------------------------------------------------------
flag 68601 term 23 leader 1 nextIndex[2]: 158  matchIndex[2]: 157
term 23 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 23 leaderCommit: 157 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=158
update matchIndex[0]=157
update leader CommitIndex=157
leader log:
[{snapshot 21 149} {6481248511462020972 21 150} {7093486330393420121 21 151} {7526445254371169907 21 152} {1653733082485622169 21 153} {6873396405058522303 21 154} {3827093268193447704 21 155} {5225898617443647218 21 156} {5225898617443647218 23 157}]
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=157
leader log:
[{snapshot 21 149} {6481248511462020972 21 150} {7093486330393420121 21 151} {7526445254371169907 21 152} {1653733082485622169 21 153} {6873396405058522303 21 154} {3827093268193447704 21 155} {5225898617443647218 21 156} {5225898617443647218 23 157}]
------------------------------------------------------
flag 73092 term 23 leader 1 nextIndex[0]: 158  matchIndex[0]: 157
term 23 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 23 leaderCommit: 157 
------------------------------------------------------
flag 77911 term 23 leader 1 nextIndex[2]: 158  matchIndex[2]: 157
term 23 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 23 leaderCommit: 157 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=158
update matchIndex[0]=157
update leader CommitIndex=157
leader log:
term 23 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
[{snapshot 21 149} {6481248511462020972 21 150} {7093486330393420121 21 151} {7526445254371169907 21 152} {1653733082485622169 21 153} {6873396405058522303 21 154} {3827093268193447704 21 155} {5225898617443647218 21 156} {5225898617443647218 23 157}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=157
leader log:
[{snapshot 21 149} {6481248511462020972 21 150} {7093486330393420121 21 151} {7526445254371169907 21 152} {1653733082485622169 21 153} {6873396405058522303 21 154} {3827093268193447704 21 155} {5225898617443647218 21 156} {5225898617443647218 23 157}]
------------------------------------------------------
!!!!!!diconnect server 1
term 23 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 23 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 84318 term 23 leader 1 nextIndex[0]: 158  matchIndex[0]: 157
term 23 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 23 leaderCommit: 157 
------------------------------------------------------
flag 4414 term 23 leader 1 nextIndex[2]: 158  matchIndex[2]: 157
term 23 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 23 leaderCommit: 157 
------------------------------------------------------
flag 22633 term 23 leader 1 nextIndex[0]: 158  matchIndex[0]: 157
term 23 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 23 leaderCommit: 157 
------------------------------------------------------
flag 63233 term 23 leader 1 nextIndex[2]: 158  matchIndex[2]: 157
term 23 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 23 leaderCommit: 157 
------------------------------------------------------
flag 22243 term 23 leader 1 nextIndex[0]: 158  matchIndex[0]: 157
term 23 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 23 leaderCommit: 157 
------------------------------------------------------
flag 38947 term 23 leader 1 nextIndex[2]: 158  matchIndex[2]: 157
term 23 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 23 leaderCommit: 157 
------------------------------------------------------
flag 44672 term 23 leader 1 nextIndex[0]: 158  matchIndex[0]: 157
term 23 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 23 leaderCommit: 157 
------------------------------------------------------
flag 37789 term 23 leader 1 nextIndex[2]: 158  matchIndex[2]: 157
term 23 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 23 leaderCommit: 157 
------------------------------------------------------
term 24 server 0 vote for server 2
term 24 server 2 get vote from server 0
term 24 server 2 become leader
------------------------------------------------------
flag 98125 term 24 leader 2 nextIndex[0]: 158  matchIndex[0]: 0
term 24 leader 2 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 23 leaderCommit: 157 
------------------------------------------------------
flag 89763 term 24 leader 2 nextIndex[1]: 158  matchIndex[1]: 0
term 24 leader 2 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 23 leaderCommit: 157 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=158
update matchIndex[0]=157
update leader CommitIndex=157
leader log:
[{snapshot 21 149} {6481248511462020972 21 150} {7093486330393420121 21 151} {7526445254371169907 21 152} {1653733082485622169 21 153} {6873396405058522303 21 154} {3827093268193447704 21 155} {5225898617443647218 21 156} {5225898617443647218 23 157}]
------------------------------------------------------
client write log 1863985126035453453 (index 158) to leader 2
flag 67636 term 23 leader 1 nextIndex[0]: 158  matchIndex[0]: 157
term 23 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 23 leaderCommit: 157 
------------------------------------------------------
flag 99634 term 23 leader 1 nextIndex[2]: 158  matchIndex[2]: 157
term 23 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 23 leaderCommit: 157 
------------------------------------------------------
flag 80527 term 24 leader 2 nextIndex[0]: 158  matchIndex[0]: 157
term 24 leader 2 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 23 leaderCommit: 157 
------------------------------------------------------
flag 6843 term 24 leader 2 nextIndex[1]: 158  matchIndex[1]: 0
term 24 leader 2 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 23 leaderCommit: 157 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=158
leader log:
[{snapshot 21 149} {6481248511462020972 21 150} {7093486330393420121 21 151} {7526445254371169907 21 152} {1653733082485622169 21 153} {6873396405058522303 21 154} {3827093268193447704 21 155} {5225898617443647218 21 156} {5225898617443647218 23 157} {1863985126035453453 24 158}]
------------------------------------------------------
flag 75138 term 23 leader 1 nextIndex[0]: 158  matchIndex[0]: 157
term 23 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 23 leaderCommit: 157 
------------------------------------------------------
flag 68357 term 23 leader 1 nextIndex[2]: 158  matchIndex[2]: 157
term 23 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 23 leaderCommit: 157 
------------------------------------------------------
flag 42980 term 24 leader 2 nextIndex[0]: 159  matchIndex[0]: 158
term 24 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 24 leaderCommit: 158 
------------------------------------------------------
flag 44078 term 24 leader 2 nextIndex[1]: 158  matchIndex[1]: 0
term 24 leader 2 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 23 leaderCommit: 158 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=158
leader log:
[{snapshot 21 149} {6481248511462020972 21 150} {7093486330393420121 21 151} {7526445254371169907 21 152} {1653733082485622169 21 153} {6873396405058522303 21 154} {3827093268193447704 21 155} {5225898617443647218 21 156} {5225898617443647218 23 157} {1863985126035453453 24 158}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38397 term 23 leader 1 nextIndex[0]: 158  matchIndex[0]: 157
term 23 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 23 leaderCommit: 157 
------------------------------------------------------
flag 63035 term 23 leader 1 nextIndex[2]: 158  matchIndex[2]: 157
term 23 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 23 leaderCommit: 157 
------------------------------------------------------
client write log 2186374276625889693 (index 159) to leader 2
client write log 1058052193747653342 (index 160) to leader 2
client write log 7720398418645539529 (index 161) to leader 2
client write log 6088920105328495299 (index 162) to leader 2
client write log 2937603006176912109 (index 163) to leader 2
client write log 778295077353913023 (index 164) to leader 2
client write log 5463967796875078146 (index 165) to leader 2
client write log 6412367079817064049 (index 166) to leader 2
client write log 6394863828731415291 (index 167) to leader 2
client write log 5405877410262036345 (index 168) to leader 2
client write log 8830402656993020814 (index 169) to leader 2
client write log 3283417326610075111 (index 170) to leader 2
flag 19847 term 24 leader 2 nextIndex[0]: 159  matchIndex[0]: 158
term 24 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 24 leaderCommit: 158 
------------------------------------------------------
flag 93710 term 24 leader 2 nextIndex[1]: 158  matchIndex[1]: 0
term 24 leader 2 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 23 leaderCommit: 158 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=170
leader log:
[{snapshot 21 149} {6481248511462020972 21 150} {7093486330393420121 21 151} {7526445254371169907 21 152} {1653733082485622169 21 153} {6873396405058522303 21 154} {3827093268193447704 21 155} {5225898617443647218 21 156} {5225898617443647218 23 157} {1863985126035453453 24 158} {2186374276625889693 24 159} {1058052193747653342 24 160} {7720398418645539529 24 161} {6088920105328495299 24 162} {2937603006176912109 24 163} {778295077353913023 24 164} {5463967796875078146 24 165} {6412367079817064049 24 166} {6394863828731415291 24 167} {5405877410262036345 24 168} {8830402656993020814 24 169} {3283417326610075111 24 170}]
------------------------------------------------------
term 24 Server2 start snapshot! index=159
term 24 server2 snapshot success
lastIncludedIndex=159 lastApplied=160 lastIndex=170
-------------------------------------------------------------
term 24 Server2 start snapshot! index=169
term 24 server2 snapshot success
lastIncludedIndex=169 lastApplied=170 lastIndex=170
-------------------------------------------------------------
flag 80956 term 23 leader 1 nextIndex[0]: 158  matchIndex[0]: 157
term 23 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 23 leaderCommit: 157 
------------------------------------------------------
flag 71233 term 23 leader 1 nextIndex[2]: 158  matchIndex[2]: 157
term 23 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 23 leaderCommit: 157 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29361 term 24 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 24 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 24 leaderCommit: 170 
------------------------------------------------------
term 24 leader 2 nextIndex[1]: 158  matchIndex[1]: 0
term 24 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 24
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=170
leader log:
[{snapshot 24 169} {3283417326610075111 24 170}]
------------------------------------------------------
term 24 Server0 start snapshot! index=159
term 24 server0 snapshot success
lastIncludedIndex=159 lastApplied=160 lastIndex=170
-------------------------------------------------------------
term 24 Server0 start snapshot! index=169
term 24 server0 snapshot success
lastIncludedIndex=169 lastApplied=170 lastIndex=170
-------------------------------------------------------------
!!!!!!connect server 1
client write log 1723012402361034104 (index 158) to leader 1
flag 52500 term 23 leader 1 nextIndex[0]: 158  matchIndex[0]: 157
term 23 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 23 leaderCommit: 157 
------------------------------------------------------
flag 31070 term 23 leader 1 nextIndex[2]: 158  matchIndex[2]: 157
term 23 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 23 leaderCommit: 157 
------------------------------------------------------
term 24 server 2 AppendEntries false 领导者任期过期 args.Term 23
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 24 server 0 AppendEntries false 领导者任期过期 args.Term 23
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26646 term 24 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 24 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 24 leaderCommit: 170 
------------------------------------------------------
term 24 leader 2 nextIndex[1]: 158  matchIndex[1]: 0
term 24 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 24
------------------------------------------------------
term 24 server 1 InstallSnapshot success
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:170 
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 169 rf.lastIncludedTerm 24 rf.commitIndex 169 rf.lastApplied 169
term 24 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 170 matchIndex[1] 169 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=170
leader log:
[{snapshot 24 169} {3283417326610075111 24 170}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55649 term 24 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 24 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 24 leaderCommit: 170 
------------------------------------------------------
flag 13264 term 24 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 24 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 24 leaderCommit: 170 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=170
leader log:
[{snapshot 24 169} {3283417326610075111 24 170}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=170
leader log:
[{snapshot 24 169} {3283417326610075111 24 170}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82751 term 24 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 24 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 24 leaderCommit: 170 
------------------------------------------------------
flag 799 term 24 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 24 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 24 leaderCommit: 170 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=170
leader log:
[{snapshot 24 169} {3283417326610075111 24 170}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=170
leader log:
[{snapshot 24 169} {3283417326610075111 24 170}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 171->170
------------------------------------------------------
flag 83617 term 24 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 24 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 24 leaderCommit: 170 
------------------------------------------------------
term 24 leader 2 nextIndex[1]: 0  matchIndex[1]: 170
term 24 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 24
------------------------------------------------------
term 24 server 1 InstallSnapshot fail
rf.commitIndex 170 args.LastIncludedIndex 169
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=170
leader log:
[{snapshot 24 169} {3283417326610075111 24 170}]
------------------------------------------------------
term 24 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 170 matchIndex[1] 169 
------------------------------------------------------------------------
flag 30361 term 24 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 24 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 24 leaderCommit: 170 
------------------------------------------------------
flag 81922 term 24 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 24 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 24 leaderCommit: 170 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=170
leader log:
[{snapshot 24 169} {3283417326610075111 24 170}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=170
leader log:
[{snapshot 24 169} {3283417326610075111 24 170}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32110 term 24 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 24 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 24 leaderCommit: 170 
------------------------------------------------------
flag 54687 term 24 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 24 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 24 leaderCommit: 170 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=170
leader log:
[{snapshot 24 169} {3283417326610075111 24 170}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=170
leader log:
[{snapshot 24 169} {3283417326610075111 24 170}]
------------------------------------------------------
flag 21862 term 24 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 24 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 24 leaderCommit: 170 
------------------------------------------------------
flag 32500 term 24 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 24 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 24 leaderCommit: 170 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=170
leader log:
[{snapshot 24 169} {3283417326610075111 24 170}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=170
leader log:
[{snapshot 24 169} {3283417326610075111 24 170}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4926 term 24 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 24 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 24 leaderCommit: 170 
------------------------------------------------------
flag 26199 term 24 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 24 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 24 leaderCommit: 170 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=170
leader log:
[{snapshot 24 169} {3283417326610075111 24 170}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=170
leader log:
[{snapshot 24 169} {3283417326610075111 24 170}]
------------------------------------------------------
flag 78678 term 24 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 24 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 24 leaderCommit: 170 
------------------------------------------------------
flag 33624 term 24 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 24 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 24 leaderCommit: 170 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=170
leader log:
[{snapshot 24 169} {3283417326610075111 24 170}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=170
leader log:
[{snapshot 24 169} {3283417326610075111 24 170}]
------------------------------------------------------
flag 72232 term 24 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 24 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 24 leaderCommit: 170 
------------------------------------------------------
flag 28396 term 24 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 24 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 24 leaderCommit: 170 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=170
leader log:
[{snapshot 24 169} {3283417326610075111 24 170}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=170
leader log:
[{snapshot 24 169} {3283417326610075111 24 170}]
------------------------------------------------------
flag 46455 term 24 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 24 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 24 leaderCommit: 170 
------------------------------------------------------
flag 13652 term 24 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 24 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 24 leaderCommit: 170 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=170
leader log:
[{snapshot 24 169} {3283417326610075111 24 170}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=170
leader log:
[{snapshot 24 169} {3283417326610075111 24 170}]
------------------------------------------------------
flag 71754 term 24 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 24 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 24 leaderCommit: 170 
------------------------------------------------------
flag 31746 term 24 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 24 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 24 leaderCommit: 170 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=170
leader log:
[{snapshot 24 169} {3283417326610075111 24 170}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=170
leader log:
[{snapshot 24 169} {3283417326610075111 24 170}]
------------------------------------------------------
flag 71891 term 24 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 24 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 24 leaderCommit: 170 
------------------------------------------------------
flag 73439 term 24 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 24 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 24 leaderCommit: 170 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:170 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:170 
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=170
leader log:
------------------------------------------------------
[{snapshot 24 169} {3283417326610075111 24 170}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=170
leader log:
[{snapshot 24 169} {3283417326610075111 24 170}]
------------------------------------------------------
term 24 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 82893 term 24 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 24 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 24 leaderCommit: 170 
------------------------------------------------------
flag 56375 term 24 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 24 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 24 leaderCommit: 170 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=170
leader log:
[{snapshot 24 169} {3283417326610075111 24 170}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=170
leader log:
[{snapshot 24 169} {3283417326610075111 24 170}]
------------------------------------------------------
flag 45755 term 24 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 24 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 24 leaderCommit: 170 
------------------------------------------------------
flag 35577 term 24 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 24 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 24 leaderCommit: 170 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=170
leader log:
[{snapshot 24 169} {3283417326610075111 24 170}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=170
leader log:
[{snapshot 24 169} {3283417326610075111 24 170}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22278 term 24 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 24 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 24 leaderCommit: 170 
------------------------------------------------------
flag 65790 term 24 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 24 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 24 leaderCommit: 170 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=170
leader log:
[{snapshot 24 169} {3283417326610075111 24 170}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=170
leader log:
[{snapshot 24 169} {3283417326610075111 24 170}]
------------------------------------------------------
flag 68355 term 24 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 24 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 24 leaderCommit: 170 
------------------------------------------------------
flag 32076 term 24 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 24 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 24 leaderCommit: 170 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=170
leader log:
[{snapshot 24 169} {3283417326610075111 24 170}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=170
leader log:
[{snapshot 24 169} {3283417326610075111 24 170}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17213 term 24 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 24 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 24 leaderCommit: 170 
------------------------------------------------------
flag 20158 term 24 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 24 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 24 leaderCommit: 170 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=170
leader log:
[{snapshot 24 169} {3283417326610075111 24 170}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=170
leader log:
[{snapshot 24 169} {3283417326610075111 24 170}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23196 term 24 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 24 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 24 leaderCommit: 170 
------------------------------------------------------
flag 93855 term 24 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 24 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 24 leaderCommit: 170 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=170
leader log:
[{snapshot 24 169} {3283417326610075111 24 170}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=170
leader log:
[{snapshot 24 169} {3283417326610075111 24 170}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37109 term 24 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 24 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 24 leaderCommit: 170 
------------------------------------------------------
flag 67557 term 24 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 24 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 24 leaderCommit: 170 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=170
leader log:
[{snapshot 24 169} {3283417326610075111 24 170}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=170
leader log:
[{snapshot 24 169} {3283417326610075111 24 170}]
------------------------------------------------------
client write log 1723012402361034104 (index 171) to leader 2
term 24 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 83803 term 24 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 24 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 24 leaderCommit: 170 
------------------------------------------------------
flag 23141 term 24 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 24 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 24 leaderCommit: 170 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=172
update matchIndex[0]=171
update leader CommitIndex=171
leader log:
[{snapshot 24 169} {3283417326610075111 24 170} {1723012402361034104 24 171}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=171
leader log:
[{snapshot 24 169} {3283417326610075111 24 170} {1723012402361034104 24 171}]
------------------------------------------------------
flag 69196 term 24 leader 2 nextIndex[0]: 172  matchIndex[0]: 171
term 24 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 24 leaderCommit: 171 
------------------------------------------------------
flag 37107 term 24 leader 2 nextIndex[1]: 172  matchIndex[1]: 171
term 24 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 24 leaderCommit: 171 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
term 24 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
update matchIndex[1]=171
update leader CommitIndex=171
leader log:
[{snapshot 24 169} {3283417326610075111 24 170} {1723012402361034104 24 171}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=172
update matchIndex[0]=171
update leader CommitIndex=171
leader log:
[{snapshot 24 169} {3283417326610075111 24 170} {1723012402361034104 24 171}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59438 term 24 leader 2 nextIndex[0]: 172  matchIndex[0]: 171
term 24 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 24 leaderCommit: 171 
------------------------------------------------------
flag 97733 term 24 leader 2 nextIndex[1]: 172  matchIndex[1]: 171
term 24 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 24 leaderCommit: 171 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueterm 24 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
update nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=171
leader log:
[{snapshot 24 169} {3283417326610075111 24 170} {1723012402361034104 24 171}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=172
update matchIndex[0]=171
update leader CommitIndex=171
leader log:
[{snapshot 24 169} {3283417326610075111 24 170} {1723012402361034104 24 171}]
------------------------------------------------------
flag 49180 term 24 leader 2 nextIndex[0]: 172  matchIndex[0]: 171
term 24 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 24 leaderCommit: 171 
------------------------------------------------------
flag 1166 term 24 leader 2 nextIndex[1]: 172  matchIndex[1]: 171
term 24 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 24 leaderCommit: 171 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=172
update matchIndex[0]=171
update leader CommitIndex=171
leader log:
[{snapshot 24 169} {3283417326610075111 24 170} {1723012402361034104 24 171}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=171
leader log:
[{snapshot 24 169} {3283417326610075111 24 170} {1723012402361034104 24 171}]
------------------------------------------------------
flag 65884 term 24 leader 2 nextIndex[0]: 172  matchIndex[0]: 171
term 24 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 24 leaderCommit: 171 
------------------------------------------------------
flag 24522 term 24 leader 2 nextIndex[1]: 172  matchIndex[1]: 171
term 24 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 24 leaderCommit: 171 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=172
update matchIndex[0]=171
update leader CommitIndex=171
leader log:
[{snapshot 24 169} {3283417326610075111 24 170} {1723012402361034104 24 171}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=171
leader log:
[{snapshot 24 169} {3283417326610075111 24 170} {1723012402361034104 24 171}]
------------------------------------------------------
flag 63252 term 24 leader 2 nextIndex[0]: 172  matchIndex[0]: 171
term 24 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 24 leaderCommit: 171 
------------------------------------------------------
flag 8374 term 24 leader 2 nextIndex[1]: 172  matchIndex[1]: 171
term 24 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 24 leaderCommit: 171 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=171
leader log:
[{snapshot 24 169} {3283417326610075111 24 170} {1723012402361034104 24 171}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=172
update matchIndex[0]=171
update leader CommitIndex=171
leader log:
[{snapshot 24 169} {3283417326610075111 24 170} {1723012402361034104 24 171}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 6378902195018704359 (index 172) to leader 2
flag 87156 term 24 leader 2 nextIndex[0]: 172  matchIndex[0]: 171
term 24 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 24 leaderCommit: 171 
------------------------------------------------------
flag 7227 term 24 leader 2 nextIndex[1]: 172  matchIndex[1]: 171
term 24 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 24 leaderCommit: 171 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=172
leader log:
[{snapshot 24 169} {3283417326610075111 24 170} {1723012402361034104 24 171} {6378902195018704359 24 172}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 173->172
------------------------------------------------------
flag 83231 term 24 leader 2 nextIndex[0]: 172  matchIndex[0]: 171
term 24 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
term 24 leader 2 nextIndex[1]: 0  matchIndex[1]: 172
term 24 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 24
------------------------------------------------------
term 24 server 1 InstallSnapshot fail
rf.commitIndex 171 args.LastIncludedIndex 169
------------------------------------------------------
term 24 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 170 matchIndex[1] 169 
------------------------------------------------------------------------
flag 69268 term 24 leader 2 nextIndex[0]: 172  matchIndex[0]: 171
term 24 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
flag 67981 term 24 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 24 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=172
leader log:
[{snapshot 24 169} {3283417326610075111 24 170} {1723012402361034104 24 171} {6378902195018704359 24 172}]
------------------------------------------------------
client write log 232240025247567504 (index 173) to leader 2
client write log 5031929215946482620 (index 174) to leader 2
client write log 5053124688582307544 (index 175) to leader 2
client write log 4782939870699881182 (index 176) to leader 2
client write log 714593235976823089 (index 177) to leader 2
client write log 3910285730818024969 (index 178) to leader 2
client write log 5802642706997402890 (index 179) to leader 2
client write log 4888252483423133111 (index 180) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53033 term 24 leader 2 nextIndex[0]: 172  matchIndex[0]: 171
term 24 leader 2 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
flag 56814 term 24 leader 2 nextIndex[1]: 173  matchIndex[1]: 172
term 24 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=181
update matchIndex[1]=180
update leader CommitIndex=180
leader log:
[{snapshot 24 169} {3283417326610075111 24 170} {1723012402361034104 24 171} {6378902195018704359 24 172} {232240025247567504 24 173} {5031929215946482620 24 174} {5053124688582307544 24 175} {4782939870699881182 24 176} {714593235976823089 24 177} {3910285730818024969 24 178} {5802642706997402890 24 179} {4888252483423133111 24 180}]
------------------------------------------------------
term 24 Server2 start snapshot! index=179
term 24 server2 snapshot success
lastIncludedIndex=179 lastApplied=180 lastIndex=180
-------------------------------------------------------------
term 24 leader 2 nextIndex[0]: 172  matchIndex[0]: 171
term 24 leader 2 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 24
------------------------------------------------------
flag 99423 term 24 leader 2 nextIndex[1]: 181  matchIndex[1]: 180
term 24 leader 2 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 24 leaderCommit: 180 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=181
update matchIndex[1]=180
update leader CommitIndex=180
leader log:
[{snapshot 24 179} {4888252483423133111 24 180}]
------------------------------------------------------
term 24 Server1 start snapshot! index=179
term 24 server1 snapshot success
lastIncludedIndex=179 lastApplied=180 lastIndex=180
-------------------------------------------------------------
!!!!!!connect server 0
client write log 9212966807369864444 (index 181) to leader 2
term 24 leader 2 nextIndex[0]: 172  matchIndex[0]: 171
term 24 leader 2 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 24
------------------------------------------------------
flag 34070 term 24 leader 2 nextIndex[1]: 181  matchIndex[1]: 180
term 24 leader 2 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 24 leaderCommit: 180 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=182
update matchIndex[1]=181
update leader CommitIndex=181
leader log:
[{snapshot 24 179} {4888252483423133111 24 180} {9212966807369864444 24 181}]
------------------------------------------------------
term 25 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 24 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 26 server 1 vote for server 2
term 26 server 0 vote for server 2
term 26 server 2 get vote from server 1
term 26 server 2 become leader
------------------------------------------------------
term 26 server 2 get outdate rpc reply from server 0
flag 55236 term 26 leader 2 nextIndex[0]: 182  matchIndex[0]: 0
term 26 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 24 leaderCommit: 181 
------------------------------------------------------
flag 70537 term 26 leader 2 nextIndex[1]: 182  matchIndex[1]: 0
term 26 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 24 leaderCommit: 181 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:181 
------------------------------------------------------
term 26 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 182->181
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=182
update matchIndex[1]=181
update leader CommitIndex=181
leader log:
[{snapshot 24 179} {4888252483423133111 24 180} {9212966807369864444 24 181}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 26 leader 2 nextIndex[0]: 172  matchIndex[0]: 0
term 26 leader 2 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 24
------------------------------------------------------
flag 86174 term 26 leader 2 nextIndex[1]: 182  matchIndex[1]: 181
term 26 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 24 leaderCommit: 181 
------------------------------------------------------
term 26 server 0 InstallSnapshot success
------------------------------------------------------
term 26 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 180 matchIndex[0] 179 
------------------------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=182
update matchIndex[1]=181
update leader CommitIndex=181
leader log:
[{snapshot 24 179} {4888252483423133111 24 180} {9212966807369864444 24 181}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 179 rf.lastIncludedTerm 24 rf.commitIndex 179 rf.lastApplied 179
flag 37767 term 26 leader 2 nextIndex[0]: 180  matchIndex[0]: 179
term 26 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 24 leaderCommit: 181 
------------------------------------------------------
flag 10059 term 26 leader 2 nextIndex[1]: 182  matchIndex[1]: 181
term 26 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 24 leaderCommit: 181 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=182
update matchIndex[1]=181
update leader CommitIndex=181
leader log:
term 26 server 0 AppendEntries true commitIndex:179 
------------------------------------------------------
[{snapshot 24 179} {4888252483423133111 24 180} {9212966807369864444 24 181}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=181
leader log:
[{snapshot 24 179} {4888252483423133111 24 180} {9212966807369864444 24 181}]
------------------------------------------------------
flag 55259 term 26 leader 2 nextIndex[0]: 182  matchIndex[0]: 181
term 26 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 24 leaderCommit: 181 
------------------------------------------------------
flag 11743 term 26 leader 2 nextIndex[1]: 182  matchIndex[1]: 181
term 26 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 24 leaderCommit: 181 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=182
update matchIndex[1]=181
update leader CommitIndex=181
leader log:
[{snapshot 24 179} {4888252483423133111 24 180} {9212966807369864444 24 181}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=181
leader log:
[{snapshot 24 179} {4888252483423133111 24 180} {9212966807369864444 24 181}]
------------------------------------------------------
term 26 server 1 not vote for server 0, 任期不够新
term 26 server 0 get outdate rpc reply from server 1
flag 75385 term 26 leader 2 nextIndex[0]: 182  matchIndex[0]: 181
term 26 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 24 leaderCommit: 181 
------------------------------------------------------
flag 7324 term 26 leader 2 nextIndex[1]: 182  matchIndex[1]: 181
term 26 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 24 leaderCommit: 181 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:181 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=181
leader log:
[{snapshot 24 179} {4888252483423133111 24 180} {9212966807369864444 24 181}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=182
update matchIndex[1]=181
update leader CommitIndex=181
leader log:
[{snapshot 24 179} {4888252483423133111 24 180} {9212966807369864444 24 181}]
------------------------------------------------------
flag 55139 term 26 leader 2 nextIndex[0]: 182  matchIndex[0]: 181
term 26 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 24 leaderCommit: 181 
------------------------------------------------------
flag 85671 term 26 leader 2 nextIndex[1]: 182  matchIndex[1]: 181
term 26 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 24 leaderCommit: 181 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:181 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=182
update matchIndex[1]=181
update leader CommitIndex=181
leader log:
[{snapshot 24 179} {4888252483423133111 24 180} {9212966807369864444 24 181}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=181
leader log:
[{snapshot 24 179} {4888252483423133111 24 180} {9212966807369864444 24 181}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29363 term 26 leader 2 nextIndex[0]: 182  matchIndex[0]: 181
term 26 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 24 leaderCommit: 181 
------------------------------------------------------
flag 33731 term 26 leader 2 nextIndex[1]: 182  matchIndex[1]: 181
term 26 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 24 leaderCommit: 181 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=182
update matchIndex[1]=181
update leader CommitIndex=181
leader log:
[{snapshot 24 179} {4888252483423133111 24 180} {9212966807369864444 24 181}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=181
leader log:
[{snapshot 24 179} {4888252483423133111 24 180} {9212966807369864444 24 181}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97609 term 26 leader 2 nextIndex[0]: 182  matchIndex[0]: 181
term 26 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 24 leaderCommit: 181 
------------------------------------------------------
flag 81157 term 26 leader 2 nextIndex[1]: 182  matchIndex[1]: 181
term 26 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 24 leaderCommit: 181 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:181 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=181
leader log:
[{snapshot 24 179} {4888252483423133111 24 180} {9212966807369864444 24 181}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=182
update matchIndex[1]=181
update leader CommitIndex=181
leader log:
[{snapshot 24 179} {4888252483423133111 24 180} {9212966807369864444 24 181}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13897 term 26 leader 2 nextIndex[0]: 182  matchIndex[0]: 181
term 26 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 24 leaderCommit: 181 
------------------------------------------------------
flag 84625 term 26 leader 2 nextIndex[1]: 182  matchIndex[1]: 181
term 26 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 24 leaderCommit: 181 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=181
leader log:
[{snapshot 24 179} {4888252483423133111 24 180} {9212966807369864444 24 181}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=182
update matchIndex[1]=181
update leader CommitIndex=181
leader log:
[{snapshot 24 179} {4888252483423133111 24 180} {9212966807369864444 24 181}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 7209814340921181688 (index 182) to leader 2
flag 87871 term 26 leader 2 nextIndex[0]: 182  matchIndex[0]: 181
term 26 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 24 leaderCommit: 181 
------------------------------------------------------
flag 25551 term 26 leader 2 nextIndex[1]: 182  matchIndex[1]: 181
term 26 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 24 leaderCommit: 181 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=183
update matchIndex[1]=182
update leader CommitIndex=182
leader log:
[{snapshot 24 179} {4888252483423133111 24 180} {9212966807369864444 24 181} {7209814340921181688 26 182}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55225 term 26 leader 2 nextIndex[0]: 182  matchIndex[0]: 181
term 26 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 24 leaderCommit: 182 
------------------------------------------------------
flag 83695 term 26 leader 2 nextIndex[1]: 183  matchIndex[1]: 182
term 26 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 26 leaderCommit: 182 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=183
update matchIndex[1]=182
update leader CommitIndex=182
leader log:
[{snapshot 24 179} {4888252483423133111 24 180} {9212966807369864444 24 181} {7209814340921181688 26 182}]
------------------------------------------------------
client write log 1185116132076001321 (index 183) to leader 2
client write log 2452701212382135869 (index 184) to leader 2
client write log 8531700621945265416 (index 185) to leader 2
client write log 1592829042403069154 (index 186) to leader 2
client write log 8316000818947014343 (index 187) to leader 2
client write log 4918904504513141179 (index 188) to leader 2
client write log 4965246419216069500 (index 189) to leader 2
client write log 3623951358583500166 (index 190) to leader 2
flag 16895 term 26 leader 2 nextIndex[0]: 182  matchIndex[0]: 181
term 26 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 24 leaderCommit: 182 
------------------------------------------------------
flag 60028 term 26 leader 2 nextIndex[1]: 183  matchIndex[1]: 182
term 26 leader 2 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 26 leaderCommit: 182 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=190
leader log:
[{snapshot 24 179} {4888252483423133111 24 180} {9212966807369864444 24 181} {7209814340921181688 26 182} {1185116132076001321 26 183} {2452701212382135869 26 184} {8531700621945265416 26 185} {1592829042403069154 26 186} {8316000818947014343 26 187} {4918904504513141179 26 188} {4965246419216069500 26 189} {3623951358583500166 26 190}]
------------------------------------------------------
term 26 Server2 start snapshot! index=189
term 26 server2 snapshot success
lastIncludedIndex=189 lastApplied=190 lastIndex=190
-------------------------------------------------------------
term 26 leader 2 nextIndex[0]: 182  matchIndex[0]: 181
term 26 leader 2 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 26
------------------------------------------------------
flag 62064 term 26 leader 2 nextIndex[1]: 191  matchIndex[1]: 190
term 26 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 26 leaderCommit: 190 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=190
leader log:
[{snapshot 26 189} {3623951358583500166 26 190}]
------------------------------------------------------
term 26 Server1 start snapshot! index=189
term 26 server1 snapshot success
lastIncludedIndex=189 lastApplied=190 lastIndex=190
-------------------------------------------------------------
!!!!!!connect server 0
client write log 9070956879121238764 (index 191) to leader 2
term 26 leader 2 nextIndex[0]: 182  matchIndex[0]: 181
term 26 leader 2 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 26
------------------------------------------------------
flag 67188 term 26 leader 2 nextIndex[1]: 191  matchIndex[1]: 190
term 26 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 26 leaderCommit: 190 
------------------------------------------------------
term 27 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 26 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 28 server 1 vote for server 2
term 28 server 2 get vote from server 1
term 28 server 2 become leader
------------------------------------------------------
term 28 server 0 vote for server 2
term 28 server 2 get outdate rpc reply from server 0
flag 14441 term 28 leader 2 nextIndex[0]: 192  matchIndex[0]: 0
term 28 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 26 leaderCommit: 190 
------------------------------------------------------
flag 96161 term 28 leader 2 nextIndex[1]: 192  matchIndex[1]: 0
term 28 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 26 leaderCommit: 190 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=190
leader log:
[{snapshot 26 189} {3623951358583500166 26 190} {9070956879121238764 26 191}]
------------------------------------------------------
term 28 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 192->191
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 28 leader 2 nextIndex[0]: 182  matchIndex[0]: 0
term 28 leader 2 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 26
------------------------------------------------------
flag 12105 term 28 leader 2 nextIndex[1]: 192  matchIndex[1]: 191
term 28 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 26 leaderCommit: 190 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
term 28 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=190
leader log:
[{snapshot 26 189} {3623951358583500166 26 190} {9070956879121238764 26 191}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 189 rf.lastIncludedTerm 26 rf.commitIndex 189 rf.lastApplied 189
term 28 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 190 matchIndex[0] 189 
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52942 term 28 leader 2 nextIndex[0]: 190  matchIndex[0]: 189
term 28 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 26 leaderCommit: 190 
------------------------------------------------------
flag 68525 term 28 leader 2 nextIndex[1]: 192  matchIndex[1]: 191
term 28 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 26 leaderCommit: 190 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=190
leader log:
[{snapshot 26 189} {3623951358583500166 26 190} {9070956879121238764 26 191}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=190
leader log:
[{snapshot 26 189} {3623951358583500166 26 190} {9070956879121238764 26 191}]
------------------------------------------------------
flag 39091 term 28 leader 2 nextIndex[0]: 192  matchIndex[0]: 191
term 28 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 26 leaderCommit: 190 
------------------------------------------------------
flag 49505 term 28 leader 2 nextIndex[1]: 192  matchIndex[1]: 191
term 28 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 26 leaderCommit: 190 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=190
leader log:
[{snapshot 26 189} {3623951358583500166 26 190} {9070956879121238764 26 191}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=190
leader log:
[{snapshot 26 189} {3623951358583500166 26 190} {9070956879121238764 26 191}]
------------------------------------------------------
flag 88969 term 28 leader 2 nextIndex[0]: 192  matchIndex[0]: 191
term 28 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 26 leaderCommit: 190 
------------------------------------------------------
flag 99239 term 28 leader 2 nextIndex[1]: 192  matchIndex[1]: 191
term 28 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 26 leaderCommit: 190 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=190
leader log:
[{snapshot 26 189} {3623951358583500166 26 190} {9070956879121238764 26 191}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=190
leader log:
[{snapshot 26 189} {3623951358583500166 26 190} {9070956879121238764 26 191}]
------------------------------------------------------
term 28 server 1 not vote for server 2, 任期不够新
term 28 server 2 get outdate rpc reply from server 1
flag 95726 term 28 leader 2 nextIndex[0]: 192  matchIndex[0]: 191
term 28 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 26 leaderCommit: 190 
------------------------------------------------------
flag 79349 term 28 leader 2 nextIndex[1]: 192  matchIndex[1]: 191
term 28 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 26 leaderCommit: 190 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=190
leader log:
[{snapshot 26 189} {3623951358583500166 26 190} {9070956879121238764 26 191}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=190
leader log:
[{snapshot 26 189} {3623951358583500166 26 190} {9070956879121238764 26 191}]
------------------------------------------------------
term 28 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 79139 term 28 leader 2 nextIndex[0]: 192  matchIndex[0]: 191
term 28 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 26 leaderCommit: 190 
------------------------------------------------------
flag 74733 term 28 leader 2 nextIndex[1]: 192  matchIndex[1]: 191
term 28 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 26 leaderCommit: 190 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=190
leader log:
[{snapshot 26 189} {3623951358583500166 26 190} {9070956879121238764 26 191}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=190
leader log:
[{snapshot 26 189} {3623951358583500166 26 190} {9070956879121238764 26 191}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49520 term 28 leader 2 nextIndex[0]: 192  matchIndex[0]: 191
term 28 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 26 leaderCommit: 190 
------------------------------------------------------
flag 76871 term 28 leader 2 nextIndex[1]: 192  matchIndex[1]: 191
term 28 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 26 leaderCommit: 190 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=190
leader log:
[{snapshot 26 189} {3623951358583500166 26 190} {9070956879121238764 26 191}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=190
leader log:
[{snapshot 26 189} {3623951358583500166 26 190} {9070956879121238764 26 191}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2331 term 28 leader 2 nextIndex[0]: 192  matchIndex[0]: 191
term 28 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 26 leaderCommit: 190 
------------------------------------------------------
flag 54156 term 28 leader 2 nextIndex[1]: 192  matchIndex[1]: 191
term 28 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 26 leaderCommit: 190 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=190
leader log:
[{snapshot 26 189} {3623951358583500166 26 190} {9070956879121238764 26 191}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=190
leader log:
[{snapshot 26 189} {3623951358583500166 26 190} {9070956879121238764 26 191}]
------------------------------------------------------
flag 48710 term 28 leader 2 nextIndex[0]: 192  matchIndex[0]: 191
term 28 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 26 leaderCommit: 190 
------------------------------------------------------
flag 78196 term 28 leader 2 nextIndex[1]: 192  matchIndex[1]: 191
term 28 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 26 leaderCommit: 190 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=190
leader log:
[{snapshot 26 189} {3623951358583500166 26 190} {9070956879121238764 26 191}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=190
leader log:
[{snapshot 26 189} {3623951358583500166 26 190} {9070956879121238764 26 191}]
------------------------------------------------------
flag 87262 term 28 leader 2 nextIndex[0]: 192  matchIndex[0]: 191
term 28 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 26 leaderCommit: 190 
------------------------------------------------------
flag 64563 term 28 leader 2 nextIndex[1]: 192  matchIndex[1]: 191
term 28 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 26 leaderCommit: 190 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=190
leader log:
[{snapshot 26 189} {3623951358583500166 26 190} {9070956879121238764 26 191}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=190
leader log:
[{snapshot 26 189} {3623951358583500166 26 190} {9070956879121238764 26 191}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3993 term 28 leader 2 nextIndex[0]: 192  matchIndex[0]: 191
term 28 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 26 leaderCommit: 190 
------------------------------------------------------
flag 92613 term 28 leader 2 nextIndex[1]: 192  matchIndex[1]: 191
term 28 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 26 leaderCommit: 190 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=190
leader log:
[{snapshot 26 189} {3623951358583500166 26 190} {9070956879121238764 26 191}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=190
leader log:
[{snapshot 26 189} {3623951358583500166 26 190} {9070956879121238764 26 191}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25086 term 28 leader 2 nextIndex[0]: 192  matchIndex[0]: 191
term 28 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 26 leaderCommit: 190 
------------------------------------------------------
flag 97381 term 28 leader 2 nextIndex[1]: 192  matchIndex[1]: 191
term 28 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 26 leaderCommit: 190 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=190
leader log:
[{snapshot 26 189} {3623951358583500166 26 190} {9070956879121238764 26 191}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=190
leader log:
[{snapshot 26 189} {3623951358583500166 26 190} {9070956879121238764 26 191}]
------------------------------------------------------
flag 77018 term 28 leader 2 nextIndex[0]: 192  matchIndex[0]: 191
term 28 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 26 leaderCommit: 190 
------------------------------------------------------
flag 69693 term 28 leader 2 nextIndex[1]: 192  matchIndex[1]: 191
term 28 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 26 leaderCommit: 190 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=190
leader log:
[{snapshot 26 189} {3623951358583500166 26 190} {9070956879121238764 26 191}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=190
leader log:
[{snapshot 26 189} {3623951358583500166 26 190} {9070956879121238764 26 191}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 28 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52548 term 28 leader 2 nextIndex[0]: 192  matchIndex[0]: 191
term 28 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 26 leaderCommit: 190 
------------------------------------------------------
flag 96643 term 28 leader 2 nextIndex[1]: 192  matchIndex[1]: 191
term 28 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 26 leaderCommit: 190 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=190
leader log:
[{snapshot 26 189} {3623951358583500166 26 190} {9070956879121238764 26 191}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=190
leader log:
[{snapshot 26 189} {3623951358583500166 26 190} {9070956879121238764 26 191}]
------------------------------------------------------
flag 78863 term 28 leader 2 nextIndex[0]: 192  matchIndex[0]: 191
term 28 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 26 leaderCommit: 190 
------------------------------------------------------
flag 67999 term 28 leader 2 nextIndex[1]: 192  matchIndex[1]: 191
term 28 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 26 leaderCommit: 190 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=190
leader log:
term 28 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
[{snapshot 26 189} {3623951358583500166 26 190} {9070956879121238764 26 191}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=190
leader log:
[{snapshot 26 189} {3623951358583500166 26 190} {9070956879121238764 26 191}]
------------------------------------------------------
flag 85693 term 28 leader 2 nextIndex[0]: 192  matchIndex[0]: 191
term 28 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 26 leaderCommit: 190 
------------------------------------------------------
flag 94052 term 28 leader 2 nextIndex[1]: 192  matchIndex[1]: 191
term 28 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 26 leaderCommit: 190 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=190
leader log:
[{snapshot 26 189} {3623951358583500166 26 190} {9070956879121238764 26 191}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=190
leader log:
[{snapshot 26 189} {3623951358583500166 26 190} {9070956879121238764 26 191}]
------------------------------------------------------
flag 87135 term 28 leader 2 nextIndex[0]: 192  matchIndex[0]: 191
term 28 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 26 leaderCommit: 190 
------------------------------------------------------
flag 59482 term 28 leader 2 nextIndex[1]: 192  matchIndex[1]: 191
term 28 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 26 leaderCommit: 190 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=190
leader log:
[{snapshot 26 189} {3623951358583500166 26 190} {9070956879121238764 26 191}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=190
leader log:
[{snapshot 26 189} {3623951358583500166 26 190} {9070956879121238764 26 191}]
------------------------------------------------------
flag 58551 term 28 leader 2 nextIndex[0]: 192  matchIndex[0]: 191
term 28 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 26 leaderCommit: 190 
------------------------------------------------------
flag 29905 term 28 leader 2 nextIndex[1]: 192  matchIndex[1]: 191
term 28 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 26 leaderCommit: 190 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=190
leader log:
[{snapshot 26 189} {3623951358583500166 26 190} {9070956879121238764 26 191}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=190
leader log:
[{snapshot 26 189} {3623951358583500166 26 190} {9070956879121238764 26 191}]
------------------------------------------------------
client write log 9070956879121238764 (index 192) to leader 2
flag 35895 term 28 leader 2 nextIndex[0]: 192  matchIndex[0]: 191
term 28 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 26 leaderCommit: 190 
------------------------------------------------------
flag 71112 term 28 leader 2 nextIndex[1]: 192  matchIndex[1]: 191
term 28 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 26 leaderCommit: 190 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 26 189} {3623951358583500166 26 190} {9070956879121238764 26 191} {9070956879121238764 28 192}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=192
leader log:
[{snapshot 26 189} {3623951358583500166 26 190} {9070956879121238764 26 191} {9070956879121238764 28 192}]
------------------------------------------------------
flag 58540 term 28 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 28 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 28 leaderCommit: 192 
------------------------------------------------------
flag 67438 term 28 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 28 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 28 leaderCommit: 192 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 26 189} {3623951358583500166 26 190} {9070956879121238764 26 191} {9070956879121238764 28 192}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=192
leader log:
[{snapshot 26 189} {3623951358583500166 26 190} {9070956879121238764 26 191} {9070956879121238764 28 192}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57800 term 28 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 28 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 28 leaderCommit: 192 
------------------------------------------------------
flag 4549 term 28 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 28 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 28 leaderCommit: 192 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 26 189} {3623951358583500166 26 190} {9070956879121238764 26 191} {9070956879121238764 28 192}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=192
leader log:
[{snapshot 26 189} {3623951358583500166 26 190} {9070956879121238764 26 191} {9070956879121238764 28 192}]
------------------------------------------------------
flag 27805 term 28 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 28 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 28 leaderCommit: 192 
------------------------------------------------------
flag 18376 term 28 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 28 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 28 leaderCommit: 192 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 26 189} {3623951358583500166 26 190} {9070956879121238764 26 191} {9070956879121238764 28 192}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=192
leader log:
[{snapshot 26 189} {3623951358583500166 26 190} {9070956879121238764 26 191} {9070956879121238764 28 192}]
------------------------------------------------------
flag 1436 term 28 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 28 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 28 leaderCommit: 192 
------------------------------------------------------
flag 14715 term 28 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 28 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 28 leaderCommit: 192 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=192
leader log:
[{snapshot 26 189} {3623951358583500166 26 190} {9070956879121238764 26 191} {9070956879121238764 28 192}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 26 189} {3623951358583500166 26 190} {9070956879121238764 26 191} {9070956879121238764 28 192}]
------------------------------------------------------
flag 13333 term 28 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 28 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 28 leaderCommit: 192 
------------------------------------------------------
flag 63022 term 28 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 28 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 28 leaderCommit: 192 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 26 189} {3623951358583500166 26 190} {9070956879121238764 26 191} {9070956879121238764 28 192}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=192
leader log:
[{snapshot 26 189} {3623951358583500166 26 190} {9070956879121238764 26 191} {9070956879121238764 28 192}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 67239 term 28 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 28 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 28 leaderCommit: 192 
------------------------------------------------------
flag 68905 term 28 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 28 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 28 leaderCommit: 192 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11855 term 28 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 28 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 28 leaderCommit: 192 
------------------------------------------------------
flag 36932 term 28 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 28 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 28 leaderCommit: 192 
------------------------------------------------------
flag 6656 term 28 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 28 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 28 leaderCommit: 192 
------------------------------------------------------
flag 58203 term 28 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 28 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 28 leaderCommit: 192 
------------------------------------------------------
term 29 server 1 vote for server 0
term 29 server 0 get vote from server 1
term 29 server 0 become leader
------------------------------------------------------
flag 12353 term 29 leader 0 nextIndex[1]: 193  matchIndex[1]: 0
term 29 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 28 leaderCommit: 192 
------------------------------------------------------
flag 64721 term 29 leader 0 nextIndex[2]: 193  matchIndex[2]: 0
term 29 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 28 leaderCommit: 192 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 26 189} {3623951358583500166 26 190} {9070956879121238764 26 191} {9070956879121238764 28 192}]
------------------------------------------------------
client write log 8985423450018217657 (index 193) to leader 0
flag 62667 term 28 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 28 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 28 leaderCommit: 192 
------------------------------------------------------
flag 21859 term 28 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 28 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 28 leaderCommit: 192 
------------------------------------------------------
flag 3538 term 29 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 29 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 28 leaderCommit: 192 
------------------------------------------------------
flag 49443 term 29 leader 0 nextIndex[2]: 193  matchIndex[2]: 0
term 29 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 28 leaderCommit: 192 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 26 189} {3623951358583500166 26 190} {9070956879121238764 26 191} {9070956879121238764 28 192} {8985423450018217657 29 193}]
------------------------------------------------------
flag 53620 term 28 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 28 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 28 leaderCommit: 192 
------------------------------------------------------
flag 11805 term 28 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 28 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 28 leaderCommit: 192 
------------------------------------------------------
flag 65944 term 29 leader 0 nextIndex[1]: 194  matchIndex[1]: 193
term 29 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 29 leaderCommit: 193 
------------------------------------------------------
flag 10577 term 29 leader 0 nextIndex[2]: 193  matchIndex[2]: 0
term 29 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 28 leaderCommit: 193 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 26 189} {3623951358583500166 26 190} {9070956879121238764 26 191} {9070956879121238764 28 192} {8985423450018217657 29 193}]
------------------------------------------------------
client write log 6675229831994291991 (index 194) to leader 0
client write log 2151178557293430631 (index 195) to leader 0
client write log 6891427460624080773 (index 196) to leader 0
client write log 4690889867109657993 (index 197) to leader 0
client write log 1697689070128605414 (index 198) to leader 0
client write log 3649601558957506365 (index 199) to leader 0
client write log 3145258378115138320 (index 200) to leader 0
client write log 6428283807440412082 (index 201) to leader 0
client write log 8160376157979459406 (index 202) to leader 0
client write log 5489836266191617794 (index 203) to leader 0
client write log 421147144281604059 (index 204) to leader 0
client write log 9185482009594096492 (index 205) to leader 0
flag 52891 term 28 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 28 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 28 leaderCommit: 192 
------------------------------------------------------
flag 65607 term 28 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 28 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 28 leaderCommit: 192 
------------------------------------------------------
term 28 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 42908 term 29 leader 0 nextIndex[1]: 194  matchIndex[1]: 193
term 29 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 29 leaderCommit: 193 
------------------------------------------------------
flag 2012 term 29 leader 0 nextIndex[2]: 193  matchIndex[2]: 0
term 29 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 28 leaderCommit: 193 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=206
update matchIndex[1]=205
update leader CommitIndex=205
leader log:
[{snapshot 26 189} {3623951358583500166 26 190} {9070956879121238764 26 191} {9070956879121238764 28 192} {8985423450018217657 29 193} {6675229831994291991 29 194} {2151178557293430631 29 195} {6891427460624080773 29 196} {4690889867109657993 29 197} {1697689070128605414 29 198} {3649601558957506365 29 199} {3145258378115138320 29 200} {6428283807440412082 29 201} {8160376157979459406 29 202} {5489836266191617794 29 203} {421147144281604059 29 204} {9185482009594096492 29 205}]
------------------------------------------------------
term 29 Server0 start snapshot! index=199
term 29 server0 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=205
-------------------------------------------------------------
flag 29820 term 28 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 28 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 28 leaderCommit: 192 
------------------------------------------------------
flag 46221 term 28 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 28 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 28 leaderCommit: 192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 193->192
------------------------------------------------------
flag 49557 term 29 leader 0 nextIndex[1]: 206  matchIndex[1]: 205
term 29 leader 0 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
term 29 leader 0 nextIndex[2]: 193  matchIndex[2]: 0
term 29 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 29
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=206
update matchIndex[1]=205
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {3145258378115138320 29 200} {6428283807440412082 29 201} {8160376157979459406 29 202} {5489836266191617794 29 203} {421147144281604059 29 204} {9185482009594096492 29 205}]
------------------------------------------------------
term 29 Server1 start snapshot! index=199
term 29 server1 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=205
-------------------------------------------------------------
!!!!!!connect server 2
client write log 6983858177601830771 (index 193) to leader 2
term 28 leader 2 nextIndex[0]: 0  matchIndex[0]: 192
term 28 leader 2 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 26
------------------------------------------------------
flag 36107 term 28 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 28 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 28 leaderCommit: 192 
------------------------------------------------------
term 29 server 1 AppendEntries false 领导者任期过期 args.Term 28
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 29 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 29 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 77367 term 29 leader 0 nextIndex[1]: 206  matchIndex[1]: 205
term 29 leader 0 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
term 29 leader 0 nextIndex[2]: 193  matchIndex[2]: 0
term 29 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 29
------------------------------------------------------
term 29 server 2 InstallSnapshot success
------------------------------------------------------
term 29 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 200 matchIndex[2] 199 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 199 rf.lastIncludedTerm 29 rf.commitIndex 199 rf.lastApplied 199
term 29 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=206
update matchIndex[1]=205
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {3145258378115138320 29 200} {6428283807440412082 29 201} {8160376157979459406 29 202} {5489836266191617794 29 203} {421147144281604059 29 204} {9185482009594096492 29 205}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57224 term 29 leader 0 nextIndex[1]: 206  matchIndex[1]: 205
term 29 leader 0 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
flag 52936 term 29 leader 0 nextIndex[2]: 200  matchIndex[2]: 199
term 29 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=206
update matchIndex[2]=205
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {3145258378115138320 29 200} {6428283807440412082 29 201} {8160376157979459406 29 202} {5489836266191617794 29 203} {421147144281604059 29 204} {9185482009594096492 29 205}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=206
update matchIndex[1]=205
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {3145258378115138320 29 200} {6428283807440412082 29 201} {8160376157979459406 29 202} {5489836266191617794 29 203} {421147144281604059 29 204} {9185482009594096492 29 205}]
------------------------------------------------------
flag 53805 term 29 leader 0 nextIndex[1]: 206  matchIndex[1]: 205
term 29 leader 0 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
flag 64179 term 29 leader 0 nextIndex[2]: 206  matchIndex[2]: 205
term 29 leader 0 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=206
update matchIndex[1]=205
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {3145258378115138320 29 200} {6428283807440412082 29 201} {8160376157979459406 29 202} {5489836266191617794 29 203} {421147144281604059 29 204} {9185482009594096492 29 205}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=206
update matchIndex[2]=205
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {3145258378115138320 29 200} {6428283807440412082 29 201} {8160376157979459406 29 202} {5489836266191617794 29 203} {421147144281604059 29 204} {9185482009594096492 29 205}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44031 term 29 leader 0 nextIndex[1]: 206  matchIndex[1]: 205
term 29 leader 0 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
flag 95713 term 29 leader 0 nextIndex[2]: 206  matchIndex[2]: 205
term 29 leader 0 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=206
update matchIndex[2]=205
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {3145258378115138320 29 200} {6428283807440412082 29 201} {8160376157979459406 29 202} {5489836266191617794 29 203} {421147144281604059 29 204} {9185482009594096492 29 205}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=206
update matchIndex[1]=205
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {3145258378115138320 29 200} {6428283807440412082 29 201} {8160376157979459406 29 202} {5489836266191617794 29 203} {421147144281604059 29 204} {9185482009594096492 29 205}]
------------------------------------------------------
flag 5278 term 29 leader 0 nextIndex[1]: 206  matchIndex[1]: 205
term 29 leader 0 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
flag 10235 term 29 leader 0 nextIndex[2]: 206  matchIndex[2]: 205
term 29 leader 0 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=206
update matchIndex[2]=205
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {3145258378115138320 29 200} {6428283807440412082 29 201} {8160376157979459406 29 202} {5489836266191617794 29 203} {421147144281604059 29 204} {9185482009594096492 29 205}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=206
update matchIndex[1]=205
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {3145258378115138320 29 200} {6428283807440412082 29 201} {8160376157979459406 29 202} {5489836266191617794 29 203} {421147144281604059 29 204} {9185482009594096492 29 205}]
------------------------------------------------------
term 29 server 2 not vote for server 0, 任期不够新
term 29 server 0 get outdate rpc reply from server 2
term 29 server 0 not vote for server 2, 任期不够新
term 29 server 2 get outdate rpc reply from server 0
flag 67536 term 29 leader 0 nextIndex[1]: 206  matchIndex[1]: 205
term 29 leader 0 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
flag 54266 term 29 leader 0 nextIndex[2]: 206  matchIndex[2]: 205
term 29 leader 0 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=206
update matchIndex[2]=205
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {3145258378115138320 29 200} {6428283807440412082 29 201} {8160376157979459406 29 202} {5489836266191617794 29 203} {421147144281604059 29 204} {9185482009594096492 29 205}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=206
update matchIndex[1]=205
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {3145258378115138320 29 200} {6428283807440412082 29 201} {8160376157979459406 29 202} {5489836266191617794 29 203} {421147144281604059 29 204} {9185482009594096492 29 205}]
------------------------------------------------------
flag 71075 term 29 leader 0 nextIndex[1]: 206  matchIndex[1]: 205
term 29 leader 0 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
flag 88874 term 29 leader 0 nextIndex[2]: 206  matchIndex[2]: 205
term 29 leader 0 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=206
update matchIndex[1]=205
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {3145258378115138320 29 200} {6428283807440412082 29 201} {8160376157979459406 29 202} {5489836266191617794 29 203} {421147144281604059 29 204} {9185482009594096492 29 205}]
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=206
update matchIndex[2]=205
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {3145258378115138320 29 200} {6428283807440412082 29 201} {8160376157979459406 29 202} {5489836266191617794 29 203} {421147144281604059 29 204} {9185482009594096492 29 205}]
------------------------------------------------------
flag 77053 term 29 leader 0 nextIndex[1]: 206  matchIndex[1]: 205
term 29 leader 0 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
flag 23458 term 29 leader 0 nextIndex[2]: 206  matchIndex[2]: 205
term 29 leader 0 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=206
update matchIndex[2]=205
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {3145258378115138320 29 200} {6428283807440412082 29 201} {8160376157979459406 29 202} {5489836266191617794 29 203} {421147144281604059 29 204} {9185482009594096492 29 205}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=206
update matchIndex[1]=205
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {3145258378115138320 29 200} {6428283807440412082 29 201} {8160376157979459406 29 202} {5489836266191617794 29 203} {421147144281604059 29 204} {9185482009594096492 29 205}]
------------------------------------------------------
flag 21127 term 29 leader 0 nextIndex[1]: 206  matchIndex[1]: 205
term 29 leader 0 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
flag 16326 term 29 leader 0 nextIndex[2]: 206  matchIndex[2]: 205
term 29 leader 0 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=206
update matchIndex[1]=205
update leader CommitIndex=205
leader log:
term 29 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
[{snapshot 29 199} {3145258378115138320 29 200} {6428283807440412082 29 201} {8160376157979459406 29 202} {5489836266191617794 29 203} {421147144281604059 29 204} {9185482009594096492 29 205}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=206
update matchIndex[2]=205
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {3145258378115138320 29 200} {6428283807440412082 29 201} {8160376157979459406 29 202} {5489836266191617794 29 203} {421147144281604059 29 204} {9185482009594096492 29 205}]
------------------------------------------------------
flag 4668 term 29 leader 0 nextIndex[1]: 206  matchIndex[1]: 205
term 29 leader 0 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
flag 44154 term 29 leader 0 nextIndex[2]: 206  matchIndex[2]: 205
term 29 leader 0 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=206
update matchIndex[2]=205
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {3145258378115138320 29 200} {6428283807440412082 29 201} {8160376157979459406 29 202} {5489836266191617794 29 203} {421147144281604059 29 204} {9185482009594096492 29 205}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=206
update matchIndex[1]=205
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {3145258378115138320 29 200} {6428283807440412082 29 201} {8160376157979459406 29 202} {5489836266191617794 29 203} {421147144281604059 29 204} {9185482009594096492 29 205}]
------------------------------------------------------
flag 26627 term 29 leader 0 nextIndex[1]: 206  matchIndex[1]: 205
term 29 leader 0 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
flag 23744 term 29 leader 0 nextIndex[2]: 206  matchIndex[2]: 205
term 29 leader 0 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=206
update matchIndex[1]=205
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {3145258378115138320 29 200} {6428283807440412082 29 201} {8160376157979459406 29 202} {5489836266191617794 29 203} {421147144281604059 29 204} {9185482009594096492 29 205}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=206
update matchIndex[2]=205
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {3145258378115138320 29 200} {6428283807440412082 29 201} {8160376157979459406 29 202} {5489836266191617794 29 203} {421147144281604059 29 204} {9185482009594096492 29 205}]
------------------------------------------------------
flag 90166 term 29 leader 0 nextIndex[1]: 206  matchIndex[1]: 205
term 29 leader 0 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
flag 63556 term 29 leader 0 nextIndex[2]: 206  matchIndex[2]: 205
term 29 leader 0 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=206
update matchIndex[2]=205
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {3145258378115138320 29 200} {6428283807440412082 29 201} {8160376157979459406 29 202} {5489836266191617794 29 203} {421147144281604059 29 204} {9185482009594096492 29 205}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=206
update matchIndex[1]=205
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {3145258378115138320 29 200} {6428283807440412082 29 201} {8160376157979459406 29 202} {5489836266191617794 29 203} {421147144281604059 29 204} {9185482009594096492 29 205}]
------------------------------------------------------
flag 84882 term 29 leader 0 nextIndex[1]: 206  matchIndex[1]: 205
term 29 leader 0 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
flag 99195 term 29 leader 0 nextIndex[2]: 206  matchIndex[2]: 205
term 29 leader 0 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=206
update matchIndex[2]=205
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {3145258378115138320 29 200} {6428283807440412082 29 201} {8160376157979459406 29 202} {5489836266191617794 29 203} {421147144281604059 29 204} {9185482009594096492 29 205}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=206
update matchIndex[1]=205
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {3145258378115138320 29 200} {6428283807440412082 29 201} {8160376157979459406 29 202} {5489836266191617794 29 203} {421147144281604059 29 204} {9185482009594096492 29 205}]
------------------------------------------------------
flag 34811 term 29 leader 0 nextIndex[1]: 206  matchIndex[1]: 205
term 29 leader 0 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
flag 12717 term 29 leader 0 nextIndex[2]: 206  matchIndex[2]: 205
term 29 leader 0 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=206
update matchIndex[1]=205
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {3145258378115138320 29 200} {6428283807440412082 29 201} {8160376157979459406 29 202} {5489836266191617794 29 203} {421147144281604059 29 204} {9185482009594096492 29 205}]
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=206
update matchIndex[2]=205
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {3145258378115138320 29 200} {6428283807440412082 29 201} {8160376157979459406 29 202} {5489836266191617794 29 203} {421147144281604059 29 204} {9185482009594096492 29 205}]
------------------------------------------------------
flag 96102 term 29 leader 0 nextIndex[1]: 206  matchIndex[1]: 205
term 29 leader 0 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
flag 75227 term 29 leader 0 nextIndex[2]: 206  matchIndex[2]: 205
term 29 leader 0 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=206
update matchIndex[2]=205
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {3145258378115138320 29 200} {6428283807440412082 29 201} {8160376157979459406 29 202} {5489836266191617794 29 203} {421147144281604059 29 204} {9185482009594096492 29 205}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=206
update matchIndex[1]=205
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {3145258378115138320 29 200} {6428283807440412082 29 201} {8160376157979459406 29 202} {5489836266191617794 29 203} {421147144281604059 29 204} {9185482009594096492 29 205}]
------------------------------------------------------
flag 72946 term 29 leader 0 nextIndex[1]: 206  matchIndex[1]: 205
term 29 leader 0 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
flag 40959 term 29 leader 0 nextIndex[2]: 206  matchIndex[2]: 205
term 29 leader 0 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=206
update matchIndex[2]=205
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {3145258378115138320 29 200} {6428283807440412082 29 201} {8160376157979459406 29 202} {5489836266191617794 29 203} {421147144281604059 29 204} {9185482009594096492 29 205}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=206
update matchIndex[1]=205
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {3145258378115138320 29 200} {6428283807440412082 29 201} {8160376157979459406 29 202} {5489836266191617794 29 203} {421147144281604059 29 204} {9185482009594096492 29 205}]
------------------------------------------------------
flag 15153 term 29 leader 0 nextIndex[1]: 206  matchIndex[1]: 205
term 29 leader 0 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
flag 27937 term 29 leader 0 nextIndex[2]: 206  matchIndex[2]: 205
term 29 leader 0 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=206
update matchIndex[1]=205
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {3145258378115138320 29 200} {6428283807440412082 29 201} {8160376157979459406 29 202} {5489836266191617794 29 203} {421147144281604059 29 204} {9185482009594096492 29 205}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=206
update matchIndex[2]=205
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {3145258378115138320 29 200} {6428283807440412082 29 201} {8160376157979459406 29 202} {5489836266191617794 29 203} {421147144281604059 29 204} {9185482009594096492 29 205}]
------------------------------------------------------
flag 71691 term 29 leader 0 nextIndex[1]: 206  matchIndex[1]: 205
term 29 leader 0 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
flag 58151 term 29 leader 0 nextIndex[2]: 206  matchIndex[2]: 205
term 29 leader 0 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=206
update matchIndex[2]=205
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {3145258378115138320 29 200} {6428283807440412082 29 201} {8160376157979459406 29 202} {5489836266191617794 29 203} {421147144281604059 29 204} {9185482009594096492 29 205}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=206
update matchIndex[1]=205
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {3145258378115138320 29 200} {6428283807440412082 29 201} {8160376157979459406 29 202} {5489836266191617794 29 203} {421147144281604059 29 204} {9185482009594096492 29 205}]
------------------------------------------------------
flag 60594 term 29 leader 0 nextIndex[1]: 206  matchIndex[1]: 205
term 29 leader 0 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
flag 42656 term 29 leader 0 nextIndex[2]: 206  matchIndex[2]: 205
term 29 leader 0 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=206
update matchIndex[2]=205
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {3145258378115138320 29 200} {6428283807440412082 29 201} {8160376157979459406 29 202} {5489836266191617794 29 203} {421147144281604059 29 204} {9185482009594096492 29 205}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=206
update matchIndex[1]=205
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {3145258378115138320 29 200} {6428283807440412082 29 201} {8160376157979459406 29 202} {5489836266191617794 29 203} {421147144281604059 29 204} {9185482009594096492 29 205}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 206->205
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41738 term 29 leader 0 nextIndex[1]: 206  matchIndex[1]: 205
term 29 leader 0 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
term 29 leader 0 nextIndex[2]: 0  matchIndex[2]: 205
term 29 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 29
------------------------------------------------------
term 29 server 2 InstallSnapshot fail
rf.commitIndex 205 args.LastIncludedIndex 199
------------------------------------------------------
term 29 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 200 matchIndex[2] 199 
------------------------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=206
update matchIndex[1]=205
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {3145258378115138320 29 200} {6428283807440412082 29 201} {8160376157979459406 29 202} {5489836266191617794 29 203} {421147144281604059 29 204} {9185482009594096492 29 205}]
------------------------------------------------------
client write log 6983858177601830771 (index 206) to leader 0
flag 76789 term 29 leader 0 nextIndex[1]: 206  matchIndex[1]: 205
term 29 leader 0 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
flag 75100 term 29 leader 0 nextIndex[2]: 200  matchIndex[2]: 199
term 29 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=206
leader log:
[{snapshot 29 199} {3145258378115138320 29 200} {6428283807440412082 29 201} {8160376157979459406 29 202} {5489836266191617794 29 203} {421147144281604059 29 204} {9185482009594096492 29 205} {6983858177601830771 29 206}]
term 29 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=206
leader log:
[{snapshot 29 199} {3145258378115138320 29 200} {6428283807440412082 29 201} {8160376157979459406 29 202} {5489836266191617794 29 203} {421147144281604059 29 204} {9185482009594096492 29 205} {6983858177601830771 29 206}]
------------------------------------------------------
flag 11545 term 29 leader 0 nextIndex[1]: 207  matchIndex[1]: 206
term 29 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 29 leaderCommit: 206 
------------------------------------------------------
flag 50224 term 29 leader 0 nextIndex[2]: 207  matchIndex[2]: 206
term 29 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 29 leaderCommit: 206 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=206
leader log:
[{snapshot 29 199} {3145258378115138320 29 200} {6428283807440412082 29 201} {8160376157979459406 29 202} {5489836266191617794 29 203} {421147144281604059 29 204} {9185482009594096492 29 205} {6983858177601830771 29 206}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=206
leader log:
[{snapshot 29 199} {3145258378115138320 29 200} {6428283807440412082 29 201} {8160376157979459406 29 202} {5489836266191617794 29 203} {421147144281604059 29 204} {9185482009594096492 29 205} {6983858177601830771 29 206}]
------------------------------------------------------
flag 52811 term 29 leader 0 nextIndex[1]: 207  matchIndex[1]: 206
term 29 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 29 leaderCommit: 206 
------------------------------------------------------
flag 41574 term 29 leader 0 nextIndex[2]: 207  matchIndex[2]: 206
term 29 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 29 leaderCommit: 206 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=206
leader log:
[{snapshot 29 199} {3145258378115138320 29 200} {6428283807440412082 29 201} {8160376157979459406 29 202} {5489836266191617794 29 203} {421147144281604059 29 204} {9185482009594096492 29 205} {6983858177601830771 29 206}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=206
leader log:
[{snapshot 29 199} {3145258378115138320 29 200} {6428283807440412082 29 201} {8160376157979459406 29 202} {5489836266191617794 29 203} {421147144281604059 29 204} {9185482009594096492 29 205} {6983858177601830771 29 206}]
------------------------------------------------------
flag 82406 term 29 leader 0 nextIndex[1]: 207  matchIndex[1]: 206
term 29 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 29 leaderCommit: 206 
------------------------------------------------------
flag 83125 term 29 leader 0 nextIndex[2]: 207  matchIndex[2]: 206
term 29 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 29 leaderCommit: 206 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=206
leader log:
[{snapshot 29 199} {3145258378115138320 29 200} {6428283807440412082 29 201} {8160376157979459406 29 202} {5489836266191617794 29 203} {421147144281604059 29 204} {9185482009594096492 29 205} {6983858177601830771 29 206}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=206
leader log:
[{snapshot 29 199} {3145258378115138320 29 200} {6428283807440412082 29 201} {8160376157979459406 29 202} {5489836266191617794 29 203} {421147144281604059 29 204} {9185482009594096492 29 205} {6983858177601830771 29 206}]
------------------------------------------------------
flag 21504 term 29 leader 0 nextIndex[1]: 207  matchIndex[1]: 206
term 29 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 29 leaderCommit: 206 
------------------------------------------------------
flag 86840 term 29 leader 0 nextIndex[2]: 207  matchIndex[2]: 206
term 29 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 29 leaderCommit: 206 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=206
leader log:
term 29 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
[{snapshot 29 199} {3145258378115138320 29 200} {6428283807440412082 29 201} {8160376157979459406 29 202} {5489836266191617794 29 203} {421147144281604059 29 204} {9185482009594096492 29 205} {6983858177601830771 29 206}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=206
leader log:
[{snapshot 29 199} {3145258378115138320 29 200} {6428283807440412082 29 201} {8160376157979459406 29 202} {5489836266191617794 29 203} {421147144281604059 29 204} {9185482009594096492 29 205} {6983858177601830771 29 206}]
------------------------------------------------------
flag 70221 term 29 leader 0 nextIndex[1]: 207  matchIndex[1]: 206
term 29 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 29 leaderCommit: 206 
------------------------------------------------------
flag 64195 term 29 leader 0 nextIndex[2]: 207  matchIndex[2]: 206
term 29 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 29 leaderCommit: 206 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=206
leader log:
[{snapshot 29 199} {3145258378115138320 29 200} {6428283807440412082 29 201} {8160376157979459406 29 202} {5489836266191617794 29 203} {421147144281604059 29 204} {9185482009594096492 29 205} {6983858177601830771 29 206}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=206
leader log:
[{snapshot 29 199} {3145258378115138320 29 200} {6428283807440412082 29 201} {8160376157979459406 29 202} {5489836266191617794 29 203} {421147144281604059 29 204} {9185482009594096492 29 205} {6983858177601830771 29 206}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14134 term 29 leader 0 nextIndex[1]: 207  matchIndex[1]: 206
term 29 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 29 leaderCommit: 206 
------------------------------------------------------
flag 53366 term 29 leader 0 nextIndex[2]: 207  matchIndex[2]: 206
term 29 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 29 leaderCommit: 206 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=206
leader log:
[{snapshot 29 199} {3145258378115138320 29 200} {6428283807440412082 29 201} {8160376157979459406 29 202} {5489836266191617794 29 203} {421147144281604059 29 204} {9185482009594096492 29 205} {6983858177601830771 29 206}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=206
leader log:
[{snapshot 29 199} {3145258378115138320 29 200} {6428283807440412082 29 201} {8160376157979459406 29 202} {5489836266191617794 29 203} {421147144281604059 29 204} {9185482009594096492 29 205} {6983858177601830771 29 206}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 8381029274115581527 (index 207) to leader 0
flag 19008 term 29 leader 0 nextIndex[1]: 207  matchIndex[1]: 206
term 29 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 29 leaderCommit: 206 
------------------------------------------------------
flag 76407 term 29 leader 0 nextIndex[2]: 207  matchIndex[2]: 206
term 29 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 29 leaderCommit: 206 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 29 199} {3145258378115138320 29 200} {6428283807440412082 29 201} {8160376157979459406 29 202} {5489836266191617794 29 203} {421147144281604059 29 204} {9185482009594096492 29 205} {6983858177601830771 29 206} {8381029274115581527 29 207}]
------------------------------------------------------
flag 22623 term 29 leader 0 nextIndex[1]: 207  matchIndex[1]: 206
term 29 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 29 leaderCommit: 207 
------------------------------------------------------
flag 29147 term 29 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 29 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 29 leaderCommit: 207 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 29 199} {3145258378115138320 29 200} {6428283807440412082 29 201} {8160376157979459406 29 202} {5489836266191617794 29 203} {421147144281604059 29 204} {9185482009594096492 29 205} {6983858177601830771 29 206} {8381029274115581527 29 207}]
------------------------------------------------------
client write log 8339399051148207868 (index 208) to leader 0
client write log 7773223563500384914 (index 209) to leader 0
client write log 6069117288737877971 (index 210) to leader 0
client write log 7763464047942190606 (index 211) to leader 0
client write log 3492021436011085866 (index 212) to leader 0
client write log 914394801469409553 (index 213) to leader 0
client write log 7269835267754411431 (index 214) to leader 0
client write log 2250833159541955745 (index 215) to leader 0
client write log 2616144540528878313 (index 216) to leader 0
client write log 1432116105405663658 (index 217) to leader 0
client write log 5843746867339059318 (index 218) to leader 0
client write log 1459049912574395187 (index 219) to leader 0
flag 88372 term 29 leader 0 nextIndex[1]: 207  matchIndex[1]: 206
term 29 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 29 leaderCommit: 207 
------------------------------------------------------
flag 87194 term 29 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 29 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 29 leaderCommit: 207 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=220
update matchIndex[2]=219
update leader CommitIndex=219
leader log:
[{snapshot 29 199} {3145258378115138320 29 200} {6428283807440412082 29 201} {8160376157979459406 29 202} {5489836266191617794 29 203} {421147144281604059 29 204} {9185482009594096492 29 205} {6983858177601830771 29 206} {8381029274115581527 29 207} {8339399051148207868 29 208} {7773223563500384914 29 209} {6069117288737877971 29 210} {7763464047942190606 29 211} {3492021436011085866 29 212} {914394801469409553 29 213} {7269835267754411431 29 214} {2250833159541955745 29 215} {2616144540528878313 29 216} {1432116105405663658 29 217} {5843746867339059318 29 218} {1459049912574395187 29 219}]
------------------------------------------------------
term 29 Server0 start snapshot! index=209
term 29 server0 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=219
-------------------------------------------------------------
term 29 Server0 start snapshot! index=219
term 29 server0 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=219
-------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 220->219
------------------------------------------------------
term 29 leader 0 nextIndex[1]: 207  matchIndex[1]: 206
term 29 leader 0 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 29
------------------------------------------------------
term 29 leader 0 nextIndex[2]: 0  matchIndex[2]: 219
term 29 leader 0 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 29
------------------------------------------------------
term 29 server 2 InstallSnapshot success
------------------------------------------------------
term 29 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 220 matchIndex[2] 219 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 219 rf.lastIncludedTerm 29 rf.commitIndex 219 rf.lastApplied 219
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!connect server 1
client write log 1604381560036069539 (index 220) to leader 0
term 29 leader 0 nextIndex[1]: 207  matchIndex[1]: 206
term 29 leader 0 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 29
------------------------------------------------------
flag 98113 term 29 leader 0 nextIndex[2]: 220  matchIndex[2]: 219
term 29 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 29 leaderCommit: 219 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=221
update matchIndex[2]=220
update leader CommitIndex=220
leader log:
[{snapshot 29 219} {1604381560036069539 29 220}]
------------------------------------------------------
term 30 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 29 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 31 server 2 vote for server 0
term 31 server 1 vote for server 0
term 31 server 0 get vote from server 2
term 31 server 0 become leader
------------------------------------------------------
term 31 server 0 get outdate rpc reply from server 1
flag 37031 term 31 leader 0 nextIndex[1]: 221  matchIndex[1]: 0
term 31 leader 0 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 29 leaderCommit: 220 
------------------------------------------------------
flag 72927 term 31 leader 0 nextIndex[2]: 221  matchIndex[2]: 0
term 31 leader 0 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 29 leaderCommit: 220 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=221
update matchIndex[2]=220
update leader CommitIndex=220
leader log:
[{snapshot 29 219} {1604381560036069539 29 220}]
------------------------------------------------------
term 31 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 221->220
------------------------------------------------------
term 31 server 2 not vote for server 0, 任期不够新
term 31 server 0 get outdate rpc reply from server 2
term 31 leader 0 nextIndex[1]: 207  matchIndex[1]: 0
term 31 leader 0 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 29
------------------------------------------------------
flag 34665 term 31 leader 0 nextIndex[2]: 221  matchIndex[2]: 220
term 31 leader 0 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 29 leaderCommit: 220 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=221
update matchIndex[2]=220
update leader CommitIndex=220
leader log:
[{snapshot 29 219} {1604381560036069539 29 220}]
------------------------------------------------------
term 31 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 219 rf.lastIncludedTerm 29 rf.commitIndex 219 rf.lastApplied 219
term 31 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 220 matchIndex[1] 219 
------------------------------------------------------------------------
flag 82191 term 31 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 31 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 29 leaderCommit: 220 
------------------------------------------------------
flag 37216 term 31 leader 0 nextIndex[2]: 221  matchIndex[2]: 220
term 31 leader 0 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 29 leaderCommit: 220 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=221
update matchIndex[2]=220
update leader CommitIndex=220
leader log:
[{snapshot 29 219} {1604381560036069539 29 220}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 29 219} {1604381560036069539 29 220}]
------------------------------------------------------
flag 29983 term 31 leader 0 nextIndex[1]: 221  matchIndex[1]: 220
term 31 leader 0 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 29 leaderCommit: 220 
------------------------------------------------------
flag 68722 term 31 leader 0 nextIndex[2]: 221  matchIndex[2]: 220
term 31 leader 0 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 29 leaderCommit: 220 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:220 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=221
update matchIndex[2]=220
update leader CommitIndex=220
leader log:
[{snapshot 29 219} {1604381560036069539 29 220}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 29 219} {1604381560036069539 29 220}]
------------------------------------------------------
flag 50110 term 31 leader 0 nextIndex[1]: 221  matchIndex[1]: 220
term 31 leader 0 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 29 leaderCommit: 220 
------------------------------------------------------
flag 63957 term 31 leader 0 nextIndex[2]: 221  matchIndex[2]: 220
term 31 leader 0 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 29 leaderCommit: 220 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:220 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=221
update matchIndex[2]=220
update leader CommitIndex=220
leader log:
[{snapshot 29 219} {1604381560036069539 29 220}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 29 219} {1604381560036069539 29 220}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45405 term 31 leader 0 nextIndex[1]: 221  matchIndex[1]: 220
term 31 leader 0 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 29 leaderCommit: 220 
------------------------------------------------------
flag 97313 term 31 leader 0 nextIndex[2]: 221  matchIndex[2]: 220
term 31 leader 0 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 29 leaderCommit: 220 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=221
update matchIndex[2]=220
update leader CommitIndex=220
leader log:
[{snapshot 29 219} {1604381560036069539 29 220}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 29 219} {1604381560036069539 29 220}]
------------------------------------------------------
flag 18857 term 31 leader 0 nextIndex[1]: 221  matchIndex[1]: 220
term 31 leader 0 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 29 leaderCommit: 220 
------------------------------------------------------
flag 6985 term 31 leader 0 nextIndex[2]: 221  matchIndex[2]: 220
term 31 leader 0 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 29 leaderCommit: 220 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=221
update matchIndex[2]=220
update leader CommitIndex=220
leader log:
[{snapshot 29 219} {1604381560036069539 29 220}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 29 219} {1604381560036069539 29 220}]
------------------------------------------------------
flag 17068 term 31 leader 0 nextIndex[1]: 221  matchIndex[1]: 220
term 31 leader 0 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 29 leaderCommit: 220 
------------------------------------------------------
flag 32648 term 31 leader 0 nextIndex[2]: 221  matchIndex[2]: 220
term 31 leader 0 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 29 leaderCommit: 220 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 29 219} {1604381560036069539 29 220}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=221
update matchIndex[2]=220
update leader CommitIndex=220
leader log:
[{snapshot 29 219} {1604381560036069539 29 220}]
------------------------------------------------------
flag 48444 term 31 leader 0 nextIndex[1]: 221  matchIndex[1]: 220
term 31 leader 0 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 29 leaderCommit: 220 
------------------------------------------------------
flag 20506 term 31 leader 0 nextIndex[2]: 221  matchIndex[2]: 220
term 31 leader 0 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 29 leaderCommit: 220 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:220 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=221
update matchIndex[2]=220
update leader CommitIndex=220
leader log:
[{snapshot 29 219} {1604381560036069539 29 220}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 29 219} {1604381560036069539 29 220}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 5546143264322851746 (index 221) to leader 0
flag 58078 term 31 leader 0 nextIndex[1]: 221  matchIndex[1]: 220
term 31 leader 0 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 29 leaderCommit: 220 
------------------------------------------------------
flag 70934 term 31 leader 0 nextIndex[2]: 221  matchIndex[2]: 220
term 31 leader 0 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 29 leaderCommit: 220 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=222
update matchIndex[2]=221
update leader CommitIndex=221
leader log:
[{snapshot 29 219} {1604381560036069539 29 220} {5546143264322851746 31 221}]
------------------------------------------------------
flag 77227 term 31 leader 0 nextIndex[1]: 221  matchIndex[1]: 220
term 31 leader 0 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 29 leaderCommit: 221 
------------------------------------------------------
flag 82566 term 31 leader 0 nextIndex[2]: 222  matchIndex[2]: 221
term 31 leader 0 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 31 leaderCommit: 221 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=222
update matchIndex[2]=221
update leader CommitIndex=221
leader log:
[{snapshot 29 219} {1604381560036069539 29 220} {5546143264322851746 31 221}]
------------------------------------------------------
client write log 8645027522902410132 (index 222) to leader 0
client write log 1195216524313959508 (index 223) to leader 0
client write log 5526150690511420926 (index 224) to leader 0
client write log 4002398401791554979 (index 225) to leader 0
client write log 2274021593001506019 (index 226) to leader 0
client write log 3381985013387413735 (index 227) to leader 0
flag 52927 term 31 leader 0 nextIndex[1]: 221  matchIndex[1]: 220
term 31 leader 0 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 29 leaderCommit: 221 
------------------------------------------------------
flag 96163 term 31 leader 0 nextIndex[2]: 222  matchIndex[2]: 221
term 31 leader 0 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 31 leaderCommit: 221 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=228
update matchIndex[2]=227
update leader CommitIndex=227
leader log:
[{snapshot 29 219} {1604381560036069539 29 220} {5546143264322851746 31 221} {8645027522902410132 31 222} {1195216524313959508 31 223} {5526150690511420926 31 224} {4002398401791554979 31 225} {2274021593001506019 31 226} {3381985013387413735 31 227}]
------------------------------------------------------
flag 64327 term 31 leader 0 nextIndex[1]: 221  matchIndex[1]: 220
term 31 leader 0 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 29 leaderCommit: 227 
------------------------------------------------------
flag 63210 term 31 leader 0 nextIndex[2]: 228  matchIndex[2]: 227
term 31 leader 0 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 31 leaderCommit: 227 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=228
update matchIndex[2]=227
update leader CommitIndex=227
leader log:
[{snapshot 29 219} {1604381560036069539 29 220} {5546143264322851746 31 221} {8645027522902410132 31 222} {1195216524313959508 31 223} {5526150690511420926 31 224} {4002398401791554979 31 225} {2274021593001506019 31 226} {3381985013387413735 31 227}]
------------------------------------------------------
!!!!!!connect server 1
client write log 206565448363665075 (index 228) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22038 term 31 leader 0 nextIndex[1]: 221  matchIndex[1]: 220
term 31 leader 0 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 29 leaderCommit: 227 
------------------------------------------------------
flag 67520 term 31 leader 0 nextIndex[2]: 228  matchIndex[2]: 227
term 31 leader 0 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 31 leaderCommit: 227 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
term 32 server 1 AppendEntries false 领导者任期过期 args.Term 31
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=229
update matchIndex[2]=228
update leader CommitIndex=228
leader log:
[{snapshot 29 219} {1604381560036069539 29 220} {5546143264322851746 31 221} {8645027522902410132 31 222} {1195216524313959508 31 223} {5526150690511420926 31 224} {4002398401791554979 31 225} {2274021593001506019 31 226} {3381985013387413735 31 227} {206565448363665075 31 228}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 31 server 2 not vote for server 0, 任期不够新
term 32 server 0 get outdate rpc reply from server 2
term 31 server 2 not vote for server 1, 日志不够新
term 32 server 0 not vote for server 1, 日志不够新
term 34 server 1 vote for server 2
term 34 server 2 get vote from server 1
term 34 server 2 become leader
------------------------------------------------------
term 34 server 0 vote for server 2
term 34 server 2 get outdate rpc reply from server 0
flag 1453 term 34 leader 2 nextIndex[0]: 229  matchIndex[0]: 0
term 34 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 31 leaderCommit: 227 
------------------------------------------------------
flag 873 term 34 leader 2 nextIndex[1]: 229  matchIndex[1]: 0
term 34 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 31 leaderCommit: 227 
------------------------------------------------------
term 34 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 229->228
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=227
leader log:
[{snapshot 29 219} {1604381560036069539 29 220} {5546143264322851746 31 221} {8645027522902410132 31 222} {1195216524313959508 31 223} {5526150690511420926 31 224} {4002398401791554979 31 225} {2274021593001506019 31 226} {3381985013387413735 31 227} {206565448363665075 31 228}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65682 term 34 leader 2 nextIndex[0]: 229  matchIndex[0]: 228
term 34 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 31 leaderCommit: 227 
------------------------------------------------------
flag 20518 term 34 leader 2 nextIndex[1]: 221  matchIndex[1]: 0
term 34 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 29 leaderCommit: 227 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=227
leader log:
[{snapshot 29 219} {1604381560036069539 29 220} {5546143264322851746 31 221} {8645027522902410132 31 222} {1195216524313959508 31 223} {5526150690511420926 31 224} {4002398401791554979 31 225} {2274021593001506019 31 226} {3381985013387413735 31 227} {206565448363665075 31 228}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=227
leader log:
[{snapshot 29 219} {1604381560036069539 29 220} {5546143264322851746 31 221} {8645027522902410132 31 222} {1195216524313959508 31 223} {5526150690511420926 31 224} {4002398401791554979 31 225} {2274021593001506019 31 226} {3381985013387413735 31 227} {206565448363665075 31 228}]
------------------------------------------------------
flag 95328 term 34 leader 2 nextIndex[0]: 229  matchIndex[0]: 228
term 34 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 31 leaderCommit: 227 
------------------------------------------------------
flag 9661 term 34 leader 2 nextIndex[1]: 229  matchIndex[1]: 228
term 34 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 31 leaderCommit: 227 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=227
leader log:
[{snapshot 29 219} {1604381560036069539 29 220} {5546143264322851746 31 221} {8645027522902410132 31 222} {1195216524313959508 31 223} {5526150690511420926 31 224} {4002398401791554979 31 225} {2274021593001506019 31 226} {3381985013387413735 31 227} {206565448363665075 31 228}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=227
leader log:
[{snapshot 29 219} {1604381560036069539 29 220} {5546143264322851746 31 221} {8645027522902410132 31 222} {1195216524313959508 31 223} {5526150690511420926 31 224} {4002398401791554979 31 225} {2274021593001506019 31 226} {3381985013387413735 31 227} {206565448363665075 31 228}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82631 term 34 leader 2 nextIndex[0]: 229  matchIndex[0]: 228
term 34 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 31 leaderCommit: 227 
------------------------------------------------------
flag 92028 term 34 leader 2 nextIndex[1]: 229  matchIndex[1]: 228
term 34 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 31 leaderCommit: 227 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=227
leader log:
[{snapshot 29 219} {1604381560036069539 29 220} {5546143264322851746 31 221} {8645027522902410132 31 222} {1195216524313959508 31 223} {5526150690511420926 31 224} {4002398401791554979 31 225} {2274021593001506019 31 226} {3381985013387413735 31 227} {206565448363665075 31 228}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=227
leader log:
[{snapshot 29 219} {1604381560036069539 29 220} {5546143264322851746 31 221} {8645027522902410132 31 222} {1195216524313959508 31 223} {5526150690511420926 31 224} {4002398401791554979 31 225} {2274021593001506019 31 226} {3381985013387413735 31 227} {206565448363665075 31 228}]
------------------------------------------------------
term 34 server 2 not vote for server 1, 任期不够新
term 34 server 1 get outdate rpc reply from server 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95111 term 34 leader 2 nextIndex[0]: 229  matchIndex[0]: 228
term 34 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 31 leaderCommit: 227 
------------------------------------------------------
flag 72391 term 34 leader 2 nextIndex[1]: 229  matchIndex[1]: 228
term 34 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 31 leaderCommit: 227 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=227
leader log:
term 34 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
[{snapshot 29 219} {1604381560036069539 29 220} {5546143264322851746 31 221} {8645027522902410132 31 222} {1195216524313959508 31 223} {5526150690511420926 31 224} {4002398401791554979 31 225} {2274021593001506019 31 226} {3381985013387413735 31 227} {206565448363665075 31 228}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=227
leader log:
[{snapshot 29 219} {1604381560036069539 29 220} {5546143264322851746 31 221} {8645027522902410132 31 222} {1195216524313959508 31 223} {5526150690511420926 31 224} {4002398401791554979 31 225} {2274021593001506019 31 226} {3381985013387413735 31 227} {206565448363665075 31 228}]
------------------------------------------------------
term 34 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 62848 term 34 leader 2 nextIndex[0]: 229  matchIndex[0]: 228
term 34 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 31 leaderCommit: 227 
------------------------------------------------------
flag 10860 term 34 leader 2 nextIndex[1]: 229  matchIndex[1]: 228
term 34 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 31 leaderCommit: 227 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=227
leader log:
[{snapshot 29 219} {1604381560036069539 29 220} {5546143264322851746 31 221} {8645027522902410132 31 222} {1195216524313959508 31 223} {5526150690511420926 31 224} {4002398401791554979 31 225} {2274021593001506019 31 226} {3381985013387413735 31 227} {206565448363665075 31 228}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=227
leader log:
[{snapshot 29 219} {1604381560036069539 29 220} {5546143264322851746 31 221} {8645027522902410132 31 222} {1195216524313959508 31 223} {5526150690511420926 31 224} {4002398401791554979 31 225} {2274021593001506019 31 226} {3381985013387413735 31 227} {206565448363665075 31 228}]
------------------------------------------------------
flag 34073 term 34 leader 2 nextIndex[0]: 229  matchIndex[0]: 228
term 34 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 31 leaderCommit: 227 
------------------------------------------------------
flag 73218 term 34 leader 2 nextIndex[1]: 229  matchIndex[1]: 228
term 34 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 31 leaderCommit: 227 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=227
leader log:
[{snapshot 29 219} {1604381560036069539 29 220} {5546143264322851746 31 221} {8645027522902410132 31 222} {1195216524313959508 31 223} {5526150690511420926 31 224} {4002398401791554979 31 225} {2274021593001506019 31 226} {3381985013387413735 31 227} {206565448363665075 31 228}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=227
leader log:
[{snapshot 29 219} {1604381560036069539 29 220} {5546143264322851746 31 221} {8645027522902410132 31 222} {1195216524313959508 31 223} {5526150690511420926 31 224} {4002398401791554979 31 225} {2274021593001506019 31 226} {3381985013387413735 31 227} {206565448363665075 31 228}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 34 server 2 not vote for server 1, 任期不够新
term 34 server 1 get outdate rpc reply from server 2
flag 87265 term 34 leader 2 nextIndex[0]: 229  matchIndex[0]: 228
term 34 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 31 leaderCommit: 227 
------------------------------------------------------
flag 44610 term 34 leader 2 nextIndex[1]: 229  matchIndex[1]: 228
term 34 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 31 leaderCommit: 227 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=227
leader log:
[{snapshot 29 219} {1604381560036069539 29 220} {5546143264322851746 31 221} {8645027522902410132 31 222} {1195216524313959508 31 223} {5526150690511420926 31 224} {4002398401791554979 31 225} {2274021593001506019 31 226} {3381985013387413735 31 227} {206565448363665075 31 228}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=227
leader log:
[{snapshot 29 219} {1604381560036069539 29 220} {5546143264322851746 31 221} {8645027522902410132 31 222} {1195216524313959508 31 223} {5526150690511420926 31 224} {4002398401791554979 31 225} {2274021593001506019 31 226} {3381985013387413735 31 227} {206565448363665075 31 228}]
------------------------------------------------------
term 34 server 0 not vote for server 1, 任期不够新
term 34 server 1 get outdate rpc reply from server 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82204 term 34 leader 2 nextIndex[0]: 229  matchIndex[0]: 228
term 34 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 31 leaderCommit: 227 
------------------------------------------------------
flag 81181 term 34 leader 2 nextIndex[1]: 229  matchIndex[1]: 228
term 34 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 31 leaderCommit: 227 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=227
leader log:
[{snapshot 29 219} {1604381560036069539 29 220} {5546143264322851746 31 221} {8645027522902410132 31 222} {1195216524313959508 31 223} {5526150690511420926 31 224} {4002398401791554979 31 225} {2274021593001506019 31 226} {3381985013387413735 31 227} {206565448363665075 31 228}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=227
leader log:
[{snapshot 29 219} {1604381560036069539 29 220} {5546143264322851746 31 221} {8645027522902410132 31 222} {1195216524313959508 31 223} {5526150690511420926 31 224} {4002398401791554979 31 225} {2274021593001506019 31 226} {3381985013387413735 31 227} {206565448363665075 31 228}]
------------------------------------------------------
flag 44643 term 34 leader 2 nextIndex[0]: 229  matchIndex[0]: 228
term 34 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 31 leaderCommit: 227 
------------------------------------------------------
flag 56143 term 34 leader 2 nextIndex[1]: 229  matchIndex[1]: 228
term 34 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 31 leaderCommit: 227 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=227
leader log:
[{snapshot 29 219} {1604381560036069539 29 220} {5546143264322851746 31 221} {8645027522902410132 31 222} {1195216524313959508 31 223} {5526150690511420926 31 224} {4002398401791554979 31 225} {2274021593001506019 31 226} {3381985013387413735 31 227} {206565448363665075 31 228}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=227
leader log:
[{snapshot 29 219} {1604381560036069539 29 220} {5546143264322851746 31 221} {8645027522902410132 31 222} {1195216524313959508 31 223} {5526150690511420926 31 224} {4002398401791554979 31 225} {2274021593001506019 31 226} {3381985013387413735 31 227} {206565448363665075 31 228}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77822 term 34 leader 2 nextIndex[0]: 229  matchIndex[0]: 228
term 34 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 31 leaderCommit: 227 
------------------------------------------------------
flag 10540 term 34 leader 2 nextIndex[1]: 229  matchIndex[1]: 228
term 34 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 31 leaderCommit: 227 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=227
leader log:
[{snapshot 29 219} {1604381560036069539 29 220} {5546143264322851746 31 221} {8645027522902410132 31 222} {1195216524313959508 31 223} {5526150690511420926 31 224} {4002398401791554979 31 225} {2274021593001506019 31 226} {3381985013387413735 31 227} {206565448363665075 31 228}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=227
leader log:
[{snapshot 29 219} {1604381560036069539 29 220} {5546143264322851746 31 221} {8645027522902410132 31 222} {1195216524313959508 31 223} {5526150690511420926 31 224} {4002398401791554979 31 225} {2274021593001506019 31 226} {3381985013387413735 31 227} {206565448363665075 31 228}]
------------------------------------------------------
flag 18350 term 34 leader 2 nextIndex[0]: 229  matchIndex[0]: 228
term 34 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 31 leaderCommit: 227 
------------------------------------------------------
flag 26822 term 34 leader 2 nextIndex[1]: 229  matchIndex[1]: 228
term 34 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 31 leaderCommit: 227 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=227
leader log:
[{snapshot 29 219} {1604381560036069539 29 220} {5546143264322851746 31 221} {8645027522902410132 31 222} {1195216524313959508 31 223} {5526150690511420926 31 224} {4002398401791554979 31 225} {2274021593001506019 31 226} {3381985013387413735 31 227} {206565448363665075 31 228}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=227
leader log:
[{snapshot 29 219} {1604381560036069539 29 220} {5546143264322851746 31 221} {8645027522902410132 31 222} {1195216524313959508 31 223} {5526150690511420926 31 224} {4002398401791554979 31 225} {2274021593001506019 31 226} {3381985013387413735 31 227} {206565448363665075 31 228}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83201 term 34 leader 2 nextIndex[0]: 229  matchIndex[0]: 228
term 34 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 31 leaderCommit: 227 
------------------------------------------------------
flag 13543 term 34 leader 2 nextIndex[1]: 229  matchIndex[1]: 228
term 34 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 31 leaderCommit: 227 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=227
leader log:
[{snapshot 29 219} {1604381560036069539 29 220} {5546143264322851746 31 221} {8645027522902410132 31 222} {1195216524313959508 31 223} {5526150690511420926 31 224} {4002398401791554979 31 225} {2274021593001506019 31 226} {3381985013387413735 31 227} {206565448363665075 31 228}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=227
leader log:
[{snapshot 29 219} {1604381560036069539 29 220} {5546143264322851746 31 221} {8645027522902410132 31 222} {1195216524313959508 31 223} {5526150690511420926 31 224} {4002398401791554979 31 225} {2274021593001506019 31 226} {3381985013387413735 31 227} {206565448363665075 31 228}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78580 term 34 leader 2 nextIndex[0]: 229  matchIndex[0]: 228
term 34 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 31 leaderCommit: 227 
------------------------------------------------------
flag 44192 term 34 leader 2 nextIndex[1]: 229  matchIndex[1]: 228
term 34 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 31 leaderCommit: 227 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=227
leader log:
[{snapshot 29 219} {1604381560036069539 29 220} {5546143264322851746 31 221} {8645027522902410132 31 222} {1195216524313959508 31 223} {5526150690511420926 31 224} {4002398401791554979 31 225} {2274021593001506019 31 226} {3381985013387413735 31 227} {206565448363665075 31 228}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=227
leader log:
[{snapshot 29 219} {1604381560036069539 29 220} {5546143264322851746 31 221} {8645027522902410132 31 222} {1195216524313959508 31 223} {5526150690511420926 31 224} {4002398401791554979 31 225} {2274021593001506019 31 226} {3381985013387413735 31 227} {206565448363665075 31 228}]
------------------------------------------------------
term 34 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 23380 term 34 leader 2 nextIndex[0]: 229  matchIndex[0]: 228
term 34 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 31 leaderCommit: 227 
------------------------------------------------------
flag 69846 term 34 leader 2 nextIndex[1]: 229  matchIndex[1]: 228
term 34 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 31 leaderCommit: 227 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=227
leader log:
term 34 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
[{snapshot 29 219} {1604381560036069539 29 220} {5546143264322851746 31 221} {8645027522902410132 31 222} {1195216524313959508 31 223} {5526150690511420926 31 224} {4002398401791554979 31 225} {2274021593001506019 31 226} {3381985013387413735 31 227} {206565448363665075 31 228}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=227
leader log:
[{snapshot 29 219} {1604381560036069539 29 220} {5546143264322851746 31 221} {8645027522902410132 31 222} {1195216524313959508 31 223} {5526150690511420926 31 224} {4002398401791554979 31 225} {2274021593001506019 31 226} {3381985013387413735 31 227} {206565448363665075 31 228}]
------------------------------------------------------
flag 65473 term 34 leader 2 nextIndex[0]: 229  matchIndex[0]: 228
term 34 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 31 leaderCommit: 227 
------------------------------------------------------
flag 62944 term 34 leader 2 nextIndex[1]: 229  matchIndex[1]: 228
term 34 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 31 leaderCommit: 227 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=227
leader log:
[{snapshot 29 219} {1604381560036069539 29 220} {5546143264322851746 31 221} {8645027522902410132 31 222} {1195216524313959508 31 223} {5526150690511420926 31 224} {4002398401791554979 31 225} {2274021593001506019 31 226} {3381985013387413735 31 227} {206565448363665075 31 228}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=227
leader log:
[{snapshot 29 219} {1604381560036069539 29 220} {5546143264322851746 31 221} {8645027522902410132 31 222} {1195216524313959508 31 223} {5526150690511420926 31 224} {4002398401791554979 31 225} {2274021593001506019 31 226} {3381985013387413735 31 227} {206565448363665075 31 228}]
------------------------------------------------------
client write log 206565448363665075 (index 229) to leader 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94645 term 34 leader 2 nextIndex[0]: 229  matchIndex[0]: 228
term 34 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 31 leaderCommit: 227 
------------------------------------------------------
flag 51654 term 34 leader 2 nextIndex[1]: 229  matchIndex[1]: 228
term 34 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 31 leaderCommit: 227 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 29 219} {1604381560036069539 29 220} {5546143264322851746 31 221} {8645027522902410132 31 222} {1195216524313959508 31 223} {5526150690511420926 31 224} {4002398401791554979 31 225} {2274021593001506019 31 226} {3381985013387413735 31 227} {206565448363665075 31 228} {206565448363665075 34 229}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=229
leader log:
[{snapshot 29 219} {1604381560036069539 29 220} {5546143264322851746 31 221} {8645027522902410132 31 222} {1195216524313959508 31 223} {5526150690511420926 31 224} {4002398401791554979 31 225} {2274021593001506019 31 226} {3381985013387413735 31 227} {206565448363665075 31 228} {206565448363665075 34 229}]
------------------------------------------------------
term 34 Server2 start snapshot! index=229
term 34 server2 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=229
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30915 term 34 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 34 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 34 leaderCommit: 229 
------------------------------------------------------
flag 1853 term 34 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 34 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 34 leaderCommit: 229 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 34 229}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=229
leader log:
[{snapshot 34 229}]
------------------------------------------------------
term 34 Server1 start snapshot! index=229
term 34 server1 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=229
-------------------------------------------------------------
term 34 Server0 start snapshot! index=229
term 34 server0 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=229
-------------------------------------------------------------
flag 92666 term 34 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 34 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 34 leaderCommit: 229 
------------------------------------------------------
flag 10228 term 34 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 34 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 34 leaderCommit: 229 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 34 229}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=229
leader log:
[{snapshot 34 229}]
------------------------------------------------------
flag 46120 term 34 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 34 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 34 leaderCommit: 229 
------------------------------------------------------
flag 23069 term 34 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 34 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 34 leaderCommit: 229 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=229
leader log:
[{snapshot 34 229}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 34 229}]
------------------------------------------------------
flag 50458 term 34 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 34 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 34 leaderCommit: 229 
------------------------------------------------------
flag 67026 term 34 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 34 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 34 leaderCommit: 229 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 34 229}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=229
leader log:
[{snapshot 34 229}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11998 term 34 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 34 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 34 leaderCommit: 229 
------------------------------------------------------
flag 40556 term 34 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 34 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 34 leaderCommit: 229 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 34 229}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=229
leader log:
[{snapshot 34 229}]
------------------------------------------------------
flag 85124 term 34 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 34 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 34 leaderCommit: 229 
------------------------------------------------------
flag 52892 term 34 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 34 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 34 leaderCommit: 229 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=229
leader log:
[{snapshot 34 229}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 34 229}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 83307 term 34 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 34 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 34 leaderCommit: 229 
------------------------------------------------------
flag 38386 term 34 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 34 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 34 leaderCommit: 229 
------------------------------------------------------
term 34 server 0 not vote for server 1, 任期不够新
term 34 server 1 get outdate rpc reply from server 0
flag 10491 term 34 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 34 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 34 leaderCommit: 229 
------------------------------------------------------
flag 27732 term 34 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 34 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 34 leaderCommit: 229 
------------------------------------------------------
flag 91560 term 34 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 34 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 34 leaderCommit: 229 
------------------------------------------------------
flag 46599 term 34 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 34 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 34 leaderCommit: 229 
------------------------------------------------------
term 35 server 1 vote for server 0
term 35 server 0 get vote from server 1
term 35 server 0 become leader
------------------------------------------------------
flag 85523 term 35 leader 0 nextIndex[1]: 230  matchIndex[1]: 0
term 35 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 34 leaderCommit: 229 
------------------------------------------------------
flag 35977 term 35 leader 0 nextIndex[2]: 230  matchIndex[2]: 0
term 35 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 34 leaderCommit: 229 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 34 229}]
------------------------------------------------------
client write log 7413756158828477846 (index 230) to leader 0
flag 88732 term 34 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 34 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 34 leaderCommit: 229 
------------------------------------------------------
flag 20625 term 34 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 34 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 34 leaderCommit: 229 
------------------------------------------------------
flag 91300 term 35 leader 0 nextIndex[1]: 230  matchIndex[1]: 229
term 35 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 34 leaderCommit: 229 
------------------------------------------------------
flag 97673 term 35 leader 0 nextIndex[2]: 230  matchIndex[2]: 0
term 35 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 34 leaderCommit: 229 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 34 229} {7413756158828477846 35 230}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 230->229
------------------------------------------------------
flag 54306 term 34 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 34 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 34 leaderCommit: 229 
------------------------------------------------------
flag 18661 term 34 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 34 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 34 leaderCommit: 229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 230->229
------------------------------------------------------
flag 65246 term 35 leader 0 nextIndex[1]: 231  matchIndex[1]: 230
term 35 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 35 leaderCommit: 230 
------------------------------------------------------
term 35 leader 0 nextIndex[2]: 0  matchIndex[2]: 0
term 35 leader 0 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 34
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 34 229} {7413756158828477846 35 230}]
------------------------------------------------------
client write log 3610034884069321658 (index 231) to leader 0
client write log 5739207923506748416 (index 232) to leader 0
client write log 8787083679193153321 (index 233) to leader 0
client write log 3532541556652032221 (index 234) to leader 0
client write log 1464594998159157734 (index 235) to leader 0
client write log 4666676997144457051 (index 236) to leader 0
client write log 327122855081266678 (index 237) to leader 0
client write log 4253340944878584817 (index 238) to leader 0
client write log 4067137765970508773 (index 239) to leader 0
client write log 7089119999816746132 (index 240) to leader 0
client write log 1890519194435692584 (index 241) to leader 0
client write log 8161926145847927832 (index 242) to leader 0
client write log 8403547005331856242 (index 243) to leader 0
client write log 8849868572660595306 (index 244) to leader 0
term 34 leader 2 nextIndex[0]: 0  matchIndex[0]: 229
term 34 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 34
------------------------------------------------------
flag 65797 term 34 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 34 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 34 leaderCommit: 229 
------------------------------------------------------
flag 42273 term 35 leader 0 nextIndex[1]: 231  matchIndex[1]: 230
term 35 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 35 leaderCommit: 230 
------------------------------------------------------
term 35 leader 0 nextIndex[2]: 0  matchIndex[2]: 0
term 35 leader 0 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 34
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 34 229} {7413756158828477846 35 230} {3610034884069321658 35 231} {5739207923506748416 35 232} {8787083679193153321 35 233} {3532541556652032221 35 234} {1464594998159157734 35 235} {4666676997144457051 35 236} {327122855081266678 35 237} {4253340944878584817 35 238} {4067137765970508773 35 239} {7089119999816746132 35 240} {1890519194435692584 35 241} {8161926145847927832 35 242} {8403547005331856242 35 243} {8849868572660595306 35 244}]
------------------------------------------------------
term 35 Server0 start snapshot! index=239
term 35 server0 snapshot success
lastIncludedIndex=239 lastApplied=240 lastIndex=244
-------------------------------------------------------------
term 34 leader 2 nextIndex[0]: 0  matchIndex[0]: 229
term 34 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 34
------------------------------------------------------
flag 1770 term 34 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 34 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 34 leaderCommit: 229 
------------------------------------------------------
flag 55574 term 35 leader 0 nextIndex[1]: 245  matchIndex[1]: 244
term 35 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 35 leaderCommit: 244 
------------------------------------------------------
term 35 leader 0 nextIndex[2]: 0  matchIndex[2]: 0
term 35 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 35
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 35 239} {7089119999816746132 35 240} {1890519194435692584 35 241} {8161926145847927832 35 242} {8403547005331856242 35 243} {8849868572660595306 35 244}]
------------------------------------------------------
term 35 Server1 start snapshot! index=239
term 35 server1 snapshot success
lastIncludedIndex=239 lastApplied=240 lastIndex=244
-------------------------------------------------------------
!!!!!!connect server 2
client write log 4995264702213301107 (index 230) to leader 2
term 34 leader 2 nextIndex[0]: 0  matchIndex[0]: 229
term 34 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 34
------------------------------------------------------
flag 71480 term 34 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 34 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 34 leaderCommit: 229 
------------------------------------------------------
term 35 server 1 AppendEntries false 领导者任期过期 args.Term 34
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 35 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 35 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 35 server 1 not vote for server 0, 任期不够新
term 35 server 0 get outdate rpc reply from server 1
term 35 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 240 matchIndex[2] 239 
------------------------------------------------------------------------
flag 21833 term 35 leader 0 nextIndex[1]: 245  matchIndex[1]: 244
term 35 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 35 leaderCommit: 244 
------------------------------------------------------
flag 51456 term 35 leader 0 nextIndex[2]: 240  matchIndex[2]: 239
term 35 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 35 leaderCommit: 244 
------------------------------------------------------
term 35 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 240->239
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 35 239} {7089119999816746132 35 240} {1890519194435692584 35 241} {8161926145847927832 35 242} {8403547005331856242 35 243} {8849868572660595306 35 244}]
------------------------------------------------------
flag 44952 term 35 leader 0 nextIndex[1]: 245  matchIndex[1]: 244
term 35 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 35 leaderCommit: 244 
------------------------------------------------------
term 35 leader 0 nextIndex[2]: 231  matchIndex[2]: 239
term 35 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 35
------------------------------------------------------
term 35 server 2 InstallSnapshot success
------------------------------------------------------
term 35 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 240 matchIndex[2] 239 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 239 rf.lastIncludedTerm 35 rf.commitIndex 239 rf.lastApplied 239
term 35 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 35 239} {7089119999816746132 35 240} {1890519194435692584 35 241} {8161926145847927832 35 242} {8403547005331856242 35 243} {8849868572660595306 35 244}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86851 term 35 leader 0 nextIndex[1]: 245  matchIndex[1]: 244
term 35 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 35 leaderCommit: 244 
------------------------------------------------------
flag 31312 term 35 leader 0 nextIndex[2]: 240  matchIndex[2]: 239
term 35 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 35 leaderCommit: 244 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=244
leader log:
[{snapshot 35 239} {7089119999816746132 35 240} {1890519194435692584 35 241} {8161926145847927832 35 242} {8403547005331856242 35 243} {8849868572660595306 35 244}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 35 239} {7089119999816746132 35 240} {1890519194435692584 35 241} {8161926145847927832 35 242} {8403547005331856242 35 243} {8849868572660595306 35 244}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57691 term 35 leader 0 nextIndex[1]: 245  matchIndex[1]: 244
term 35 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 35 leaderCommit: 244 
------------------------------------------------------
flag 11538 term 35 leader 0 nextIndex[2]: 245  matchIndex[2]: 244
term 35 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 35 leaderCommit: 244 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=244
leader log:
[{snapshot 35 239} {7089119999816746132 35 240} {1890519194435692584 35 241} {8161926145847927832 35 242} {8403547005331856242 35 243} {8849868572660595306 35 244}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 35 239} {7089119999816746132 35 240} {1890519194435692584 35 241} {8161926145847927832 35 242} {8403547005331856242 35 243} {8849868572660595306 35 244}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12980 term 35 leader 0 nextIndex[1]: 245  matchIndex[1]: 244
term 35 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 35 leaderCommit: 244 
------------------------------------------------------
flag 88577 term 35 leader 0 nextIndex[2]: 245  matchIndex[2]: 244
term 35 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 35 leaderCommit: 244 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 35 239} {7089119999816746132 35 240} {1890519194435692584 35 241} {8161926145847927832 35 242} {8403547005331856242 35 243} {8849868572660595306 35 244}]
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=244
leader log:
[{snapshot 35 239} {7089119999816746132 35 240} {1890519194435692584 35 241} {8161926145847927832 35 242} {8403547005331856242 35 243} {8849868572660595306 35 244}]
------------------------------------------------------
term 35 server 2 not vote for server 0, 日志不够新
term 35 server 0 get outdate rpc reply from server 2
flag 99784 term 35 leader 0 nextIndex[1]: 245  matchIndex[1]: 244
term 35 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 35 leaderCommit: 244 
------------------------------------------------------
flag 62155 term 35 leader 0 nextIndex[2]: 245  matchIndex[2]: 244
term 35 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 35 leaderCommit: 244 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
term 35 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
update matchIndex[2]=244
update leader CommitIndex=244
leader log:
[{snapshot 35 239} {7089119999816746132 35 240} {1890519194435692584 35 241} {8161926145847927832 35 242} {8403547005331856242 35 243} {8849868572660595306 35 244}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 35 239} {7089119999816746132 35 240} {1890519194435692584 35 241} {8161926145847927832 35 242} {8403547005331856242 35 243} {8849868572660595306 35 244}]
------------------------------------------------------
flag 28493 term 35 leader 0 nextIndex[1]: 245  matchIndex[1]: 244
term 35 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 35 leaderCommit: 244 
------------------------------------------------------
flag 90508 term 35 leader 0 nextIndex[2]: 245  matchIndex[2]: 244
term 35 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 35 leaderCommit: 244 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=244
leader log:
[{snapshot 35 239} {7089119999816746132 35 240} {1890519194435692584 35 241} {8161926145847927832 35 242} {8403547005331856242 35 243} {8849868572660595306 35 244}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 35 239} {7089119999816746132 35 240} {1890519194435692584 35 241} {8161926145847927832 35 242} {8403547005331856242 35 243} {8849868572660595306 35 244}]
------------------------------------------------------
flag 54475 term 35 leader 0 nextIndex[1]: 245  matchIndex[1]: 244
term 35 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 35 leaderCommit: 244 
------------------------------------------------------
flag 853 term 35 leader 0 nextIndex[2]: 245  matchIndex[2]: 244
term 35 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 35 leaderCommit: 244 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=244
leader log:
[{snapshot 35 239} {7089119999816746132 35 240} {1890519194435692584 35 241} {8161926145847927832 35 242} {8403547005331856242 35 243} {8849868572660595306 35 244}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 35 239} {7089119999816746132 35 240} {1890519194435692584 35 241} {8161926145847927832 35 242} {8403547005331856242 35 243} {8849868572660595306 35 244}]
------------------------------------------------------
flag 1092 term 35 leader 0 nextIndex[1]: 245  matchIndex[1]: 244
term 35 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 35 leaderCommit: 244 
------------------------------------------------------
flag 24216 term 35 leader 0 nextIndex[2]: 245  matchIndex[2]: 244
term 35 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 35 leaderCommit: 244 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 35 239} {7089119999816746132 35 240} {1890519194435692584 35 241} {8161926145847927832 35 242} {8403547005331856242 35 243} {8849868572660595306 35 244}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=244
leader log:
[{snapshot 35 239} {7089119999816746132 35 240} {1890519194435692584 35 241} {8161926145847927832 35 242} {8403547005331856242 35 243} {8849868572660595306 35 244}]
------------------------------------------------------
flag 61934 term 35 leader 0 nextIndex[1]: 245  matchIndex[1]: 244
term 35 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 35 leaderCommit: 244 
------------------------------------------------------
flag 2575 term 35 leader 0 nextIndex[2]: 245  matchIndex[2]: 244
term 35 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 35 leaderCommit: 244 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=244
leader log:
term 35 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
[{snapshot 35 239} {7089119999816746132 35 240} {1890519194435692584 35 241} {8161926145847927832 35 242} {8403547005331856242 35 243} {8849868572660595306 35 244}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 35 239} {7089119999816746132 35 240} {1890519194435692584 35 241} {8161926145847927832 35 242} {8403547005331856242 35 243} {8849868572660595306 35 244}]
------------------------------------------------------
flag 22424 term 35 leader 0 nextIndex[1]: 245  matchIndex[1]: 244
term 35 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 35 leaderCommit: 244 
------------------------------------------------------
flag 26564 term 35 leader 0 nextIndex[2]: 245  matchIndex[2]: 244
term 35 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 35 leaderCommit: 244 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=244
leader log:
[{snapshot 35 239} {7089119999816746132 35 240} {1890519194435692584 35 241} {8161926145847927832 35 242} {8403547005331856242 35 243} {8849868572660595306 35 244}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 35 239} {7089119999816746132 35 240} {1890519194435692584 35 241} {8161926145847927832 35 242} {8403547005331856242 35 243} {8849868572660595306 35 244}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43658 term 35 leader 0 nextIndex[1]: 245  matchIndex[1]: 244
term 35 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 35 leaderCommit: 244 
------------------------------------------------------
flag 32255 term 35 leader 0 nextIndex[2]: 245  matchIndex[2]: 244
term 35 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 35 leaderCommit: 244 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=244
leader log:
[{snapshot 35 239} {7089119999816746132 35 240} {1890519194435692584 35 241} {8161926145847927832 35 242} {8403547005331856242 35 243} {8849868572660595306 35 244}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 35 239} {7089119999816746132 35 240} {1890519194435692584 35 241} {8161926145847927832 35 242} {8403547005331856242 35 243} {8849868572660595306 35 244}]
------------------------------------------------------
flag 90407 term 35 leader 0 nextIndex[1]: 245  matchIndex[1]: 244
term 35 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 35 leaderCommit: 244 
------------------------------------------------------
flag 94076 term 35 leader 0 nextIndex[2]: 245  matchIndex[2]: 244
term 35 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 35 leaderCommit: 244 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=244
leader log:
[{snapshot 35 239} {7089119999816746132 35 240} {1890519194435692584 35 241} {8161926145847927832 35 242} {8403547005331856242 35 243} {8849868572660595306 35 244}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 35 239} {7089119999816746132 35 240} {1890519194435692584 35 241} {8161926145847927832 35 242} {8403547005331856242 35 243} {8849868572660595306 35 244}]
------------------------------------------------------
term 35 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 35 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 15088 term 35 leader 0 nextIndex[1]: 245  matchIndex[1]: 244
term 35 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 35 leaderCommit: 244 
------------------------------------------------------
flag 67784 term 35 leader 0 nextIndex[2]: 245  matchIndex[2]: 244
term 35 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 35 leaderCommit: 244 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=244
leader log:
[{snapshot 35 239} {7089119999816746132 35 240} {1890519194435692584 35 241} {8161926145847927832 35 242} {8403547005331856242 35 243} {8849868572660595306 35 244}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 35 239} {7089119999816746132 35 240} {1890519194435692584 35 241} {8161926145847927832 35 242} {8403547005331856242 35 243} {8849868572660595306 35 244}]
------------------------------------------------------
flag 61764 term 35 leader 0 nextIndex[1]: 245  matchIndex[1]: 244
term 35 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 35 leaderCommit: 244 
------------------------------------------------------
flag 6211 term 35 leader 0 nextIndex[2]: 245  matchIndex[2]: 244
term 35 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 35 leaderCommit: 244 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=244
leader log:
[{snapshot 35 239} {7089119999816746132 35 240} {1890519194435692584 35 241} {8161926145847927832 35 242} {8403547005331856242 35 243} {8849868572660595306 35 244}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 35 239} {7089119999816746132 35 240} {1890519194435692584 35 241} {8161926145847927832 35 242} {8403547005331856242 35 243} {8849868572660595306 35 244}]
------------------------------------------------------
flag 58388 term 35 leader 0 nextIndex[1]: 245  matchIndex[1]: 244
term 35 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 35 leaderCommit: 244 
------------------------------------------------------
flag 17846 term 35 leader 0 nextIndex[2]: 245  matchIndex[2]: 244
term 35 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 35 leaderCommit: 244 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 35 239} {7089119999816746132 35 240} {1890519194435692584 35 241} {8161926145847927832 35 242} {8403547005331856242 35 243} {8849868572660595306 35 244}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=244
leader log:
[{snapshot 35 239} {7089119999816746132 35 240} {1890519194435692584 35 241} {8161926145847927832 35 242} {8403547005331856242 35 243} {8849868572660595306 35 244}]
------------------------------------------------------
flag 82422 term 35 leader 0 nextIndex[1]: 245  matchIndex[1]: 244
term 35 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 35 leaderCommit: 244 
------------------------------------------------------
flag 10394 term 35 leader 0 nextIndex[2]: 245  matchIndex[2]: 244
term 35 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 35 leaderCommit: 244 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=244
leader log:
[{snapshot 35 239} {7089119999816746132 35 240} {1890519194435692584 35 241} {8161926145847927832 35 242} {8403547005331856242 35 243} {8849868572660595306 35 244}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 35 239} {7089119999816746132 35 240} {1890519194435692584 35 241} {8161926145847927832 35 242} {8403547005331856242 35 243} {8849868572660595306 35 244}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89215 term 35 leader 0 nextIndex[1]: 245  matchIndex[1]: 244
term 35 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 35 leaderCommit: 244 
------------------------------------------------------
flag 12619 term 35 leader 0 nextIndex[2]: 245  matchIndex[2]: 244
term 35 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 35 leaderCommit: 244 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=244
leader log:
[{snapshot 35 239} {7089119999816746132 35 240} {1890519194435692584 35 241} {8161926145847927832 35 242} {8403547005331856242 35 243} {8849868572660595306 35 244}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 35 239} {7089119999816746132 35 240} {1890519194435692584 35 241} {8161926145847927832 35 242} {8403547005331856242 35 243} {8849868572660595306 35 244}]
------------------------------------------------------
flag 29581 term 35 leader 0 nextIndex[1]: 245  matchIndex[1]: 244
term 35 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 35 leaderCommit: 244 
------------------------------------------------------
flag 77958 term 35 leader 0 nextIndex[2]: 245  matchIndex[2]: 244
term 35 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 35 leaderCommit: 244 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=244
leader log:
[{snapshot 35 239} {7089119999816746132 35 240} {1890519194435692584 35 241} {8161926145847927832 35 242} {8403547005331856242 35 243} {8849868572660595306 35 244}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 35 239} {7089119999816746132 35 240} {1890519194435692584 35 241} {8161926145847927832 35 242} {8403547005331856242 35 243} {8849868572660595306 35 244}]
------------------------------------------------------
flag 73853 term 35 leader 0 nextIndex[1]: 245  matchIndex[1]: 244
term 35 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 35 leaderCommit: 244 
------------------------------------------------------
flag 89800 term 35 leader 0 nextIndex[2]: 245  matchIndex[2]: 244
term 35 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 35 leaderCommit: 244 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=244
leader log:
[{snapshot 35 239} {7089119999816746132 35 240} {1890519194435692584 35 241} {8161926145847927832 35 242} {8403547005331856242 35 243} {8849868572660595306 35 244}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 35 239} {7089119999816746132 35 240} {1890519194435692584 35 241} {8161926145847927832 35 242} {8403547005331856242 35 243} {8849868572660595306 35 244}]
------------------------------------------------------
client write log 4995264702213301107 (index 245) to leader 0
flag 94611 term 35 leader 0 nextIndex[1]: 245  matchIndex[1]: 244
term 35 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 35 leaderCommit: 244 
------------------------------------------------------
flag 97170 term 35 leader 0 nextIndex[2]: 245  matchIndex[2]: 244
term 35 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 35 leaderCommit: 244 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=245
leader log:
[{snapshot 35 239} {7089119999816746132 35 240} {1890519194435692584 35 241} {8161926145847927832 35 242} {8403547005331856242 35 243} {8849868572660595306 35 244} {4995264702213301107 35 245}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 35 239} {7089119999816746132 35 240} {1890519194435692584 35 241} {8161926145847927832 35 242} {8403547005331856242 35 243} {8849868572660595306 35 244} {4995264702213301107 35 245}]
------------------------------------------------------
flag 13483 term 35 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 35 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 35 leaderCommit: 245 
------------------------------------------------------
flag 66196 term 35 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 35 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 35 leaderCommit: 245 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=245
leader log:
[{snapshot 35 239} {7089119999816746132 35 240} {1890519194435692584 35 241} {8161926145847927832 35 242} {8403547005331856242 35 243} {8849868572660595306 35 244} {4995264702213301107 35 245}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 35 239} {7089119999816746132 35 240} {1890519194435692584 35 241} {8161926145847927832 35 242} {8403547005331856242 35 243} {8849868572660595306 35 244} {4995264702213301107 35 245}]
------------------------------------------------------
flag 79151 term 35 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 35 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 35 leaderCommit: 245 
------------------------------------------------------
flag 23024 term 35 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 35 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 35 leaderCommit: 245 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=245
leader log:
[{snapshot 35 239} {7089119999816746132 35 240} {1890519194435692584 35 241} {8161926145847927832 35 242} {8403547005331856242 35 243} {8849868572660595306 35 244} {4995264702213301107 35 245}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 35 239} {7089119999816746132 35 240} {1890519194435692584 35 241} {8161926145847927832 35 242} {8403547005331856242 35 243} {8849868572660595306 35 244} {4995264702213301107 35 245}]
------------------------------------------------------
flag 76487 term 35 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 35 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 35 leaderCommit: 245 
------------------------------------------------------
flag 36645 term 35 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 35 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 35 leaderCommit: 245 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=245
leader log:
[{snapshot 35 239} {7089119999816746132 35 240} {1890519194435692584 35 241} {8161926145847927832 35 242} {8403547005331856242 35 243} {8849868572660595306 35 244} {4995264702213301107 35 245}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 35 239} {7089119999816746132 35 240} {1890519194435692584 35 241} {8161926145847927832 35 242} {8403547005331856242 35 243} {8849868572660595306 35 244} {4995264702213301107 35 245}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45684 term 35 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 35 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 35 leaderCommit: 245 
------------------------------------------------------
flag 23421 term 35 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 35 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 35 leaderCommit: 245 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=245
leader log:
[{snapshot 35 239} {7089119999816746132 35 240} {1890519194435692584 35 241} {8161926145847927832 35 242} {8403547005331856242 35 243} {8849868572660595306 35 244} {4995264702213301107 35 245}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 35 239} {7089119999816746132 35 240} {1890519194435692584 35 241} {8161926145847927832 35 242} {8403547005331856242 35 243} {8849868572660595306 35 244} {4995264702213301107 35 245}]
------------------------------------------------------
flag 64199 term 35 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 35 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 35 leaderCommit: 245 
------------------------------------------------------
flag 54690 term 35 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 35 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 35 leaderCommit: 245 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=245
leader log:
[{snapshot 35 239} {7089119999816746132 35 240} {1890519194435692584 35 241} {8161926145847927832 35 242} {8403547005331856242 35 243} {8849868572660595306 35 244} {4995264702213301107 35 245}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 35 239} {7089119999816746132 35 240} {1890519194435692584 35 241} {8161926145847927832 35 242} {8403547005331856242 35 243} {8849868572660595306 35 244} {4995264702213301107 35 245}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 1774394122340319634 (index 246) to leader 0
flag 95968 term 35 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 35 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 35 leaderCommit: 245 
------------------------------------------------------
flag 33030 term 35 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 35 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 35 leaderCommit: 245 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=247
update matchIndex[2]=246
update leader CommitIndex=246
leader log:
[{snapshot 35 239} {7089119999816746132 35 240} {1890519194435692584 35 241} {8161926145847927832 35 242} {8403547005331856242 35 243} {8849868572660595306 35 244} {4995264702213301107 35 245} {1774394122340319634 35 246}]
------------------------------------------------------
flag 9840 term 35 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 35 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 35 leaderCommit: 246 
------------------------------------------------------
flag 86575 term 35 leader 0 nextIndex[2]: 247  matchIndex[2]: 246
term 35 leader 0 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 35 leaderCommit: 246 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=247
update matchIndex[2]=246
update leader CommitIndex=246
leader log:
[{snapshot 35 239} {7089119999816746132 35 240} {1890519194435692584 35 241} {8161926145847927832 35 242} {8403547005331856242 35 243} {8849868572660595306 35 244} {4995264702213301107 35 245} {1774394122340319634 35 246}]
------------------------------------------------------
client write log 7757716115472546672 (index 247) to leader 0
client write log 9195222719631248832 (index 248) to leader 0
client write log 6142773727400335542 (index 249) to leader 0
client write log 6342697351647886263 (index 250) to leader 0
client write log 7228400488061513142 (index 251) to leader 0
client write log 5182581171073516282 (index 252) to leader 0
client write log 4983439973236822382 (index 253) to leader 0
client write log 1220260554782449371 (index 254) to leader 0
client write log 3946283983382961933 (index 255) to leader 0
client write log 5378459752931702646 (index 256) to leader 0
client write log 6332337476966917101 (index 257) to leader 0
client write log 1503878288481684075 (index 258) to leader 0
client write log 5129449158254562588 (index 259) to leader 0
client write log 1289903846111361521 (index 260) to leader 0
flag 87244 term 35 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 35 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 35 leaderCommit: 246 
------------------------------------------------------
flag 34471 term 35 leader 0 nextIndex[2]: 247  matchIndex[2]: 246
term 35 leader 0 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 35 leaderCommit: 246 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 35 239} {7089119999816746132 35 240} {1890519194435692584 35 241} {8161926145847927832 35 242} {8403547005331856242 35 243} {8849868572660595306 35 244} {4995264702213301107 35 245} {1774394122340319634 35 246} {7757716115472546672 35 247} {9195222719631248832 35 248} {6142773727400335542 35 249} {6342697351647886263 35 250} {7228400488061513142 35 251} {5182581171073516282 35 252} {4983439973236822382 35 253} {1220260554782449371 35 254} {3946283983382961933 35 255} {5378459752931702646 35 256} {6332337476966917101 35 257} {1503878288481684075 35 258} {5129449158254562588 35 259} {1289903846111361521 35 260}]
------------------------------------------------------
term 35 Server0 start snapshot! index=249
term 35 server0 snapshot success
lastIncludedIndex=249 lastApplied=250 lastIndex=260
-------------------------------------------------------------
term 35 Server0 start snapshot! index=259
term 35 server0 snapshot success
lastIncludedIndex=259 lastApplied=260 lastIndex=260
-------------------------------------------------------------
term 35 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 35 leader 0 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 35
------------------------------------------------------
flag 58085 term 35 leader 0 nextIndex[2]: 261  matchIndex[2]: 260
term 35 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 35 leaderCommit: 260 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 35 259} {1289903846111361521 35 260}]
------------------------------------------------------
term 35 Server2 start snapshot! index=249
term 35 server2 snapshot success
lastIncludedIndex=249 lastApplied=250 lastIndex=260
-------------------------------------------------------------
term 35 Server2 start snapshot! index=259
term 35 server2 snapshot success
lastIncludedIndex=259 lastApplied=260 lastIndex=260
-------------------------------------------------------------
!!!!!!connect server 1
client write log 2433049712786428636 (index 261) to leader 0
term 35 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 35 leader 0 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 35
------------------------------------------------------
flag 49752 term 35 leader 0 nextIndex[2]: 261  matchIndex[2]: 260
term 35 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 35 leaderCommit: 260 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
term 36 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=261
leader log:
[{snapshot 35 259} {1289903846111361521 35 260} {2433049712786428636 35 261}]
------------------------------------------------------
term 35 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 37 server 2 vote for server 0
term 37 server 0 get vote from server 2
term 37 server 0 become leader
------------------------------------------------------
term 37 server 1 vote for server 0
term 37 server 0 get outdate rpc reply from server 1
flag 96857 term 37 leader 0 nextIndex[1]: 262  matchIndex[1]: 0
term 37 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 35 leaderCommit: 261 
------------------------------------------------------
flag 85492 term 37 leader 0 nextIndex[2]: 262  matchIndex[2]: 0
term 37 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 35 leaderCommit: 261 
------------------------------------------------------
term 37 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 262->261
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=261
leader log:
[{snapshot 35 259} {1289903846111361521 35 260} {2433049712786428636 35 261}]
------------------------------------------------------
term 37 leader 0 nextIndex[1]: 246  matchIndex[1]: 0
term 37 leader 0 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 35
------------------------------------------------------
flag 39722 term 37 leader 0 nextIndex[2]: 262  matchIndex[2]: 261
term 37 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 35 leaderCommit: 261 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=261
leader log:
[{snapshot 35 259} {1289903846111361521 35 260} {2433049712786428636 35 261}]
------------------------------------------------------
term 37 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 259 rf.lastIncludedTerm 35 rf.commitIndex 259 rf.lastApplied 259
term 37 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 260 matchIndex[1] 259 
------------------------------------------------------------------------
flag 89979 term 37 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 37 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 35 leaderCommit: 261 
------------------------------------------------------
flag 9668 term 37 leader 0 nextIndex[2]: 262  matchIndex[2]: 261
term 37 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 35 leaderCommit: 261 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=261
leader log:
[{snapshot 35 259} {1289903846111361521 35 260} {2433049712786428636 35 261}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=261
leader log:
[{snapshot 35 259} {1289903846111361521 35 260} {2433049712786428636 35 261}]
------------------------------------------------------
flag 40860 term 37 leader 0 nextIndex[1]: 262  matchIndex[1]: 261
term 37 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 35 leaderCommit: 261 
------------------------------------------------------
flag 8885 term 37 leader 0 nextIndex[2]: 262  matchIndex[2]: 261
term 37 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 35 leaderCommit: 261 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=261
leader log:
[{snapshot 35 259} {1289903846111361521 35 260} {2433049712786428636 35 261}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=261
leader log:
[{snapshot 35 259} {1289903846111361521 35 260} {2433049712786428636 35 261}]
------------------------------------------------------
flag 90073 term 37 leader 0 nextIndex[1]: 262  matchIndex[1]: 261
term 37 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 35 leaderCommit: 261 
------------------------------------------------------
flag 91539 term 37 leader 0 nextIndex[2]: 262  matchIndex[2]: 261
term 37 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 35 leaderCommit: 261 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=261
leader log:
[{snapshot 35 259} {1289903846111361521 35 260} {2433049712786428636 35 261}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=261
leader log:
[{snapshot 35 259} {1289903846111361521 35 260} {2433049712786428636 35 261}]
------------------------------------------------------
flag 45072 term 37 leader 0 nextIndex[1]: 262  matchIndex[1]: 261
term 37 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 35 leaderCommit: 261 
------------------------------------------------------
flag 36468 term 37 leader 0 nextIndex[2]: 262  matchIndex[2]: 261
term 37 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 35 leaderCommit: 261 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=261
leader log:
[{snapshot 35 259} {1289903846111361521 35 260} {2433049712786428636 35 261}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=261
leader log:
[{snapshot 35 259} {1289903846111361521 35 260} {2433049712786428636 35 261}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10310 term 37 leader 0 nextIndex[1]: 262  matchIndex[1]: 261
term 37 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 35 leaderCommit: 261 
------------------------------------------------------
flag 2905 term 37 leader 0 nextIndex[2]: 262  matchIndex[2]: 261
term 37 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 35 leaderCommit: 261 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=261
leader log:
[{snapshot 35 259} {1289903846111361521 35 260} {2433049712786428636 35 261}]
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=261
leader log:
[{snapshot 35 259} {1289903846111361521 35 260} {2433049712786428636 35 261}]
------------------------------------------------------
flag 92286 term 37 leader 0 nextIndex[1]: 262  matchIndex[1]: 261
term 37 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 35 leaderCommit: 261 
------------------------------------------------------
flag 90772 term 37 leader 0 nextIndex[2]: 262  matchIndex[2]: 261
term 37 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 35 leaderCommit: 261 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=261
leader log:
[{snapshot 35 259} {1289903846111361521 35 260} {2433049712786428636 35 261}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=261
leader log:
[{snapshot 35 259} {1289903846111361521 35 260} {2433049712786428636 35 261}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18757 term 37 leader 0 nextIndex[1]: 262  matchIndex[1]: 261
term 37 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 35 leaderCommit: 261 
------------------------------------------------------
flag 68844 term 37 leader 0 nextIndex[2]: 262  matchIndex[2]: 261
term 37 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 35 leaderCommit: 261 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=261
leader log:
[{snapshot 35 259} {1289903846111361521 35 260} {2433049712786428636 35 261}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=261
leader log:
[{snapshot 35 259} {1289903846111361521 35 260} {2433049712786428636 35 261}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 742897065431331294 (index 262) to leader 0
term 37 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 37167 term 37 leader 0 nextIndex[1]: 262  matchIndex[1]: 261
term 37 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 35 leaderCommit: 261 
------------------------------------------------------
flag 21656 term 37 leader 0 nextIndex[2]: 262  matchIndex[2]: 261
term 37 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 35 leaderCommit: 261 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=262
leader log:
[{snapshot 35 259} {1289903846111361521 35 260} {2433049712786428636 35 261} {742897065431331294 37 262}]
------------------------------------------------------
flag 50989 term 37 leader 0 nextIndex[1]: 262  matchIndex[1]: 261
term 37 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 35 leaderCommit: 262 
------------------------------------------------------
flag 51515 term 37 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 37 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 37 leaderCommit: 262 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=262
leader log:
[{snapshot 35 259} {1289903846111361521 35 260} {2433049712786428636 35 261} {742897065431331294 37 262}]
------------------------------------------------------
client write log 7146709170201573766 (index 263) to leader 0
client write log 683232658778842080 (index 264) to leader 0
client write log 3482073721715649223 (index 265) to leader 0
client write log 8792533116019861856 (index 266) to leader 0
client write log 8633857538661426408 (index 267) to leader 0
client write log 708736300978480005 (index 268) to leader 0
client write log 4710209712125816091 (index 269) to leader 0
client write log 3515373442236832585 (index 270) to leader 0
flag 20646 term 37 leader 0 nextIndex[1]: 262  matchIndex[1]: 261
term 37 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 35 leaderCommit: 262 
------------------------------------------------------
flag 55571 term 37 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 37 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 37 leaderCommit: 262 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=271
update matchIndex[2]=270
update leader CommitIndex=270
leader log:
[{snapshot 35 259} {1289903846111361521 35 260} {2433049712786428636 35 261} {742897065431331294 37 262} {7146709170201573766 37 263} {683232658778842080 37 264} {3482073721715649223 37 265} {8792533116019861856 37 266} {8633857538661426408 37 267} {708736300978480005 37 268} {4710209712125816091 37 269} {3515373442236832585 37 270}]
------------------------------------------------------
term 37 Server0 start snapshot! index=269
term 37 server0 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=270
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 37 leader 0 nextIndex[1]: 262  matchIndex[1]: 261
term 37 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 37
------------------------------------------------------
flag 6188 term 37 leader 0 nextIndex[2]: 271  matchIndex[2]: 270
term 37 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 37 leaderCommit: 270 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=271
update matchIndex[2]=270
update leader CommitIndex=270
leader log:
[{snapshot 37 269} {3515373442236832585 37 270}]
------------------------------------------------------
term 37 Server2 start snapshot! index=269
term 37 server2 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=270
-------------------------------------------------------------
!!!!!!connect server 1
client write log 1769219221242068149 (index 271) to leader 0
term 37 leader 0 nextIndex[1]: 262  matchIndex[1]: 261
term 37 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 37
------------------------------------------------------
flag 1461 term 37 leader 0 nextIndex[2]: 271  matchIndex[2]: 270
term 37 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 37 leaderCommit: 270 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=271
leader log:
[{snapshot 37 269} {3515373442236832585 37 270} {1769219221242068149 37 271}]
------------------------------------------------------
term 38 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 37 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 39 server 2 vote for server 0
term 39 server 0 get vote from server 2
term 39 server 1 vote for server 0
term 39 server 0 become leader
------------------------------------------------------
term 39 server 0 get outdate rpc reply from server 1
flag 28299 term 39 leader 0 nextIndex[1]: 272  matchIndex[1]: 0
term 39 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 37 leaderCommit: 271 
------------------------------------------------------
flag 29717 term 39 leader 0 nextIndex[2]: 272  matchIndex[2]: 0
term 39 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 37 leaderCommit: 271 
------------------------------------------------------
term 39 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 272->271
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=271
leader log:
[{snapshot 37 269} {3515373442236832585 37 270} {1769219221242068149 37 271}]
------------------------------------------------------
term 39 server 0 not vote for server 1, 任期不够新
term 39 server 1 get outdate rpc reply from server 0
term 39 leader 0 nextIndex[1]: 262  matchIndex[1]: 0
term 39 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 37
------------------------------------------------------
flag 69600 term 39 leader 0 nextIndex[2]: 272  matchIndex[2]: 271
term 39 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 37 leaderCommit: 271 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=271
leader log:
[{snapshot 37 269} {3515373442236832585 37 270} {1769219221242068149 37 271}]
------------------------------------------------------
term 39 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 269 rf.lastIncludedTerm 37 rf.commitIndex 269 rf.lastApplied 269
term 39 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 270 matchIndex[1] 269 
------------------------------------------------------------------------
flag 68905 term 39 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 39 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 37 leaderCommit: 271 
------------------------------------------------------
flag 53166 term 39 leader 0 nextIndex[2]: 272  matchIndex[2]: 271
term 39 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 37 leaderCommit: 271 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=271
leader log:
[{snapshot 37 269} {3515373442236832585 37 270} {1769219221242068149 37 271}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=271
leader log:
[{snapshot 37 269} {3515373442236832585 37 270} {1769219221242068149 37 271}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83606 term 39 leader 0 nextIndex[1]: 272  matchIndex[1]: 271
term 39 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 37 leaderCommit: 271 
------------------------------------------------------
flag 90046 term 39 leader 0 nextIndex[2]: 272  matchIndex[2]: 271
term 39 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 37 leaderCommit: 271 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=271
leader log:
[{snapshot 37 269} {3515373442236832585 37 270} {1769219221242068149 37 271}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=271
leader log:
[{snapshot 37 269} {3515373442236832585 37 270} {1769219221242068149 37 271}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11432 term 39 leader 0 nextIndex[1]: 272  matchIndex[1]: 271
term 39 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 37 leaderCommit: 271 
------------------------------------------------------
flag 36421 term 39 leader 0 nextIndex[2]: 272  matchIndex[2]: 271
term 39 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 37 leaderCommit: 271 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=271
leader log:
[{snapshot 37 269} {3515373442236832585 37 270} {1769219221242068149 37 271}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=271
leader log:
[{snapshot 37 269} {3515373442236832585 37 270} {1769219221242068149 37 271}]
------------------------------------------------------
flag 51873 term 39 leader 0 nextIndex[1]: 272  matchIndex[1]: 271
term 39 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 37 leaderCommit: 271 
------------------------------------------------------
flag 53867 term 39 leader 0 nextIndex[2]: 272  matchIndex[2]: 271
term 39 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 37 leaderCommit: 271 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=271
leader log:
[{snapshot 37 269} {3515373442236832585 37 270} {1769219221242068149 37 271}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=271
leader log:
[{snapshot 37 269} {3515373442236832585 37 270} {1769219221242068149 37 271}]
------------------------------------------------------
flag 48025 term 39 leader 0 nextIndex[1]: 272  matchIndex[1]: 271
term 39 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 37 leaderCommit: 271 
------------------------------------------------------
flag 49860 term 39 leader 0 nextIndex[2]: 272  matchIndex[2]: 271
term 39 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 37 leaderCommit: 271 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=271
leader log:
[{snapshot 37 269} {3515373442236832585 37 270} {1769219221242068149 37 271}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=271
leader log:
[{snapshot 37 269} {3515373442236832585 37 270} {1769219221242068149 37 271}]
------------------------------------------------------
flag 88000 term 39 leader 0 nextIndex[1]: 272  matchIndex[1]: 271
term 39 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 37 leaderCommit: 271 
------------------------------------------------------
flag 33137 term 39 leader 0 nextIndex[2]: 272  matchIndex[2]: 271
term 39 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 37 leaderCommit: 271 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=271
leader log:
[{snapshot 37 269} {3515373442236832585 37 270} {1769219221242068149 37 271}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=271
leader log:
[{snapshot 37 269} {3515373442236832585 37 270} {1769219221242068149 37 271}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 8952 term 39 leader 0 nextIndex[1]: 272  matchIndex[1]: 271
term 39 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 37 leaderCommit: 271 
------------------------------------------------------
flag 62731 term 39 leader 0 nextIndex[2]: 272  matchIndex[2]: 271
term 39 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 37 leaderCommit: 271 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2497 term 39 leader 0 nextIndex[1]: 272  matchIndex[1]: 271
term 39 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 37 leaderCommit: 271 
------------------------------------------------------
flag 69503 term 39 leader 0 nextIndex[2]: 272  matchIndex[2]: 271
term 39 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 37 leaderCommit: 271 
------------------------------------------------------
flag 44702 term 39 leader 0 nextIndex[1]: 272  matchIndex[1]: 271
term 39 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 37 leaderCommit: 271 
------------------------------------------------------
flag 38337 term 39 leader 0 nextIndex[2]: 272  matchIndex[2]: 271
term 39 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 37 leaderCommit: 271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 272->271
------------------------------------------------------
term 39 leader 0 nextIndex[1]: 0  matchIndex[1]: 271
term 39 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 37
------------------------------------------------------
flag 38978 term 39 leader 0 nextIndex[2]: 272  matchIndex[2]: 271
term 39 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 37 leaderCommit: 271 
------------------------------------------------------
term 40 server 2 vote for server 1
term 40 server 1 get vote from server 2
term 40 server 1 become leader
------------------------------------------------------
client write log 9087972193147578732 (index 272) to leader 1
flag 31007 term 40 leader 1 nextIndex[0]: 272  matchIndex[0]: 0
term 40 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 37 leaderCommit: 271 
------------------------------------------------------
flag 54257 term 40 leader 1 nextIndex[2]: 272  matchIndex[2]: 0
term 40 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 37 leaderCommit: 271 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=272
leader log:
[{snapshot 37 269} {3515373442236832585 37 270} {1769219221242068149 37 271} {9087972193147578732 40 272}]
------------------------------------------------------
term 39 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 39 leader 0 nextIndex[1]: 0  matchIndex[1]: 271
term 39 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 37
------------------------------------------------------
flag 6823 term 39 leader 0 nextIndex[2]: 272  matchIndex[2]: 271
term 39 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 37 leaderCommit: 271 
------------------------------------------------------
term 39 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 270 matchIndex[1] 269 
------------------------------------------------------------------------
flag 56603 term 40 leader 1 nextIndex[0]: 272  matchIndex[0]: 0
term 40 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 37 leaderCommit: 272 
------------------------------------------------------
flag 94849 term 40 leader 1 nextIndex[2]: 273  matchIndex[2]: 272
term 40 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 40 leaderCommit: 272 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=272
leader log:
[{snapshot 37 269} {3515373442236832585 37 270} {1769219221242068149 37 271} {9087972193147578732 40 272}]
------------------------------------------------------
client write log 5341973812106907571 (index 273) to leader 1
client write log 1419197830043212022 (index 274) to leader 1
client write log 9162256662651220060 (index 275) to leader 1
client write log 990211024963615294 (index 276) to leader 1
client write log 8975844060278197101 (index 277) to leader 1
client write log 4008949029970396933 (index 278) to leader 1
client write log 2114103027445851501 (index 279) to leader 1
client write log 4124750325418120265 (index 280) to leader 1
client write log 5791536688243510469 (index 281) to leader 1
client write log 4781513541515001554 (index 282) to leader 1
client write log 9047913523357746248 (index 283) to leader 1
client write log 1574540240980044790 (index 284) to leader 1
client write log 5646800472938305238 (index 285) to leader 1
client write log 6314263596687017807 (index 286) to leader 1
client write log 8520834692595321629 (index 287) to leader 1
flag 31931 term 39 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 39 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 37 leaderCommit: 271 
------------------------------------------------------
flag 63017 term 39 leader 0 nextIndex[2]: 272  matchIndex[2]: 271
term 39 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 37 leaderCommit: 271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 272->271
------------------------------------------------------
flag 68809 term 40 leader 1 nextIndex[0]: 272  matchIndex[0]: 0
term 40 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 37 leaderCommit: 272 
------------------------------------------------------
flag 93811 term 40 leader 1 nextIndex[2]: 273  matchIndex[2]: 272
term 40 leader 1 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 40 leaderCommit: 272 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=287
leader log:
[{snapshot 37 269} {3515373442236832585 37 270} {1769219221242068149 37 271} {9087972193147578732 40 272} {5341973812106907571 40 273} {1419197830043212022 40 274} {9162256662651220060 40 275} {990211024963615294 40 276} {8975844060278197101 40 277} {4008949029970396933 40 278} {2114103027445851501 40 279} {4124750325418120265 40 280} {5791536688243510469 40 281} {4781513541515001554 40 282} {9047913523357746248 40 283} {1574540240980044790 40 284} {5646800472938305238 40 285} {6314263596687017807 40 286} {8520834692595321629 40 287}]
------------------------------------------------------
term 40 Server1 start snapshot! index=279
term 40 server1 snapshot success
lastIncludedIndex=279 lastApplied=280 lastIndex=287
-------------------------------------------------------------
flag 90312 term 39 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 39 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 37 leaderCommit: 271 
------------------------------------------------------
term 39 leader 0 nextIndex[2]: 0  matchIndex[2]: 271
term 39 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 37
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 0->-1
------------------------------------------------------
term 40 leader 1 nextIndex[0]: 272  matchIndex[0]: 0
term 40 leader 1 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 40
------------------------------------------------------
flag 89833 term 40 leader 1 nextIndex[2]: 288  matchIndex[2]: 287
term 40 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 40 leaderCommit: 287 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=287
leader log:
[{snapshot 40 279} {4124750325418120265 40 280} {5791536688243510469 40 281} {4781513541515001554 40 282} {9047913523357746248 40 283} {1574540240980044790 40 284} {5646800472938305238 40 285} {6314263596687017807 40 286} {8520834692595321629 40 287}]
------------------------------------------------------
term 40 Server2 start snapshot! index=279
term 40 server2 snapshot success
lastIncludedIndex=279 lastApplied=280 lastIndex=287
-------------------------------------------------------------
!!!!!!connect server 0
client write log 1991199111085775013 (index 288) to leader 1
flag 66628 term 39 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 39 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 37 leaderCommit: 271 
------------------------------------------------------
term 39 leader 0 nextIndex[2]: 0  matchIndex[2]: 271
term 39 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 37
------------------------------------------------------
term 40 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 39 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 40 server 1 AppendEntries false 领导者任期过期 args.Term 39
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 40 leader 1 nextIndex[0]: 272  matchIndex[0]: 0
term 40 leader 1 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 40
------------------------------------------------------
flag 11892 term 40 leader 1 nextIndex[2]: 288  matchIndex[2]: 287
term 40 leader 1 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 40 leaderCommit: 287 
------------------------------------------------------
term 40 server 0 InstallSnapshot success
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:287 
------------------------------------------------------
term 40 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 280 matchIndex[0] 279 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 279 rf.lastIncludedTerm 40 rf.commitIndex 279 rf.lastApplied 279
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=289
update matchIndex[2]=288
update leader CommitIndex=288
leader log:
[{snapshot 40 279} {4124750325418120265 40 280} {5791536688243510469 40 281} {4781513541515001554 40 282} {9047913523357746248 40 283} {1574540240980044790 40 284} {5646800472938305238 40 285} {6314263596687017807 40 286} {8520834692595321629 40 287} {1991199111085775013 40 288}]
------------------------------------------------------
term 40 server 2 not vote for server 0, 日志不够新
term 40 server 1 not vote for server 0, 日志不够新
term 42 server 2 vote for server 1
term 42 server 1 get vote from server 2
term 42 server 1 become leader
------------------------------------------------------
term 42 server 0 vote for server 1
term 42 server 1 get outdate rpc reply from server 0
flag 15565 term 42 leader 1 nextIndex[0]: 289  matchIndex[0]: 0
term 42 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 40 leaderCommit: 288 
------------------------------------------------------
flag 1664 term 42 leader 1 nextIndex[2]: 289  matchIndex[2]: 0
term 42 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 40 leaderCommit: 288 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=289
update matchIndex[2]=288
update leader CommitIndex=288
leader log:
[{snapshot 40 279} {4124750325418120265 40 280} {5791536688243510469 40 281} {4781513541515001554 40 282} {9047913523357746248 40 283} {1574540240980044790 40 284} {5646800472938305238 40 285} {6314263596687017807 40 286} {8520834692595321629 40 287} {1991199111085775013 40 288}]
------------------------------------------------------
term 42 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 289->288
------------------------------------------------------
flag 55204 term 42 leader 1 nextIndex[0]: 280  matchIndex[0]: 0
term 42 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 40 leaderCommit: 288 
------------------------------------------------------
flag 98832 term 42 leader 1 nextIndex[2]: 289  matchIndex[2]: 288
term 42 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 40 leaderCommit: 288 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=289
update matchIndex[2]=288
update leader CommitIndex=288
leader log:
[{snapshot 40 279} {4124750325418120265 40 280} {5791536688243510469 40 281} {4781513541515001554 40 282} {9047913523357746248 40 283} {1574540240980044790 40 284} {5646800472938305238 40 285} {6314263596687017807 40 286} {8520834692595321629 40 287} {1991199111085775013 40 288}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=288
leader log:
[{snapshot 40 279} {4124750325418120265 40 280} {5791536688243510469 40 281} {4781513541515001554 40 282} {9047913523357746248 40 283} {1574540240980044790 40 284} {5646800472938305238 40 285} {6314263596687017807 40 286} {8520834692595321629 40 287} {1991199111085775013 40 288}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26706 term 42 leader 1 nextIndex[0]: 289  matchIndex[0]: 288
term 42 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 40 leaderCommit: 288 
------------------------------------------------------
flag 63239 term 42 leader 1 nextIndex[2]: 289  matchIndex[2]: 288
term 42 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 40 leaderCommit: 288 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=289
update matchIndex[2]=288
update leader CommitIndex=288
leader log:
[{snapshot 40 279} {4124750325418120265 40 280} {5791536688243510469 40 281} {4781513541515001554 40 282} {9047913523357746248 40 283} {1574540240980044790 40 284} {5646800472938305238 40 285} {6314263596687017807 40 286} {8520834692595321629 40 287} {1991199111085775013 40 288}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=288
leader log:
[{snapshot 40 279} {4124750325418120265 40 280} {5791536688243510469 40 281} {4781513541515001554 40 282} {9047913523357746248 40 283} {1574540240980044790 40 284} {5646800472938305238 40 285} {6314263596687017807 40 286} {8520834692595321629 40 287} {1991199111085775013 40 288}]
------------------------------------------------------
flag 50190 term 42 leader 1 nextIndex[0]: 289  matchIndex[0]: 288
term 42 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 40 leaderCommit: 288 
------------------------------------------------------
flag 47830 term 42 leader 1 nextIndex[2]: 289  matchIndex[2]: 288
term 42 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 40 leaderCommit: 288 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=289
update matchIndex[2]=288
update leader CommitIndex=288
leader log:
[{snapshot 40 279} {4124750325418120265 40 280} {5791536688243510469 40 281} {4781513541515001554 40 282} {9047913523357746248 40 283} {1574540240980044790 40 284} {5646800472938305238 40 285} {6314263596687017807 40 286} {8520834692595321629 40 287} {1991199111085775013 40 288}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=288
leader log:
[{snapshot 40 279} {4124750325418120265 40 280} {5791536688243510469 40 281} {4781513541515001554 40 282} {9047913523357746248 40 283} {1574540240980044790 40 284} {5646800472938305238 40 285} {6314263596687017807 40 286} {8520834692595321629 40 287} {1991199111085775013 40 288}]
------------------------------------------------------
flag 27716 term 42 leader 1 nextIndex[0]: 289  matchIndex[0]: 288
term 42 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 40 leaderCommit: 288 
------------------------------------------------------
flag 89396 term 42 leader 1 nextIndex[2]: 289  matchIndex[2]: 288
term 42 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 40 leaderCommit: 288 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=289
update matchIndex[2]=288
update leader CommitIndex=288
leader log:
[{snapshot 40 279} {4124750325418120265 40 280} {5791536688243510469 40 281} {4781513541515001554 40 282} {9047913523357746248 40 283} {1574540240980044790 40 284} {5646800472938305238 40 285} {6314263596687017807 40 286} {8520834692595321629 40 287} {1991199111085775013 40 288}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=288
leader log:
[{snapshot 40 279} {4124750325418120265 40 280} {5791536688243510469 40 281} {4781513541515001554 40 282} {9047913523357746248 40 283} {1574540240980044790 40 284} {5646800472938305238 40 285} {6314263596687017807 40 286} {8520834692595321629 40 287} {1991199111085775013 40 288}]
------------------------------------------------------
flag 4419 term 42 leader 1 nextIndex[0]: 289  matchIndex[0]: 288
term 42 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 40 leaderCommit: 288 
------------------------------------------------------
flag 81879 term 42 leader 1 nextIndex[2]: 289  matchIndex[2]: 288
term 42 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 40 leaderCommit: 288 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=289
update matchIndex[2]=288
update leader CommitIndex=288
leader log:
[{snapshot 40 279} {4124750325418120265 40 280} {5791536688243510469 40 281} {4781513541515001554 40 282} {9047913523357746248 40 283} {1574540240980044790 40 284} {5646800472938305238 40 285} {6314263596687017807 40 286} {8520834692595321629 40 287} {1991199111085775013 40 288}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=288
leader log:
[{snapshot 40 279} {4124750325418120265 40 280} {5791536688243510469 40 281} {4781513541515001554 40 282} {9047913523357746248 40 283} {1574540240980044790 40 284} {5646800472938305238 40 285} {6314263596687017807 40 286} {8520834692595321629 40 287} {1991199111085775013 40 288}]
------------------------------------------------------
term 42 server 0 not vote for server 1, 任期不够新
term 42 server 1 get outdate rpc reply from server 0
flag 24528 term 42 leader 1 nextIndex[0]: 289  matchIndex[0]: 288
term 42 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 40 leaderCommit: 288 
------------------------------------------------------
flag 28762 term 42 leader 1 nextIndex[2]: 289  matchIndex[2]: 288
term 42 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 40 leaderCommit: 288 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=289
update matchIndex[2]=288
update leader CommitIndex=288
leader log:
term 42 server 0 AppendEntries true commitIndex:288 
------------------------------------------------------
[{snapshot 40 279} {4124750325418120265 40 280} {5791536688243510469 40 281} {4781513541515001554 40 282} {9047913523357746248 40 283} {1574540240980044790 40 284} {5646800472938305238 40 285} {6314263596687017807 40 286} {8520834692595321629 40 287} {1991199111085775013 40 288}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=288
leader log:
[{snapshot 40 279} {4124750325418120265 40 280} {5791536688243510469 40 281} {4781513541515001554 40 282} {9047913523357746248 40 283} {1574540240980044790 40 284} {5646800472938305238 40 285} {6314263596687017807 40 286} {8520834692595321629 40 287} {1991199111085775013 40 288}]
------------------------------------------------------
flag 89412 term 42 leader 1 nextIndex[0]: 289  matchIndex[0]: 288
term 42 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 40 leaderCommit: 288 
------------------------------------------------------
flag 56986 term 42 leader 1 nextIndex[2]: 289  matchIndex[2]: 288
term 42 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 40 leaderCommit: 288 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=288
leader log:
[{snapshot 40 279} {4124750325418120265 40 280} {5791536688243510469 40 281} {4781513541515001554 40 282} {9047913523357746248 40 283} {1574540240980044790 40 284} {5646800472938305238 40 285} {6314263596687017807 40 286} {8520834692595321629 40 287} {1991199111085775013 40 288}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=289
update matchIndex[2]=288
update leader CommitIndex=288
leader log:
[{snapshot 40 279} {4124750325418120265 40 280} {5791536688243510469 40 281} {4781513541515001554 40 282} {9047913523357746248 40 283} {1574540240980044790 40 284} {5646800472938305238 40 285} {6314263596687017807 40 286} {8520834692595321629 40 287} {1991199111085775013 40 288}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 8887249006032379239 (index 289) to leader 1
flag 15937 term 42 leader 1 nextIndex[0]: 289  matchIndex[0]: 288
term 42 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 40 leaderCommit: 288 
------------------------------------------------------
flag 83959 term 42 leader 1 nextIndex[2]: 289  matchIndex[2]: 288
term 42 leader 1 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 40 leaderCommit: 288 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=290
update matchIndex[0]=289
update leader CommitIndex=289
leader log:
[{snapshot 40 279} {4124750325418120265 40 280} {5791536688243510469 40 281} {4781513541515001554 40 282} {9047913523357746248 40 283} {1574540240980044790 40 284} {5646800472938305238 40 285} {6314263596687017807 40 286} {8520834692595321629 40 287} {1991199111085775013 40 288} {8887249006032379239 42 289}]
------------------------------------------------------
term 42 Server1 start snapshot! index=289
term 42 server1 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=289
-------------------------------------------------------------
flag 32983 term 42 leader 1 nextIndex[0]: 290  matchIndex[0]: 289
term 42 leader 1 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 42 leaderCommit: 289 
------------------------------------------------------
term 42 leader 1 nextIndex[2]: 289  matchIndex[2]: 288
term 42 leader 1 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 42
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=290
update matchIndex[0]=289
update leader CommitIndex=289
leader log:
[{snapshot 42 289}]
------------------------------------------------------
term 42 Server0 start snapshot! index=289
term 42 server0 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=289
-------------------------------------------------------------
client write log 4063498201800835051 (index 290) to leader 1
client write log 6009359677517151820 (index 291) to leader 1
client write log 7578320874302512160 (index 292) to leader 1
client write log 6799957934567164416 (index 293) to leader 1
client write log 221317847753473721 (index 294) to leader 1
client write log 5004690463188812317 (index 295) to leader 1
client write log 7610337016500348565 (index 296) to leader 1
client write log 111423137445383309 (index 297) to leader 1
client write log 2093339798769060090 (index 298) to leader 1
client write log 7384991923457332956 (index 299) to leader 1
flag 63682 term 42 leader 1 nextIndex[0]: 290  matchIndex[0]: 289
term 42 leader 1 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 42 leaderCommit: 289 
------------------------------------------------------
term 42 leader 1 nextIndex[2]: 289  matchIndex[2]: 288
term 42 leader 1 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 42
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=300
update matchIndex[0]=299
update leader CommitIndex=299
leader log:
[{snapshot 42 289} {4063498201800835051 42 290} {6009359677517151820 42 291} {7578320874302512160 42 292} {6799957934567164416 42 293} {221317847753473721 42 294} {5004690463188812317 42 295} {7610337016500348565 42 296} {111423137445383309 42 297} {2093339798769060090 42 298} {7384991923457332956 42 299}]
------------------------------------------------------
term 42 Server1 start snapshot! index=299
term 42 server1 snapshot success
lastIncludedIndex=299 lastApplied=299 lastIndex=299
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30099 term 42 leader 1 nextIndex[0]: 300  matchIndex[0]: 299
term 42 leader 1 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 42 leaderCommit: 299 
------------------------------------------------------
term 42 leader 1 nextIndex[2]: 289  matchIndex[2]: 288
term 42 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 42
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=300
update matchIndex[0]=299
update leader CommitIndex=299
leader log:
[{snapshot 42 299}]
------------------------------------------------------
term 42 Server0 start snapshot! index=299
term 42 server0 snapshot success
lastIncludedIndex=299 lastApplied=299 lastIndex=299
-------------------------------------------------------------
!!!!!!connect server 2
client write log 1485673187139141519 (index 300) to leader 1
term 42 server 1 not vote for server 2, 日志不够新
term 42 server 0 not vote for server 2, 日志不够新
term 44 server 2 vote for server 1
term 44 server 1 get vote from server 2
term 44 server 1 become leader
------------------------------------------------------
term 44 server 0 vote for server 1
term 44 server 1 get outdate rpc reply from server 0
flag 2680 term 44 leader 1 nextIndex[0]: 301  matchIndex[0]: 0
term 44 leader 1 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 42 leaderCommit: 299 
------------------------------------------------------
flag 90847 term 44 leader 1 nextIndex[2]: 301  matchIndex[2]: 0
term 44 leader 1 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 42 leaderCommit: 299 
------------------------------------------------------
term 44 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 301->300
------------------------------------------------------
term 44 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 301->300
------------------------------------------------------
flag 40103 term 44 leader 1 nextIndex[0]: 300  matchIndex[0]: 0
term 44 leader 1 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 42 leaderCommit: 299 
------------------------------------------------------
term 44 leader 1 nextIndex[2]: 289  matchIndex[2]: 0
term 44 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 42
------------------------------------------------------
term 44 server 2 InstallSnapshot success
------------------------------------------------------
term 44 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 300 matchIndex[2] 299 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 299 rf.lastIncludedTerm 42 rf.commitIndex 299 rf.lastApplied 299
term 44 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=301
update matchIndex[0]=300
update leader CommitIndex=299
leader log:
[{snapshot 42 299} {1485673187139141519 42 300}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44505 term 44 leader 1 nextIndex[0]: 301  matchIndex[0]: 300
term 44 leader 1 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 42 leaderCommit: 299 
------------------------------------------------------
flag 19011 term 44 leader 1 nextIndex[2]: 300  matchIndex[2]: 299
term 44 leader 1 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 42 leaderCommit: 299 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=301
update matchIndex[2]=300
update leader CommitIndex=299
leader log:
[{snapshot 42 299} {1485673187139141519 42 300}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=301
update matchIndex[0]=300
update leader CommitIndex=299
leader log:
[{snapshot 42 299} {1485673187139141519 42 300}]
------------------------------------------------------
flag 16269 term 44 leader 1 nextIndex[0]: 301  matchIndex[0]: 300
term 44 leader 1 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 42 leaderCommit: 299 
------------------------------------------------------
flag 81845 term 44 leader 1 nextIndex[2]: 301  matchIndex[2]: 300
term 44 leader 1 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 42 leaderCommit: 299 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:299 
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=301
update matchIndex[2]=300
update leader CommitIndex=299
leader log:
[{snapshot 42 299} {1485673187139141519 42 300}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=301
update matchIndex[0]=300
update leader CommitIndex=299
leader log:
[{snapshot 42 299} {1485673187139141519 42 300}]
------------------------------------------------------
flag 72993 term 44 leader 1 nextIndex[0]: 301  matchIndex[0]: 300
term 44 leader 1 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 42 leaderCommit: 299 
------------------------------------------------------
flag 9395 term 44 leader 1 nextIndex[2]: 301  matchIndex[2]: 300
term 44 leader 1 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 42 leaderCommit: 299 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=301
update matchIndex[2]=300
update leader CommitIndex=299
leader log:
term 44 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
[{snapshot 42 299} {1485673187139141519 42 300}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=301
update matchIndex[0]=300
update leader CommitIndex=299
leader log:
[{snapshot 42 299} {1485673187139141519 42 300}]
------------------------------------------------------
term 44 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78007 term 44 leader 1 nextIndex[0]: 301  matchIndex[0]: 300
term 44 leader 1 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 42 leaderCommit: 299 
------------------------------------------------------
flag 23766 term 44 leader 1 nextIndex[2]: 301  matchIndex[2]: 300
term 44 leader 1 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 42 leaderCommit: 299 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=301
update matchIndex[0]=300
update leader CommitIndex=299
leader log:
[{snapshot 42 299} {1485673187139141519 42 300}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=301
update matchIndex[2]=300
update leader CommitIndex=299
leader log:
[{snapshot 42 299} {1485673187139141519 42 300}]
------------------------------------------------------
flag 46263 term 44 leader 1 nextIndex[0]: 301  matchIndex[0]: 300
term 44 leader 1 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 42 leaderCommit: 299 
------------------------------------------------------
flag 1156 term 44 leader 1 nextIndex[2]: 301  matchIndex[2]: 300
term 44 leader 1 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 42 leaderCommit: 299 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=301
update matchIndex[0]=300
update leader CommitIndex=299
leader log:
[{snapshot 42 299} {1485673187139141519 42 300}]
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=301
update matchIndex[2]=300
update leader CommitIndex=299
leader log:
[{snapshot 42 299} {1485673187139141519 42 300}]
------------------------------------------------------
flag 41457 term 44 leader 1 nextIndex[0]: 301  matchIndex[0]: 300
term 44 leader 1 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 42 leaderCommit: 299 
------------------------------------------------------
flag 19528 term 44 leader 1 nextIndex[2]: 301  matchIndex[2]: 300
term 44 leader 1 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 42 leaderCommit: 299 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=301
update matchIndex[2]=300
update leader CommitIndex=299
leader log:
[{snapshot 42 299} {1485673187139141519 42 300}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=301
update matchIndex[0]=300
update leader CommitIndex=299
leader log:
[{snapshot 42 299} {1485673187139141519 42 300}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7214 term 44 leader 1 nextIndex[0]: 301  matchIndex[0]: 300
term 44 leader 1 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 42 leaderCommit: 299 
------------------------------------------------------
flag 28263 term 44 leader 1 nextIndex[2]: 301  matchIndex[2]: 300
term 44 leader 1 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 42 leaderCommit: 299 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=301
update matchIndex[2]=300
update leader CommitIndex=299
leader log:
[{snapshot 42 299} {1485673187139141519 42 300}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=301
update matchIndex[0]=300
update leader CommitIndex=299
leader log:
[{snapshot 42 299} {1485673187139141519 42 300}]
------------------------------------------------------
term 44 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 80147 term 44 leader 1 nextIndex[0]: 301  matchIndex[0]: 300
term 44 leader 1 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 42 leaderCommit: 299 
------------------------------------------------------
flag 73742 term 44 leader 1 nextIndex[2]: 301  matchIndex[2]: 300
term 44 leader 1 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 42 leaderCommit: 299 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=301
update matchIndex[2]=300
update leader CommitIndex=299
leader log:
[{snapshot 42 299} {1485673187139141519 42 300}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=301
update matchIndex[0]=300
update leader CommitIndex=299
leader log:
[{snapshot 42 299} {1485673187139141519 42 300}]
------------------------------------------------------
flag 97665 term 44 leader 1 nextIndex[0]: 301  matchIndex[0]: 300
term 44 leader 1 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 42 leaderCommit: 299 
------------------------------------------------------
flag 21707 term 44 leader 1 nextIndex[2]: 301  matchIndex[2]: 300
term 44 leader 1 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 42 leaderCommit: 299 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=301
update matchIndex[2]=300
update leader CommitIndex=299
leader log:
[{snapshot 42 299} {1485673187139141519 42 300}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=301
update matchIndex[0]=300
update leader CommitIndex=299
leader log:
[{snapshot 42 299} {1485673187139141519 42 300}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62719 term 44 leader 1 nextIndex[0]: 301  matchIndex[0]: 300
term 44 leader 1 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 42 leaderCommit: 299 
------------------------------------------------------
flag 13213 term 44 leader 1 nextIndex[2]: 301  matchIndex[2]: 300
term 44 leader 1 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 42 leaderCommit: 299 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=301
update matchIndex[2]=300
update leader CommitIndex=299
leader log:
[{snapshot 42 299} {1485673187139141519 42 300}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=301
update matchIndex[0]=300
update leader CommitIndex=299
leader log:
[{snapshot 42 299} {1485673187139141519 42 300}]
------------------------------------------------------
flag 42398 term 44 leader 1 nextIndex[0]: 301  matchIndex[0]: 300
term 44 leader 1 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 42 leaderCommit: 299 
------------------------------------------------------
flag 33654 term 44 leader 1 nextIndex[2]: 301  matchIndex[2]: 300
term 44 leader 1 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 42 leaderCommit: 299 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=301
update matchIndex[2]=300
update leader CommitIndex=299
leader log:
[{snapshot 42 299} {1485673187139141519 42 300}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=301
update matchIndex[0]=300
update leader CommitIndex=299
leader log:
[{snapshot 42 299} {1485673187139141519 42 300}]
------------------------------------------------------
flag 42531 term 44 leader 1 nextIndex[0]: 301  matchIndex[0]: 300
term 44 leader 1 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 42 leaderCommit: 299 
------------------------------------------------------
flag 2771 term 44 leader 1 nextIndex[2]: 301  matchIndex[2]: 300
term 44 leader 1 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 42 leaderCommit: 299 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=301
update matchIndex[2]=300
update leader CommitIndex=299
leader log:
[{snapshot 42 299} {1485673187139141519 42 300}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=301
update matchIndex[0]=300
update leader CommitIndex=299
leader log:
[{snapshot 42 299} {1485673187139141519 42 300}]
------------------------------------------------------
flag 70157 term 44 leader 1 nextIndex[0]: 301  matchIndex[0]: 300
term 44 leader 1 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 42 leaderCommit: 299 
------------------------------------------------------
flag 54415 term 44 leader 1 nextIndex[2]: 301  matchIndex[2]: 300
term 44 leader 1 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 42 leaderCommit: 299 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=301
update matchIndex[0]=300
update leader CommitIndex=299
leader log:
[{snapshot 42 299} {1485673187139141519 42 300}]
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=301
update matchIndex[2]=300
update leader CommitIndex=299
leader log:
[{snapshot 42 299} {1485673187139141519 42 300}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43703 term 44 leader 1 nextIndex[0]: 301  matchIndex[0]: 300
term 44 leader 1 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 42 leaderCommit: 299 
------------------------------------------------------
flag 53198 term 44 leader 1 nextIndex[2]: 301  matchIndex[2]: 300
term 44 leader 1 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 42 leaderCommit: 299 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=301
update matchIndex[2]=300
update leader CommitIndex=299
leader log:
[{snapshot 42 299} {1485673187139141519 42 300}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=301
update matchIndex[0]=300
update leader CommitIndex=299
leader log:
[{snapshot 42 299} {1485673187139141519 42 300}]
------------------------------------------------------
flag 32732 term 44 leader 1 nextIndex[0]: 301  matchIndex[0]: 300
term 44 leader 1 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 42 leaderCommit: 299 
------------------------------------------------------
flag 72785 term 44 leader 1 nextIndex[2]: 301  matchIndex[2]: 300
term 44 leader 1 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 42 leaderCommit: 299 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=301
update matchIndex[0]=300
update leader CommitIndex=299
leader log:
[{snapshot 42 299} {1485673187139141519 42 300}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=301
update matchIndex[2]=300
update leader CommitIndex=299
leader log:
[{snapshot 42 299} {1485673187139141519 42 300}]
------------------------------------------------------
flag 89283 term 44 leader 1 nextIndex[0]: 301  matchIndex[0]: 300
term 44 leader 1 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 42 leaderCommit: 299 
------------------------------------------------------
flag 11028 term 44 leader 1 nextIndex[2]: 301  matchIndex[2]: 300
term 44 leader 1 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 42 leaderCommit: 299 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=301
update matchIndex[2]=300
update leader CommitIndex=299
leader log:
term 44 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
[{snapshot 42 299} {1485673187139141519 42 300}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=301
update matchIndex[0]=300
update leader CommitIndex=299
leader log:
[{snapshot 42 299} {1485673187139141519 42 300}]
------------------------------------------------------
flag 45411 term 44 leader 1 nextIndex[0]: 301  matchIndex[0]: 300
term 44 leader 1 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 42 leaderCommit: 299 
------------------------------------------------------
flag 45521 term 44 leader 1 nextIndex[2]: 301  matchIndex[2]: 300
term 44 leader 1 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 42 leaderCommit: 299 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=301
update matchIndex[2]=300
update leader CommitIndex=299
leader log:
[{snapshot 42 299} {1485673187139141519 42 300}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=301
update matchIndex[0]=300
update leader CommitIndex=299
leader log:
[{snapshot 42 299} {1485673187139141519 42 300}]
------------------------------------------------------
flag 47989 term 44 leader 1 nextIndex[0]: 301  matchIndex[0]: 300
term 44 leader 1 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 42 leaderCommit: 299 
------------------------------------------------------
flag 80816 term 44 leader 1 nextIndex[2]: 301  matchIndex[2]: 300
term 44 leader 1 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 42 leaderCommit: 299 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=301
update matchIndex[2]=300
update leader CommitIndex=299
leader log:
[{snapshot 42 299} {1485673187139141519 42 300}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=301
update matchIndex[0]=300
update leader CommitIndex=299
leader log:
[{snapshot 42 299} {1485673187139141519 42 300}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 1485673187139141519 (index 301) to leader 1
term 44 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 42174 term 44 leader 1 nextIndex[0]: 301  matchIndex[0]: 300
term 44 leader 1 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 42 leaderCommit: 299 
------------------------------------------------------
flag 56618 term 44 leader 1 nextIndex[2]: 301  matchIndex[2]: 300
term 44 leader 1 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 42 leaderCommit: 299 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=301
leader log:
[{snapshot 42 299} {1485673187139141519 42 300} {1485673187139141519 44 301}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=301
leader log:
[{snapshot 42 299} {1485673187139141519 42 300} {1485673187139141519 44 301}]
------------------------------------------------------
flag 61176 term 44 leader 1 nextIndex[0]: 302  matchIndex[0]: 301
term 44 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 44 leaderCommit: 301 
------------------------------------------------------
flag 23001 term 44 leader 1 nextIndex[2]: 302  matchIndex[2]: 301
term 44 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 44 leaderCommit: 301 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=301
leader log:
[{snapshot 42 299} {1485673187139141519 42 300} {1485673187139141519 44 301}]
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=301
leader log:
[{snapshot 42 299} {1485673187139141519 42 300} {1485673187139141519 44 301}]
------------------------------------------------------
term 44 server 2 not vote for server 1, 任期不够新
term 44 server 1 get outdate rpc reply from server 2
flag 27619 term 44 leader 1 nextIndex[0]: 302  matchIndex[0]: 301
term 44 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 44 leaderCommit: 301 
------------------------------------------------------
flag 23249 term 44 leader 1 nextIndex[2]: 302  matchIndex[2]: 301
term 44 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 44 leaderCommit: 301 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=301
leader log:
[{snapshot 42 299} {1485673187139141519 42 300} {1485673187139141519 44 301}]
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=301
leader log:
[{snapshot 42 299} {1485673187139141519 42 300} {1485673187139141519 44 301}]
------------------------------------------------------
flag 96043 term 44 leader 1 nextIndex[0]: 302  matchIndex[0]: 301
term 44 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 44 leaderCommit: 301 
------------------------------------------------------
flag 53814 term 44 leader 1 nextIndex[2]: 302  matchIndex[2]: 301
term 44 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 44 leaderCommit: 301 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=301
leader log:
[{snapshot 42 299} {1485673187139141519 42 300} {1485673187139141519 44 301}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=301
leader log:
[{snapshot 42 299} {1485673187139141519 42 300} {1485673187139141519 44 301}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 44 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 44 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 39378 term 44 leader 1 nextIndex[0]: 302  matchIndex[0]: 301
term 44 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 44 leaderCommit: 301 
------------------------------------------------------
flag 59189 term 44 leader 1 nextIndex[2]: 302  matchIndex[2]: 301
term 44 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 44 leaderCommit: 301 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=301
leader log:
[{snapshot 42 299} {1485673187139141519 42 300} {1485673187139141519 44 301}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=301
leader log:
[{snapshot 42 299} {1485673187139141519 42 300} {1485673187139141519 44 301}]
------------------------------------------------------
flag 17856 term 44 leader 1 nextIndex[0]: 302  matchIndex[0]: 301
term 44 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 44 leaderCommit: 301 
------------------------------------------------------
flag 2792 term 44 leader 1 nextIndex[2]: 302  matchIndex[2]: 301
term 44 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 44 leaderCommit: 301 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=302
update matchIndex[2]=301
update leader CommitIndex=301
leader log:
[{snapshot 42 299} {1485673187139141519 42 300} {1485673187139141519 44 301}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=301
leader log:
[{snapshot 42 299} {1485673187139141519 42 300} {1485673187139141519 44 301}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 3997740145081030857 (index 302) to leader 1
flag 70986 term 44 leader 1 nextIndex[0]: 302  matchIndex[0]: 301
term 44 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 44 leaderCommit: 301 
------------------------------------------------------
flag 18 term 44 leader 1 nextIndex[2]: 302  matchIndex[2]: 301
term 44 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 44 leaderCommit: 301 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=302
leader log:
[{snapshot 42 299} {1485673187139141519 42 300} {1485673187139141519 44 301} {3997740145081030857 44 302}]
------------------------------------------------------
flag 33587 term 44 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 44 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 44 leaderCommit: 302 
------------------------------------------------------
flag 71702 term 44 leader 1 nextIndex[2]: 302  matchIndex[2]: 301
term 44 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 44 leaderCommit: 302 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=302
leader log:
[{snapshot 42 299} {1485673187139141519 42 300} {1485673187139141519 44 301} {3997740145081030857 44 302}]
------------------------------------------------------
client write log 5048242133873130312 (index 303) to leader 1
client write log 5426176390825032013 (index 304) to leader 1
client write log 6581804074038263473 (index 305) to leader 1
client write log 874276645824393558 (index 306) to leader 1
client write log 6631806897168208490 (index 307) to leader 1
client write log 5318571448553800488 (index 308) to leader 1
client write log 8141145158749597195 (index 309) to leader 1
client write log 5020120587405539687 (index 310) to leader 1
client write log 7646215379701932847 (index 311) to leader 1
client write log 763841862196158013 (index 312) to leader 1
client write log 3401330175264129028 (index 313) to leader 1
client write log 1136701593778867885 (index 314) to leader 1
client write log 438972993152544945 (index 315) to leader 1
client write log 3502462567021844623 (index 316) to leader 1
flag 55472 term 44 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 44 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 44 leaderCommit: 302 
------------------------------------------------------
flag 29908 term 44 leader 1 nextIndex[2]: 302  matchIndex[2]: 301
term 44 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 44 leaderCommit: 302 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=316
leader log:
[{snapshot 42 299} {1485673187139141519 42 300} {1485673187139141519 44 301} {3997740145081030857 44 302} {5048242133873130312 44 303} {5426176390825032013 44 304} {6581804074038263473 44 305} {874276645824393558 44 306} {6631806897168208490 44 307} {5318571448553800488 44 308} {8141145158749597195 44 309} {5020120587405539687 44 310} {7646215379701932847 44 311} {763841862196158013 44 312} {3401330175264129028 44 313} {1136701593778867885 44 314} {438972993152544945 44 315} {3502462567021844623 44 316}]
------------------------------------------------------
term 44 Server1 start snapshot! index=309
term 44 server1 snapshot success
lastIncludedIndex=309 lastApplied=310 lastIndex=316
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 44 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47567 term 44 leader 1 nextIndex[0]: 317  matchIndex[0]: 316
term 44 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 44 leaderCommit: 316 
------------------------------------------------------
term 44 leader 1 nextIndex[2]: 302  matchIndex[2]: 301
term 44 leader 1 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 44
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=316
leader log:
[{snapshot 44 309} {5020120587405539687 44 310} {7646215379701932847 44 311} {763841862196158013 44 312} {3401330175264129028 44 313} {1136701593778867885 44 314} {438972993152544945 44 315} {3502462567021844623 44 316}]
------------------------------------------------------
term 44 Server0 start snapshot! index=309
term 44 server0 snapshot success
lastIncludedIndex=309 lastApplied=310 lastIndex=316
-------------------------------------------------------------
!!!!!!connect server 2
client write log 6603637446703568914 (index 317) to leader 1
term 44 server 1 not vote for server 2, 日志不够新
term 44 server 0 not vote for server 2, 日志不够新
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 46 server 2 vote for server 1
term 46 server 0 vote for server 1
term 46 server 1 get vote from server 2
term 46 server 1 become leader
------------------------------------------------------
term 46 server 1 get outdate rpc reply from server 0
flag 278 term 46 leader 1 nextIndex[0]: 318  matchIndex[0]: 0
term 46 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 44 leaderCommit: 316 
------------------------------------------------------
flag 38846 term 46 leader 1 nextIndex[2]: 318  matchIndex[2]: 0
term 46 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 44 leaderCommit: 316 
------------------------------------------------------
term 46 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 318->317
------------------------------------------------------
term 46 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 318->317
------------------------------------------------------
flag 1893 term 46 leader 1 nextIndex[0]: 317  matchIndex[0]: 0
term 46 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 44 leaderCommit: 316 
------------------------------------------------------
term 46 leader 1 nextIndex[2]: 302  matchIndex[2]: 0
term 46 leader 1 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 44
------------------------------------------------------
term 46 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 309 rf.lastIncludedTerm 44 rf.commitIndex 309 rf.lastApplied 309
term 46 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
term 46 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 310 matchIndex[2] 309 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=316
leader log:
[{snapshot 44 309} {5020120587405539687 44 310} {7646215379701932847 44 311} {763841862196158013 44 312} {3401330175264129028 44 313} {1136701593778867885 44 314} {438972993152544945 44 315} {3502462567021844623 44 316} {6603637446703568914 44 317}]
------------------------------------------------------
term 46 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 76872 term 46 leader 1 nextIndex[0]: 318  matchIndex[0]: 317
term 46 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 44 leaderCommit: 316 
------------------------------------------------------
flag 95163 term 46 leader 1 nextIndex[2]: 310  matchIndex[2]: 309
term 46 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 44 leaderCommit: 316 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=316
leader log:
[{snapshot 44 309} {5020120587405539687 44 310} {7646215379701932847 44 311} {763841862196158013 44 312} {3401330175264129028 44 313} {1136701593778867885 44 314} {438972993152544945 44 315} {3502462567021844623 44 316} {6603637446703568914 44 317}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=316
leader log:
[{snapshot 44 309} {5020120587405539687 44 310} {7646215379701932847 44 311} {763841862196158013 44 312} {3401330175264129028 44 313} {1136701593778867885 44 314} {438972993152544945 44 315} {3502462567021844623 44 316} {6603637446703568914 44 317}]
------------------------------------------------------
flag 84181 term 46 leader 1 nextIndex[0]: 318  matchIndex[0]: 317
term 46 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 44 leaderCommit: 316 
------------------------------------------------------
flag 90822 term 46 leader 1 nextIndex[2]: 318  matchIndex[2]: 317
term 46 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 44 leaderCommit: 316 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=316
leader log:
[{snapshot 44 309} {5020120587405539687 44 310} {7646215379701932847 44 311} {763841862196158013 44 312} {3401330175264129028 44 313} {1136701593778867885 44 314} {438972993152544945 44 315} {3502462567021844623 44 316} {6603637446703568914 44 317}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=316
leader log:
[{snapshot 44 309} {5020120587405539687 44 310} {7646215379701932847 44 311} {763841862196158013 44 312} {3401330175264129028 44 313} {1136701593778867885 44 314} {438972993152544945 44 315} {3502462567021844623 44 316} {6603637446703568914 44 317}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1990 term 46 leader 1 nextIndex[0]: 318  matchIndex[0]: 317
term 46 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 44 leaderCommit: 316 
------------------------------------------------------
flag 5789 term 46 leader 1 nextIndex[2]: 318  matchIndex[2]: 317
term 46 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 44 leaderCommit: 316 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=316
leader log:
[{snapshot 44 309} {5020120587405539687 44 310} {7646215379701932847 44 311} {763841862196158013 44 312} {3401330175264129028 44 313} {1136701593778867885 44 314} {438972993152544945 44 315} {3502462567021844623 44 316} {6603637446703568914 44 317}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=316
leader log:
[{snapshot 44 309} {5020120587405539687 44 310} {7646215379701932847 44 311} {763841862196158013 44 312} {3401330175264129028 44 313} {1136701593778867885 44 314} {438972993152544945 44 315} {3502462567021844623 44 316} {6603637446703568914 44 317}]
------------------------------------------------------
term 46 server 0 not vote for server 1, 任期不够新
term 46 server 1 get outdate rpc reply from server 0
flag 38844 term 46 leader 1 nextIndex[0]: 318  matchIndex[0]: 317
term 46 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 44 leaderCommit: 316 
------------------------------------------------------
flag 96996 term 46 leader 1 nextIndex[2]: 318  matchIndex[2]: 317
term 46 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 44 leaderCommit: 316 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=316
leader log:
[{snapshot 44 309} {5020120587405539687 44 310} {7646215379701932847 44 311} {763841862196158013 44 312} {3401330175264129028 44 313} {1136701593778867885 44 314} {438972993152544945 44 315} {3502462567021844623 44 316} {6603637446703568914 44 317}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=316
leader log:
[{snapshot 44 309} {5020120587405539687 44 310} {7646215379701932847 44 311} {763841862196158013 44 312} {3401330175264129028 44 313} {1136701593778867885 44 314} {438972993152544945 44 315} {3502462567021844623 44 316} {6603637446703568914 44 317}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49880 term 46 leader 1 nextIndex[0]: 318  matchIndex[0]: 317
term 46 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 44 leaderCommit: 316 
------------------------------------------------------
flag 94516 term 46 leader 1 nextIndex[2]: 318  matchIndex[2]: 317
term 46 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 44 leaderCommit: 316 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=316
leader log:
[{snapshot 44 309} {5020120587405539687 44 310} {7646215379701932847 44 311} {763841862196158013 44 312} {3401330175264129028 44 313} {1136701593778867885 44 314} {438972993152544945 44 315} {3502462567021844623 44 316} {6603637446703568914 44 317}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=316
leader log:
[{snapshot 44 309} {5020120587405539687 44 310} {7646215379701932847 44 311} {763841862196158013 44 312} {3401330175264129028 44 313} {1136701593778867885 44 314} {438972993152544945 44 315} {3502462567021844623 44 316} {6603637446703568914 44 317}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38437 term 46 leader 1 nextIndex[0]: 318  matchIndex[0]: 317
term 46 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 44 leaderCommit: 316 
------------------------------------------------------
flag 33816 term 46 leader 1 nextIndex[2]: 318  matchIndex[2]: 317
term 46 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 44 leaderCommit: 316 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=316
leader log:
[{snapshot 44 309} {5020120587405539687 44 310} {7646215379701932847 44 311} {763841862196158013 44 312} {3401330175264129028 44 313} {1136701593778867885 44 314} {438972993152544945 44 315} {3502462567021844623 44 316} {6603637446703568914 44 317}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=316
leader log:
[{snapshot 44 309} {5020120587405539687 44 310} {7646215379701932847 44 311} {763841862196158013 44 312} {3401330175264129028 44 313} {1136701593778867885 44 314} {438972993152544945 44 315} {3502462567021844623 44 316} {6603637446703568914 44 317}]
------------------------------------------------------
flag 52482 term 46 leader 1 nextIndex[0]: 318  matchIndex[0]: 317
term 46 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 44 leaderCommit: 316 
------------------------------------------------------
flag 92640 term 46 leader 1 nextIndex[2]: 318  matchIndex[2]: 317
term 46 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 44 leaderCommit: 316 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=316
leader log:
[{snapshot 44 309} {5020120587405539687 44 310} {7646215379701932847 44 311} {763841862196158013 44 312} {3401330175264129028 44 313} {1136701593778867885 44 314} {438972993152544945 44 315} {3502462567021844623 44 316} {6603637446703568914 44 317}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=316
leader log:
[{snapshot 44 309} {5020120587405539687 44 310} {7646215379701932847 44 311} {763841862196158013 44 312} {3401330175264129028 44 313} {1136701593778867885 44 314} {438972993152544945 44 315} {3502462567021844623 44 316} {6603637446703568914 44 317}]
------------------------------------------------------
flag 59891 term 46 leader 1 nextIndex[0]: 318  matchIndex[0]: 317
term 46 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 44 leaderCommit: 316 
------------------------------------------------------
flag 5797 term 46 leader 1 nextIndex[2]: 318  matchIndex[2]: 317
term 46 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 44 leaderCommit: 316 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=316
leader log:
[{snapshot 44 309} {5020120587405539687 44 310} {7646215379701932847 44 311} {763841862196158013 44 312} {3401330175264129028 44 313} {1136701593778867885 44 314} {438972993152544945 44 315} {3502462567021844623 44 316} {6603637446703568914 44 317}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=316
leader log:
[{snapshot 44 309} {5020120587405539687 44 310} {7646215379701932847 44 311} {763841862196158013 44 312} {3401330175264129028 44 313} {1136701593778867885 44 314} {438972993152544945 44 315} {3502462567021844623 44 316} {6603637446703568914 44 317}]
------------------------------------------------------
flag 9480 term 46 leader 1 nextIndex[0]: 318  matchIndex[0]: 317
term 46 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 44 leaderCommit: 316 
------------------------------------------------------
flag 84062 term 46 leader 1 nextIndex[2]: 318  matchIndex[2]: 317
term 46 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 44 leaderCommit: 316 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=316
leader log:
[{snapshot 44 309} {5020120587405539687 44 310} {7646215379701932847 44 311} {763841862196158013 44 312} {3401330175264129028 44 313} {1136701593778867885 44 314} {438972993152544945 44 315} {3502462567021844623 44 316} {6603637446703568914 44 317}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=316
leader log:
[{snapshot 44 309} {5020120587405539687 44 310} {7646215379701932847 44 311} {763841862196158013 44 312} {3401330175264129028 44 313} {1136701593778867885 44 314} {438972993152544945 44 315} {3502462567021844623 44 316} {6603637446703568914 44 317}]
------------------------------------------------------
flag 64469 term 46 leader 1 nextIndex[0]: 318  matchIndex[0]: 317
term 46 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 44 leaderCommit: 316 
------------------------------------------------------
flag 33404 term 46 leader 1 nextIndex[2]: 318  matchIndex[2]: 317
term 46 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 44 leaderCommit: 316 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=316
leader log:
[{snapshot 44 309} {5020120587405539687 44 310} {7646215379701932847 44 311} {763841862196158013 44 312} {3401330175264129028 44 313} {1136701593778867885 44 314} {438972993152544945 44 315} {3502462567021844623 44 316} {6603637446703568914 44 317}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=316
leader log:
[{snapshot 44 309} {5020120587405539687 44 310} {7646215379701932847 44 311} {763841862196158013 44 312} {3401330175264129028 44 313} {1136701593778867885 44 314} {438972993152544945 44 315} {3502462567021844623 44 316} {6603637446703568914 44 317}]
------------------------------------------------------
flag 74810 term 46 leader 1 nextIndex[0]: 318  matchIndex[0]: 317
term 46 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 44 leaderCommit: 316 
------------------------------------------------------
flag 16510 term 46 leader 1 nextIndex[2]: 318  matchIndex[2]: 317
term 46 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 44 leaderCommit: 316 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=316
leader log:
[{snapshot 44 309} {5020120587405539687 44 310} {7646215379701932847 44 311} {763841862196158013 44 312} {3401330175264129028 44 313} {1136701593778867885 44 314} {438972993152544945 44 315} {3502462567021844623 44 316} {6603637446703568914 44 317}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=316
leader log:
[{snapshot 44 309} {5020120587405539687 44 310} {7646215379701932847 44 311} {763841862196158013 44 312} {3401330175264129028 44 313} {1136701593778867885 44 314} {438972993152544945 44 315} {3502462567021844623 44 316} {6603637446703568914 44 317}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1302 term 46 leader 1 nextIndex[0]: 318  matchIndex[0]: 317
term 46 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 44 leaderCommit: 316 
------------------------------------------------------
flag 81504 term 46 leader 1 nextIndex[2]: 318  matchIndex[2]: 317
term 46 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 44 leaderCommit: 316 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=316
leader log:
term 46 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
[{snapshot 44 309} {5020120587405539687 44 310} {7646215379701932847 44 311} {763841862196158013 44 312} {3401330175264129028 44 313} {1136701593778867885 44 314} {438972993152544945 44 315} {3502462567021844623 44 316} {6603637446703568914 44 317}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=316
leader log:
[{snapshot 44 309} {5020120587405539687 44 310} {7646215379701932847 44 311} {763841862196158013 44 312} {3401330175264129028 44 313} {1136701593778867885 44 314} {438972993152544945 44 315} {3502462567021844623 44 316} {6603637446703568914 44 317}]
------------------------------------------------------
flag 42196 term 46 leader 1 nextIndex[0]: 318  matchIndex[0]: 317
term 46 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 44 leaderCommit: 316 
------------------------------------------------------
flag 95216 term 46 leader 1 nextIndex[2]: 318  matchIndex[2]: 317
term 46 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 44 leaderCommit: 316 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=316
leader log:
[{snapshot 44 309} {5020120587405539687 44 310} {7646215379701932847 44 311} {763841862196158013 44 312} {3401330175264129028 44 313} {1136701593778867885 44 314} {438972993152544945 44 315} {3502462567021844623 44 316} {6603637446703568914 44 317}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=316
leader log:
[{snapshot 44 309} {5020120587405539687 44 310} {7646215379701932847 44 311} {763841862196158013 44 312} {3401330175264129028 44 313} {1136701593778867885 44 314} {438972993152544945 44 315} {3502462567021844623 44 316} {6603637446703568914 44 317}]
------------------------------------------------------
flag 5915 term 46 leader 1 nextIndex[0]: 318  matchIndex[0]: 317
term 46 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 44 leaderCommit: 316 
------------------------------------------------------
flag 71431 term 46 leader 1 nextIndex[2]: 318  matchIndex[2]: 317
term 46 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 44 leaderCommit: 316 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=316
leader log:
[{snapshot 44 309} {5020120587405539687 44 310} {7646215379701932847 44 311} {763841862196158013 44 312} {3401330175264129028 44 313} {1136701593778867885 44 314} {438972993152544945 44 315} {3502462567021844623 44 316} {6603637446703568914 44 317}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=316
leader log:
[{snapshot 44 309} {5020120587405539687 44 310} {7646215379701932847 44 311} {763841862196158013 44 312} {3401330175264129028 44 313} {1136701593778867885 44 314} {438972993152544945 44 315} {3502462567021844623 44 316} {6603637446703568914 44 317}]
------------------------------------------------------
flag 92517 term 46 leader 1 nextIndex[0]: 318  matchIndex[0]: 317
term 46 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 44 leaderCommit: 316 
------------------------------------------------------
flag 9725 term 46 leader 1 nextIndex[2]: 318  matchIndex[2]: 317
term 46 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 44 leaderCommit: 316 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=316
leader log:
[{snapshot 44 309} {5020120587405539687 44 310} {7646215379701932847 44 311} {763841862196158013 44 312} {3401330175264129028 44 313} {1136701593778867885 44 314} {438972993152544945 44 315} {3502462567021844623 44 316} {6603637446703568914 44 317}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=316
leader log:
[{snapshot 44 309} {5020120587405539687 44 310} {7646215379701932847 44 311} {763841862196158013 44 312} {3401330175264129028 44 313} {1136701593778867885 44 314} {438972993152544945 44 315} {3502462567021844623 44 316} {6603637446703568914 44 317}]
------------------------------------------------------
flag 99233 term 46 leader 1 nextIndex[0]: 318  matchIndex[0]: 317
term 46 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 44 leaderCommit: 316 
------------------------------------------------------
flag 35172 term 46 leader 1 nextIndex[2]: 318  matchIndex[2]: 317
term 46 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 44 leaderCommit: 316 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:316 
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=316
leader log:
[{snapshot 44 309} {5020120587405539687 44 310} {7646215379701932847 44 311} {763841862196158013 44 312} {3401330175264129028 44 313} {1136701593778867885 44 314} {438972993152544945 44 315} {3502462567021844623 44 316} {6603637446703568914 44 317}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=316
leader log:
[{snapshot 44 309} {5020120587405539687 44 310} {7646215379701932847 44 311} {763841862196158013 44 312} {3401330175264129028 44 313} {1136701593778867885 44 314} {438972993152544945 44 315} {3502462567021844623 44 316} {6603637446703568914 44 317}]
------------------------------------------------------
term 46 server 2 not vote for server 1, 任期不够新
term 46 server 1 get outdate rpc reply from server 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23675 term 46 leader 1 nextIndex[0]: 318  matchIndex[0]: 317
term 46 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 44 leaderCommit: 316 
------------------------------------------------------
flag 72320 term 46 leader 1 nextIndex[2]: 318  matchIndex[2]: 317
term 46 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 44 leaderCommit: 316 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=316
leader log:
[{snapshot 44 309} {5020120587405539687 44 310} {7646215379701932847 44 311} {763841862196158013 44 312} {3401330175264129028 44 313} {1136701593778867885 44 314} {438972993152544945 44 315} {3502462567021844623 44 316} {6603637446703568914 44 317}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=316
leader log:
[{snapshot 44 309} {5020120587405539687 44 310} {7646215379701932847 44 311} {763841862196158013 44 312} {3401330175264129028 44 313} {1136701593778867885 44 314} {438972993152544945 44 315} {3502462567021844623 44 316} {6603637446703568914 44 317}]
------------------------------------------------------
client write log 6603637446703568914 (index 318) to leader 1
flag 18074 term 46 leader 1 nextIndex[0]: 318  matchIndex[0]: 317
term 46 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 44 leaderCommit: 316 
------------------------------------------------------
flag 18442 term 46 leader 1 nextIndex[2]: 318  matchIndex[2]: 317
term 46 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 44 leaderCommit: 316 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=319
update matchIndex[0]=318
update leader CommitIndex=318
leader log:
[{snapshot 44 309} {5020120587405539687 44 310} {7646215379701932847 44 311} {763841862196158013 44 312} {3401330175264129028 44 313} {1136701593778867885 44 314} {438972993152544945 44 315} {3502462567021844623 44 316} {6603637446703568914 44 317} {6603637446703568914 46 318}]
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=318
leader log:
[{snapshot 44 309} {5020120587405539687 44 310} {7646215379701932847 44 311} {763841862196158013 44 312} {3401330175264129028 44 313} {1136701593778867885 44 314} {438972993152544945 44 315} {3502462567021844623 44 316} {6603637446703568914 44 317} {6603637446703568914 46 318}]
------------------------------------------------------
flag 92504 term 46 leader 1 nextIndex[0]: 319  matchIndex[0]: 318
term 46 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 46 leaderCommit: 318 
------------------------------------------------------
flag 22471 term 46 leader 1 nextIndex[2]: 319  matchIndex[2]: 318
term 46 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 46 leaderCommit: 318 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=318
leader log:
[{snapshot 44 309} {5020120587405539687 44 310} {7646215379701932847 44 311} {763841862196158013 44 312} {3401330175264129028 44 313} {1136701593778867885 44 314} {438972993152544945 44 315} {3502462567021844623 44 316} {6603637446703568914 44 317} {6603637446703568914 46 318}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=319
update matchIndex[0]=318
update leader CommitIndex=318
leader log:
[{snapshot 44 309} {5020120587405539687 44 310} {7646215379701932847 44 311} {763841862196158013 44 312} {3401330175264129028 44 313} {1136701593778867885 44 314} {438972993152544945 44 315} {3502462567021844623 44 316} {6603637446703568914 44 317} {6603637446703568914 46 318}]
------------------------------------------------------
flag 48373 term 46 leader 1 nextIndex[0]: 319  matchIndex[0]: 318
term 46 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 46 leaderCommit: 318 
------------------------------------------------------
flag 65953 term 46 leader 1 nextIndex[2]: 319  matchIndex[2]: 318
term 46 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 46 leaderCommit: 318 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=318
leader log:
[{snapshot 44 309} {5020120587405539687 44 310} {7646215379701932847 44 311} {763841862196158013 44 312} {3401330175264129028 44 313} {1136701593778867885 44 314} {438972993152544945 44 315} {3502462567021844623 44 316} {6603637446703568914 44 317} {6603637446703568914 46 318}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=319
update matchIndex[0]=318
update leader CommitIndex=318
leader log:
[{snapshot 44 309} {5020120587405539687 44 310} {7646215379701932847 44 311} {763841862196158013 44 312} {3401330175264129028 44 313} {1136701593778867885 44 314} {438972993152544945 44 315} {3502462567021844623 44 316} {6603637446703568914 44 317} {6603637446703568914 46 318}]
------------------------------------------------------
flag 99643 term 46 leader 1 nextIndex[0]: 319  matchIndex[0]: 318
term 46 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 46 leaderCommit: 318 
------------------------------------------------------
flag 75181 term 46 leader 1 nextIndex[2]: 319  matchIndex[2]: 318
term 46 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 46 leaderCommit: 318 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:318 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=318
leader log:
[{snapshot 44 309} {5020120587405539687 44 310} {7646215379701932847 44 311} {763841862196158013 44 312} {3401330175264129028 44 313} {1136701593778867885 44 314} {438972993152544945 44 315} {3502462567021844623 44 316} {6603637446703568914 44 317} {6603637446703568914 46 318}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=319
update matchIndex[0]=318
update leader CommitIndex=318
leader log:
[{snapshot 44 309} {5020120587405539687 44 310} {7646215379701932847 44 311} {763841862196158013 44 312} {3401330175264129028 44 313} {1136701593778867885 44 314} {438972993152544945 44 315} {3502462567021844623 44 316} {6603637446703568914 44 317} {6603637446703568914 46 318}]
------------------------------------------------------
flag 92252 term 46 leader 1 nextIndex[0]: 319  matchIndex[0]: 318
term 46 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 46 leaderCommit: 318 
------------------------------------------------------
flag 17663 term 46 leader 1 nextIndex[2]: 319  matchIndex[2]: 318
term 46 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 46 leaderCommit: 318 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:318 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=318
leader log:
[{snapshot 44 309} {5020120587405539687 44 310} {7646215379701932847 44 311} {763841862196158013 44 312} {3401330175264129028 44 313} {1136701593778867885 44 314} {438972993152544945 44 315} {3502462567021844623 44 316} {6603637446703568914 44 317} {6603637446703568914 46 318}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=319
update matchIndex[0]=318
update leader CommitIndex=318
leader log:
[{snapshot 44 309} {5020120587405539687 44 310} {7646215379701932847 44 311} {763841862196158013 44 312} {3401330175264129028 44 313} {1136701593778867885 44 314} {438972993152544945 44 315} {3502462567021844623 44 316} {6603637446703568914 44 317} {6603637446703568914 46 318}]
------------------------------------------------------
term 46 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15673 term 46 leader 1 nextIndex[0]: 319  matchIndex[0]: 318
term 46 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 46 leaderCommit: 318 
------------------------------------------------------
flag 1008 term 46 leader 1 nextIndex[2]: 319  matchIndex[2]: 318
term 46 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 46 leaderCommit: 318 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:318 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=318
leader log:
[{snapshot 44 309} {5020120587405539687 44 310} {7646215379701932847 44 311} {763841862196158013 44 312} {3401330175264129028 44 313} {1136701593778867885 44 314} {438972993152544945 44 315} {3502462567021844623 44 316} {6603637446703568914 44 317} {6603637446703568914 46 318}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=319
update matchIndex[0]=318
update leader CommitIndex=318
leader log:
[{snapshot 44 309} {5020120587405539687 44 310} {7646215379701932847 44 311} {763841862196158013 44 312} {3401330175264129028 44 313} {1136701593778867885 44 314} {438972993152544945 44 315} {3502462567021844623 44 316} {6603637446703568914 44 317} {6603637446703568914 46 318}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 88298 term 46 leader 1 nextIndex[0]: 319  matchIndex[0]: 318
term 46 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 46 leaderCommit: 318 
------------------------------------------------------
flag 59918 term 46 leader 1 nextIndex[2]: 319  matchIndex[2]: 318
term 46 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 46 leaderCommit: 318 
------------------------------------------------------
flag 27476 term 46 leader 1 nextIndex[0]: 319  matchIndex[0]: 318
term 46 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 46 leaderCommit: 318 
------------------------------------------------------
flag 50365 term 46 leader 1 nextIndex[2]: 319  matchIndex[2]: 318
term 46 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 46 leaderCommit: 318 
------------------------------------------------------
flag 56272 term 46 leader 1 nextIndex[0]: 319  matchIndex[0]: 318
term 46 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 46 leaderCommit: 318 
------------------------------------------------------
flag 68812 term 46 leader 1 nextIndex[2]: 319  matchIndex[2]: 318
term 46 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 46 leaderCommit: 318 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 319->318
------------------------------------------------------
term 46 leader 1 nextIndex[0]: 0  matchIndex[0]: 318
term 46 leader 1 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 44
------------------------------------------------------
flag 75432 term 46 leader 1 nextIndex[2]: 319  matchIndex[2]: 318
term 46 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 46 leaderCommit: 318 
------------------------------------------------------
term 47 server 0 vote for server 2
term 47 server 2 get vote from server 0
term 47 server 2 become leader
------------------------------------------------------
flag 42817 term 47 leader 2 nextIndex[0]: 319  matchIndex[0]: 0
term 47 leader 2 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 46 leaderCommit: 318 
------------------------------------------------------
flag 74141 term 47 leader 2 nextIndex[1]: 319  matchIndex[1]: 0
term 47 leader 2 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 46 leaderCommit: 318 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=319
update matchIndex[0]=318
update leader CommitIndex=318
leader log:
[{snapshot 44 309} {5020120587405539687 44 310} {7646215379701932847 44 311} {763841862196158013 44 312} {3401330175264129028 44 313} {1136701593778867885 44 314} {438972993152544945 44 315} {3502462567021844623 44 316} {6603637446703568914 44 317} {6603637446703568914 46 318}]
------------------------------------------------------
client write log 1415089778251802634 (index 319) to leader 2
term 46 leader 1 nextIndex[0]: 0  matchIndex[0]: 318
term 46 leader 1 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 44
------------------------------------------------------
flag 17886 term 46 leader 1 nextIndex[2]: 319  matchIndex[2]: 318
term 46 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 46 leaderCommit: 318 
------------------------------------------------------
flag 87274 term 47 leader 2 nextIndex[0]: 319  matchIndex[0]: 318
term 47 leader 2 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 46 leaderCommit: 318 
------------------------------------------------------
flag 43671 term 47 leader 2 nextIndex[1]: 319  matchIndex[1]: 0
term 47 leader 2 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 46 leaderCommit: 318 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=320
update matchIndex[0]=319
update leader CommitIndex=319
leader log:
[{snapshot 44 309} {5020120587405539687 44 310} {7646215379701932847 44 311} {763841862196158013 44 312} {3401330175264129028 44 313} {1136701593778867885 44 314} {438972993152544945 44 315} {3502462567021844623 44 316} {6603637446703568914 44 317} {6603637446703568914 46 318} {1415089778251802634 47 319}]
------------------------------------------------------
term 47 Server2 start snapshot! index=319
term 47 server2 snapshot success
lastIncludedIndex=319 lastApplied=319 lastIndex=319
-------------------------------------------------------------
term 46 leader 1 nextIndex[0]: 0  matchIndex[0]: 318
term 46 leader 1 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 44
------------------------------------------------------
flag 86875 term 46 leader 1 nextIndex[2]: 319  matchIndex[2]: 318
term 46 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 46 leaderCommit: 318 
------------------------------------------------------
flag 36241 term 47 leader 2 nextIndex[0]: 320  matchIndex[0]: 319
term 47 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 47 leaderCommit: 319 
------------------------------------------------------
term 47 leader 2 nextIndex[1]: 319  matchIndex[1]: 0
term 47 leader 2 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 47
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=320
update matchIndex[0]=319
update leader CommitIndex=319
leader log:
[{snapshot 47 319}]
------------------------------------------------------
term 47 Server0 start snapshot! index=319
term 47 server0 snapshot success
lastIncludedIndex=319 lastApplied=319 lastIndex=319
-------------------------------------------------------------
client write log 5689034690182687245 (index 320) to leader 2
client write log 8326697061567815044 (index 321) to leader 2
client write log 4832973432341846527 (index 322) to leader 2
client write log 2383322888289365631 (index 323) to leader 2
client write log 4675307841105528256 (index 324) to leader 2
client write log 6860727603236406102 (index 325) to leader 2
client write log 348367369437196146 (index 326) to leader 2
client write log 1610189293908238178 (index 327) to leader 2
client write log 3639557031897449070 (index 328) to leader 2
client write log 749741956281926580 (index 329) to leader 2
client write log 5037920719683717121 (index 330) to leader 2
client write log 753649938137968242 (index 331) to leader 2
term 46 leader 1 nextIndex[0]: 0  matchIndex[0]: 318
term 46 leader 1 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 44
------------------------------------------------------
flag 79205 term 46 leader 1 nextIndex[2]: 319  matchIndex[2]: 318
term 46 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 46 leaderCommit: 318 
------------------------------------------------------
flag 38740 term 47 leader 2 nextIndex[0]: 320  matchIndex[0]: 319
term 47 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 47 leaderCommit: 319 
------------------------------------------------------
term 47 leader 2 nextIndex[1]: 319  matchIndex[1]: 0
term 47 leader 2 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 47
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=331
leader log:
[{snapshot 47 319} {5689034690182687245 47 320} {8326697061567815044 47 321} {4832973432341846527 47 322} {2383322888289365631 47 323} {4675307841105528256 47 324} {6860727603236406102 47 325} {348367369437196146 47 326} {1610189293908238178 47 327} {3639557031897449070 47 328} {749741956281926580 47 329} {5037920719683717121 47 330} {753649938137968242 47 331}]
------------------------------------------------------
term 47 Server2 start snapshot! index=329
term 47 server2 snapshot success
lastIncludedIndex=329 lastApplied=330 lastIndex=331
-------------------------------------------------------------
term 46 leader 1 nextIndex[0]: 0  matchIndex[0]: 318
term 46 leader 1 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 44
------------------------------------------------------
flag 72001 term 46 leader 1 nextIndex[2]: 319  matchIndex[2]: 318
term 46 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 46 leaderCommit: 318 
------------------------------------------------------
flag 76552 term 47 leader 2 nextIndex[0]: 332  matchIndex[0]: 331
term 47 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 47 leaderCommit: 331 
------------------------------------------------------
term 47 leader 2 nextIndex[1]: 319  matchIndex[1]: 0
term 47 leader 2 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 47
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=331
leader log:
[{snapshot 47 329} {5037920719683717121 47 330} {753649938137968242 47 331}]
------------------------------------------------------
term 47 Server0 start snapshot! index=329
term 47 server0 snapshot success
lastIncludedIndex=329 lastApplied=330 lastIndex=331
-------------------------------------------------------------
!!!!!!connect server 1
client write log 2158023827753538127 (index 319) to leader 1
term 46 leader 1 nextIndex[0]: 0  matchIndex[0]: 318
term 46 leader 1 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 44
------------------------------------------------------
flag 59368 term 46 leader 1 nextIndex[2]: 319  matchIndex[2]: 318
term 46 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 46 leaderCommit: 318 
------------------------------------------------------
term 47 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 47 server 2 AppendEntries false 领导者任期过期 args.Term 46
------------------------------------------------------
term 46 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77603 term 47 leader 2 nextIndex[0]: 332  matchIndex[0]: 331
term 47 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 47 leaderCommit: 331 
------------------------------------------------------
term 47 leader 2 nextIndex[1]: 319  matchIndex[1]: 0
term 47 leader 2 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 47
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
term 47 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=331
leader log:
rf.lastIncludedIndex 329 rf.lastIncludedTerm 47 rf.commitIndex 329 rf.lastApplied 329
[{snapshot 47 329} {5037920719683717121 47 330} {753649938137968242 47 331}]
------------------------------------------------------
term 47 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 330 matchIndex[1] 329 
------------------------------------------------------------------------
term 47 server 2 not vote for server 1, 日志不够新
term 47 server 0 not vote for server 1, 日志不够新
term 49 server 1 vote for server 2
term 49 server 2 get vote from server 1
term 49 server 2 become leader
------------------------------------------------------
term 49 server 0 vote for server 2
term 49 server 2 get outdate rpc reply from server 0
flag 86300 term 49 leader 2 nextIndex[0]: 332  matchIndex[0]: 0
term 49 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 47 leaderCommit: 331 
------------------------------------------------------
flag 60184 term 49 leader 2 nextIndex[1]: 332  matchIndex[1]: 0
term 49 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 47 leaderCommit: 331 
------------------------------------------------------
term 49 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 332->331
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=331
leader log:
[{snapshot 47 329} {5037920719683717121 47 330} {753649938137968242 47 331}]
------------------------------------------------------
flag 11187 term 49 leader 2 nextIndex[0]: 332  matchIndex[0]: 331
term 49 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 47 leaderCommit: 331 
------------------------------------------------------
flag 42147 term 49 leader 2 nextIndex[1]: 330  matchIndex[1]: 0
term 49 leader 2 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 47 leaderCommit: 331 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 47 329} {5037920719683717121 47 330} {753649938137968242 47 331}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=331
leader log:
[{snapshot 47 329} {5037920719683717121 47 330} {753649938137968242 47 331}]
------------------------------------------------------
flag 28916 term 49 leader 2 nextIndex[0]: 332  matchIndex[0]: 331
term 49 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 47 leaderCommit: 331 
------------------------------------------------------
flag 11372 term 49 leader 2 nextIndex[1]: 332  matchIndex[1]: 331
term 49 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 47 leaderCommit: 331 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 47 329} {5037920719683717121 47 330} {753649938137968242 47 331}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=331
leader log:
[{snapshot 47 329} {5037920719683717121 47 330} {753649938137968242 47 331}]
------------------------------------------------------
term 49 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 37901 term 49 leader 2 nextIndex[0]: 332  matchIndex[0]: 331
term 49 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 47 leaderCommit: 331 
------------------------------------------------------
flag 56678 term 49 leader 2 nextIndex[1]: 332  matchIndex[1]: 331
term 49 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 47 leaderCommit: 331 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 47 329} {5037920719683717121 47 330} {753649938137968242 47 331}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=331
leader log:
[{snapshot 47 329} {5037920719683717121 47 330} {753649938137968242 47 331}]
------------------------------------------------------
flag 35371 term 49 leader 2 nextIndex[0]: 332  matchIndex[0]: 331
term 49 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 47 leaderCommit: 331 
------------------------------------------------------
flag 39416 term 49 leader 2 nextIndex[1]: 332  matchIndex[1]: 331
term 49 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 47 leaderCommit: 331 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 47 329} {5037920719683717121 47 330} {753649938137968242 47 331}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=331
leader log:
[{snapshot 47 329} {5037920719683717121 47 330} {753649938137968242 47 331}]
------------------------------------------------------
flag 32193 term 49 leader 2 nextIndex[0]: 332  matchIndex[0]: 331
term 49 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 47 leaderCommit: 331 
------------------------------------------------------
flag 94189 term 49 leader 2 nextIndex[1]: 332  matchIndex[1]: 331
term 49 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 47 leaderCommit: 331 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 47 329} {5037920719683717121 47 330} {753649938137968242 47 331}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=331
leader log:
[{snapshot 47 329} {5037920719683717121 47 330} {753649938137968242 47 331}]
------------------------------------------------------
flag 24254 term 49 leader 2 nextIndex[0]: 332  matchIndex[0]: 331
term 49 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 47 leaderCommit: 331 
------------------------------------------------------
flag 24241 term 49 leader 2 nextIndex[1]: 332  matchIndex[1]: 331
term 49 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 47 leaderCommit: 331 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=331
leader log:
[{snapshot 47 329} {5037920719683717121 47 330} {753649938137968242 47 331}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 47 329} {5037920719683717121 47 330} {753649938137968242 47 331}]
------------------------------------------------------
flag 66057 term 49 leader 2 nextIndex[0]: 332  matchIndex[0]: 331
term 49 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 47 leaderCommit: 331 
------------------------------------------------------
flag 68754 term 49 leader 2 nextIndex[1]: 332  matchIndex[1]: 331
term 49 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 47 leaderCommit: 331 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 47 329} {5037920719683717121 47 330} {753649938137968242 47 331}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=331
leader log:
[{snapshot 47 329} {5037920719683717121 47 330} {753649938137968242 47 331}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60418 term 49 leader 2 nextIndex[0]: 332  matchIndex[0]: 331
term 49 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 47 leaderCommit: 331 
------------------------------------------------------
flag 20868 term 49 leader 2 nextIndex[1]: 332  matchIndex[1]: 331
term 49 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 47 leaderCommit: 331 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 47 329} {5037920719683717121 47 330} {753649938137968242 47 331}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=331
leader log:
[{snapshot 47 329} {5037920719683717121 47 330} {753649938137968242 47 331}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78164 term 49 leader 2 nextIndex[0]: 332  matchIndex[0]: 331
term 49 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 47 leaderCommit: 331 
------------------------------------------------------
flag 77286 term 49 leader 2 nextIndex[1]: 332  matchIndex[1]: 331
term 49 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 47 leaderCommit: 331 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 47 329} {5037920719683717121 47 330} {753649938137968242 47 331}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=331
leader log:
[{snapshot 47 329} {5037920719683717121 47 330} {753649938137968242 47 331}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73950 term 49 leader 2 nextIndex[0]: 332  matchIndex[0]: 331
term 49 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 47 leaderCommit: 331 
------------------------------------------------------
flag 71475 term 49 leader 2 nextIndex[1]: 332  matchIndex[1]: 331
term 49 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 47 leaderCommit: 331 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 47 329} {5037920719683717121 47 330} {753649938137968242 47 331}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=331
leader log:
[{snapshot 47 329} {5037920719683717121 47 330} {753649938137968242 47 331}]
------------------------------------------------------
flag 56063 term 49 leader 2 nextIndex[0]: 332  matchIndex[0]: 331
term 49 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 47 leaderCommit: 331 
------------------------------------------------------
flag 70669 term 49 leader 2 nextIndex[1]: 332  matchIndex[1]: 331
term 49 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 47 leaderCommit: 331 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:331 
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 47 329} {5037920719683717121 47 330} {753649938137968242 47 331}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=331
leader log:
[{snapshot 47 329} {5037920719683717121 47 330} {753649938137968242 47 331}]
------------------------------------------------------
flag 39739 term 49 leader 2 nextIndex[0]: 332  matchIndex[0]: 331
term 49 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 47 leaderCommit: 331 
------------------------------------------------------
flag 71951 term 49 leader 2 nextIndex[1]: 332  matchIndex[1]: 331
term 49 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 47 leaderCommit: 331 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 47 329} {5037920719683717121 47 330} {753649938137968242 47 331}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=331
leader log:
[{snapshot 47 329} {5037920719683717121 47 330} {753649938137968242 47 331}]
------------------------------------------------------
flag 84873 term 49 leader 2 nextIndex[0]: 332  matchIndex[0]: 331
term 49 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 47 leaderCommit: 331 
------------------------------------------------------
flag 78443 term 49 leader 2 nextIndex[1]: 332  matchIndex[1]: 331
term 49 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 47 leaderCommit: 331 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 47 329} {5037920719683717121 47 330} {753649938137968242 47 331}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=331
leader log:
[{snapshot 47 329} {5037920719683717121 47 330} {753649938137968242 47 331}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 49 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 73436 term 49 leader 2 nextIndex[0]: 332  matchIndex[0]: 331
term 49 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 47 leaderCommit: 331 
------------------------------------------------------
flag 86962 term 49 leader 2 nextIndex[1]: 332  matchIndex[1]: 331
term 49 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 47 leaderCommit: 331 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 47 329} {5037920719683717121 47 330} {753649938137968242 47 331}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=331
leader log:
[{snapshot 47 329} {5037920719683717121 47 330} {753649938137968242 47 331}]
------------------------------------------------------
flag 45855 term 49 leader 2 nextIndex[0]: 332  matchIndex[0]: 331
term 49 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 47 leaderCommit: 331 
------------------------------------------------------
flag 15371 term 49 leader 2 nextIndex[1]: 332  matchIndex[1]: 331
term 49 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 47 leaderCommit: 331 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 47 329} {5037920719683717121 47 330} {753649938137968242 47 331}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=331
leader log:
[{snapshot 47 329} {5037920719683717121 47 330} {753649938137968242 47 331}]
------------------------------------------------------
flag 44193 term 49 leader 2 nextIndex[0]: 332  matchIndex[0]: 331
term 49 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 47 leaderCommit: 331 
------------------------------------------------------
flag 73794 term 49 leader 2 nextIndex[1]: 332  matchIndex[1]: 331
term 49 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 47 leaderCommit: 331 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 47 329} {5037920719683717121 47 330} {753649938137968242 47 331}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=331
leader log:
[{snapshot 47 329} {5037920719683717121 47 330} {753649938137968242 47 331}]
------------------------------------------------------
flag 68389 term 49 leader 2 nextIndex[0]: 332  matchIndex[0]: 331
term 49 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 47 leaderCommit: 331 
------------------------------------------------------
flag 81903 term 49 leader 2 nextIndex[1]: 332  matchIndex[1]: 331
term 49 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 47 leaderCommit: 331 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
term 49 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
[{snapshot 47 329} {5037920719683717121 47 330} {753649938137968242 47 331}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=331
leader log:
[{snapshot 47 329} {5037920719683717121 47 330} {753649938137968242 47 331}]
------------------------------------------------------
client write log 2158023827753538127 (index 332) to leader 2
flag 3470 term 49 leader 2 nextIndex[0]: 332  matchIndex[0]: 331
term 49 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 47 leaderCommit: 331 
------------------------------------------------------
flag 62934 term 49 leader 2 nextIndex[1]: 332  matchIndex[1]: 331
term 49 leader 2 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 47 leaderCommit: 331 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=332
leader log:
[{snapshot 47 329} {5037920719683717121 47 330} {753649938137968242 47 331} {2158023827753538127 49 332}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=332
leader log:
[{snapshot 47 329} {5037920719683717121 47 330} {753649938137968242 47 331} {2158023827753538127 49 332}]
------------------------------------------------------
term 49 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 49985 term 49 leader 2 nextIndex[0]: 333  matchIndex[0]: 332
term 49 leader 2 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 49 leaderCommit: 332 
------------------------------------------------------
flag 94988 term 49 leader 2 nextIndex[1]: 333  matchIndex[1]: 332
term 49 leader 2 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 49 leaderCommit: 332 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=332
leader log:
[{snapshot 47 329} {5037920719683717121 47 330} {753649938137968242 47 331} {2158023827753538127 49 332}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=332
leader log:
[{snapshot 47 329} {5037920719683717121 47 330} {753649938137968242 47 331} {2158023827753538127 49 332}]
------------------------------------------------------
flag 36025 term 49 leader 2 nextIndex[0]: 333  matchIndex[0]: 332
term 49 leader 2 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 49 leaderCommit: 332 
------------------------------------------------------
flag 49907 term 49 leader 2 nextIndex[1]: 333  matchIndex[1]: 332
term 49 leader 2 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 49 leaderCommit: 332 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=332
leader log:
[{snapshot 47 329} {5037920719683717121 47 330} {753649938137968242 47 331} {2158023827753538127 49 332}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=332
leader log:
[{snapshot 47 329} {5037920719683717121 47 330} {753649938137968242 47 331} {2158023827753538127 49 332}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6254 term 49 leader 2 nextIndex[0]: 333  matchIndex[0]: 332
term 49 leader 2 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 49 leaderCommit: 332 
------------------------------------------------------
flag 23276 term 49 leader 2 nextIndex[1]: 333  matchIndex[1]: 332
term 49 leader 2 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 49 leaderCommit: 332 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=332
leader log:
[{snapshot 47 329} {5037920719683717121 47 330} {753649938137968242 47 331} {2158023827753538127 49 332}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=332
leader log:
[{snapshot 47 329} {5037920719683717121 47 330} {753649938137968242 47 331} {2158023827753538127 49 332}]
------------------------------------------------------
flag 82010 term 49 leader 2 nextIndex[0]: 333  matchIndex[0]: 332
term 49 leader 2 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 49 leaderCommit: 332 
------------------------------------------------------
flag 13976 term 49 leader 2 nextIndex[1]: 333  matchIndex[1]: 332
term 49 leader 2 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 49 leaderCommit: 332 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=332
leader log:
[{snapshot 47 329} {5037920719683717121 47 330} {753649938137968242 47 331} {2158023827753538127 49 332}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=332
leader log:
[{snapshot 47 329} {5037920719683717121 47 330} {753649938137968242 47 331} {2158023827753538127 49 332}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60883 term 49 leader 2 nextIndex[0]: 333  matchIndex[0]: 332
term 49 leader 2 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 49 leaderCommit: 332 
------------------------------------------------------
flag 12012 term 49 leader 2 nextIndex[1]: 333  matchIndex[1]: 332
term 49 leader 2 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 49 leaderCommit: 332 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=332
leader log:
[{snapshot 47 329} {5037920719683717121 47 330} {753649938137968242 47 331} {2158023827753538127 49 332}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=332
leader log:
[{snapshot 47 329} {5037920719683717121 47 330} {753649938137968242 47 331} {2158023827753538127 49 332}]
------------------------------------------------------
flag 96923 term 49 leader 2 nextIndex[0]: 333  matchIndex[0]: 332
term 49 leader 2 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 49 leaderCommit: 332 
------------------------------------------------------
flag 63161 term 49 leader 2 nextIndex[1]: 333  matchIndex[1]: 332
term 49 leader 2 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 49 leaderCommit: 332 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=332
leader log:
[{snapshot 47 329} {5037920719683717121 47 330} {753649938137968242 47 331} {2158023827753538127 49 332}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=332
leader log:
[{snapshot 47 329} {5037920719683717121 47 330} {753649938137968242 47 331} {2158023827753538127 49 332}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 3734570104920825012 (index 333) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28193 term 49 leader 2 nextIndex[0]: 333  matchIndex[0]: 332
term 49 leader 2 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 49 leaderCommit: 332 
------------------------------------------------------
flag 51848 term 49 leader 2 nextIndex[1]: 333  matchIndex[1]: 332
term 49 leader 2 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 49 leaderCommit: 332 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=333
leader log:
[{snapshot 47 329} {5037920719683717121 47 330} {753649938137968242 47 331} {2158023827753538127 49 332} {3734570104920825012 49 333}]
------------------------------------------------------
term 49 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 51108 term 49 leader 2 nextIndex[0]: 333  matchIndex[0]: 332
term 49 leader 2 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 49 leaderCommit: 333 
------------------------------------------------------
flag 56248 term 49 leader 2 nextIndex[1]: 334  matchIndex[1]: 333
term 49 leader 2 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 49 leaderCommit: 333 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=333
leader log:
[{snapshot 47 329} {5037920719683717121 47 330} {753649938137968242 47 331} {2158023827753538127 49 332} {3734570104920825012 49 333}]
------------------------------------------------------
client write log 249063708221102084 (index 334) to leader 2
client write log 9012985165182925610 (index 335) to leader 2
client write log 6129644095326889682 (index 336) to leader 2
client write log 223559427755380149 (index 337) to leader 2
client write log 8487790165537846063 (index 338) to leader 2
client write log 8475165848658546875 (index 339) to leader 2
client write log 7505044608693949848 (index 340) to leader 2
client write log 8364013948853377892 (index 341) to leader 2
client write log 3014635402706081043 (index 342) to leader 2
client write log 4360647870674416936 (index 343) to leader 2
client write log 6800302495295256762 (index 344) to leader 2
client write log 1287004169090479095 (index 345) to leader 2
client write log 9138646407354414454 (index 346) to leader 2
client write log 1947148840967570111 (index 347) to leader 2
flag 99088 term 49 leader 2 nextIndex[0]: 333  matchIndex[0]: 332
term 49 leader 2 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 49 leaderCommit: 333 
------------------------------------------------------
flag 36778 term 49 leader 2 nextIndex[1]: 334  matchIndex[1]: 333
term 49 leader 2 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 49 leaderCommit: 333 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=348
update matchIndex[1]=347
update leader CommitIndex=347
leader log:
[{snapshot 47 329} {5037920719683717121 47 330} {753649938137968242 47 331} {2158023827753538127 49 332} {3734570104920825012 49 333} {249063708221102084 49 334} {9012985165182925610 49 335} {6129644095326889682 49 336} {223559427755380149 49 337} {8487790165537846063 49 338} {8475165848658546875 49 339} {7505044608693949848 49 340} {8364013948853377892 49 341} {3014635402706081043 49 342} {4360647870674416936 49 343} {6800302495295256762 49 344} {1287004169090479095 49 345} {9138646407354414454 49 346} {1947148840967570111 49 347}]
------------------------------------------------------
term 49 Server2 start snapshot! index=339
term 49 server2 snapshot success
lastIncludedIndex=339 lastApplied=340 lastIndex=347
-------------------------------------------------------------
term 49 leader 2 nextIndex[0]: 333  matchIndex[0]: 332
term 49 leader 2 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 49
------------------------------------------------------
flag 51629 term 49 leader 2 nextIndex[1]: 348  matchIndex[1]: 347
term 49 leader 2 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:347 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=348
update matchIndex[1]=347
update leader CommitIndex=347
leader log:
[{snapshot 49 339} {7505044608693949848 49 340} {8364013948853377892 49 341} {3014635402706081043 49 342} {4360647870674416936 49 343} {6800302495295256762 49 344} {1287004169090479095 49 345} {9138646407354414454 49 346} {1947148840967570111 49 347}]
------------------------------------------------------
term 49 Server1 start snapshot! index=339
term 49 server1 snapshot success
lastIncludedIndex=339 lastApplied=339 lastIndex=347
-------------------------------------------------------------
!!!!!!connect server 0
client write log 7836056016177969230 (index 348) to leader 2
term 49 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 49 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 49 leader 2 nextIndex[0]: 333  matchIndex[0]: 332
term 49 leader 2 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 49
------------------------------------------------------
flag 3347 term 49 leader 2 nextIndex[1]: 348  matchIndex[1]: 347
term 49 leader 2 sendAppendEntries PrevLogIndex: 347  PrevLogTerm: 49 leaderCommit: 347 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:347 
------------------------------------------------------
term 50 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=349
update matchIndex[1]=348
update leader CommitIndex=348
leader log:
[{snapshot 49 339} {7505044608693949848 49 340} {8364013948853377892 49 341} {3014635402706081043 49 342} {4360647870674416936 49 343} {6800302495295256762 49 344} {1287004169090479095 49 345} {9138646407354414454 49 346} {1947148840967570111 49 347} {7836056016177969230 49 348}]
------------------------------------------------------
term 49 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 51 server 1 vote for server 2
term 51 server 2 get vote from server 1
term 51 server 2 become leader
------------------------------------------------------
term 51 server 0 vote for server 2
term 51 server 2 get outdate rpc reply from server 0
flag 12631 term 51 leader 2 nextIndex[0]: 349  matchIndex[0]: 0
term 51 leader 2 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 49 leaderCommit: 348 
------------------------------------------------------
flag 13991 term 51 leader 2 nextIndex[1]: 349  matchIndex[1]: 0
term 51 leader 2 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 49 leaderCommit: 348 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=349
update matchIndex[1]=348
update leader CommitIndex=348
leader log:
[{snapshot 49 339} {7505044608693949848 49 340} {8364013948853377892 49 341} {3014635402706081043 49 342} {4360647870674416936 49 343} {6800302495295256762 49 344} {1287004169090479095 49 345} {9138646407354414454 49 346} {1947148840967570111 49 347} {7836056016177969230 49 348}]
------------------------------------------------------
term 51 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 349->348
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 51 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 51 leader 2 nextIndex[0]: 333  matchIndex[0]: 0
term 51 leader 2 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 49
------------------------------------------------------
flag 66831 term 51 leader 2 nextIndex[1]: 349  matchIndex[1]: 348
term 51 leader 2 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 49 leaderCommit: 348 
------------------------------------------------------
term 51 server 0 InstallSnapshot success
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:348 
------------------------------------------------------
term 51 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 340 matchIndex[0] 339 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 339 rf.lastIncludedTerm 49 rf.commitIndex 339 rf.lastApplied 339
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=349
update matchIndex[1]=348
update leader CommitIndex=348
leader log:
[{snapshot 49 339} {7505044608693949848 49 340} {8364013948853377892 49 341} {3014635402706081043 49 342} {4360647870674416936 49 343} {6800302495295256762 49 344} {1287004169090479095 49 345} {9138646407354414454 49 346} {1947148840967570111 49 347} {7836056016177969230 49 348}]
------------------------------------------------------
flag 64427 term 51 leader 2 nextIndex[0]: 340  matchIndex[0]: 339
term 51 leader 2 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 49 leaderCommit: 348 
------------------------------------------------------
flag 39802 term 51 leader 2 nextIndex[1]: 349  matchIndex[1]: 348
term 51 leader 2 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 49 leaderCommit: 348 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=349
update matchIndex[1]=348
update leader CommitIndex=348
leader log:
term 51 server 0 AppendEntries true commitIndex:339 
------------------------------------------------------
[{snapshot 49 339} {7505044608693949848 49 340} {8364013948853377892 49 341} {3014635402706081043 49 342} {4360647870674416936 49 343} {6800302495295256762 49 344} {1287004169090479095 49 345} {9138646407354414454 49 346} {1947148840967570111 49 347} {7836056016177969230 49 348}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=349
update matchIndex[0]=348
update leader CommitIndex=348
leader log:
[{snapshot 49 339} {7505044608693949848 49 340} {8364013948853377892 49 341} {3014635402706081043 49 342} {4360647870674416936 49 343} {6800302495295256762 49 344} {1287004169090479095 49 345} {9138646407354414454 49 346} {1947148840967570111 49 347} {7836056016177969230 49 348}]
------------------------------------------------------
flag 41784 term 51 leader 2 nextIndex[0]: 349  matchIndex[0]: 348
term 51 leader 2 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 49 leaderCommit: 348 
------------------------------------------------------
flag 27942 term 51 leader 2 nextIndex[1]: 349  matchIndex[1]: 348
term 51 leader 2 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 49 leaderCommit: 348 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=349
update matchIndex[1]=348
update leader CommitIndex=348
leader log:
[{snapshot 49 339} {7505044608693949848 49 340} {8364013948853377892 49 341} {3014635402706081043 49 342} {4360647870674416936 49 343} {6800302495295256762 49 344} {1287004169090479095 49 345} {9138646407354414454 49 346} {1947148840967570111 49 347} {7836056016177969230 49 348}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=349
update matchIndex[0]=348
update leader CommitIndex=348
leader log:
[{snapshot 49 339} {7505044608693949848 49 340} {8364013948853377892 49 341} {3014635402706081043 49 342} {4360647870674416936 49 343} {6800302495295256762 49 344} {1287004169090479095 49 345} {9138646407354414454 49 346} {1947148840967570111 49 347} {7836056016177969230 49 348}]
------------------------------------------------------
flag 49729 term 51 leader 2 nextIndex[0]: 349  matchIndex[0]: 348
term 51 leader 2 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 49 leaderCommit: 348 
------------------------------------------------------
flag 36702 term 51 leader 2 nextIndex[1]: 349  matchIndex[1]: 348
term 51 leader 2 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 49 leaderCommit: 348 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=349
update matchIndex[1]=348
update leader CommitIndex=348
leader log:
[{snapshot 49 339} {7505044608693949848 49 340} {8364013948853377892 49 341} {3014635402706081043 49 342} {4360647870674416936 49 343} {6800302495295256762 49 344} {1287004169090479095 49 345} {9138646407354414454 49 346} {1947148840967570111 49 347} {7836056016177969230 49 348}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=349
update matchIndex[0]=348
update leader CommitIndex=348
leader log:
[{snapshot 49 339} {7505044608693949848 49 340} {8364013948853377892 49 341} {3014635402706081043 49 342} {4360647870674416936 49 343} {6800302495295256762 49 344} {1287004169090479095 49 345} {9138646407354414454 49 346} {1947148840967570111 49 347} {7836056016177969230 49 348}]
------------------------------------------------------
term 51 server 1 not vote for server 2, 任期不够新
term 51 server 2 get outdate rpc reply from server 1
flag 43241 term 51 leader 2 nextIndex[0]: 349  matchIndex[0]: 348
term 51 leader 2 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 49 leaderCommit: 348 
------------------------------------------------------
flag 75186 term 51 leader 2 nextIndex[1]: 349  matchIndex[1]: 348
term 51 leader 2 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 49 leaderCommit: 348 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:348 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=349
update matchIndex[1]=348
update leader CommitIndex=348
leader log:
[{snapshot 49 339} {7505044608693949848 49 340} {8364013948853377892 49 341} {3014635402706081043 49 342} {4360647870674416936 49 343} {6800302495295256762 49 344} {1287004169090479095 49 345} {9138646407354414454 49 346} {1947148840967570111 49 347} {7836056016177969230 49 348}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=349
update matchIndex[0]=348
update leader CommitIndex=348
leader log:
[{snapshot 49 339} {7505044608693949848 49 340} {8364013948853377892 49 341} {3014635402706081043 49 342} {4360647870674416936 49 343} {6800302495295256762 49 344} {1287004169090479095 49 345} {9138646407354414454 49 346} {1947148840967570111 49 347} {7836056016177969230 49 348}]
------------------------------------------------------
flag 75784 term 51 leader 2 nextIndex[0]: 349  matchIndex[0]: 348
term 51 leader 2 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 49 leaderCommit: 348 
------------------------------------------------------
flag 72440 term 51 leader 2 nextIndex[1]: 349  matchIndex[1]: 348
term 51 leader 2 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 49 leaderCommit: 348 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:348 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=349
update matchIndex[1]=348
update leader CommitIndex=348
leader log:
[{snapshot 49 339} {7505044608693949848 49 340} {8364013948853377892 49 341} {3014635402706081043 49 342} {4360647870674416936 49 343} {6800302495295256762 49 344} {1287004169090479095 49 345} {9138646407354414454 49 346} {1947148840967570111 49 347} {7836056016177969230 49 348}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=349
update matchIndex[0]=348
update leader CommitIndex=348
leader log:
[{snapshot 49 339} {7505044608693949848 49 340} {8364013948853377892 49 341} {3014635402706081043 49 342} {4360647870674416936 49 343} {6800302495295256762 49 344} {1287004169090479095 49 345} {9138646407354414454 49 346} {1947148840967570111 49 347} {7836056016177969230 49 348}]
------------------------------------------------------
flag 84493 term 51 leader 2 nextIndex[0]: 349  matchIndex[0]: 348
term 51 leader 2 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 49 leaderCommit: 348 
------------------------------------------------------
flag 672 term 51 leader 2 nextIndex[1]: 349  matchIndex[1]: 348
term 51 leader 2 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 49 leaderCommit: 348 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=349
update matchIndex[1]=348
update leader CommitIndex=348
leader log:
[{snapshot 49 339} {7505044608693949848 49 340} {8364013948853377892 49 341} {3014635402706081043 49 342} {4360647870674416936 49 343} {6800302495295256762 49 344} {1287004169090479095 49 345} {9138646407354414454 49 346} {1947148840967570111 49 347} {7836056016177969230 49 348}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=349
update matchIndex[0]=348
update leader CommitIndex=348
leader log:
[{snapshot 49 339} {7505044608693949848 49 340} {8364013948853377892 49 341} {3014635402706081043 49 342} {4360647870674416936 49 343} {6800302495295256762 49 344} {1287004169090479095 49 345} {9138646407354414454 49 346} {1947148840967570111 49 347} {7836056016177969230 49 348}]
------------------------------------------------------
term 51 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 2029 term 51 leader 2 nextIndex[0]: 349  matchIndex[0]: 348
term 51 leader 2 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 49 leaderCommit: 348 
------------------------------------------------------
flag 82627 term 51 leader 2 nextIndex[1]: 349  matchIndex[1]: 348
term 51 leader 2 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 49 leaderCommit: 348 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:348 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=349
update matchIndex[1]=348
update leader CommitIndex=348
leader log:
[{snapshot 49 339} {7505044608693949848 49 340} {8364013948853377892 49 341} {3014635402706081043 49 342} {4360647870674416936 49 343} {6800302495295256762 49 344} {1287004169090479095 49 345} {9138646407354414454 49 346} {1947148840967570111 49 347} {7836056016177969230 49 348}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=349
update matchIndex[0]=348
update leader CommitIndex=348
leader log:
[{snapshot 49 339} {7505044608693949848 49 340} {8364013948853377892 49 341} {3014635402706081043 49 342} {4360647870674416936 49 343} {6800302495295256762 49 344} {1287004169090479095 49 345} {9138646407354414454 49 346} {1947148840967570111 49 347} {7836056016177969230 49 348}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 5373743886941214787 (index 349) to leader 2
flag 55398 term 51 leader 2 nextIndex[0]: 349  matchIndex[0]: 348
term 51 leader 2 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 49 leaderCommit: 348 
------------------------------------------------------
flag 73088 term 51 leader 2 nextIndex[1]: 349  matchIndex[1]: 348
term 51 leader 2 sendAppendEntries PrevLogIndex: 348  PrevLogTerm: 49 leaderCommit: 348 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:348 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=350
update matchIndex[1]=349
update leader CommitIndex=349
leader log:
[{snapshot 49 339} {7505044608693949848 49 340} {8364013948853377892 49 341} {3014635402706081043 49 342} {4360647870674416936 49 343} {6800302495295256762 49 344} {1287004169090479095 49 345} {9138646407354414454 49 346} {1947148840967570111 49 347} {7836056016177969230 49 348} {5373743886941214787 51 349}]
------------------------------------------------------
term 51 Server2 start snapshot! index=349
term 51 server2 snapshot success
lastIncludedIndex=349 lastApplied=349 lastIndex=349
-------------------------------------------------------------
term 51 leader 2 nextIndex[0]: 349  matchIndex[0]: 348
term 51 leader 2 sendInstallSnapshot LastIncludedIndex: 349  LastIncludedTerm: 51
------------------------------------------------------
flag 60339 term 51 leader 2 nextIndex[1]: 350  matchIndex[1]: 349
term 51 leader 2 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 51 leaderCommit: 349 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=350
update matchIndex[1]=349
update leader CommitIndex=349
leader log:
[{snapshot 51 349}]
------------------------------------------------------
term 51 Server1 start snapshot! index=349
term 51 server1 snapshot success
lastIncludedIndex=349 lastApplied=349 lastIndex=349
-------------------------------------------------------------
client write log 5919273858187573980 (index 350) to leader 2
client write log 7879389546981973908 (index 351) to leader 2
client write log 3426806795169331600 (index 352) to leader 2
client write log 5577885324012944845 (index 353) to leader 2
client write log 2056324451847290304 (index 354) to leader 2
client write log 2406161629039621985 (index 355) to leader 2
client write log 1674488521325474717 (index 356) to leader 2
client write log 185054121615500372 (index 357) to leader 2
client write log 4391000099640271780 (index 358) to leader 2
client write log 2571407491023387682 (index 359) to leader 2
client write log 506345699402703223 (index 360) to leader 2
client write log 1577879433291758717 (index 361) to leader 2
client write log 3370742423788392434 (index 362) to leader 2
client write log 3129707069893204661 (index 363) to leader 2
client write log 4366652248076252812 (index 364) to leader 2
term 51 leader 2 nextIndex[0]: 349  matchIndex[0]: 348
term 51 leader 2 sendInstallSnapshot LastIncludedIndex: 349  LastIncludedTerm: 51
------------------------------------------------------
flag 48418 term 51 leader 2 nextIndex[1]: 350  matchIndex[1]: 349
term 51 leader 2 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 51 leaderCommit: 349 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=365
update matchIndex[1]=364
update leader CommitIndex=364
leader log:
[{snapshot 51 349} {5919273858187573980 51 350} {7879389546981973908 51 351} {3426806795169331600 51 352} {5577885324012944845 51 353} {2056324451847290304 51 354} {2406161629039621985 51 355} {1674488521325474717 51 356} {185054121615500372 51 357} {4391000099640271780 51 358} {2571407491023387682 51 359} {506345699402703223 51 360} {1577879433291758717 51 361} {3370742423788392434 51 362} {3129707069893204661 51 363} {4366652248076252812 51 364}]
------------------------------------------------------
term 51 Server2 start snapshot! index=359
term 51 server2 snapshot success
lastIncludedIndex=359 lastApplied=359 lastIndex=364
-------------------------------------------------------------
term 51 leader 2 nextIndex[0]: 349  matchIndex[0]: 348
term 51 leader 2 sendInstallSnapshot LastIncludedIndex: 359  LastIncludedTerm: 51
------------------------------------------------------
flag 44543 term 51 leader 2 nextIndex[1]: 365  matchIndex[1]: 364
term 51 leader 2 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 51 leaderCommit: 364 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:364 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=365
update matchIndex[1]=364
update leader CommitIndex=364
leader log:
[{snapshot 51 359} {506345699402703223 51 360} {1577879433291758717 51 361} {3370742423788392434 51 362} {3129707069893204661 51 363} {4366652248076252812 51 364}]
------------------------------------------------------
term 51 Server1 start snapshot! index=359
term 51 server1 snapshot success
lastIncludedIndex=359 lastApplied=359 lastIndex=364
-------------------------------------------------------------
!!!!!!connect server 0
client write log 603337066761529940 (index 365) to leader 2
term 51 leader 2 nextIndex[0]: 349  matchIndex[0]: 348
term 51 leader 2 sendInstallSnapshot LastIncludedIndex: 359  LastIncludedTerm: 51
------------------------------------------------------
flag 51583 term 51 leader 2 nextIndex[1]: 365  matchIndex[1]: 364
term 51 leader 2 sendAppendEntries PrevLogIndex: 364  PrevLogTerm: 51 leaderCommit: 364 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:364 
------------------------------------------------------
term 52 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=366
update matchIndex[1]=365
update leader CommitIndex=365
leader log:
[{snapshot 51 359} {506345699402703223 51 360} {1577879433291758717 51 361} {3370742423788392434 51 362} {3129707069893204661 51 363} {4366652248076252812 51 364} {603337066761529940 51 365}]
------------------------------------------------------
term 51 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 53 server 1 vote for server 2
term 53 server 2 get vote from server 1
term 53 server 2 become leader
------------------------------------------------------
term 53 server 0 vote for server 2
term 53 server 2 get outdate rpc reply from server 0
flag 45771 term 53 leader 2 nextIndex[0]: 366  matchIndex[0]: 0
term 53 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 51 leaderCommit: 365 
------------------------------------------------------
flag 39464 term 53 leader 2 nextIndex[1]: 366  matchIndex[1]: 0
term 53 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 51 leaderCommit: 365 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=366
update matchIndex[1]=365
update leader CommitIndex=365
leader log:
[{snapshot 51 359} {506345699402703223 51 360} {1577879433291758717 51 361} {3370742423788392434 51 362} {3129707069893204661 51 363} {4366652248076252812 51 364} {603337066761529940 51 365}]
------------------------------------------------------
term 53 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 366->365
------------------------------------------------------
term 53 leader 2 nextIndex[0]: 349  matchIndex[0]: 0
term 53 leader 2 sendInstallSnapshot LastIncludedIndex: 359  LastIncludedTerm: 51
------------------------------------------------------
flag 9745 term 53 leader 2 nextIndex[1]: 366  matchIndex[1]: 365
term 53 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 51 leaderCommit: 365 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=366
update matchIndex[1]=365
update leader CommitIndex=365
leader log:
[{snapshot 51 359} {506345699402703223 51 360} {1577879433291758717 51 361} {3370742423788392434 51 362} {3129707069893204661 51 363} {4366652248076252812 51 364} {603337066761529940 51 365}]
------------------------------------------------------
term 53 server 0 InstallSnapshot success
------------------------------------------------------
term 53 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 360 matchIndex[0] 359 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 359 rf.lastIncludedTerm 51 rf.commitIndex 359 rf.lastApplied 359
flag 70001 term 53 leader 2 nextIndex[0]: 360  matchIndex[0]: 359
term 53 leader 2 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 51 leaderCommit: 365 
------------------------------------------------------
flag 95048 term 53 leader 2 nextIndex[1]: 366  matchIndex[1]: 365
term 53 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 51 leaderCommit: 365 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=366
update matchIndex[1]=365
update leader CommitIndex=365
leader log:
[{snapshot 51 359} {506345699402703223 51 360} {1577879433291758717 51 361} {3370742423788392434 51 362} {3129707069893204661 51 363} {4366652248076252812 51 364} {603337066761529940 51 365}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:359 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=366
update matchIndex[0]=365
update leader CommitIndex=365
leader log:
[{snapshot 51 359} {506345699402703223 51 360} {1577879433291758717 51 361} {3370742423788392434 51 362} {3129707069893204661 51 363} {4366652248076252812 51 364} {603337066761529940 51 365}]
------------------------------------------------------
flag 49760 term 53 leader 2 nextIndex[0]: 366  matchIndex[0]: 365
term 53 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 51 leaderCommit: 365 
------------------------------------------------------
flag 41665 term 53 leader 2 nextIndex[1]: 366  matchIndex[1]: 365
term 53 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 51 leaderCommit: 365 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=366
update matchIndex[1]=365
update leader CommitIndex=365
leader log:
[{snapshot 51 359} {506345699402703223 51 360} {1577879433291758717 51 361} {3370742423788392434 51 362} {3129707069893204661 51 363} {4366652248076252812 51 364} {603337066761529940 51 365}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=366
update matchIndex[0]=365
update leader CommitIndex=365
leader log:
[{snapshot 51 359} {506345699402703223 51 360} {1577879433291758717 51 361} {3370742423788392434 51 362} {3129707069893204661 51 363} {4366652248076252812 51 364} {603337066761529940 51 365}]
------------------------------------------------------
flag 99167 term 53 leader 2 nextIndex[0]: 366  matchIndex[0]: 365
term 53 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 51 leaderCommit: 365 
------------------------------------------------------
flag 83548 term 53 leader 2 nextIndex[1]: 366  matchIndex[1]: 365
term 53 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 51 leaderCommit: 365 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=366
update matchIndex[1]=365
update leader CommitIndex=365
leader log:
[{snapshot 51 359} {506345699402703223 51 360} {1577879433291758717 51 361} {3370742423788392434 51 362} {3129707069893204661 51 363} {4366652248076252812 51 364} {603337066761529940 51 365}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=366
update matchIndex[0]=365
update leader CommitIndex=365
leader log:
[{snapshot 51 359} {506345699402703223 51 360} {1577879433291758717 51 361} {3370742423788392434 51 362} {3129707069893204661 51 363} {4366652248076252812 51 364} {603337066761529940 51 365}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5244 term 53 leader 2 nextIndex[0]: 366  matchIndex[0]: 365
term 53 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 51 leaderCommit: 365 
------------------------------------------------------
flag 7810 term 53 leader 2 nextIndex[1]: 366  matchIndex[1]: 365
term 53 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 51 leaderCommit: 365 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=366
update matchIndex[1]=365
update leader CommitIndex=365
leader log:
[{snapshot 51 359} {506345699402703223 51 360} {1577879433291758717 51 361} {3370742423788392434 51 362} {3129707069893204661 51 363} {4366652248076252812 51 364} {603337066761529940 51 365}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=366
update matchIndex[0]=365
update leader CommitIndex=365
leader log:
[{snapshot 51 359} {506345699402703223 51 360} {1577879433291758717 51 361} {3370742423788392434 51 362} {3129707069893204661 51 363} {4366652248076252812 51 364} {603337066761529940 51 365}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55034 term 53 leader 2 nextIndex[0]: 366  matchIndex[0]: 365
term 53 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 51 leaderCommit: 365 
------------------------------------------------------
flag 9166 term 53 leader 2 nextIndex[1]: 366  matchIndex[1]: 365
term 53 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 51 leaderCommit: 365 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:365 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=366
update matchIndex[1]=365
update leader CommitIndex=365
leader log:
[{snapshot 51 359} {506345699402703223 51 360} {1577879433291758717 51 361} {3370742423788392434 51 362} {3129707069893204661 51 363} {4366652248076252812 51 364} {603337066761529940 51 365}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=366
update matchIndex[0]=365
update leader CommitIndex=365
leader log:
[{snapshot 51 359} {506345699402703223 51 360} {1577879433291758717 51 361} {3370742423788392434 51 362} {3129707069893204661 51 363} {4366652248076252812 51 364} {603337066761529940 51 365}]
------------------------------------------------------
term 53 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 94649 term 53 leader 2 nextIndex[0]: 366  matchIndex[0]: 365
term 53 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 51 leaderCommit: 365 
------------------------------------------------------
flag 60316 term 53 leader 2 nextIndex[1]: 366  matchIndex[1]: 365
term 53 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 51 leaderCommit: 365 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=366
update matchIndex[1]=365
update leader CommitIndex=365
leader log:
[{snapshot 51 359} {506345699402703223 51 360} {1577879433291758717 51 361} {3370742423788392434 51 362} {3129707069893204661 51 363} {4366652248076252812 51 364} {603337066761529940 51 365}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=366
update matchIndex[0]=365
update leader CommitIndex=365
leader log:
[{snapshot 51 359} {506345699402703223 51 360} {1577879433291758717 51 361} {3370742423788392434 51 362} {3129707069893204661 51 363} {4366652248076252812 51 364} {603337066761529940 51 365}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 79633 term 53 leader 2 nextIndex[0]: 366  matchIndex[0]: 365
term 53 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 51 leaderCommit: 365 
------------------------------------------------------
flag 44838 term 53 leader 2 nextIndex[1]: 366  matchIndex[1]: 365
term 53 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 51 leaderCommit: 365 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 53 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 85736 term 53 leader 2 nextIndex[0]: 366  matchIndex[0]: 365
term 53 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 51 leaderCommit: 365 
------------------------------------------------------
flag 47718 term 53 leader 2 nextIndex[1]: 366  matchIndex[1]: 365
term 53 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 51 leaderCommit: 365 
------------------------------------------------------
flag 99133 term 53 leader 2 nextIndex[0]: 366  matchIndex[0]: 365
term 53 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 51 leaderCommit: 365 
------------------------------------------------------
flag 69637 term 53 leader 2 nextIndex[1]: 366  matchIndex[1]: 365
term 53 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 51 leaderCommit: 365 
------------------------------------------------------
term 54 server 1 vote for server 0
term 54 server 0 get vote from server 1
term 54 server 0 become leader
------------------------------------------------------
flag 21666 term 54 leader 0 nextIndex[1]: 366  matchIndex[1]: 0
term 54 leader 0 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 51 leaderCommit: 365 
------------------------------------------------------
flag 11342 term 54 leader 0 nextIndex[2]: 366  matchIndex[2]: 0
term 54 leader 0 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 51 leaderCommit: 365 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=366
update matchIndex[1]=365
update leader CommitIndex=365
leader log:
[{snapshot 51 359} {506345699402703223 51 360} {1577879433291758717 51 361} {3370742423788392434 51 362} {3129707069893204661 51 363} {4366652248076252812 51 364} {603337066761529940 51 365}]
------------------------------------------------------
client write log 2984204102131602305 (index 366) to leader 0
flag 16354 term 53 leader 2 nextIndex[0]: 366  matchIndex[0]: 365
term 53 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 51 leaderCommit: 365 
------------------------------------------------------
flag 54131 term 53 leader 2 nextIndex[1]: 366  matchIndex[1]: 365
term 53 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 51 leaderCommit: 365 
------------------------------------------------------
flag 934 term 54 leader 0 nextIndex[1]: 366  matchIndex[1]: 365
term 54 leader 0 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 51 leaderCommit: 365 
------------------------------------------------------
flag 69213 term 54 leader 0 nextIndex[2]: 366  matchIndex[2]: 0
term 54 leader 0 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 51 leaderCommit: 365 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:365 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=367
update matchIndex[1]=366
update leader CommitIndex=366
leader log:
[{snapshot 51 359} {506345699402703223 51 360} {1577879433291758717 51 361} {3370742423788392434 51 362} {3129707069893204661 51 363} {4366652248076252812 51 364} {603337066761529940 51 365} {2984204102131602305 54 366}]
------------------------------------------------------
flag 27878 term 53 leader 2 nextIndex[0]: 366  matchIndex[0]: 365
term 53 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 51 leaderCommit: 365 
------------------------------------------------------
flag 60222 term 53 leader 2 nextIndex[1]: 366  matchIndex[1]: 365
term 53 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 51 leaderCommit: 365 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55424 term 54 leader 0 nextIndex[1]: 367  matchIndex[1]: 366
term 54 leader 0 sendAppendEntries PrevLogIndex: 366  PrevLogTerm: 54 leaderCommit: 366 
------------------------------------------------------
flag 32803 term 54 leader 0 nextIndex[2]: 366  matchIndex[2]: 0
term 54 leader 0 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 51 leaderCommit: 366 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:366 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=367
update matchIndex[1]=366
update leader CommitIndex=366
leader log:
[{snapshot 51 359} {506345699402703223 51 360} {1577879433291758717 51 361} {3370742423788392434 51 362} {3129707069893204661 51 363} {4366652248076252812 51 364} {603337066761529940 51 365} {2984204102131602305 54 366}]
------------------------------------------------------
flag 49954 term 53 leader 2 nextIndex[0]: 366  matchIndex[0]: 365
term 53 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 51 leaderCommit: 365 
------------------------------------------------------
flag 66599 term 53 leader 2 nextIndex[1]: 366  matchIndex[1]: 365
term 53 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 51 leaderCommit: 365 
------------------------------------------------------
client write log 3739133364455642609 (index 367) to leader 0
client write log 437036929525939208 (index 368) to leader 0
client write log 7290702921828857185 (index 369) to leader 0
client write log 902939584973540617 (index 370) to leader 0
client write log 8064986162808653251 (index 371) to leader 0
client write log 3351324484409948643 (index 372) to leader 0
client write log 3353898950547324001 (index 373) to leader 0
client write log 7331647963367979242 (index 374) to leader 0
client write log 1490186181077879379 (index 375) to leader 0
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 366->365
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26551 term 54 leader 0 nextIndex[1]: 367  matchIndex[1]: 366
term 54 leader 0 sendAppendEntries PrevLogIndex: 366  PrevLogTerm: 54 leaderCommit: 366 
------------------------------------------------------
term 54 leader 0 nextIndex[2]: 0  matchIndex[2]: 0
term 54 leader 0 sendInstallSnapshot LastIncludedIndex: 359  LastIncludedTerm: 51
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:366 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=376
update matchIndex[1]=375
update leader CommitIndex=375
leader log:
[{snapshot 51 359} {506345699402703223 51 360} {1577879433291758717 51 361} {3370742423788392434 51 362} {3129707069893204661 51 363} {4366652248076252812 51 364} {603337066761529940 51 365} {2984204102131602305 54 366} {3739133364455642609 54 367} {437036929525939208 54 368} {7290702921828857185 54 369} {902939584973540617 54 370} {8064986162808653251 54 371} {3351324484409948643 54 372} {3353898950547324001 54 373} {7331647963367979242 54 374} {1490186181077879379 54 375}]
------------------------------------------------------
term 54 Server0 start snapshot! index=369
term 54 server0 snapshot success
lastIncludedIndex=369 lastApplied=370 lastIndex=375
-------------------------------------------------------------
flag 8802 term 53 leader 2 nextIndex[0]: 366  matchIndex[0]: 365
term 53 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 51 leaderCommit: 365 
------------------------------------------------------
flag 38773 term 53 leader 2 nextIndex[1]: 366  matchIndex[1]: 365
term 53 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 51 leaderCommit: 365 
------------------------------------------------------
flag 60416 term 54 leader 0 nextIndex[1]: 376  matchIndex[1]: 375
term 54 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 54 leaderCommit: 375 
------------------------------------------------------
term 54 leader 0 nextIndex[2]: 0  matchIndex[2]: 0
term 54 leader 0 sendInstallSnapshot LastIncludedIndex: 369  LastIncludedTerm: 54
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:375 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=376
update matchIndex[1]=375
update leader CommitIndex=375
leader log:
[{snapshot 54 369} {902939584973540617 54 370} {8064986162808653251 54 371} {3351324484409948643 54 372} {3353898950547324001 54 373} {7331647963367979242 54 374} {1490186181077879379 54 375}]
------------------------------------------------------
term 54 Server1 start snapshot! index=369
term 54 server1 snapshot success
lastIncludedIndex=369 lastApplied=370 lastIndex=375
-------------------------------------------------------------
!!!!!!connect server 2
client write log 4811143877250730305 (index 366) to leader 2
flag 77050 term 53 leader 2 nextIndex[0]: 366  matchIndex[0]: 365
term 53 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 51 leaderCommit: 365 
------------------------------------------------------
flag 81049 term 53 leader 2 nextIndex[1]: 366  matchIndex[1]: 365
term 53 leader 2 sendAppendEntries PrevLogIndex: 365  PrevLogTerm: 51 leaderCommit: 365 
------------------------------------------------------
term 54 server 1 AppendEntries false 领导者任期过期 args.Term 53
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 54 server 0 AppendEntries false 领导者任期过期 args.Term 53
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9908 term 54 leader 0 nextIndex[1]: 376  matchIndex[1]: 375
term 54 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 54 leaderCommit: 375 
------------------------------------------------------
term 54 leader 0 nextIndex[2]: 0  matchIndex[2]: 0
term 54 leader 0 sendInstallSnapshot LastIncludedIndex: 369  LastIncludedTerm: 54
------------------------------------------------------
term 54 server 2 InstallSnapshot success
------------------------------------------------------
term 54 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 370 matchIndex[2] 369 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 369 rf.lastIncludedTerm 54 rf.commitIndex 369 rf.lastApplied 369
term 54 server 1 AppendEntries true commitIndex:375 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=376
update matchIndex[1]=375
update leader CommitIndex=375
leader log:
[{snapshot 54 369} {902939584973540617 54 370} {8064986162808653251 54 371} {3351324484409948643 54 372} {3353898950547324001 54 373} {7331647963367979242 54 374} {1490186181077879379 54 375}]
------------------------------------------------------
term 54 server 1 not vote for server 0, 任期不够新
term 54 server 0 get outdate rpc reply from server 1
flag 92234 term 54 leader 0 nextIndex[1]: 376  matchIndex[1]: 375
term 54 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 54 leaderCommit: 375 
------------------------------------------------------
flag 84986 term 54 leader 0 nextIndex[2]: 370  matchIndex[2]: 369
term 54 leader 0 sendAppendEntries PrevLogIndex: 369  PrevLogTerm: 54 leaderCommit: 375 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:369 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=376
update matchIndex[2]=375
update leader CommitIndex=375
leader log:
[{snapshot 54 369} {902939584973540617 54 370} {8064986162808653251 54 371} {3351324484409948643 54 372} {3353898950547324001 54 373} {7331647963367979242 54 374} {1490186181077879379 54 375}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:375 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=376
update matchIndex[1]=375
update leader CommitIndex=375
leader log:
[{snapshot 54 369} {902939584973540617 54 370} {8064986162808653251 54 371} {3351324484409948643 54 372} {3353898950547324001 54 373} {7331647963367979242 54 374} {1490186181077879379 54 375}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78162 term 54 leader 0 nextIndex[1]: 376  matchIndex[1]: 375
term 54 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 54 leaderCommit: 375 
------------------------------------------------------
flag 20062 term 54 leader 0 nextIndex[2]: 376  matchIndex[2]: 375
term 54 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 54 leaderCommit: 375 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:375 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=376
update matchIndex[2]=375
update leader CommitIndex=375
leader log:
[{snapshot 54 369} {902939584973540617 54 370} {8064986162808653251 54 371} {3351324484409948643 54 372} {3353898950547324001 54 373} {7331647963367979242 54 374} {1490186181077879379 54 375}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:375 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=376
update matchIndex[1]=375
update leader CommitIndex=375
leader log:
[{snapshot 54 369} {902939584973540617 54 370} {8064986162808653251 54 371} {3351324484409948643 54 372} {3353898950547324001 54 373} {7331647963367979242 54 374} {1490186181077879379 54 375}]
------------------------------------------------------
flag 51149 term 54 leader 0 nextIndex[1]: 376  matchIndex[1]: 375
term 54 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 54 leaderCommit: 375 
------------------------------------------------------
flag 63707 term 54 leader 0 nextIndex[2]: 376  matchIndex[2]: 375
term 54 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 54 leaderCommit: 375 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:375 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=376
update matchIndex[2]=375
update leader CommitIndex=375
leader log:
[{snapshot 54 369} {902939584973540617 54 370} {8064986162808653251 54 371} {3351324484409948643 54 372} {3353898950547324001 54 373} {7331647963367979242 54 374} {1490186181077879379 54 375}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:375 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=376
update matchIndex[1]=375
update leader CommitIndex=375
leader log:
[{snapshot 54 369} {902939584973540617 54 370} {8064986162808653251 54 371} {3351324484409948643 54 372} {3353898950547324001 54 373} {7331647963367979242 54 374} {1490186181077879379 54 375}]
------------------------------------------------------
flag 56000 term 54 leader 0 nextIndex[1]: 376  matchIndex[1]: 375
term 54 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 54 leaderCommit: 375 
------------------------------------------------------
flag 7328 term 54 leader 0 nextIndex[2]: 376  matchIndex[2]: 375
term 54 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 54 leaderCommit: 375 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:375 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=376
update matchIndex[2]=375
update leader CommitIndex=375
leader log:
[{snapshot 54 369} {902939584973540617 54 370} {8064986162808653251 54 371} {3351324484409948643 54 372} {3353898950547324001 54 373} {7331647963367979242 54 374} {1490186181077879379 54 375}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:375 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=376
update matchIndex[1]=375
update leader CommitIndex=375
leader log:
[{snapshot 54 369} {902939584973540617 54 370} {8064986162808653251 54 371} {3351324484409948643 54 372} {3353898950547324001 54 373} {7331647963367979242 54 374} {1490186181077879379 54 375}]
------------------------------------------------------
flag 79699 term 54 leader 0 nextIndex[1]: 376  matchIndex[1]: 375
term 54 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 54 leaderCommit: 375 
------------------------------------------------------
flag 64942 term 54 leader 0 nextIndex[2]: 376  matchIndex[2]: 375
term 54 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 54 leaderCommit: 375 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:375 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:375 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=376
update matchIndex[2]=375
update leader CommitIndex=375
leader log:
[{snapshot 54 369} {902939584973540617 54 370} {8064986162808653251 54 371} {3351324484409948643 54 372} {3353898950547324001 54 373} {7331647963367979242 54 374} {1490186181077879379 54 375}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=376
update matchIndex[1]=375
update leader CommitIndex=375
leader log:
[{snapshot 54 369} {902939584973540617 54 370} {8064986162808653251 54 371} {3351324484409948643 54 372} {3353898950547324001 54 373} {7331647963367979242 54 374} {1490186181077879379 54 375}]
------------------------------------------------------
flag 64469 term 54 leader 0 nextIndex[1]: 376  matchIndex[1]: 375
term 54 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 54 leaderCommit: 375 
------------------------------------------------------
flag 8647 term 54 leader 0 nextIndex[2]: 376  matchIndex[2]: 375
term 54 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 54 leaderCommit: 375 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:375 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=376
update matchIndex[2]=375
update leader CommitIndex=375
leader log:
[{snapshot 54 369} {902939584973540617 54 370} {8064986162808653251 54 371} {3351324484409948643 54 372} {3353898950547324001 54 373} {7331647963367979242 54 374} {1490186181077879379 54 375}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:375 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=376
update matchIndex[1]=375
update leader CommitIndex=375
leader log:
[{snapshot 54 369} {902939584973540617 54 370} {8064986162808653251 54 371} {3351324484409948643 54 372} {3353898950547324001 54 373} {7331647963367979242 54 374} {1490186181077879379 54 375}]
------------------------------------------------------
flag 58118 term 54 leader 0 nextIndex[1]: 376  matchIndex[1]: 375
term 54 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 54 leaderCommit: 375 
------------------------------------------------------
flag 4421 term 54 leader 0 nextIndex[2]: 376  matchIndex[2]: 375
term 54 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 54 leaderCommit: 375 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:375 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=376
update matchIndex[2]=375
update leader CommitIndex=375
leader log:
[{snapshot 54 369} {902939584973540617 54 370} {8064986162808653251 54 371} {3351324484409948643 54 372} {3353898950547324001 54 373} {7331647963367979242 54 374} {1490186181077879379 54 375}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:375 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=376
update matchIndex[1]=375
update leader CommitIndex=375
leader log:
[{snapshot 54 369} {902939584973540617 54 370} {8064986162808653251 54 371} {3351324484409948643 54 372} {3353898950547324001 54 373} {7331647963367979242 54 374} {1490186181077879379 54 375}]
------------------------------------------------------
flag 17897 term 54 leader 0 nextIndex[1]: 376  matchIndex[1]: 375
term 54 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 54 leaderCommit: 375 
------------------------------------------------------
flag 15619 term 54 leader 0 nextIndex[2]: 376  matchIndex[2]: 375
term 54 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 54 leaderCommit: 375 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:375 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=376
update matchIndex[2]=375
update leader CommitIndex=375
leader log:
[{snapshot 54 369} {902939584973540617 54 370} {8064986162808653251 54 371} {3351324484409948643 54 372} {3353898950547324001 54 373} {7331647963367979242 54 374} {1490186181077879379 54 375}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:375 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=376
update matchIndex[1]=375
update leader CommitIndex=375
leader log:
[{snapshot 54 369} {902939584973540617 54 370} {8064986162808653251 54 371} {3351324484409948643 54 372} {3353898950547324001 54 373} {7331647963367979242 54 374} {1490186181077879379 54 375}]
------------------------------------------------------
flag 10967 term 54 leader 0 nextIndex[1]: 376  matchIndex[1]: 375
term 54 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 54 leaderCommit: 375 
------------------------------------------------------
flag 85722 term 54 leader 0 nextIndex[2]: 376  matchIndex[2]: 375
term 54 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 54 leaderCommit: 375 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:375 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=376
term 54 server 2 AppendEntries true commitIndex:375 
------------------------------------------------------
update matchIndex[1]=375
update leader CommitIndex=375
leader log:
[{snapshot 54 369} {902939584973540617 54 370} {8064986162808653251 54 371} {3351324484409948643 54 372} {3353898950547324001 54 373} {7331647963367979242 54 374} {1490186181077879379 54 375}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=376
update matchIndex[2]=375
update leader CommitIndex=375
leader log:
[{snapshot 54 369} {902939584973540617 54 370} {8064986162808653251 54 371} {3351324484409948643 54 372} {3353898950547324001 54 373} {7331647963367979242 54 374} {1490186181077879379 54 375}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6775 term 54 leader 0 nextIndex[1]: 376  matchIndex[1]: 375
term 54 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 54 leaderCommit: 375 
------------------------------------------------------
flag 72750 term 54 leader 0 nextIndex[2]: 376  matchIndex[2]: 375
term 54 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 54 leaderCommit: 375 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:375 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=376
update matchIndex[2]=375
update leader CommitIndex=375
leader log:
[{snapshot 54 369} {902939584973540617 54 370} {8064986162808653251 54 371} {3351324484409948643 54 372} {3353898950547324001 54 373} {7331647963367979242 54 374} {1490186181077879379 54 375}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:375 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=376
update matchIndex[1]=375
update leader CommitIndex=375
leader log:
[{snapshot 54 369} {902939584973540617 54 370} {8064986162808653251 54 371} {3351324484409948643 54 372} {3353898950547324001 54 373} {7331647963367979242 54 374} {1490186181077879379 54 375}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65688 term 54 leader 0 nextIndex[1]: 376  matchIndex[1]: 375
term 54 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 54 leaderCommit: 375 
------------------------------------------------------
flag 26079 term 54 leader 0 nextIndex[2]: 376  matchIndex[2]: 375
term 54 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 54 leaderCommit: 375 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:375 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=376
update matchIndex[2]=375
update leader CommitIndex=375
leader log:
[{snapshot 54 369} {902939584973540617 54 370} {8064986162808653251 54 371} {3351324484409948643 54 372} {3353898950547324001 54 373} {7331647963367979242 54 374} {1490186181077879379 54 375}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:375 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=376
update matchIndex[1]=375
update leader CommitIndex=375
leader log:
[{snapshot 54 369} {902939584973540617 54 370} {8064986162808653251 54 371} {3351324484409948643 54 372} {3353898950547324001 54 373} {7331647963367979242 54 374} {1490186181077879379 54 375}]
------------------------------------------------------
flag 69539 term 54 leader 0 nextIndex[1]: 376  matchIndex[1]: 375
term 54 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 54 leaderCommit: 375 
------------------------------------------------------
flag 66245 term 54 leader 0 nextIndex[2]: 376  matchIndex[2]: 375
term 54 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 54 leaderCommit: 375 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:375 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=376
update matchIndex[2]=375
update leader CommitIndex=375
leader log:
[{snapshot 54 369} {902939584973540617 54 370} {8064986162808653251 54 371} {3351324484409948643 54 372} {3353898950547324001 54 373} {7331647963367979242 54 374} {1490186181077879379 54 375}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:375 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=376
update matchIndex[1]=375
update leader CommitIndex=375
leader log:
[{snapshot 54 369} {902939584973540617 54 370} {8064986162808653251 54 371} {3351324484409948643 54 372} {3353898950547324001 54 373} {7331647963367979242 54 374} {1490186181077879379 54 375}]
------------------------------------------------------
term 54 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 60425 term 54 leader 0 nextIndex[1]: 376  matchIndex[1]: 375
term 54 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 54 leaderCommit: 375 
------------------------------------------------------
flag 14644 term 54 leader 0 nextIndex[2]: 376  matchIndex[2]: 375
term 54 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 54 leaderCommit: 375 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:375 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:375 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=376
update matchIndex[2]=375
update leader CommitIndex=375
leader log:
[{snapshot 54 369} {902939584973540617 54 370} {8064986162808653251 54 371} {3351324484409948643 54 372} {3353898950547324001 54 373} {7331647963367979242 54 374} {1490186181077879379 54 375}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=376
update matchIndex[1]=375
update leader CommitIndex=375
leader log:
[{snapshot 54 369} {902939584973540617 54 370} {8064986162808653251 54 371} {3351324484409948643 54 372} {3353898950547324001 54 373} {7331647963367979242 54 374} {1490186181077879379 54 375}]
------------------------------------------------------
flag 38104 term 54 leader 0 nextIndex[1]: 376  matchIndex[1]: 375
term 54 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 54 leaderCommit: 375 
------------------------------------------------------
flag 41166 term 54 leader 0 nextIndex[2]: 376  matchIndex[2]: 375
term 54 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 54 leaderCommit: 375 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:375 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=376
update matchIndex[2]=375
update leader CommitIndex=375
leader log:
[{snapshot 54 369} {902939584973540617 54 370} {8064986162808653251 54 371} {3351324484409948643 54 372} {3353898950547324001 54 373} {7331647963367979242 54 374} {1490186181077879379 54 375}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:375 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=376
update matchIndex[1]=375
update leader CommitIndex=375
leader log:
[{snapshot 54 369} {902939584973540617 54 370} {8064986162808653251 54 371} {3351324484409948643 54 372} {3353898950547324001 54 373} {7331647963367979242 54 374} {1490186181077879379 54 375}]
------------------------------------------------------
flag 55355 term 54 leader 0 nextIndex[1]: 376  matchIndex[1]: 375
term 54 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 54 leaderCommit: 375 
------------------------------------------------------
flag 62429 term 54 leader 0 nextIndex[2]: 376  matchIndex[2]: 375
term 54 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 54 leaderCommit: 375 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:375 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=376
update matchIndex[2]=375
update leader CommitIndex=375
leader log:
[{snapshot 54 369} {902939584973540617 54 370} {8064986162808653251 54 371} {3351324484409948643 54 372} {3353898950547324001 54 373} {7331647963367979242 54 374} {1490186181077879379 54 375}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:375 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=376
update matchIndex[1]=375
update leader CommitIndex=375
leader log:
[{snapshot 54 369} {902939584973540617 54 370} {8064986162808653251 54 371} {3351324484409948643 54 372} {3353898950547324001 54 373} {7331647963367979242 54 374} {1490186181077879379 54 375}]
------------------------------------------------------
term 54 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 83437 term 54 leader 0 nextIndex[1]: 376  matchIndex[1]: 375
term 54 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 54 leaderCommit: 375 
------------------------------------------------------
flag 84651 term 54 leader 0 nextIndex[2]: 376  matchIndex[2]: 375
term 54 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 54 leaderCommit: 375 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:375 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:375 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=376
update matchIndex[1]=375
update leader CommitIndex=375
leader log:
[{snapshot 54 369} {902939584973540617 54 370} {8064986162808653251 54 371} {3351324484409948643 54 372} {3353898950547324001 54 373} {7331647963367979242 54 374} {1490186181077879379 54 375}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=376
update matchIndex[2]=375
update leader CommitIndex=375
leader log:
[{snapshot 54 369} {902939584973540617 54 370} {8064986162808653251 54 371} {3351324484409948643 54 372} {3353898950547324001 54 373} {7331647963367979242 54 374} {1490186181077879379 54 375}]
------------------------------------------------------
flag 292 term 54 leader 0 nextIndex[1]: 376  matchIndex[1]: 375
term 54 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 54 leaderCommit: 375 
------------------------------------------------------
flag 57512 term 54 leader 0 nextIndex[2]: 376  matchIndex[2]: 375
term 54 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 54 leaderCommit: 375 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:375 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=376
update matchIndex[2]=375
update leader CommitIndex=375
leader log:
[{snapshot 54 369} {902939584973540617 54 370} {8064986162808653251 54 371} {3351324484409948643 54 372} {3353898950547324001 54 373} {7331647963367979242 54 374} {1490186181077879379 54 375}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:375 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=376
update matchIndex[1]=375
update leader CommitIndex=375
leader log:
[{snapshot 54 369} {902939584973540617 54 370} {8064986162808653251 54 371} {3351324484409948643 54 372} {3353898950547324001 54 373} {7331647963367979242 54 374} {1490186181077879379 54 375}]
------------------------------------------------------
term 54 server 2 not vote for server 0, 日志不够新
term 54 server 0 get outdate rpc reply from server 2
flag 7464 term 54 leader 0 nextIndex[1]: 376  matchIndex[1]: 375
term 54 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 54 leaderCommit: 375 
------------------------------------------------------
flag 57168 term 54 leader 0 nextIndex[2]: 376  matchIndex[2]: 375
term 54 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 54 leaderCommit: 375 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:375 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=376
update matchIndex[2]=375
update leader CommitIndex=375
leader log:
[{snapshot 54 369} {902939584973540617 54 370} {8064986162808653251 54 371} {3351324484409948643 54 372} {3353898950547324001 54 373} {7331647963367979242 54 374} {1490186181077879379 54 375}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:375 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=376
update matchIndex[1]=375
update leader CommitIndex=375
leader log:
[{snapshot 54 369} {902939584973540617 54 370} {8064986162808653251 54 371} {3351324484409948643 54 372} {3353898950547324001 54 373} {7331647963367979242 54 374} {1490186181077879379 54 375}]
------------------------------------------------------
flag 91610 term 54 leader 0 nextIndex[1]: 376  matchIndex[1]: 375
term 54 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 54 leaderCommit: 375 
------------------------------------------------------
flag 2094 term 54 leader 0 nextIndex[2]: 376  matchIndex[2]: 375
term 54 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 54 leaderCommit: 375 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:375 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=376
update matchIndex[1]=375
update leader CommitIndex=375
leader log:
[{snapshot 54 369} {902939584973540617 54 370} {8064986162808653251 54 371} {3351324484409948643 54 372} {3353898950547324001 54 373} {7331647963367979242 54 374} {1490186181077879379 54 375}]
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:375 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=376
update matchIndex[2]=375
update leader CommitIndex=375
leader log:
[{snapshot 54 369} {902939584973540617 54 370} {8064986162808653251 54 371} {3351324484409948643 54 372} {3353898950547324001 54 373} {7331647963367979242 54 374} {1490186181077879379 54 375}]
------------------------------------------------------
client write log 4811143877250730305 (index 376) to leader 0
flag 40897 term 54 leader 0 nextIndex[1]: 376  matchIndex[1]: 375
term 54 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 54 leaderCommit: 375 
------------------------------------------------------
flag 77279 term 54 leader 0 nextIndex[2]: 376  matchIndex[2]: 375
term 54 leader 0 sendAppendEntries PrevLogIndex: 375  PrevLogTerm: 54 leaderCommit: 375 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:375 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=377
update matchIndex[2]=376
update leader CommitIndex=376
leader log:
[{snapshot 54 369} {902939584973540617 54 370} {8064986162808653251 54 371} {3351324484409948643 54 372} {3353898950547324001 54 373} {7331647963367979242 54 374} {1490186181077879379 54 375} {4811143877250730305 54 376}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:375 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=377
update matchIndex[1]=376
update leader CommitIndex=376
leader log:
[{snapshot 54 369} {902939584973540617 54 370} {8064986162808653251 54 371} {3351324484409948643 54 372} {3353898950547324001 54 373} {7331647963367979242 54 374} {1490186181077879379 54 375} {4811143877250730305 54 376}]
------------------------------------------------------
flag 53315 term 54 leader 0 nextIndex[1]: 377  matchIndex[1]: 376
term 54 leader 0 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 54 leaderCommit: 376 
------------------------------------------------------
flag 58312 term 54 leader 0 nextIndex[2]: 377  matchIndex[2]: 376
term 54 leader 0 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 54 leaderCommit: 376 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:376 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:376 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=377
update matchIndex[2]=376
update leader CommitIndex=376
leader log:
[{snapshot 54 369} {902939584973540617 54 370} {8064986162808653251 54 371} {3351324484409948643 54 372} {3353898950547324001 54 373} {7331647963367979242 54 374} {1490186181077879379 54 375} {4811143877250730305 54 376}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=377
update matchIndex[1]=376
update leader CommitIndex=376
leader log:
[{snapshot 54 369} {902939584973540617 54 370} {8064986162808653251 54 371} {3351324484409948643 54 372} {3353898950547324001 54 373} {7331647963367979242 54 374} {1490186181077879379 54 375} {4811143877250730305 54 376}]
------------------------------------------------------
flag 48912 term 54 leader 0 nextIndex[1]: 377  matchIndex[1]: 376
term 54 leader 0 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 54 leaderCommit: 376 
------------------------------------------------------
flag 95159 term 54 leader 0 nextIndex[2]: 377  matchIndex[2]: 376
term 54 leader 0 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 54 leaderCommit: 376 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:376 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=377
update matchIndex[2]=376
update leader CommitIndex=376
leader log:
[{snapshot 54 369} {902939584973540617 54 370} {8064986162808653251 54 371} {3351324484409948643 54 372} {3353898950547324001 54 373} {7331647963367979242 54 374} {1490186181077879379 54 375} {4811143877250730305 54 376}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:376 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=377
update matchIndex[1]=376
update leader CommitIndex=376
leader log:
[{snapshot 54 369} {902939584973540617 54 370} {8064986162808653251 54 371} {3351324484409948643 54 372} {3353898950547324001 54 373} {7331647963367979242 54 374} {1490186181077879379 54 375} {4811143877250730305 54 376}]
------------------------------------------------------
flag 10511 term 54 leader 0 nextIndex[1]: 377  matchIndex[1]: 376
term 54 leader 0 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 54 leaderCommit: 376 
------------------------------------------------------
flag 56990 term 54 leader 0 nextIndex[2]: 377  matchIndex[2]: 376
term 54 leader 0 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 54 leaderCommit: 376 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:376 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=377
update matchIndex[1]=376
update leader CommitIndex=376
leader log:
[{snapshot 54 369} {902939584973540617 54 370} {8064986162808653251 54 371} {3351324484409948643 54 372} {3353898950547324001 54 373} {7331647963367979242 54 374} {1490186181077879379 54 375} {4811143877250730305 54 376}]
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:376 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=377
update matchIndex[2]=376
update leader CommitIndex=376
leader log:
[{snapshot 54 369} {902939584973540617 54 370} {8064986162808653251 54 371} {3351324484409948643 54 372} {3353898950547324001 54 373} {7331647963367979242 54 374} {1490186181077879379 54 375} {4811143877250730305 54 376}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 377->376
------------------------------------------------------
flag 51648 term 54 leader 0 nextIndex[1]: 377  matchIndex[1]: 376
term 54 leader 0 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 54 leaderCommit: 376 
------------------------------------------------------
term 54 leader 0 nextIndex[2]: 0  matchIndex[2]: 376
term 54 leader 0 sendInstallSnapshot LastIncludedIndex: 369  LastIncludedTerm: 54
------------------------------------------------------
term 54 server 2 InstallSnapshot fail
rf.commitIndex 376 args.LastIncludedIndex 369
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:376 
------------------------------------------------------
term 54 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 370 matchIndex[2] 369 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=377
update matchIndex[1]=376
update leader CommitIndex=376
leader log:
[{snapshot 54 369} {902939584973540617 54 370} {8064986162808653251 54 371} {3351324484409948643 54 372} {3353898950547324001 54 373} {7331647963367979242 54 374} {1490186181077879379 54 375} {4811143877250730305 54 376}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82326 term 54 leader 0 nextIndex[1]: 377  matchIndex[1]: 376
term 54 leader 0 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 54 leaderCommit: 376 
------------------------------------------------------
flag 23905 term 54 leader 0 nextIndex[2]: 370  matchIndex[2]: 369
term 54 leader 0 sendAppendEntries PrevLogIndex: 369  PrevLogTerm: 54 leaderCommit: 376 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:376 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=377
update matchIndex[2]=376
update leader CommitIndex=376
leader log:
[{snapshot 54 369} {902939584973540617 54 370} {8064986162808653251 54 371} {3351324484409948643 54 372} {3353898950547324001 54 373} {7331647963367979242 54 374} {1490186181077879379 54 375} {4811143877250730305 54 376}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:376 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=377
update matchIndex[1]=376
update leader CommitIndex=376
leader log:
[{snapshot 54 369} {902939584973540617 54 370} {8064986162808653251 54 371} {3351324484409948643 54 372} {3353898950547324001 54 373} {7331647963367979242 54 374} {1490186181077879379 54 375} {4811143877250730305 54 376}]
------------------------------------------------------
flag 82456 term 54 leader 0 nextIndex[1]: 377  matchIndex[1]: 376
term 54 leader 0 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 54 leaderCommit: 376 
------------------------------------------------------
flag 54721 term 54 leader 0 nextIndex[2]: 377  matchIndex[2]: 376
term 54 leader 0 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 54 leaderCommit: 376 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:376 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:376 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=377
update matchIndex[1]=376
update leader CommitIndex=376
leader log:
[{snapshot 54 369} {902939584973540617 54 370} {8064986162808653251 54 371} {3351324484409948643 54 372} {3353898950547324001 54 373} {7331647963367979242 54 374} {1490186181077879379 54 375} {4811143877250730305 54 376}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=377
update matchIndex[2]=376
update leader CommitIndex=376
leader log:
[{snapshot 54 369} {902939584973540617 54 370} {8064986162808653251 54 371} {3351324484409948643 54 372} {3353898950547324001 54 373} {7331647963367979242 54 374} {1490186181077879379 54 375} {4811143877250730305 54 376}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 5416709771410205340 (index 377) to leader 0
flag 53131 term 54 leader 0 nextIndex[1]: 377  matchIndex[1]: 376
term 54 leader 0 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 54 leaderCommit: 376 
------------------------------------------------------
flag 57800 term 54 leader 0 nextIndex[2]: 377  matchIndex[2]: 376
term 54 leader 0 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 54 leaderCommit: 376 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:376 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=378
update matchIndex[2]=377
update leader CommitIndex=377
leader log:
[{snapshot 54 369} {902939584973540617 54 370} {8064986162808653251 54 371} {3351324484409948643 54 372} {3353898950547324001 54 373} {7331647963367979242 54 374} {1490186181077879379 54 375} {4811143877250730305 54 376} {5416709771410205340 54 377}]
------------------------------------------------------
term 54 server 2 not vote for server 0, 任期不够新
term 54 server 0 get outdate rpc reply from server 2
flag 2335 term 54 leader 0 nextIndex[1]: 377  matchIndex[1]: 376
term 54 leader 0 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 54 leaderCommit: 377 
------------------------------------------------------
flag 29403 term 54 leader 0 nextIndex[2]: 378  matchIndex[2]: 377
term 54 leader 0 sendAppendEntries PrevLogIndex: 377  PrevLogTerm: 54 leaderCommit: 377 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:377 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=378
update matchIndex[2]=377
update leader CommitIndex=377
leader log:
[{snapshot 54 369} {902939584973540617 54 370} {8064986162808653251 54 371} {3351324484409948643 54 372} {3353898950547324001 54 373} {7331647963367979242 54 374} {1490186181077879379 54 375} {4811143877250730305 54 376} {5416709771410205340 54 377}]
------------------------------------------------------
client write log 7874540388673467190 (index 378) to leader 0
client write log 8544347568128738803 (index 379) to leader 0
client write log 4069263574225156107 (index 380) to leader 0
client write log 6688821462137289634 (index 381) to leader 0
client write log 4577823905872380532 (index 382) to leader 0
client write log 2890053948673818272 (index 383) to leader 0
client write log 6732924803208925635 (index 384) to leader 0
client write log 6145361864630997476 (index 385) to leader 0
client write log 1023804634978293940 (index 386) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20695 term 54 leader 0 nextIndex[1]: 377  matchIndex[1]: 376
term 54 leader 0 sendAppendEntries PrevLogIndex: 376  PrevLogTerm: 54 leaderCommit: 377 
------------------------------------------------------
flag 60956 term 54 leader 0 nextIndex[2]: 378  matchIndex[2]: 377
term 54 leader 0 sendAppendEntries PrevLogIndex: 377  PrevLogTerm: 54 leaderCommit: 377 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:377 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=387
update matchIndex[2]=386
update leader CommitIndex=386
leader log:
[{snapshot 54 369} {902939584973540617 54 370} {8064986162808653251 54 371} {3351324484409948643 54 372} {3353898950547324001 54 373} {7331647963367979242 54 374} {1490186181077879379 54 375} {4811143877250730305 54 376} {5416709771410205340 54 377} {7874540388673467190 54 378} {8544347568128738803 54 379} {4069263574225156107 54 380} {6688821462137289634 54 381} {4577823905872380532 54 382} {2890053948673818272 54 383} {6732924803208925635 54 384} {6145361864630997476 54 385} {1023804634978293940 54 386}]
------------------------------------------------------
term 54 Server0 start snapshot! index=379
term 54 server0 snapshot success
lastIncludedIndex=379 lastApplied=379 lastIndex=386
-------------------------------------------------------------
term 54 leader 0 nextIndex[1]: 377  matchIndex[1]: 376
term 54 leader 0 sendInstallSnapshot LastIncludedIndex: 379  LastIncludedTerm: 54
------------------------------------------------------
flag 89936 term 54 leader 0 nextIndex[2]: 387  matchIndex[2]: 386
term 54 leader 0 sendAppendEntries PrevLogIndex: 386  PrevLogTerm: 54 leaderCommit: 386 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:386 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=387
update matchIndex[2]=386
update leader CommitIndex=386
leader log:
[{snapshot 54 379} {4069263574225156107 54 380} {6688821462137289634 54 381} {4577823905872380532 54 382} {2890053948673818272 54 383} {6732924803208925635 54 384} {6145361864630997476 54 385} {1023804634978293940 54 386}]
------------------------------------------------------
term 54 Server2 start snapshot! index=379
term 54 server2 snapshot success
lastIncludedIndex=379 lastApplied=380 lastIndex=386
-------------------------------------------------------------
!!!!!!connect server 1
client write log 1860967133640119908 (index 387) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 54 server 2 not vote for server 1, 日志不够新
term 54 server 0 not vote for server 1, 日志不够新
term 56 server 2 vote for server 0
term 56 server 1 vote for server 0
term 56 server 0 get vote from server 2
term 56 server 0 become leader
------------------------------------------------------
term 56 server 0 get outdate rpc reply from server 1
term 56 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 77790 term 56 leader 0 nextIndex[1]: 388  matchIndex[1]: 0
term 56 leader 0 sendAppendEntries PrevLogIndex: 387  PrevLogTerm: 54 leaderCommit: 386 
------------------------------------------------------
flag 18741 term 56 leader 0 nextIndex[2]: 388  matchIndex[2]: 0
term 56 leader 0 sendAppendEntries PrevLogIndex: 387  PrevLogTerm: 54 leaderCommit: 386 
------------------------------------------------------
term 56 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 388->387
------------------------------------------------------
term 56 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 388->387
------------------------------------------------------
term 56 server 2 not vote for server 0, 任期不够新
term 56 server 0 get outdate rpc reply from server 2
term 56 leader 0 nextIndex[1]: 377  matchIndex[1]: 0
term 56 leader 0 sendInstallSnapshot LastIncludedIndex: 379  LastIncludedTerm: 54
------------------------------------------------------
flag 62573 term 56 leader 0 nextIndex[2]: 387  matchIndex[2]: 0
term 56 leader 0 sendAppendEntries PrevLogIndex: 386  PrevLogTerm: 54 leaderCommit: 386 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:386 
------------------------------------------------------
term 56 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=388
update matchIndex[2]=387
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 379 rf.lastIncludedTerm 54 rf.commitIndex 379 rf.lastApplied 379
update leader CommitIndex=386
leader log:
[{snapshot 54 379} {4069263574225156107 54 380} {6688821462137289634 54 381} {4577823905872380532 54 382} {2890053948673818272 54 383} {6732924803208925635 54 384} {6145361864630997476 54 385} {1023804634978293940 54 386} {1860967133640119908 54 387}]
------------------------------------------------------
term 56 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 380 matchIndex[1] 379 
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34785 term 56 leader 0 nextIndex[1]: 380  matchIndex[1]: 379
term 56 leader 0 sendAppendEntries PrevLogIndex: 379  PrevLogTerm: 54 leaderCommit: 386 
------------------------------------------------------
flag 5230 term 56 leader 0 nextIndex[2]: 388  matchIndex[2]: 387
term 56 leader 0 sendAppendEntries PrevLogIndex: 387  PrevLogTerm: 54 leaderCommit: 386 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:386 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=388
update matchIndex[2]=387
update leader CommitIndex=386
leader log:
[{snapshot 54 379} {4069263574225156107 54 380} {6688821462137289634 54 381} {4577823905872380532 54 382} {2890053948673818272 54 383} {6732924803208925635 54 384} {6145361864630997476 54 385} {1023804634978293940 54 386} {1860967133640119908 54 387}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:379 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=388
update matchIndex[1]=387
update leader CommitIndex=386
leader log:
[{snapshot 54 379} {4069263574225156107 54 380} {6688821462137289634 54 381} {4577823905872380532 54 382} {2890053948673818272 54 383} {6732924803208925635 54 384} {6145361864630997476 54 385} {1023804634978293940 54 386} {1860967133640119908 54 387}]
------------------------------------------------------
flag 61966 term 56 leader 0 nextIndex[1]: 388  matchIndex[1]: 387
term 56 leader 0 sendAppendEntries PrevLogIndex: 387  PrevLogTerm: 54 leaderCommit: 386 
------------------------------------------------------
flag 9922 term 56 leader 0 nextIndex[2]: 388  matchIndex[2]: 387
term 56 leader 0 sendAppendEntries PrevLogIndex: 387  PrevLogTerm: 54 leaderCommit: 386 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:386 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:386 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=388
update matchIndex[1]=387
update leader CommitIndex=386
leader log:
[{snapshot 54 379} {4069263574225156107 54 380} {6688821462137289634 54 381} {4577823905872380532 54 382} {2890053948673818272 54 383} {6732924803208925635 54 384} {6145361864630997476 54 385} {1023804634978293940 54 386} {1860967133640119908 54 387}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=388
update matchIndex[2]=387
update leader CommitIndex=386
leader log:
[{snapshot 54 379} {4069263574225156107 54 380} {6688821462137289634 54 381} {4577823905872380532 54 382} {2890053948673818272 54 383} {6732924803208925635 54 384} {6145361864630997476 54 385} {1023804634978293940 54 386} {1860967133640119908 54 387}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94235 term 56 leader 0 nextIndex[1]: 388  matchIndex[1]: 387
term 56 leader 0 sendAppendEntries PrevLogIndex: 387  PrevLogTerm: 54 leaderCommit: 386 
------------------------------------------------------
flag 52510 term 56 leader 0 nextIndex[2]: 388  matchIndex[2]: 387
term 56 leader 0 sendAppendEntries PrevLogIndex: 387  PrevLogTerm: 54 leaderCommit: 386 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:386 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=388
update matchIndex[2]=387
update leader CommitIndex=386
leader log:
[{snapshot 54 379} {4069263574225156107 54 380} {6688821462137289634 54 381} {4577823905872380532 54 382} {2890053948673818272 54 383} {6732924803208925635 54 384} {6145361864630997476 54 385} {1023804634978293940 54 386} {1860967133640119908 54 387}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:386 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=388
update matchIndex[1]=387
update leader CommitIndex=386
leader log:
[{snapshot 54 379} {4069263574225156107 54 380} {6688821462137289634 54 381} {4577823905872380532 54 382} {2890053948673818272 54 383} {6732924803208925635 54 384} {6145361864630997476 54 385} {1023804634978293940 54 386} {1860967133640119908 54 387}]
------------------------------------------------------
flag 63036 term 56 leader 0 nextIndex[1]: 388  matchIndex[1]: 387
term 56 leader 0 sendAppendEntries PrevLogIndex: 387  PrevLogTerm: 54 leaderCommit: 386 
------------------------------------------------------
flag 24707 term 56 leader 0 nextIndex[2]: 388  matchIndex[2]: 387
term 56 leader 0 sendAppendEntries PrevLogIndex: 387  PrevLogTerm: 54 leaderCommit: 386 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:386 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=388
update matchIndex[2]=387
update leader CommitIndex=386
leader log:
[{snapshot 54 379} {4069263574225156107 54 380} {6688821462137289634 54 381} {4577823905872380532 54 382} {2890053948673818272 54 383} {6732924803208925635 54 384} {6145361864630997476 54 385} {1023804634978293940 54 386} {1860967133640119908 54 387}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:386 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=388
update matchIndex[1]=387
update leader CommitIndex=386
leader log:
[{snapshot 54 379} {4069263574225156107 54 380} {6688821462137289634 54 381} {4577823905872380532 54 382} {2890053948673818272 54 383} {6732924803208925635 54 384} {6145361864630997476 54 385} {1023804634978293940 54 386} {1860967133640119908 54 387}]
------------------------------------------------------
flag 42383 term 56 leader 0 nextIndex[1]: 388  matchIndex[1]: 387
term 56 leader 0 sendAppendEntries PrevLogIndex: 387  PrevLogTerm: 54 leaderCommit: 386 
------------------------------------------------------
flag 31166 term 56 leader 0 nextIndex[2]: 388  matchIndex[2]: 387
term 56 leader 0 sendAppendEntries PrevLogIndex: 387  PrevLogTerm: 54 leaderCommit: 386 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:386 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=388
update matchIndex[2]=387
update leader CommitIndex=386
leader log:
[{snapshot 54 379} {4069263574225156107 54 380} {6688821462137289634 54 381} {4577823905872380532 54 382} {2890053948673818272 54 383} {6732924803208925635 54 384} {6145361864630997476 54 385} {1023804634978293940 54 386} {1860967133640119908 54 387}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:386 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=388
update matchIndex[1]=387
update leader CommitIndex=386
leader log:
[{snapshot 54 379} {4069263574225156107 54 380} {6688821462137289634 54 381} {4577823905872380532 54 382} {2890053948673818272 54 383} {6732924803208925635 54 384} {6145361864630997476 54 385} {1023804634978293940 54 386} {1860967133640119908 54 387}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 56 server 1 not vote for server 0, 任期不够新
term 56 server 0 get outdate rpc reply from server 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9738 term 56 leader 0 nextIndex[1]: 388  matchIndex[1]: 387
term 56 leader 0 sendAppendEntries PrevLogIndex: 387  PrevLogTerm: 54 leaderCommit: 386 
------------------------------------------------------
flag 24661 term 56 leader 0 nextIndex[2]: 388  matchIndex[2]: 387
term 56 leader 0 sendAppendEntries PrevLogIndex: 387  PrevLogTerm: 54 leaderCommit: 386 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:386 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=388
update matchIndex[2]=387
update leader CommitIndex=386
leader log:
[{snapshot 54 379} {4069263574225156107 54 380} {6688821462137289634 54 381} {4577823905872380532 54 382} {2890053948673818272 54 383} {6732924803208925635 54 384} {6145361864630997476 54 385} {1023804634978293940 54 386} {1860967133640119908 54 387}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:386 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=388
update matchIndex[1]=387
update leader CommitIndex=386
leader log:
[{snapshot 54 379} {4069263574225156107 54 380} {6688821462137289634 54 381} {4577823905872380532 54 382} {2890053948673818272 54 383} {6732924803208925635 54 384} {6145361864630997476 54 385} {1023804634978293940 54 386} {1860967133640119908 54 387}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26189 term 56 leader 0 nextIndex[1]: 388  matchIndex[1]: 387
term 56 leader 0 sendAppendEntries PrevLogIndex: 387  PrevLogTerm: 54 leaderCommit: 386 
------------------------------------------------------
flag 8279 term 56 leader 0 nextIndex[2]: 388  matchIndex[2]: 387
term 56 leader 0 sendAppendEntries PrevLogIndex: 387  PrevLogTerm: 54 leaderCommit: 386 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:386 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:386 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=388
update matchIndex[2]=387
update leader CommitIndex=386
leader log:
[{snapshot 54 379} {4069263574225156107 54 380} {6688821462137289634 54 381} {4577823905872380532 54 382} {2890053948673818272 54 383} {6732924803208925635 54 384} {6145361864630997476 54 385} {1023804634978293940 54 386} {1860967133640119908 54 387}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=388
update matchIndex[1]=387
update leader CommitIndex=386
leader log:
[{snapshot 54 379} {4069263574225156107 54 380} {6688821462137289634 54 381} {4577823905872380532 54 382} {2890053948673818272 54 383} {6732924803208925635 54 384} {6145361864630997476 54 385} {1023804634978293940 54 386} {1860967133640119908 54 387}]
------------------------------------------------------
flag 65902 term 56 leader 0 nextIndex[1]: 388  matchIndex[1]: 387
term 56 leader 0 sendAppendEntries PrevLogIndex: 387  PrevLogTerm: 54 leaderCommit: 386 
------------------------------------------------------
flag 77998 term 56 leader 0 nextIndex[2]: 388  matchIndex[2]: 387
term 56 leader 0 sendAppendEntries PrevLogIndex: 387  PrevLogTerm: 54 leaderCommit: 386 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:386 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=388
update matchIndex[2]=387
update leader CommitIndex=386
leader log:
[{snapshot 54 379} {4069263574225156107 54 380} {6688821462137289634 54 381} {4577823905872380532 54 382} {2890053948673818272 54 383} {6732924803208925635 54 384} {6145361864630997476 54 385} {1023804634978293940 54 386} {1860967133640119908 54 387}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:386 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=388
update matchIndex[1]=387
update leader CommitIndex=386
leader log:
[{snapshot 54 379} {4069263574225156107 54 380} {6688821462137289634 54 381} {4577823905872380532 54 382} {2890053948673818272 54 383} {6732924803208925635 54 384} {6145361864630997476 54 385} {1023804634978293940 54 386} {1860967133640119908 54 387}]
------------------------------------------------------
term 56 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20490 term 56 leader 0 nextIndex[1]: 388  matchIndex[1]: 387
term 56 leader 0 sendAppendEntries PrevLogIndex: 387  PrevLogTerm: 54 leaderCommit: 386 
------------------------------------------------------
flag 1948 term 56 leader 0 nextIndex[2]: 388  matchIndex[2]: 387
term 56 leader 0 sendAppendEntries PrevLogIndex: 387  PrevLogTerm: 54 leaderCommit: 386 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:386 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=388
update matchIndex[2]=387
update leader CommitIndex=386
leader log:
[{snapshot 54 379} {4069263574225156107 54 380} {6688821462137289634 54 381} {4577823905872380532 54 382} {2890053948673818272 54 383} {6732924803208925635 54 384} {6145361864630997476 54 385} {1023804634978293940 54 386} {1860967133640119908 54 387}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:386 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=388
update matchIndex[1]=387
update leader CommitIndex=386
leader log:
[{snapshot 54 379} {4069263574225156107 54 380} {6688821462137289634 54 381} {4577823905872380532 54 382} {2890053948673818272 54 383} {6732924803208925635 54 384} {6145361864630997476 54 385} {1023804634978293940 54 386} {1860967133640119908 54 387}]
------------------------------------------------------
flag 7569 term 56 leader 0 nextIndex[1]: 388  matchIndex[1]: 387
term 56 leader 0 sendAppendEntries PrevLogIndex: 387  PrevLogTerm: 54 leaderCommit: 386 
------------------------------------------------------
flag 40766 term 56 leader 0 nextIndex[2]: 388  matchIndex[2]: 387
term 56 leader 0 sendAppendEntries PrevLogIndex: 387  PrevLogTerm: 54 leaderCommit: 386 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:386 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=388
update matchIndex[2]=387
update leader CommitIndex=386
leader log:
[{snapshot 54 379} {4069263574225156107 54 380} {6688821462137289634 54 381} {4577823905872380532 54 382} {2890053948673818272 54 383} {6732924803208925635 54 384} {6145361864630997476 54 385} {1023804634978293940 54 386} {1860967133640119908 54 387}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:386 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=388
update matchIndex[1]=387
update leader CommitIndex=386
leader log:
[{snapshot 54 379} {4069263574225156107 54 380} {6688821462137289634 54 381} {4577823905872380532 54 382} {2890053948673818272 54 383} {6732924803208925635 54 384} {6145361864630997476 54 385} {1023804634978293940 54 386} {1860967133640119908 54 387}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14070 term 56 leader 0 nextIndex[1]: 388  matchIndex[1]: 387
term 56 leader 0 sendAppendEntries PrevLogIndex: 387  PrevLogTerm: 54 leaderCommit: 386 
------------------------------------------------------
flag 80448 term 56 leader 0 nextIndex[2]: 388  matchIndex[2]: 387
term 56 leader 0 sendAppendEntries PrevLogIndex: 387  PrevLogTerm: 54 leaderCommit: 386 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:386 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=388
update matchIndex[2]=387
update leader CommitIndex=386
leader log:
[{snapshot 54 379} {4069263574225156107 54 380} {6688821462137289634 54 381} {4577823905872380532 54 382} {2890053948673818272 54 383} {6732924803208925635 54 384} {6145361864630997476 54 385} {1023804634978293940 54 386} {1860967133640119908 54 387}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:386 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=388
update matchIndex[1]=387
update leader CommitIndex=386
leader log:
[{snapshot 54 379} {4069263574225156107 54 380} {6688821462137289634 54 381} {4577823905872380532 54 382} {2890053948673818272 54 383} {6732924803208925635 54 384} {6145361864630997476 54 385} {1023804634978293940 54 386} {1860967133640119908 54 387}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45240 term 56 leader 0 nextIndex[1]: 388  matchIndex[1]: 387
term 56 leader 0 sendAppendEntries PrevLogIndex: 387  PrevLogTerm: 54 leaderCommit: 386 
------------------------------------------------------
flag 60896 term 56 leader 0 nextIndex[2]: 388  matchIndex[2]: 387
term 56 leader 0 sendAppendEntries PrevLogIndex: 387  PrevLogTerm: 54 leaderCommit: 386 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:386 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=388
update matchIndex[2]=387
update leader CommitIndex=386
leader log:
[{snapshot 54 379} {4069263574225156107 54 380} {6688821462137289634 54 381} {4577823905872380532 54 382} {2890053948673818272 54 383} {6732924803208925635 54 384} {6145361864630997476 54 385} {1023804634978293940 54 386} {1860967133640119908 54 387}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:386 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=388
update matchIndex[1]=387
update leader CommitIndex=386
leader log:
[{snapshot 54 379} {4069263574225156107 54 380} {6688821462137289634 54 381} {4577823905872380532 54 382} {2890053948673818272 54 383} {6732924803208925635 54 384} {6145361864630997476 54 385} {1023804634978293940 54 386} {1860967133640119908 54 387}]
------------------------------------------------------
flag 57900 term 56 leader 0 nextIndex[1]: 388  matchIndex[1]: 387
term 56 leader 0 sendAppendEntries PrevLogIndex: 387  PrevLogTerm: 54 leaderCommit: 386 
------------------------------------------------------
flag 85815 term 56 leader 0 nextIndex[2]: 388  matchIndex[2]: 387
term 56 leader 0 sendAppendEntries PrevLogIndex: 387  PrevLogTerm: 54 leaderCommit: 386 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:386 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:386 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=388
update matchIndex[2]=387
update leader CommitIndex=386
leader log:
[{snapshot 54 379} {4069263574225156107 54 380} {6688821462137289634 54 381} {4577823905872380532 54 382} {2890053948673818272 54 383} {6732924803208925635 54 384} {6145361864630997476 54 385} {1023804634978293940 54 386} {1860967133640119908 54 387}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=388
update matchIndex[1]=387
update leader CommitIndex=386
leader log:
[{snapshot 54 379} {4069263574225156107 54 380} {6688821462137289634 54 381} {4577823905872380532 54 382} {2890053948673818272 54 383} {6732924803208925635 54 384} {6145361864630997476 54 385} {1023804634978293940 54 386} {1860967133640119908 54 387}]
------------------------------------------------------
flag 58477 term 56 leader 0 nextIndex[1]: 388  matchIndex[1]: 387
term 56 leader 0 sendAppendEntries PrevLogIndex: 387  PrevLogTerm: 54 leaderCommit: 386 
------------------------------------------------------
flag 34735 term 56 leader 0 nextIndex[2]: 388  matchIndex[2]: 387
term 56 leader 0 sendAppendEntries PrevLogIndex: 387  PrevLogTerm: 54 leaderCommit: 386 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:386 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=388
update matchIndex[2]=387
update leader CommitIndex=386
leader log:
[{snapshot 54 379} {4069263574225156107 54 380} {6688821462137289634 54 381} {4577823905872380532 54 382} {2890053948673818272 54 383} {6732924803208925635 54 384} {6145361864630997476 54 385} {1023804634978293940 54 386} {1860967133640119908 54 387}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:386 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=388
update matchIndex[1]=387
update leader CommitIndex=386
leader log:
[{snapshot 54 379} {4069263574225156107 54 380} {6688821462137289634 54 381} {4577823905872380532 54 382} {2890053948673818272 54 383} {6732924803208925635 54 384} {6145361864630997476 54 385} {1023804634978293940 54 386} {1860967133640119908 54 387}]
------------------------------------------------------
flag 60964 term 56 leader 0 nextIndex[1]: 388  matchIndex[1]: 387
term 56 leader 0 sendAppendEntries PrevLogIndex: 387  PrevLogTerm: 54 leaderCommit: 386 
------------------------------------------------------
flag 56682 term 56 leader 0 nextIndex[2]: 388  matchIndex[2]: 387
term 56 leader 0 sendAppendEntries PrevLogIndex: 387  PrevLogTerm: 54 leaderCommit: 386 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:386 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=388
update matchIndex[2]=387
update leader CommitIndex=386
leader log:
[{snapshot 54 379} {4069263574225156107 54 380} {6688821462137289634 54 381} {4577823905872380532 54 382} {2890053948673818272 54 383} {6732924803208925635 54 384} {6145361864630997476 54 385} {1023804634978293940 54 386} {1860967133640119908 54 387}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:386 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=388
update matchIndex[1]=387
update leader CommitIndex=386
leader log:
[{snapshot 54 379} {4069263574225156107 54 380} {6688821462137289634 54 381} {4577823905872380532 54 382} {2890053948673818272 54 383} {6732924803208925635 54 384} {6145361864630997476 54 385} {1023804634978293940 54 386} {1860967133640119908 54 387}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43916 term 56 leader 0 nextIndex[1]: 388  matchIndex[1]: 387
term 56 leader 0 sendAppendEntries PrevLogIndex: 387  PrevLogTerm: 54 leaderCommit: 386 
------------------------------------------------------
flag 24136 term 56 leader 0 nextIndex[2]: 388  matchIndex[2]: 387
term 56 leader 0 sendAppendEntries PrevLogIndex: 387  PrevLogTerm: 54 leaderCommit: 386 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:386 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:386 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=388
update matchIndex[2]=387
update leader CommitIndex=386
leader log:
[{snapshot 54 379} {4069263574225156107 54 380} {6688821462137289634 54 381} {4577823905872380532 54 382} {2890053948673818272 54 383} {6732924803208925635 54 384} {6145361864630997476 54 385} {1023804634978293940 54 386} {1860967133640119908 54 387}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=388
update matchIndex[1]=387
update leader CommitIndex=386
leader log:
[{snapshot 54 379} {4069263574225156107 54 380} {6688821462137289634 54 381} {4577823905872380532 54 382} {2890053948673818272 54 383} {6732924803208925635 54 384} {6145361864630997476 54 385} {1023804634978293940 54 386} {1860967133640119908 54 387}]
------------------------------------------------------
flag 83671 term 56 leader 0 nextIndex[1]: 388  matchIndex[1]: 387
term 56 leader 0 sendAppendEntries PrevLogIndex: 387  PrevLogTerm: 54 leaderCommit: 386 
------------------------------------------------------
flag 62516 term 56 leader 0 nextIndex[2]: 388  matchIndex[2]: 387
term 56 leader 0 sendAppendEntries PrevLogIndex: 387  PrevLogTerm: 54 leaderCommit: 386 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:386 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:386 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=388
update matchIndex[2]=387
update leader CommitIndex=386
leader log:
[{snapshot 54 379} {4069263574225156107 54 380} {6688821462137289634 54 381} {4577823905872380532 54 382} {2890053948673818272 54 383} {6732924803208925635 54 384} {6145361864630997476 54 385} {1023804634978293940 54 386} {1860967133640119908 54 387}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=388
update matchIndex[1]=387
update leader CommitIndex=386
leader log:
[{snapshot 54 379} {4069263574225156107 54 380} {6688821462137289634 54 381} {4577823905872380532 54 382} {2890053948673818272 54 383} {6732924803208925635 54 384} {6145361864630997476 54 385} {1023804634978293940 54 386} {1860967133640119908 54 387}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 56 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
client write log 1860967133640119908 (index 388) to leader 0
flag 23646 term 56 leader 0 nextIndex[1]: 388  matchIndex[1]: 387
term 56 leader 0 sendAppendEntries PrevLogIndex: 387  PrevLogTerm: 54 leaderCommit: 386 
------------------------------------------------------
flag 79462 term 56 leader 0 nextIndex[2]: 388  matchIndex[2]: 387
term 56 leader 0 sendAppendEntries PrevLogIndex: 387  PrevLogTerm: 54 leaderCommit: 386 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:386 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=389
update matchIndex[2]=388
update leader CommitIndex=388
leader log:
[{snapshot 54 379} {4069263574225156107 54 380} {6688821462137289634 54 381} {4577823905872380532 54 382} {2890053948673818272 54 383} {6732924803208925635 54 384} {6145361864630997476 54 385} {1023804634978293940 54 386} {1860967133640119908 54 387} {1860967133640119908 56 388}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:386 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=389
update matchIndex[1]=388
update leader CommitIndex=388
leader log:
[{snapshot 54 379} {4069263574225156107 54 380} {6688821462137289634 54 381} {4577823905872380532 54 382} {2890053948673818272 54 383} {6732924803208925635 54 384} {6145361864630997476 54 385} {1023804634978293940 54 386} {1860967133640119908 54 387} {1860967133640119908 56 388}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40959 term 56 leader 0 nextIndex[1]: 389  matchIndex[1]: 388
term 56 leader 0 sendAppendEntries PrevLogIndex: 388  PrevLogTerm: 56 leaderCommit: 388 
------------------------------------------------------
flag 96783 term 56 leader 0 nextIndex[2]: 389  matchIndex[2]: 388
term 56 leader 0 sendAppendEntries PrevLogIndex: 388  PrevLogTerm: 56 leaderCommit: 388 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:388 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=389
update matchIndex[2]=388
update leader CommitIndex=388
leader log:
[{snapshot 54 379} {4069263574225156107 54 380} {6688821462137289634 54 381} {4577823905872380532 54 382} {2890053948673818272 54 383} {6732924803208925635 54 384} {6145361864630997476 54 385} {1023804634978293940 54 386} {1860967133640119908 54 387} {1860967133640119908 56 388}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:388 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=389
update matchIndex[1]=388
update leader CommitIndex=388
leader log:
[{snapshot 54 379} {4069263574225156107 54 380} {6688821462137289634 54 381} {4577823905872380532 54 382} {2890053948673818272 54 383} {6732924803208925635 54 384} {6145361864630997476 54 385} {1023804634978293940 54 386} {1860967133640119908 54 387} {1860967133640119908 56 388}]
------------------------------------------------------
flag 51231 term 56 leader 0 nextIndex[1]: 389  matchIndex[1]: 388
term 56 leader 0 sendAppendEntries PrevLogIndex: 388  PrevLogTerm: 56 leaderCommit: 388 
------------------------------------------------------
flag 8878 term 56 leader 0 nextIndex[2]: 389  matchIndex[2]: 388
term 56 leader 0 sendAppendEntries PrevLogIndex: 388  PrevLogTerm: 56 leaderCommit: 388 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:388 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=389
update matchIndex[2]=388
update leader CommitIndex=388
leader log:
[{snapshot 54 379} {4069263574225156107 54 380} {6688821462137289634 54 381} {4577823905872380532 54 382} {2890053948673818272 54 383} {6732924803208925635 54 384} {6145361864630997476 54 385} {1023804634978293940 54 386} {1860967133640119908 54 387} {1860967133640119908 56 388}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:388 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=389
update matchIndex[1]=388
update leader CommitIndex=388
leader log:
[{snapshot 54 379} {4069263574225156107 54 380} {6688821462137289634 54 381} {4577823905872380532 54 382} {2890053948673818272 54 383} {6732924803208925635 54 384} {6145361864630997476 54 385} {1023804634978293940 54 386} {1860967133640119908 54 387} {1860967133640119908 56 388}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85438 term 56 leader 0 nextIndex[1]: 389  matchIndex[1]: 388
term 56 leader 0 sendAppendEntries PrevLogIndex: 388  PrevLogTerm: 56 leaderCommit: 388 
------------------------------------------------------
flag 29565 term 56 leader 0 nextIndex[2]: 389  matchIndex[2]: 388
term 56 leader 0 sendAppendEntries PrevLogIndex: 388  PrevLogTerm: 56 leaderCommit: 388 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:388 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=389
update matchIndex[2]=388
update leader CommitIndex=388
leader log:
[{snapshot 54 379} {4069263574225156107 54 380} {6688821462137289634 54 381} {4577823905872380532 54 382} {2890053948673818272 54 383} {6732924803208925635 54 384} {6145361864630997476 54 385} {1023804634978293940 54 386} {1860967133640119908 54 387} {1860967133640119908 56 388}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:388 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=389
update matchIndex[1]=388
update leader CommitIndex=388
leader log:
[{snapshot 54 379} {4069263574225156107 54 380} {6688821462137289634 54 381} {4577823905872380532 54 382} {2890053948673818272 54 383} {6732924803208925635 54 384} {6145361864630997476 54 385} {1023804634978293940 54 386} {1860967133640119908 54 387} {1860967133640119908 56 388}]
------------------------------------------------------
flag 94897 term 56 leader 0 nextIndex[1]: 389  matchIndex[1]: 388
term 56 leader 0 sendAppendEntries PrevLogIndex: 388  PrevLogTerm: 56 leaderCommit: 388 
------------------------------------------------------
flag 19752 term 56 leader 0 nextIndex[2]: 389  matchIndex[2]: 388
term 56 leader 0 sendAppendEntries PrevLogIndex: 388  PrevLogTerm: 56 leaderCommit: 388 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:388 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=389
update matchIndex[2]=388
update leader CommitIndex=388
leader log:
[{snapshot 54 379} {4069263574225156107 54 380} {6688821462137289634 54 381} {4577823905872380532 54 382} {2890053948673818272 54 383} {6732924803208925635 54 384} {6145361864630997476 54 385} {1023804634978293940 54 386} {1860967133640119908 54 387} {1860967133640119908 56 388}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:388 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=389
update matchIndex[1]=388
update leader CommitIndex=388
leader log:
[{snapshot 54 379} {4069263574225156107 54 380} {6688821462137289634 54 381} {4577823905872380532 54 382} {2890053948673818272 54 383} {6732924803208925635 54 384} {6145361864630997476 54 385} {1023804634978293940 54 386} {1860967133640119908 54 387} {1860967133640119908 56 388}]
------------------------------------------------------
flag 97437 term 56 leader 0 nextIndex[1]: 389  matchIndex[1]: 388
term 56 leader 0 sendAppendEntries PrevLogIndex: 388  PrevLogTerm: 56 leaderCommit: 388 
------------------------------------------------------
flag 56085 term 56 leader 0 nextIndex[2]: 389  matchIndex[2]: 388
term 56 leader 0 sendAppendEntries PrevLogIndex: 388  PrevLogTerm: 56 leaderCommit: 388 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:388 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:388 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=389
update matchIndex[2]=388
update leader CommitIndex=388
leader log:
[{snapshot 54 379} {4069263574225156107 54 380} {6688821462137289634 54 381} {4577823905872380532 54 382} {2890053948673818272 54 383} {6732924803208925635 54 384} {6145361864630997476 54 385} {1023804634978293940 54 386} {1860967133640119908 54 387} {1860967133640119908 56 388}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=389
update matchIndex[1]=388
update leader CommitIndex=388
leader log:
[{snapshot 54 379} {4069263574225156107 54 380} {6688821462137289634 54 381} {4577823905872380532 54 382} {2890053948673818272 54 383} {6732924803208925635 54 384} {6145361864630997476 54 385} {1023804634978293940 54 386} {1860967133640119908 54 387} {1860967133640119908 56 388}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
  ... Passed --  70.6  3 1653  820766  388
--- PASS: TestSnapshotInstall2D (70.56s)
PASS
